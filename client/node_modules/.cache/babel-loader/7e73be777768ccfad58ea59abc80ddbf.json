{"ast":null,"code":"import { Encoding } from './encoding';\nimport inArray from '../../common/in-array';\nvar numberRegex = /^\\d+$/;\nvar extend = Object.assign;\nexport var Postnet = function (Encoding) {\n  function Postnet() {\n    Encoding.apply(this, arguments);\n  }\n\n  if (Encoding) Postnet.__proto__ = Encoding;\n  Postnet.prototype = Object.create(Encoding && Encoding.prototype);\n  Postnet.prototype.constructor = Postnet;\n\n  Postnet.prototype.initProperties = function initProperties() {\n    Encoding.prototype.initProperties.call(this);\n    extend(this, {\n      name: \"Postnet\",\n      START: \"2\",\n      VALID_CODE_LENGTHS: [5, 9, 11],\n      DIGIT_SEPARATOR: \"-\",\n      characterMap: [\"22111\", \"11122\", \"11212\", \"11221\", \"12112\", \"12121\", \"12211\", \"21112\", \"21121\", \"21211\"]\n    });\n  };\n\n  Postnet.prototype.initValue = function initValue(value, width, height) {\n    this.height = height;\n    this.width = width;\n    this.baseHeight = height / 2;\n    this.value = value.replace(new RegExp(this.DIGIT_SEPARATOR, \"g\"), \"\");\n    this.pattern = [];\n    this.validate(this.value);\n    this.checkSum = 0;\n    this.setBaseUnit();\n  };\n\n  Postnet.prototype.addData = function addData() {\n    var this$1 = this;\n    var value = this.value;\n    this.addPattern(this.START);\n\n    for (var i = 0; i < value.length; i++) {\n      this$1.addCharacter(value.charAt(i));\n    }\n\n    if (this.options.addCheckSum) {\n      this.addCheckSum();\n    }\n\n    this.addPattern(this.START);\n    this.pattern.pop();\n  };\n\n  Postnet.prototype.addCharacter = function addCharacter(character) {\n    var pattern = this.characterMap[character];\n    this.checkSum += parseInt(character, 10);\n    this.addPattern(pattern);\n  };\n\n  Postnet.prototype.addCheckSum = function addCheckSum() {\n    this.checksum = (10 - this.checkSum % 10) % 10;\n    this.addCharacter(this.checksum);\n  };\n\n  Postnet.prototype.setBaseUnit = function setBaseUnit() {\n    var startStopLength = 3;\n    this.baseUnit = this.width / ((this.value.length + 1) * 10 + startStopLength + this.quietZoneLength);\n  };\n\n  Postnet.prototype.validate = function validate(value) {\n    if (!numberRegex.test(value)) {\n      this.invalidCharacterError(value.match(/[^0-9]/)[0]);\n    }\n\n    if (!inArray(value.length, this.VALID_CODE_LENGTHS)) {\n      throw new Error(\"Invalid value length. Valid lengths for the Postnet symbology are \" + this.VALID_CODE_LENGTHS.join(\",\") + \".\");\n    }\n  };\n\n  Postnet.prototype.addPattern = function addPattern(pattern) {\n    var this$1 = this;\n    var y1;\n\n    for (var i = 0; i < pattern.length; i++) {\n      y1 = this$1.height - this$1.baseHeight * pattern.charAt(i);\n      this$1.pattern.push({\n        width: 1,\n        y1: y1,\n        y2: this$1.height\n      });\n      this$1.pattern.push(1);\n    }\n  };\n\n  return Postnet;\n}(Encoding);","map":{"version":3,"sources":["/home/meryem/repos/Movie_Trend_Visualizer/client/node_modules/@progress/kendo-charts/dist/es/barcode/encodings/postnet.js"],"names":["Encoding","inArray","numberRegex","extend","Object","assign","Postnet","apply","arguments","__proto__","prototype","create","constructor","initProperties","call","name","START","VALID_CODE_LENGTHS","DIGIT_SEPARATOR","characterMap","initValue","value","width","height","baseHeight","replace","RegExp","pattern","validate","checkSum","setBaseUnit","addData","this$1","addPattern","i","length","addCharacter","charAt","options","addCheckSum","pop","character","parseInt","checksum","startStopLength","baseUnit","quietZoneLength","test","invalidCharacterError","match","Error","join","y1","push","y2"],"mappings":"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","sourcesContent":["import { Encoding } from './encoding';\nimport inArray from '../../common/in-array';\n\nvar numberRegex = /^\\d+$/;\nvar extend = Object.assign;\n\nexport var Postnet = (function (Encoding) {\n    function Postnet () {\n        Encoding.apply(this, arguments);\n    }\n\n    if ( Encoding ) Postnet.__proto__ = Encoding;\n    Postnet.prototype = Object.create( Encoding && Encoding.prototype );\n    Postnet.prototype.constructor = Postnet;\n\n    Postnet.prototype.initProperties = function initProperties () {\n        Encoding.prototype.initProperties.call(this);\n\n        extend(this, {\n            name: \"Postnet\",\n            START: \"2\",\n            VALID_CODE_LENGTHS: [5, 9, 11],\n            DIGIT_SEPARATOR: \"-\",\n            characterMap: [\"22111\", \"11122\", \"11212\", \"11221\", \"12112\", \"12121\", \"12211\", \"21112\", \"21121\", \"21211\"]\n        });\n    };\n\n    Postnet.prototype.initValue = function initValue (value, width, height) {\n        this.height = height;\n        this.width = width;\n        this.baseHeight = height / 2;\n        this.value = value.replace(new RegExp(this.DIGIT_SEPARATOR, \"g\"), \"\");\n        this.pattern = [];\n        this.validate(this.value);\n        this.checkSum = 0;\n        this.setBaseUnit();\n    };\n\n    Postnet.prototype.addData = function addData () {\n        var this$1 = this;\n\n        var value = this.value;\n\n        this.addPattern(this.START);\n\n        for (var i = 0; i < value.length; i++) {\n            this$1.addCharacter(value.charAt(i));\n        }\n\n        if (this.options.addCheckSum) {\n            this.addCheckSum();\n        }\n\n        this.addPattern(this.START);\n        this.pattern.pop();\n    };\n\n    Postnet.prototype.addCharacter = function addCharacter (character) {\n        var pattern = this.characterMap[character];\n        this.checkSum += parseInt(character, 10);\n        this.addPattern(pattern);\n    };\n\n    Postnet.prototype.addCheckSum = function addCheckSum () {\n        this.checksum = (10 - (this.checkSum % 10)) % 10;\n        this.addCharacter(this.checksum);\n    };\n\n    Postnet.prototype.setBaseUnit = function setBaseUnit () {\n        var startStopLength = 3;\n\n        this.baseUnit = this.width / ((this.value.length + 1) * 10 + startStopLength + this.quietZoneLength);\n    };\n\n    Postnet.prototype.validate = function validate (value) {\n        if (!numberRegex.test(value)) {\n            this.invalidCharacterError(value.match(/[^0-9]/)[0]);\n        }\n\n        if (!inArray(value.length, this.VALID_CODE_LENGTHS)) {\n            throw new Error(\"Invalid value length. Valid lengths for the Postnet symbology are \" + this.VALID_CODE_LENGTHS.join(\",\") + \".\");\n        }\n    };\n\n    Postnet.prototype.addPattern = function addPattern (pattern) {\n        var this$1 = this;\n\n        var y1;\n\n        for (var i = 0; i < pattern.length; i++) {\n            y1 = this$1.height - this$1.baseHeight * pattern.charAt(i);\n            this$1.pattern.push({ width: 1, y1: y1, y2: this$1.height });\n            this$1.pattern.push(1);\n        }\n    };\n\n    return Postnet;\n}(Encoding));\n"]},"metadata":{},"sourceType":"module"}