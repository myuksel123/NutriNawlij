{"ast":null,"code":"var _jsxFileName = \"/home/meryem/repos/NutriNear2/client/src/pages/Catalog.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Catalog = props => {\n  _s();\n\n  //post data to SQL?\n  const [data, setData] = useState([]);\n  const [results, setResults] = useState([]);\n  console.log(JSON.stringify(props.location.state));\n  useEffect(() => {\n    fetch('/data', {\n      method: 'post',\n      body: JSON.stringify(props.location.state),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    }).then(res => res.json()).then(data => setData(data));\n  }, []);\n  console.log(data);\n  let countfood = 0;\n  let previous = \"\";\n  let nutritiousinfo = [];\n  let nutritionamount = [];\n  let nutritionunit = [];\n  let string = ``;\n\n  for (let i = 0; i < data.rowCount; i++) {\n    if (i == 0 || data.rows[i].description == previous) {\n      nutritiousinfo.push(data.rows[i].name);\n      nutritionamount.push(data.rows[i].amount);\n      nutritionunit.push(data.rows[i].unit);\n    } else {\n      string = string + `<div>` + previous + `</div>`;\n      let mydiv = document.createElement('div');\n\n      for (let j = 0; j < nutritiousinfo.length; j++) {\n        string = string + `<div>` + nutritiousinfo[j] + `: ` + nutritionamount[j] + ` ` + nutritionunit[j] + '</div>';\n      }\n\n      if (countfood % 4 == 3) {\n        mydiv.innerHTML = string;\n        string = ``;\n        mydiv.classList = \"column\";\n        document.getElementById('hello').appendChild(mydiv);\n      }\n\n      nutritiousinfo = [];\n      nutritionamount = [];\n      nutritionunit = [];\n      nutritiousinfo.push(data.rows[i].name);\n      nutritionamount.push(data.rows[i].amount);\n      nutritionunit.push(data.rows[i].unit);\n      countfood++;\n    }\n\n    previous = data.rows[i].description;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"hello\",\n    children: results\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Catalog, \"sSt/6LGXKPSM3q9qmNvPylT1pCc=\");\n\n_c = Catalog;\nexport default Catalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"sources":["/home/meryem/repos/NutriNear2/client/src/pages/Catalog.jsx"],"names":["React","useState","useEffect","Catalog","props","data","setData","results","setResults","console","log","JSON","stringify","location","state","fetch","method","body","headers","then","res","json","countfood","previous","nutritiousinfo","nutritionamount","nutritionunit","string","i","rowCount","rows","description","push","name","amount","unit","mydiv","document","createElement","j","length","innerHTML","classList","getElementById","appendChild"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {useState,useEffect} from 'react';\n\n\nconst Catalog = (props) =>{\n\n    //post data to SQL?\n    const[data,setData] = useState([]);\n    const[results,setResults]=useState([]);\n    console.log(JSON.stringify(props.location.state))\n    useEffect(()=>{\n    fetch('/data',{\n        method: 'post',\n\n        body: JSON.stringify(props.location.state),\n\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\",\n            \"Access-Control-Allow-Origin\": \"*\",\n        }\n    \n    }).then(res=>res.json()).then(data=>setData(data));\n    }, []);\n    console.log(data);\nlet countfood=0;\nlet previous = \"\";\nlet nutritiousinfo = [];\nlet nutritionamount =[];\nlet nutritionunit = [];\nlet string = ``;\n for(let i=0; i<data.rowCount; i++){\n    if(i ==0 || data.rows[i].description ==previous){\n        nutritiousinfo.push(data.rows[i].name);\n        nutritionamount.push(data.rows[i].amount);\n        nutritionunit.push(data.rows[i].unit);\n    }\n    else{\n    string = string+ `<div>` +previous+ `</div>`;\n    let mydiv = document.createElement('div');\n    for(let j=0; j<nutritiousinfo.length;j++){\n        string = string + `<div>` +nutritiousinfo[j] +\n        `: ` + nutritionamount[j] +` `+\n        nutritionunit[j] + '</div>';\n    }\n\n    if(countfood%4==3){\n    mydiv.innerHTML = string;\n    string = ``;\n    mydiv.classList = \"column\";\n    document.getElementById('hello').appendChild(mydiv);\n    }\n    nutritiousinfo=[];\n    nutritionamount =[];\n    nutritionunit =[];\n    nutritiousinfo.push(data.rows[i].name);\n    nutritionamount.push(data.rows[i].amount);\n    nutritionunit.push(data.rows[i].unit);\n    countfood++;\n    }\n    previous = data.rows[i].description;\n}\n\n    return(\n        <div id='hello'>\n            {results}\n        </div>\n    );\n}\nexport default Catalog;"]},"metadata":{},"sourceType":"module"}