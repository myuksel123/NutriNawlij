{"ast":null,"code":"import { geometry as g } from '@progress/kendo-drawing';\nimport { addClass, setDefaultOptions, valueOrDefault, defined, mousewheelDelta, limitValue, deepExtend, elementOffset, isArray } from '../common';\nimport { EPSG3857 } from './crs';\nimport { Attribution } from './attribution';\nimport { Navigator } from './navigator';\nimport { ZoomControl } from './zoom';\nimport { Location } from './location';\nimport { Extent } from './extent';\nimport { TileLayer } from './layers/tile';\nimport { BubbleLayer } from './layers/bubble';\nimport { ShapeLayer } from './layers/shape';\nimport { MarkerLayer } from './layers/marker';\nimport { removeChildren, setDefaultEvents, toHyphens, proxy, now, on, off, getSupportedFeatures, convertToHtml } from './utils';\nimport { Scroller } from './scroller/scroller';\nimport { Observable } from './scroller/observable';\nimport MapService from './../services/map-service';\nvar math = Math,\n    min = math.min,\n    pow = math.pow,\n    Point = g.Point,\n    MARKER = \"marker\",\n    LOCATION = \"location\",\n    FRICTION = 0.9,\n    FRICTION_MOBILE = 0.93,\n    MOUSEWHEEL = 'DOMMouseScroll mousewheel',\n    VELOCITY_MULTIPLIER = 5,\n    DEFAULT_ZOOM_RATE = 1;\nvar layersMap = {\n  bubble: BubbleLayer,\n  shape: ShapeLayer,\n  tile: TileLayer\n};\nlayersMap[MARKER] = MarkerLayer;\n\nfunction renderPos(pos) {\n  var result = [];\n\n  if (pos) {\n    var parts = toHyphens(pos).split(\"-\");\n\n    for (var i = 0; i < parts.length; i++) {\n      result.push(\"k-pos-\" + parts[i]);\n    }\n  }\n\n  return result.join(\" \");\n}\n\nvar Map = function (Observable) {\n  function Map(element, options, themeOptions, context) {\n    if (options === void 0) options = {};\n    if (themeOptions === void 0) themeOptions = {};\n    if (context === void 0) context = {};\n    Observable.call(this);\n\n    this._init(element, options, themeOptions, context);\n  }\n\n  if (Observable) Map.__proto__ = Observable;\n  Map.prototype = Object.create(Observable && Observable.prototype);\n  Map.prototype.constructor = Map;\n\n  Map.prototype.destroy = function destroy() {\n    var this$1 = this;\n    this.scroller.destroy();\n\n    if (this.navigator) {\n      this.navigator.destroy();\n    }\n\n    if (this.attribution) {\n      this.attribution.destroy();\n    }\n\n    if (this.zoomControl) {\n      this.zoomControl.destroy();\n    }\n\n    if (isArray(this.markers)) {\n      this.markers.forEach(function (markerLayer) {\n        markerLayer.destroy();\n      });\n    } else {\n      this.markers.destroy();\n    }\n\n    for (var i = 0; i < this.layers.length; i++) {\n      this$1.layers[i].destroy();\n    }\n\n    off(this.element, MOUSEWHEEL, this._mousewheelHandler);\n    Observable.prototype.destroy.call(this);\n  };\n\n  Map.prototype._init = function _init(element, options, themeOptions, context) {\n    if (options === void 0) options = {};\n    if (themeOptions === void 0) themeOptions = {};\n    if (context === void 0) context = {};\n    this.support = getSupportedFeatures();\n    this.context = context;\n    this.initObserver(context);\n    this.initServices(context);\n\n    this._initOptions(options);\n\n    this._setEvents(options);\n\n    this.crs = new EPSG3857();\n\n    this._initElement(element);\n\n    this._viewOrigin = this._getOrigin();\n\n    this._initScroller();\n\n    this._initMarkers();\n\n    this._initControls();\n\n    this._initLayers();\n\n    this._reset();\n\n    this._mousewheelHandler = this._mousewheel.bind(this);\n    on(this.element, MOUSEWHEEL, this._mousewheelHandler);\n  };\n\n  Map.prototype._initOptions = function _initOptions(options) {\n    this.options = deepExtend({}, this.options, options);\n  };\n\n  Map.prototype._initElement = function _initElement(element) {\n    this.element = element;\n    addClass(element, \"k-map\");\n    element.style.position = \"relative\";\n    element.setAttribute(\"data-role\", \"map\");\n    removeChildren(element);\n    var div = convertToHtml(\"<div />\");\n    this.element.appendChild(div);\n  };\n\n  Map.prototype.initServices = function initServices(context) {\n    if (context === void 0) context = {};\n    this.widgetService = new MapService(this, context);\n  };\n\n  Map.prototype.initObserver = function initObserver(context) {\n    if (context === void 0) context = {};\n    this.observers = [];\n    this.addObserver(context.observer);\n  };\n\n  Map.prototype.addObserver = function addObserver(observer) {\n    if (observer) {\n      this.observers.push(observer);\n    }\n  };\n\n  Map.prototype.removeObserver = function removeObserver(observer) {\n    var index = this.observers.indexOf(observer);\n\n    if (index >= 0) {\n      this.observers.splice(index, 1);\n    }\n  };\n\n  Map.prototype.requiresHandlers = function requiresHandlers(eventNames) {\n    var observers = this.observers;\n\n    for (var idx = 0; idx < observers.length; idx++) {\n      if (observers[idx].requiresHandlers(eventNames)) {\n        return true;\n      }\n    }\n  };\n\n  Map.prototype.trigger = function trigger(name, args) {\n    if (args === void 0) args = {};\n    args.sender = this;\n    var observers = this.observers;\n    var isDefaultPrevented = false;\n\n    for (var idx = 0; idx < observers.length; idx++) {\n      if (observers[idx].trigger(name, args)) {\n        isDefaultPrevented = true;\n      }\n    }\n\n    if (!isDefaultPrevented) {\n      Observable.prototype.trigger.call(this, name, args);\n    }\n\n    return isDefaultPrevented;\n  };\n\n  Map.prototype._notifyObserver = function _notifyObserver(name, args) {\n    if (args === void 0) args = {};\n    args.sender = this;\n    var observers = this.observers;\n    var isDefaultPrevented = false;\n\n    for (var idx = 0; idx < observers.length; idx++) {\n      if (observers[idx].trigger(name, args)) {\n        isDefaultPrevented = true;\n      }\n    }\n\n    return isDefaultPrevented;\n  };\n\n  Map.prototype.zoom = function zoom(level) {\n    var options = this.options;\n    var result;\n\n    if (defined(level)) {\n      var zoomLevel = math.round(limitValue(level, options.minZoom, options.maxZoom));\n\n      if (options.zoom !== zoomLevel) {\n        options.zoom = zoomLevel;\n\n        this._reset();\n      }\n\n      result = this;\n    } else {\n      result = options.zoom;\n    }\n\n    return result;\n  };\n\n  Map.prototype.center = function center(center$1) {\n    var result;\n\n    if (center$1) {\n      this.options.center = Location.create(center$1).toArray();\n\n      this._reset();\n\n      result = this;\n    } else {\n      result = Location.create(this.options.center);\n    }\n\n    return result;\n  };\n\n  Map.prototype.extent = function extent(extent$1) {\n    var result;\n\n    if (extent$1) {\n      this._setExtent(extent$1);\n\n      result = this;\n    } else {\n      result = this._getExtent();\n    }\n\n    return result;\n  };\n\n  Map.prototype.setOptions = function setOptions(options) {\n    if (options === void 0) options = {};\n    var element = this.element;\n    this.destroy();\n    removeChildren(element);\n\n    this._init(element, options, {}, this.context);\n\n    this._reset();\n  };\n\n  Map.prototype.locationToLayer = function locationToLayer(location, zoom) {\n    var clamp = !this.options.wraparound;\n    var locationObject = Location.create(location);\n    return this.crs.toPoint(locationObject, this._layerSize(zoom), clamp);\n  };\n\n  Map.prototype.layerToLocation = function layerToLocation(point, zoom) {\n    var clamp = !this.options.wraparound;\n    var pointObject = Point.create(point);\n    return this.crs.toLocation(pointObject, this._layerSize(zoom), clamp);\n  };\n\n  Map.prototype.locationToView = function locationToView(location) {\n    var locationObject = Location.create(location);\n    var origin = this.locationToLayer(this._viewOrigin);\n    var point = this.locationToLayer(locationObject);\n    return point.translateWith(origin.scale(-1));\n  };\n\n  Map.prototype.viewToLocation = function viewToLocation(point, zoom) {\n    var origin = this.locationToLayer(this._getOrigin(), zoom);\n    var pointObject = Point.create(point);\n    var pointResult = pointObject.clone().translateWith(origin);\n    return this.layerToLocation(pointResult, zoom);\n  };\n\n  Map.prototype.eventOffset = function eventOffset(e) {\n    var x;\n    var y;\n    var offset = elementOffset(this.element);\n\n    if (e.x && e.x[LOCATION] || e.y && e.y[LOCATION]) {\n      x = e.x[LOCATION] - offset.left;\n      y = e.y[LOCATION] - offset.top;\n    } else {\n      var event = e.originalEvent || e;\n      x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n      y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n    }\n\n    var point = new g.Point(x, y);\n    return point;\n  };\n\n  Map.prototype.eventToView = function eventToView(e) {\n    var cursor = this.eventOffset(e);\n    return this.locationToView(this.viewToLocation(cursor));\n  };\n\n  Map.prototype.eventToLayer = function eventToLayer(e) {\n    return this.locationToLayer(this.eventToLocation(e));\n  };\n\n  Map.prototype.eventToLocation = function eventToLocation(e) {\n    var cursor = this.eventOffset(e);\n    return this.viewToLocation(cursor);\n  };\n\n  Map.prototype.viewSize = function viewSize() {\n    var element = this.element;\n\n    var scale = this._layerSize();\n\n    var width = element.clientWidth;\n\n    if (!this.options.wraparound) {\n      width = min(scale, width);\n    }\n\n    return {\n      width: width,\n      height: min(scale, element.clientHeight)\n    };\n  };\n\n  Map.prototype.exportVisual = function exportVisual() {\n    this._reset();\n\n    return false;\n  };\n\n  Map.prototype._setOrigin = function _setOrigin(origin, zoom) {\n    var size = this.viewSize(),\n        topLeft;\n    var originLocation = this._origin = Location.create(origin);\n    topLeft = this.locationToLayer(originLocation, zoom);\n    topLeft.x += size.width / 2;\n    topLeft.y += size.height / 2;\n    this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n    return this;\n  };\n\n  Map.prototype._getOrigin = function _getOrigin(invalidate) {\n    var size = this.viewSize(),\n        topLeft;\n\n    if (invalidate || !this._origin) {\n      topLeft = this.locationToLayer(this.center());\n      topLeft.x -= size.width / 2;\n      topLeft.y -= size.height / 2;\n      this._origin = this.layerToLocation(topLeft);\n    }\n\n    return this._origin;\n  };\n\n  Map.prototype._setExtent = function _setExtent(newExtent) {\n    var this$1 = this;\n    var raw = Extent.create(newExtent);\n    var se = raw.se.clone();\n\n    if (this.options.wraparound && se.lng < 0 && newExtent.nw.lng > 0) {\n      se.lng = 180 + (180 + se.lng);\n    }\n\n    var extent = new Extent(raw.nw, se);\n    this.center(extent.center());\n    var width = this.element.clientWidth;\n    var height = this.element.clientHeight;\n    var zoom;\n\n    for (zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n      var topLeft = this$1.locationToLayer(extent.nw, zoom);\n      var bottomRight = this$1.locationToLayer(extent.se, zoom);\n      var layerWidth = math.abs(bottomRight.x - topLeft.x);\n      var layerHeight = math.abs(bottomRight.y - topLeft.y);\n\n      if (layerWidth <= width && layerHeight <= height) {\n        break;\n      }\n    }\n\n    this.zoom(zoom);\n  };\n\n  Map.prototype._getExtent = function _getExtent() {\n    var nw = this._getOrigin();\n\n    var bottomRight = this.locationToLayer(nw);\n    var size = this.viewSize();\n    bottomRight.x += size.width;\n    bottomRight.y += size.height;\n    var se = this.layerToLocation(bottomRight);\n    return new Extent(nw, se);\n  };\n\n  Map.prototype._zoomAround = function _zoomAround(pivot, level) {\n    this._setOrigin(this.layerToLocation(pivot, level), level);\n\n    this.zoom(level);\n  };\n\n  Map.prototype._initControls = function _initControls() {\n    var controls = this.options.controls;\n\n    if (controls.attribution) {\n      this._createAttribution(controls.attribution);\n    }\n\n    if (!this.support.mobileOS) {\n      if (controls.navigator) {\n        this._createNavigator(controls.navigator);\n      }\n\n      if (controls.zoom) {\n        this._createZoomControl(controls.zoom);\n      }\n    }\n  };\n\n  Map.prototype._createControlElement = function _createControlElement(options, defaultPosition) {\n    var pos = options.position || defaultPosition;\n    var posSelector = '.' + renderPos(pos).replace(' ', '.');\n    var wrap = this.element.querySelector('.k-map-controls' + posSelector) || [];\n\n    if (wrap.length === 0) {\n      var div$1 = document.createElement(\"div\");\n      addClass(div$1, 'k-map-controls ' + renderPos(pos));\n      wrap = div$1;\n      this.element.appendChild(wrap);\n    }\n\n    var div = document.createElement(\"div\");\n    wrap.appendChild(div);\n    return div;\n  };\n\n  Map.prototype._createAttribution = function _createAttribution(options) {\n    var element = this._createControlElement(options, 'bottomRight');\n\n    this.attribution = new Attribution(element, options);\n  };\n\n  Map.prototype._createNavigator = function _createNavigator(options) {\n    var element = this._createControlElement(options, 'topLeft');\n\n    var navigator = this.navigator = new Navigator(element, options);\n    this._navigatorPan = this._navigatorPan.bind(this);\n    navigator.bind('pan', this._navigatorPan);\n    this._navigatorCenter = this._navigatorCenter.bind(this);\n    navigator.bind('center', this._navigatorCenter);\n  };\n\n  Map.prototype._navigatorPan = function _navigatorPan(e) {\n    var scroller = this.scroller;\n    var x = scroller.scrollLeft + e.x;\n    var y = scroller.scrollTop - e.y;\n    var bounds = this._virtualSize;\n    var width = this.element.clientWidth;\n    var height = this.element.clientHeight; // TODO: Move limits to scroller\n\n    x = limitValue(x, bounds.x.min, bounds.x.max - width);\n    y = limitValue(y, bounds.y.min, bounds.y.max - height);\n    this.scroller.one('scroll', proxy(this._scrollEnd, this));\n    this.scroller.scrollTo(-x, -y);\n  };\n\n  Map.prototype._navigatorCenter = function _navigatorCenter() {\n    this.center(this.options.center);\n  };\n\n  Map.prototype._createZoomControl = function _createZoomControl(options) {\n    var element = this._createControlElement(options, 'topLeft');\n\n    var zoomControl = this.zoomControl = new ZoomControl(element, options);\n    this._zoomControlChange = this._zoomControlChange.bind(this);\n    zoomControl.bind('change', this._zoomControlChange);\n  };\n\n  Map.prototype._zoomControlChange = function _zoomControlChange(e) {\n    if (!this.trigger('zoomStart', {\n      originalEvent: e\n    })) {\n      this.zoom(this.zoom() + e.delta);\n      this.trigger('zoomEnd', {\n        originalEvent: e\n      });\n    }\n  };\n\n  Map.prototype._initScroller = function _initScroller() {\n    var friction = this.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n    var zoomable = this.options.zoomable !== false;\n    var scroller = this.scroller = new Scroller(this.element.children[0], {\n      friction: friction,\n      velocityMultiplier: VELOCITY_MULTIPLIER,\n      zoom: zoomable,\n      mousewheelScrolling: false,\n      supportDoubleTap: true\n    });\n    scroller.bind('scroll', proxy(this._scroll, this));\n    scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\n    scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\n    scroller.userEvents.bind('gestureend', proxy(this._scale, this));\n    scroller.userEvents.bind('doubleTap', proxy(this._doubleTap, this));\n    scroller.userEvents.bind('tap', proxy(this._tap, this));\n    this.scrollElement = scroller.scrollElement;\n  };\n\n  Map.prototype._initLayers = function _initLayers() {\n    var this$1 = this;\n    var defs = this.options.layers,\n        layers = this.layers = [];\n\n    for (var i = 0; i < defs.length; i++) {\n      var options = defs[i];\n\n      var layer = this$1._createLayer(options);\n\n      layers.push(layer);\n    }\n  };\n\n  Map.prototype._createLayer = function _createLayer(options) {\n    var type = options.type || 'shape';\n    var layerDefaults = this.options.layerDefaults[type];\n    var layerOptions = type === MARKER ? deepExtend({}, this.options.markerDefaults, options) : deepExtend({}, layerDefaults, options);\n    var layerConstructor = layersMap[type];\n    var layer = new layerConstructor(this, layerOptions);\n\n    if (type === MARKER) {\n      this.markers = layer;\n    }\n\n    return layer;\n  };\n  /* eslint-disable arrow-body-style */\n\n\n  Map.prototype._initMarkers = function _initMarkers() {\n    var markerLayers = (this.options.layers || []).filter(function (x) {\n      return x && x.type === MARKER;\n    });\n\n    if (markerLayers.length > 0) {\n      // render the markers from options.layers\n      // instead of options.markers\n      return;\n    }\n\n    this.markers = new MarkerLayer(this, this.options.markerDefaults);\n    this.markers.add(this.options.markers);\n  };\n  /* eslint-enable arrow-body-style */\n\n\n  Map.prototype._scroll = function _scroll(e) {\n    var origin = this.locationToLayer(this._viewOrigin).round();\n    var movable = e.sender.movable;\n    var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n    origin.x += offset.x;\n    origin.y += offset.y;\n    this._scrollOffset = offset;\n\n    this._setOrigin(this.layerToLocation(origin));\n\n    this.trigger('pan', {\n      originalEvent: e,\n      origin: this._getOrigin(),\n      center: this.center()\n    });\n  };\n\n  Map.prototype._scrollEnd = function _scrollEnd(e) {\n    if (!this._scrollOffset || !this._panComplete()) {\n      return;\n    }\n\n    this._scrollOffset = null;\n    this._panEndTimestamp = now();\n    this.trigger('panEnd', {\n      originalEvent: e,\n      origin: this._getOrigin(),\n      center: this.center()\n    });\n  };\n\n  Map.prototype._panComplete = function _panComplete() {\n    return now() - (this._panEndTimestamp || 0) > 50;\n  };\n\n  Map.prototype._scaleStart = function _scaleStart(e) {\n    if (this.trigger('zoomStart', {\n      originalEvent: e\n    })) {\n      var touch = e.touches[1];\n\n      if (touch) {\n        touch.cancel();\n      }\n    }\n  };\n\n  Map.prototype._scale = function _scale(e) {\n    var scale = this.scroller.movable.scale;\n\n    var zoom = this._scaleToZoom(scale);\n\n    var gestureCenter = new g.Point(e.center.x, e.center.y);\n    var centerLocation = this.viewToLocation(gestureCenter, zoom);\n    var centerPoint = this.locationToLayer(centerLocation, zoom);\n    var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n\n    this._zoomAround(originPoint, zoom);\n\n    this.trigger('zoomEnd', {\n      originalEvent: e\n    });\n  };\n\n  Map.prototype._scaleToZoom = function _scaleToZoom(scaleDelta) {\n    var scale = this._layerSize() * scaleDelta;\n    var tiles = scale / this.options.minSize;\n    var zoom = math.log(tiles) / math.log(2);\n    return math.round(zoom);\n  };\n\n  Map.prototype._reset = function _reset() {\n    if (this.attribution) {\n      this.attribution.filter(this.center(), this.zoom());\n    }\n\n    this._viewOrigin = this._getOrigin(true);\n\n    this._resetScroller();\n\n    this.trigger('beforeReset');\n    this.trigger('reset');\n  };\n\n  Map.prototype._resetScroller = function _resetScroller() {\n    var scroller = this.scroller;\n    var x = scroller.dimensions.x;\n    var y = scroller.dimensions.y;\n\n    var scale = this._layerSize();\n\n    var nw = this.extent().nw;\n    var topLeft = this.locationToLayer(nw).round();\n    scroller.movable.round = true;\n    scroller.reset();\n    scroller.userEvents.cancel();\n    var zoom = this.zoom();\n    scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n    scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n    var xBounds = {\n      min: -topLeft.x,\n      max: scale - topLeft.x\n    };\n    var yBounds = {\n      min: -topLeft.y,\n      max: scale - topLeft.y\n    };\n\n    if (this.options.wraparound) {\n      xBounds.max = 20 * scale;\n      xBounds.min = -xBounds.max;\n    }\n\n    if (this.options.pannable === false) {\n      var viewSize = this.viewSize();\n      xBounds.min = yBounds.min = 0;\n      xBounds.max = viewSize.width;\n      yBounds.max = viewSize.height;\n    }\n\n    x.makeVirtual();\n    y.makeVirtual();\n    x.virtualSize(xBounds.min, xBounds.max);\n    y.virtualSize(yBounds.min, yBounds.max);\n    this._virtualSize = {\n      x: xBounds,\n      y: yBounds\n    };\n  }; // kept for API compatibility, not used\n\n\n  Map.prototype._renderLayers = function _renderLayers() {};\n\n  Map.prototype._layerSize = function _layerSize(zoom) {\n    var newZoom = valueOrDefault(zoom, this.options.zoom);\n    return this.options.minSize * pow(2, newZoom);\n  };\n\n  Map.prototype._tap = function _tap(e) {\n    if (!this._panComplete()) {\n      return;\n    }\n\n    var cursor = this.eventOffset(e);\n    this.trigger('click', {\n      originalEvent: e,\n      location: this.viewToLocation(cursor)\n    });\n  };\n\n  Map.prototype._doubleTap = function _doubleTap(e) {\n    var options = this.options;\n\n    if (options.zoomable !== false) {\n      if (!this.trigger('zoomStart', {\n        originalEvent: e\n      })) {\n        var toZoom = this.zoom() + DEFAULT_ZOOM_RATE;\n        var cursor = this.eventOffset(e);\n        var location = this.viewToLocation(cursor);\n        var postZoom = this.locationToLayer(location, toZoom);\n        var origin = postZoom.translate(-cursor.x, -cursor.y);\n\n        this._zoomAround(origin, toZoom);\n\n        this.trigger('zoomEnd', {\n          originalEvent: e\n        });\n      }\n    }\n  };\n\n  Map.prototype._mousewheel = function _mousewheel(e) {\n    e.preventDefault();\n    var delta = mousewheelDelta(e) > 0 ? -1 : 1;\n    var options = this.options;\n    var fromZoom = this.zoom();\n    var toZoom = limitValue(fromZoom + delta, options.minZoom, options.maxZoom);\n\n    if (options.zoomable !== false && toZoom !== fromZoom) {\n      if (!this.trigger('zoomStart', {\n        originalEvent: e\n      })) {\n        var cursor = this.eventOffset(e);\n        var location = this.viewToLocation(cursor);\n        var postZoom = this.locationToLayer(location, toZoom);\n        var origin = postZoom.translate(-cursor.x, -cursor.y);\n\n        this._zoomAround(origin, toZoom);\n\n        this.trigger('zoomEnd', {\n          originalEvent: e\n        });\n      }\n    }\n  };\n\n  return Map;\n}(Observable);\n\nsetDefaultOptions(Map, {\n  name: 'Map',\n  controls: {\n    attribution: true,\n    navigator: {\n      panStep: 100\n    },\n    zoom: true\n  },\n  layers: [],\n  layerDefaults: {\n    shape: {\n      style: {\n        fill: {\n          color: '#fff'\n        },\n        stroke: {\n          color: '#aaa',\n          width: 0.5\n        }\n      }\n    },\n    bubble: {\n      style: {\n        fill: {\n          color: '#fff',\n          opacity: 0.5\n        },\n        stroke: {\n          color: '#aaa',\n          width: 0.5\n        }\n      }\n    },\n    marker: {\n      shape: 'pinTarget',\n      tooltip: {\n        position: 'top'\n      }\n    }\n  },\n  center: [0, 0],\n  zoom: 3,\n  minSize: 256,\n  minZoom: 1,\n  maxZoom: 19,\n  markers: [],\n  markerDefaults: {\n    shape: 'pinTarget',\n    tooltip: {\n      position: 'top'\n    }\n  },\n  wraparound: true,\n  // If set to true, GeoJSON layer \"Point\" features will be rendered as markers.\n  // Otherwise, the points will be rendered as circles.\n  // Defaults to `true` for KUI/jQuery, `false` everywhere else.\n  renderPointsAsMarkers: false\n});\nsetDefaultEvents(Map, ['beforeReset', 'click', 'markerActivate', 'markerClick', 'markerCreated', // Events for implementing custom tooltips.\n'markerMouseEnter', 'markerMouseLeave', 'pan', 'panEnd', 'reset', 'shapeClick', 'shapeCreated', 'shapeFeatureCreated', 'shapeMouseEnter', 'shapeMouseLeave', 'zoomEnd', 'zoomStart']);\nexport default Map;","map":{"version":3,"sources":["/home/meryem/repos/Movie_Trend_Visualizer/client/node_modules/@progress/kendo-charts/dist/es/map/map.js"],"names":["geometry","g","addClass","setDefaultOptions","valueOrDefault","defined","mousewheelDelta","limitValue","deepExtend","elementOffset","isArray","EPSG3857","Attribution","Navigator","ZoomControl","Location","Extent","TileLayer","BubbleLayer","ShapeLayer","MarkerLayer","removeChildren","setDefaultEvents","toHyphens","proxy","now","on","off","getSupportedFeatures","convertToHtml","Scroller","Observable","MapService","math","Math","min","pow","Point","MARKER","LOCATION","FRICTION","FRICTION_MOBILE","MOUSEWHEEL","VELOCITY_MULTIPLIER","DEFAULT_ZOOM_RATE","layersMap","bubble","shape","tile","renderPos","pos","result","parts","split","i","length","push","join","Map","element","options","themeOptions","context","call","_init","__proto__","prototype","Object","create","constructor","destroy","this$1","scroller","navigator","attribution","zoomControl","markers","forEach","markerLayer","layers","_mousewheelHandler","support","initObserver","initServices","_initOptions","_setEvents","crs","_initElement","_viewOrigin","_getOrigin","_initScroller","_initMarkers","_initControls","_initLayers","_reset","_mousewheel","bind","style","position","setAttribute","div","appendChild","widgetService","observers","addObserver","observer","removeObserver","index","indexOf","splice","requiresHandlers","eventNames","idx","trigger","name","args","sender","isDefaultPrevented","_notifyObserver","zoom","level","zoomLevel","round","minZoom","maxZoom","center","center$1","toArray","extent","extent$1","_setExtent","_getExtent","setOptions","locationToLayer","location","clamp","wraparound","locationObject","toPoint","_layerSize","layerToLocation","point","pointObject","toLocation","locationToView","origin","translateWith","scale","viewToLocation","pointResult","clone","eventOffset","e","x","y","offset","left","top","event","originalEvent","pageX","clientX","pageY","clientY","eventToView","cursor","eventToLayer","eventToLocation","viewSize","width","clientWidth","height","clientHeight","exportVisual","_setOrigin","size","topLeft","originLocation","_origin","invalidate","newExtent","raw","se","lng","nw","bottomRight","layerWidth","abs","layerHeight","_zoomAround","pivot","controls","_createAttribution","mobileOS","_createNavigator","_createZoomControl","_createControlElement","defaultPosition","posSelector","replace","wrap","querySelector","div$1","document","createElement","_navigatorPan","_navigatorCenter","scrollLeft","scrollTop","bounds","_virtualSize","max","one","_scrollEnd","scrollTo","_zoomControlChange","delta","friction","zoomable","children","velocityMultiplier","mousewheelScrolling","supportDoubleTap","_scroll","userEvents","_scaleStart","_scale","_doubleTap","_tap","scrollElement","defs","layer","_createLayer","type","layerDefaults","layerOptions","markerDefaults","layerConstructor","markerLayers","filter","add","movable","_scrollOffset","_panComplete","_panEndTimestamp","touch","touches","cancel","_scaleToZoom","gestureCenter","centerLocation","centerPoint","originPoint","translate","scaleDelta","tiles","minSize","log","_resetScroller","dimensions","reset","forcedMinScale","maxScale","xBounds","yBounds","pannable","makeVirtual","virtualSize","_renderLayers","newZoom","toZoom","postZoom","preventDefault","fromZoom","panStep","fill","color","stroke","opacity","marker","tooltip","renderPointsAsMarkers"],"mappings":"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","sourcesContent":["import {\n    geometry as g\n} from '@progress/kendo-drawing';\n\nimport {\n    addClass,\n    setDefaultOptions,\n    valueOrDefault,\n    defined,\n    mousewheelDelta,\n    limitValue,\n    deepExtend,\n    elementOffset,\n    isArray\n} from '../common';\n\nimport {\n    EPSG3857\n} from './crs';\n\nimport {\n    Attribution\n} from './attribution';\n\nimport {\n    Navigator\n} from './navigator';\n\nimport {\n    ZoomControl\n} from './zoom';\n\nimport {\n    Location\n} from './location';\n\nimport {\n    Extent\n} from './extent';\n\nimport {\n    TileLayer\n} from './layers/tile';\n\nimport {\n    BubbleLayer\n} from './layers/bubble';\n\nimport {\n    ShapeLayer\n} from './layers/shape';\n\nimport {\n    MarkerLayer\n} from './layers/marker';\n\nimport {\n    removeChildren,\n    setDefaultEvents,\n    toHyphens,\n    proxy,\n    now,\n    on,\n    off,\n    getSupportedFeatures,\n    convertToHtml\n} from './utils';\n\nimport {\n    Scroller\n} from './scroller/scroller';\n\nimport {\n    Observable\n} from './scroller/observable';\n\nimport MapService from './../services/map-service';\n\nvar math = Math,\n    min = math.min,\n    pow = math.pow,\n    Point = g.Point,\n    MARKER = \"marker\",\n    LOCATION = \"location\",\n    FRICTION = 0.9,\n    FRICTION_MOBILE = 0.93,\n    MOUSEWHEEL = 'DOMMouseScroll mousewheel',\n    VELOCITY_MULTIPLIER = 5,\n    DEFAULT_ZOOM_RATE = 1;\n\nvar layersMap = {\n    bubble: BubbleLayer,\n    shape: ShapeLayer,\n    tile: TileLayer\n};\nlayersMap[MARKER] = MarkerLayer;\n\nfunction renderPos(pos) {\n    var result = [];\n\n    if (pos) {\n        var parts = toHyphens(pos).split(\"-\");\n\n        for (var i = 0; i < parts.length; i++) {\n            result.push(\"k-pos-\" + parts[i]);\n        }\n    }\n\n    return result.join(\" \");\n}\n\nvar Map = (function (Observable) {\n    function Map(element, options, themeOptions, context) {\n        if ( options === void 0 ) options = {};\n        if ( themeOptions === void 0 ) themeOptions = {};\n        if ( context === void 0 ) context = {};\n\n        Observable.call(this);\n\n\n        this._init(element, options, themeOptions, context);\n    }\n\n    if ( Observable ) Map.__proto__ = Observable;\n    Map.prototype = Object.create( Observable && Observable.prototype );\n    Map.prototype.constructor = Map;\n\n    Map.prototype.destroy = function destroy () {\n        var this$1 = this;\n\n        this.scroller.destroy();\n\n        if (this.navigator) {\n            this.navigator.destroy();\n        }\n        if (this.attribution) {\n            this.attribution.destroy();\n        }\n        if (this.zoomControl) {\n            this.zoomControl.destroy();\n        }\n\n        if (isArray(this.markers)) {\n            this.markers.forEach(function (markerLayer) {\n                markerLayer.destroy();\n            });\n        } else {\n            this.markers.destroy();\n        }\n\n        for (var i = 0; i < this.layers.length; i++) {\n            this$1.layers[i].destroy();\n        }\n\n        off(this.element, MOUSEWHEEL, this._mousewheelHandler);\n\n        Observable.prototype.destroy.call(this);\n    };\n\n    Map.prototype._init = function _init (element, options, themeOptions, context) {\n        if ( options === void 0 ) options = {};\n        if ( themeOptions === void 0 ) themeOptions = {};\n        if ( context === void 0 ) context = {};\n\n        this.support = getSupportedFeatures();\n        this.context = context;\n\n        this.initObserver(context);\n        this.initServices(context);\n\n        this._initOptions(options);\n        this._setEvents(options);\n        this.crs = new EPSG3857();\n\n        this._initElement(element);\n\n        this._viewOrigin = this._getOrigin();\n\n        this._initScroller();\n        this._initMarkers();\n        this._initControls();\n        this._initLayers();\n        this._reset();\n\n        this._mousewheelHandler = this._mousewheel.bind(this);\n        on(this.element, MOUSEWHEEL, this._mousewheelHandler);\n    };\n\n    Map.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Map.prototype._initElement = function _initElement (element) {\n        this.element = element;\n\n        addClass(element, \"k-map\");\n        element.style.position = \"relative\";\n        element.setAttribute(\"data-role\", \"map\");\n        removeChildren(element);\n\n        var div = convertToHtml(\"<div />\");\n        this.element.appendChild(div);\n    };\n\n    Map.prototype.initServices = function initServices (context) {\n        if ( context === void 0 ) context = {};\n\n        this.widgetService = new MapService(this, context);\n    };\n\n    Map.prototype.initObserver = function initObserver (context) {\n        if ( context === void 0 ) context = {};\n\n        this.observers = [];\n        this.addObserver(context.observer);\n    };\n\n    Map.prototype.addObserver = function addObserver (observer) {\n        if (observer) {\n            this.observers.push(observer);\n        }\n    };\n\n    Map.prototype.removeObserver = function removeObserver (observer) {\n        var index = this.observers.indexOf(observer);\n\n        if (index >= 0) {\n            this.observers.splice(index, 1);\n        }\n    };\n\n    Map.prototype.requiresHandlers = function requiresHandlers (eventNames) {\n        var observers = this.observers;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].requiresHandlers(eventNames)) {\n                return true;\n            }\n        }\n    };\n\n    Map.prototype.trigger = function trigger (name, args) {\n        if ( args === void 0 ) args = {};\n\n        args.sender = this;\n\n        var observers = this.observers;\n        var isDefaultPrevented = false;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].trigger(name, args)) {\n                isDefaultPrevented = true;\n            }\n        }\n\n        if (!isDefaultPrevented) {\n            Observable.prototype.trigger.call(this, name, args);\n        }\n\n        return isDefaultPrevented;\n    };\n\n    Map.prototype._notifyObserver = function _notifyObserver (name, args) {\n        if ( args === void 0 ) args = {};\n\n        args.sender = this;\n\n        var observers = this.observers;\n        var isDefaultPrevented = false;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].trigger(name, args)) {\n                isDefaultPrevented = true;\n            }\n        }\n\n        return isDefaultPrevented;\n    };\n\n    Map.prototype.zoom = function zoom (level) {\n        var options = this.options;\n        var result;\n\n        if (defined(level)) {\n            var zoomLevel = math.round(limitValue(level, options.minZoom, options.maxZoom));\n\n            if (options.zoom !== zoomLevel) {\n                options.zoom = zoomLevel;\n                this._reset();\n            }\n            result = this;\n        } else {\n            result = options.zoom;\n        }\n\n        return result;\n    };\n\n    Map.prototype.center = function center (center$1) {\n        var result;\n\n        if (center$1) {\n            this.options.center = Location.create(center$1).toArray();\n            this._reset();\n            result = this;\n        } else {\n            result = Location.create(this.options.center);\n        }\n\n        return result;\n    };\n\n    Map.prototype.extent = function extent (extent$1) {\n        var result;\n\n        if (extent$1) {\n            this._setExtent(extent$1);\n            result = this;\n        } else {\n            result = this._getExtent();\n        }\n\n        return result;\n    };\n\n    Map.prototype.setOptions = function setOptions (options) {\n        if ( options === void 0 ) options = {};\n\n        var element = this.element;\n\n        this.destroy();\n        removeChildren(element);\n        this._init(element, options, {}, this.context);\n\n        this._reset();\n    };\n\n    Map.prototype.locationToLayer = function locationToLayer (location, zoom) {\n        var clamp = !this.options.wraparound;\n        var locationObject = Location.create(location);\n\n        return this.crs.toPoint(locationObject, this._layerSize(zoom), clamp);\n    };\n\n    Map.prototype.layerToLocation = function layerToLocation (point, zoom) {\n        var clamp = !this.options.wraparound;\n        var pointObject = Point.create(point);\n\n        return this.crs.toLocation(pointObject, this._layerSize(zoom), clamp);\n    };\n\n    Map.prototype.locationToView = function locationToView (location) {\n        var locationObject = Location.create(location);\n        var origin = this.locationToLayer(this._viewOrigin);\n        var point = this.locationToLayer(locationObject);\n\n        return point.translateWith(origin.scale(-1));\n    };\n\n    Map.prototype.viewToLocation = function viewToLocation (point, zoom) {\n        var origin = this.locationToLayer(this._getOrigin(), zoom);\n        var pointObject = Point.create(point);\n        var pointResult = pointObject.clone().translateWith(origin);\n\n        return this.layerToLocation(pointResult, zoom);\n    };\n\n    Map.prototype.eventOffset = function eventOffset (e) {\n        var x;\n        var y;\n        var offset = elementOffset(this.element);\n\n        if ((e.x && e.x[LOCATION]) || (e.y && e.y[LOCATION])) {\n            x = e.x[LOCATION] - offset.left;\n            y = e.y[LOCATION] - offset.top;\n        } else {\n            var event = e.originalEvent || e;\n            x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n            y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n        }\n\n        var point = new g.Point(x, y);\n\n        return point;\n    };\n\n    Map.prototype.eventToView = function eventToView (e) {\n        var cursor = this.eventOffset(e);\n        return this.locationToView(this.viewToLocation(cursor));\n    };\n\n    Map.prototype.eventToLayer = function eventToLayer (e) {\n        return this.locationToLayer(this.eventToLocation(e));\n    };\n\n    Map.prototype.eventToLocation = function eventToLocation (e) {\n        var cursor = this.eventOffset(e);\n        return this.viewToLocation(cursor);\n    };\n\n    Map.prototype.viewSize = function viewSize () {\n        var element = this.element;\n        var scale = this._layerSize();\n        var width = element.clientWidth;\n\n        if (!this.options.wraparound) {\n            width = min(scale, width);\n        }\n\n        return {\n            width: width,\n            height: min(scale, element.clientHeight)\n        };\n    };\n\n    Map.prototype.exportVisual = function exportVisual () {\n        this._reset();\n        return false;\n    };\n\n    Map.prototype._setOrigin = function _setOrigin (origin, zoom) {\n        var size = this.viewSize(),\n            topLeft;\n\n        var originLocation = this._origin = Location.create(origin);\n        topLeft = this.locationToLayer(originLocation, zoom);\n        topLeft.x += size.width / 2;\n        topLeft.y += size.height / 2;\n        this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n\n        return this;\n    };\n\n    Map.prototype._getOrigin = function _getOrigin (invalidate) {\n        var size = this.viewSize(),\n            topLeft;\n\n        if (invalidate || !this._origin) {\n            topLeft = this.locationToLayer(this.center());\n            topLeft.x -= size.width / 2;\n            topLeft.y -= size.height / 2;\n            this._origin = this.layerToLocation(topLeft);\n        }\n\n        return this._origin;\n    };\n\n    Map.prototype._setExtent = function _setExtent (newExtent) {\n        var this$1 = this;\n\n        var raw = Extent.create(newExtent);\n        var se = raw.se.clone();\n\n        if (this.options.wraparound && se.lng < 0 && newExtent.nw.lng > 0) {\n            se.lng = 180 + (180 + se.lng);\n        }\n\n        var extent = new Extent(raw.nw, se);\n        this.center(extent.center());\n        var width = this.element.clientWidth;\n        var height = this.element.clientHeight;\n        var zoom;\n\n        for (zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n            var topLeft = this$1.locationToLayer(extent.nw, zoom);\n            var bottomRight = this$1.locationToLayer(extent.se, zoom);\n            var layerWidth = math.abs(bottomRight.x - topLeft.x);\n            var layerHeight = math.abs(bottomRight.y - topLeft.y);\n\n            if (layerWidth <= width && layerHeight <= height) {\n                break;\n            }\n        }\n\n        this.zoom(zoom);\n    };\n\n    Map.prototype._getExtent = function _getExtent () {\n        var nw = this._getOrigin();\n        var bottomRight = this.locationToLayer(nw);\n        var size = this.viewSize();\n\n        bottomRight.x += size.width;\n        bottomRight.y += size.height;\n\n        var se = this.layerToLocation(bottomRight);\n\n        return new Extent(nw, se);\n    };\n\n    Map.prototype._zoomAround = function _zoomAround (pivot, level) {\n        this._setOrigin(this.layerToLocation(pivot, level), level);\n        this.zoom(level);\n    };\n\n    Map.prototype._initControls = function _initControls () {\n        var controls = this.options.controls;\n        if (controls.attribution) {\n            this._createAttribution(controls.attribution);\n        }\n\n        if (!this.support.mobileOS) {\n            if (controls.navigator) {\n                this._createNavigator(controls.navigator);\n            }\n\n            if (controls.zoom) {\n                this._createZoomControl(controls.zoom);\n            }\n        }\n    };\n\n    Map.prototype._createControlElement = function _createControlElement (options, defaultPosition) {\n        var pos = options.position || defaultPosition;\n        var posSelector = '.' + renderPos(pos).replace(' ', '.');\n        var wrap = this.element.querySelector('.k-map-controls' + posSelector) || [];\n\n        if (wrap.length === 0) {\n            var div$1 = document.createElement(\"div\");\n            addClass(div$1, 'k-map-controls ' + renderPos(pos));\n            wrap = div$1;\n            this.element.appendChild(wrap);\n        }\n\n        var div = document.createElement(\"div\");\n\n        wrap.appendChild(div);\n\n        return div;\n    };\n\n    Map.prototype._createAttribution = function _createAttribution (options) {\n        var element = this._createControlElement(options, 'bottomRight');\n        this.attribution = new Attribution(element, options);\n    };\n\n    Map.prototype._createNavigator = function _createNavigator (options) {\n        var element = this._createControlElement(options, 'topLeft');\n        var navigator = this.navigator = new Navigator(element, options);\n\n        this._navigatorPan = this._navigatorPan.bind(this);\n        navigator.bind('pan', this._navigatorPan);\n\n        this._navigatorCenter = this._navigatorCenter.bind(this);\n        navigator.bind('center', this._navigatorCenter);\n    };\n\n    Map.prototype._navigatorPan = function _navigatorPan (e) {\n        var scroller = this.scroller;\n        var x = scroller.scrollLeft + e.x;\n        var y = scroller.scrollTop - e.y;\n        var bounds = this._virtualSize;\n        var width = this.element.clientWidth;\n        var height = this.element.clientHeight;\n\n        // TODO: Move limits to scroller\n        x = limitValue(x, bounds.x.min, bounds.x.max - width);\n        y = limitValue(y, bounds.y.min, bounds.y.max - height);\n\n        this.scroller.one('scroll', proxy(this._scrollEnd, this));\n\n        this.scroller.scrollTo(-x, -y);\n    };\n\n    Map.prototype._navigatorCenter = function _navigatorCenter () {\n        this.center(this.options.center);\n    };\n\n    Map.prototype._createZoomControl = function _createZoomControl (options) {\n        var element = this._createControlElement(options, 'topLeft');\n        var zoomControl = this.zoomControl = new ZoomControl(element, options);\n\n        this._zoomControlChange = this._zoomControlChange.bind(this);\n        zoomControl.bind('change', this._zoomControlChange);\n    };\n\n    Map.prototype._zoomControlChange = function _zoomControlChange (e) {\n        if (!this.trigger('zoomStart', { originalEvent: e })) {\n            this.zoom(this.zoom() + e.delta);\n\n            this.trigger('zoomEnd', {\n                originalEvent: e\n            });\n        }\n    };\n\n    Map.prototype._initScroller = function _initScroller () {\n        var friction = this.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n        var zoomable = this.options.zoomable !== false;\n        var scroller = this.scroller = new Scroller(this.element.children[0], {\n            friction: friction,\n            velocityMultiplier: VELOCITY_MULTIPLIER,\n            zoom: zoomable,\n            mousewheelScrolling: false,\n            supportDoubleTap: true\n        });\n\n        scroller.bind('scroll', proxy(this._scroll, this));\n        scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\n\n        scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\n        scroller.userEvents.bind('gestureend', proxy(this._scale, this));\n        scroller.userEvents.bind('doubleTap', proxy(this._doubleTap, this));\n        scroller.userEvents.bind('tap', proxy(this._tap, this));\n\n        this.scrollElement = scroller.scrollElement;\n    };\n\n    Map.prototype._initLayers = function _initLayers () {\n        var this$1 = this;\n\n        var defs = this.options.layers,\n            layers = this.layers = [];\n\n        for (var i = 0; i < defs.length; i++) {\n            var options = defs[i];\n\n            var layer = this$1._createLayer(options);\n            layers.push(layer);\n        }\n    };\n\n    Map.prototype._createLayer = function _createLayer (options) {\n        var type = options.type || 'shape';\n        var layerDefaults = this.options.layerDefaults[type];\n        var layerOptions = type === MARKER ?\n            deepExtend({}, this.options.markerDefaults, options) :\n            deepExtend({}, layerDefaults, options);\n\n        var layerConstructor = layersMap[type];\n        var layer = new layerConstructor(this, layerOptions);\n\n        if (type === MARKER) {\n            this.markers = layer;\n        }\n\n        return layer;\n    };\n\n    /* eslint-disable arrow-body-style */\n    Map.prototype._initMarkers = function _initMarkers () {\n        var markerLayers = (this.options.layers || []).filter(function (x) {\n            return x && x.type === MARKER;\n        });\n\n        if (markerLayers.length > 0) {\n            // render the markers from options.layers\n            // instead of options.markers\n            return;\n        }\n\n        this.markers = new MarkerLayer(this, this.options.markerDefaults);\n        this.markers.add(this.options.markers);\n    };\n    /* eslint-enable arrow-body-style */\n\n    Map.prototype._scroll = function _scroll (e) {\n        var origin = this.locationToLayer(this._viewOrigin).round();\n        var movable = e.sender.movable;\n        var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n\n        origin.x += offset.x;\n        origin.y += offset.y;\n        this._scrollOffset = offset;\n\n        this._setOrigin(this.layerToLocation(origin));\n\n        this.trigger('pan', {\n            originalEvent: e,\n            origin: this._getOrigin(),\n            center: this.center()\n        });\n    };\n\n    Map.prototype._scrollEnd = function _scrollEnd (e) {\n        if (!this._scrollOffset || !this._panComplete()) {\n            return;\n        }\n\n        this._scrollOffset = null;\n        this._panEndTimestamp = now();\n\n        this.trigger('panEnd', {\n            originalEvent: e,\n            origin: this._getOrigin(),\n            center: this.center()\n        });\n    };\n\n    Map.prototype._panComplete = function _panComplete () {\n        return now() - (this._panEndTimestamp || 0) > 50;\n    };\n\n    Map.prototype._scaleStart = function _scaleStart (e) {\n        if (this.trigger('zoomStart', { originalEvent: e })) {\n            var touch = e.touches[1];\n\n            if (touch) {\n                touch.cancel();\n            }\n        }\n    };\n\n    Map.prototype._scale = function _scale (e) {\n        var scale = this.scroller.movable.scale;\n        var zoom = this._scaleToZoom(scale);\n        var gestureCenter = new g.Point(e.center.x, e.center.y);\n        var centerLocation = this.viewToLocation(gestureCenter, zoom);\n        var centerPoint = this.locationToLayer(centerLocation, zoom);\n        var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n\n        this._zoomAround(originPoint, zoom);\n\n        this.trigger('zoomEnd', {\n            originalEvent: e\n        });\n    };\n\n    Map.prototype._scaleToZoom = function _scaleToZoom (scaleDelta) {\n        var scale = this._layerSize() * scaleDelta;\n        var tiles = scale / this.options.minSize;\n        var zoom = math.log(tiles) / math.log(2);\n\n        return math.round(zoom);\n    };\n\n    Map.prototype._reset = function _reset () {\n        if (this.attribution) {\n            this.attribution.filter(this.center(), this.zoom());\n        }\n\n        this._viewOrigin = this._getOrigin(true);\n\n        this._resetScroller();\n\n        this.trigger('beforeReset');\n        this.trigger('reset');\n    };\n\n    Map.prototype._resetScroller = function _resetScroller () {\n        var scroller = this.scroller;\n        var x = scroller.dimensions.x;\n        var y = scroller.dimensions.y;\n        var scale = this._layerSize();\n        var nw = this.extent().nw;\n        var topLeft = this.locationToLayer(nw).round();\n\n        scroller.movable.round = true;\n        scroller.reset();\n        scroller.userEvents.cancel();\n\n        var zoom = this.zoom();\n\n        scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n        scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n\n        var xBounds = {\n            min: -topLeft.x,\n            max: scale - topLeft.x\n        };\n\n        var yBounds = {\n            min: -topLeft.y,\n            max: scale - topLeft.y\n        };\n\n        if (this.options.wraparound) {\n            xBounds.max = 20 * scale;\n            xBounds.min = -xBounds.max;\n        }\n\n        if (this.options.pannable === false) {\n            var viewSize = this.viewSize();\n            xBounds.min = yBounds.min = 0;\n            xBounds.max = viewSize.width;\n            yBounds.max = viewSize.height;\n        }\n\n        x.makeVirtual();\n        y.makeVirtual();\n\n        x.virtualSize(xBounds.min, xBounds.max);\n        y.virtualSize(yBounds.min, yBounds.max);\n\n        this._virtualSize = {\n            x: xBounds,\n            y: yBounds\n        };\n    };\n\n    // kept for API compatibility, not used\n    Map.prototype._renderLayers = function _renderLayers () {\n    };\n\n    Map.prototype._layerSize = function _layerSize (zoom) {\n        var newZoom = valueOrDefault(zoom, this.options.zoom);\n        return this.options.minSize * pow(2, newZoom);\n    };\n\n    Map.prototype._tap = function _tap (e) {\n        if (!this._panComplete()) {\n            return;\n        }\n\n        var cursor = this.eventOffset(e);\n\n        this.trigger('click', {\n            originalEvent: e,\n            location: this.viewToLocation(cursor)\n        });\n    };\n\n    Map.prototype._doubleTap = function _doubleTap (e) {\n        var options = this.options;\n\n        if (options.zoomable !== false) {\n            if (!this.trigger('zoomStart', { originalEvent: e })) {\n                var toZoom = this.zoom() + DEFAULT_ZOOM_RATE;\n                var cursor = this.eventOffset(e);\n                var location = this.viewToLocation(cursor);\n                var postZoom = this.locationToLayer(location, toZoom);\n                var origin = postZoom.translate(-cursor.x, -cursor.y);\n\n                this._zoomAround(origin, toZoom);\n\n                this.trigger('zoomEnd', {\n                    originalEvent: e\n                });\n            }\n        }\n    };\n\n    Map.prototype._mousewheel = function _mousewheel (e) {\n        e.preventDefault();\n        var delta = mousewheelDelta(e) > 0 ? -1 : 1;\n        var options = this.options;\n        var fromZoom = this.zoom();\n        var toZoom = limitValue(fromZoom + delta, options.minZoom, options.maxZoom);\n\n        if (options.zoomable !== false && toZoom !== fromZoom) {\n            if (!this.trigger('zoomStart', { originalEvent: e })) {\n                var cursor = this.eventOffset(e);\n                var location = this.viewToLocation(cursor);\n                var postZoom = this.locationToLayer(location, toZoom);\n                var origin = postZoom.translate(-cursor.x, -cursor.y);\n\n                this._zoomAround(origin, toZoom);\n\n                this.trigger('zoomEnd', {\n                    originalEvent: e\n                });\n            }\n        }\n    };\n\n    return Map;\n}(Observable));\n\nsetDefaultOptions(Map, {\n    name: 'Map',\n    controls: {\n        attribution: true,\n        navigator: {\n            panStep: 100\n        },\n        zoom: true\n    },\n    layers: [],\n    layerDefaults: {\n        shape: {\n            style: {\n                fill: {\n                    color: '#fff'\n                },\n                stroke: {\n                    color: '#aaa',\n                    width: 0.5\n                }\n            }\n        },\n        bubble: {\n            style: {\n                fill: {\n                    color: '#fff',\n                    opacity: 0.5\n                },\n                stroke: {\n                    color: '#aaa',\n                    width: 0.5\n                }\n            }\n        },\n        marker: {\n            shape: 'pinTarget',\n            tooltip: {\n                position: 'top'\n            }\n        }\n    },\n    center: [\n        0,\n        0\n    ],\n    zoom: 3,\n    minSize: 256,\n    minZoom: 1,\n    maxZoom: 19,\n    markers: [],\n    markerDefaults: {\n        shape: 'pinTarget',\n        tooltip: {\n            position: 'top'\n        }\n    },\n    wraparound: true,\n    // If set to true, GeoJSON layer \"Point\" features will be rendered as markers.\n    // Otherwise, the points will be rendered as circles.\n    // Defaults to `true` for KUI/jQuery, `false` everywhere else.\n    renderPointsAsMarkers: false\n});\n\nsetDefaultEvents(Map, [\n    'beforeReset',\n    'click',\n    'markerActivate',\n    'markerClick',\n    'markerCreated',\n\n    // Events for implementing custom tooltips.\n    'markerMouseEnter',\n    'markerMouseLeave',\n\n    'pan',\n    'panEnd',\n    'reset',\n    'shapeClick',\n    'shapeCreated',\n    'shapeFeatureCreated',\n    'shapeMouseEnter',\n    'shapeMouseLeave',\n    'zoomEnd',\n    'zoomStart'\n]);\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}