{"ast":null,"code":"var _jsxFileName = \"/home/meryem/repos/NutriNear2/client/src/pages/Catalog.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Catalog = props => {\n  _s();\n\n  //post data to SQL?\n  const [data, setData] = useState([]);\n  console.log(JSON.stringify(props.location.state));\n  useEffect(() => {\n    fetch('/data', {\n      method: 'post',\n      body: JSON.stringify(props.location.state),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    }).then(res => res.json()).then(data => setData(data));\n  }, []);\n  console.log(data);\n  let countfood = 0;\n  let previous = \"\";\n  let nutritiousinfo = [];\n  let nutritionamount = [];\n  let nutritionunit = [];\n  let string = ``;\n\n  for (let i = 0; i < data.rowCount; i++) {\n    if (i == 0 || data.rows[i].description == previous) {\n      nutritiousinfo.push(data.rows[i].name);\n      nutritionamount.push(data.rows[i].amount);\n      nutritionunit.push(data.rows[i].unit);\n    } else {\n      string = string + `<div class = 'fooditem' >\n    <div class = \"foodname\">` + previous + `</div>`;\n      let mydiv = document.createElement('div');\n\n      for (let j = 0; j < nutritiousinfo.length; j++) {\n        string = string + `<div>` + nutritiousinfo[j] + `: ` + nutritionamount[j] + ` ` + nutritionunit[j] + '</div>';\n      }\n\n      string = string + `</div>`;\n\n      if (countfood % 4 == 3) {\n        mydiv.innerHTML = string;\n        string = ``;\n        mydiv.classList = \"column\";\n        document.getElementById('hello').appendChild(mydiv);\n      }\n\n      nutritiousinfo = [];\n      nutritionamount = [];\n      nutritionunit = [];\n      nutritiousinfo.push(data.rows[i].name);\n      nutritionamount.push(data.rows[i].amount);\n      nutritionunit.push(data.rows[i].unit);\n      countfood++;\n    }\n\n    previous = data.rows[i].description;\n  }\n\n  if (countfood == 0) {\n    string = `Please choose some nutrients to get your results :)`;\n    let mydiv = document.createElement('div');\n    mydiv.innerHTML = string;\n    mydiv.classList = \"column\";\n    document.getElementById('hello').appendChild(mydiv);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"catalogpage\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      id: \"catalogheader\",\n      children: \"Results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"(Nutrition info is per 100g for each food)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"hello\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Catalog, \"FTfFkLfVdcj0Uk2EahF49AUIgmY=\");\n\n_c = Catalog;\nexport default Catalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"sources":["/home/meryem/repos/NutriNear2/client/src/pages/Catalog.jsx"],"names":["React","useState","useEffect","Catalog","props","data","setData","console","log","JSON","stringify","location","state","fetch","method","body","headers","then","res","json","countfood","previous","nutritiousinfo","nutritionamount","nutritionunit","string","i","rowCount","rows","description","push","name","amount","unit","mydiv","document","createElement","j","length","innerHTML","classList","getElementById","appendChild"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAiBC,SAAjB,QAAiC,OAAjC;;;AAGA,MAAMC,OAAO,GAAIC,KAAD,IAAU;AAAA;;AAEtB;AACA,QAAK,CAACC,IAAD,EAAMC,OAAN,IAAiBL,QAAQ,CAAC,EAAD,CAA9B;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeN,KAAK,CAACO,QAAN,CAAeC,KAA9B,CAAZ;AACAV,EAAAA,SAAS,CAAC,MAAI;AACdW,IAAAA,KAAK,CAAC,OAAD,EAAS;AACVC,MAAAA,MAAM,EAAE,MADE;AAGVC,MAAAA,IAAI,EAAEN,IAAI,CAACC,SAAL,CAAeN,KAAK,CAACO,QAAN,CAAeC,KAA9B,CAHI;AAKVI,MAAAA,OAAO,EAAE;AACL,wBAAgB,iCADX;AAEL,uCAA+B;AAF1B;AALC,KAAT,CAAL,CAUGC,IAVH,CAUQC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAVb,EAUyBF,IAVzB,CAU8BZ,IAAI,IAAEC,OAAO,CAACD,IAAD,CAV3C;AAWC,GAZQ,EAYN,EAZM,CAAT;AAaAE,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACJ,MAAIe,SAAS,GAAC,CAAd;AACA,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,eAAe,GAAE,EAArB;AACA,MAAIC,aAAa,GAAG,EAApB;AACA,MAAIC,MAAM,GAAI,EAAd;;AACC,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACrB,IAAI,CAACsB,QAApB,EAA8BD,CAAC,EAA/B,EAAkC;AAC/B,QAAGA,CAAC,IAAG,CAAJ,IAASrB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaG,WAAb,IAA2BR,QAAvC,EAAgD;AAC5CC,MAAAA,cAAc,CAACQ,IAAf,CAAoBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaK,IAAjC;AACAR,MAAAA,eAAe,CAACO,IAAhB,CAAqBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaM,MAAlC;AACAR,MAAAA,aAAa,CAACM,IAAd,CAAmBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaO,IAAhC;AACH,KAJD,MAKI;AACJR,MAAAA,MAAM,GAAGA,MAAM,GAAG;AACtB,6BADa,GACkBJ,QADlB,GAC6B,QADtC;AAEA,UAAIa,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;;AACA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACf,cAAc,CAACgB,MAA9B,EAAqCD,CAAC,EAAtC,EAAyC;AACrCZ,QAAAA,MAAM,GAAGA,MAAM,GAAI,OAAV,GAAkBH,cAAc,CAACe,CAAD,CAAhC,GACR,IADQ,GACFd,eAAe,CAACc,CAAD,CADb,GACmB,GADnB,GAETb,aAAa,CAACa,CAAD,CAFJ,GAEU,QAFnB;AAGH;;AACDZ,MAAAA,MAAM,GAAGA,MAAM,GAAI,QAAnB;;AACA,UAAGL,SAAS,GAAC,CAAV,IAAa,CAAhB,EAAkB;AAClBc,QAAAA,KAAK,CAACK,SAAN,GAAkBd,MAAlB;AACAA,QAAAA,MAAM,GAAI,EAAV;AACAS,QAAAA,KAAK,CAACM,SAAN,GAAkB,QAAlB;AACAL,QAAAA,QAAQ,CAACM,cAAT,CAAwB,OAAxB,EAAiCC,WAAjC,CAA6CR,KAA7C;AACC;;AACDZ,MAAAA,cAAc,GAAC,EAAf;AACAC,MAAAA,eAAe,GAAE,EAAjB;AACAC,MAAAA,aAAa,GAAE,EAAf;AACAF,MAAAA,cAAc,CAACQ,IAAf,CAAoBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaK,IAAjC;AACAR,MAAAA,eAAe,CAACO,IAAhB,CAAqBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaM,MAAlC;AACAR,MAAAA,aAAa,CAACM,IAAd,CAAmBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaO,IAAhC;AACAb,MAAAA,SAAS;AACR;;AACDC,IAAAA,QAAQ,GAAGhB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaG,WAAxB;AACH;;AACD,MAAGT,SAAS,IAAE,CAAd,EAAgB;AACZK,IAAAA,MAAM,GAAI,qDAAV;AACA,QAAIS,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AACAF,IAAAA,KAAK,CAACK,SAAN,GAAkBd,MAAlB;AACAS,IAAAA,KAAK,CAACM,SAAN,GAAkB,QAAlB;AACAL,IAAAA,QAAQ,CAACM,cAAT,CAAwB,OAAxB,EAAiCC,WAAjC,CAA6CR,KAA7C;AACH;;AAEG,sBACI;AAAK,IAAA,EAAE,EAAG,aAAV;AAAA,4BACA;AAAI,MAAA,EAAE,EAAC,eAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,eAGA;AAAK,MAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,YAHA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CAzED;;GAAM/B,O;;KAAAA,O;AA0EN,eAAeA,OAAf","sourcesContent":["import React from \"react\";\nimport {useState,useEffect} from 'react';\n\n\nconst Catalog = (props) =>{\n\n    //post data to SQL?\n    const[data,setData] = useState([]);\n    console.log(JSON.stringify(props.location.state))\n    useEffect(()=>{\n    fetch('/data',{\n        method: 'post',\n\n        body: JSON.stringify(props.location.state),\n\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\",\n            \"Access-Control-Allow-Origin\": \"*\",\n        }\n    \n    }).then(res=>res.json()).then(data=>setData(data));\n    }, []);\n    console.log(data);\nlet countfood=0;\nlet previous = \"\";\nlet nutritiousinfo = [];\nlet nutritionamount =[];\nlet nutritionunit = [];\nlet string = ``;\n for(let i=0; i<data.rowCount; i++){\n    if(i ==0 || data.rows[i].description ==previous){\n        nutritiousinfo.push(data.rows[i].name);\n        nutritionamount.push(data.rows[i].amount);\n        nutritionunit.push(data.rows[i].unit);\n    }\n    else{\n    string = string+ `<div class = 'fooditem' >\n    <div class = \"foodname\">` +previous+ `</div>`;\n    let mydiv = document.createElement('div');\n    for(let j=0; j<nutritiousinfo.length;j++){\n        string = string + `<div>` +nutritiousinfo[j] +\n        `: ` + nutritionamount[j] +` `+\n        nutritionunit[j] + '</div>';\n    }\n    string = string + `</div>`;\n    if(countfood%4==3){\n    mydiv.innerHTML = string;\n    string = ``;\n    mydiv.classList = \"column\";\n    document.getElementById('hello').appendChild(mydiv);\n    }\n    nutritiousinfo=[];\n    nutritionamount =[];\n    nutritionunit =[];\n    nutritiousinfo.push(data.rows[i].name);\n    nutritionamount.push(data.rows[i].amount);\n    nutritionunit.push(data.rows[i].unit);\n    countfood++;\n    }\n    previous = data.rows[i].description;\n}\nif(countfood==0){\n    string = `Please choose some nutrients to get your results :)`;\n    let mydiv = document.createElement('div');\n    mydiv.innerHTML = string;\n    mydiv.classList = \"column\";\n    document.getElementById('hello').appendChild(mydiv);\n}\n\n    return(\n        <div id = 'catalogpage'>\n        <h1 id=\"catalogheader\">Results</h1>\n        <h3>(Nutrition info is per 100g for each food)</h3>\n        <div id='hello'>\n        </div>\n        </div>\n    );\n}\nexport default Catalog;"]},"metadata":{},"sourceType":"module"}