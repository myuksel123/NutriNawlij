{"ast":null,"code":"import _slicedToArray from\"/home/meryem/repos/NutriNear2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Catalog=function Catalog(props){//post data to SQL?\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];console.log(JSON.stringify(props.location.state));useEffect(function(){fetch('/data',{method:'post',body:JSON.stringify(props.location.state),headers:{\"Content-type\":\"application/json; charset=UTF-8\",\"Access-Control-Allow-Origin\":\"*\"}}).then(function(res){return res.json();}).then(function(data){return setData(data);});},[]);console.log(data);var countfood=0;var previous=\"\";var nutritiousinfo=[];var nutritionamount=[];var nutritionunit=[];var string=\"\";for(var i=0;i<data.rowCount;i++){if(i==0||data.rows[i].description==previous){nutritiousinfo.push(data.rows[i].name);nutritionamount.push(data.rows[i].amount);nutritionunit.push(data.rows[i].unit);}else{string=string+\"<div class = 'fooditem' >\\n    <div class = \\\"foodname\\\">\"+previous+\"</div>\";var mydiv=document.createElement('div');for(var j=0;j<nutritiousinfo.length;j++){string=string+\"<div>\"+nutritiousinfo[j]+\": \"+nutritionamount[j]+\" \"+nutritionunit[j]+'</div>';}string=string+\"</div>\";if(countfood%4==3){mydiv.innerHTML=string;string=\"\";mydiv.classList=\"column\";document.getElementById('hello').appendChild(mydiv);}nutritiousinfo=[];nutritionamount=[];nutritionunit=[];nutritiousinfo.push(data.rows[i].name);nutritionamount.push(data.rows[i].amount);nutritionunit.push(data.rows[i].unit);countfood++;}previous=data.rows[i].description;}return/*#__PURE__*/_jsxs(\"div\",{id:\"catalogpage\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"catalogheader\",children:\"Results\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"(Nutrition info is per 100g for each food)\"}),/*#__PURE__*/_jsx(\"div\",{id:\"hello\"})]});};export default Catalog;","map":{"version":3,"sources":["/home/meryem/repos/NutriNear2/client/src/pages/Catalog.jsx"],"names":["React","useState","useEffect","Catalog","props","data","setData","console","log","JSON","stringify","location","state","fetch","method","body","headers","then","res","json","countfood","previous","nutritiousinfo","nutritionamount","nutritionunit","string","i","rowCount","rows","description","push","name","amount","unit","mydiv","document","createElement","j","length","innerHTML","classList","getElementById","appendChild"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,CAAiBC,SAAjB,KAAiC,OAAjC,C,wFAGA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAU,CAEtB;AACA,cAAsBH,QAAQ,CAAC,EAAD,CAA9B,wCAAMI,IAAN,eAAWC,OAAX,eACAC,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeN,KAAK,CAACO,QAAN,CAAeC,KAA9B,CAAZ,EACAV,SAAS,CAAC,UAAI,CACdW,KAAK,CAAC,OAAD,CAAS,CACVC,MAAM,CAAE,MADE,CAGVC,IAAI,CAAEN,IAAI,CAACC,SAAL,CAAeN,KAAK,CAACO,QAAN,CAAeC,KAA9B,CAHI,CAKVI,OAAO,CAAE,CACL,eAAgB,iCADX,CAEL,8BAA+B,GAF1B,CALC,CAAT,CAAL,CAUGC,IAVH,CAUQ,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAVX,EAUyBF,IAVzB,CAU8B,SAAAZ,IAAI,QAAEC,CAAAA,OAAO,CAACD,IAAD,CAAT,EAVlC,EAWC,CAZQ,CAYN,EAZM,CAAT,CAaAE,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACJ,GAAIe,CAAAA,SAAS,CAAC,CAAd,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,cAAc,CAAG,EAArB,CACA,GAAIC,CAAAA,eAAe,CAAE,EAArB,CACA,GAAIC,CAAAA,aAAa,CAAG,EAApB,CACA,GAAIC,CAAAA,MAAM,GAAV,CACC,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,CAACrB,IAAI,CAACsB,QAApB,CAA8BD,CAAC,EAA/B,CAAkC,CAC/B,GAAGA,CAAC,EAAG,CAAJ,EAASrB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaG,WAAb,EAA2BR,QAAvC,CAAgD,CAC5CC,cAAc,CAACQ,IAAf,CAAoBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaK,IAAjC,EACAR,eAAe,CAACO,IAAhB,CAAqBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaM,MAAlC,EACAR,aAAa,CAACM,IAAd,CAAmBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaO,IAAhC,EACH,CAJD,IAKI,CACJR,MAAM,CAAGA,MAAM,4DAAN,CACkBJ,QADlB,SAAT,CAEA,GAAIa,CAAAA,KAAK,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,CAACf,cAAc,CAACgB,MAA9B,CAAqCD,CAAC,EAAtC,CAAyC,CACrCZ,MAAM,CAAGA,MAAM,QAAN,CAAkBH,cAAc,CAACe,CAAD,CAAhC,MACFd,eAAe,CAACc,CAAD,CADb,KAETb,aAAa,CAACa,CAAD,CAFJ,CAEU,QAFnB,CAGH,CACDZ,MAAM,CAAGA,MAAM,SAAf,CACA,GAAGL,SAAS,CAAC,CAAV,EAAa,CAAhB,CAAkB,CAClBc,KAAK,CAACK,SAAN,CAAkBd,MAAlB,CACAA,MAAM,GAAN,CACAS,KAAK,CAACM,SAAN,CAAkB,QAAlB,CACAL,QAAQ,CAACM,cAAT,CAAwB,OAAxB,EAAiCC,WAAjC,CAA6CR,KAA7C,EACC,CACDZ,cAAc,CAAC,EAAf,CACAC,eAAe,CAAE,EAAjB,CACAC,aAAa,CAAE,EAAf,CACAF,cAAc,CAACQ,IAAf,CAAoBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaK,IAAjC,EACAR,eAAe,CAACO,IAAhB,CAAqBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaM,MAAlC,EACAR,aAAa,CAACM,IAAd,CAAmBzB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaO,IAAhC,EACAb,SAAS,GACR,CACDC,QAAQ,CAAGhB,IAAI,CAACuB,IAAL,CAAUF,CAAV,EAAaG,WAAxB,CACH,CAGG,mBACI,aAAK,EAAE,CAAG,aAAV,wBACA,WAAI,EAAE,CAAC,eAAP,qBADA,cAEA,kEAFA,cAGA,YAAK,EAAE,CAAC,OAAR,EAHA,GADJ,CAQH,CAnED,CAoEA,cAAe1B,CAAAA,OAAf","sourcesContent":["import React from \"react\";\nimport {useState,useEffect} from 'react';\n\n\nconst Catalog = (props) =>{\n\n    //post data to SQL?\n    const[data,setData] = useState([]);\n    console.log(JSON.stringify(props.location.state))\n    useEffect(()=>{\n    fetch('/data',{\n        method: 'post',\n\n        body: JSON.stringify(props.location.state),\n\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\",\n            \"Access-Control-Allow-Origin\": \"*\",\n        }\n    \n    }).then(res=>res.json()).then(data=>setData(data));\n    }, []);\n    console.log(data);\nlet countfood=0;\nlet previous = \"\";\nlet nutritiousinfo = [];\nlet nutritionamount =[];\nlet nutritionunit = [];\nlet string = ``;\n for(let i=0; i<data.rowCount; i++){\n    if(i ==0 || data.rows[i].description ==previous){\n        nutritiousinfo.push(data.rows[i].name);\n        nutritionamount.push(data.rows[i].amount);\n        nutritionunit.push(data.rows[i].unit);\n    }\n    else{\n    string = string+ `<div class = 'fooditem' >\n    <div class = \"foodname\">` +previous+ `</div>`;\n    let mydiv = document.createElement('div');\n    for(let j=0; j<nutritiousinfo.length;j++){\n        string = string + `<div>` +nutritiousinfo[j] +\n        `: ` + nutritionamount[j] +` `+\n        nutritionunit[j] + '</div>';\n    }\n    string = string + `</div>`;\n    if(countfood%4==3){\n    mydiv.innerHTML = string;\n    string = ``;\n    mydiv.classList = \"column\";\n    document.getElementById('hello').appendChild(mydiv);\n    }\n    nutritiousinfo=[];\n    nutritionamount =[];\n    nutritionunit =[];\n    nutritiousinfo.push(data.rows[i].name);\n    nutritionamount.push(data.rows[i].amount);\n    nutritionunit.push(data.rows[i].unit);\n    countfood++;\n    }\n    previous = data.rows[i].description;\n}\n\n\n    return(\n        <div id = 'catalogpage'>\n        <h1 id=\"catalogheader\">Results</h1>\n        <h3>(Nutrition info is per 100g for each food)</h3>\n        <div id='hello'>\n        </div>\n        </div>\n    );\n}\nexport default Catalog;"]},"metadata":{},"sourceType":"module"}