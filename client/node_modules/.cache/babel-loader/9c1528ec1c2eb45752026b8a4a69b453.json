{"ast":null,"code":"import { Class } from '../../common';\nimport { Encoding } from './encoding';\nimport deepExtend from '../../common/deep-extend';\nimport inArray from '../../common/in-array';\nvar numberRegex = /^\\d+$/;\nvar alphanumericRegex = /^[a-z0-9]+$/i;\nvar extend = Object.assign;\nexport var State128 = function (Class) {\n  function State128(encoding) {\n    Class.call(this);\n    this.encoding = encoding;\n    this.initProperties();\n  }\n\n  if (Class) State128.__proto__ = Class;\n  State128.prototype = Object.create(Class && Class.prototype);\n  State128.prototype.constructor = State128;\n\n  State128.prototype.initProperties = function initProperties() {};\n\n  State128.prototype.addStart = function addStart() {};\n\n  State128.prototype.is = function is() {};\n\n  State128.prototype.isCode = function isCode() {\n    return false;\n  };\n\n  State128.prototype.move = function move() {};\n\n  State128.prototype.pushState = function pushState() {};\n\n  return State128;\n}(Class);\nexport var State128AB = function (State128) {\n  function State128AB(encoding, states) {\n    State128.call(this, encoding);\n    this.states = states;\n\n    this._initMoves(states);\n  }\n\n  if (State128) State128AB.__proto__ = State128;\n  State128AB.prototype = Object.create(State128 && State128.prototype);\n  State128AB.prototype.constructor = State128AB;\n\n  State128AB.prototype.initProperties = function initProperties() {\n    State128.prototype.initProperties.call(this);\n    deepExtend(this, {\n      FNC4: \"FNC4\",\n      SHIFT: 98\n    });\n  };\n\n  State128AB.prototype.addStart = function addStart() {\n    this.encoding.addPattern(this.START);\n  };\n\n  State128AB.prototype.is = function is(value, index) {\n    var code = value.charCodeAt(index);\n    return this.isCode(code);\n  };\n\n  State128AB.prototype.move = function move(encodingState) {\n    var idx = 0;\n\n    while (!this._moves[idx].call(this, encodingState) && idx < this._moves.length) {\n      idx++;\n    }\n  };\n\n  State128AB.prototype.pushState = function pushState(encodingState) {\n    var this$1 = this;\n    var states = this.states,\n        value = encodingState.value,\n        maxLength = value.length,\n        code;\n\n    if (inArray(\"C\", states)) {\n      var numberMatch = value.substr(encodingState.index).match(/\\d{4,}/g);\n\n      if (numberMatch) {\n        maxLength = value.indexOf(numberMatch[0], encodingState.index);\n      }\n    }\n\n    while ((code = encodingState.value.charCodeAt(encodingState.index)) >= 0 && this.isCode(code) && encodingState.index < maxLength) {\n      this$1.encoding.addPattern(this$1.getValue(code));\n      encodingState.index++;\n    }\n  };\n\n  State128AB.prototype._initMoves = function _initMoves(states) {\n    this._moves = [];\n\n    if (inArray(this.FNC4, states)) {\n      this._moves.push(this._moveFNC);\n    }\n\n    if (inArray(this.shiftKey, states)) {\n      this._moves.push(this._shiftState);\n    }\n\n    this._moves.push(this._moveState);\n  };\n\n  State128AB.prototype._moveFNC = function _moveFNC(encodingState) {\n    if (encodingState.fnc) {\n      encodingState.fnc = false;\n      return encodingState.previousState === this.key;\n    }\n  };\n\n  State128AB.prototype._shiftState = function _shiftState(encodingState) {\n    if (encodingState.previousState === this.shiftKey && (encodingState.index + 1 >= encodingState.value.length || this.encoding[this.shiftKey].is(encodingState.value, encodingState.index + 1))) {\n      this.encoding.addPattern(this.SHIFT);\n      encodingState.shifted = true;\n      return true;\n    }\n  };\n\n  State128AB.prototype._moveState = function _moveState() {\n    this.encoding.addPattern(this.MOVE);\n    return true;\n  };\n\n  return State128AB;\n}(State128);\nvar states128 = {};\n\nstates128.A = function (State128AB) {\n  function State128A() {\n    State128AB.apply(this, arguments);\n  }\n\n  if (State128AB) State128A.__proto__ = State128AB;\n  State128A.prototype = Object.create(State128AB && State128AB.prototype);\n  State128A.prototype.constructor = State128A;\n\n  State128A.prototype.initProperties = function initProperties() {\n    State128AB.prototype.initProperties.call(this);\n    extend(this, {\n      key: \"A\",\n      shiftKey: \"B\",\n      MOVE: 101,\n      START: 103\n    });\n  };\n\n  State128A.prototype.isCode = function isCode(code) {\n    return 0 <= code && code < 96;\n  };\n\n  State128A.prototype.getValue = function getValue(code) {\n    if (code < 32) {\n      return code + 64;\n    }\n\n    return code - 32;\n  };\n\n  return State128A;\n}(State128AB);\n\nstates128.B = function (State128AB) {\n  function State128B() {\n    State128AB.apply(this, arguments);\n  }\n\n  if (State128AB) State128B.__proto__ = State128AB;\n  State128B.prototype = Object.create(State128AB && State128AB.prototype);\n  State128B.prototype.constructor = State128B;\n\n  State128B.prototype.initProperties = function initProperties() {\n    State128AB.prototype.initProperties.call(this);\n    extend(this, {\n      key: \"B\",\n      shiftKey: \"A\",\n      MOVE: 100,\n      START: 104\n    });\n  };\n\n  State128B.prototype.isCode = function isCode(code) {\n    return 32 <= code && code < 128;\n  };\n\n  State128B.prototype.getValue = function getValue(code) {\n    return code - 32;\n  };\n\n  return State128B;\n}(State128AB);\n\nstates128.C = function (State128) {\n  function State128C() {\n    State128.apply(this, arguments);\n  }\n\n  if (State128) State128C.__proto__ = State128;\n  State128C.prototype = Object.create(State128 && State128.prototype);\n  State128C.prototype.constructor = State128C;\n\n  State128C.prototype.initProperties = function initProperties() {\n    State128.prototype.initProperties.call(this);\n    extend(this, {\n      key: \"C\",\n      MOVE: 99,\n      START: 105\n    });\n  };\n\n  State128C.prototype.addStart = function addStart() {\n    this.encoding.addPattern(this.START);\n  };\n\n  State128C.prototype.is = function is(value, index) {\n    var next4 = getSubstring(value, index, 4);\n    return (index + 4 <= value.length || value.length === 2) && numberRegex.test(next4);\n  };\n\n  State128C.prototype.move = function move() {\n    this.encoding.addPattern(this.MOVE);\n  };\n\n  State128C.prototype.pushState = function pushState(encodingState) {\n    var this$1 = this;\n    var code;\n\n    while ((code = getSubstring(encodingState.value, encodingState.index, 2)) && numberRegex.test(code) && code.length === 2) {\n      this$1.encoding.addPattern(parseInt(code, 10));\n      encodingState.index += 2;\n    }\n  };\n\n  State128C.prototype.getValue = function getValue(code) {\n    return code;\n  };\n\n  return State128C;\n}(State128);\n\nstates128.FNC4 = function (State128) {\n  function State128FNC4(encoding, states) {\n    State128.call(this, encoding);\n\n    this._initSubStates(states);\n  }\n\n  if (State128) State128FNC4.__proto__ = State128;\n  State128FNC4.prototype = Object.create(State128 && State128.prototype);\n  State128FNC4.prototype.constructor = State128FNC4;\n\n  State128FNC4.prototype.initProperties = function initProperties() {\n    State128.prototype.initProperties.call(this);\n    extend(this, {\n      key: \"FNC4\",\n      dependentStates: [\"A\", \"B\"]\n    });\n  };\n\n  State128FNC4.prototype.addStart = function addStart(encodingState) {\n    var code = encodingState.value.charCodeAt(0) - 128,\n        subState = this._getSubState(code);\n\n    this.encoding[subState].addStart();\n  };\n\n  State128FNC4.prototype.is = function is(value, index) {\n    var code = value.charCodeAt(index);\n    return this.isCode(code);\n  };\n\n  State128FNC4.prototype.isCode = function isCode(code) {\n    return 128 <= code && code < 256;\n  };\n\n  State128FNC4.prototype.pushState = function pushState(encodingState) {\n    var this$1 = this;\n\n    var subState = this._initSubState(encodingState),\n        encoding = this.encoding,\n        length = subState.value.length;\n\n    var code;\n    encodingState.index += length;\n\n    if (length < 3) {\n      for (; subState.index < length; subState.index++) {\n        code = subState.value.charCodeAt(subState.index);\n        subState.state = this$1._getSubState(code);\n\n        if (subState.previousState !== subState.state) {\n          subState.previousState = subState.state;\n          encoding[subState.state].move(subState);\n        }\n\n        encoding.addPattern(encoding[subState.state].MOVE);\n        encoding.addPattern(encoding[subState.state].getValue(code));\n      }\n    } else {\n      if (subState.state !== subState.previousState) {\n        encoding[subState.state].move(subState);\n      }\n\n      this._pushStart(subState);\n\n      encoding.pushData(subState, this.subStates);\n\n      if (encodingState.index < encodingState.value.length) {\n        this._pushStart(subState);\n      }\n    }\n\n    encodingState.fnc = true;\n    encodingState.state = subState.state;\n  };\n\n  State128FNC4.prototype._pushStart = function _pushStart(subState) {\n    this.encoding.addPattern(this.encoding[subState.state].MOVE);\n    this.encoding.addPattern(this.encoding[subState.state].MOVE);\n  };\n\n  State128FNC4.prototype._initSubState = function _initSubState(encodingState) {\n    var subState = {\n      value: this._getAll(encodingState.value, encodingState.index),\n      index: 0\n    };\n    subState.state = this._getSubState(subState.value.charCodeAt(0));\n    subState.previousState = encodingState.previousState === this.key ? subState.state : encodingState.previousState;\n    return subState;\n  };\n\n  State128FNC4.prototype._initSubStates = function _initSubStates(states) {\n    var this$1 = this;\n    this.subStates = [];\n\n    for (var i = 0; i < states.length; i++) {\n      if (inArray(states[i], this$1.dependentStates)) {\n        this$1.subStates.push(states[i]);\n      }\n    }\n  };\n\n  State128FNC4.prototype._getSubState = function _getSubState(code) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.subStates.length; i++) {\n      if (this$1.encoding[this$1.subStates[i]].isCode(code)) {\n        return this$1.subStates[i];\n      }\n    }\n  };\n\n  State128FNC4.prototype._getAll = function _getAll(value, index) {\n    var code;\n    var result = \"\";\n    var i = index;\n\n    while ((code = value.charCodeAt(i++)) && this.isCode(code)) {\n      result += String.fromCharCode(code - 128);\n    }\n\n    return result;\n  };\n\n  return State128FNC4;\n}(State128);\n\nstates128.FNC1 = function (State128) {\n  function States128FNC1(encoding, states) {\n    State128.call(this, encoding);\n    this.states = states;\n  }\n\n  if (State128) States128FNC1.__proto__ = State128;\n  States128FNC1.prototype = Object.create(State128 && State128.prototype);\n  States128FNC1.prototype.constructor = States128FNC1;\n\n  States128FNC1.prototype.initProperties = function initProperties() {\n    State128.prototype.initProperties.call(this);\n    extend(this, {\n      key: \"FNC1\",\n      startState: \"C\",\n      startAI: \"(\",\n      endAI: \")\",\n      dependentStates: [\"C\", \"B\"],\n      applicationIdentifiers: {\n        \"22\": {\n          max: 29,\n          type: \"alphanumeric\"\n        },\n        \"402\": {\n          length: 17\n        },\n        \"7004\": {\n          max: 4,\n          type: \"alphanumeric\"\n        },\n        \"242\": {\n          max: 6,\n          type: \"alphanumeric\"\n        },\n        \"8020\": {\n          max: 25,\n          type: \"alphanumeric\"\n        },\n        \"703\": {\n          min: 3,\n          max: 30,\n          type: \"alphanumeric\"\n        },\n        \"8008\": {\n          min: 8,\n          max: 12,\n          type: \"alphanumeric\"\n        },\n        \"253\": {\n          min: 13,\n          max: 17,\n          type: \"alphanumeric\"\n        },\n        \"8003\": {\n          min: 14,\n          max: 30,\n          type: \"alphanumeric\"\n        },\n        multiKey: [{\n          ids: [\"15\", \"17\", \"8005\", \"8100\"],\n          ranges: [[11, 13], [310, 316], [320, 336], [340, 369]],\n          type: {\n            length: 6\n          }\n        }, {\n          ids: [\"240\", \"241\", \"250\", \"251\", \"400\", \"401\", \"403\", \"7002\", \"8004\", \"8007\", \"8110\"],\n          ranges: [[90 - 99]],\n          type: {\n            max: 30,\n            type: \"alphanumeric\"\n          }\n        }, {\n          ids: [\"7001\"],\n          ranges: [[410, 414]],\n          type: {\n            length: 13\n          }\n        }, {\n          ids: [\"10\", \"21\", \"254\", \"420\", \"8002\"],\n          type: {\n            max: 20,\n            type: \"alphanumeric\"\n          }\n        }, {\n          ids: [\"00\", \"8006\", \"8017\", \"8018\"],\n          type: {\n            length: 18\n          }\n        }, {\n          ids: [\"01\", \"02\", \"8001\"],\n          type: {\n            length: 14\n          }\n        }, {\n          ids: [\"422\"],\n          ranges: [[424, 426]],\n          type: {\n            length: 3\n          }\n        }, {\n          ids: [\"20\", \"8102\"],\n          type: {\n            length: 2\n          }\n        }, {\n          ids: [\"30\", \"37\"],\n          type: {\n            max: 8,\n            type: \"alphanumeric\"\n          }\n        }, {\n          ids: [\"390\", \"392\"],\n          type: {\n            max: 15,\n            type: \"alphanumeric\"\n          }\n        }, {\n          ids: [\"421\", \"423\"],\n          type: {\n            min: 3,\n            max: 15,\n            type: \"alphanumeric\"\n          }\n        }, {\n          ids: [\"391\", \"393\"],\n          type: {\n            min: 3,\n            max: 18,\n            type: \"alphanumeric\"\n          }\n        }, {\n          ids: [\"7003\", \"8101\"],\n          type: {\n            length: 10\n          }\n        }]\n      },\n      START: 102\n    });\n  };\n\n  States128FNC1.prototype.addStart = function addStart() {\n    this.encoding[this.startState].addStart();\n  };\n\n  States128FNC1.prototype.is = function is() {\n    return inArray(this.key, this.states);\n  };\n\n  States128FNC1.prototype.pushState = function pushState(encodingState) {\n    var this$1 = this;\n    var encoding = this.encoding,\n        value = encodingState.value.replace(/\\s/g, \"\"),\n        regexSeparators = new RegExp(\"[\" + this.startAI + this.endAI + \"]\", \"g\"),\n        index = encodingState.index,\n        subState = {\n      state: this.startState\n    },\n        current,\n        nextStart,\n        separatorLength;\n    encoding.addPattern(this.START);\n    var trueCondition = true;\n\n    while (trueCondition) {\n      subState.index = 0;\n      separatorLength = value.charAt(index) === this$1.startAI ? 2 : 0;\n      current = separatorLength > 0 ? this$1.getBySeparator(value, index) : this$1.getByLength(value, index);\n\n      if (current.ai.length) {\n        nextStart = index + separatorLength + current.id.length + current.ai.length;\n      } else {\n        nextStart = value.indexOf(this$1.startAI, index + 1);\n\n        if (nextStart < 0) {\n          if (index + current.ai.max + current.id.length + separatorLength < value.length) {\n            throw new Error(\"Separators are required after variable length identifiers\");\n          }\n\n          nextStart = value.length;\n        }\n      }\n\n      subState.value = value.substring(index, nextStart).replace(regexSeparators, \"\");\n      this$1.validate(current, subState.value);\n      encoding.pushData(subState, this$1.dependentStates);\n\n      if (nextStart >= value.length) {\n        break;\n      }\n\n      index = nextStart;\n\n      if (subState.state !== this$1.startState) {\n        encoding[this$1.startState].move(subState);\n        subState.state = this$1.startState;\n      }\n\n      if (!current.ai.length) {\n        encoding.addPattern(this$1.START);\n      }\n    }\n\n    encodingState.index = encodingState.value.length;\n  };\n\n  States128FNC1.prototype.validate = function validate(current, value) {\n    var code = value.substr(current.id.length),\n        ai = current.ai;\n\n    if (!ai.type && !numberRegex.test(code)) {\n      throw new Error(\"Application identifier \" + current.id + \" is numeric only but contains non numeric character(s).\");\n    }\n\n    if (ai.type === \"alphanumeric\" && !alphanumericRegex.test(code)) {\n      throw new Error(\"Application identifier \" + current.id + \" is alphanumeric only but contains non alphanumeric character(s).\");\n    }\n\n    if (ai.length && ai.length !== code.length) {\n      throw new Error(\"Application identifier \" + current.id + \" must be \" + ai.length + \" characters long.\");\n    }\n\n    if (ai.min && ai.min > code.length) {\n      throw new Error(\"Application identifier \" + current.id + \" must be at least \" + ai.min + \" characters long.\");\n    }\n\n    if (ai.max && ai.max < code.length) {\n      throw new Error(\"Application identifier \" + current.id + \" must be at most \" + ai.max + \" characters long.\");\n    }\n  };\n\n  States128FNC1.prototype.getByLength = function getByLength(value, index) {\n    var this$1 = this;\n    var id;\n    var applicationIdentifier;\n\n    for (var i = 2; i <= 4; i++) {\n      id = getSubstring(value, index, i);\n      applicationIdentifier = this$1.getApplicationIdentifier(id) || this$1.getApplicationIdentifier(id.substring(0, id.length - 1));\n\n      if (applicationIdentifier) {\n        return {\n          id: id,\n          ai: applicationIdentifier\n        };\n      }\n    }\n\n    this.unsupportedAIError(id);\n  };\n\n  States128FNC1.prototype.unsupportedAIError = function unsupportedAIError(id) {\n    throw new Error(\"'\" + id + \"' is not a supported Application Identifier\");\n  };\n\n  States128FNC1.prototype.getBySeparator = function getBySeparator(value, index) {\n    var start = value.indexOf(this.startAI, index),\n        end = value.indexOf(this.endAI, start),\n        id = value.substring(start + 1, end),\n        ai = this.getApplicationIdentifier(id) || this.getApplicationIdentifier(id.substr(id.length - 1));\n\n    if (!ai) {\n      this.unsupportedAIError(id);\n    }\n\n    return {\n      ai: ai,\n      id: id\n    };\n  };\n\n  States128FNC1.prototype.getApplicationIdentifier = function getApplicationIdentifier(id) {\n    var applicationIdentifier = this.applicationIdentifiers,\n        multiKey = applicationIdentifier.multiKey;\n\n    if (applicationIdentifier[id]) {\n      return applicationIdentifier[id];\n    }\n\n    for (var i = 0; i < multiKey.length; i++) {\n      if (multiKey[i].ids && inArray(id, multiKey[i].ids)) {\n        return multiKey[i].type;\n      } else if (multiKey[i].ranges) {\n        var ranges = multiKey[i].ranges;\n\n        for (var j = 0; j < ranges.length; j++) {\n          if (ranges[j][0] <= id && id <= ranges[j][1]) {\n            return multiKey[i].type;\n          }\n        }\n      }\n    }\n  };\n\n  return States128FNC1;\n}(State128);\n\nexport var Code128Base = function (Encoding) {\n  function Code128Base(options) {\n    Encoding.call(this, options);\n\n    this._initStates();\n  }\n\n  if (Encoding) Code128Base.__proto__ = Encoding;\n  Code128Base.prototype = Object.create(Encoding && Encoding.prototype);\n  Code128Base.prototype.constructor = Code128Base;\n\n  Code128Base.prototype.initProperties = function initProperties() {\n    Encoding.prototype.initProperties.call(this);\n    extend(this, {\n      characterMap: [212222, 222122, 222221, 121223, 121322, 131222, 122213, 122312, 132212, 221213, 221312, 231212, 112232, 122132, 122231, 113222, 123122, 123221, 223211, 221132, 221231, 213212, 223112, 312131, 311222, 321122, 321221, 312212, 322112, 322211, 212123, 212321, 232121, 111323, 131123, 131321, 112313, 132113, 132311, 211313, 231113, 231311, 112133, 112331, 132131, 113123, 113321, 133121, 313121, 211331, 231131, 213113, 213311, 213131, 311123, 311321, 331121, 312113, 312311, 332111, 314111, 221411, 431111, 111224, 111422, 121124, 121421, 141122, 141221, 112214, 112412, 122114, 122411, 142112, 142211, 241211, 221114, 413111, 241112, 134111, 111242, 121142, 121241, 114212, 124112, 124211, 411212, 421112, 421211, 212141, 214121, 412121, 111143, 111341, 131141, 114113, 114311, 411113, 411311, 113141, 114131, 311141, 411131, 211412, 211214, 211232, 2331112],\n      STOP: 106\n    });\n  };\n\n  Code128Base.prototype._initStates = function _initStates() {\n    var this$1 = this;\n\n    for (var i = 0; i < this.states.length; i++) {\n      this$1[this$1.states[i]] = new states128[this$1.states[i]](this$1, this$1.states);\n    }\n  };\n\n  Code128Base.prototype.initValue = function initValue(value, width, height) {\n    this.pattern = [];\n    this.value = value;\n    this.width = width;\n    this.height = height;\n    this.checkSum = 0;\n    this.totalUnits = 0;\n    this.index = 0;\n    this.position = 1;\n  };\n\n  Code128Base.prototype.addData = function addData() {\n    var encodingState = {\n      value: this.value,\n      index: 0,\n      state: \"\"\n    };\n\n    if (this.value.length === 0) {\n      return;\n    }\n\n    encodingState.state = encodingState.previousState = this.getNextState(encodingState, this.states);\n    this.addStart(encodingState);\n    this.pushData(encodingState, this.states);\n    this.addCheckSum();\n    this.addStop();\n    this.setBaseUnit();\n  };\n\n  Code128Base.prototype.pushData = function pushData(encodingState, states) {\n    var this$1 = this;\n    var trueCondition = true;\n\n    while (trueCondition) {\n      this$1[encodingState.state].pushState(encodingState);\n\n      if (encodingState.index >= encodingState.value.length) {\n        break;\n      }\n\n      if (!encodingState.shifted) {\n        encodingState.previousState = encodingState.state;\n        encodingState.state = this$1.getNextState(encodingState, states);\n        this$1[encodingState.state].move(encodingState);\n      } else {\n        var temp = encodingState.state;\n        encodingState.state = encodingState.previousState;\n        encodingState.previousState = temp;\n        encodingState.shifted = false;\n      }\n    }\n  };\n\n  Code128Base.prototype.addStart = function addStart(encodingState) {\n    this[encodingState.state].addStart(encodingState);\n    this.position = 1;\n  };\n\n  Code128Base.prototype.addCheckSum = function addCheckSum() {\n    this.checksum = this.checkSum % 103;\n    this.addPattern(this.checksum);\n  };\n\n  Code128Base.prototype.addStop = function addStop() {\n    this.addPattern(this.STOP);\n  };\n\n  Code128Base.prototype.setBaseUnit = function setBaseUnit() {\n    this.baseUnit = this.width / (this.totalUnits + this.quietZoneLength);\n  };\n\n  Code128Base.prototype.addPattern = function addPattern(code) {\n    var this$1 = this;\n    var pattern = this.characterMap[code].toString();\n    var value;\n\n    for (var i = 0; i < pattern.length; i++) {\n      value = parseInt(pattern.charAt(i), 10);\n      this$1.pattern.push(value);\n      this$1.totalUnits += value;\n    }\n\n    this.checkSum += code * this.position++;\n  };\n\n  Code128Base.prototype.getNextState = function getNextState(encodingState, states) {\n    var this$1 = this;\n\n    for (var i = 0; i < states.length; i++) {\n      if (this$1[states[i]].is(encodingState.value, encodingState.index)) {\n        return states[i];\n      }\n    }\n\n    this.invalidCharacterError(encodingState.value.charAt(encodingState.index));\n  };\n\n  return Code128Base;\n}(Encoding);\nexport var Code128a = function (Code128Base) {\n  function Code128a() {\n    Code128Base.apply(this, arguments);\n  }\n\n  if (Code128Base) Code128a.__proto__ = Code128Base;\n  Code128a.prototype = Object.create(Code128Base && Code128Base.prototype);\n  Code128a.prototype.constructor = Code128a;\n\n  Code128a.prototype.initProperties = function initProperties() {\n    Code128Base.prototype.initProperties.call(this);\n    extend(this, {\n      name: \"Code 128 A\",\n      states: [\"A\"]\n    });\n  };\n\n  return Code128a;\n}(Code128Base);\nexport var Code128b = function (Code128Base) {\n  function Code128b() {\n    Code128Base.apply(this, arguments);\n  }\n\n  if (Code128Base) Code128b.__proto__ = Code128Base;\n  Code128b.prototype = Object.create(Code128Base && Code128Base.prototype);\n  Code128b.prototype.constructor = Code128b;\n\n  Code128b.prototype.initProperties = function initProperties() {\n    Code128Base.prototype.initProperties.call(this);\n    extend(this, {\n      name: \"Code 128 B\",\n      states: [\"B\"]\n    });\n  };\n\n  return Code128b;\n}(Code128Base);\nexport var Code128c = function (Code128Base) {\n  function Code128c() {\n    Code128Base.apply(this, arguments);\n  }\n\n  if (Code128Base) Code128c.__proto__ = Code128Base;\n  Code128c.prototype = Object.create(Code128Base && Code128Base.prototype);\n  Code128c.prototype.constructor = Code128c;\n\n  Code128c.prototype.initProperties = function initProperties() {\n    Code128Base.prototype.initProperties.call(this);\n    extend(this, {\n      name: \"Code 128 C\",\n      states: [\"C\"]\n    });\n  };\n\n  return Code128c;\n}(Code128Base);\nexport var Code128 = function (Code128Base) {\n  function Code128() {\n    Code128Base.apply(this, arguments);\n  }\n\n  if (Code128Base) Code128.__proto__ = Code128Base;\n  Code128.prototype = Object.create(Code128Base && Code128Base.prototype);\n  Code128.prototype.constructor = Code128;\n\n  Code128.prototype.initProperties = function initProperties() {\n    Code128Base.prototype.initProperties.call(this);\n    extend(this, {\n      name: \"Code 128\",\n      states: [\"C\", \"B\", \"A\", \"FNC4\"]\n    });\n  };\n\n  return Code128;\n}(Code128Base);\nexport var CodeGS1128 = function (Code128Base) {\n  function CodeGS1128() {\n    Code128Base.apply(this, arguments);\n  }\n\n  if (Code128Base) CodeGS1128.__proto__ = Code128Base;\n  CodeGS1128.prototype = Object.create(Code128Base && Code128Base.prototype);\n  CodeGS1128.prototype.constructor = CodeGS1128;\n\n  CodeGS1128.prototype.initProperties = function initProperties() {\n    Code128Base.prototype.initProperties.call(this);\n    extend(this, {\n      name: \"Code GS1-128\",\n      states: [\"FNC1\", \"C\", \"B\"]\n    });\n  };\n\n  return CodeGS1128;\n}(Code128Base);\n\nfunction getSubstring(value, index, count) {\n  return value.substring(index, index + count);\n}","map":{"version":3,"sources":["/home/meryem/repos/Movie_Trend_Visualizer/client/node_modules/@progress/kendo-charts/dist/es/barcode/encodings/code128.js"],"names":["Class","Encoding","deepExtend","inArray","numberRegex","alphanumericRegex","extend","Object","assign","State128","encoding","call","initProperties","__proto__","prototype","create","constructor","addStart","is","isCode","move","pushState","State128AB","states","_initMoves","FNC4","SHIFT","addPattern","START","value","index","code","charCodeAt","encodingState","idx","_moves","length","this$1","maxLength","numberMatch","substr","match","indexOf","getValue","push","_moveFNC","shiftKey","_shiftState","_moveState","fnc","previousState","key","shifted","MOVE","states128","A","State128A","apply","arguments","B","State128B","C","State128C","next4","getSubstring","test","parseInt","State128FNC4","_initSubStates","dependentStates","subState","_getSubState","_initSubState","state","_pushStart","pushData","subStates","_getAll","i","result","String","fromCharCode","FNC1","States128FNC1","startState","startAI","endAI","applicationIdentifiers","max","type","min","multiKey","ids","ranges","replace","regexSeparators","RegExp","current","nextStart","separatorLength","trueCondition","charAt","getBySeparator","getByLength","ai","id","Error","substring","validate","applicationIdentifier","getApplicationIdentifier","unsupportedAIError","start","end","j","Code128Base","options","_initStates","characterMap","STOP","initValue","width","height","pattern","checkSum","totalUnits","position","addData","getNextState","addCheckSum","addStop","setBaseUnit","temp","checksum","baseUnit","quietZoneLength","toString","invalidCharacterError","Code128a","name","Code128b","Code128c","Code128","CodeGS1128","count"],"mappings":"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","sourcesContent":["import { Class } from '../../common';\nimport { Encoding } from './encoding';\nimport deepExtend from '../../common/deep-extend';\nimport inArray from '../../common/in-array';\n\nvar numberRegex = /^\\d+$/;\nvar alphanumericRegex = /^[a-z0-9]+$/i;\nvar extend = Object.assign;\n\nexport var State128 = (function (Class) {\n    function State128(encoding) {\n        Class.call(this);\n        this.encoding = encoding;\n        this.initProperties();\n    }\n\n    if ( Class ) State128.__proto__ = Class;\n    State128.prototype = Object.create( Class && Class.prototype );\n    State128.prototype.constructor = State128;\n\n    State128.prototype.initProperties = function initProperties () { };\n\n    State128.prototype.addStart = function addStart () { };\n\n    State128.prototype.is = function is () { };\n\n    State128.prototype.isCode = function isCode () {\n        return false;\n    };\n\n    State128.prototype.move = function move () { };\n\n    State128.prototype.pushState = function pushState () { };\n\n    return State128;\n}(Class));\n\nexport var State128AB = (function (State128) {\n    function State128AB(encoding, states) {\n        State128.call(this, encoding);\n        this.states = states;\n        this._initMoves(states);\n    }\n\n    if ( State128 ) State128AB.__proto__ = State128;\n    State128AB.prototype = Object.create( State128 && State128.prototype );\n    State128AB.prototype.constructor = State128AB;\n\n    State128AB.prototype.initProperties = function initProperties () {\n        State128.prototype.initProperties.call(this);\n\n        deepExtend(this, {\n            FNC4: \"FNC4\",\n            SHIFT: 98\n        });\n    };\n\n    State128AB.prototype.addStart = function addStart () {\n        this.encoding.addPattern(this.START);\n    };\n\n    State128AB.prototype.is = function is (value, index) {\n        var code = value.charCodeAt(index);\n        return this.isCode(code);\n    };\n\n    State128AB.prototype.move = function move (encodingState) {\n        var idx = 0;\n\n        while (!this._moves[idx].call(this, encodingState) && idx < this._moves.length) {\n            idx++;\n        }\n    };\n\n    State128AB.prototype.pushState = function pushState (encodingState) {\n        var this$1 = this;\n\n        var states = this.states,\n            value = encodingState.value,\n            maxLength = value.length,\n            code;\n\n        if (inArray(\"C\", states)) {\n            var numberMatch = value.substr(encodingState.index).match(/\\d{4,}/g);\n\n            if (numberMatch) {\n                maxLength = value.indexOf(numberMatch[0], encodingState.index);\n            }\n        }\n\n        while ((code = encodingState.value.charCodeAt(encodingState.index)) >= 0 &&\n            this.isCode(code) &&\n            encodingState.index < maxLength) {\n            this$1.encoding.addPattern(this$1.getValue(code));\n            encodingState.index++;\n        }\n    };\n\n    State128AB.prototype._initMoves = function _initMoves (states) {\n        this._moves = [];\n\n        if (inArray(this.FNC4, states)) {\n            this._moves.push(this._moveFNC);\n        }\n\n        if (inArray(this.shiftKey, states)) {\n            this._moves.push(this._shiftState);\n        }\n\n        this._moves.push(this._moveState);\n    };\n\n    State128AB.prototype._moveFNC = function _moveFNC (encodingState) {\n        if (encodingState.fnc) {\n            encodingState.fnc = false;\n            return encodingState.previousState === this.key;\n        }\n    };\n\n    State128AB.prototype._shiftState = function _shiftState (encodingState) {\n        if (encodingState.previousState === this.shiftKey &&\n            (encodingState.index + 1 >= encodingState.value.length ||\n                this.encoding[this.shiftKey].is(encodingState.value, encodingState.index + 1))) {\n            this.encoding.addPattern(this.SHIFT);\n            encodingState.shifted = true;\n            return true;\n        }\n    };\n\n    State128AB.prototype._moveState = function _moveState () {\n        this.encoding.addPattern(this.MOVE);\n        return true;\n    };\n\n    return State128AB;\n}(State128));\n\nvar states128 = {};\n\nstates128.A = (function (State128AB) {\n    function State128A () {\n        State128AB.apply(this, arguments);\n    }\n\n    if ( State128AB ) State128A.__proto__ = State128AB;\n    State128A.prototype = Object.create( State128AB && State128AB.prototype );\n    State128A.prototype.constructor = State128A;\n\n    State128A.prototype.initProperties = function initProperties () {\n        State128AB.prototype.initProperties.call(this);\n\n        extend(this, {\n            key: \"A\",\n            shiftKey: \"B\",\n            MOVE: 101,\n            START: 103\n        });\n    };\n\n    State128A.prototype.isCode = function isCode (code) {\n        return 0 <= code && code < 96;\n    };\n\n    State128A.prototype.getValue = function getValue (code) {\n        if (code < 32) {\n            return code + 64;\n        }\n\n        return code - 32;\n    };\n\n    return State128A;\n}(State128AB));\n\nstates128.B = (function (State128AB) {\n    function State128B () {\n        State128AB.apply(this, arguments);\n    }\n\n    if ( State128AB ) State128B.__proto__ = State128AB;\n    State128B.prototype = Object.create( State128AB && State128AB.prototype );\n    State128B.prototype.constructor = State128B;\n\n    State128B.prototype.initProperties = function initProperties () {\n        State128AB.prototype.initProperties.call(this);\n\n        extend(this, {\n            key: \"B\",\n            shiftKey: \"A\",\n            MOVE: 100,\n            START: 104\n        });\n    };\n\n    State128B.prototype.isCode = function isCode (code) {\n        return 32 <= code && code < 128;\n    };\n\n    State128B.prototype.getValue = function getValue (code) {\n        return code - 32;\n    };\n\n    return State128B;\n}(State128AB));\n\nstates128.C = (function (State128) {\n    function State128C () {\n        State128.apply(this, arguments);\n    }\n\n    if ( State128 ) State128C.__proto__ = State128;\n    State128C.prototype = Object.create( State128 && State128.prototype );\n    State128C.prototype.constructor = State128C;\n\n    State128C.prototype.initProperties = function initProperties () {\n        State128.prototype.initProperties.call(this);\n\n        extend(this, {\n            key: \"C\",\n            MOVE: 99,\n            START: 105\n        });\n    };\n\n    State128C.prototype.addStart = function addStart () {\n        this.encoding.addPattern(this.START);\n    };\n\n    State128C.prototype.is = function is (value, index) {\n        var next4 = getSubstring(value, index, 4);\n        return (index + 4 <= value.length || value.length === 2) && numberRegex.test(next4);\n    };\n\n    State128C.prototype.move = function move () {\n        this.encoding.addPattern(this.MOVE);\n    };\n\n    State128C.prototype.pushState = function pushState (encodingState) {\n        var this$1 = this;\n\n        var code;\n\n        while ((code = getSubstring(encodingState.value, encodingState.index, 2)) &&\n            numberRegex.test(code) && code.length === 2) {\n            this$1.encoding.addPattern(parseInt(code, 10));\n            encodingState.index += 2;\n        }\n    };\n\n    State128C.prototype.getValue = function getValue (code) {\n        return code;\n    };\n\n    return State128C;\n}(State128));\n\nstates128.FNC4 = (function (State128) {\n    function State128FNC4(encoding, states) {\n        State128.call(this, encoding);\n        this._initSubStates(states);\n    }\n\n    if ( State128 ) State128FNC4.__proto__ = State128;\n    State128FNC4.prototype = Object.create( State128 && State128.prototype );\n    State128FNC4.prototype.constructor = State128FNC4;\n\n    State128FNC4.prototype.initProperties = function initProperties () {\n        State128.prototype.initProperties.call(this);\n\n        extend(this, {\n            key: \"FNC4\",\n            dependentStates: [\"A\", \"B\"]\n        });\n    };\n\n    State128FNC4.prototype.addStart = function addStart (encodingState) {\n        var code = encodingState.value.charCodeAt(0) - 128,\n            subState = this._getSubState(code);\n\n        this.encoding[subState].addStart();\n    };\n\n    State128FNC4.prototype.is = function is (value, index) {\n        var code = value.charCodeAt(index);\n        return this.isCode(code);\n    };\n\n    State128FNC4.prototype.isCode = function isCode (code) {\n        return 128 <= code && code < 256;\n    };\n\n    State128FNC4.prototype.pushState = function pushState (encodingState) {\n        var this$1 = this;\n\n        var subState = this._initSubState(encodingState),\n            encoding = this.encoding,\n            length = subState.value.length;\n        var code;\n\n        encodingState.index += length;\n\n        if (length < 3) {\n            for (; subState.index < length; subState.index++) {\n                code = subState.value.charCodeAt(subState.index);\n                subState.state = this$1._getSubState(code);\n\n                if (subState.previousState !== subState.state) {\n                    subState.previousState = subState.state;\n                    encoding[subState.state].move(subState);\n                }\n\n                encoding.addPattern(encoding[subState.state].MOVE);\n                encoding.addPattern(encoding[subState.state].getValue(code));\n            }\n        } else {\n            if (subState.state !== subState.previousState) {\n                encoding[subState.state].move(subState);\n            }\n\n            this._pushStart(subState);\n            encoding.pushData(subState, this.subStates);\n\n            if (encodingState.index < encodingState.value.length) {\n                this._pushStart(subState);\n            }\n        }\n\n        encodingState.fnc = true;\n        encodingState.state = subState.state;\n    };\n\n    State128FNC4.prototype._pushStart = function _pushStart (subState) {\n        this.encoding.addPattern(this.encoding[subState.state].MOVE);\n        this.encoding.addPattern(this.encoding[subState.state].MOVE);\n    };\n\n    State128FNC4.prototype._initSubState = function _initSubState (encodingState) {\n        var subState = {\n            value: this._getAll(encodingState.value, encodingState.index),\n            index: 0\n        };\n\n        subState.state = this._getSubState(subState.value.charCodeAt(0));\n        subState.previousState = encodingState.previousState === this.key ?\n            subState.state :\n            encodingState.previousState;\n\n        return subState;\n    };\n\n    State128FNC4.prototype._initSubStates = function _initSubStates (states) {\n        var this$1 = this;\n\n        this.subStates = [];\n\n        for (var i = 0; i < states.length; i++) {\n            if (inArray(states[i], this$1.dependentStates)) {\n                this$1.subStates.push(states[i]);\n            }\n        }\n    };\n\n    State128FNC4.prototype._getSubState = function _getSubState (code) {\n        var this$1 = this;\n\n        for (var i = 0; i < this.subStates.length; i++) {\n            if (this$1.encoding[this$1.subStates[i]].isCode(code)) {\n                return this$1.subStates[i];\n            }\n        }\n    };\n\n    State128FNC4.prototype._getAll = function _getAll (value, index) {\n        var code;\n        var result = \"\";\n        var i = index;\n\n        while ((code = value.charCodeAt(i++)) && this.isCode(code)) {\n            result += String.fromCharCode(code - 128);\n        }\n\n        return result;\n    };\n\n    return State128FNC4;\n}(State128));\n\nstates128.FNC1 = (function (State128) {\n    function States128FNC1(encoding, states) {\n        State128.call(this, encoding);\n        this.states = states;\n    }\n\n    if ( State128 ) States128FNC1.__proto__ = State128;\n    States128FNC1.prototype = Object.create( State128 && State128.prototype );\n    States128FNC1.prototype.constructor = States128FNC1;\n\n    States128FNC1.prototype.initProperties = function initProperties () {\n        State128.prototype.initProperties.call(this);\n\n        extend(this, {\n            key: \"FNC1\",\n            startState: \"C\",\n            startAI: \"(\",\n            endAI: \")\",\n            dependentStates: [\"C\", \"B\"],\n            applicationIdentifiers: {\n                \"22\": { max: 29, type: \"alphanumeric\" },\n                \"402\": { length: 17 },\n                \"7004\": { max: 4, type: \"alphanumeric\" },\n                \"242\": { max: 6, type: \"alphanumeric\" },\n                \"8020\": { max: 25, type: \"alphanumeric\" },\n                \"703\": { min: 3, max: 30, type: \"alphanumeric\" },\n                \"8008\": { min: 8, max: 12, type: \"alphanumeric\" },\n                \"253\": { min: 13, max: 17, type: \"alphanumeric\" },\n                \"8003\": { min: 14, max: 30, type: \"alphanumeric\" },\n                multiKey: [{\n                    ids: [\"15\", \"17\", \"8005\", \"8100\"],\n                    ranges: [\n                        [11, 13],\n                        [310, 316],\n                        [320, 336],\n                        [340, 369]\n                    ],\n                    type: { length: 6 }\n                }, {\n                    ids: [\"240\", \"241\", \"250\", \"251\", \"400\", \"401\", \"403\", \"7002\", \"8004\", \"8007\", \"8110\"],\n                    ranges: [[90 - 99]],\n                    type: { max: 30, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"7001\"],\n                    ranges: [[410, 414]],\n                    type: { length: 13 }\n                }, {\n                    ids: [\"10\", \"21\", \"254\", \"420\", \"8002\"],\n                    type: { max: 20, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"00\", \"8006\", \"8017\", \"8018\"],\n                    type: { length: 18 }\n                }, {\n                    ids: [\"01\", \"02\", \"8001\"],\n                    type: { length: 14 }\n                }, {\n                    ids: [\"422\"],\n                    ranges: [\n                        [424, 426]\n                    ],\n                    type: { length: 3 }\n                }, {\n                    ids: [\"20\", \"8102\"],\n                    type: { length: 2 }\n                }, {\n                    ids: [\"30\", \"37\"],\n                    type: { max: 8, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"390\", \"392\"],\n                    type: { max: 15, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"421\", \"423\"],\n                    type: { min: 3, max: 15, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"391\", \"393\"],\n                    type: { min: 3, max: 18, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"7003\", \"8101\"],\n                    type: { length: 10 }\n                }]\n            },\n            START: 102\n        });\n    };\n\n\n    States128FNC1.prototype.addStart = function addStart () {\n        this.encoding[this.startState].addStart();\n    };\n\n    States128FNC1.prototype.is = function is () {\n        return inArray(this.key, this.states);\n    };\n\n    States128FNC1.prototype.pushState = function pushState (encodingState) {\n        var this$1 = this;\n\n        var encoding = this.encoding,\n            value = encodingState.value.replace(/\\s/g, \"\"),\n            regexSeparators = new RegExp(\"[\" + this.startAI + this.endAI + \"]\", \"g\"),\n            index = encodingState.index,\n            subState = {\n                state: this.startState\n            },\n            current,\n            nextStart,\n            separatorLength;\n\n        encoding.addPattern(this.START);\n\n        var trueCondition = true;\n\n        while (trueCondition) {\n            subState.index = 0;\n\n            separatorLength = value.charAt(index) === this$1.startAI ? 2 : 0;\n            current = separatorLength > 0 ? this$1.getBySeparator(value, index) : this$1.getByLength(value, index);\n\n            if (current.ai.length) {\n                nextStart = index + separatorLength + current.id.length + current.ai.length;\n            } else {\n                nextStart = value.indexOf(this$1.startAI, index + 1);\n\n                if (nextStart < 0) {\n                    if (index + current.ai.max + current.id.length + separatorLength < value.length) {\n                        throw new Error(\"Separators are required after variable length identifiers\");\n                    }\n\n                    nextStart = value.length;\n                }\n            }\n\n            subState.value = value.substring(index, nextStart).replace(regexSeparators, \"\");\n            this$1.validate(current, subState.value);\n            encoding.pushData(subState, this$1.dependentStates);\n\n            if (nextStart >= value.length) {\n                break;\n            }\n\n            index = nextStart;\n\n            if (subState.state !== this$1.startState) {\n                encoding[this$1.startState].move(subState);\n                subState.state = this$1.startState;\n            }\n\n            if (!current.ai.length) {\n                encoding.addPattern(this$1.START);\n            }\n        }\n\n        encodingState.index = encodingState.value.length;\n    };\n\n    States128FNC1.prototype.validate = function validate (current, value) {\n        var code = value.substr(current.id.length),\n            ai = current.ai;\n\n        if (!ai.type && !numberRegex.test(code)) {\n            throw new Error(\"Application identifier \" + current.id + \" is numeric only but contains non numeric character(s).\");\n        }\n\n        if (ai.type === \"alphanumeric\" && !alphanumericRegex.test(code)) {\n            throw new Error(\"Application identifier \" + current.id + \" is alphanumeric only but contains non alphanumeric character(s).\");\n        }\n\n        if (ai.length && ai.length !== code.length) {\n            throw new Error(\"Application identifier \" + current.id + \" must be \" + ai.length + \" characters long.\");\n        }\n\n        if (ai.min && ai.min > code.length) {\n            throw new Error(\"Application identifier \" + current.id + \" must be at least \" + ai.min + \" characters long.\");\n        }\n\n        if (ai.max && ai.max < code.length) {\n            throw new Error(\"Application identifier \" + current.id + \" must be at most \" + ai.max + \" characters long.\");\n        }\n    };\n\n    States128FNC1.prototype.getByLength = function getByLength (value, index) {\n        var this$1 = this;\n\n        var id;\n        var applicationIdentifier;\n\n        for (var i = 2; i <= 4; i++) {\n            id = getSubstring(value, index, i);\n            applicationIdentifier = this$1.getApplicationIdentifier(id) || this$1.getApplicationIdentifier(id.substring(0, id.length - 1));\n            if (applicationIdentifier) {\n                return {\n                    id: id,\n                    ai: applicationIdentifier\n                };\n            }\n        }\n        this.unsupportedAIError(id);\n    };\n\n    States128FNC1.prototype.unsupportedAIError = function unsupportedAIError (id) {\n        throw new Error(\"'\" + id + \"' is not a supported Application Identifier\");\n    };\n\n    States128FNC1.prototype.getBySeparator = function getBySeparator (value, index) {\n        var start = value.indexOf(this.startAI, index),\n            end = value.indexOf(this.endAI, start),\n            id = value.substring(start + 1, end),\n            ai = this.getApplicationIdentifier(id) || this.getApplicationIdentifier(id.substr(id.length - 1));\n\n        if (!ai) {\n            this.unsupportedAIError(id);\n        }\n\n        return {\n            ai: ai,\n            id: id\n        };\n    };\n\n    States128FNC1.prototype.getApplicationIdentifier = function getApplicationIdentifier (id) {\n        var applicationIdentifier = this.applicationIdentifiers,\n            multiKey = applicationIdentifier.multiKey;\n\n        if (applicationIdentifier[id]) {\n            return applicationIdentifier[id];\n        }\n\n        for (var i = 0; i < multiKey.length; i++) {\n            if (multiKey[i].ids && inArray(id, multiKey[i].ids)) {\n                return multiKey[i].type;\n            } else if (multiKey[i].ranges) {\n                var ranges = multiKey[i].ranges;\n\n                for (var j = 0; j < ranges.length; j++) {\n                    if (ranges[j][0] <= id && id <= ranges[j][1]) {\n                        return multiKey[i].type;\n                    }\n                }\n            }\n        }\n    };\n\n    return States128FNC1;\n}(State128));\n\nexport var Code128Base = (function (Encoding) {\n    function Code128Base(options) {\n        Encoding.call(this, options);\n        this._initStates();\n    }\n\n    if ( Encoding ) Code128Base.__proto__ = Encoding;\n    Code128Base.prototype = Object.create( Encoding && Encoding.prototype );\n    Code128Base.prototype.constructor = Code128Base;\n\n    Code128Base.prototype.initProperties = function initProperties () {\n        Encoding.prototype.initProperties.call(this);\n\n        extend(this, {\n            characterMap: [\n                212222, 222122, 222221, 121223, 121322, 131222, 122213, 122312, 132212, 221213,\n                221312, 231212, 112232, 122132, 122231, 113222, 123122, 123221, 223211, 221132,\n                221231, 213212, 223112, 312131, 311222, 321122, 321221, 312212, 322112, 322211,\n                212123, 212321, 232121, 111323, 131123, 131321, 112313, 132113, 132311, 211313,\n                231113, 231311, 112133, 112331, 132131, 113123, 113321, 133121, 313121, 211331,\n                231131, 213113, 213311, 213131, 311123, 311321, 331121, 312113, 312311, 332111,\n                314111, 221411, 431111, 111224, 111422, 121124, 121421, 141122, 141221, 112214,\n                112412, 122114, 122411, 142112, 142211, 241211, 221114, 413111, 241112, 134111,\n                111242, 121142, 121241, 114212, 124112, 124211, 411212, 421112, 421211, 212141,\n                214121, 412121, 111143, 111341, 131141, 114113, 114311, 411113, 411311, 113141,\n                114131, 311141, 411131, 211412, 211214, 211232, 2331112\n            ],\n            STOP: 106\n        });\n    };\n\n    Code128Base.prototype._initStates = function _initStates () {\n        var this$1 = this;\n\n        for (var i = 0; i < this.states.length; i++) {\n            this$1[this$1.states[i]] = new states128[this$1.states[i]](this$1, this$1.states);\n        }\n    };\n\n    Code128Base.prototype.initValue = function initValue (value, width, height) {\n        this.pattern = [];\n        this.value = value;\n        this.width = width;\n        this.height = height;\n        this.checkSum = 0;\n        this.totalUnits = 0;\n        this.index = 0;\n        this.position = 1;\n    };\n\n    Code128Base.prototype.addData = function addData () {\n        var encodingState = {\n            value: this.value,\n            index: 0,\n            state: \"\"\n        };\n\n        if (this.value.length === 0) {\n            return;\n        }\n\n        encodingState.state =\n            encodingState.previousState = this.getNextState(encodingState, this.states);\n\n        this.addStart(encodingState);\n\n        this.pushData(encodingState, this.states);\n\n        this.addCheckSum();\n        this.addStop();\n        this.setBaseUnit();\n    };\n\n    Code128Base.prototype.pushData = function pushData (encodingState, states) {\n        var this$1 = this;\n\n        var trueCondition = true;\n\n        while (trueCondition) {\n            this$1[encodingState.state].pushState(encodingState);\n\n            if (encodingState.index >= encodingState.value.length) {\n                break;\n            }\n\n            if (!encodingState.shifted) {\n                encodingState.previousState = encodingState.state;\n                encodingState.state = this$1.getNextState(encodingState, states);\n                this$1[encodingState.state].move(encodingState);\n            } else {\n                var temp = encodingState.state;\n                encodingState.state = encodingState.previousState;\n                encodingState.previousState = temp;\n                encodingState.shifted = false;\n            }\n        }\n    };\n\n    Code128Base.prototype.addStart = function addStart (encodingState) {\n        this[encodingState.state].addStart(encodingState);\n        this.position = 1;\n    };\n\n    Code128Base.prototype.addCheckSum = function addCheckSum () {\n        this.checksum = this.checkSum % 103;\n        this.addPattern(this.checksum);\n    };\n\n    Code128Base.prototype.addStop = function addStop () {\n        this.addPattern(this.STOP);\n    };\n\n    Code128Base.prototype.setBaseUnit = function setBaseUnit () {\n        this.baseUnit = this.width / (this.totalUnits + this.quietZoneLength);\n    };\n\n    Code128Base.prototype.addPattern = function addPattern (code) {\n        var this$1 = this;\n\n        var pattern = this.characterMap[code].toString();\n        var value;\n\n        for (var i = 0; i < pattern.length; i++) {\n            value = parseInt(pattern.charAt(i), 10);\n            this$1.pattern.push(value);\n            this$1.totalUnits += value;\n        }\n        this.checkSum += code * this.position++;\n    };\n\n    Code128Base.prototype.getNextState = function getNextState (encodingState, states) {\n        var this$1 = this;\n\n        for (var i = 0; i < states.length; i++) {\n            if (this$1[states[i]].is(encodingState.value, encodingState.index)) {\n                return states[i];\n            }\n        }\n\n        this.invalidCharacterError(encodingState.value.charAt(encodingState.index));\n    };\n\n    return Code128Base;\n}(Encoding));\n\nexport var Code128a = (function (Code128Base) {\n    function Code128a () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) Code128a.__proto__ = Code128Base;\n    Code128a.prototype = Object.create( Code128Base && Code128Base.prototype );\n    Code128a.prototype.constructor = Code128a;\n\n    Code128a.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend(this, {\n            name: \"Code 128 A\",\n            states: [\"A\"]\n        });\n    };\n\n    return Code128a;\n}(Code128Base));\n\nexport var Code128b = (function (Code128Base) {\n    function Code128b () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) Code128b.__proto__ = Code128Base;\n    Code128b.prototype = Object.create( Code128Base && Code128Base.prototype );\n    Code128b.prototype.constructor = Code128b;\n\n    Code128b.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend(this, {\n            name: \"Code 128 B\",\n            states: [\"B\"]\n        });\n    };\n\n    return Code128b;\n}(Code128Base));\n\nexport var Code128c = (function (Code128Base) {\n    function Code128c () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) Code128c.__proto__ = Code128Base;\n    Code128c.prototype = Object.create( Code128Base && Code128Base.prototype );\n    Code128c.prototype.constructor = Code128c;\n\n    Code128c.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend(this, {\n            name: \"Code 128 C\",\n            states: [\"C\"]\n        });\n    };\n\n    return Code128c;\n}(Code128Base));\n\nexport var Code128 = (function (Code128Base) {\n    function Code128 () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) Code128.__proto__ = Code128Base;\n    Code128.prototype = Object.create( Code128Base && Code128Base.prototype );\n    Code128.prototype.constructor = Code128;\n\n    Code128.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend(this, {\n            name: \"Code 128\",\n            states: [\"C\", \"B\", \"A\", \"FNC4\"]\n        });\n    };\n\n    return Code128;\n}(Code128Base));\n\nexport var CodeGS1128 = (function (Code128Base) {\n    function CodeGS1128 () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) CodeGS1128.__proto__ = Code128Base;\n    CodeGS1128.prototype = Object.create( Code128Base && Code128Base.prototype );\n    CodeGS1128.prototype.constructor = CodeGS1128;\n\n    CodeGS1128.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend(this, {\n            name: \"Code GS1-128\",\n            states: [\"FNC1\", \"C\", \"B\"]\n        });\n    };\n\n    return CodeGS1128;\n}(Code128Base));\n\nfunction getSubstring(value, index, count) {\n    return value.substring(index, index + count);\n}\n"]},"metadata":{},"sourceType":"module"}