'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _progress_kendoDrawing = require('@progress/kendo-drawing');

var ARC = "arc";
var AXIS_LABEL_CLICK = "axisLabelClick";
var BLACK = "#000";
var BOTTOM = "bottom";
var CENTER = "center";
var CIRCLE = "circle";
var COORD_PRECISION = 3;
var CROSS = "cross";
var DATE = "date";
var DEFAULT_FONT = "12px sans-serif";
var DEFAULT_HEIGHT = 400;
var DEFAULT_PRECISION = 10;
var DEFAULT_WIDTH = 600;
var END = "end";
var FORMAT_REGEX = /\{\d+:?/;
var HEIGHT = "height";
var HIGHLIGHT_ZINDEX = 100;
var INSIDE = "inside";
var LEFT = "left";
var MAX_VALUE = Number.MAX_VALUE;
var MIN_VALUE = -Number.MAX_VALUE;
var NONE = "none";
var NOTE_CLICK = "noteClick";
var NOTE_HOVER = "noteHover";
var NOTE_LEAVE = "noteLeave";
var OBJECT = "object";
var OUTSIDE = "outside";
var RIGHT = "right";
var ROUNDED_RECT = "roundedRect";
var START = "start";
var STRING = "string";
var TOP = "top";
var TRIANGLE = "triangle";
var VALUE = "value";
var WHITE = "#fff";
var WIDTH = "width";
var X = "x";
var Y = "y";
var DEFAULT_SERIES_OPACITY = 1;

function isArray(value) {
    return Array.isArray(value);
}

function addClass(element, classes) {
    var classArray = isArray(classes) ? classes : [ classes ];

    for (var idx = 0; idx < classArray.length; idx++) {
        var className = classArray[idx];
        if (element.className.indexOf(className) === -1) {
            element.className += " " + className;
        }
    }
}

var SPACE_REGEX = /\s+/g;

function removeClass(element, className) {
    if (element && element.className) {
        element.className = element.className.replace(className, "").replace(SPACE_REGEX, " ");
    }
}

function alignPathToPixel(path) {
    var offset = 0.5;
    if (path.options.stroke && _progress_kendoDrawing.drawing.util.defined(path.options.stroke.width)) {
        if (path.options.stroke.width % 2 === 0) {
            offset = 0;
        }
    }

    for (var i = 0; i < path.segments.length; i++) {
        path.segments[i].anchor().round(0).translate(offset, offset);
    }

    return path;
}

function clockwise(angle1, angle2) {
    // True if angle2 is clockwise of angle1
    // assuming angles grow in clock-wise direction
    // (as in the pie and radar charts)
    return -angle1.x * angle2.y + angle1.y * angle2.x < 0;
}

function isNumber(value) {
    return typeof value === "number" && !isNaN(value);
}

function isString(value) {
    return typeof value === STRING;
}

function convertableToNumber(value) {
    return isNumber(value) || (isString(value) && isFinite(value));
}

function isFunction(fn) {
    return typeof fn === "function";
}

var OBJECT$1 = "object";
var UNDEFINED = "undefined";

function deepExtendOne(destination, source) {

    for (var property in source) {
        var propValue = source[property];
        var propType = typeof propValue;

        var propInit = (void 0);
        if (propType === OBJECT$1 && propValue !== null) {
            propInit = propValue.constructor;
        } else {
            propInit = null;
        }

        if (propInit && propInit !== Array) {

            if (propValue instanceof Date) {
                destination[property] = new Date(propValue.getTime());
            } else if (isFunction(propValue.clone)) {
                destination[property] = propValue.clone();
            } else {
                var destProp = destination[property];
                if (typeof (destProp) === OBJECT$1) {
                    destination[property] = destProp || {};
                } else {
                    destination[property] = {};
                }
                deepExtendOne(destination[property], propValue);
            }
        } else if (propType !== UNDEFINED) {
            destination[property] = propValue;
        }
    }

    return destination;
}

function deepExtend(destination) {
    var arguments$1 = arguments;

    var length = arguments.length;

    for (var i = 1; i < length; i++) {
        deepExtendOne(destination, arguments$1[i]);
    }

    return destination;
}

function isObject(value) {
    return typeof value === "object";
}

function styleValue(value) {
    if (isNumber(value)) {
        return value + "px";
    }
    return value;
}

var SIZE_STYLES_REGEX = /width|height|top|left|bottom|right/i;

function isSizeField(field) {
    return SIZE_STYLES_REGEX.test(field);
}

function elementStyles(element, styles) {
    var stylesArray = isString(styles) ? [ styles ] : styles;

    if (isArray(stylesArray)) {
        var result = {};
        var style = window.getComputedStyle(element);

        for (var idx = 0; idx < stylesArray.length; idx++) {
            var field = stylesArray[idx];
            result[field] = isSizeField(field) ? parseFloat(style[field]) : style[field];
        }

        return result;
    } else if (isObject(styles)) {
        for (var field$1 in styles) {
            element.style[field$1] = styleValue(styles[field$1]);
        }
    }
}

function getSpacing(value, defaultSpacing) {
    if ( defaultSpacing === void 0 ) defaultSpacing = 0;

    var spacing = { top: 0, right: 0, bottom: 0, left: 0 };

    if (typeof(value) === "number") {
        spacing[TOP] = spacing[RIGHT] = spacing[BOTTOM] = spacing[LEFT] = value;
    } else {
        spacing[TOP] = value[TOP] || defaultSpacing;
        spacing[RIGHT] = value[RIGHT] || defaultSpacing;
        spacing[BOTTOM] = value[BOTTOM] || defaultSpacing;
        spacing[LEFT] = value[LEFT] || defaultSpacing;
    }

    return spacing;
}

var current = {
    compile: function(template) {
        return template;
    }
};

var TemplateService = function TemplateService () {};

TemplateService.register = function register (userImplementation) {
    current = userImplementation;
};

TemplateService.compile = function compile (template) {
    return current.compile(template);
};

function getTemplate(options) {
    if ( options === void 0 ) options = {};

    var template;
    if (options.template) {
        options.template = template = TemplateService.compile(options.template);
    } else if (isFunction(options.content)) {
        template = options.content;
    }

    return template;
}

var FIELD_REGEX = /\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;
var getterCache = {};

getterCache['undefined'] = function(obj) {
    return obj;
};

function getter(field) {
    if (getterCache[field]) {
        return getterCache[field];
    }

    var fields = [];
    field.replace(FIELD_REGEX, function(match, index, indexAccessor, field) {
        fields.push(_progress_kendoDrawing.drawing.util.defined(index) ? index : (indexAccessor || field));
    });

    getterCache[field] = function(obj) {
        var result = obj;
        for (var idx = 0; idx < fields.length && result; idx++) {
            result = result[fields[idx]];
        }

        return result;
    };

    return getterCache[field];
}

function grep(array, callback) {
    var length = array.length;
    var result = [];
    for (var idx = 0; idx < length; idx++) {
        if (callback(array[idx])) {
            result .push(array[idx]);
        }
    }

    return result;
}

function hasClasses(element, classNames) {
    if (element.className) {
        var names = classNames.split(" ");
        for (var idx = 0; idx < names.length; idx++) {
            if (element.className.indexOf(names[idx]) !== -1) {
                return true;
            }
        }
    }
}

var HashMap = function HashMap() {
    this._map = {};
};

HashMap.prototype.get = function get (name) {
    return this._map[this._key(name)];
};

HashMap.prototype.set = function set (name, value) {
    this._map[this._key(name)] = value;
};

HashMap.prototype._key = function _key (name) {
    return name instanceof Date ? name.getTime() : name;
};

function inArray(value, array) {
    if (array) {
        return array.indexOf(value) !== -1;
    }
}

function interpolateValue(start, end, progress) {
    return _progress_kendoDrawing.drawing.util.round(start + (end - start) * progress, COORD_PRECISION);
}

var TRIGGER = 'trigger';

var InstanceObserver = function InstanceObserver(observer, handlers) {
    this.observer = observer;
    this.handlerMap = deepExtend({}, this.handlerMap, handlers);
};

InstanceObserver.prototype.trigger = function trigger (name, args) {
    var ref = this;
        var observer = ref.observer;
        var handlerMap = ref.handlerMap;
    var isDefaultPrevented;
    if (handlerMap[name]) {
        isDefaultPrevented = this.callObserver(handlerMap[name], args);
    } else if (observer[TRIGGER]) {
        isDefaultPrevented = this.callObserver(TRIGGER, name, args);
    }

    return isDefaultPrevented;
};

InstanceObserver.prototype.callObserver = function callObserver (fnName) {
        var args = [], len = arguments.length - 1;
        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];

    return this.observer[fnName].apply(this.observer, args);
};

InstanceObserver.prototype.requiresHandlers = function requiresHandlers (names) {
        var this$1 = this;

    if (this.observer.requiresHandlers) {
        return this.observer.requiresHandlers(names);
    }

    for (var idx = 0; idx < names.length; idx++) {
        if (this$1.handlerMap[names[idx]]) {
            return true;
        }
    }
};

function map$1(array, callback) {
    var length = array.length;
    var result = [];
    for (var idx = 0; idx < length; idx++) {
        var value = callback(array[idx]);
        if (_progress_kendoDrawing.drawing.util.defined(value)) {
            result.push(value);
        }
    }
    return result;
}

var browser = _progress_kendoDrawing.support.browser || {};

function mousewheelDelta(e) {
    var delta = 0;

    if (e.wheelDelta) {
        delta = -e.wheelDelta / 120;

        if (browser.webkit) {
            // Webkit browsers scale the delta by twice the device resolution.
            // Possibly related to https://bugs.webkit.org/show_bug.cgi?id=196339
            //
            // Low device resolutions (e.g. zoom-out to 30%) also behave strangely.
            delta = delta / (2 * Math.max(window.devicePixelRatio, 0.625));
        }
    } else if (e.detail) {
        delta = e.detail / 3;
    }

    delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);

    return delta;
}

var ref$1 = _progress_kendoDrawing.drawing.util;
var append$1 = ref$1.append;
var bindEvents$1$1 = ref$1.bindEvents;
var defined = ref$1.defined;
var deg = ref$1.deg;
var elementOffset = ref$1.elementOffset;
var elementSize$1 = ref$1.elementSize;
var eventCoordinates = ref$1.eventCoordinates;
var eventElement = ref$1.eventElement;
var hashKey = ref$1.hashKey;
var last = ref$1.last;
var limitValue = ref$1.limitValue;
var objectKey = ref$1.objectKey;
var rad = ref$1.rad;
var round = ref$1.round;
var unbindEvents$1 = ref$1.unbindEvents;
var valueOrDefault = ref$1.valueOrDefault;

var FontLoader = function FontLoader () {};

FontLoader.fetchFonts = function fetchFonts (options, fonts, state) {
        if ( state === void 0 ) state = { depth: 0 };

    var MAX_DEPTH = 5;

    if (!options || state.depth > MAX_DEPTH || !document.fonts) {
        return;
    }

    Object.keys(options).forEach(function(key) {
        var value = options[key];
        if (key === "dataSource" || key[0] === "$" || !value) {
            return;
        }

        if (key === "font") {
            fonts.push(value);
        } else if (typeof value === "object") {
            state.depth++;
            FontLoader.fetchFonts(value, fonts, state);
            state.depth--;
        }
    });
};

FontLoader.loadFonts = function loadFonts (fonts, callback) {
    var promises = [];

    if (fonts.length > 0 && document.fonts) {
        try {
            promises = fonts.map(function(font) {
                return document.fonts.load(font);
            });
        } catch (e) {
            // Silence font-loading errors
            _progress_kendoDrawing.logToConsole(e);
        }

        Promise.all(promises).then(callback, callback);
    } else {
        callback();
    }
};

FontLoader.preloadFonts = function preloadFonts (options, callback) {
    var fonts = [];
    FontLoader.fetchFonts(options, fonts);

    FontLoader.loadFonts(fonts, callback);
};

function setDefaultOptions(type, options) {
    var proto = type.prototype;
    if (proto.options) {
        proto.options = deepExtend({}, proto.options, options);
    } else {
        proto.options = options;
    }
}

function sparseArrayLimits(arr) {
    var min = MAX_VALUE;
    var max = MIN_VALUE;

    for (var idx = 0, length = arr.length; idx < length; idx++) {
        var value = arr[idx];
        if (value !== null && isFinite(value)) {
            min = Math.min(min, value);
            max = Math.max(max, value);
        }
    }

    return {
        min: min === MAX_VALUE ? undefined : min,
        max: max === MIN_VALUE ? undefined : max
    };
}

function find(array, predicate) {
    for (var i = 0; i < array.length; i++) {
        var item = array[i];
        if (predicate(item, i, array)) {
            return item;
        }
    }
}

var Matrix = _progress_kendoDrawing.geometry.Matrix;
var matrixRegexp = /matrix\((.*)\)/;

function parseMatrix(matrixString) {
    var match = matrixString.match(matrixRegexp);
    if (match === null || match.length !== 2) {
        return Matrix.unit();
    }

    var members = match[1].split(',').map(function (x) { return parseFloat(x); });
    return new (Function.prototype.bind.apply( Matrix, [ null ].concat( members) ));
}

function transformMatrix(element) {
    var transform = getComputedStyle(element).transform;

    if (transform === 'none') {
        return Matrix.unit();
    }

    return parseMatrix(transform);
}

function elementScale(element) {
    if (!element) {
        return Matrix.unit();
    }

    var matrix = transformMatrix(element);
    var parent = element.parentElement;
    while (parent) {
        var parentMatrix = transformMatrix(parent);
        matrix = matrix.multiplyCopy(parentMatrix);
        parent = parent.parentElement;
    }

    matrix.b = matrix.c = matrix.e = matrix.f = 0;
    return matrix;
}

function autoTextColor(color) {
    var isDark = new _progress_kendoDrawing.Color(color).isDark();
    if (isDark) {
        return WHITE;
    }

    return BLACK;
}

var DELETED = {};

var LegacySet = function LegacySet(values) {
    var this$1 = this;

    this._index = {};
    this._values = values ? values.slice(0) : [];

    for (var i = 0; i < this._values.length; i++) {
        this$1._index[this$1._values[i]] = i;
    }
};

var prototypeAccessors = { size: {} };

LegacySet.prototype.values = function values () {
    return this._values.filter(function (item) { return item !== DELETED; });
};

LegacySet.prototype.has = function has (value) {
    return this._index[value] !== undefined;
};

LegacySet.prototype.add = function add (value) {
    if (!this.has(value)) {
        this._index[value] = this._values.length;
        this._values.push(value);
    }
};

LegacySet.prototype.delete = function delete$1 (value) {
    var index = this._index[value];
    if (index !== undefined) {
        this._values[index] = DELETED;
        delete this._index[value];
    }
};

LegacySet.prototype.clear = function clear () {
    this._index = {};
    this._values = [];
};

prototypeAccessors.size.get = function () {
    return this._values.length;
};

Object.defineProperties( LegacySet.prototype, prototypeAccessors );

var SetWrapper = function SetWrapper(values) {
    this._set = new Set(values);
};

var prototypeAccessors$1 = { size: {} };

SetWrapper.prototype.values = function values () {
    return Array.from(this._set);
};

SetWrapper.prototype.has = function has (value) {
    return this._set.has(value);
};

SetWrapper.prototype.add = function add (value) {
    this._set.add(value);
};

SetWrapper.prototype.delete = function delete$2 (value) {
    this._set.delete(value);
};

SetWrapper.prototype.clear = function clear () {
    this._set.clear();
};

prototypeAccessors$1.size.get = function () {
    return this._set.size;
};

Object.defineProperties( SetWrapper.prototype, prototypeAccessors$1 );

// TODO: Drop LegacySet when removing support for IE10
var supportsSet = function () {
    var supported = false;

    if (typeof Set === 'function') {
        var set = new Set([1]);
        supported = set.has(1);
    }

    return supported;
};

function createHashSet(values) {
    if (supportsSet()) {
        return new SetWrapper(values);
    }

    return new LegacySet(values);
}

function defaultErrorHandler(error) {
    throw error;
}

var keys = {
    INSERT: 45,
    DELETE: 46,
    BACKSPACE: 8,
    TAB: 9,
    ENTER: 13,
    ESC: 27,
    LEFT: 37,
    UP: 38,
    RIGHT: 39,
    DOWN: 40,
    END: 35,
    HOME: 36,
    SPACEBAR: 32,
    PAGEUP: 33,
    PAGEDOWN: 34,
    F2: 113,
    F10: 121,
    F12: 123,
    NUMPAD_PLUS: 107,
    NUMPAD_MINUS: 109,
    NUMPAD_DOT: 110
};

function autoMajorUnit(min, max) {
    var diff = round(max - min, DEFAULT_PRECISION - 1);

    if (diff === 0) {
        if (max === 0) {
            return 0.1;
        }

        diff = Math.abs(max);
    }

    var scale = Math.pow(10, Math.floor(Math.log(diff) / Math.log(10)));
    var relativeValue = round((diff / scale), DEFAULT_PRECISION);
    var scaleMultiplier = 1;

    if (relativeValue < 1.904762) {
        scaleMultiplier = 0.2;
    } else if (relativeValue < 4.761904) {
        scaleMultiplier = 0.5;
    } else if (relativeValue < 9.523809) {
        scaleMultiplier = 1;
    } else {
        scaleMultiplier = 2;
    }

    return round(scale * scaleMultiplier, DEFAULT_PRECISION);
}

var Point = (function (Class$$1) {
    function Point(x, y) {
        Class$$1.call(this);

        this.x = x || 0;
        this.y = y || 0;
    }

    if ( Class$$1 ) Point.__proto__ = Class$$1;
    Point.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Point.prototype.constructor = Point;

    Point.prototype.clone = function clone () {
        return new Point(this.x, this.y);
    };

    Point.prototype.equals = function equals (point) {
        return point && this.x === point.x && this.y === point.y;
    };

    Point.prototype.rotate = function rotate (center, degrees) {
        var theta = rad(degrees);
        var cosT = Math.cos(theta);
        var sinT = Math.sin(theta);
        var cx = center.x;
        var cy = center.y;
        var ref = this;
        var x = ref.x;
        var y = ref.y;

        this.x = round(
            cx + (x - cx) * cosT + (y - cy) * sinT,
            COORD_PRECISION
        );

        this.y = round(
            cy + (y - cy) * cosT - (x - cx) * sinT,
            COORD_PRECISION
        );

        return this;
    };

    Point.prototype.multiply = function multiply (a) {

        this.x *= a;
        this.y *= a;

        return this;
    };

    Point.prototype.distanceTo = function distanceTo (point) {
        var dx = this.x - point.x;
        var dy = this.y - point.y;

        return Math.sqrt(dx * dx + dy * dy);
    };

    Point.onCircle = function onCircle (center, angle, radius) {
        var radians = rad(angle);

        return new Point(
            center.x - radius * Math.cos(radians),
            center.y - radius * Math.sin(radians)
        );
    };

    return Point;
}(_progress_kendoDrawing.Class));

var Box = (function (Class$$1) {
    function Box(x1, y1, x2, y2) {
        Class$$1.call(this);

        this.x1 = x1 || 0;
        this.y1 = y1 || 0;
        this.x2 = x2 || 0;
        this.y2 = y2 || 0;
    }

    if ( Class$$1 ) Box.__proto__ = Class$$1;
    Box.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Box.prototype.constructor = Box;

    Box.prototype.equals = function equals (box) {
        return this.x1 === box.x1 && this.x2 === box.x2 &&
            this.y1 === box.y1 && this.y2 === box.y2;
    };

    Box.prototype.width = function width () {
        return this.x2 - this.x1;
    };

    Box.prototype.height = function height () {
        return this.y2 - this.y1;
    };

    Box.prototype.translate = function translate (dx, dy) {
        this.x1 += dx;
        this.x2 += dx;
        this.y1 += dy;
        this.y2 += dy;

        return this;
    };

    Box.prototype.move = function move (x, y) {
        var height = this.height();
        var width = this.width();

        if (defined(x)) {
            this.x1 = x;
            this.x2 = this.x1 + width;
        }

        if (defined(y)) {
            this.y1 = y;
            this.y2 = this.y1 + height;
        }

        return this;
    };

    Box.prototype.wrap = function wrap (targetBox) {
        this.x1 = Math.min(this.x1, targetBox.x1);
        this.y1 = Math.min(this.y1, targetBox.y1);
        this.x2 = Math.max(this.x2, targetBox.x2);
        this.y2 = Math.max(this.y2, targetBox.y2);

        return this;
    };

    Box.prototype.wrapPoint = function wrapPoint (point) {
        var arrayPoint = isArray(point);
        var x = arrayPoint ? point[0] : point.x;
        var y = arrayPoint ? point[1] : point.y;
        this.wrap(new Box(x, y, x, y));

        return this;
    };

    Box.prototype.snapTo = function snapTo (targetBox, axis) {

        if (axis === X || !axis) {
            this.x1 = targetBox.x1;
            this.x2 = targetBox.x2;
        }

        if (axis === Y || !axis) {
            this.y1 = targetBox.y1;
            this.y2 = targetBox.y2;
        }

        return this;
    };

    Box.prototype.alignTo = function alignTo (targetBox, anchor) {
        var height = this.height();
        var width = this.width();
        var axis = anchor === TOP || anchor === BOTTOM ? Y : X;
        var offset = axis === Y ? height : width;

        if (anchor === CENTER) {
            var targetCenter = targetBox.center();
            var center = this.center();

            this.x1 += targetCenter.x - center.x;
            this.y1 += targetCenter.y - center.y;
        } else if (anchor === TOP || anchor === LEFT) {
            this[axis + 1] = targetBox[axis + 1] - offset;
        } else {
            this[axis + 1] = targetBox[axis + 2];
        }

        this.x2 = this.x1 + width;
        this.y2 = this.y1 + height;

        return this;
    };

    Box.prototype.shrink = function shrink (dw, dh) {

        this.x2 -= dw;
        this.y2 -= dh;

        return this;
    };

    Box.prototype.expand = function expand (dw, dh) {
        this.shrink(-dw, -dh);
        return this;
    };

    Box.prototype.pad = function pad (padding) {
        var spacing = getSpacing(padding);

        this.x1 -= spacing.left;
        this.x2 += spacing.right;
        this.y1 -= spacing.top;
        this.y2 += spacing.bottom;

        return this;
    };

    Box.prototype.unpad = function unpad (padding) {
        var spacing = getSpacing(padding);

        spacing.left = -spacing.left;
        spacing.top = -spacing.top;
        spacing.right = -spacing.right;
        spacing.bottom = -spacing.bottom;

        return this.pad(spacing);
    };

    Box.prototype.clone = function clone () {
        return new Box(this.x1, this.y1, this.x2, this.y2);
    };

    Box.prototype.center = function center () {
        return new Point(
            this.x1 + this.width() / 2,
            this.y1 + this.height() / 2
        );
    };

    Box.prototype.containsPoint = function containsPoint (point) {

        return point.x >= this.x1 && point.x <= this.x2 &&
               point.y >= this.y1 && point.y <= this.y2;
    };

    Box.prototype.points = function points () {
        return [
            new Point(this.x1, this.y1),
            new Point(this.x2, this.y1),
            new Point(this.x2, this.y2),
            new Point(this.x1, this.y2)
        ];
    };

    Box.prototype.getHash = function getHash () {
        return [ this.x1, this.y1, this.x2, this.y2 ].join(",");
    };

    Box.prototype.overlaps = function overlaps (box) {
        return !(box.y2 < this.y1 || this.y2 < box.y1 || box.x2 < this.x1 || this.x2 < box.x1);
    };

    Box.prototype.rotate = function rotate (rotation) {
        var width = this.width();
        var height = this.height();
        var ref = this.center();
        var cx = ref.x;
        var cy = ref.y;

        var r1 = rotatePoint(0, 0, cx, cy, rotation);
        var r2 = rotatePoint(width, 0, cx, cy, rotation);
        var r3 = rotatePoint(width, height, cx, cy, rotation);
        var r4 = rotatePoint(0, height, cx, cy, rotation);

        width = Math.max(r1.x, r2.x, r3.x, r4.x) - Math.min(r1.x, r2.x, r3.x, r4.x);
        height = Math.max(r1.y, r2.y, r3.y, r4.y) - Math.min(r1.y, r2.y, r3.y, r4.y);

        this.x2 = this.x1 + width;
        this.y2 = this.y1 + height;

        return this;
    };

    Box.prototype.toRect = function toRect () {
        return new _progress_kendoDrawing.geometry.Rect([ this.x1, this.y1 ], [ this.width(), this.height() ]);
    };

    Box.prototype.hasSize = function hasSize () {
        return this.width() !== 0 && this.height() !== 0;
    };

    Box.prototype.align = function align (targetBox, axis, alignment) {
        var c1 = axis + 1;
        var c2 = axis + 2;
        var sizeFunc = axis === X ? WIDTH : HEIGHT;
        var size = this[sizeFunc]();

        if (inArray(alignment, [ LEFT, TOP ])) {
            this[c1] = targetBox[c1];
            this[c2] = this[c1] + size;
        } else if (inArray(alignment, [ RIGHT, BOTTOM ])) {
            this[c2] = targetBox[c2];
            this[c1] = this[c2] - size;
        } else if (alignment === CENTER) {
            this[c1] = targetBox[c1] + (targetBox[sizeFunc]() - size) / 2;
            this[c2] = this[c1] + size;
        }
    };

    return Box;
}(_progress_kendoDrawing.Class));

function rotatePoint(x, y, cx, cy, angle) {
    var theta = rad(angle);

    return new Point(
        cx + (x - cx) * Math.cos(theta) + (y - cy) * Math.sin(theta),
        cy - (x - cx) * Math.sin(theta) + (y - cy) * Math.cos(theta)
    );
}

var Ring = (function (Class$$1) {
    function Ring(center, innerRadius, radius, startAngle, angle) {
        Class$$1.call(this);

        this.center = center;
        this.innerRadius = innerRadius;
        this.radius = radius;
        this.startAngle = startAngle;
        this.angle = angle;
    }

    if ( Class$$1 ) Ring.__proto__ = Class$$1;
    Ring.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Ring.prototype.constructor = Ring;

    Ring.prototype.clone = function clone () {
        return new Ring(this.center, this.innerRadius, this.radius, this.startAngle, this.angle);
    };

    Ring.prototype.middle = function middle () {
        return this.startAngle + this.angle / 2;
    };

    Ring.prototype.setRadius = function setRadius (newRadius, innerRadius) {
        if (innerRadius) {
            this.innerRadius = newRadius;
        } else {
            this.radius = newRadius;
        }

        return this;
    };

    // TODO: Remove and replace with Point.onCircle
    Ring.prototype.point = function point (angle, innerRadius) {
        var radianAngle = rad(angle);
        var ax = Math.cos(radianAngle);
        var ay = Math.sin(radianAngle);
        var radius = innerRadius ? this.innerRadius : this.radius;
        var x = round(this.center.x - (ax * radius), COORD_PRECISION);
        var y = round(this.center.y - (ay * radius), COORD_PRECISION);

        return new Point(x, y);
    };

    Ring.prototype.adjacentBox = function adjacentBox (distance, width, height) {
        var sector = this.clone().expand(distance);
        var midAndle = sector.middle();
        var midPoint = sector.point(midAndle);
        var hw = width / 2;
        var hh = height / 2;
        var sa = Math.sin(rad(midAndle));
        var ca = Math.cos(rad(midAndle));
        var x = midPoint.x - hw;
        var y = midPoint.y - hh;

        if (Math.abs(sa) < 0.9) {
            x += hw * -ca / Math.abs(ca);
        }

        if (Math.abs(ca) < 0.9) {
            y += hh * -sa / Math.abs(sa);
        }

        return new Box(x, y, x + width, y + height);
    };

    Ring.prototype.containsPoint = function containsPoint (p) {
        var center = this.center;
        var innerRadius = this.innerRadius;
        var radius = this.radius;
        var startAngle = this.startAngle;
        var endAngle = this.startAngle + this.angle;
        var dx = p.x - center.x;
        var dy = p.y - center.y;
        var vector = new Point(dx, dy);
        var startPoint = this.point(startAngle);
        var startVector = new Point(startPoint.x - center.x, startPoint.y - center.y);
        var endPoint = this.point(endAngle);
        var endVector = new Point(endPoint.x - center.x, endPoint.y - center.y);
        var dist = round(dx * dx + dy * dy, COORD_PRECISION);

        return (startVector.equals(vector) || clockwise(startVector, vector)) &&
               !clockwise(endVector, vector) &&
               dist >= innerRadius * innerRadius && dist <= radius * radius;
    };

    Ring.prototype.getBBox = function getBBox () {
        var this$1 = this;

        var box = new Box(MAX_VALUE, MAX_VALUE, MIN_VALUE, MIN_VALUE);
        var startAngle = round(this.startAngle % 360);
        var endAngle = round((startAngle + this.angle) % 360);
        var innerRadius = this.innerRadius;
        var allAngles = [ 0, 90, 180, 270, startAngle, endAngle ].sort(numericComparer);
        var startAngleIndex = allAngles.indexOf(startAngle);
        var endAngleIndex = allAngles.indexOf(endAngle);
        var angles;

        if (startAngle === endAngle) {
            angles = allAngles;
        } else {
            if (startAngleIndex < endAngleIndex) {
                angles = allAngles.slice(startAngleIndex, endAngleIndex + 1);
            } else {
                angles = [].concat(
                    allAngles.slice(0, endAngleIndex + 1),
                    allAngles.slice(startAngleIndex, allAngles.length)
                );
            }
        }

        for (var i = 0; i < angles.length; i++) {
            var point = this$1.point(angles[i]);
            box.wrapPoint(point);
            box.wrapPoint(point, innerRadius);
        }

        if (!innerRadius) {
            box.wrapPoint(this.center);
        }

        return box;
    };

    Ring.prototype.expand = function expand (value) {
        this.radius += value;
        return this;
    };

    return Ring;
}(_progress_kendoDrawing.Class));

function numericComparer(a, b) {
    return a - b;
}

var Sector = (function (Ring$$1) {
    function Sector(center, radius, startAngle, angle) {
        Ring$$1.call(this, center, 0, radius, startAngle, angle);
    }

    if ( Ring$$1 ) Sector.__proto__ = Ring$$1;
    Sector.prototype = Object.create( Ring$$1 && Ring$$1.prototype );
    Sector.prototype.constructor = Sector;

    Sector.prototype.expand = function expand (value) {
        return Ring$$1.prototype.expand.call(this, value);
    };

    Sector.prototype.clone = function clone () {
        return new Sector(this.center, this.radius, this.startAngle, this.angle);
    };

    Sector.prototype.setRadius = function setRadius (newRadius) {
        this.radius = newRadius;

        return this;
    };

    return Sector;
}(Ring));

var DIRECTION_ANGLE = 0.001; //any value that will make the endAngle bigger than the start angle will work here.

var ShapeBuilder = (function (Class$$1) {
    function ShapeBuilder () {
        Class$$1.apply(this, arguments);
    }

    if ( Class$$1 ) ShapeBuilder.__proto__ = Class$$1;
    ShapeBuilder.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ShapeBuilder.prototype.constructor = ShapeBuilder;

    ShapeBuilder.prototype.createRing = function createRing (sector, options) {
        var startAngle = sector.startAngle + 180;
        var endAngle = sector.angle + startAngle;

        //required in order to avoid reversing the arc direction in cases like 0.000000000000001 + 100 === 100
        if (sector.angle > 0 && startAngle === endAngle) {
            endAngle += DIRECTION_ANGLE;
        }

        var center = new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y);
        var radius = Math.max(sector.radius, 0);
        var innerRadius = Math.max(sector.innerRadius, 0);
        var arc = new _progress_kendoDrawing.geometry.Arc(center, {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: radius,
            radiusY: radius
        });
        var path = _progress_kendoDrawing.drawing.Path.fromArc(arc, options).close();

        if (innerRadius) {
            arc.radiusX = arc.radiusY = innerRadius;
            var innerEnd = arc.pointAt(endAngle);
            path.lineTo(innerEnd.x, innerEnd.y);
            path.arc(endAngle, startAngle, innerRadius, innerRadius, true);
        } else {
            path.lineTo(center.x, center.y);
        }

        return path;
    };

    return ShapeBuilder;
}(_progress_kendoDrawing.Class));

ShapeBuilder.current = new ShapeBuilder();

var ChartElement = (function (Class$$1) {
    function ChartElement(options) {
        Class$$1.call(this);

        this.children = [];

        this.options = deepExtend({}, this.options, this.initUserOptions(options));
    }

    if ( Class$$1 ) ChartElement.__proto__ = Class$$1;
    ChartElement.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartElement.prototype.constructor = ChartElement;

    ChartElement.prototype.initUserOptions = function initUserOptions (options) {
        return options;
    };

    ChartElement.prototype.reflow = function reflow (targetBox) {
        var children = this.children;
        var box;

        for (var i = 0; i < children.length; i++) {
            var currentChild = children[i];
            currentChild.reflow(targetBox);

            box = box ? box.wrap(currentChild.box) : currentChild.box.clone();
        }

        this.box = box || targetBox;
    };

    ChartElement.prototype.destroy = function destroy () {
        var children = this.children;

        if (this.animation) {
            this.animation.destroy();
        }

        for (var i = 0; i < children.length; i++) {
            children[i].destroy();
        }
    };

    ChartElement.prototype.getRoot = function getRoot () {
        var parent = this.parent;

        return parent ? parent.getRoot() : null;
    };

    ChartElement.prototype.getSender = function getSender () {
        var service = this.getService();
        if (service) {
            return service.sender;
        }
    };

    ChartElement.prototype.getService = function getService () {
        var element = this;
        while (element) {
            if (element.chartService) {
                return element.chartService;
            }
            element = element.parent;
        }
    };

    ChartElement.prototype.translateChildren = function translateChildren (dx, dy) {
        var children = this.children;
        var childrenCount = children.length;

        for (var i = 0; i < childrenCount; i++) {
            children[i].box.translate(dx, dy);
        }
    };

    ChartElement.prototype.append = function append () {
        var arguments$1 = arguments;
        var this$1 = this;

        for (var i = 0; i < arguments.length; i++) {
            var item = arguments$1[i];
            this$1.children.push(item);
            item.parent = this$1;
        }
    };

    ChartElement.prototype.renderVisual = function renderVisual () {
        if (this.options.visible === false) {
            return;
        }

        this.createVisual();

        this.addVisual();

        this.renderChildren();

        this.createAnimation();
        this.renderComplete();
    };

    ChartElement.prototype.addVisual = function addVisual () {
        if (this.visual) {
            this.visual.chartElement = this;

            if (this.parent) {
                this.parent.appendVisual(this.visual);
            }
        }
    };

    ChartElement.prototype.renderChildren = function renderChildren () {
        var children = this.children;
        var length = children.length;
        for (var i = 0; i < length; i++) {
            children[i].renderVisual();
        }
    };

    ChartElement.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: this.options.zIndex,
            visible: valueOrDefault(this.options.visible, true)
        });
    };

    ChartElement.prototype.createAnimation = function createAnimation () {
        if (this.visual && this.options.animation) {
            this.animation = _progress_kendoDrawing.drawing.Animation.create(
                this.visual, this.options.animation
            );
        }
    };

    ChartElement.prototype.appendVisual = function appendVisual (childVisual) {
        if (!childVisual.chartElement) {
            childVisual.chartElement = this;
        }

        if (childVisual.options.noclip) {
            this.clipRoot().visual.append(childVisual);
        } else if (defined(childVisual.options.zIndex)) {
            this.stackRoot().stackVisual(childVisual);
        } else if (this.isStackRoot) {
            this.stackVisual(childVisual);
        } else if (this.visual) {
            this.visual.append(childVisual);
        } else {
            // Allow chart elements without visuals to
            // pass through child visuals
            this.parent.appendVisual(childVisual);
        }
    };

    ChartElement.prototype.clipRoot = function clipRoot () {
        if (this.parent) {
            return this.parent.clipRoot();
        }

        return this;
    };

    ChartElement.prototype.stackRoot = function stackRoot () {
        if (this.parent) {
            return this.parent.stackRoot();
        }

        return this;
    };

    ChartElement.prototype.stackVisual = function stackVisual (childVisual) {
        var zIndex = childVisual.options.zIndex || 0;
        var visuals = this.visual.children;
        var length = visuals.length;
        var pos;

        for (pos = 0; pos < length; pos++) {
            var sibling = visuals[pos];
            var here = valueOrDefault(sibling.options.zIndex, 0);
            if (here > zIndex) {
                break;
            }
        }

        this.visual.insert(pos, childVisual);
    };

    ChartElement.prototype.traverse = function traverse (callback) {
        var children = this.children;
        var length = children.length;

        for (var i = 0; i < length; i++) {
            var child = children[i];

            callback(child);
            if (child.traverse) {
                child.traverse(callback);
            }
        }
    };

    ChartElement.prototype.closest = function closest (match) {
        var element = this;
        var matched = false;

        while (element && !matched) {
            matched = match(element);

            if (!matched) {
                element = element.parent;
            }
        }

        if (matched) {
            return element;
        }
    };

    ChartElement.prototype.renderComplete = function renderComplete () {};

    ChartElement.prototype.hasHighlight = function hasHighlight () {
        var options = (this.options || {}).highlight;
        return !(!this.createHighlight || (options && options.visible === false));
    };

    ChartElement.prototype.toggleHighlight = function toggleHighlight (show, opacity) {
        var this$1 = this;

        var options = (this.options || {}).highlight || {};
        var customVisual = options.visual;
        var highlight = this._highlight;

        if (!highlight) {
            var highlightOptions = {
                fill: {
                    color: WHITE,
                    opacity: opacity || 0.2
                },
                stroke: {
                    color: WHITE,
                    width: 1,
                    opacity: opacity || 0.2
                }
            };

            if (customVisual) {
                highlight = this._highlight = customVisual(
                    Object.assign(this.highlightVisualArgs(), {
                        createVisual: function () { return this$1.createHighlight(highlightOptions); },
                        sender: this.getSender(),
                        series: this.series,
                        dataItem: this.dataItem,
                        category: this.category,
                        value: this.value,
                        percentage: this.percentage,
                        runningTotal: this.runningTotal,
                        total: this.total
                    }
                ));

                if (!highlight) {
                    return;
                }
            } else {
                highlight = this._highlight = this.createHighlight(highlightOptions);
            }

            if (!defined(highlight.options.zIndex)) {
                highlight.options.zIndex = valueOrDefault(options.zIndex, this.options.zIndex);
            }

            this.appendVisual(highlight);
        }

        highlight.visible(show);
    };

    ChartElement.prototype.createGradientOverlay = function createGradientOverlay (element, options, gradientOptions) {
        var overlay = new _progress_kendoDrawing.drawing.Path(Object.assign({
            stroke: {
                color: "none"
            },
            fill: this.createGradient(gradientOptions),
            closed: element.options.closed
        }, options));

        overlay.segments.elements(element.segments.elements());

        return overlay;
    };

    ChartElement.prototype.createGradient = function createGradient (options) {
        if (this.parent) {
            return this.parent.createGradient(options);
        }
    };

    ChartElement.prototype.supportsPointInactiveOpacity = function supportsPointInactiveOpacity () {
        return true;
    };

    return ChartElement;
}(_progress_kendoDrawing.Class));

ChartElement.prototype.options = { };

var BoxElement = (function (ChartElement$$1) {
    function BoxElement(options) {
        ChartElement$$1.call(this, options);

        this.options.margin = getSpacing(this.options.margin);
        this.options.padding = getSpacing(this.options.padding);
    }

    if ( ChartElement$$1 ) BoxElement.__proto__ = ChartElement$$1;
    BoxElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    BoxElement.prototype.constructor = BoxElement;

    BoxElement.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var options = this.options;
        var width = options.width;
        var height = options.height;
        var shrinkToFit = options.shrinkToFit;
        var hasSetSize = width && height;
        var margin = options.margin;
        var padding = options.padding;
        var borderWidth = options.border.width;
        var box;

        var reflowPaddingBox = function () {
            this$1.align(targetBox, X, options.align);
            this$1.align(targetBox, Y, options.vAlign);
            this$1.paddingBox = box.clone().unpad(margin).unpad(borderWidth);
        };

        var contentBox = targetBox.clone();
        if (hasSetSize) {
            contentBox.x2 = contentBox.x1 + width;
            contentBox.y2 = contentBox.y1 + height;
        }

        if (shrinkToFit) {
            contentBox.unpad(margin).unpad(borderWidth).unpad(padding);
        }

        ChartElement$$1.prototype.reflow.call(this, contentBox);

        if (hasSetSize) {
            box = this.box = new Box(0, 0, width, height);
        } else {
            box = this.box;
        }

        if (shrinkToFit && hasSetSize) {
            reflowPaddingBox();
            contentBox = this.contentBox = this.paddingBox.clone().unpad(padding);
        } else {
            contentBox = this.contentBox = box.clone();
            box.pad(padding).pad(borderWidth).pad(margin);
            reflowPaddingBox();
        }

        this.translateChildren(
            box.x1 - contentBox.x1 + margin.left + borderWidth + padding.left,
            box.y1 - contentBox.y1 + margin.top + borderWidth + padding.top
        );

        var children = this.children;
        for (var i = 0; i < children.length; i++) {
            var item = children[i];
            item.reflow(item.box);
        }
    };

    BoxElement.prototype.align = function align (targetBox, axis, alignment) {
        this.box.align(targetBox, axis, alignment);
    };

    BoxElement.prototype.hasBox = function hasBox () {
        var options = this.options;
        return options.border.width || options.background;
    };

    BoxElement.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        if (options.visible && this.hasBox()) {
            this.visual.append(_progress_kendoDrawing.drawing.Path.fromRect(
                this.paddingBox.toRect(),
                this.visualStyle()
            ));
        }
    };

    BoxElement.prototype.visualStyle = function visualStyle () {
        var options = this.options;
        var border = options.border || {};

        return {
            stroke: {
                width: border.width,
                color: border.color,
                opacity: valueOrDefault(border.opacity, options.opacity),
                dashType: border.dashType
            },
            fill: {
                color: options.background,
                opacity: options.opacity
            },
            cursor: options.cursor
        };
    };

    return BoxElement;
}(ChartElement));

setDefaultOptions(BoxElement, {
    align: LEFT,
    vAlign: TOP,
    margin: {},
    padding: {},
    border: {
        color: BLACK,
        width: 0
    },
    background: "",
    shrinkToFit: false,
    width: 0,
    height: 0,
    visible: true
});

var ShapeElement = (function (BoxElement$$1) {
    function ShapeElement(options, pointData) {
        BoxElement$$1.call(this, options);

        this.pointData = pointData;
    }

    if ( BoxElement$$1 ) ShapeElement.__proto__ = BoxElement$$1;
    ShapeElement.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    ShapeElement.prototype.constructor = ShapeElement;

    ShapeElement.prototype.getElement = function getElement () {
        var ref = this;
        var options = ref.options;
        var box = ref.paddingBox;
        var type = options.type;
        var rotation = options.rotation;
        var center = box.center();
        var halfWidth = box.width() / 2;
        var halfHeight = box.height() / 2;

        if (!options.visible || !this.hasBox()) {
            return null;
        }

        var style = this.visualStyle();
        var element;

        if (type === CIRCLE) {
            element = new _progress_kendoDrawing.drawing.Circle(
                new _progress_kendoDrawing.geometry.Circle([
                    round(box.x1 + halfWidth, COORD_PRECISION),
                    round(box.y1 + halfHeight, COORD_PRECISION)
                ], Math.min(halfWidth, halfHeight)),
                style
            );
        } else if (type === TRIANGLE) {
            element = _progress_kendoDrawing.drawing.Path.fromPoints([
                [ box.x1 + halfWidth, box.y1 ],
                [ box.x1, box.y2 ],
                [ box.x2, box.y2 ]
            ], style).close();
        } else if (type === CROSS) {
            element = new _progress_kendoDrawing.drawing.MultiPath(style);

            element.moveTo(box.x1, box.y1).lineTo(box.x2, box.y2);
            element.moveTo(box.x1, box.y2).lineTo(box.x2, box.y1);
        } else {
            var rect = box.toRect();
            if (type === ROUNDED_RECT) {
                var borderRadius = valueOrDefault(options.borderRadius, rect.width() / 5);
                rect.setCornerRadius(borderRadius);
            }

            element = _progress_kendoDrawing.drawing.Path.fromRect(rect, style);
        }

        if (rotation) {
            element.transform(_progress_kendoDrawing.geometry.transform()
                .rotate(-rotation, [ center.x, center.y ])
            );
        }

        element.options.zIndex = options.zIndex;

        return element;
    };

    ShapeElement.prototype.createElement = function createElement () {
        var this$1 = this;

        var customVisual = this.options.visual;
        var pointData = this.pointData || {};
        var visual;

        if (customVisual) {
            visual = customVisual({
                value: pointData.value,
                dataItem: pointData.dataItem,
                sender: this.getSender(),
                series: pointData.series,
                category: pointData.category,
                rect: this.paddingBox.toRect(),
                options: this.visualOptions(),
                createVisual: function () { return this$1.getElement(); }
            });
        } else {
            visual = this.getElement();
        }

        return visual;
    };

    ShapeElement.prototype.visualOptions = function visualOptions () {
        var options = this.options;
        return {
            background: options.background,
            border: options.border,
            margin: options.margin,
            padding: options.padding,
            type: options.type,
            size: options.width,
            visible: options.visible
        };
    };

    ShapeElement.prototype.createVisual = function createVisual () {
        this.visual = this.createElement();
    };

    return ShapeElement;
}(BoxElement));

setDefaultOptions(ShapeElement, {
    type: CIRCLE,
    align: CENTER,
    vAlign: CENTER
});

var LINEAR = "linear";
var RADIAL = "radial";

var GRADIENTS = {
    glass: {
        type: LINEAR,
        rotation: 0,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.25,
            color: WHITE,
            opacity: 0.3
        }, {
            offset: 1,
            color: WHITE,
            opacity: 0
        } ]
    },
    sharpBevel: {
        type: RADIAL,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0.55
        }, {
            offset: 0.65,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.95,
            color: WHITE,
            opacity: 0.25
        } ]
    },
    roundedBevel: {
        type: RADIAL,
        stops: [ {
            offset: 0.33,
            color: WHITE,
            opacity: 0.06
        }, {
            offset: 0.83,
            color: WHITE,
            opacity: 0.2
        }, {
            offset: 0.95,
            color: WHITE,
            opacity: 0
        } ]
    },
    roundedGlass: {
        type: RADIAL,
        supportVML: false,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.5,
            color: WHITE,
            opacity: 0.3
        }, {
            offset: 0.99,
            color: WHITE,
            opacity: 0
        } ]
    },
    sharpGlass: {
        type: RADIAL,
        supportVML: false,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0.2
        }, {
            offset: 0.15,
            color: WHITE,
            opacity: 0.15
        }, {
            offset: 0.17,
            color: WHITE,
            opacity: 0.35
        }, {
            offset: 0.85,
            color: WHITE,
            opacity: 0.05
        }, {
            offset: 0.87,
            color: WHITE,
            opacity: 0.15
        }, {
            offset: 0.99,
            color: WHITE,
            opacity: 0
        } ]
    },
    bubbleShadow: {
        type: RADIAL,
        center: [ 0.5, 0.5 ],
        radius: 0.5
    }
};

function boxDiff(r, s) {
    if (r.x1 === s.x1 && r.y1 === s.y1 && r.x2 === s.x2 && r.y2 === s.y2) {
        return s;
    }

    var a = Math.min(r.x1, s.x1);
    var b = Math.max(r.x1, s.x1);
    var c = Math.min(r.x2, s.x2);
    var d = Math.max(r.x2, s.x2);
    var e = Math.min(r.y1, s.y1);
    var f = Math.max(r.y1, s.y1);
    var g = Math.min(r.y2, s.y2);
    var h = Math.max(r.y2, s.y2);
    var boxes = [];

    // X = intersection, 0-7 = possible difference areas
    // h +-+-+-+
    // . |5|6|7|
    // g +-+-+-+
    // . |3|X|4|
    // f +-+-+-+
    // . |0|1|2|
    // e +-+-+-+
    // . a b c d

    // we'll always have rectangles 1, 3, 4 and 6
    boxes[0] = new Box(b, e, c, f);
    boxes[1] = new Box(a, f, b, g);
    boxes[2] = new Box(c, f, d, g);
    boxes[3] = new Box(b, g, c, h);

    // decide which corners
    if (r.x1 === a && r.y1 === e || s.x1 === a && s.y1 === e) { // corners 0 and 7
        boxes[4] = new Box(a, e, b, f);
        boxes[5] = new Box(c, g, d, h);
    } else { // corners 2 and 5
        boxes[4] = new Box(c, e, d, f);
        boxes[5] = new Box(a, g, b, h);
    }

    return grep(boxes, function(box) {
        return box.height() > 0 && box.width() > 0;
    })[0];
}

var RootElement = (function (ChartElement$$1) {
    function RootElement(options) {
        ChartElement$$1.call(this, options);

        var rootOptions = this.options;
        rootOptions.width = parseInt(rootOptions.width, 10);
        rootOptions.height = parseInt(rootOptions.height, 10);

        this.gradients = {};
    }

    if ( ChartElement$$1 ) RootElement.__proto__ = ChartElement$$1;
    RootElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RootElement.prototype.constructor = RootElement;

    RootElement.prototype.reflow = function reflow () {
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var currentBox = new Box(0, 0, options.width, options.height);

        this.box = currentBox.unpad(options.margin);

        for (var i = 0; i < children.length; i++) {
            children[i].reflow(currentBox);
            currentBox = boxDiff(currentBox, children[i].box) || new Box();
        }
    };

    RootElement.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group();
        this.createBackground();
    };

    RootElement.prototype.createBackground = function createBackground () {
        var options = this.options;
        var border = options.border || {};
        var box = this.box.clone().pad(options.margin).unpad(border.width);

        var background = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), {
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType
            },
            fill: {
                color: options.background,
                opacity: options.opacity
            },
            zIndex: -10
        });

        this.visual.append(background);
    };

    RootElement.prototype.getRoot = function getRoot () {
        return this;
    };

    RootElement.prototype.createGradient = function createGradient (options) {
        var gradients = this.gradients;
        var hashCode = objectKey(options);
        var gradient = GRADIENTS[options.gradient];
        var drawingGradient;

        if (gradients[hashCode]) {
            drawingGradient = gradients[hashCode];
        } else {
            var gradientOptions = Object.assign({}, gradient, options);
            if (gradient.type === "linear") {
                drawingGradient = new _progress_kendoDrawing.drawing.LinearGradient(gradientOptions);
            } else {
                if (options.innerRadius) {
                    gradientOptions.stops = innerRadialStops(gradientOptions);
                }
                drawingGradient = new _progress_kendoDrawing.drawing.RadialGradient(gradientOptions);
                drawingGradient.supportVML = gradient.supportVML !== false;
            }
            gradients[hashCode] = drawingGradient;
        }

        return drawingGradient;
    };

    RootElement.prototype.cleanGradients = function cleanGradients () {
        var gradients = this.gradients;
        for (var hashCode in gradients) {
            gradients[hashCode]._observers = [];//add clear observers method in drawing ObserversMixin
        }
    };

    RootElement.prototype.size = function size () {
        var options = this.options;
        return new Box(0, 0, options.width, options.height);
    };

    return RootElement;
}(ChartElement));

setDefaultOptions(RootElement, {
    width: DEFAULT_WIDTH,
    height: DEFAULT_HEIGHT,
    background: WHITE,
    border: {
        color: BLACK,
        width: 0
    },
    margin: getSpacing(5),
    zIndex: -2
});

function innerRadialStops(options) {
    var stops = options.stops;
    var usedSpace = ((options.innerRadius / options.radius) * 100);
    var length = stops.length;
    var currentStops = [];

    for (var i = 0; i < length; i++) {
        var currentStop = Object.assign({}, stops[i]);
        currentStop.offset = (currentStop.offset * (100 - usedSpace) + usedSpace) / 100;
        currentStops.push(currentStop);
    }

    return currentStops;
}

var FloatElement = (function (ChartElement$$1) {
    function FloatElement(options) {
        ChartElement$$1.call(this, options);
        this._initDirection();
    }

    if ( ChartElement$$1 ) FloatElement.__proto__ = ChartElement$$1;
    FloatElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FloatElement.prototype.constructor = FloatElement;

    FloatElement.prototype._initDirection = function _initDirection () {
        var options = this.options;
        if (options.vertical) {
            this.groupAxis = X;
            this.elementAxis = Y;
            this.groupSizeField = WIDTH;
            this.elementSizeField = HEIGHT;
            this.groupSpacing = options.spacing;
            this.elementSpacing = options.vSpacing;
        } else {
            this.groupAxis = Y;
            this.elementAxis = X;
            this.groupSizeField = HEIGHT;
            this.elementSizeField = WIDTH;
            this.groupSpacing = options.vSpacing;
            this.elementSpacing = options.spacing;
        }
    };

    FloatElement.prototype.reflow = function reflow (targetBox) {
        this.box = targetBox.clone();
        this.reflowChildren();
    };

    FloatElement.prototype.reflowChildren = function reflowChildren () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var elementAxis = ref.elementAxis;
        var groupAxis = ref.groupAxis;
        var elementSizeField = ref.elementSizeField;
        var groupSizeField = ref.groupSizeField;
        var ref$1 = this.groupOptions();
        var groups = ref$1.groups;
        var groupsSize = ref$1.groupsSize;
        var maxGroupElementsSize = ref$1.maxGroupElementsSize;
        var groupsCount = groups.length;
        var groupsStart = box[groupAxis + 1] + this.alignStart(groupsSize, box[groupSizeField]());

        if (groupsCount) {
            var groupStart = groupsStart;

            for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {
                var group = groups[groupIdx];
                var groupElements = group.groupElements;
                var elementStart = box[elementAxis + 1];
                var groupElementsCount = groupElements.length;

                for (var idx = 0; idx < groupElementsCount; idx++) {
                    var element = groupElements[idx];
                    var elementSize$$1 = this$1.elementSize(element);
                    var groupElementStart = groupStart + this$1.alignStart(elementSize$$1[groupSizeField], group.groupSize);

                    var elementBox = new Box();
                    elementBox[groupAxis + 1] = groupElementStart;
                    elementBox[groupAxis + 2] = groupElementStart + elementSize$$1[groupSizeField];
                    elementBox[elementAxis + 1] = elementStart;
                    elementBox[elementAxis + 2] = elementStart + elementSize$$1[elementSizeField];

                    element.reflow(elementBox);

                    elementStart += elementSize$$1[elementSizeField] + this$1.elementSpacing;
                }
                groupStart += group.groupSize + this$1.groupSpacing;
            }
            box[groupAxis + 1] = groupsStart;
            box[groupAxis + 2] = groupsStart + groupsSize;
            box[elementAxis + 2] = box[elementAxis + 1] + maxGroupElementsSize;
        }
    };

    FloatElement.prototype.alignStart = function alignStart (size, maxSize) {
        var start = 0;
        var align = this.options.align;
        if (align === RIGHT || align === BOTTOM) {
            start = maxSize - size;
        } else if (align === CENTER) {
            start = (maxSize - size) / 2;
        }
        return start;
    };

    FloatElement.prototype.groupOptions = function groupOptions () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var children = ref.children;
        var elementSizeField = ref.elementSizeField;
        var groupSizeField = ref.groupSizeField;
        var elementSpacing = ref.elementSpacing;
        var groupSpacing = ref.groupSpacing;
        var maxSize = round(box[elementSizeField]());
        var childrenCount = children.length;
        var groups = [];

        var groupSize = 0;
        var groupElementsSize = 0;
        var groupsSize = 0;
        var maxGroupElementsSize = 0;
        var groupElements = [];

        for (var idx = 0; idx < childrenCount; idx++) {
            var element = children[idx];
            if (!element.box) {
                element.reflow(box);
            }

            var elementSize$$1 = this$1.elementSize(element);
            if (this$1.options.wrap && round(groupElementsSize + elementSpacing + elementSize$$1[elementSizeField]) > maxSize) {
                groups.push({
                    groupElements: groupElements,
                    groupSize: groupSize,
                    groupElementsSize: groupElementsSize
                });
                maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);
                groupsSize += groupSpacing + groupSize;
                groupSize = 0;
                groupElementsSize = 0;
                groupElements = [];
            }
            groupSize = Math.max(groupSize, elementSize$$1[groupSizeField]);
            if (groupElementsSize > 0) {
                groupElementsSize += elementSpacing;
            }
            groupElementsSize += elementSize$$1[elementSizeField];
            groupElements.push(element);
        }

        groups.push({
            groupElements: groupElements,
            groupSize: groupSize,
            groupElementsSize: groupElementsSize
        });
        maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);
        groupsSize += groupSize;

        return {
            groups: groups,
            groupsSize: groupsSize,
            maxGroupElementsSize: maxGroupElementsSize
        };
    };

    FloatElement.prototype.elementSize = function elementSize (element) {
        return {
            width: element.box.width(),
            height: element.box.height()
        };
    };

    FloatElement.prototype.createVisual = function createVisual () {};

    return FloatElement;
}(ChartElement));

setDefaultOptions(FloatElement, {
    vertical: true,
    wrap: true,
    vSpacing: 0,
    spacing: 0
});

var DrawingText = _progress_kendoDrawing.drawing.Text;

var Text = (function (ChartElement$$1) {
    function Text(content, options) {
        ChartElement$$1.call(this, options);

        this.content = content;

        // Calculate size
        this.reflow(new Box());
    }

    if ( ChartElement$$1 ) Text.__proto__ = ChartElement$$1;
    Text.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Text.prototype.constructor = Text;

    Text.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var size = options.size = _progress_kendoDrawing.drawing.util.measureText(this.content, { font: options.font });

        this.baseline = size.baseline;

        this.box = new Box(targetBox.x1, targetBox.y1,
                targetBox.x1 + size.width, targetBox.y1 + size.height);
    };

    Text.prototype.createVisual = function createVisual () {
        var ref = this.options;
        var font = ref.font;
        var color = ref.color;
        var opacity = ref.opacity;
        var cursor = ref.cursor;

        this.visual = new DrawingText(this.content, this.box.toRect().topLeft(), {
            font: font,
            fill: { color: color, opacity: opacity },
            cursor: cursor
        });
    };

    return Text;
}(ChartElement));

setDefaultOptions(Text, {
    font: DEFAULT_FONT,
    color: BLACK
});

function rectToBox(rect) {
    var origin = rect.origin;
    var bottomRight = rect.bottomRight();

    return new Box(origin.x, origin.y, bottomRight.x, bottomRight.y);
}

var ROWS_SPLIT_REGEX = /\n/m;

var TextBox = (function (BoxElement$$1) {
    function TextBox(content, options, data) {
        BoxElement$$1.call(this, options);
        this.content = content;
        this.data = data;

        this._initContainer();
        if (this.options._autoReflow !== false) {
            this.reflow(new Box());
        }
    }

    if ( BoxElement$$1 ) TextBox.__proto__ = BoxElement$$1;
    TextBox.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    TextBox.prototype.constructor = TextBox;

    TextBox.prototype._initContainer = function _initContainer () {
        var options = this.options;
        var rows = String(this.content).split(ROWS_SPLIT_REGEX);
        var floatElement = new FloatElement({ vertical: true, align: options.align, wrap: false });
        var textOptions = deepExtend({ }, options, { opacity: 1, animation: null });

        this.container = floatElement;
        this.append(floatElement);

        for (var rowIdx = 0; rowIdx < rows.length; rowIdx++) {
            var text = new Text(rows[rowIdx].trim(), textOptions);
            floatElement.append(text);
        }
    };

    TextBox.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var visualFn = options.visual;
        this.container.options.align = options.align;

        if (visualFn && !this._boxReflow) {
            var visualBox = targetBox;
            if (!visualBox.hasSize()) {
                this._boxReflow = true;
                this.reflow(visualBox);
                this._boxReflow = false;
                visualBox = this.box;
            }
            var visual = this.visual = visualFn(this.visualContext(visualBox));

            if (visual) {
                visualBox = rectToBox(visual.clippedBBox() || new _progress_kendoDrawing.geometry.Rect());

                visual.options.zIndex = options.zIndex;
            }

            this.box = this.contentBox = this.paddingBox = visualBox;
        } else {
            BoxElement$$1.prototype.reflow.call(this, targetBox);

            if (options.rotation) {
                var margin = getSpacing(options.margin);
                var box = this.box.unpad(margin);

                this.targetBox = targetBox;
                this.normalBox = box.clone();

                box = this.rotate();
                box.translate(margin.left - margin.right, margin.top - margin.bottom);

                this.rotatedBox = box.clone();

                box.pad(margin);
            }
        }
    };

    TextBox.prototype.createVisual = function createVisual () {
        var options = this.options;

        this.visual = new _progress_kendoDrawing.drawing.Group({
            transform: this.rotationTransform(),
            zIndex: options.zIndex,
            noclip: options.noclip
        });

        if (this.hasBox()) {
            var box = _progress_kendoDrawing.drawing.Path.fromRect(this.paddingBox.toRect(), this.visualStyle());
            this.visual.append(box);
        }
    };

    TextBox.prototype.renderVisual = function renderVisual () {
        if (!this.options.visible) {
            return;
        }

        if (this.options.visual) {
            var visual = this.visual;
            if (visual && !defined(visual.options.noclip)) {
                visual.options.noclip = this.options.noclip;
            }
            this.addVisual();
            this.createAnimation();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    TextBox.prototype.visualContext = function visualContext (targetBox) {
        var this$1 = this;

        var context = {
            text: this.content,
            rect: targetBox.toRect(),
            sender: this.getSender(),
            options: this.options,
            createVisual: function () {
                this$1._boxReflow = true;
                this$1.reflow(targetBox);
                this$1._boxReflow = false;
                return this$1.getDefaultVisual();
            }
        };
        if (this.data) {
            Object.assign(context, this.data);
        }

        return context;
    };

    TextBox.prototype.getDefaultVisual = function getDefaultVisual () {
        this.createVisual();
        this.renderChildren();
        var visual = this.visual;
        delete this.visual;
        return visual;
    };

    TextBox.prototype.rotate = function rotate () {
        var options = this.options;
        this.box.rotate(options.rotation);
        this.align(this.targetBox, X, options.align);
        this.align(this.targetBox, Y, options.vAlign);
        return this.box;
    };

    TextBox.prototype.rotationTransform = function rotationTransform () {
        var rotation = this.options.rotation;
        if (!rotation) {
            return null;
        }

        var ref = this.normalBox.center();
        var cx = ref.x;
        var cy = ref.y;
        var boxCenter = this.rotatedBox.center();

        return _progress_kendoDrawing.geometry.transform()
                   .translate(boxCenter.x - cx, boxCenter.y - cy)
                   .rotate(rotation, [ cx, cy ]);
    };

    return TextBox;
}(BoxElement));

var Title = (function (ChartElement$$1) {
    function Title(options) {
        ChartElement$$1.call(this, options);

        this.append(
            new TextBox(this.options.text, Object.assign({}, this.options, {
                vAlign: this.options.position
            }))
        );
    }

    if ( ChartElement$$1 ) Title.__proto__ = ChartElement$$1;
    Title.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Title.prototype.constructor = Title;

    Title.prototype.reflow = function reflow (targetBox) {
        ChartElement$$1.prototype.reflow.call(this, targetBox);
        this.box.snapTo(targetBox, X);
    };

    Title.buildTitle = function buildTitle (options, parent, defaultOptions) {
        var titleOptions = options;

        if (typeof options === "string") {
            titleOptions = { text: options };
        }

        titleOptions = Object.assign({ visible: true }, defaultOptions, titleOptions);

        var title;
        if (titleOptions && titleOptions.visible && titleOptions.text) {
            title = new Title(titleOptions);
            parent.append(title);
        }

        return title;
    };

    return Title;
}(ChartElement));

setDefaultOptions(Title, {
    color: BLACK,
    position: TOP,
    align: CENTER,
    margin: getSpacing(5),
    padding: getSpacing(5)
});

var AxisLabel = (function (TextBox$$1) {
    function AxisLabel(value, text, index, dataItem, options) {
        TextBox$$1.call(this, text, options);

        this.text = text;
        this.value = value;
        this.index = index;
        this.dataItem = dataItem;
        this.reflow(new Box());
    }

    if ( TextBox$$1 ) AxisLabel.__proto__ = TextBox$$1;
    AxisLabel.prototype = Object.create( TextBox$$1 && TextBox$$1.prototype );
    AxisLabel.prototype.constructor = AxisLabel;

    AxisLabel.prototype.visualContext = function visualContext (targetBox) {
        var context = TextBox$$1.prototype.visualContext.call(this, targetBox);

        context.value = this.value;
        context.dataItem = this.dataItem;
        context.format = this.options.format;
        context.culture = this.options.culture;

        return context;
    };

    AxisLabel.prototype.click = function click (widget, e) {

        widget.trigger(AXIS_LABEL_CLICK, {
            element: eventElement(e),
            value: this.value,
            text: this.text,
            index: this.index,
            dataItem: this.dataItem,
            axis: this.parent.options
        });
    };

    AxisLabel.prototype.rotate = function rotate () {
        if (this.options.alignRotation !== CENTER) {
            var box = this.normalBox.toRect();
            var transform = this.rotationTransform();

            this.box = rectToBox(box.bbox(transform.matrix()));
        } else {
            TextBox$$1.prototype.rotate.call(this);
        }

        return this.box;
    };

    AxisLabel.prototype.rotationTransform = function rotationTransform () {
        var options = this.options;
        var rotation = options.rotation;
        if (!rotation) {
            return null;
        }

        if (options.alignRotation === CENTER) {
            return TextBox$$1.prototype.rotationTransform.call(this);
        }

        var rotationMatrix = _progress_kendoDrawing.geometry.transform().rotate(rotation).matrix();
        var box = this.normalBox.toRect();
        var rect = this.targetBox.toRect();

        var rotationOrigin = options.rotationOrigin || TOP;
        var alignAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? X : Y;
        var distanceAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? Y : X;
        var axisAnchor = rotationOrigin === TOP || rotationOrigin === LEFT ? rect.origin : rect.bottomRight();

        var topLeft = box.topLeft().transformCopy(rotationMatrix);
        var topRight = box.topRight().transformCopy(rotationMatrix);
        var bottomRight = box.bottomRight().transformCopy(rotationMatrix);
        var bottomLeft = box.bottomLeft().transformCopy(rotationMatrix);
        var rotatedBox = _progress_kendoDrawing.geometry.Rect.fromPoints(topLeft, topRight, bottomRight, bottomLeft);

        var translate = {};
        translate[distanceAxis] = rect.origin[distanceAxis] - rotatedBox.origin[distanceAxis];

        var distanceLeft = Math.abs(topLeft[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);
        var distanceRight = Math.abs(topRight[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);

        var alignStart, alignEnd;

        if (round(distanceLeft, DEFAULT_PRECISION) === round(distanceRight, DEFAULT_PRECISION)) {
            alignStart = topLeft;
            alignEnd = topRight;
        } else if (distanceRight < distanceLeft) {
            alignStart = topRight;
            alignEnd = bottomRight;
        } else {
            alignStart = topLeft;
            alignEnd = bottomLeft;
        }

        var alignCenter = alignStart[alignAxis] + (alignEnd[alignAxis] - alignStart[alignAxis]) / 2;
        translate[alignAxis] = rect.center()[alignAxis] - alignCenter;

        return _progress_kendoDrawing.geometry.transform()
            .translate(translate.x, translate.y)
            .rotate(rotation);
    };

    return AxisLabel;
}(TextBox));

setDefaultOptions(AxisLabel, {
    _autoReflow: false
});

var DEFAULT_ICON_SIZE = 7;
var DEFAULT_LABEL_COLOR = "#fff";

var Note = (function (BoxElement$$1) {
    function Note(fields, options, chartService) {
        BoxElement$$1.call(this, options);

        this.fields = fields;
        this.chartService = chartService;

        this.render();
    }

    if ( BoxElement$$1 ) Note.__proto__ = BoxElement$$1;
    Note.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    Note.prototype.constructor = Note;

    Note.prototype.hide = function hide () {
        this.options.visible = false;
    };

    Note.prototype.show = function show () {
        this.options.visible = true;
    };

    Note.prototype.render = function render () {
        var this$1 = this;

        var options = this.options;

        if (options.visible) {
            var label = options.label;
            var icon = options.icon;
            var box = new Box();
            var childAlias = function () { return this$1; };
            var size = icon.size;
            var text = this.fields.text;
            var width, height;

            if (defined(label) && label.visible) {
                var noteTemplate = getTemplate(label);
                if (noteTemplate) {
                    text = noteTemplate(this.fields);
                } else if (label.format) {
                    text = this.chartService.format.auto(label.format, text);
                }

                if (!label.color) {
                    label.color = label.position === INSIDE ? DEFAULT_LABEL_COLOR : icon.background;
                }

                this.label = new TextBox(text, deepExtend({}, label));
                this.label.aliasFor = childAlias;

                if (label.position === INSIDE && !defined(size)) {
                    if (icon.type === CIRCLE) {
                        size = Math.max(this.label.box.width(), this.label.box.height());
                    } else {
                        width = this.label.box.width();
                        height = this.label.box.height();
                    }
                    box.wrap(this.label.box);
                }
            }

            icon.width = width || size || DEFAULT_ICON_SIZE;
            icon.height = height || size || DEFAULT_ICON_SIZE;

            var marker = new ShapeElement(deepExtend({}, icon));
            marker.aliasFor = childAlias;

            this.marker = marker;
            this.append(marker);

            if (this.label) {
                this.append(this.label);
            }

            marker.reflow(new Box());
            this.wrapperBox = box.wrap(marker.box);
        }
    };

    Note.prototype.reflow = function reflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var label = ref.label;
        var marker = ref.marker;
        var wrapperBox = ref.wrapperBox;
        var center = targetBox.center();
        var length = options.line.length;
        var position = options.position;

        // TODO: Review
        if (options.visible) {
            var lineStart, box, contentBox;

            if (inArray(position, [ LEFT, RIGHT ])) {
                if (position === LEFT) {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(-length, targetBox.center().y - wrapperBox.center().y);

                    if (options.line.visible) {
                        lineStart = [ targetBox.x1, center.y ];
                        this.linePoints = [
                            lineStart,
                            [ contentBox.x2, center.y ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                } else {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(length, targetBox.center().y - wrapperBox.center().y);

                    if (options.line.visible) {
                        lineStart = [ targetBox.x2, center.y ];
                        this.linePoints = [
                            lineStart,
                            [ contentBox.x1, center.y ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                }
            } else {
                if (position === BOTTOM) {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, length);

                    if (options.line.visible) {
                        lineStart = [ center.x, targetBox.y2 ];
                        this.linePoints = [
                            lineStart,
                            [ center.x, contentBox.y1 ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                } else {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, -length);

                    if (options.line.visible) {
                        lineStart = [ center.x, targetBox.y1 ];
                        this.linePoints = [
                            lineStart,
                            [ center.x, contentBox.y2 ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                }
            }

            if (marker) {
                marker.reflow(contentBox);
            }

            if (label) {
                label.reflow(contentBox);
                if (marker) {
                    if (options.label.position === OUTSIDE) {
                        label.box.alignTo(marker.box, position);
                    }
                    label.reflow(label.box);
                }
            }

            this.contentBox = contentBox;
            this.targetBox = targetBox;
            this.box = box || contentBox;
        }
    };

    Note.prototype.createVisual = function createVisual () {
        BoxElement$$1.prototype.createVisual.call(this);
        this.visual.options.noclip = this.options.noclip;

        if (this.options.visible) {
            this.createLine();
        }
    };

    Note.prototype.renderVisual = function renderVisual () {
        var this$1 = this;

        var options = this.options;
        var customVisual = options.visual;
        if (options.visible && customVisual) {
            this.visual = customVisual(Object.assign(this.fields, {
                sender: this.getSender(),
                rect: this.targetBox.toRect(),
                options: {
                    background: options.background,
                    border: options.background,
                    icon: options.icon,
                    label: options.label,
                    line: options.line,
                    position: options.position,
                    visible: options.visible
                },
                createVisual: function () {
                    this$1.createVisual();
                    this$1.renderChildren();
                    var defaultVisual = this$1.visual;
                    delete this$1.visual;
                    return defaultVisual;
                }
            }));
            this.addVisual();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    Note.prototype.createLine = function createLine () {
        var options = this.options.line;

        if (this.linePoints) {
            var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.linePoints, {
                stroke: {
                    color: options.color,
                    width: options.width,
                    dashType: options.dashType
                }
            });

            alignPathToPixel(path);
            this.visual.append(path);
        }
    };

    Note.prototype.click = function click (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(NOTE_CLICK, args)) {
            e.preventDefault();
        }
    };

    Note.prototype.over = function over (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(NOTE_HOVER, args)) {
            e.preventDefault();
        }
    };

    Note.prototype.out = function out (widget, e) {
        var args = this.eventArgs(e);

        widget.trigger(NOTE_LEAVE, args);
    };

    Note.prototype.eventArgs = function eventArgs (e) {
        var options = this.options;

        return Object.assign(this.fields, {
            element: eventElement(e),
            text: defined(options.label) ? options.label.text : "",
            visual: this.visual
        });
    };

    return Note;
}(BoxElement));

setDefaultOptions(Note, {
    icon: {
        visible: true,
        type: CIRCLE
    },
    label: {
        position: INSIDE,
        visible: true,
        align: CENTER,
        vAlign: CENTER
    },
    line: {
        visible: true
    },
    visible: true,
    position: TOP,
    zIndex: 2
});

var defaultImplementation = {
    format: function (format, value) { return value; },

    toString: function (value) { return value; },

    parseDate: function (value) { return new Date(value); },

    firstDay: function () { return 0; }
};

var current$1 = defaultImplementation;

var IntlService = function IntlService () {};

var staticAccessors = { implementation: {} };

IntlService.register = function register (userImplementation) {
    current$1 = userImplementation;
};

staticAccessors.implementation.get = function () {
    return current$1;
};

Object.defineProperties( IntlService, staticAccessors );

var FORMAT_REPLACE_REGEX = /\{(\d+)(:[^\}]+)?\}/g;

var FormatService = function FormatService(intlService) {
    this._intlService = intlService;
};

var prototypeAccessors$2 = { intl: {} };

prototypeAccessors$2.intl.get = function () {
    return this._intlService || IntlService.implementation;
};

prototypeAccessors$2.intl.set = function (value) {
    this._intlService = value;
};

FormatService.prototype.auto = function auto (formatString) {
        var values = [], len = arguments.length - 1;
        while ( len-- > 0 ) values[ len ] = arguments[ len + 1 ];

    var intl = this.intl;

    if (isString(formatString) && formatString.match(FORMAT_REGEX)) {
        return intl.format.apply(intl, [ formatString ].concat( values ));
    }

    return intl.toString(values[0], formatString);
};

FormatService.prototype.localeAuto = function localeAuto (formatString, values, locale) {
    var intl = this.intl;
    var result;

    if (isString(formatString) && formatString.match(FORMAT_REGEX)) {
        result = formatString.replace(FORMAT_REPLACE_REGEX, function(match, index, placeholderFormat) {
            var value = values[parseInt(index, 10)];

            return intl.toString(value, placeholderFormat ? placeholderFormat.substring(1) : "", locale);
        });
    } else {
        result = intl.toString(values[0], formatString, locale);
    }

    return result;
};

Object.defineProperties( FormatService.prototype, prototypeAccessors$2 );

var ChartService = function ChartService(chart, context) {
    if ( context === void 0 ) context = {};

    this._intlService = context.intlService;
    this.sender = context.sender || chart;
    this.format = new FormatService(context.intlService);
    this.chart = chart;
    this.rtl = Boolean(context.rtl);
};

var prototypeAccessors$1$1 = { intl: {} };

prototypeAccessors$1$1.intl.get = function () {
    return this._intlService || IntlService.implementation;
};

prototypeAccessors$1$1.intl.set = function (value) {
    this._intlService = value;
    this.format.intl = value;
};

ChartService.prototype.notify = function notify (name, args) {
    if (this.chart) {
        this.chart.trigger(name, args);
    }
};

ChartService.prototype.isPannable = function isPannable (axis) {
    var pannable = ((this.chart || {}).options || {}).pannable;
    return pannable && pannable.lock !== axis;
};

Object.defineProperties( ChartService.prototype, prototypeAccessors$1$1 );

var current$2;

var DomEventsBuilder = function DomEventsBuilder () {};

DomEventsBuilder.register = function register (userImplementation) {
    current$2 = userImplementation;
};

DomEventsBuilder.create = function create (element, events) {
    if (current$2) {
        return current$2.create(element, events);
    }
};

function createAxisTick(options, tickOptions) {
    var tickX = options.tickX;
    var tickY = options.tickY;
    var position = options.position;

    var tick = new _progress_kendoDrawing.drawing.Path({
        stroke: {
            width: tickOptions.width,
            color: tickOptions.color
        }
    });

    if (options.vertical) {
        tick.moveTo(tickX, position)
            .lineTo(tickX + tickOptions.size, position);
    } else {
        tick.moveTo(position, tickY)
            .lineTo(position, tickY + tickOptions.size);
    }

    alignPathToPixel(tick);

    return tick;
}

function createAxisGridLine(options, gridLine) {
    var lineStart = options.lineStart;
    var lineEnd = options.lineEnd;
    var position = options.position;

    var line = new _progress_kendoDrawing.drawing.Path({
        stroke: {
            width: gridLine.width,
            color: gridLine.color,
            dashType: gridLine.dashType
        }
    });

    if (options.vertical) {
        line.moveTo(lineStart, position)
            .lineTo(lineEnd, position);
    } else {
        line.moveTo(position, lineStart)
            .lineTo(position, lineEnd);
    }

    alignPathToPixel(line);

    return line;
}

var Axis = (function (ChartElement$$1) {
    function Axis(options, chartService) {
        if ( chartService === void 0 ) chartService = new ChartService();

        ChartElement$$1.call(this, options);

        this.chartService = chartService;

        if (!this.options.visible) {
            this.options = deepExtend({}, this.options, {
                labels: {
                    visible: false
                },
                line: {
                    visible: false
                },
                margin: 0,
                majorTickSize: 0,
                minorTickSize: 0
            });
        }

        this.options.minorTicks = deepExtend({}, {
            color: this.options.line.color,
            width: this.options.line.width,
            visible: this.options.minorTickType !== NONE
        }, this.options.minorTicks, {
            size: this.options.minorTickSize,
            align: this.options.minorTickType
        });

        this.options.majorTicks = deepExtend({}, {
            color: this.options.line.color,
            width: this.options.line.width,
            visible: this.options.majorTickType !== NONE
        }, this.options.majorTicks, {
            size: this.options.majorTickSize,
            align: this.options.majorTickType
        });

        this.initFields();

        if (!this.options._deferLabels) {
            this.createLabels();
        }

        this.createTitle();
        this.createNotes();
    }

    if ( ChartElement$$1 ) Axis.__proto__ = ChartElement$$1;
    Axis.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Axis.prototype.constructor = Axis;

    Axis.prototype.initFields = function initFields () {
    };

    // abstract labelsCount(): Number
    // abstract createAxisLabel(index, options): AxisLabel

    Axis.prototype.labelsRange = function labelsRange () {
        return {
            min: this.options.labels.skip,
            max: this.labelsCount()
        };
    };

    Axis.prototype.normalizeLabelRotation = function normalizeLabelRotation (labelOptions) {
        var rotation = labelOptions.rotation;

        if (isObject(rotation)) {
            labelOptions.alignRotation = rotation.align;
            labelOptions.rotation = rotation.angle;
        }
    };

    Axis.prototype.createLabels = function createLabels () {
        var this$1 = this;

        var options = this.options;
        var align = options.vertical ? RIGHT : CENTER;
        var labelOptions = deepExtend({ }, options.labels, {
            align: align,
            zIndex: options.zIndex
        });
        var step = Math.max(1, labelOptions.step);

        this.clearLabels();

        if (labelOptions.visible) {
            this.normalizeLabelRotation(labelOptions);
            if (labelOptions.rotation === "auto") {
                labelOptions.rotation = 0;
                options.autoRotateLabels = true;
            }

            var range = this.labelsRange();
            for (var idx = range.min; idx < range.max; idx += step) {
                var labelContext = { index: idx, count: range.max };
                var label = this$1.createAxisLabel(idx, labelOptions, labelContext);
                if (label) {
                    this$1.append(label);
                    this$1.labels.push(label);
                }
            }
        }
    };

    Axis.prototype.clearLabels = function clearLabels () {
        this.children = grep(this.children, function (child) { return !(child instanceof AxisLabel); });
        this.labels = [];
    };

    Axis.prototype.clearTitle = function clearTitle () {
        var this$1 = this;

        if (this.title) {
            this.children = grep(this.children, function (child) { return child !== this$1.title; });
            this.title = undefined;
        }
    };

    Axis.prototype.clear = function clear () {
        this.clearLabels();
        this.clearTitle();
    };

    Axis.prototype.lineBox = function lineBox () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var axisX = mirror ? box.x1 : box.x2;
        var axisY = mirror ? box.y2 : box.y1;
        var lineWidth = options.line.width || 0;

        return vertical ?
            new Box(axisX, box.y1, axisX, box.y2 - lineWidth) :
            new Box(box.x1, axisY, box.x2 - lineWidth, axisY);
    };

    Axis.prototype.createTitle = function createTitle () {
        var options = this.options;
        var titleOptions = deepExtend({
            rotation: options.vertical ? -90 : 0,
            text: "",
            zIndex: 1,
            visualSize: true
        }, options.title);

        if (titleOptions.visible && titleOptions.text) {
            var title = new TextBox(titleOptions.text, titleOptions);
            this.append(title);
            this.title = title;
        }
    };

    Axis.prototype.createNotes = function createNotes () {
        var this$1 = this;

        var options = this.options;
        var notes = options.notes;
        var items = notes.data || [];

        this.notes = [];

        for (var i = 0; i < items.length; i++) {
            var item = deepExtend({}, notes, items[i]);
            item.value = this$1.parseNoteValue(item.value);

            var note = new Note({
                value: item.value,
                text: item.label.text,
                dataItem: item
            }, item, this$1.chartService);

            if (note.options.visible) {
                if (defined(note.options.position)) {
                    if (options.vertical && !inArray(note.options.position, [ LEFT, RIGHT ])) {
                        note.options.position = options.reverse ? LEFT : RIGHT;
                    } else if (!options.vertical && !inArray(note.options.position, [ TOP, BOTTOM ])) {
                        note.options.position = options.reverse ? BOTTOM : TOP;
                    }
                } else {
                    if (options.vertical) {
                        note.options.position = options.reverse ? LEFT : RIGHT;
                    } else {
                        note.options.position = options.reverse ? BOTTOM : TOP;
                    }
                }
                this$1.append(note);
                this$1.notes.push(note);
            }
        }
    };

    Axis.prototype.parseNoteValue = function parseNoteValue (value) {
        return value;
    };

    Axis.prototype.renderVisual = function renderVisual () {
        ChartElement$$1.prototype.renderVisual.call(this);

        this.createPlotBands();
    };

    Axis.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        this.createBackground();
        this.createLine();
    };

    Axis.prototype.gridLinesVisual = function gridLinesVisual () {
        var gridLines = this._gridLines;
        if (!gridLines) {
            gridLines = this._gridLines = new _progress_kendoDrawing.drawing.Group({
                zIndex: -2
            });
            this.appendVisual(this._gridLines);
        }

        return gridLines;
    };

    Axis.prototype.createTicks = function createTicks (lineGroup) {
        var options = this.options;
        var lineBox = this.lineBox();
        var mirror = options.labels.mirror;
        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;
        var tickLineOptions = {
            // TODO
            // _alignLines: options._alignLines,
            vertical: options.vertical
        };

        function render(tickPositions, tickOptions, skipUnit) {
            var count = tickPositions.length;
            var step = Math.max(1, tickOptions.step);

            if (tickOptions.visible) {
                for (var i = tickOptions.skip; i < count; i += step) {
                    if (defined(skipUnit) && (i % skipUnit === 0)) {
                        continue;
                    }

                    tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
                    tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
                    tickLineOptions.position = tickPositions[i];

                    lineGroup.append(createAxisTick(tickLineOptions, tickOptions));
                }
            }
        }

        render(this.getMajorTickPositions(), options.majorTicks);
        render(this.getMinorTickPositions(), options.minorTicks, majorUnit / options.minorUnit);
    };

    Axis.prototype.createLine = function createLine () {
        var options = this.options;
        var line = options.line;
        var lineBox = this.lineBox();

        if (line.width > 0 && line.visible) {
            var path = new _progress_kendoDrawing.drawing.Path({
                stroke: {
                    width: line.width,
                    color: line.color,
                    dashType: line.dashType
                }

                /* TODO
                zIndex: line.zIndex,
                */
            });

            path.moveTo(lineBox.x1, lineBox.y1)
                .lineTo(lineBox.x2, lineBox.y2);

            if (options._alignLines) {
                alignPathToPixel(path);
            }

            var group = this._lineGroup = new _progress_kendoDrawing.drawing.Group();
            group.append(path);

            this.visual.append(group);
            this.createTicks(group);
        }
    };

    Axis.prototype.getActualTickSize = function getActualTickSize () {
        var options = this.options;
        var tickSize = 0;

        if (options.majorTicks.visible && options.minorTicks.visible) {
            tickSize = Math.max(options.majorTicks.size, options.minorTicks.size);
        } else if (options.majorTicks.visible) {
            tickSize = options.majorTicks.size;
        } else if (options.minorTicks.visible) {
            tickSize = options.minorTicks.size;
        }

        return tickSize;
    };

    Axis.prototype.createBackground = function createBackground () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var background = options.background;

        if (background) {
            this._backgroundPath = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), {
                fill: {
                    color: background
                },
                stroke: null
            });

            this.visual.append(this._backgroundPath);
        }
    };

    Axis.prototype.createPlotBands = function createPlotBands () {
        var this$1 = this;

        var options = this.options;
        var plotBands = options.plotBands || [];
        var vertical = options.vertical;
        var plotArea = this.plotArea;

        if (plotBands.length === 0) {
            return;
        }

        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        var altAxis = grep(this.pane.axes, function (axis) { return axis.options.vertical !== this$1.options.vertical; })[0];

        for (var idx = 0; idx < plotBands.length; idx++) {
            var item = plotBands[idx];
            var slotX = (void 0), slotY = (void 0);
            var labelOptions = item.label;
            var label = (void 0);

            if (vertical) {
                slotX = (altAxis || plotArea.axisX).lineBox();
                slotY = this$1.getSlot(item.from, item.to, true);
            } else {
                slotX = this$1.getSlot(item.from, item.to, true);
                slotY = (altAxis || plotArea.axisY).lineBox();
            }

            if (labelOptions) {
                labelOptions.vAlign = labelOptions.position || LEFT;
                label = this$1.createPlotBandLabel(
                    labelOptions,
                    item,
                    new Box(
                        slotX.x1,
                        slotY.y1,
                        slotX.x2,
                        slotY.y2
                    )

                );
            }

            if (slotX.width() !== 0 && slotY.height() !== 0) {
                var bandRect = new _progress_kendoDrawing.geometry.Rect(
                    [ slotX.x1, slotY.y1 ],
                    [ slotX.width(), slotY.height() ]
                );

                var path = _progress_kendoDrawing.drawing.Path.fromRect(bandRect, {
                    fill: {
                        color: item.color,
                        opacity: item.opacity
                    },
                    stroke: null
                });

                group.append(path);
                if (label) {
                    group.append(label);
                }
            }
        }

        this.appendVisual(group);
    };

    Axis.prototype.createPlotBandLabel = function createPlotBandLabel (label, item, box) {

        if (label.visible === false) {
            return null;
        }

        var text = label.text;
        var textbox;

        if (defined(label) && label.visible) {
            var labelTemplate = getTemplate(label);
            if (labelTemplate) {
                text = labelTemplate({ text: text, item: item });
            } else if (label.format) {
                text = this.chartService.format.auto(label.format, text);
            }

            if (!label.color) {
                label.color = this.options.labels.color;
            }
        }

        textbox = new TextBox(text, label);
        textbox.reflow(box);
        textbox.renderVisual();

        return textbox.visual;
    };

    Axis.prototype.createGridLines = function createGridLines (altAxis) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var minorUnit = options.minorUnit;
        var vertical = options.vertical;
        var axisLineVisible = altAxis.options.line.visible;
        var majorUnit = majorGridLines.visible ? options.majorUnit : 0;
        var lineBox = altAxis.lineBox();
        var linePos = lineBox[vertical ? "y1" : "x1"];
        var lineOptions = {
            lineStart: lineBox[vertical ? "x1" : "y1"],
            lineEnd: lineBox[vertical ? "x2" : "y2"],
            vertical: vertical
        };
        var majorTicks = [];

        var container = this.gridLinesVisual();

        function render(tickPositions, gridLine, skipUnit) {
            var count = tickPositions.length;
            var step = Math.max(1, gridLine.step);

            if (gridLine.visible) {
                for (var i = gridLine.skip; i < count; i += step) {
                    var pos = round(tickPositions[i]);
                    if (!inArray(pos, majorTicks)) {
                        if (i % skipUnit !== 0 && (!axisLineVisible || linePos !== pos)) {
                            lineOptions.position = pos;
                            container.append(createAxisGridLine(lineOptions, gridLine));

                            majorTicks.push(pos);
                        }
                    }
                }
            }
        }

        render(this.getMajorTickPositions(), majorGridLines);
        render(this.getMinorTickPositions(), minorGridLines, majorUnit / minorUnit);

        return container.children;
    };

    Axis.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var title = ref.title;
        var vertical = options.vertical;
        var count = labels.length;
        var sizeFn = vertical ? WIDTH : HEIGHT;
        var titleSize = title ? title.box[sizeFn]() : 0;
        var space = this.getActualTickSize() + options.margin + titleSize;
        var rootBox = (this.getRoot() || {}).box || box;
        var boxSize = rootBox[sizeFn]();
        var maxLabelSize = 0;

        for (var i = 0; i < count; i++) {
            var labelSize = labels[i].box[sizeFn]();
            if (labelSize + space <= boxSize) {
                maxLabelSize = Math.max(maxLabelSize, labelSize);
            }
        }

        if (vertical) {
            this.box = new Box(
                box.x1, box.y1,
                box.x1 + maxLabelSize + space, box.y2
            );
        } else {
            this.box = new Box(
                box.x1, box.y1,
                box.x2, box.y1 + maxLabelSize + space
            );
        }

        this.arrangeTitle();
        this.arrangeLabels();
        this.arrangeNotes();
    };

    Axis.prototype.getLabelsTickPositions = function getLabelsTickPositions () {
        return this.getMajorTickPositions();
    };

    Axis.prototype.labelTickIndex = function labelTickIndex (label) {
        return label.index;
    };

    Axis.prototype.arrangeLabels = function arrangeLabels () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var labelsBetweenTicks = this.labelsBetweenTicks();
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var tickPositions = this.getLabelsTickPositions();

        for (var idx = 0; idx < labels.length; idx++) {
            var label = labels[idx];
            var tickIx = this$1.labelTickIndex(label);
            var labelSize = vertical ? label.box.height() : label.box.width();
            var firstTickPosition = tickPositions[tickIx];
            var nextTickPosition = tickPositions[tickIx + 1];
            var positionStart = (void 0), positionEnd = (void 0);

            if (vertical) {
                if (labelsBetweenTicks) {
                    var middle = firstTickPosition + (nextTickPosition - firstTickPosition) / 2;
                    positionStart = middle - (labelSize / 2);
                } else {
                    positionStart = firstTickPosition - (labelSize / 2);
                }

                positionEnd = positionStart;
            } else {
                if (labelsBetweenTicks) {
                    positionStart = firstTickPosition;
                    positionEnd = nextTickPosition;
                } else {
                    positionStart = firstTickPosition - (labelSize / 2);
                    positionEnd = positionStart + labelSize;
                }
            }

            this$1.positionLabel(label, mirror, positionStart, positionEnd);
        }
    };

    Axis.prototype.positionLabel = function positionLabel (label, mirror, positionStart, positionEnd) {
        if ( positionEnd === void 0 ) positionEnd = positionStart;

        var options = this.options;
        var vertical = options.vertical;
        var lineBox = this.lineBox();
        var labelOffset = this.getActualTickSize() + options.margin;
        var labelBox;

        if (vertical) {
            var labelX = lineBox.x2;

            if (mirror) {
                labelX += labelOffset;
                label.options.rotationOrigin = LEFT;
            } else {
                labelX -= labelOffset + label.box.width();
                label.options.rotationOrigin = RIGHT;
            }

            labelBox = label.box.move(labelX, positionStart);
        } else {
            var labelY = lineBox.y1;

            if (mirror) {
                labelY -= labelOffset + label.box.height();
                label.options.rotationOrigin = BOTTOM;
            } else {
                labelY += labelOffset;
                label.options.rotationOrigin = TOP;
            }

            labelBox = new Box(
                positionStart, labelY,
                positionEnd, labelY + label.box.height()
            );
        }

        label.reflow(labelBox);
    };

    Axis.prototype.autoRotateLabelAngle = function autoRotateLabelAngle (labelBox, slotWidth) {
        if (labelBox.width() < slotWidth) {
            return 0;
        }

        if (labelBox.height() > slotWidth) {
            return -90;
        }

        return -45;
    };

    Axis.prototype.autoRotateLabels = function autoRotateLabels () {
        var this$1 = this;

        if (!this.options.autoRotateLabels || this.options.vertical) {
            return false;
        }

        var tickPositions = this.getMajorTickPositions();
        var labels = this.labels;
        var limit = Math.min(labels.length, tickPositions.length - 1);
        var angle = 0;

        for (var idx = 0; idx < limit; idx++) {
            var width = Math.abs(tickPositions[idx + 1] - tickPositions[idx]);
            var labelBox = labels[idx].box;
            var labelAngle = this$1.autoRotateLabelAngle(labelBox, width);

            if (labelAngle !== 0) {
                angle = labelAngle;
            }

            if (angle === -90) {
                break;
            }
        }

        if (angle !== 0) {
            for (var idx$1 = 0; idx$1 < labels.length; idx$1++) {
                labels[idx$1].options.rotation = angle;
                labels[idx$1].reflow(new Box());
            }

            return true;
        }
    };

    Axis.prototype.arrangeTitle = function arrangeTitle () {
        var ref = this;
        var options = ref.options;
        var title = ref.title;
        var mirror = options.labels.mirror;
        var vertical = options.vertical;

        if (title) {
            if (vertical) {
                title.options.align = mirror ? RIGHT : LEFT;
                title.options.vAlign = title.options.position;
            } else {
                title.options.align = title.options.position;
                title.options.vAlign = mirror ? TOP : BOTTOM;
            }

            title.reflow(this.box);
        }
    };

    Axis.prototype.arrangeNotes = function arrangeNotes () {
        var this$1 = this;

        for (var idx = 0; idx < this.notes.length; idx++) {
            var item = this$1.notes[idx];
            var value = item.options.value;
            var slot = (void 0);

            if (defined(value)) {
                if (this$1.shouldRenderNote(value)) {
                    item.show();
                } else {
                    item.hide();
                }

                slot = this$1.noteSlot(value);
            } else {
                item.hide();
            }

            item.reflow(slot || this$1.lineBox());
        }
    };

    Axis.prototype.noteSlot = function noteSlot (value) {
        return this.getSlot(value);
    };

    Axis.prototype.alignTo = function alignTo (secondAxis) {
        var lineBox = secondAxis.lineBox();
        var vertical = this.options.vertical;
        var pos = vertical ? Y : X;

        this.box.snapTo(lineBox, pos);
        if (vertical) {
            this.box.shrink(0, this.lineBox().height() - lineBox.height());
        } else {
            this.box.shrink(this.lineBox().width() - lineBox.width(), 0);
        }
        this.box[pos + 1] -= this.lineBox()[pos + 1] - lineBox[pos + 1];
        this.box[pos + 2] -= this.lineBox()[pos + 2] - lineBox[pos + 2];
    };

    Axis.prototype.axisLabelText = function axisLabelText (value, options, context) {
        var this$1 = this;

        var text;
        var tmpl = getTemplate(options);
        var defaultText = function () {
            if (!options.format) {
                return value;
            }

            return this$1.chartService.format.localeAuto(
                options.format, [ value ], options.culture
            );
        };

        if (tmpl) {
            var templateContext = Object.assign({}, context, {
                get text() { return defaultText(); },
                value: value,
                format: options.format,
                culture: options.culture
            });

            text = tmpl(templateContext);
        } else {
            text = defaultText();
        }

        return text;
    };

    Axis.prototype.slot = function slot (from , to, limit) {
        var slot = this.getSlot(from, to, limit);
        if (slot) {
            return slot.toRect();
        }
    };

    Axis.prototype.contentBox = function contentBox () {
        var box = this.box.clone();
        var labels = this.labels;
        if (labels.length) {
            var axis = this.options.vertical ? Y : X;
            if (this.chartService.isPannable(axis)) {
                var offset = this.maxLabelOffset();
                box[axis + 1] -= offset.start;
                box[axis + 2] += offset.end;
            } else {
                if (labels[0].options.visible) {
                    box.wrap(labels[0].box);
                }
                var lastLabel = labels[labels.length - 1];
                if (lastLabel.options.visible) {
                    box.wrap(lastLabel.box);
                }
            }
        }

        return box;
    };

    Axis.prototype.maxLabelOffset = function maxLabelOffset () {
        var this$1 = this;

        var ref = this.options;
        var vertical = ref.vertical;
        var reverse = ref.reverse;
        var labelsBetweenTicks = this.labelsBetweenTicks();
        var tickPositions = this.getLabelsTickPositions();
        var offsetField = vertical ? Y : X;
        var labels = this.labels;
        var startPosition = reverse ? 1 : 0;
        var endPosition = reverse ? 0 : 1;
        var maxStartOffset = 0;
        var maxEndOffset = 0;

        for (var idx = 0; idx < labels.length; idx++) {
            var label = labels[idx];
            var tickIx = this$1.labelTickIndex(label);
            var startTick = (void 0), endTick = (void 0);

            if (labelsBetweenTicks) {
                startTick = tickPositions[tickIx + startPosition];
                endTick = tickPositions[tickIx + endPosition];
            } else {
                startTick = endTick = tickPositions[tickIx];
            }

            maxStartOffset = Math.max(maxStartOffset, startTick - label.box[offsetField + 1]);
            maxEndOffset = Math.max(maxEndOffset, label.box[offsetField + 2] - endTick);
        }

        return {
            start: maxStartOffset,
            end: maxEndOffset
        };
    };

    Axis.prototype.limitRange = function limitRange (from, to, min, max, offset) {
        var options = this.options;

        if ((from < min && offset < 0 && (!defined(options.min) || options.min <= min)) || (max < to && offset > 0 && (!defined(options.max) || max <= options.max))) {
            return null;
        }

        if ((to < min && offset > 0) || (max < from && offset < 0)) {
            return {
                min: from,
                max: to
            };
        }

        var rangeSize = to - from;
        var minValue = from;
        var maxValue = to;

        if (from < min && offset < 0) {
            minValue = limitValue(from, min, max);
            maxValue = limitValue(from + rangeSize, min + rangeSize, max);
        } else if (to > max && offset > 0) {
            maxValue = limitValue(to, min, max);
            minValue = limitValue(to - rangeSize, min, max - rangeSize);
        }

        return {
            min: minValue,
            max: maxValue
        };
    };

    Axis.prototype.valueRange = function valueRange () {
        return {
            min: this.seriesMin,
            max: this.seriesMax
        };
    };

    Axis.prototype.lineDir = function lineDir () {
        /*
         * Axis line direction:
         *   * Vertical: up.
         *   * Horizontal: right.
         */

        var ref = this.options;
        var vertical = ref.vertical;
        var reverse = ref.reverse;
        return (vertical ? -1 : 1) * (reverse ? -1 : 1);
    };

    Axis.prototype.lineInfo = function lineInfo () {
        var ref = this.options;
        var vertical = ref.vertical;
        var lineBox = this.lineBox();
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var axis = vertical ? Y : X;
        var axisDir = this.lineDir();
        var startEdge = axisDir === 1 ? 1 : 2;
        var axisOrigin = axis + startEdge.toString();
        var lineStart = lineBox[axisOrigin];

        return {
            axis: axis,
            axisOrigin: axisOrigin,
            axisDir: axisDir,
            lineBox: lineBox,
            lineSize: lineSize,
            lineStart: lineStart
        };
    };

    Axis.prototype.pointOffset = function pointOffset (point) {
        var ref = this.lineInfo();
        var axis = ref.axis;
        var axisDir = ref.axisDir;
        var axisOrigin = ref.axisOrigin;
        var lineBox = ref.lineBox;
        var lineSize = ref.lineSize;
        var relative = axisDir > 0 ? point[axis] - lineBox[axisOrigin] : lineBox[axisOrigin] - point[axis];
        var offset = relative / lineSize;

        return offset;
    };

    // Computes the axis range change (delta) for a given scale factor.
    // The delta is subtracted from the axis range:
    //   * delta > 0 reduces the axis range (zoom-in)
    //   * delta < 0 expands the axis range (zoom-out)
    Axis.prototype.scaleToDelta = function scaleToDelta (rawScale, range) {
        // Scale >= 1 would result in axis range of 0.
        // Scale <= -1 would reverse the scale direction.
        var MAX_SCALE = 0.999;
        var scale = limitValue(rawScale, -MAX_SCALE, MAX_SCALE);

        var delta;
        if (scale > 0) {
            delta = range * Math.min(1, scale);
        } else {
            delta = range - (range / (1 + scale));
        }

        return delta;
    };

    Axis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {
        return !this.options.justified;
    };

    //add legacy fields to the options that are no longer generated by default
    Axis.prototype.prepareUserOptions = function prepareUserOptions () {
    };

    return Axis;
}(ChartElement));

setDefaultOptions(Axis, {
    labels: {
        visible: true,
        rotation: 0,
        mirror: false,
        step: 1,
        skip: 0
    },
    line: {
        width: 1,
        color: BLACK,
        visible: true
    },
    title: {
        visible: true,
        position: CENTER
    },
    majorTicks: {
        align: OUTSIDE,
        size: 4,
        skip: 0,
        step: 1
    },
    minorTicks: {
        align: OUTSIDE,
        size: 3,
        skip: 0,
        step: 1
    },
    axisCrossingValue: 0,
    majorTickType: OUTSIDE,
    minorTickType: NONE,
    majorGridLines: {
        skip: 0,
        step: 1
    },
    minorGridLines: {
        visible: false,
        width: 1,
        color: BLACK,
        skip: 0,
        step: 1
    },
    // TODO: Move to line or labels options
    margin: 5,
    visible: true,
    reverse: false,
    justified: true,
    notes: {
        label: {
            text: ""
        }
    },

    _alignLines: true,
    _deferLabels: false
});

var MILLISECONDS = "milliseconds";
var SECONDS = "seconds";
var MINUTES = "minutes";
var HOURS = "hours";
var DAYS = "days";
var WEEKS = "weeks";
var MONTHS = "months";
var YEARS = "years";

var TIME_PER_MILLISECOND = 1;
var TIME_PER_SECOND = 1000;
var TIME_PER_MINUTE = 60 * TIME_PER_SECOND;
var TIME_PER_HOUR = 60 * TIME_PER_MINUTE;
var TIME_PER_DAY = 24 * TIME_PER_HOUR;
var TIME_PER_WEEK = 7 * TIME_PER_DAY;
var TIME_PER_MONTH = 31 * TIME_PER_DAY;
var TIME_PER_YEAR = 365 * TIME_PER_DAY;
var TIME_PER_UNIT = {
    "years": TIME_PER_YEAR,
    "months": TIME_PER_MONTH,
    "weeks": TIME_PER_WEEK,
    "days": TIME_PER_DAY,
    "hours": TIME_PER_HOUR,
    "minutes": TIME_PER_MINUTE,
    "seconds": TIME_PER_SECOND,
    "milliseconds": TIME_PER_MILLISECOND
};

function absoluteDateDiff(a, b) {
    var diff = a.getTime() - b;
    var offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();

    return diff - (offsetDiff * TIME_PER_MINUTE);
}

function addTicks(date, ticks) {
    return new Date(date.getTime() + ticks);
}

function toDate(value) {
    var result;

    if (value instanceof Date) {
        result = value;
    } else if (value) {
        result = new Date(value);
    }

    return result;
}

function startOfWeek(date, weekStartDay) {
    if ( weekStartDay === void 0 ) weekStartDay = 0;

    var daysToSubtract = 0;
    var day = date.getDay();

    if (!isNaN(day)) {
        while (day !== weekStartDay) {
            if (day === 0) {
                day = 6;
            } else {
                day--;
            }

            daysToSubtract++;
        }
    }

    return addTicks(date, -daysToSubtract * TIME_PER_DAY);
}

function adjustDST(date, hours) {
    if (hours === 0 && date.getHours() === 23) {
        date.setHours(date.getHours() + 2);
        return true;
    }

    return false;
}

function addHours(date, hours) {
    var roundedDate = new Date(date);

    roundedDate.setMinutes(0, 0, 0);

    var tzDiff = (date.getTimezoneOffset() - roundedDate.getTimezoneOffset()) * TIME_PER_MINUTE;

    return addTicks(roundedDate, tzDiff + hours * TIME_PER_HOUR);
}

function addDuration(dateValue, value, unit, weekStartDay) {
    var result = dateValue;

    if (dateValue) {
        var date = toDate(dateValue);
        var hours = date.getHours();

        if (unit === YEARS) {
            result = new Date(date.getFullYear() + value, 0, 1);
            adjustDST(result, 0);
        } else if (unit === MONTHS) {
            result = new Date(date.getFullYear(), date.getMonth() + value, 1);
            adjustDST(result, hours);
        } else if (unit === WEEKS) {
            result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);
            adjustDST(result, hours);
        } else if (unit === DAYS) {
            result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);
            adjustDST(result, hours);
        } else if (unit === HOURS) {
            result = addHours(date, value);
        } else if (unit === MINUTES) {
            result = addTicks(date, value * TIME_PER_MINUTE);

            if (result.getSeconds() > 0) {
                result.setSeconds(0);
            }
        } else if (unit === SECONDS) {
            result = addTicks(date, value * TIME_PER_SECOND);
        } else if (unit === MILLISECONDS) {
            result = addTicks(date, value);
        }

        if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {
            result.setMilliseconds(0);
        }
    }

    return result;
}

function floorDate(date, unit, weekStartDay) {
    return addDuration(toDate(date), 0, unit, weekStartDay);
}

function ceilDate(dateValue, unit, weekStartDay) {
    var date = toDate(dateValue);

    if (date && floorDate(date, unit, weekStartDay).getTime() === date.getTime()) {
        return date;
    }

    return addDuration(date, 1, unit, weekStartDay);
}

function dateComparer(a, b) {
    if (a && b) {
        return a.getTime() - b.getTime();
    }

    return -1;
}

function dateDiff(a, b) {
    return a.getTime() - b;
}

function toTime(value) {
    if (isArray(value)) {
        var result = [];
        for (var idx = 0; idx < value.length; idx++) {
            result.push(toTime(value[idx]));
        }

        return result;
    } else if (value) {
        return toDate(value).getTime();
    }
}

function dateEquals(a, b) {
    if (a && b) {
        return toTime(a) === toTime(b);
    }

    return a === b;
}

function timeIndex(date, start, baseUnit) {
    return absoluteDateDiff(date, start) / TIME_PER_UNIT[baseUnit];
}

function dateIndex(value, start, baseUnit, baseUnitStep) {
    var date = toDate(value);
    var startDate = toDate(start);
    var index;

    if (baseUnit === MONTHS) {
        index = (date.getMonth() - startDate.getMonth() + (date.getFullYear() - startDate.getFullYear()) * 12) +
            timeIndex(date, new Date(date.getFullYear(), date.getMonth()), DAYS) / new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
    } else if (baseUnit === YEARS) {
        index = date.getFullYear() - startDate.getFullYear() + dateIndex(date, new Date(date.getFullYear(), 0), MONTHS, 1) / 12;
    } else if (baseUnit === DAYS || baseUnit === WEEKS) {
        index = timeIndex(date, startDate, baseUnit);
    } else {
        index = dateDiff(date, start) / TIME_PER_UNIT[baseUnit];
    }

    return index / baseUnitStep;
}

function duration(a, b, unit) {
    var diff;

    if (unit === YEARS) {
        diff = b.getFullYear() - a.getFullYear();
    } else if (unit === MONTHS) {
        diff = duration(a, b, YEARS) * 12 + b.getMonth() - a.getMonth();
    } else if (unit === DAYS) {
        diff = Math.floor(dateDiff(b, a) / TIME_PER_DAY);
    } else {
        diff = Math.floor(dateDiff(b, a) / TIME_PER_UNIT[unit]);
    }

    return diff;
}

function parseDate(intlService, date) {
    var result;
    if (isString(date)) {
        result = intlService.parseDate(date) || toDate(date);
    } else {
        result = toDate(date);
    }
    return result;
}

function parseDates(intlService, dates) {
    if (isArray(dates)) {
        var result = [];
        for (var idx = 0; idx < dates.length; idx++) {
            result.push(parseDate(intlService, dates[idx]));
        }

        return result;
    }

    return parseDate(intlService, dates);
}

function firstDay(options, intlService) {
    if (isNumber(options.weekStartDay)) {
        return options.weekStartDay;
    }

    if (intlService && intlService.firstDay) {
        return intlService.firstDay();
    }

    return 0;
}

var MIN_CATEGORY_POINTS_RANGE = 0.01;
var MIN_CATEGORY_RANGE = 0.1;

function indexOf(value, arr) {
    if (value instanceof Date) {
        var length = arr.length;
        for (var idx = 0; idx < length; idx++) {
            if (dateEquals(arr[idx], value)) {
                return idx;
            }
        }

        return -1;
    }

    return arr.indexOf(value);
}

var CategoryAxis = (function (Axis$$1) {
    function CategoryAxis () {
        Axis$$1.apply(this, arguments);
    }

    if ( Axis$$1 ) CategoryAxis.__proto__ = Axis$$1;
    CategoryAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    CategoryAxis.prototype.constructor = CategoryAxis;

    CategoryAxis.prototype.initFields = function initFields () {
        this._ticks = {};
    };

    CategoryAxis.prototype.categoriesHash = function categoriesHash () {
        return "";
    };

    CategoryAxis.prototype.clone = function clone () {
        var copy = new CategoryAxis(Object.assign({}, this.options, {
            categories: this.options.srcCategories
        }), this.chartService);
        copy.createLabels();

        return copy;
    };

    CategoryAxis.prototype.initUserOptions = function initUserOptions (options) {
        var categories = options.categories || [];
        var definedMin = defined(options.min);
        var definedMax = defined(options.max);
        options.srcCategories = options.categories = categories;

        if ((definedMin || definedMax) && categories.length) {
            var min = definedMin ? Math.floor(options.min) : 0;
            var max;

            if (definedMax) {
                max = options.justified ? Math.floor(options.max) + 1 : Math.ceil(options.max);
            } else {
                max = categories.length;
            }

            options.categories = options.categories.slice(min, max);
        }

        return options;
    };

    CategoryAxis.prototype.rangeIndices = function rangeIndices () {
        var options = this.options;
        var length = options.categories.length || 1;
        var min = isNumber(options.min) ? options.min % 1 : 0;
        var max;

        if (isNumber(options.max) && options.max % 1 !== 0 && options.max < this.totalRange().max) {
            max = length - (1 - options.max % 1);
        } else {
            max = length - (options.justified ? 1 : 0);
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.totalRangeIndices = function totalRangeIndices (limit) {
        var options = this.options;
        var min = isNumber(options.min) ? options.min : 0;
        var max;

        if (isNumber(options.max)) {
            max = options.max;
        } else if (isNumber(options.min)) {
            max = min + options.categories.length;
        } else {
            max = this.totalRange().max || 1;
        }

        if (limit) {
            var totalRange = this.totalRange();
            min = limitValue(min, 0, totalRange.max);
            max = limitValue(max, 0, totalRange.max);
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.range = function range () {
        var options = this.options;
        var min = isNumber(options.min) ? options.min : 0;
        var max = isNumber(options.max) ? options.max : this.totalRange().max;

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.roundedRange = function roundedRange () {
        return this.range();
    };

    CategoryAxis.prototype.totalRange = function totalRange () {
        var options = this.options;
        return { min: 0, max: Math.max(this._seriesMax || 0, options.srcCategories.length) - (options.justified ? 1 : 0) };
    };

    CategoryAxis.prototype.scaleOptions = function scaleOptions () {
        var ref = this.rangeIndices();
        var min = ref.min;
        var max = ref.max;
        var lineBox = this.lineBox();
        var size = this.options.vertical ? lineBox.height() : lineBox.width();
        var scale = size / ((max - min) || 1);

        return {
            scale: scale * (this.options.reverse ? -1 : 1),
            box: lineBox,
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.arrangeLabels = function arrangeLabels () {
        Axis$$1.prototype.arrangeLabels.call(this);
        this.hideOutOfRangeLabels();
    };

    CategoryAxis.prototype.hideOutOfRangeLabels = function hideOutOfRangeLabels () {
        var ref = this;
        var box = ref.box;
        var labels = ref.labels;

        if (labels.length > 0) {
            var valueAxis = this.options.vertical ? Y : X;
            var start = box[valueAxis + 1];
            var end = box[valueAxis + 2];
            var firstLabel = labels[0];
            var lastLabel = last(labels);

            if (firstLabel.box[valueAxis + 1] > end || firstLabel.box[valueAxis + 2] < start) {
                firstLabel.options.visible = false;
            }
            if (lastLabel.box[valueAxis + 1] > end || lastLabel.box[valueAxis + 2] < start) {
                lastLabel.options.visible = false;
            }
        }
    };

    CategoryAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTicks().majorTicks;
    };

    CategoryAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTicks().minorTicks;
    };

    CategoryAxis.prototype.getLabelsTickPositions = function getLabelsTickPositions () {
        return this.getTicks().labelTicks;
    };

    CategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {
        var ref = this.rangeIndices();
        var min = ref.min;
        var max = ref.max;
        var limit = Math.ceil(max);
        var current = Math.floor(min);
        var indices = [];

        while (current <= limit) {
            indices.push(current);
            current += stepSize;
        }

        return indices;
    };

    CategoryAxis.prototype.getTickPositions = function getTickPositions (stepSize) {
        var ref = this.options;
        var vertical = ref.vertical;
        var reverse = ref.reverse;
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var min = ref$1.min;
        var pos = box[(vertical ? Y : X) + (reverse ? 2 : 1)];
        var indices = this.tickIndices(stepSize);
        var positions = [];

        for (var idx = 0; idx < indices.length; idx++) {
            positions.push(pos + round(scale * (indices[idx] - min), COORD_PRECISION));
        }

        return positions;
    };

    CategoryAxis.prototype.getTicks = function getTicks () {
        var options = this.options;
        var cache = this._ticks;
        var range = this.rangeIndices();
        var lineBox = this.lineBox();
        var hash = lineBox.getHash() + range.min + "," + range.max + options.reverse + options.justified;

        if (cache._hash !== hash) {
            var hasMinor = options.minorTicks.visible || options.minorGridLines.visible;
            cache._hash = hash;
            cache.labelTicks = this.getTickPositions(1);
            cache.majorTicks = this.filterOutOfRangePositions(cache.labelTicks, lineBox);
            cache.minorTicks = hasMinor ? this.filterOutOfRangePositions(this.getTickPositions(0.5), lineBox) : [];
        }

        return cache;
    };

    CategoryAxis.prototype.filterOutOfRangePositions = function filterOutOfRangePositions (positions, lineBox) {
        if (!positions.length) {
            return positions;
        }

        var axis = this.options.vertical ? Y : X;
        var inRange = function (position) { return lineBox[axis + 1] <= position && position <= lineBox[axis + 2]; };

        var end = positions.length - 1;
        var startIndex = 0;
        while (!inRange(positions[startIndex]) && startIndex <= end) {
            startIndex++;
        }

        var endIndex = end;

        while (!inRange(positions[endIndex]) && endIndex >= 0) {
            endIndex--;
        }

        return positions.slice(startIndex, endIndex + 1);
    };

    CategoryAxis.prototype.lineInfo = function lineInfo () {
        var ref = this.options;
        var vertical = ref.vertical;
        var reverse = ref.reverse;
        var lineBox = this.lineBox();
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var axis = vertical ? Y : X;
        var axisDir = reverse ? -1 : 1;
        var startEdge = axisDir === 1 ? 1 : 2;
        var axisOrigin = axis + startEdge.toString();
        var lineStart = lineBox[axisOrigin];

        return {
            axis: axis,
            axisOrigin: axisOrigin,
            axisDir: axisDir,
            lineBox: lineBox,
            lineSize: lineSize,
            lineStart: lineStart
        };
    };

    CategoryAxis.prototype.lineDir = function lineDir () {
        /*
         *  Category axis line direction:
         *    * Vertical: down.
         *    * Horizontal: right.
         */

        var ref = this.options;
        var reverse = ref.reverse;
        return reverse ? -1 : 1;
    };

    // TODO: Rename to slotBox, valueSlot, slotByIndex?
    CategoryAxis.prototype.getSlot = function getSlot (from, to, limit) {
        var options = this.options;
        var reverse = options.reverse;
        var justified = options.justified;
        var ref = this.scaleOptions();
        var scale = ref.scale;
        var box = ref.box;
        var min = ref.min;
        var ref$1 = this.lineInfo();
        var valueAxis = ref$1.axis;
        var lineStart = ref$1.lineStart;

        var slotBox = box.clone();
        var singleSlot = !defined(to);

        var start = valueOrDefault(from, 0);
        var end = valueOrDefault(to, start);
        end = Math.max(end - 1, start);

        // Fixes transient bug caused by iOS 6.0 JIT
        // (one can never be too sure)
        end = Math.max(start, end);

        var p1 = lineStart + (start - min) * scale;
        var p2 = lineStart + (end + 1 - min) * scale;

        if (singleSlot && justified) {
            p2 = p1;
        }

        if (limit) {
            p1 = limitValue(p1, box[valueAxis + 1], box[valueAxis + 2]);
            p2 = limitValue(p2, box[valueAxis + 1], box[valueAxis + 2]);
        }

        slotBox[valueAxis + 1] = reverse ? p2 : p1;
        slotBox[valueAxis + 2] = reverse ? p1 : p2;

        return slotBox;
    };

    CategoryAxis.prototype.limitSlot = function limitSlot (slot) {
        var vertical = this.options.vertical;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var limittedSlot = slot.clone();

        limittedSlot[valueAxis + 1] = limitValue(slot[valueAxis + 1], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);
        limittedSlot[valueAxis + 2] = limitValue(slot[valueAxis + 2], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);

        return limittedSlot;
    };

    CategoryAxis.prototype.slot = function slot (from, to, limit) {
        var min = Math.floor(this.options.min || 0);
        var start = from;
        var end = to;

        if (typeof start === "string") {
            start = this.categoryIndex(start);
        } else if (isNumber(start)) {
            start -= min;
        }

        if (typeof end === "string") {
            end = this.categoryIndex(end);
        } else if (isNumber(end)) {
            end -= min;
        }

        return Axis$$1.prototype.slot.call(this, start, end, limit);
    };

    CategoryAxis.prototype.pointCategoryIndex = function pointCategoryIndex (point) {
        var ref = this.options;
        var reverse = ref.reverse;
        var justified = ref.justified;
        var vertical = ref.vertical;
        var valueAxis = vertical ? Y : X;
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var min = ref$1.min;
        var max = ref$1.max;
        var startValue = reverse ? max : min;
        var lineStart = box[valueAxis + 1];
        var lineEnd = box[valueAxis + 2];
        var pos = point[valueAxis];

        if (pos < lineStart || pos > lineEnd) {
            return null;
        }

        var value = startValue + (pos - lineStart) / scale;
        var diff = value % 1;

        if (justified) {
            value = Math.round(value);
        } else if (diff === 0 && value > 0) {
            value--;
        }

        return Math.floor(value);
    };

    CategoryAxis.prototype.getCategory = function getCategory (point) {
        var index = this.pointCategoryIndex(point);

        if (index === null) {
            return null;
        }

        return this.options.categories[index];
    };

    CategoryAxis.prototype.categoryIndex = function categoryIndex (value) {
        return this.totalIndex(value) - Math.floor(this.options.min || 0);
    };

    CategoryAxis.prototype.categoryAt = function categoryAt (index, total) {
        var options = this.options;

        return (total ? options.srcCategories : options.categories)[index];
    };

    CategoryAxis.prototype.categoriesCount = function categoriesCount () {
        return (this.options.categories || []).length;
    };

    CategoryAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var lineBox = this.lineBox();
        var size = options.vertical ? lineBox.height() : lineBox.width();
        var range = options.categories.length;
        var scale = size / range;
        var offset = round(delta / scale, DEFAULT_PRECISION);

        return {
            min: offset,
            max: range + offset
        };
    };

    CategoryAxis.prototype.scaleRange = function scaleRange (scale, cursor) {
        var position = Math.abs(this.pointOffset(cursor));
        var rangeIndices = this.totalRangeIndices();
        var range = rangeIndices.max - rangeIndices.min;
        var delta = this.scaleToDelta(scale, range);
        var minDelta = position * delta;
        var maxDelta = (1 - position) * delta;
        var min = rangeIndices.min + minDelta;
        var max = rangeIndices.max - maxDelta;

        if (max - min < MIN_CATEGORY_RANGE) {
            max = min + MIN_CATEGORY_RANGE;
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.zoomRange = function zoomRange (scale, cursor) {
        var ref = this.totalRange();
        var totalMin = ref.min;
        var totalMax = ref.max;
        var range = this.scaleRange(scale, cursor);

        return {
            min: limitValue(range.min, totalMin, totalMax),
            max: limitValue(range.max, totalMin, totalMax)
        };
    };

    CategoryAxis.prototype.labelsCount = function labelsCount () {
        var labelsRange = this.labelsRange();

        return labelsRange.max - labelsRange.min;
    };

    CategoryAxis.prototype.labelsRange = function labelsRange () {
        var options = this.options;
        var justified = options.justified;
        var labelOptions = options.labels;
        var ref = this.totalRangeIndices(true);
        var min = ref.min;
        var max = ref.max;
        var start = Math.floor(min);

        if (!justified) {
            min = Math.floor(min);
            max = Math.ceil(max);
        } else {
            min = Math.ceil(min);
            max = Math.floor(max);
        }

        var skip;

        if (min > labelOptions.skip) {
            skip = labelOptions.skip + labelOptions.step * Math.ceil((min - labelOptions.skip) / labelOptions.step);
        } else {
            skip = labelOptions.skip;
        }

        return {
            min: skip - start,
            max: (options.categories.length ? max + (justified ? 1 : 0) : 0) - start
        };
    };

    CategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {
        var options = this.options;
        var dataItem = options.dataItems ? options.dataItems[index] : null;
        var category = valueOrDefault(options.categories[index], "");

        labelContext.dataItem = dataItem;
        var text = this.axisLabelText(category, labelOptions, labelContext);

        return new AxisLabel(category, text, index, dataItem, labelOptions);
    };

    CategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.totalRangeIndices();

        return Math.floor(range.min) <= value && value <= Math.ceil(range.max);
    };

    CategoryAxis.prototype.noteSlot = function noteSlot (value) {
        var options = this.options;
        var index = value - Math.floor(options.min || 0);
        return this.getSlot(index);
    };

    CategoryAxis.prototype.arrangeNotes = function arrangeNotes () {
        Axis$$1.prototype.arrangeNotes.call(this);
        this.hideOutOfRangeNotes();
    };

    CategoryAxis.prototype.hideOutOfRangeNotes = function hideOutOfRangeNotes () {
        var ref = this;
        var notes = ref.notes;
        var box = ref.box;
        if (notes && notes.length) {
            var valueAxis = this.options.vertical ? Y : X;
            var start = box[valueAxis + 1];
            var end = box[valueAxis + 2];

            for (var idx = 0; idx < notes.length; idx++) {
                var note = notes[idx];
                if (note.box && (end < note.box[valueAxis + 1] || note.box[valueAxis + 2] < start)) {
                    note.hide();
                }
            }
        }
    };

    CategoryAxis.prototype.pan = function pan (delta) {
        var range = this.totalRangeIndices(true);
        var ref = this.scaleOptions();
        var scale = ref.scale;
        var offset = round(delta / scale, DEFAULT_PRECISION);
        var totalRange = this.totalRange();
        var min = range.min + offset;
        var max = range.max + offset;

        return this.limitRange(min, max, 0, totalRange.max, offset);
    };

    CategoryAxis.prototype.pointsRange = function pointsRange (start, end) {
        var ref = this.options;
        var reverse = ref.reverse;
        var vertical = ref.vertical;
        var valueAxis = vertical ? Y : X;
        var range = this.totalRangeIndices(true);
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var lineStart = box[valueAxis + (reverse ? 2 : 1)];

        var diffStart = start[valueAxis] - lineStart;
        var diffEnd = end[valueAxis] - lineStart;

        var min = range.min + diffStart / scale;
        var max = range.min + diffEnd / scale;
        var rangeMin = Math.min(min, max);
        var rangeMax = Math.max(min, max);

        if (rangeMax - rangeMin >= MIN_CATEGORY_POINTS_RANGE) {
            return {
                min: rangeMin,
                max: rangeMax
            };
        }
    };

    CategoryAxis.prototype.valueRange = function valueRange () {
        return this.range();
    };

    CategoryAxis.prototype.totalIndex = function totalIndex (value) {
        var options = this.options;
        var index = this._categoriesMap ?
            this._categoriesMap.get(value) : indexOf(value, options.srcCategories);

        return index;
    };

    CategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {
        var options = this.options;
        var min = 0;

        if (isNumber(options.min)) {
            min = Math.floor(options.min);
        }

        var max;
        if (isNumber(options.max)) {
            max = options.justified ? Math.floor(options.max) : Math.ceil(options.max) - 1;
        } else {
            max = this.totalCount() - 1;
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.mapCategories = function mapCategories () {
        if (!this._categoriesMap) {
            var map$$1 = this._categoriesMap = new HashMap();
            var srcCategories = this.options.srcCategories;
            for (var idx = 0; idx < srcCategories.length; idx++) {
                map$$1.set(srcCategories[idx], idx);
            }
        }
    };

    CategoryAxis.prototype.totalCount = function totalCount () {
        return Math.max(this.options.srcCategories.length, this._seriesMax || 0);
    };

    return CategoryAxis;
}(Axis));

setDefaultOptions(CategoryAxis, {
    type: "category",
    vertical: false,
    majorGridLines: {
        visible: false,
        width: 1,
        color: BLACK
    },
    labels: {
        zIndex: 1
    },
    justified: false,
    _deferLabels: true
});

var COORDINATE_LIMIT = 300000;

var DateLabelFormats = {
    milliseconds: "HH:mm:ss.fff",
    seconds: "HH:mm:ss",
    minutes: "HH:mm",
    hours: "HH:mm",
    days: "M/d",
    weeks: "M/d",
    months: "MMM 'yy",
    years: "yyyy"
};

var ZERO_THRESHOLD = 0.2;

var AUTO = "auto";
var BASE_UNITS = [
    MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS
];
var FIT = "fit";


function categoryRange(categories) {
    var range = categories._range;
    if (!range) {
        range = categories._range = sparseArrayLimits(categories);
        range.min = toDate(range.min);
        range.max = toDate(range.max);
    }

    return range;
}

var EmptyDateRange = function EmptyDateRange(options) {
    this.options = options;
};

EmptyDateRange.prototype.displayIndices = function displayIndices () {
    return {
        min: 0,
        max: 1
    };
};

EmptyDateRange.prototype.displayRange = function displayRange () {
    return {};
};

EmptyDateRange.prototype.total = function total () {
    return {};
};

EmptyDateRange.prototype.valueRange = function valueRange () {
    return {};
};

EmptyDateRange.prototype.valueIndex = function valueIndex () {
    return -1;
};

EmptyDateRange.prototype.values = function values () {
    return [];
};

EmptyDateRange.prototype.totalIndex = function totalIndex () {
    return -1;
};

EmptyDateRange.prototype.valuesCount = function valuesCount () {
    return 0;
};

EmptyDateRange.prototype.totalCount = function totalCount () {
    return 0;
};

EmptyDateRange.prototype.dateAt = function dateAt () {
    return null;
};

var DateRange = function DateRange(start, end, options) {
    this.options = options;
    options.baseUnitStep = options.baseUnitStep || 1;

    var roundToBaseUnit = options.roundToBaseUnit;
    var justified = options.justified;

    this.start = addDuration(start, 0, options.baseUnit, options.weekStartDay);
    var lowerEnd = this.roundToTotalStep(end);
    var expandEnd = !justified && dateEquals(end, lowerEnd) && !options.justifyEnd;

    this.end = this.roundToTotalStep(end, !justified, expandEnd ? 1 : 0);

    var min = options.min || start;
    this.valueStart = this.roundToTotalStep(min);
    this.displayStart = roundToBaseUnit ? this.valueStart : min;

    var max = options.max;
    if (!max) {
        this.valueEnd = lowerEnd;
        this.displayEnd = roundToBaseUnit || expandEnd ? this.end : end;
    } else {
        var next = !justified && dateEquals(max, this.roundToTotalStep(max)) ? -1 : 0;
        this.valueEnd = this.roundToTotalStep(max, false, next);
        this.displayEnd = roundToBaseUnit ? this.roundToTotalStep(max, !justified) : options.max;
    }

    if (this.valueEnd < this.valueStart) {
        this.valueEnd = this.valueStart;
    }
    if (this.displayEnd <= this.displayStart) {
        this.displayEnd = this.roundToTotalStep(this.displayStart, false, 1);
    }
};

DateRange.prototype.displayRange = function displayRange () {
    return {
        min: this.displayStart,
        max: this.displayEnd
    };
};

DateRange.prototype.displayIndices = function displayIndices () {
    if (!this._indices) {
        var options = this.options;

        var baseUnit = options.baseUnit;
            var baseUnitStep = options.baseUnitStep;

        var minIdx = dateIndex(this.displayStart, this.valueStart, baseUnit, baseUnitStep);
        var maxIdx = dateIndex(this.displayEnd, this.valueStart, baseUnit, baseUnitStep);

        this._indices = { min: minIdx, max: maxIdx };
    }

    return this._indices;
};

DateRange.prototype.total = function total () {
    return {
        min: this.start,
        max: this.end
    };
};

DateRange.prototype.totalCount = function totalCount () {
    var last$$1 = this.totalIndex(this.end);

    return last$$1 + (this.options.justified ? 1 : 0);
};

DateRange.prototype.valueRange = function valueRange () {
    return {
        min: this.valueStart,
        max: this.valueEnd
    };
};

DateRange.prototype.valueIndex = function valueIndex (value) {
    var options = this.options;
    return Math.floor(dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep));
};

DateRange.prototype.totalIndex = function totalIndex (value) {
    var options = this.options;
    return Math.floor(dateIndex(value, this.start, options.baseUnit, options.baseUnitStep));
};

DateRange.prototype.dateIndex = function dateIndex$1 (value) {
    var options = this.options;
    return dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep);
};

DateRange.prototype.valuesCount = function valuesCount () {
    var maxIdx = this.valueIndex(this.valueEnd);

    return maxIdx + 1;
};

DateRange.prototype.values = function values () {
    var values = this._values;
    if (!values) {
        var options = this.options;
        var range = this.valueRange();
        this._values = values = [];

        for (var date = range.min; date <= range.max;) {
            values.push(date);
            date = addDuration(date, options.baseUnitStep, options.baseUnit, options.weekStartDay);
        }
    }

    return values;
};

DateRange.prototype.dateAt = function dateAt (index, total) {
    var options = this.options;

    return addDuration(total ? this.start : this.valueStart, options.baseUnitStep * index, options.baseUnit, options.weekStartDay);
};

DateRange.prototype.roundToTotalStep = function roundToTotalStep (value, upper, next) {
    var ref = this.options;
        var baseUnit = ref.baseUnit;
        var baseUnitStep = ref.baseUnitStep;
        var weekStartDay = ref.weekStartDay;
    var start = this.start;

    var step = dateIndex(value, start, baseUnit, baseUnitStep);
    var roundedStep = upper ? Math.ceil(step) : Math.floor(step);

    if (next) {
        roundedStep += next;
    }

    return addDuration(start, roundedStep * baseUnitStep, baseUnit, weekStartDay);
};

function autoBaseUnit(options, startUnit, startStep) {
    var categoryLimits = categoryRange(options.categories);
    var span = (options.max || categoryLimits.max) - (options.min || categoryLimits.min);
    var autoBaseUnitSteps = options.autoBaseUnitSteps;
    var maxDateGroups = options.maxDateGroups;
    var autoUnit = options.baseUnit === FIT;
    var autoUnitIx = startUnit ? BASE_UNITS.indexOf(startUnit) : 0;
    var baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit;
    var units = span / TIME_PER_UNIT[baseUnit];
    var totalUnits = units;
    var unitSteps, step, nextStep;

    while (!step || units >= maxDateGroups) {
        unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);

        do {
            nextStep = unitSteps.shift();
        } while (nextStep && startUnit === baseUnit && nextStep < startStep);

        if (nextStep) {
            step = nextStep;
            units = totalUnits / step;
        } else if (baseUnit === last(BASE_UNITS)) {
            step = Math.ceil(totalUnits / maxDateGroups);
            break;
        } else if (autoUnit) {
            baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);
            totalUnits = span / TIME_PER_UNIT[baseUnit];
            unitSteps = null;
        } else {
            if (units > maxDateGroups) {
                step = Math.ceil(totalUnits / maxDateGroups);
            }
            break;
        }
    }

    options.baseUnitStep = step;
    options.baseUnit = baseUnit;
}

function defaultBaseUnit(options) {
    var categories = options.categories;
    var count = defined(categories) ? categories.length : 0;
    var minDiff = MAX_VALUE;
    var lastCategory, unit;

    for (var categoryIx = 0; categoryIx < count; categoryIx++) {
        var category = categories[categoryIx];

        if (category && lastCategory) {
            var diff = absoluteDateDiff(category, lastCategory);
            if (diff > 0) {
                minDiff = Math.min(minDiff, diff);

                if (minDiff >= TIME_PER_YEAR) {
                    unit = YEARS;
                } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {
                    unit = MONTHS;
                } else if (minDiff >= TIME_PER_WEEK) {
                    unit = WEEKS;
                } else if (minDiff >= TIME_PER_DAY) {
                    unit = DAYS;
                } else if (minDiff >= TIME_PER_HOUR) {
                    unit = HOURS;
                } else if (minDiff >= TIME_PER_MINUTE) {
                    unit = MINUTES;
                } else {
                    unit = SECONDS;
                }
            }
        }

        lastCategory = category;
    }

    options.baseUnit = unit || DAYS;
}

function initUnit(options) {
    var baseUnit = (options.baseUnit || "").toLowerCase();
    var useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);

    if (useDefault) {
        defaultBaseUnit(options);
    }

    if (baseUnit === FIT || options.baseUnitStep === AUTO) {
        autoBaseUnit(options);
    }

    return options;
}

var DateCategoryAxis = (function (CategoryAxis$$1) {
    function DateCategoryAxis () {
        CategoryAxis$$1.apply(this, arguments);
    }

    if ( CategoryAxis$$1 ) DateCategoryAxis.__proto__ = CategoryAxis$$1;
    DateCategoryAxis.prototype = Object.create( CategoryAxis$$1 && CategoryAxis$$1.prototype );
    DateCategoryAxis.prototype.constructor = DateCategoryAxis;

    DateCategoryAxis.prototype.clone = function clone () {
        var copy = new DateCategoryAxis(Object.assign({}, this.options), this.chartService);
        copy.createLabels();

        return copy;
    };

    DateCategoryAxis.prototype.categoriesHash = function categoriesHash () {
        var start = this.dataRange.total().min;
        return this.options.baseUnit + this.options.baseUnitStep + start;
    };

    DateCategoryAxis.prototype.initUserOptions = function initUserOptions (options) {
        return options;
    };

    DateCategoryAxis.prototype.initFields = function initFields () {
        CategoryAxis$$1.prototype.initFields.call(this);

        var chartService = this.chartService;
        var intlService = chartService.intl;
        var options = this.options;

        var categories = options.categories || [];
        if (!categories._parsed) {
            categories = parseDates(intlService, categories);
            categories._parsed = true;
        }

        options = deepExtend({
            roundToBaseUnit: true
        }, options, {
            categories: categories,
            min: parseDate(intlService, options.min),
            max: parseDate(intlService, options.max),
            weekStartDay: firstDay(options, intlService)
        });

        if (chartService.panning && chartService.isPannable(options.vertical ? Y : X)) {
            options.roundToBaseUnit = false;
        }

        options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;
        options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;

        this.options = options;
        options.srcCategories = categories;

        if (categories.length > 0) {
            var range = categoryRange(categories);
            var maxDivisions = options.maxDivisions;

            this.dataRange = new DateRange(range.min, range.max, initUnit(options));

            if (maxDivisions) {
                var dataRange = this.dataRange.displayRange();

                var divisionOptions = Object.assign({}, options, {
                    justified: true,
                    roundToBaseUnit: false,
                    baseUnit: 'fit',
                    min: dataRange.min,
                    max: dataRange.max,
                    maxDateGroups: maxDivisions
                });

                var dataRangeOptions = this.dataRange.options;

                autoBaseUnit(divisionOptions, dataRangeOptions.baseUnit, dataRangeOptions.baseUnitStep);

                this.divisionRange = new DateRange(range.min, range.max, divisionOptions);
            } else {
                this.divisionRange = this.dataRange;
            }

        } else {
            options.baseUnit = options.baseUnit || DAYS;
            this.dataRange = this.divisionRange = new EmptyDateRange(options);
        }

        this.rangeLabels = [];
    };

    DateCategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {
        var ref = this;
        var dataRange = ref.dataRange;
        var divisionRange = ref.divisionRange;
        var valuesCount = divisionRange.valuesCount();

        if (!this.options.maxDivisions || !valuesCount) {
            return CategoryAxis$$1.prototype.tickIndices.call(this, stepSize);
        }

        var indices = [];
        var values = divisionRange.values();
        var offset = 0;

        if (!this.options.justified) {
            values = values.concat(divisionRange.dateAt(valuesCount));
            offset = 0.5;//align ticks to the center of not justified categories
        }

        for (var idx = 0; idx < values.length; idx++) {
            indices.push(dataRange.dateIndex(values[idx]) + offset);
            if (stepSize !== 1 && idx >= 1) {
                var last$$1 = indices.length - 1;
                indices.splice(idx, 0, indices[last$$1 - 1] + (indices[last$$1] - indices[last$$1 - 1]) * stepSize);
            }
        }

        return indices;
    };

    DateCategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        var categories = this.options.categories || [];

        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;
    };

    DateCategoryAxis.prototype.parseNoteValue = function parseNoteValue (value) {
        return parseDate(this.chartService.intl, value);
    };

    DateCategoryAxis.prototype.noteSlot = function noteSlot (value) {
        return this.getSlot(value);
    };

    DateCategoryAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var baseUnit = options.baseUnit;
        var weekStartDay = options.weekStartDay;
        var vertical = options.vertical;
        var lineBox = this.lineBox();
        var size = vertical ? lineBox.height() : lineBox.width();
        var range = this.range();
        var scale = size / (range.max - range.min);
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if (range.min && range.max) {
            var from = addTicks(options.min || range.min, offset);
            var to = addTicks(options.max || range.max, offset);

            range = {
                min: addDuration(from, 0, baseUnit, weekStartDay),
                max: addDuration(to, 0, baseUnit, weekStartDay)
            };
        }

        return range;
    };

    DateCategoryAxis.prototype.labelsRange = function labelsRange () {
        return {
            min: this.options.labels.skip,
            max: this.divisionRange.valuesCount()
        };
    };

    DateCategoryAxis.prototype.pan = function pan (delta) {
        if (this.isEmpty()) {
            return null;
        }

        var options = this.options;
        var lineBox = this.lineBox();
        var size = options.vertical ? lineBox.height() : lineBox.width();
        var ref = this.dataRange.displayRange();
        var min = ref.min;
        var max = ref.max;
        var totalLimits = this.dataRange.total();
        var scale = size / (max - min);
        var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);
        var from = addTicks(min, offset);
        var to = addTicks(max, offset);

        var panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);

        if (panRange) {
            panRange.min = toDate(panRange.min);
            panRange.max = toDate(panRange.max);
            panRange.baseUnit = options.baseUnit;
            panRange.baseUnitStep = options.baseUnitStep || 1;
            panRange.userSetBaseUnit = options.userSetBaseUnit;
            panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;

            return panRange;
        }
    };

    DateCategoryAxis.prototype.pointsRange = function pointsRange (start, end) {
        if (this.isEmpty()) {
            return null;
        }

        var pointsRange = CategoryAxis$$1.prototype.pointsRange.call(this, start, end);
        var datesRange = this.dataRange.displayRange();
        var indicesRange = this.dataRange.displayIndices();
        var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);
        var options = this.options;

        var min = addTicks(datesRange.min, pointsRange.min * scale);
        var max = addTicks(datesRange.min, pointsRange.max * scale);

        return {
            min: min,
            max: max,
            baseUnit: options.userSetBaseUnit || options.baseUnit,
            baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep
        };
    };

    DateCategoryAxis.prototype.scaleRange = function scaleRange (scale, cursor) {
        if (this.isEmpty()) {
            return {};
        }

        var options = this.options;
        var fit = options.userSetBaseUnit === FIT;
        var totalLimits = this.dataRange.total();
        var ref = this.dataRange.displayRange();
        var rangeMin = ref.min;
        var rangeMax = ref.max;

        var position = Math.abs(this.pointOffset(cursor));
        var range = rangeMax - rangeMin;
        var delta = this.scaleToDelta(scale, range);
        var minDelta = Math.round(position * delta);
        var maxDelta = Math.round((1 - position) * delta);

        var ref$1 = this.dataRange.options;
        var baseUnit = ref$1.baseUnit;
        var min = new Date(rangeMin.getTime() + minDelta);
        var max = new Date(rangeMax.getTime() - maxDelta);

        if (fit) {
            var autoBaseUnitSteps = options.autoBaseUnitSteps;
            var maxDateGroups = options.maxDateGroups;

            var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];
            var rangeDiff = dateDiff(rangeMax, rangeMin);
            var diff = dateDiff(max, min);
            var baseUnitIndex = BASE_UNITS.indexOf(baseUnit);
            var autoBaseUnitStep, ticks;

            if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {
                baseUnit = BASE_UNITS[baseUnitIndex - 1];
                autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);
                ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;
                min = addTicks(rangeMin, ticks);
                max = addTicks(rangeMax, -ticks);

            } else if (diff > maxDiff && baseUnit !== YEARS) {
                var stepIndex = 0;

                do {
                    baseUnitIndex++;
                    baseUnit = BASE_UNITS[baseUnitIndex];
                    stepIndex = 0;
                    ticks = 2 * TIME_PER_UNIT[baseUnit];
                    do {
                        autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];
                        stepIndex++;
                    } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);
                } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);

                ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;
                if (ticks > 0) {
                    min = addTicks(rangeMin, -ticks);
                    max = addTicks(rangeMax, ticks);
                    min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);
                    max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);
                }
            }
        }

        if (min && max && dateDiff(max, min) > 0) {
            return {
                min: min,
                max: max,
                baseUnit: options.userSetBaseUnit || options.baseUnit,
                baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep
            };
        }
    };

    DateCategoryAxis.prototype.zoomRange = function zoomRange (scale, cursor) {
        var totalLimits = this.dataRange.total();
        var range = this.scaleRange(scale, cursor);

        if (range) {
            if (range.min < totalLimits.min) {
                range.min = totalLimits.min;
            }
            if (range.max > totalLimits.max) {
                range.max = totalLimits.max;
            }
        }

        return range;
    };

    DateCategoryAxis.prototype.range = function range () {
        return this.dataRange.displayRange();
    };

    DateCategoryAxis.prototype.createLabels = function createLabels () {
        CategoryAxis$$1.prototype.createLabels.call(this);
        this.createRangeLabels();
    };

    DateCategoryAxis.prototype.clearLabels = function clearLabels () {
        CategoryAxis$$1.prototype.clearLabels.call(this);
        this.rangeLabels = [];
    };

    DateCategoryAxis.prototype.arrangeLabels = function arrangeLabels () {
        this.arrangeRangeLabels();
        CategoryAxis$$1.prototype.arrangeLabels.call(this);
    };

    DateCategoryAxis.prototype.arrangeRangeLabels = function arrangeRangeLabels () {
        var ref = this;
        var options = ref.options;
        var rangeLabels = ref.rangeLabels;
        if (rangeLabels.length === 0) {
            return;
        }

        var lineBox = this.lineBox();
        var vertical = options.vertical;
        var mirror = options.rangeLabels.mirror || options.labels.mirror;

        var firstLabel = rangeLabels[0];
        if (firstLabel) {
            var position = vertical ? lineBox.y1 - (firstLabel.box.height() / 2) : lineBox.x1;
            this.positionLabel(firstLabel, mirror, position);
        }

        var lastLabel = rangeLabels[1];
        if (lastLabel) {
            var position$1 = vertical ? lineBox.y2 - (lastLabel.box.height() / 2) : lineBox.x2;
            this.positionLabel(lastLabel, mirror, position$1);
        }
    };

    DateCategoryAxis.prototype.autoRotateLabels = function autoRotateLabels () {
        CategoryAxis$$1.prototype.autoRotateLabels.call(this);
        this.autoRotateRangeLabels();
    };

    DateCategoryAxis.prototype.hideOutOfRangeLabels = function hideOutOfRangeLabels () {
        CategoryAxis$$1.prototype.hideOutOfRangeLabels.call(this);
        this.hideOverlappingLabels();
    };

    DateCategoryAxis.prototype.hideOverlappingLabels = function hideOverlappingLabels () {
        var ref = this;
        var rangeLabels = ref.rangeLabels;
        var labels = ref.labels;
        if (rangeLabels.length === 0) {
            return;
        }

        function clip(rangeLabel, label) {
            if (!label.options.visible || label.box.overlaps(rangeLabel.box)) {
                label.options.visible = false;
                return true;
            }

            return false;
        }

        var firstRangeLabel = rangeLabels[0];
        if (firstRangeLabel && firstRangeLabel.options.visible) {
            for (var i = 0; i < labels.length; i++) {
                var overlaps = clip(firstRangeLabel, labels[i]);
                if (!overlaps) {
                    break;
                }
            }
        }

        var lastRangeLabel = rangeLabels[1];
        if (lastRangeLabel && lastRangeLabel.options.visible) {
            for (var i$1 = labels.length - 1; i$1 > 0; --i$1) {
                var overlaps$1 = clip(lastRangeLabel, labels[i$1]);
                if (!overlaps$1) {
                    break;
                }
            }
        }
    };

    DateCategoryAxis.prototype.contentBox = function contentBox () {
        var box = CategoryAxis$$1.prototype.contentBox.call(this);
        var rangeLabels = this.rangeLabels;

        for (var i = 0; i < rangeLabels.length; i++) {
            var label = rangeLabels[i];
            if (label.options.visible) {
                box.wrap(label.box);
            }
        }

        return box;
    };

    DateCategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {
        if ( labelContext === void 0 ) labelContext = {};

        var options = this.options;
        var dataItem = options.dataItems && !options.maxDivisions ? options.dataItems[index] : null;
        var date = this.divisionRange.dateAt(index);
        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];

        labelOptions.format = labelOptions.format || unitFormat;
        labelContext.dataItem = dataItem;

        var text = this.axisLabelText(date, labelOptions, labelContext);
        if (text) {
            return new AxisLabel(date, text, index, dataItem, labelOptions);
        }
    };

    DateCategoryAxis.prototype.createRangeLabels = function createRangeLabels () {
        var this$1 = this;

        var ref = this.divisionRange;
        var displayStart = ref.displayStart;
        var displayEnd = ref.displayEnd;
        var options = this.options;
        var labelOptions = Object.assign({}, options.labels, options.rangeLabels, {
            align: CENTER,
            zIndex: options.zIndex
        });

        if (labelOptions.visible !== true) {
            return;
        }

        this.normalizeLabelRotation(labelOptions);
        labelOptions.alignRotation = CENTER;

        if (labelOptions.rotation === "auto") {
            labelOptions.rotation = 0;
            options.autoRotateRangeLabels = true;
        }

        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];
        labelOptions.format = labelOptions.format || unitFormat;

        var createLabel = function (index, date, text) {
            if (text) {
                var label = new AxisLabel(date, text, index, null, labelOptions);
                this$1.append(label);
                this$1.rangeLabels.push(label);
            }
        };

        var startText = this.axisLabelText(displayStart, labelOptions, { index: 0, count: 2 });
        createLabel(0, displayStart, startText);

        var endText = this.axisLabelText(displayEnd, labelOptions, { index: 1, count: 2 });
        createLabel(1, displayEnd, endText);
    };

    DateCategoryAxis.prototype.autoRotateRangeLabels = function autoRotateRangeLabels () {
        var this$1 = this;

        var labels = this.rangeLabels;
        if (!this.options.autoRotateRangeLabels || this.options.vertical || labels.length !== 2) {
            return;
        }

        var rotateLabel = function (label, tickPositions, index) {
            var width = Math.abs(tickPositions[index + 1] - tickPositions[index]) * 2;
            var angle = this$1.autoRotateLabelAngle(label.box, width);
            if (angle !== 0) {
                label.options.rotation = angle;
                label.reflow(new Box());
            }
        };

        var tickPositions = this.getMajorTickPositions();
        rotateLabel(labels[0], tickPositions, 0);
        rotateLabel(labels[1], tickPositions, tickPositions.length - 2);
    };

    DateCategoryAxis.prototype.categoryIndex = function categoryIndex (value) {
        return this.dataRange.valueIndex(value);
    };

    DateCategoryAxis.prototype.slot = function slot (from, to, limit) {
        var dateRange = this.dataRange;
        var start = from;
        var end = to;

        if (start instanceof Date) {
            start = dateRange.dateIndex(start);
        }

        if (end instanceof Date) {
            end = dateRange.dateIndex(end);
        }

        var slot = this.getSlot(start, end, limit);
        if (slot) {
            return slot.toRect();
        }
    };

    DateCategoryAxis.prototype.getSlot = function getSlot (a, b, limit) {
        var start = a;
        var end = b;

        if (typeof start === OBJECT) {
            start = this.categoryIndex(start);
        }

        if (typeof end === OBJECT) {
            end = this.categoryIndex(end);
        }

        return CategoryAxis$$1.prototype.getSlot.call(this, start, end, limit);
    };

    DateCategoryAxis.prototype.valueRange = function valueRange () {
        var options = this.options;
        var range = categoryRange(options.srcCategories);

        return {
            min: toDate(range.min),
            max: toDate(range.max)
        };
    };

    DateCategoryAxis.prototype.categoryAt = function categoryAt (index, total) {
        return this.dataRange.dateAt(index, total);
    };

    DateCategoryAxis.prototype.categoriesCount = function categoriesCount () {
        return this.dataRange.valuesCount();
    };

    DateCategoryAxis.prototype.rangeIndices = function rangeIndices () {
        return this.dataRange.displayIndices();
    };

    DateCategoryAxis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {
        return !this.divisionRange.options.justified;
    };

    DateCategoryAxis.prototype.prepareUserOptions = function prepareUserOptions () {
        if (this.isEmpty()) {
            return;
        }

        this.options.categories = this.dataRange.values();
    };

    DateCategoryAxis.prototype.getCategory = function getCategory (point) {
        var index = this.pointCategoryIndex(point);

        if (index === null) {
            return null;
        }

        return this.dataRange.dateAt(index);
    };

    DateCategoryAxis.prototype.totalIndex = function totalIndex (value) {
        return this.dataRange.totalIndex(value);
    };

    DateCategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {
        var range = this.dataRange.valueRange();
        return {
            min: this.dataRange.totalIndex(range.min),
            max: this.dataRange.totalIndex(range.max)
        };
    };

    DateCategoryAxis.prototype.totalRange = function totalRange () {
        return this.dataRange.total();
    };

    DateCategoryAxis.prototype.totalCount = function totalCount () {
        return this.dataRange.totalCount();
    };

    DateCategoryAxis.prototype.isEmpty = function isEmpty () {
        return !this.options.srcCategories.length;
    };

    DateCategoryAxis.prototype.roundedRange = function roundedRange () {
        if (this.options.roundToBaseUnit !== false || this.isEmpty()) {
            return this.range();
        }

        var options = this.options;
        var datesRange = categoryRange(options.srcCategories);

        var dateRange = new DateRange(datesRange.min, datesRange.max, Object.assign({}, options, {
            justified: false,
            roundToBaseUnit: true,
            justifyEnd: options.justified
        }));

        return dateRange.displayRange();
    };

    return DateCategoryAxis;
}(CategoryAxis));

setDefaultOptions(DateCategoryAxis, {
    type: DATE,
    labels: {
        dateFormats: DateLabelFormats
    },
    rangeLabels: {
        visible: false
    },
    autoBaseUnitSteps: {
        milliseconds: [ 1, 10, 100 ],
        seconds: [ 1, 2, 5, 15, 30 ],
        minutes: [ 1, 2, 5, 15, 30 ],
        hours: [ 1, 2, 3 ],
        days: [ 1, 2, 3 ],
        weeks: [ 1, 2 ],
        months: [ 1, 2, 3, 6 ],
        years: [ 1, 2, 3, 5, 10, 25, 50 ]
    },
    maxDateGroups: 10
});

function autoAxisMin(min, max, narrow) {
    if (!min && !max) {
        return 0;
    }

    var axisMin;

    if (min >= 0 && max >= 0) {
        var minValue = min === max ? 0 : min;

        var diff = (max - minValue) / max;
        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {
            return 0;
        }

        axisMin = Math.max(0, minValue - ((max - minValue) / 2));
    } else {
        axisMin = min;
    }

    return axisMin;
}

function autoAxisMax(min, max, narrow) {
    if (!min && !max) {
        return 1;
    }

    var axisMax;

    if (min <= 0 && max <= 0) {
        var maxValue = min === max ? 0 : max;

        var diff = Math.abs((maxValue - min) / maxValue);
        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {
            return 0;
        }

        axisMax = Math.min(0, maxValue - ((min - maxValue) / 2));
    } else {
        axisMax = max;
    }

    return axisMax;
}

function floor(value, step) {
    return round(Math.floor(value / step) * step, DEFAULT_PRECISION);
}

function ceil(value, step) {
    return round(Math.ceil(value / step) * step, DEFAULT_PRECISION);
}

function limitCoordinate(value) {
    return Math.max(Math.min(value, COORDINATE_LIMIT), -COORDINATE_LIMIT);
}

var MIN_VALUE_RANGE$1 = Math.pow(10, -DEFAULT_PRECISION + 1);

var NumericAxis = (function (Axis$$1) {
    function NumericAxis(seriesMin, seriesMax, options, chartService) {
        Axis$$1.call(this, Object.assign({}, options, {
            seriesMin: seriesMin,
            seriesMax: seriesMax
        }), chartService);
    }

    if ( Axis$$1 ) NumericAxis.__proto__ = Axis$$1;
    NumericAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    NumericAxis.prototype.constructor = NumericAxis;

    NumericAxis.prototype.initUserOptions = function initUserOptions (options) {
        var autoOptions = autoAxisOptions(options.seriesMin, options.seriesMax, options);
        this.totalOptions = totalAxisOptions(autoOptions, options);

        return axisOptions(autoOptions, options);
    };

    NumericAxis.prototype.initFields = function initFields () {
        this.totalMin = this.totalOptions.min;
        this.totalMax = this.totalOptions.max;
        this.totalMajorUnit = this.totalOptions.majorUnit;
        this.seriesMin = this.options.seriesMin;
        this.seriesMax = this.options.seriesMax;
    };

    NumericAxis.prototype.clone = function clone () {
        return new NumericAxis(
            this.seriesMin,
            this.seriesMax,
            Object.assign({}, this.options),
            this.chartService
        );
    };

    NumericAxis.prototype.startValue = function startValue () {
        return 0;
    };

    NumericAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    NumericAxis.prototype.getDivisions = function getDivisions (stepValue) {
        if (stepValue === 0) {
            return 1;
        }

        var options = this.options;
        var range = options.max - options.min;

        return Math.floor(round(range / stepValue, COORD_PRECISION)) + 1;
    };

    NumericAxis.prototype.getTickPositions = function getTickPositions (unit, skipUnit) {
        var options = this.options;
        var ref = this.lineInfo();
        var axisDir = ref.axisDir;
        var axisOrigin = ref.axisOrigin;
        var lineBox = ref.lineBox;
        var lineSize = ref.lineSize;
        var range = options.max - options.min;
        var scale = lineSize / range;
        var step = unit * scale;
        var divisions = this.getDivisions(unit);
        var positions = [];
        var pos = lineBox[axisOrigin];
        var skipStep = 0;

        if (skipUnit) {
            skipStep = skipUnit / unit;
        }

        for (var idx = 0; idx < divisions; idx++) {
            if (idx % skipStep !== 0) {
                positions.push(round(pos, COORD_PRECISION));
            }

            pos = pos + step * axisDir;
        }

        return positions;
    };

    NumericAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    NumericAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTickPositions(this.options.minorUnit);
    };

    NumericAxis.prototype.getSlot = function getSlot (a, b, limit) {
        if ( limit === void 0 ) limit = false;

        var options = this.options;
        var ref = this.lineInfo();
        var axis = ref.axis;
        var axisDir = ref.axisDir;
        var lineBox = ref.lineBox;
        var lineSize = ref.lineSize;
        var lineStart = ref.lineStart;
        var step = axisDir * (lineSize / (options.max - options.min));

        var start = valueOrDefault(a, b || 0);
        var end = valueOrDefault(b, a || 0);

        if (limit) {
            start = limitValue(start, options.min, options.max);
            end = limitValue(end, options.min, options.max);
        }

        var p1 = Math.min(start, end) - options.min;
        var p2 = Math.max(start, end) - options.min;

        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);
        slotBox[axis + 1] = limitCoordinate(lineStart + step * (axisDir > 0 ? p1 : p2));
        slotBox[axis + 2] = limitCoordinate(lineStart + step * (axisDir > 0 ? p2 : p1));

        return slotBox;
    };

    NumericAxis.prototype.getValue = function getValue (point) {
        var options = this.options;
        var max = Number(options.max);
        var min = Number(options.min);
        var offset = this.pointOffset(point);
        var valueOffset = offset * (max - min);

        if (offset < 0 || offset > 1) {
            return null;
        }

        var value = min + valueOffset;
        return round(value, DEFAULT_PRECISION);
    };

    NumericAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var max = options.max;
        var min = options.min;
        var ref = this.lineInfo();
        var lineSize = ref.lineSize;
        var range = max - min;
        var scale = lineSize / range;
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if ((vertical || reverse) && !(vertical && reverse )) {
            offset = -offset;
        }

        return {
            min: min + offset,
            max: max + offset,
            offset: offset
        };
    };

    NumericAxis.prototype.labelsCount = function labelsCount () {
        return this.getDivisions(this.options.majorUnit);
    };

    NumericAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {
        var options = this.options;
        var value = round(options.min + (index * options.majorUnit), DEFAULT_PRECISION);
        var text = this.axisLabelText(value, labelOptions, labelContext);

        return new AxisLabel(value, text, index, null, labelOptions);
    };

    NumericAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        return range.min <= value && value <= range.max;
    };

    NumericAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta);
        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);
    };

    NumericAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        if (this.isValidRange(min, max)) {
            return {
                min: min,
                max: max
            };
        }
    };

    NumericAxis.prototype.scaleRange = function scaleRange (scale, cursor) {
        var position = Math.abs(this.pointOffset(cursor));
        var range = this.options.max - this.options.min;
        var delta = this.scaleToDelta(scale, range);
        var minDelta = position * delta;
        var maxDelta = (1 - position) * delta;
        var min = round(this.options.min + minDelta, DEFAULT_PRECISION);
        var max = round(this.options.max - maxDelta, DEFAULT_PRECISION);

        if (max - min < MIN_VALUE_RANGE$1) {
            max = min + MIN_VALUE_RANGE$1;
        }

        return {
            min: min,
            max: max
        };
    };

    NumericAxis.prototype.zoomRange = function zoomRange (scale, cursor) {
        var ref = this;
        var totalMin = ref.totalMin;
        var totalMax = ref.totalMax;
        var range = this.scaleRange(scale, cursor);

        return {
            min: limitValue(range.min, totalMin, totalMax),
            max: limitValue(range.max, totalMin, totalMax),
            narrowRange: false
        };
    };

    NumericAxis.prototype.isValidRange = function isValidRange (min, max) {
        return max - min > MIN_VALUE_RANGE$1;
    };

    return NumericAxis;
}(Axis));

function autoAxisOptions(seriesMin, seriesMax, options) {
    var narrowRange = options.narrowRange;

    var autoMin = autoAxisMin(seriesMin, seriesMax, narrowRange);
    var autoMax = autoAxisMax(seriesMin, seriesMax, narrowRange);

    var majorUnit = autoMajorUnit(autoMin, autoMax);
    var autoOptions = {
        majorUnit: majorUnit
    };

    if (options.roundToMajorUnit !== false) {
        if (autoMin < 0 && remainderClose(autoMin, majorUnit, 1 / 3)) {
            autoMin -= majorUnit;
        }

        if (autoMax > 0 && remainderClose(autoMax, majorUnit, 1 / 3)) {
            autoMax += majorUnit;
        }
    }

    autoOptions.min = floor(autoMin, majorUnit);
    autoOptions.max = ceil(autoMax, majorUnit);

    return autoOptions;
}

function totalAxisOptions(autoOptions, options) {
    return {
        min: defined(options.min) ? Math.min(autoOptions.min, options.min) : autoOptions.min,
        max: defined(options.max) ? Math.max(autoOptions.max, options.max) : autoOptions.max,
        majorUnit: autoOptions.majorUnit
    };
}

function clearNullValues(options, fields) {
    for (var idx = 0; idx < fields.length; idx++) {
        var field = fields[idx];
        if (options[field] === null) {
            options[field] = undefined;
        }
    }
}

function axisOptions(autoOptions, userOptions) {
    var options = userOptions;
    var userSetMin, userSetMax;

    if (userOptions) {
        clearNullValues(userOptions, [ 'min', 'max' ]);

        userSetMin = defined(userOptions.min);
        userSetMax = defined(userOptions.max);

        var userSetLimits = userSetMin || userSetMax;

        if (userSetLimits) {
            if (userOptions.min === userOptions.max) {
                if (userOptions.min > 0) {
                    userOptions.min = 0;
                } else {
                    userOptions.max = 1;
                }
            }
        }

        if (userOptions.majorUnit) {
            autoOptions.min = floor(autoOptions.min, userOptions.majorUnit);
            autoOptions.max = ceil(autoOptions.max, userOptions.majorUnit);
        } else if (userSetLimits) {
            options = deepExtend(autoOptions, userOptions);

            // Determine an auto major unit after min/max have been set
            autoOptions.majorUnit = autoMajorUnit(options.min, options.max);
        }
    }

    autoOptions.minorUnit = (options.majorUnit || autoOptions.majorUnit) / 5;

    var result = deepExtend(autoOptions, options);
    if (result.min >= result.max) {
        if (userSetMin && !userSetMax) {
            result.max = result.min + result.majorUnit;
        } else if (!userSetMin && userSetMax) {
            result.min = result.max - result.majorUnit;
        }
    }

    return result;
}

function remainderClose(value, divisor, ratio) {
    var remainder = round(Math.abs(value % divisor), DEFAULT_PRECISION);
    var threshold = divisor * (1 - ratio);

    return remainder === 0 || remainder > threshold;
}

setDefaultOptions(NumericAxis, {
    type: "numeric",
    min: 0,
    max: 1,
    vertical: true,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    labels: {
        format: "#.####################"
    },
    zIndex: 1
});

var MIN_VALUE_RANGE = 1000;

var DateValueAxis = (function (Axis$$1) {
    function DateValueAxis(seriesMin, seriesMax, axisOptions, chartService) {
        var min = toDate(seriesMin);
        var max = toDate(seriesMax);

        var intlService = chartService.intl;
        var options = axisOptions || {};
        options = deepExtend(options || {}, {
            min: parseDate(intlService, options.min),
            max: parseDate(intlService, options.max),
            axisCrossingValue: parseDates(intlService, options.axisCrossingValues || options.axisCrossingValue),
            weekStartDay: firstDay(options, intlService)
        });
        options = applyDefaults$1(min, max, options);

        Axis$$1.call(this, options, chartService);

        this.intlService = intlService;
        this.seriesMin = min;
        this.seriesMax = max;

        var weekStartDay = options.weekStartDay || 0;
        this.totalMin = toTime(floorDate(toTime(min) - 1, options.baseUnit, weekStartDay));
        this.totalMax = toTime(ceilDate(toTime(max) + 1, options.baseUnit, weekStartDay));
    }

    if ( Axis$$1 ) DateValueAxis.__proto__ = Axis$$1;
    DateValueAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    DateValueAxis.prototype.constructor = DateValueAxis;

    DateValueAxis.prototype.clone = function clone () {
        return new DateValueAxis(this.seriesMin, this.seriesMax, Object.assign({}, this.options), this.chartService);
    };

    DateValueAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    DateValueAxis.prototype.getDivisions = function getDivisions (stepValue) {
        var options = this.options;

        return Math.floor(
            duration(options.min, options.max, options.baseUnit) / stepValue + 1
        );
    };

    DateValueAxis.prototype.getTickPositions = function getTickPositions (step) {
        var options = this.options;
        var ref = this.lineInfo();
        var dir = ref.axisDir;
        var lineSize = ref.lineSize;
        var start = ref.lineStart;
        var divisions = this.getDivisions(step);
        var timeRange = dateDiff(options.max, options.min);
        var scale = lineSize / timeRange;
        var weekStartDay = options.weekStartDay || 0;

        var positions = [ start ];
        for (var i = 1; i < divisions; i++) {
            var date = addDuration(options.min, i * step, options.baseUnit, weekStartDay);
            var pos = start + dateDiff(date, options.min) * scale * dir;

            positions.push(round(pos, COORD_PRECISION));
        }

        return positions;
    };

    DateValueAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    DateValueAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTickPositions(this.options.minorUnit);
    };

    DateValueAxis.prototype.getSlot = function getSlot (a, b, limit) {
        return NumericAxis.prototype.getSlot.call(
            this, parseDate(this.intlService, a), parseDate(this.intlService, b), limit
        );
    };

    DateValueAxis.prototype.getValue = function getValue (point) {
        var value = NumericAxis.prototype.getValue.call(this, point);

        return value !== null ? toDate(value) : null;
    };

    DateValueAxis.prototype.labelsCount = function labelsCount () {
        return this.getDivisions(this.options.majorUnit);
    };

    DateValueAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {
        var options = this.options;
        var offset = index * options.majorUnit;
        var weekStartDay = options.weekStartDay || 0;
        var date = options.min;

        if (offset > 0) {
            date = addDuration(date, offset, options.baseUnit, weekStartDay);
        }

        var unitFormat = labelOptions.dateFormats[options.baseUnit];
        labelOptions.format = labelOptions.format || unitFormat;

        var text = this.axisLabelText(date, labelOptions, labelContext);
        return new AxisLabel(date, text, index, null, labelOptions);
    };

    DateValueAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var lineBox = this.lineBox();
        var vertical = options.vertical;
        var reverse = options.reverse;
        var size = vertical ? lineBox.height() : lineBox.width();
        var range = this.range();
        var scale = size / dateDiff(range.max, range.min);

        var offset = round(delta / scale, DEFAULT_PRECISION);
        if ((vertical || reverse) && !(vertical && reverse )) {
            offset = -offset;
        }

        var from = addTicks(options.min, offset);
        var to = addTicks(options.max, offset);

        return {
            min: from,
            max: to,
            offset: offset
        };
    };

    DateValueAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();

        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0;
    };

    DateValueAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta, true);
        var limittedRange = this.limitRange(toTime(range.min), toTime(range.max), this.totalMin, this.totalMax, range.offset);

        if (limittedRange) {
            return {
                min: toDate(limittedRange.min),
                max: toDate(limittedRange.max)
            };
        }
    };

    DateValueAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        return {
            min: toDate(min),
            max: toDate(max)
        };
    };

    DateValueAxis.prototype.scaleRange = function scaleRange (scale, cursor) {
        var position = Math.abs(this.pointOffset(cursor));
        var range = this.options.max - this.options.min;
        var delta = this.scaleToDelta(scale, range);
        var minDelta = position * delta;
        var maxDelta = (1 - position) * delta;
        var min = toDate(toTime(this.options.min) + minDelta);
        var max = toDate(toTime(this.options.max) - maxDelta);

        if (max - min < MIN_VALUE_RANGE) {
            max = toDate(toTime(min) + MIN_VALUE_RANGE);
        }

        return {
            min: min,
            max: max
        };
    };

    DateValueAxis.prototype.zoomRange = function zoomRange (scale, cursor) {
        var range = this.scaleRange(scale, cursor);
        var min = toDate(limitValue(toTime(range.min), this.totalMin, this.totalMax));
        var max = toDate(limitValue(toTime(range.max), this.totalMin, this.totalMax));

        return {
            min: min,
            max: max
        };
    };

    return DateValueAxis;
}(Axis));

function timeUnits(delta) {
    var unit = HOURS;

    if (delta >= TIME_PER_YEAR) {
        unit = YEARS;
    } else if (delta >= TIME_PER_MONTH) {
        unit = MONTHS;
    } else if (delta >= TIME_PER_WEEK) {
        unit = WEEKS;
    } else if (delta >= TIME_PER_DAY) {
        unit = DAYS;
    }

    return unit;
}

function applyDefaults$1(seriesMin, seriesMax, options) {
    var min = options.min || seriesMin;
    var max = options.max || seriesMax;
    var baseUnit = options.baseUnit || (max && min ? timeUnits(absoluteDateDiff(max, min)) : HOURS);
    var baseUnitTime = TIME_PER_UNIT[baseUnit];
    var weekStartDay = options.weekStartDay || 0;
    var autoMin = floorDate(toTime(min) - 1, baseUnit, weekStartDay) || toDate(max);
    var autoMax = ceilDate(toTime(max) + 1, baseUnit, weekStartDay);
    var userMajorUnit = options.majorUnit ? options.majorUnit : undefined;
    var majorUnit = userMajorUnit || ceil(
                        autoMajorUnit(autoMin.getTime(), autoMax.getTime()),
                        baseUnitTime
                    ) / baseUnitTime;
    var actualUnits = duration(autoMin, autoMax, baseUnit);
    var totalUnits = ceil(actualUnits, majorUnit);
    var unitsToAdd = totalUnits - actualUnits;
    var head = Math.floor(unitsToAdd / 2);
    var tail = unitsToAdd - head;

    if (!options.baseUnit) {
        delete options.baseUnit;
    }

    options.baseUnit = options.baseUnit || baseUnit;
    options.min = options.min || addDuration(autoMin, -head, baseUnit, weekStartDay);
    options.max = options.max || addDuration(autoMax, tail, baseUnit, weekStartDay);
    options.minorUnit = options.minorUnit || majorUnit / 5;
    options.majorUnit = majorUnit;

    return options;
}

setDefaultOptions(DateValueAxis, {
    type: DATE,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    labels: {
        dateFormats: DateLabelFormats
    }
});

var DEFAULT_MAJOR_UNIT = 10;
var MIN_VALUE_RANGE$2 = 1e-6;

var LogarithmicAxis = (function (Axis$$1) {
    function LogarithmicAxis(seriesMin, seriesMax, options, chartService) {

        var axisOptions = deepExtend({ majorUnit: DEFAULT_MAJOR_UNIT, min: seriesMin, max: seriesMax }, options);
        var base = axisOptions.majorUnit;
        var autoMax = autoAxisMax$1(seriesMax, base);
        var autoMin = autoAxisMin$1(seriesMin, seriesMax, axisOptions);
        var range = initRange(autoMin, autoMax, axisOptions, options);

        axisOptions.max = range.max;
        axisOptions.min = range.min;
        axisOptions.minorUnit = options.minorUnit || round(base - 1, DEFAULT_PRECISION);

        Axis$$1.call(this, axisOptions, chartService);

        this.totalMin = defined(options.min) ? Math.min(autoMin, options.min) : autoMin;
        this.totalMax = defined(options.max) ? Math.max(autoMax, options.max) : autoMax;
        this.logMin = round(log(range.min, base), DEFAULT_PRECISION);
        this.logMax = round(log(range.max, base), DEFAULT_PRECISION);
        this.seriesMin = seriesMin;
        this.seriesMax = seriesMax;

        this.createLabels();
    }

    if ( Axis$$1 ) LogarithmicAxis.__proto__ = Axis$$1;
    LogarithmicAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    LogarithmicAxis.prototype.constructor = LogarithmicAxis;

    LogarithmicAxis.prototype.clone = function clone () {
        return new LogarithmicAxis(
            this.seriesMin,
            this.seriesMax,
            Object.assign({}, this.options),
            this.chartService
        );
    };

    LogarithmicAxis.prototype.startValue = function startValue () {
        return this.options.min;
    };

    LogarithmicAxis.prototype.getSlot = function getSlot (a, b, limit) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var base = options.majorUnit;
        var min = options.min;
        var max = options.max;
        var ref$1 = this.lineInfo();
        var axis = ref$1.axis;
        var axisDir = ref$1.axisDir;
        var lineBox = ref$1.lineBox;
        var lineSize = ref$1.lineSize;
        var lineStart = ref$1.lineStart;
        var step = axisDir * (lineSize / (logMax - logMin));
        var start = valueOrDefault(a, b || 1);
        var end = valueOrDefault(b, a || 1);

        if (start <= 0 || end <= 0) {
            return null;
        }

        if (limit) {
            start = limitValue(start, min, max);
            end = limitValue(end, min, max);
        }

        start = log(start, base);
        end = log(end, base);

        var p1 = Math.min(start, end) - logMin;
        var p2 = Math.max(start, end) - logMin;

        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);
        slotBox[axis + 1] = limitCoordinate(lineStart + step * (axisDir > 0 ? p1 : p2));
        slotBox[axis + 2] = limitCoordinate(lineStart + step * (axisDir > 0 ? p2 : p1));

        return slotBox;
    };

    LogarithmicAxis.prototype.getValue = function getValue (point) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var base = options.majorUnit;
        var ref$1 = this.lineInfo();
        var axis = ref$1.axis;
        var axisDir = ref$1.axisDir;
        var lineStart = ref$1.lineStart;
        var lineSize = ref$1.lineSize;
        var step = ((logMax - logMin) / lineSize);
        var offset = axisDir * (point[axis] - lineStart);
        var valueOffset = offset * step;

        if (offset < 0 || offset > lineSize) {
            return null;
        }

        var value = logMin + valueOffset;

        return round(Math.pow(base, value), DEFAULT_PRECISION);
    };

    LogarithmicAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    LogarithmicAxis.prototype.translateRange = function translateRange (delta) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var reverse = options.reverse;
        var vertical = options.vertical;
        var base = options.majorUnit;
        var lineBox = this.lineBox();
        var size = vertical ? lineBox.height() : lineBox.width();
        var scale = size / (logMax - logMin);
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if ((vertical || reverse) && !(vertical && reverse )) {
            offset = -offset;
        }

        return {
            min: Math.pow(base, logMin + offset),
            max: Math.pow(base, logMax + offset),
            offset: offset
        };
    };

    LogarithmicAxis.prototype.labelsCount = function labelsCount () {
        var floorMax = Math.floor(this.logMax);
        var count = Math.floor(floorMax - this.logMin) + 1;

        return count;
    };

    LogarithmicAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        var ticks = [];

        this.traverseMajorTicksPositions(function (position) {
            ticks.push(position);
        }, { step: 1, skip: 0 });

        return ticks;
    };

    LogarithmicAxis.prototype.createTicks = function createTicks (lineGroup) {
        var options = this.options;
        var majorTicks = options.majorTicks;
        var minorTicks = options.minorTicks;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var lineBox = this.lineBox();
        var ticks = [];
        var tickLineOptions = {
            // TODO
            // _alignLines: options._alignLines,
            vertical: vertical
        };

        function render(tickPosition, tickOptions) {
            tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
            tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
            tickLineOptions.position = tickPosition;

            lineGroup.append(createAxisTick(tickLineOptions, tickOptions));
        }

        if (majorTicks.visible) {
            this.traverseMajorTicksPositions(render, majorTicks);
        }

        if (minorTicks.visible) {
            this.traverseMinorTicksPositions(render, minorTicks);
        }

        return ticks;
    };

    LogarithmicAxis.prototype.createGridLines = function createGridLines (altAxis) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var vertical = options.vertical;
        var lineBox = altAxis.lineBox();
        var lineOptions = {
            lineStart: lineBox[vertical ? "x1" : "y1"],
            lineEnd: lineBox[vertical ? "x2" : "y2"],
            vertical: vertical
        };
        var majorTicks = [];

        var container = this.gridLinesVisual();
        function render(tickPosition, gridLine) {
            if (!inArray(tickPosition, majorTicks)) {
                lineOptions.position = tickPosition;
                container.append(createAxisGridLine(lineOptions, gridLine));

                majorTicks.push(tickPosition);
            }
        }

        if (majorGridLines.visible) {
            this.traverseMajorTicksPositions(render, majorGridLines);
        }

        if (minorGridLines.visible) {
            this.traverseMinorTicksPositions(render, minorGridLines);
        }

        return container.children;
    };

    LogarithmicAxis.prototype.traverseMajorTicksPositions = function traverseMajorTicksPositions (callback, tickOptions) {
        var ref = this.lineInfo();
        var lineStart = ref.lineStart;
        var step = ref.step;
        var ref$1 = this;
        var logMin = ref$1.logMin;
        var logMax = ref$1.logMax;

        for (var power = Math.ceil(logMin) + tickOptions.skip; power <= logMax; power += tickOptions.step) {
            var position = round(lineStart + step * (power - logMin), DEFAULT_PRECISION);
            callback(position, tickOptions);
        }
    };

    LogarithmicAxis.prototype.traverseMinorTicksPositions = function traverseMinorTicksPositions (callback, tickOptions) {
        var this$1 = this;

        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var minorUnit = ref.minorUnit;
        var base = ref.majorUnit;
        var ref$1 = this.lineInfo();
        var lineStart = ref$1.lineStart;
        var step = ref$1.step;
        var ref$2 = this;
        var logMin = ref$2.logMin;
        var logMax = ref$2.logMax;
        var start = Math.floor(logMin);

        for (var power = start; power < logMax; power++) {
            var minorOptions = this$1._minorIntervalOptions(power);
            for (var idx = tickOptions.skip; idx < minorUnit; idx += tickOptions.step) {
                var value = minorOptions.value + idx * minorOptions.minorStep;
                if (value > max) {
                    break;
                }
                if (value >= min) {
                    var position = round(lineStart + step * (log(value, base) - logMin), DEFAULT_PRECISION);
                    callback(position, tickOptions);
                }
            }
        }
    };

    LogarithmicAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {
        var power = Math.ceil(this.logMin + index);
        var value = Math.pow(this.options.majorUnit, power);
        var text = this.axisLabelText(value, labelOptions, labelContext);

        return new AxisLabel(value, text, index, null, labelOptions);
    };

    LogarithmicAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        return range.min <= value && value <= range.max;
    };

    LogarithmicAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta);
        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);
    };

    LogarithmicAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        return {
            min: min,
            max: max
        };
    };

    LogarithmicAxis.prototype.scaleRange = function scaleRange (scale, cursor) {
        var ref = this.options;
        var base = ref.majorUnit;
        var logMin = log(this.options.min, base);
        var logMax = log(this.options.max, base);
        var position = Math.abs(this.pointOffset(cursor));
        var range = logMax - logMin;
        var delta = this.scaleToDelta(scale, range);
        var min = Math.pow(base, logMin + position * delta);
        var max = Math.pow(base, logMax - (1 - position) * delta);

        if (max - min < MIN_VALUE_RANGE$2) {
            max = min + MIN_VALUE_RANGE$2;
        }

        return {
            min: min,
            max: max
        };
    };

    LogarithmicAxis.prototype.zoomRange = function zoomRange (scale, cursor) {
        var range = this.scaleRange(scale, cursor);
        var ref = this;
        var totalMin = ref.totalMin;
        var totalMax = ref.totalMax;

        return {
            min: limitValue(range.min, totalMin, totalMax),
            max: limitValue(range.max, totalMin, totalMax)
        };
    };

    LogarithmicAxis.prototype._minorIntervalOptions = function _minorIntervalOptions (power) {
        var ref = this.options;
        var minorUnit = ref.minorUnit;
        var base = ref.majorUnit;
        var value = Math.pow(base, power);
        var nextValue = Math.pow(base, power + 1);
        var difference = nextValue - value;
        var minorStep = difference / minorUnit;

        return {
            value: value,
            minorStep: minorStep
        };
    };

    LogarithmicAxis.prototype.lineInfo = function lineInfo () {
        var info = Axis$$1.prototype.lineInfo.call(this);
        info.step = info.axisDir * (info.lineSize / (this.logMax - this.logMin));

        return info;
    };

    return LogarithmicAxis;
}(Axis));

function initRange(autoMin, autoMax, axisOptions, options) {
    var min = axisOptions.min;
    var max = axisOptions.max;

    if (defined(axisOptions.axisCrossingValue) && axisOptions.axisCrossingValue <= 0) {
        throwNegativeValuesError();
    }

    if (!defined(options.max)) {
        max = autoMax;
    } else if (options.max <= 0) {
        throwNegativeValuesError();
    }

    if (!defined(options.min)) {
        min = autoMin;
    } else if (options.min <= 0) {
        throwNegativeValuesError();
    }

    return {
        min: min,
        max: max
    };
}

function autoAxisMin$1(min, max, options) {
    var base = options.majorUnit;
    var autoMin = min;
    if (min <= 0) {
        autoMin = max <= 1 ? Math.pow(base, -2) : 1;
    } else if (!options.narrowRange) {
        autoMin = Math.pow(base, Math.floor(log(min, base)));
    }
    return autoMin;
}

function autoAxisMax$1(max, base) {
    var logMaxRemainder = round(log(max, base), DEFAULT_PRECISION) % 1;
    var autoMax;
    if (max <= 0) {
        autoMax = base;
    } else if (logMaxRemainder !== 0 && (logMaxRemainder < 0.3 || logMaxRemainder > 0.9)) {
        autoMax = Math.pow(base, log(max, base) + 0.2);
    } else {
        autoMax = Math.pow(base, Math.ceil(log(max, base)));
    }

    return autoMax;
}

function throwNegativeValuesError() {
    throw new Error("Non positive values cannot be used for a logarithmic axis");
}

function log(x, base) {
    return Math.log(x) / Math.log(base);
}

setDefaultOptions(LogarithmicAxis, {
    type: "log",
    majorUnit: DEFAULT_MAJOR_UNIT,
    minorUnit: 1,
    axisCrossingValue: 1,
    vertical: true,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    zIndex: 1,
    _deferLabels: true
});

var GridLinesMixin = {
    createGridLines: function(altAxis) {
        var options = this.options;
        var radius = Math.abs(this.box.center().y - altAxis.lineBox().y1);
        var gridLines = [];
        var skipMajor = false;
        var majorAngles, minorAngles;

        if (options.majorGridLines.visible) {
            majorAngles = this.majorGridLineAngles(altAxis);
            skipMajor = true;

            gridLines = this.renderMajorGridLines(
                majorAngles, radius, options.majorGridLines
            );
        }

        if (options.minorGridLines.visible) {
            minorAngles = this.minorGridLineAngles(altAxis, skipMajor);

            append$1(gridLines, this.renderMinorGridLines(
                minorAngles, radius, options.minorGridLines, altAxis, skipMajor
            ));
        }

        return gridLines;
    },

    renderMajorGridLines: function(angles, radius, options) {
        return this.renderGridLines(angles, radius, options);
    },

    renderMinorGridLines: function(angles, radius, options, altAxis, skipMajor) {
        var radiusCallback = this.radiusCallback && this.radiusCallback(radius, altAxis, skipMajor);
        return this.renderGridLines(angles, radius, options, radiusCallback);
    },

    renderGridLines: function(angles, radius, options, radiusCallback) {
        var style = {
            stroke: {
                width: options.width,
                color: options.color,
                dashType: options.dashType
            }
        };

        var center = this.box.center();
        var circle = new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], radius);
        var container = this.gridLinesVisual();

        for (var i = 0; i < angles.length; i++) {
            var line = new _progress_kendoDrawing.drawing.Path(style);
            if (radiusCallback) {
                circle.radius = radiusCallback(angles[i]);
            }

            line.moveTo(circle.center)
                .lineTo(circle.pointAt(angles[i] + 180));

            container.append(line);
        }

        return container.children;
    },

    gridLineAngles: function(altAxis, size, skip, step, skipAngles) {
        var this$1 = this;

        var divs = this.intervals(size, skip, step, skipAngles);
        var options = altAxis.options;
        var altAxisVisible = options.visible && (options.line || {}).visible !== false;

        return map$1(divs, function (d) {
            var alpha = this$1.intervalAngle(d);

            if (!altAxisVisible || alpha !== 90) {
                return alpha;
            }
        });
    }
};

var RadarCategoryAxis = (function (CategoryAxis$$1) {
    function RadarCategoryAxis () {
        CategoryAxis$$1.apply(this, arguments);
    }

    if ( CategoryAxis$$1 ) RadarCategoryAxis.__proto__ = CategoryAxis$$1;
    RadarCategoryAxis.prototype = Object.create( CategoryAxis$$1 && CategoryAxis$$1.prototype );
    RadarCategoryAxis.prototype.constructor = RadarCategoryAxis;

    RadarCategoryAxis.prototype.range = function range () {
        return { min: 0, max: this.options.categories.length };
    };

    RadarCategoryAxis.prototype.reflow = function reflow (box) {
        this.box = box;
        this.reflowLabels();
    };

    RadarCategoryAxis.prototype.lineBox = function lineBox () {
        return this.box;
    };

    RadarCategoryAxis.prototype.reflowLabels = function reflowLabels () {
        var this$1 = this;

        var ref = this;
        var labels = ref.labels;
        var labelOptions = ref.options.labels;
        var skip = labelOptions.skip || 0;
        var step = labelOptions.step || 1;
        var measureBox = new Box();

        for (var i = 0; i < labels.length; i++) {
            labels[i].reflow(measureBox);
            var labelBox = labels[i].box;

            labels[i].reflow(this$1.getSlot(skip + i * step).adjacentBox(
                0, labelBox.width(), labelBox.height()
            ));
        }
    };

    RadarCategoryAxis.prototype.intervals = function intervals (size, skipOption, stepOption, skipAngles) {
        if ( skipAngles === void 0 ) skipAngles = false;

        var options = this.options;
        var categories = options.categories.length;
        var divCount = categories / size || 1;
        var divAngle = 360 / divCount;
        var skip = skipOption || 0;
        var step = stepOption || 1;
        var divs = [];
        var angle = 0;

        for (var i = skip; i < divCount; i += step) {
            if (options.reverse) {
                angle = 360 - i * divAngle;
            } else {
                angle = i * divAngle;
            }

            angle = round(angle, COORD_PRECISION) % 360;

            if (!(skipAngles && inArray(angle, skipAngles))) {
                divs.push(angle);
            }
        }

        return divs;
    };

    RadarCategoryAxis.prototype.majorIntervals = function majorIntervals () {
        return this.intervals(1);
    };

    RadarCategoryAxis.prototype.minorIntervals = function minorIntervals () {
        return this.intervals(0.5);
    };

    RadarCategoryAxis.prototype.intervalAngle = function intervalAngle (interval) {
        return (360 + interval + this.options.startAngle) % 360;
    };

    RadarCategoryAxis.prototype.majorAngles = function majorAngles () {
        var this$1 = this;

        return map$1(this.majorIntervals(), function (interval) { return this$1.intervalAngle(interval); });
    };

    RadarCategoryAxis.prototype.createLine = function createLine () {
        return [];
    };

    RadarCategoryAxis.prototype.majorGridLineAngles = function majorGridLineAngles (altAxis) {
        var majorGridLines = this.options.majorGridLines;
        return this.gridLineAngles(altAxis, 1, majorGridLines.skip, majorGridLines.step);
    };

    RadarCategoryAxis.prototype.minorGridLineAngles = function minorGridLineAngles (altAxis, skipMajor) {
        var ref = this.options;
        var minorGridLines = ref.minorGridLines;
        var majorGridLines = ref.majorGridLines;
        var majorGridLineAngles = skipMajor ? this.intervals(1, majorGridLines.skip, majorGridLines.step) : null;

        return this.gridLineAngles(altAxis, 0.5, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);
    };

    RadarCategoryAxis.prototype.radiusCallback = function radiusCallback (radius, altAxis, skipMajor) {
        if (altAxis.options.type !== ARC) {
            var minorAngle = rad(360 / (this.options.categories.length * 2));
            var minorRadius = Math.cos(minorAngle) * radius;
            var majorAngles = this.majorAngles();

            var radiusCallback = function(angle) {
                if (!skipMajor && inArray(angle, majorAngles)) {
                    return radius;
                }

                return minorRadius;
            };
            return radiusCallback;
        }
    };

    RadarCategoryAxis.prototype.createPlotBands = function createPlotBands () {
        var this$1 = this;

        var plotBands = this.options.plotBands || [];

        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        for (var i = 0; i < plotBands.length; i++) {
            var band = plotBands[i];
            var slot = this$1.plotBandSlot(band);
            var singleSlot = this$1.getSlot(band.from);

            var head = band.from - Math.floor(band.from);
            slot.startAngle += head * singleSlot.angle;

            var tail = Math.ceil(band.to) - band.to;
            slot.angle -= (tail + head) * singleSlot.angle;

            var ring = ShapeBuilder.current.createRing(slot, {
                fill: {
                    color: band.color,
                    opacity: band.opacity
                },
                stroke: {
                    opacity: band.opacity
                }
            });
            group.append(ring);
        }

        this.appendVisual(group);
    };

    RadarCategoryAxis.prototype.plotBandSlot = function plotBandSlot (band) {
        return this.getSlot(band.from, band.to - 1);
    };

    RadarCategoryAxis.prototype.getSlot = function getSlot (from, to) {
        var options = this.options;
        var justified = options.justified;
        var box = this.box;
        var divs = this.majorAngles();
        var totalDivs = divs.length;
        var slotAngle = 360 / totalDivs;
        var fromValue = from;

        if (options.reverse && !justified) {
            fromValue = (fromValue + 1) % totalDivs;
        }

        fromValue = limitValue(Math.floor(fromValue), 0, totalDivs - 1);
        var slotStart = divs[fromValue];

        if (justified) {
            slotStart = slotStart - slotAngle / 2;

            if (slotStart < 0) {
                slotStart += 360;
            }
        }

        var toValue = limitValue(Math.ceil(to || fromValue), fromValue, totalDivs - 1);
        var slots = toValue - fromValue + 1;
        var angle = slotAngle * slots;

        return new Ring(box.center(), 0, box.height() / 2, slotStart, angle);
    };

    RadarCategoryAxis.prototype.slot = function slot (from, to) {
        var slot = this.getSlot(from, to);
        var startAngle = slot.startAngle + 180;
        var endAngle = startAngle + slot.angle;

        return new _progress_kendoDrawing.geometry.Arc([ slot.center.x, slot.center.y ], {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: slot.radius,
            radiusY: slot.radius
        });
    };

    RadarCategoryAxis.prototype.pointCategoryIndex = function pointCategoryIndex (point) {
        var this$1 = this;

        var length = this.options.categories.length;
        var index = null;

        for (var i = 0; i < length; i++) {
            var slot = this$1.getSlot(i);
            if (slot.containsPoint(point)) {
                index = i;
                break;
            }
        }

        return index;
    };

    return RadarCategoryAxis;
}(CategoryAxis));

setDefaultOptions(RadarCategoryAxis, {
    startAngle: 90,
    labels: {
        margin: getSpacing(10)
    },
    majorGridLines: {
        visible: true
    },
    justified: true
});
deepExtend(RadarCategoryAxis.prototype, GridLinesMixin);

var PolarAxis = (function (Axis$$1) {
    function PolarAxis(options, chartService) {
        Axis$$1.call(this, options, chartService);

        var instanceOptions = this.options;

        instanceOptions.minorUnit = instanceOptions.minorUnit || instanceOptions.majorUnit / 2;
    }

    if ( Axis$$1 ) PolarAxis.__proto__ = Axis$$1;
    PolarAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    PolarAxis.prototype.constructor = PolarAxis;

    PolarAxis.prototype.getDivisions = function getDivisions (stepValue) {
        return NumericAxis.prototype.getDivisions.call(this, stepValue) - 1;
    };

    PolarAxis.prototype.reflow = function reflow (box) {
        this.box = box;
        this.reflowLabels();
    };

    PolarAxis.prototype.reflowLabels = function reflowLabels () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var labelOptions = ref.options.labels;
        var skip = labelOptions.skip || 0;
        var step = labelOptions.step || 1;

        var measureBox = new Box();
        var divs = this.intervals(options.majorUnit, skip, step);

        for (var i = 0; i < labels.length; i++) {
            labels[i].reflow(measureBox);
            var labelBox = labels[i].box;

            labels[i].reflow(this$1.getSlot(divs[i]).adjacentBox(0, labelBox.width(), labelBox.height()));
        }
    };

    PolarAxis.prototype.lineBox = function lineBox () {
        return this.box;
    };

    PolarAxis.prototype.intervals = function intervals (size, skipOption, stepOption, skipAngles) {
        if ( skipAngles === void 0 ) skipAngles = false;

        var min = this.options.min;
        var divisions = this.getDivisions(size);
        var divs = [];
        var skip = skipOption || 0;
        var step = stepOption || 1;

        for (var i = skip; i < divisions; i += step) {
            var current = (360 + min + i * size) % 360;
            if (!(skipAngles && inArray(current, skipAngles))) {
                divs.push(current);
            }
        }

        return divs;
    };

    PolarAxis.prototype.majorIntervals = function majorIntervals () {
        return this.intervals(this.options.majorUnit);
    };

    PolarAxis.prototype.minorIntervals = function minorIntervals () {
        return this.intervals(this.options.minorUnit);
    };

    PolarAxis.prototype.intervalAngle = function intervalAngle (i) {
        return (540 - i - this.options.startAngle) % 360;
    };

    PolarAxis.prototype.createLine = function createLine () {
        return [];
    };

    PolarAxis.prototype.majorGridLineAngles = function majorGridLineAngles (altAxis) {
        var majorGridLines = this.options.majorGridLines;
        return this.gridLineAngles(altAxis, this.options.majorUnit, majorGridLines.skip, majorGridLines.step);
    };

    PolarAxis.prototype.minorGridLineAngles = function minorGridLineAngles (altAxis, skipMajor) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var majorGridLineAngles = skipMajor ? this.intervals(options.majorUnit, majorGridLines.skip, majorGridLines.step) : null;

        return this.gridLineAngles(altAxis, options.minorUnit, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);
    };

    PolarAxis.prototype.plotBandSlot = function plotBandSlot (band) {
        return this.getSlot(band.from, band.to);
    };

    PolarAxis.prototype.getSlot = function getSlot (a, b) {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var startAngle = options.startAngle;
        var start = limitValue(a, options.min, options.max);
        var end = limitValue(b || start, start, options.max);

        if (options.reverse) {
            start *= -1;
            end *= -1;
        }

        start = (540 - start - startAngle) % 360;
        end = (540 - end - startAngle) % 360;

        if (end < start) {
            var tmp = start;
            start = end;
            end = tmp;
        }

        return new Ring(box.center(), 0, box.height() / 2, start, end - start);
    };

    PolarAxis.prototype.slot = function slot (from, to) {
        if ( to === void 0 ) to = from;

        var options = this.options;
        var start = 360 - options.startAngle;
        var slot = this.getSlot(from, to);
        var min = Math.min(from, to);
        var max = Math.max(from, to);
        var startAngle, endAngle;

        if (options.reverse) {
            startAngle = min;
            endAngle = max;
        } else {
            startAngle = 360 - max;
            endAngle = 360 - min;
        }

        startAngle = (startAngle + start) % 360;
        endAngle = (endAngle + start) % 360;

        return new _progress_kendoDrawing.geometry.Arc([ slot.center.x, slot.center.y ], {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: slot.radius,
            radiusY: slot.radius
        });
    };

    PolarAxis.prototype.getValue = function getValue (point) {
        var options = this.options;
        var center = this.box.center();
        var dx = point.x - center.x;
        var dy = point.y - center.y;
        var theta = Math.round(deg(Math.atan2(dy, dx)));
        var start = options.startAngle;

        if (!options.reverse) {
            theta *= -1;
            start *= -1;
        }

        return (theta + start + 360) % 360;
    };

    PolarAxis.prototype.valueRange = function valueRange () {
        return {
            min: 0,
            max: Math.PI * 2
        };
    };

    return PolarAxis;
}(Axis));

setDefaultOptions(PolarAxis, {
    type: "polar",
    startAngle: 0,
    reverse: false,
    majorUnit: 60,
    min: 0,
    max: 360,
    labels: {
        margin: getSpacing(10)
    },
    majorGridLines: {
        color: BLACK,
        visible: true,
        width: 1
    },
    minorGridLines: {
        color: "#aaa"
    }
});

deepExtend(PolarAxis.prototype, GridLinesMixin, {
    createPlotBands: RadarCategoryAxis.prototype.createPlotBands,
    majorAngles: RadarCategoryAxis.prototype.majorAngles,
    range: NumericAxis.prototype.range,
    labelsCount: NumericAxis.prototype.labelsCount,
    createAxisLabel: NumericAxis.prototype.createAxisLabel
});

var RadarNumericAxisMixin = {
    options: {
        majorGridLines: {
            visible: true
        }
    },

    createPlotBands: function() {
        var this$1 = this;

        var ref = this.options;
        var type = ref.majorGridLines.type;
        var plotBands = ref.plotBands; if ( plotBands === void 0 ) plotBands = [];
        var altAxis = this.plotArea.polarAxis;
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        for (var i = 0; i < plotBands.length; i++) {
            var band = plotBands[i];
            var bandStyle = {
                fill: {
                    color: band.color,
                    opacity: band.opacity
                },
                stroke: {
                    opacity: band.opacity
                }
            };

            var slot = this$1.getSlot(band.from, band.to, true);
            var ring = new Ring(center, center.y - slot.y2, center.y - slot.y1, 0, 360);

            var shape = (void 0);
            if (type === ARC) {
                shape = ShapeBuilder.current.createRing(ring, bandStyle);
            } else {
                shape = _progress_kendoDrawing.drawing.Path.fromPoints(this$1.plotBandPoints(ring, majorAngles), bandStyle).close();
            }

            group.append(shape);
        }

        this.appendVisual(group);
    },

    plotBandPoints: function(ring, angles) {
        var innerPoints = [];
        var outerPoints = [];
        var center = [ ring.center.x, ring.center.y ];
        var innerCircle = new _progress_kendoDrawing.geometry.Circle(center, ring.innerRadius);
        var outerCircle = new _progress_kendoDrawing.geometry.Circle(center, ring.radius);

        for (var i = 0; i < angles.length; i++) {
            innerPoints.push(innerCircle.pointAt(angles[i] + 180));
            outerPoints.push(outerCircle.pointAt(angles[i] + 180));
        }

        innerPoints.reverse();
        innerPoints.push(innerPoints[0]);
        outerPoints.push(outerPoints[0]);

        return outerPoints.concat(innerPoints);
    },

    createGridLines: function(altAxis) {
        var options = this.options;
        var majorTicks = this.radarMajorGridLinePositions();
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var gridLines = [];

        if (options.majorGridLines.visible) {
            gridLines = this.renderGridLines(
                center, majorTicks, majorAngles, options.majorGridLines
            );
        }

        if (options.minorGridLines.visible) {
            var minorTicks = this.radarMinorGridLinePositions();
            append$1(gridLines, this.renderGridLines(
                center, minorTicks, majorAngles, options.minorGridLines
            ));
        }

        return gridLines;
    },

    renderGridLines: function(center, ticks, angles, options) {
        var style = {
            stroke: {
                width: options.width,
                color: options.color,
                dashType: options.dashType
            }
        };
        var skip = options.skip; if ( skip === void 0 ) skip = 0;
        var step = options.step; if ( step === void 0 ) step = 0;
        var container = this.gridLinesVisual();

        for (var tickIx = skip; tickIx < ticks.length; tickIx += step) {
            var tickRadius = center.y - ticks[tickIx];
            if (tickRadius > 0) {
                var circle = new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], tickRadius);
                if (options.type === ARC) {
                    container.append(new _progress_kendoDrawing.drawing.Circle(circle, style));
                } else {
                    var line = new _progress_kendoDrawing.drawing.Path(style);
                    for (var angleIx = 0; angleIx < angles.length; angleIx++) {
                        line.lineTo(circle.pointAt(angles[angleIx] + 180));
                    }

                    line.close();
                    container.append(line);
                }
            }
        }

        return container.children;
    },

    getValue: function(point) {
        var lineBox = this.lineBox();
        var altAxis = this.plotArea.polarAxis;
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var radius = point.distanceTo(center);
        var distance = radius;

        if (this.options.majorGridLines.type !== ARC && majorAngles.length > 1) {
            var dx = point.x - center.x;
            var dy = point.y - center.y;
            var theta = (deg(Math.atan2(dy, dx)) + 540) % 360;

            majorAngles.sort(function(a, b) {
                return angularDistance(a, theta) - angularDistance(b, theta);
            });

            // Solve triangle (center, point, axis X) using one side (radius) and two angles.
            // Angles are derived from triangle (center, point, gridline X)
            var midAngle = angularDistance(majorAngles[0], majorAngles[1]) / 2;
            var alpha = angularDistance(theta, majorAngles[0]);
            var gamma = 90 - midAngle;
            var beta = 180 - alpha - gamma;

            distance = radius * (Math.sin(rad(beta)) / Math.sin(rad(gamma)));
        }

        return this.axisType().prototype.getValue.call(
            this, new Point(lineBox.x1, lineBox.y2 - distance)
        );
    }
};

function angularDistance(a, b) {
    return 180 - Math.abs(Math.abs(a - b) - 180);
}

var RadarNumericAxis = (function (NumericAxis$$1) {
    function RadarNumericAxis () {
        NumericAxis$$1.apply(this, arguments);
    }

    if ( NumericAxis$$1 ) RadarNumericAxis.__proto__ = NumericAxis$$1;
    RadarNumericAxis.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    RadarNumericAxis.prototype.constructor = RadarNumericAxis;

    RadarNumericAxis.prototype.radarMajorGridLinePositions = function radarMajorGridLinePositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    RadarNumericAxis.prototype.radarMinorGridLinePositions = function radarMinorGridLinePositions () {
        var options = this.options;
        var minorSkipStep = 0;

        if (options.majorGridLines.visible) {
            minorSkipStep = options.majorUnit;
        }
        return this.getTickPositions(options.minorUnit, minorSkipStep);
    };

    RadarNumericAxis.prototype.axisType = function axisType () {
        return NumericAxis$$1;
    };

    return RadarNumericAxis;
}(NumericAxis));

deepExtend(RadarNumericAxis.prototype, RadarNumericAxisMixin);

var RadarLogarithmicAxis = (function (LogarithmicAxis$$1) {
    function RadarLogarithmicAxis () {
        LogarithmicAxis$$1.apply(this, arguments);
    }

    if ( LogarithmicAxis$$1 ) RadarLogarithmicAxis.__proto__ = LogarithmicAxis$$1;
    RadarLogarithmicAxis.prototype = Object.create( LogarithmicAxis$$1 && LogarithmicAxis$$1.prototype );
    RadarLogarithmicAxis.prototype.constructor = RadarLogarithmicAxis;

    RadarLogarithmicAxis.prototype.radarMajorGridLinePositions = function radarMajorGridLinePositions () {
        var positions = [];

        this.traverseMajorTicksPositions(function(position) {
            positions.push(position);
        }, this.options.majorGridLines);

        return positions;
    };

    RadarLogarithmicAxis.prototype.radarMinorGridLinePositions = function radarMinorGridLinePositions () {
        var positions = [];

        this.traverseMinorTicksPositions(function(position) {
            positions.push(position);
        }, this.options.minorGridLines);

        return positions;
    };

    RadarLogarithmicAxis.prototype.axisType = function axisType () {
        return LogarithmicAxis$$1;
    };

    return RadarLogarithmicAxis;
}(LogarithmicAxis));

deepExtend(RadarLogarithmicAxis.prototype, RadarNumericAxisMixin);

var WEIGHT = 0.333;
var EXTREMUM_ALLOWED_DEVIATION = 0.01;

var CurveProcessor = (function (Class$$1) {
    function CurveProcessor(closed) {
        Class$$1.call(this);

        this.closed = closed;
    }

    if ( Class$$1 ) CurveProcessor.__proto__ = Class$$1;
    CurveProcessor.prototype = Object.create( Class$$1 && Class$$1.prototype );
    CurveProcessor.prototype.constructor = CurveProcessor;

    CurveProcessor.prototype.process = function process (dataPoints) {
        var this$1 = this;

        var points = dataPoints.slice(0);
        var segments = [];
        var closed = this.closed;
        var length = points.length;

        if (length > 2) {
            this.removeDuplicates(0, points);
            length = points.length;
        }

        if (length < 2 || (length === 2 && points[0].equals(points[1]))) {
            return segments;
        }

        var p0 = points[0];
        var p1 = points[1];
        var p2 = points[2];

        segments.push(new _progress_kendoDrawing.geometry.Segment(p0));

        while (p0.equals(points[length - 1])) {
            closed = true;
            points.pop();
            length--;
        }

        if (length === 2) {
            var tangent = this.tangent(p0,p1, X, Y);

            last(segments).controlOut(
                this.firstControlPoint(tangent, p0, p1, X, Y)
            );

            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p1,
                this.secondControlPoint(tangent, p0, p1, X, Y)
            ));

            return segments;
        }

        var initialControlPoint, lastControlPoint;

        if (closed) {
            p0 = points[length - 1]; p1 = points[0]; p2 = points[1];
            var controlPoints = this.controlPoints(p0, p1, p2);
            initialControlPoint = controlPoints[1];
            lastControlPoint = controlPoints[0];
        } else {
            var tangent$1 = this.tangent(p0, p1, X,Y);
            initialControlPoint = this.firstControlPoint(tangent$1, p0, p1, X, Y);
        }

        var cp0 = initialControlPoint;
        for (var idx = 0; idx <= length - 3; idx++) {
            this$1.removeDuplicates(idx, points);
            length = points.length;
            if (idx + 3 <= length) {
                p0 = points[idx]; p1 = points[idx + 1]; p2 = points[idx + 2];
                var controlPoints$1 = this$1.controlPoints(p0,p1,p2);

                last(segments).controlOut(cp0);
                cp0 = controlPoints$1[1];

                var cp1 = controlPoints$1[0];
                segments.push(new _progress_kendoDrawing.geometry.Segment(p1, cp1));
            }
        }

        if (closed) {
            p0 = points[length - 2]; p1 = points[length - 1]; p2 = points[0];
            var controlPoints$2 = this.controlPoints(p0, p1, p2);

            last(segments).controlOut(cp0);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p1,
                controlPoints$2[0]
            ));

            last(segments).controlOut(controlPoints$2[1]);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p2,
                lastControlPoint
            ));
        } else {
            var tangent$2 = this.tangent(p1, p2, X, Y);

            last(segments).controlOut(cp0);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p2,
                this.secondControlPoint(tangent$2, p1, p2, X, Y)
            ));
        }

        return segments;
    };

    CurveProcessor.prototype.removeDuplicates = function removeDuplicates (idx, points) {
        while (points[idx + 1] && (points[idx].equals(points[idx + 1]) || points[idx + 1].equals(points[idx + 2]))) {
            points.splice(idx + 1, 1);
        }
    };

    CurveProcessor.prototype.invertAxis = function invertAxis (p0, p1, p2) {
        var invertAxis = false;

        if (p0.x === p1.x) {
            invertAxis = true;
        } else if (p1.x === p2.x) {
            if ((p1.y < p2.y && p0.y <= p1.y) || (p2.y < p1.y && p1.y <= p0.y)) {
                invertAxis = true;
            }
        } else {
            var fn = this.lineFunction(p0,p1);
            var y2 = this.calculateFunction(fn, p2.x);
            if (!(p0.y <= p1.y && p2.y <= y2) &&
                !(p1.y <= p0.y && p2.y >= y2)) {
                invertAxis = true;
            }
        }

        return invertAxis;
    };

    CurveProcessor.prototype.isLine = function isLine (p0, p1, p2) {
        var fn = this.lineFunction(p0, p1);
        var y2 = this.calculateFunction(fn, p2.x);

        return (p0.x === p1.x && p1.x === p2.x) || round(y2, 1) === round(p2.y, 1);
    };

    CurveProcessor.prototype.lineFunction = function lineFunction (p1, p2) {
        var a = (p2.y - p1.y) / (p2.x - p1.x);
        var b = p1.y - a * p1.x;

        return [ b, a ];
    };

    CurveProcessor.prototype.controlPoints = function controlPoints (p0, p1, p2) {
        var xField = X;
        var yField = Y;
        var restrict = false;
        var switchOrientation = false;
        var tangent;

        if (this.isLine(p0, p1, p2)) {
            tangent = this.tangent(p0, p1, X, Y);
        } else {
            var monotonic = {
                x: this.isMonotonicByField(p0, p1, p2, X),
                y: this.isMonotonicByField(p0, p1, p2, Y)
            };

            if (monotonic.x && monotonic.y) {
                tangent = this.tangent(p0, p2, X, Y);
                restrict = true;
            } else {
                if (this.invertAxis(p0, p1, p2)) {
                    xField = Y;
                    yField = X;
                }

                if (monotonic[xField]) {
                    tangent = 0;
                } else {
                    var sign;
                    if ((p2[yField] < p0[yField] && p0[yField] <= p1[yField]) ||
                        (p0[yField] < p2[yField] && p1[yField] <= p0[yField])) {
                        sign = numberSign((p2[yField] - p0[yField]) * (p1[xField] - p0[xField]));
                    } else {
                        sign = -numberSign((p2[xField] - p0[xField]) * (p1[yField] - p0[yField]));
                    }

                    tangent = EXTREMUM_ALLOWED_DEVIATION * sign;
                    switchOrientation = true;
                }
            }
        }

        var secondControlPoint = this.secondControlPoint(tangent, p0, p1, xField, yField);

        if (switchOrientation) {
            var oldXField = xField;
            xField = yField;
            yField = oldXField;
        }

        var firstControlPoint = this.firstControlPoint(tangent, p1, p2, xField, yField);

        if (restrict) {
            this.restrictControlPoint(p0, p1, secondControlPoint, tangent);
            this.restrictControlPoint(p1, p2, firstControlPoint, tangent);
        }

        return [ secondControlPoint, firstControlPoint ];
    };

    CurveProcessor.prototype.restrictControlPoint = function restrictControlPoint (p1, p2, cp, tangent) {
        if (p1.y < p2.y) {
            if (p2.y < cp.y) {
                cp.x = p1.x + (p2.y - p1.y) / tangent;
                cp.y = p2.y;
            } else if (cp.y < p1.y) {
                cp.x = p2.x - (p2.y - p1.y) / tangent;
                cp.y = p1.y;
            }
        } else {
            if (cp.y < p2.y) {
                cp.x = p1.x - (p1.y - p2.y) / tangent;
                cp.y = p2.y;
            } else if (p1.y < cp.y) {
                cp.x = p2.x + (p1.y - p2.y) / tangent;
                cp.y = p1.y;
            }
        }
    };

    CurveProcessor.prototype.tangent = function tangent (p0, p1, xField, yField) {
        var x = p1[xField] - p0[xField];
        var y = p1[yField] - p0[yField];
        var tangent;

        if (x === 0) {
            tangent = 0;
        } else {
            tangent = y / x;
        }

        return tangent;
    };

    CurveProcessor.prototype.isMonotonicByField = function isMonotonicByField (p0, p1, p2, field) {
        return (p2[field] > p1[field] && p1[field] > p0[field]) ||
                    (p2[field] < p1[field] && p1[field] < p0[field]);
    };

    CurveProcessor.prototype.firstControlPoint = function firstControlPoint (tangent, p0, p3, xField, yField) {
        var t1 = p0[xField];
        var t2 = p3[xField];
        var distance = (t2 - t1) * WEIGHT;

        return this.point(t1 + distance, p0[yField] + distance * tangent, xField, yField);
    };

    CurveProcessor.prototype.secondControlPoint = function secondControlPoint (tangent, p0, p3, xField, yField) {
        var t1 = p0[xField];
        var t2 = p3[xField];
        var distance = (t2 - t1) * WEIGHT;

        return this.point(t2 - distance, p3[yField] - distance * tangent, xField, yField);
    };

    CurveProcessor.prototype.point = function point (xValue, yValue, xField, yField) {
        var controlPoint = new _progress_kendoDrawing.geometry.Point();
        controlPoint[xField] = xValue;
        controlPoint[yField] = yValue;

        return controlPoint;
    };

    CurveProcessor.prototype.calculateFunction = function calculateFunction (fn, x) {
        var length = fn.length;
        var result = 0;

        for (var i = 0; i < length; i++) {
            result += Math.pow(x,i) * fn[i];
        }
        return result;
    };

    return CurveProcessor;
}(_progress_kendoDrawing.Class));

function numberSign(value) {
    return value <= 0 ? -1 : 1;
}

var ChartAxis = (function (Class$$1) {
    function ChartAxis(axis) {
        Class$$1.call(this);

        this._axis = axis;
        this.options = axis.options;
    }

    if ( Class$$1 ) ChartAxis.__proto__ = Class$$1;
    ChartAxis.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartAxis.prototype.constructor = ChartAxis;

    ChartAxis.prototype.value = function value (point) {
        var axis = this._axis;
        var value = axis.getCategory ? axis.getCategory(point) : axis.getValue(point);

        return value;
    };

    ChartAxis.prototype.slot = function slot (from, to, limit) {
        if ( limit === void 0 ) limit = true;

        return this._axis.slot(from, to, limit);
    };

    ChartAxis.prototype.range = function range () {
        return this._axis.range();
    };

    ChartAxis.prototype.valueRange = function valueRange () {
        return this._axis.valueRange();
    };

    return ChartAxis;
}(_progress_kendoDrawing.Class));

function findAxisByName(name, axes) {
    for (var idx = 0; idx < axes.length; idx++) {
        if (axes[idx].options.name === name) {
            axes[idx].prepareUserOptions();
            return new ChartAxis(axes[idx]);
        }
    }
}

var ChartPane = function ChartPane(pane) {
    this.visual = pane.visual;
    this.chartsVisual = pane.chartContainer.visual;
    this._pane = pane;
};

ChartPane.prototype.findAxisByName = function findAxisByName$1 (name) {
    return findAxisByName(name, this._pane.axes);
};

var ChartPlotArea = (function (Class$$1) {
    function ChartPlotArea(plotArea) {
        Class$$1.call(this);

        this._plotArea = plotArea;
        this.visual = plotArea.visual;
        this.backgroundVisual = plotArea._bgVisual;
    }

    if ( Class$$1 ) ChartPlotArea.__proto__ = Class$$1;
    ChartPlotArea.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartPlotArea.prototype.constructor = ChartPlotArea;

    return ChartPlotArea;
}(_progress_kendoDrawing.Class));

function countNumbers(values) {
    var length = values.length;
    var count = 0;

    for (var i = 0; i < length; i++) {
        var num = values[i];
        if (isNumber(num)) {
            count++;
        }
    }

    return count;
}

var Aggregates = {
    min: function(values) {
        var length = values.length;
        var min = MAX_VALUE;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                min = Math.min(min, value);
            }
        }

        return min === MAX_VALUE ? values[0] : min;
    },

    max: function(values) {
        var length = values.length;
        var max = MIN_VALUE;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                max = Math.max(max, value);
            }
        }

        return max === MIN_VALUE ? values[0] : max;
    },

    sum: function(values) {
        var length = values.length;
        var sum = 0;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                sum += value;
            }
        }

        return sum;
    },

    sumOrNull: function(values) {
        var result = null;

        if (countNumbers(values)) {
            result = Aggregates.sum(values);
        }

        return result;
    },

    count: function(values) {
        var length = values.length;
        var count = 0;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (value !== null && defined(value)) {
                count++;
            }
        }

        return count;
    },

    avg: function(values) {
        var count = countNumbers(values);
        var result = values[0];

        if (count > 0) {
            result = Aggregates.sum(values) / count;
        }

        return result;
    },

    first: function(values) {
        var length = values.length;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (value !== null && defined(value)) {
                return value;
            }
        }

        return values[0];
    }
};

function getField(field, row) {
    if (row === null) {
        return row;
    }

    var get = getter(field, true);
    return get(row);
}

var SeriesBinder = (function (Class$$1) {
    function SeriesBinder() {
        Class$$1.call(this);

        this._valueFields = {};
        this._otherFields = {};
        this._nullValue = {};
        this._undefinedValue = {};
    }

    if ( Class$$1 ) SeriesBinder.__proto__ = Class$$1;
    SeriesBinder.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SeriesBinder.prototype.constructor = SeriesBinder;

    SeriesBinder.prototype.register = function register (seriesTypes, valueFields, otherFields) {
        var this$1 = this;
        if ( valueFields === void 0 ) valueFields = [ VALUE ];
        if ( otherFields === void 0 ) otherFields = {};


        for (var i = 0; i < seriesTypes.length; i++) {
            var type = seriesTypes[i];

            this$1._valueFields[type] = valueFields;
            this$1._otherFields[type] = otherFields;
            this$1._nullValue[type] = this$1._makeValue(valueFields, null);
            this$1._undefinedValue[type] = this$1._makeValue(valueFields, undefined);
        }
    };

    SeriesBinder.prototype.canonicalFields = function canonicalFields (series) {
        return this.valueFields(series).concat(this.otherFields(series));
    };

    SeriesBinder.prototype.valueFields = function valueFields (series) {
        return this._valueFields[series.type] || [ VALUE ];
    };

    SeriesBinder.prototype.otherFields = function otherFields (series) {
        return this._otherFields[series.type] || [ VALUE ];
    };

    SeriesBinder.prototype.bindPoint = function bindPoint (series, pointIx, item) {
        var data = series.data;
        var pointData = defined(item) ? item : data[pointIx];
        var result = { valueFields: { value: pointData } };
        var valueFields = this.valueFields(series);
        var otherFields = this._otherFields[series.type];
        var fields, value;

        if (pointData === null) {
            value = this._nullValue[series.type];
        } else if (!defined(pointData)) {
            value = this._undefinedValue[series.type];
        } else if (Array.isArray(pointData)) {
            var fieldData = pointData.slice(valueFields.length);
            value = this._bindFromArray(pointData, valueFields);
            fields = this._bindFromArray(fieldData, otherFields);
        } else if (typeof pointData === "object") {
            var srcValueFields = this.sourceFields(series, valueFields);
            var srcPointFields = this.sourceFields(series, otherFields);

            value = this._bindFromObject(pointData, valueFields, srcValueFields);
            fields = this._bindFromObject(pointData, otherFields, srcPointFields);
        }

        if (defined(value)) {
            if (valueFields.length === 1) {
                result.valueFields.value = value[valueFields[0]];
            } else {
                result.valueFields = value;
            }
        }

        result.fields = fields || {};

        return result;
    };

    SeriesBinder.prototype._makeValue = function _makeValue (fields, initialValue) {
        var value = {};
        var length = fields.length;

        for (var i = 0; i < length; i++) {
            var fieldName = fields[i];
            value[fieldName] = initialValue;
        }

        return value;
    };

    SeriesBinder.prototype._bindFromArray = function _bindFromArray (array, fields) {
        var value = {};

        if (fields) {
            var length = Math.min(fields.length, array.length);

            for (var i = 0; i < length; i++) {
                value[fields[i]] = array[i];
            }
        }

        return value;
    };

    SeriesBinder.prototype._bindFromObject = function _bindFromObject (object, fields, srcFields) {
        if ( srcFields === void 0 ) srcFields = fields;

        var value = {};

        if (fields) {
            var length = fields.length;

            for (var i = 0; i < length; i++) {
                var fieldName = fields[i];
                var srcFieldName = srcFields[i];
                if (srcFieldName !== null) {
                    value[fieldName] = getField(srcFieldName, object);
                }
            }
        }

        return value;
    };

    SeriesBinder.prototype.sourceFields = function sourceFields (series, canonicalFields) {
        var sourceFields = [];

        if (canonicalFields) {
            var length = canonicalFields.length;

            for (var i = 0; i < length; i++) {
                var fieldName = canonicalFields[i];
                var sourceFieldName = fieldName === VALUE ? "field" : fieldName + "Field";

                sourceFields.push(series[sourceFieldName] !== null ? (series[sourceFieldName] || fieldName) : null);
            }
        }

        return sourceFields;
    };

    return SeriesBinder;
}(_progress_kendoDrawing.Class));

SeriesBinder.current = new SeriesBinder();

var STD_ERR = "stderr";
var STD_DEV = "stddev";
var percentRegex = /percent(?:\w*)\((\d+)\)/;
var standardDeviationRegex = new RegExp("^" + STD_DEV + "(?:\\((\\d+(?:\\.\\d+)?)\\))?$");

var ErrorRangeCalculator = (function (Class$$1) {
    function ErrorRangeCalculator(errorValue, series, field) {
        Class$$1.call(this);

        this.initGlobalRanges(errorValue, series, field);
    }

    if ( Class$$1 ) ErrorRangeCalculator.__proto__ = Class$$1;
    ErrorRangeCalculator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ErrorRangeCalculator.prototype.constructor = ErrorRangeCalculator;

    ErrorRangeCalculator.prototype.initGlobalRanges = function initGlobalRanges (errorValue, series, field) {
        var data = series.data;
        var deviationMatch = standardDeviationRegex.exec(errorValue);

        if (deviationMatch) {
            this.valueGetter = this.createValueGetter(series, field);

            var average = this.getAverage(data);
            var deviation = this.getStandardDeviation(data, average, false);
            var multiple = deviationMatch[1] ? parseFloat(deviationMatch[1]) : 1;
            var errorRange = { low: average.value - deviation * multiple, high: average.value + deviation * multiple };

            this.globalRange = function() {
                return errorRange;
            };
        } else if (errorValue.indexOf && errorValue.indexOf(STD_ERR) >= 0) {
            this.valueGetter = this.createValueGetter(series, field);
            var standardError = this.getStandardError(data, this.getAverage(data));

            this.globalRange = function(value) {
                return { low: value - standardError, high: value + standardError };
            };
        }
    };

    ErrorRangeCalculator.prototype.createValueGetter = function createValueGetter (series, field) {
        var data = series.data;
        var binder = SeriesBinder.current;
        var valueFields = binder.valueFields(series);
        var item = defined(data[0]) ? data[0] : {};
        var valueGetter;

        if (isArray(item)) {
            var index = field ? valueFields.indexOf(field) : 0;
            valueGetter = getter("[" + index + "]");
        } else if (isNumber(item)) {
            valueGetter = getter();
        } else if (typeof item === OBJECT) {
            var srcValueFields = binder.sourceFields(series, valueFields);
            valueGetter = getter(srcValueFields[valueFields.indexOf(field)]);
        }

        return valueGetter;
    };

    ErrorRangeCalculator.prototype.getErrorRange = function getErrorRange (pointValue, errorValue) {
        var low, high, value;

        if (!defined(errorValue)) {
            return null;
        }

        if (this.globalRange) {
            return this.globalRange(pointValue);
        }

        if (isArray(errorValue)) {
            low = pointValue - errorValue[0];
            high = pointValue + errorValue[1];
        } else if (isNumber(value = parseFloat(errorValue))) {
            low = pointValue - value;
            high = pointValue + value;
        } else if ((value = percentRegex.exec(errorValue))) {
            var percentValue = pointValue * (parseFloat(value[1]) / 100);
            low = pointValue - Math.abs(percentValue);
            high = pointValue + Math.abs(percentValue);
        } else {
            throw new Error("Invalid ErrorBar value: " + errorValue);
        }

        return { low: low, high: high };
    };

    ErrorRangeCalculator.prototype.getStandardError = function getStandardError (data, average) {
        return this.getStandardDeviation(data, average, true) / Math.sqrt(average.count);
    };

    ErrorRangeCalculator.prototype.getStandardDeviation = function getStandardDeviation (data, average, isSample) {
        var this$1 = this;

        var length = data.length;
        var total = isSample ? average.count - 1 : average.count;
        var squareDifferenceSum = 0;

        for (var idx = 0; idx < length; idx++) {
            var value = this$1.valueGetter(data[idx]);
            if (isNumber(value)) {
                squareDifferenceSum += Math.pow(value - average.value, 2);
            }
        }

        return Math.sqrt(squareDifferenceSum / total);
    };

    ErrorRangeCalculator.prototype.getAverage = function getAverage (data) {
        var this$1 = this;

        var length = data.length;
        var sum = 0;
        var count = 0;

        for (var idx = 0; idx < length; idx++) {
            var value = this$1.valueGetter(data[idx]);
            if (isNumber(value)) {
                sum += value;
                count++;
            }
        }

        return {
            value: sum / count,
            count: count
        };
    };

    return ErrorRangeCalculator;
}(_progress_kendoDrawing.Class));

var browser$1 = _progress_kendoDrawing.support.browser || {};

var INITIAL_ANIMATION_DURATION = 600;
var FADEIN = "fadeIn";

var BORDER_BRIGHTNESS = 0.8;
var TOOLTIP_OFFSET = 5;
var START_SCALE = browser$1.msie ? 0.001 : 0;
var ERROR_LOW_FIELD = "errorLow";
var ERROR_HIGH_FIELD = "errorHigh";
var X_ERROR_LOW_FIELD = "xErrorLow";
var X_ERROR_HIGH_FIELD = "xErrorHigh";
var Y_ERROR_LOW_FIELD = "yErrorLow";
var Y_ERROR_HIGH_FIELD = "yErrorHigh";
var LINE_MARKER_SIZE = 8;
var ZERO = "zero";
var INTERPOLATE = "interpolate";
var GAP = "gap";
var ABOVE = "above";
var BELOW = "below";

var SMOOTH = "smooth";
var STEP = "step";

var AREA = "area";
var BAR = "bar";
var BOX_PLOT = "boxPlot";
var BUBBLE = "bubble";
var BULLET = "bullet";
var CANDLESTICK = "candlestick";
var COLUMN = "column";
var DONUT = "donut";
var FUNNEL = "funnel";
var HEATMAP = "heatmap";
var HORIZONTAL_WATERFALL = "horizontalWaterfall";
var LINE = "line";
var OHLC = "ohlc";
var PIE = "pie";
var POLAR_AREA = "polarArea";
var POLAR_LINE = "polarLine";
var POLAR_SCATTER = "polarScatter";
var RADAR_AREA = "radarArea";
var RADAR_COLUMN = "radarColumn";
var RADAR_LINE = "radarLine";
var RANGE_AREA = "rangeArea";
var RANGE_BAR = "rangeBar";
var RANGE_COLUMN = "rangeColumn";
var SCATTER = "scatter";
var SCATTER_LINE = "scatterLine";
var VERTICAL_AREA = "verticalArea";
var VERTICAL_BOX_PLOT = "verticalBoxPlot";
var VERTICAL_BULLET = "verticalBullet";
var VERTICAL_LINE = "verticalLine";
var VERTICAL_RANGE_AREA = "verticalRangeArea";
var WATERFALL = "waterfall";
var EQUALLY_SPACED_SERIES = [
    BAR, COLUMN, OHLC, CANDLESTICK, BOX_PLOT, VERTICAL_BOX_PLOT,
    BULLET, RANGE_COLUMN, RANGE_BAR, WATERFALL, HORIZONTAL_WATERFALL
];

var LEGEND_ITEM_CLICK = "legendItemClick";
var LEGEND_ITEM_HOVER = "legendItemHover";
var LEGEND_ITEM_LEAVE = "legendItemLeave";
var SERIES_CLICK = "seriesClick";
var SERIES_HOVER = "seriesHover";
var SERIES_OVER = "seriesOver";
var SERIES_LEAVE = "seriesLeave";
var PLOT_AREA_CLICK = "plotAreaClick";
var PLOT_AREA_HOVER = "plotAreaHover";
var PLOT_AREA_LEAVE = "plotAreaLeave";
var DRAG = "drag";
var DRAG_END = "dragEnd";
var DRAG_START = "dragStart";
var ZOOM_START = "zoomStart";
var ZOOM = "zoom";
var ZOOM_END = "zoomEnd";
var SELECT_START = "selectStart";
var SELECT = "select";
var SELECT_END = "selectEnd";
var RENDER = "render";
var SHOW_TOOLTIP = "showTooltip";
var HIDE_TOOLTIP = "hideTooltip";
var PANE_RENDER = "paneRender";

var LOGARITHMIC = "log";
var CATEGORY = "category";

var INSIDE_END = "insideEnd";
var INSIDE_BASE = "insideBase";
var OUTSIDE_END = "outsideEnd";

var MOUSEWHEEL = "DOMMouseScroll mousewheel";
var MOUSEWHEEL_DELAY = 150;
var MOUSEWHEEL_ZOOM_RATE = 0.3;

var DEFAULT_ERROR_BAR_WIDTH = 4;

var ErrorBarBase = (function (ChartElement$$1) {
    function ErrorBarBase(low, high, isVertical, chart, series, options) {
        ChartElement$$1.call(this, options);

        this.low = low;
        this.high = high;
        this.isVertical = isVertical;
        this.chart = chart;
        this.series = series;
    }

    if ( ChartElement$$1 ) ErrorBarBase.__proto__ = ChartElement$$1;
    ErrorBarBase.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ErrorBarBase.prototype.constructor = ErrorBarBase;

    ErrorBarBase.prototype.reflow = function reflow (targetBox) {
        var endCaps = this.options.endCaps;
        var isVertical = this.isVertical;
        var axis = this.getAxis();
        var valueBox = axis.getSlot(this.low, this.high);
        var centerBox = targetBox.center();
        var capsWidth = this.getCapsWidth(targetBox, isVertical);
        var capValue = isVertical ? centerBox.x : centerBox.y;
        var capStart = capValue - capsWidth;
        var capEnd = capValue + capsWidth;
        var linePoints;

        if (isVertical) {
            linePoints = [
                new Point(centerBox.x, valueBox.y1),
                new Point(centerBox.x, valueBox.y2)
            ];
            if (endCaps) {
                linePoints.push(new Point(capStart, valueBox.y1),
                    new Point(capEnd, valueBox.y1),
                    new Point(capStart, valueBox.y2),
                    new Point(capEnd, valueBox.y2));
            }
            this.box = new Box(capStart, valueBox.y1, capEnd, valueBox.y2);
        } else {
            linePoints = [
                new Point(valueBox.x1, centerBox.y),
                new Point(valueBox.x2, centerBox.y)
            ];
            if (endCaps) {
                linePoints.push(new Point(valueBox.x1, capStart),
                    new Point(valueBox.x1, capEnd),
                    new Point(valueBox.x2, capStart),
                    new Point(valueBox.x2, capEnd));
            }
            this.box = new Box(valueBox.x1, capStart, valueBox.x2, capEnd);
        }

        this.linePoints = linePoints;
    };

    ErrorBarBase.prototype.getCapsWidth = function getCapsWidth (box, isVertical) {
        var boxSize = isVertical ? box.width() : box.height();
        var capsWidth = Math.min(Math.floor(boxSize / 2), DEFAULT_ERROR_BAR_WIDTH) || DEFAULT_ERROR_BAR_WIDTH;

        return capsWidth;
    };

    ErrorBarBase.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var options = this.options;
        var visual = options.visual;

        if (visual) {
            this.visual = visual({
                low: this.low,
                high: this.high,
                rect: this.box.toRect(),
                sender: this.getSender(),
                options: {
                    endCaps: options.endCaps,
                    color: options.color,
                    line: options.line
                },
                createVisual: function () {
                    this$1.createDefaultVisual();
                    var defaultVisual = this$1.visual;
                    delete this$1.visual;
                    return defaultVisual;
                }
            });
        } else {
            this.createDefaultVisual();
        }
    };

    ErrorBarBase.prototype.createDefaultVisual = function createDefaultVisual () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var linePoints = ref.linePoints;
        var lineOptions = {
            stroke: {
                color: options.color,
                width: options.line.width,
                dashType: options.line.dashType
            }
        };

        ChartElement$$1.prototype.createVisual.call(this);

        for (var idx = 0; idx < linePoints.length; idx += 2) {
            var line = new _progress_kendoDrawing.drawing.Path(lineOptions)
                .moveTo(linePoints[idx].x, linePoints[idx].y)
                .lineTo(linePoints[idx + 1].x, linePoints[idx + 1].y);

            alignPathToPixel(line);
            this$1.visual.append(line);
        }
    };

    return ErrorBarBase;
}(ChartElement));

setDefaultOptions(ErrorBarBase, {
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    },
    endCaps: true,
    line: {
        width: 2
    },
    zIndex: 1
});

var CategoricalErrorBar = (function (ErrorBarBase$$1) {
    function CategoricalErrorBar () {
        ErrorBarBase$$1.apply(this, arguments);
    }

    if ( ErrorBarBase$$1 ) CategoricalErrorBar.__proto__ = ErrorBarBase$$1;
    CategoricalErrorBar.prototype = Object.create( ErrorBarBase$$1 && ErrorBarBase$$1.prototype );
    CategoricalErrorBar.prototype.constructor = CategoricalErrorBar;

    CategoricalErrorBar.prototype.getAxis = function getAxis () {
        var axis = this.chart.seriesValueAxis(this.series);

        return axis;
    };

    return CategoricalErrorBar;
}(ErrorBarBase));

var MAX_EXPAND_DEPTH = 5;

function evalOptions(options, context, state, dryRun) {
    if ( state === void 0 ) state = {};
    if ( dryRun === void 0 ) dryRun = false;

    var defaults = state.defaults = state.defaults || {};
    var depth = state.depth = state.depth || 0;
    var needsEval = false;

    state.excluded = state.excluded || [];

    if (depth > MAX_EXPAND_DEPTH) {
        return null;
    }

    for (var property in options) {
        if (!inArray(property, state.excluded) && options.hasOwnProperty(property)) {
            var propValue = options[property];
            if (isFunction(propValue)) {
                needsEval = true;
                if (!dryRun) {
                    options[property] = valueOrDefault(propValue(context), defaults[property]);
                }
            } else if (isObject(propValue)) {
                if (!dryRun) {
                    state.defaults = defaults[property];
                }
                state.depth++;
                needsEval = evalOptions(propValue, context, state, dryRun) || needsEval;
                state.depth--;
            }
        }
    }

    return needsEval;
}

function categoriesCount$1(series) {
    var seriesCount = series.length;
    var categories = 0;

    for (var i = 0; i < seriesCount; i++) {
        categories = Math.max(categories, series[i].data.length);
    }

    return categories;
}

var CategoricalChart = (function (ChartElement$$1) {
    function CategoricalChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this.categoryAxis = plotArea.seriesCategoryAxis(options.series[0]);

        // Value axis ranges grouped by axis name, e.g.:
        // primary: { min: 0, max: 1 }
        this.valueAxisRanges = {};

        this.points = [];
        this.categoryPoints = [];
        this.seriesPoints = [];
        this.seriesOptions = [];
        this._evalSeries = [];

        this.render();
    }

    if ( ChartElement$$1 ) CategoricalChart.__proto__ = ChartElement$$1;
    CategoricalChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    CategoricalChart.prototype.constructor = CategoricalChart;

    CategoricalChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    CategoricalChart.prototype.pointOptions = function pointOptions (series, seriesIx) {
        var options = this.seriesOptions[seriesIx];
        if (!options) {
            var defaults = this.pointType().prototype.defaults;
            this.seriesOptions[seriesIx] = options = deepExtend({ }, defaults, {
                vertical: !this.options.invertAxes
            }, series);
        }

        return options;
    };

    CategoricalChart.prototype.plotValue = function plotValue (point) {
        if (!point) {
            return 0;
        }

        if (this.options.isStacked100 && isNumber(point.value)) {
            var categoryIx = point.categoryIx;
            var categoryPoints = this.categoryPoints[categoryIx];
            var otherValues = [];
            var categorySum = 0;

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];
                if (other) {
                    var stack = point.series.stack;
                    var otherStack = other.series.stack;

                    if ((stack && otherStack) && stack.group !== otherStack.group) {
                        continue;
                    }

                    if (isNumber(other.value)) {
                        categorySum += Math.abs(other.value);
                        otherValues.push(Math.abs(other.value));
                    }
                }
            }

            if (categorySum > 0) {
                return point.value / categorySum;
            }
        }

        return point.value;
    };

    CategoricalChart.prototype.plotRange = function plotRange (point, startValue) {
        var this$1 = this;
        if ( startValue === void 0 ) startValue = 0;

        var categoryPoints = this.categoryPoints[point.categoryIx];

        if (this.options.isStacked) {
            var plotValue = this.plotValue(point);
            var positive = plotValue >= 0;
            var prevValue = startValue;
            var isStackedBar = false;

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];

                if (point === other) {
                    break;
                }

                var stack = point.series.stack;
                var otherStack = other.series.stack;
                if (stack && otherStack) {
                    if (typeof stack === STRING && stack !== otherStack) {
                        continue;
                    }

                    if (stack.group && stack.group !== otherStack.group) {
                        continue;
                    }
                }

                var otherValue = this$1.plotValue(other);
                if ((otherValue >= 0 && positive) ||
                    (otherValue < 0 && !positive)) {
                    prevValue += otherValue;
                    plotValue += otherValue;
                    isStackedBar = true;

                    if (this$1.options.isStacked100) {
                        plotValue = Math.min(plotValue, 1);
                    }
                }
            }

            if (isStackedBar) {
                prevValue -= startValue;
            }

            return [ prevValue, plotValue ];
        }

        var series = point.series;
        var valueAxis = this.seriesValueAxis(series);
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);

        return [ axisCrossingValue, convertableToNumber(point.value) ? point.value : axisCrossingValue ];
    };

    CategoricalChart.prototype.stackLimits = function stackLimits (axisName, stackName) {
        var this$1 = this;

        var min = MAX_VALUE;
        var max = MIN_VALUE;

        for (var i = 0; i < this.categoryPoints.length; i++) {
            var categoryPoints = this$1.categoryPoints[i];
            if (!categoryPoints) {
                continue;
            }

            for (var pIx = 0; pIx < categoryPoints.length; pIx++) {
                var point = categoryPoints[pIx];
                if (point) {
                    if (point.series.stack === stackName || point.series.axis === axisName) {
                        var to = this$1.plotRange(point, 0)[1];
                        if (defined(to) && isFinite(to)) {
                            max = Math.max(max, to);
                            min = Math.min(min, to);
                        }
                    }
                }
            }
        }

        return { min: min, max: max };
    };

    CategoricalChart.prototype.updateStackRange = function updateStackRange () {
        var this$1 = this;

        var ref = this.options;
        var isStacked = ref.isStacked;
        var chartSeries = ref.series;
        var limitsCache = {};

        if (isStacked) {
            for (var i = 0; i < chartSeries.length; i++) {
                var series = chartSeries[i];
                var axisName = series.axis;
                var key = axisName + series.stack;

                var limits = limitsCache[key];
                if (!limits) {
                    limits = this$1.stackLimits(axisName, series.stack);

                    var errorTotals = this$1.errorTotals;
                    if (errorTotals) {
                        if (errorTotals.negative.length) {
                            limits.min = Math.min(limits.min, sparseArrayLimits(errorTotals.negative).min);
                        }
                        if (errorTotals.positive.length) {
                            limits.max = Math.max(limits.max, sparseArrayLimits(errorTotals.positive).max);
                        }
                    }

                    if (limits.min !== MAX_VALUE || limits.max !== MIN_VALUE) {
                        limitsCache[key] = limits;
                    } else {
                        limits = null;
                    }
                }

                if (limits) {
                    this$1.valueAxisRanges[axisName] = limits;
                }
            }
        }
    };

    CategoricalChart.prototype.addErrorBar = function addErrorBar (point, data, categoryIx) {
        var value = point.value;
        var series = point.series;
        var seriesIx = point.seriesIx;
        var errorBars = point.options.errorBars;
        var lowValue = data.fields[ERROR_LOW_FIELD];
        var highValue = data.fields[ERROR_HIGH_FIELD];
        var errorRange;

        if (isNumber(lowValue) && isNumber(highValue)) {
            errorRange = { low: lowValue, high: highValue };
        } else if (errorBars && defined(errorBars.value)) {
            this.seriesErrorRanges = this.seriesErrorRanges || [];
            this.seriesErrorRanges[seriesIx] = this.seriesErrorRanges[seriesIx] ||
                new ErrorRangeCalculator(errorBars.value, series, VALUE);

            errorRange = this.seriesErrorRanges[seriesIx].getErrorRange(value, errorBars.value);
        }

        if (errorRange) {
            point.low = errorRange.low;
            point.high = errorRange.high;
            this.addPointErrorBar(point, categoryIx);
        }
    };

    CategoricalChart.prototype.addPointErrorBar = function addPointErrorBar (point, categoryIx) {
        var isVertical = !this.options.invertAxes;
        var options = point.options.errorBars;
        var series = point.series;
        var low = point.low;
        var high = point.high;

        if (this.options.isStacked) {
            var stackedErrorRange = this.stackedErrorRange(point, categoryIx);
            low = stackedErrorRange.low;
            high = stackedErrorRange.high;
        } else {
            var fields = { categoryIx: categoryIx, series: series };
            this.updateRange({ value: low }, fields);
            this.updateRange({ value: high }, fields);
        }

        var errorBar = new CategoricalErrorBar(low, high, isVertical, this, series, options);
        point.errorBars = [ errorBar ];
        point.append(errorBar);
    };

    CategoricalChart.prototype.stackedErrorRange = function stackedErrorRange (point, categoryIx) {
        var plotValue = this.plotRange(point, 0)[1] - point.value;
        var low = point.low + plotValue;
        var high = point.high + plotValue;

        this.errorTotals = this.errorTotals || { positive: [], negative: [] };

        if (low < 0) {
            this.errorTotals.negative[categoryIx] = Math.min(this.errorTotals.negative[categoryIx] || 0, low);
        }

        if (high > 0) {
            this.errorTotals.positive[categoryIx] = Math.max(this.errorTotals.positive[categoryIx] || 0, high);
        }

        return { low: low, high: high };
    };

    CategoricalChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var series = fields.series;
        var seriesIx = fields.seriesIx;

        var categoryPoints = this.categoryPoints[categoryIx];
        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        var seriesPoints = this.seriesPoints[seriesIx];
        if (!seriesPoints) {
            this.seriesPoints[seriesIx] = seriesPoints = [];
        }

        var point = this.createPoint(data, fields);
        if (point) {
            Object.assign(point, fields);

            point.owner = this;
            point.noteText = data.fields.noteText;
            if (!defined(point.dataItem)) {
                point.dataItem = series.data[categoryIx];
            }
            this.addErrorBar(point, data, categoryIx);
        }

        this.points.push(point);
        seriesPoints.push(point);
        categoryPoints.push(point);

        this.updateRange(data.valueFields, fields);
    };

    CategoricalChart.prototype.evalPointOptions = function evalPointOptions (options, value, category, categoryIx, series, seriesIx) {
        var state = { defaults: series._defaults, excluded: [ "data", "aggregate", "_events", "tooltip", "content", "template", "visual", "toggle", "_outOfRangeMinPoint", "_outOfRangeMaxPoint" ] };

        var doEval = this._evalSeries[seriesIx];
        if (!defined(doEval)) {
            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);
        }

        var pointOptions = options;
        if (doEval) {
            pointOptions = deepExtend({}, pointOptions);
            evalOptions(pointOptions, {
                value: value,
                category: category,
                index: categoryIx,
                series: series,
                dataItem: series.data[categoryIx]
            }, state);
        }

        return pointOptions;
    };

    CategoricalChart.prototype.updateRange = function updateRange (data, fields) {
        var axisName = fields.series.axis;
        var value = data.value;
        var axisRange = this.valueAxisRanges[axisName];

        if (isFinite(value) && value !== null) {
            axisRange = this.valueAxisRanges[axisName] =
                axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, value);
            axisRange.max = Math.max(axisRange.max, value);
        }
    };

    CategoricalChart.prototype.seriesValueAxis = function seriesValueAxis (series) {
        var plotArea = this.plotArea;
        var axisName = series.axis;
        var axis = axisName ? plotArea.namedValueAxes[axisName] : plotArea.valueAxis;

        if (!axis) {
            throw new Error("Unable to locate value axis with name " + axisName);
        }

        return axis;
    };

    CategoricalChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var categorySlots = this.categorySlots = [];
        var chartPoints = this.points;
        var categoryAxis = this.categoryAxis;
        var pointIx = 0;

        this.traverseDataPoints(function (data, fields) {
            var categoryIx = fields.categoryIx;
            var currentSeries = fields.series;

            var valueAxis = this$1.seriesValueAxis(currentSeries);
            var point = chartPoints[pointIx++];

            var categorySlot = categorySlots[categoryIx];
            if (!categorySlot) {
                categorySlots[categoryIx] = categorySlot =
                    this$1.categorySlot(categoryAxis, categoryIx, valueAxis);
            }

            if (point) {
                var plotRange = this$1.plotRange(point, valueAxis.startValue());
                var valueSlot = this$1.valueSlot(valueAxis, plotRange);
                if (valueSlot) {
                    var pointSlot = this$1.pointSlot(categorySlot, valueSlot);

                    point.aboveAxis = this$1.aboveAxis(point, valueAxis);
                    point.stackValue = plotRange[1];

                    if (this$1.options.isStacked100) {
                        point.percentage = this$1.plotValue(point);
                    }

                    this$1.reflowPoint(point, pointSlot);
                } else {
                    point.visible = false;
                }
            }
        });

        this.reflowCategories(categorySlots);
        if (!this.options.clip && this.options.limitPoints && this.points.length) {
            this.limitPoints();
        }

        this.box = targetBox;
    };

    CategoricalChart.prototype.valueSlot = function valueSlot (valueAxis, plotRange) {
        return valueAxis.getSlot(plotRange[0], plotRange[1], !this.options.clip);
    };

    CategoricalChart.prototype.limitPoints = function limitPoints () {
        var this$1 = this;

        var categoryPoints = this.categoryPoints;
        var points = categoryPoints[0].concat(last(categoryPoints));
        for (var idx = 0; idx < points.length; idx++) {
            if (points[idx]) {
                this$1.limitPoint(points[idx]);
            }
        }
    };

    CategoricalChart.prototype.limitPoint = function limitPoint (point) {
        var limittedSlot = this.categoryAxis.limitSlot(point.box);
        if (!limittedSlot.equals(point.box)) {
            point.reflow(limittedSlot);
        }
    };

    CategoricalChart.prototype.aboveAxis = function aboveAxis (point, valueAxis) {
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);
        var value = point.value;

        return valueAxis.options.reverse ?
            value < axisCrossingValue : value >= axisCrossingValue;
    };

    CategoricalChart.prototype.categoryAxisCrossingValue = function categoryAxisCrossingValue (valueAxis) {
        var categoryAxis = this.categoryAxis;
        var options = valueAxis.options;
        var crossingValues = [].concat(
            options.axisCrossingValues || options.axisCrossingValue
        );

        return crossingValues[categoryAxis.axisIndex || 0] || 0;
    };

    CategoricalChart.prototype.reflowPoint = function reflowPoint (point, pointSlot) {
        point.reflow(pointSlot);
    };

    CategoricalChart.prototype.reflowCategories = function reflowCategories () { };

    CategoricalChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var options = this.options;
        var invertAxes = options.invertAxes;
        var slotX = invertAxes ? valueSlot : categorySlot;
        var slotY = invertAxes ? categorySlot : valueSlot;

        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);
    };

    CategoricalChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx) {
        return categoryAxis.getSlot(categoryIx);
    };

    CategoricalChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var series = this.options.series;
        var count = categoriesCount$1(series);
        var seriesCount = series.length;

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            this$1._outOfRangeCallback(series[seriesIx], "_outOfRangeMinPoint", seriesIx, callback);
        }

        for (var categoryIx = 0; categoryIx < count; categoryIx++) {
            for (var seriesIx$1 = 0; seriesIx$1 < seriesCount; seriesIx$1++) {
                var currentSeries = series[seriesIx$1];
                var currentCategory = this$1.categoryAxis.categoryAt(categoryIx);
                var pointData = this$1._bindPoint(currentSeries, seriesIx$1, categoryIx);

                callback(pointData, {
                    category: currentCategory,
                    categoryIx: categoryIx,
                    categoriesCount: count,
                    series: currentSeries,
                    seriesIx: seriesIx$1
                });
            }
        }

        for (var seriesIx$2 = 0; seriesIx$2 < seriesCount; seriesIx$2++) {
            this$1._outOfRangeCallback(series[seriesIx$2], "_outOfRangeMaxPoint", seriesIx$2, callback);
        }
    };

    CategoricalChart.prototype._outOfRangeCallback = function _outOfRangeCallback (series, field, seriesIx, callback) {
        var outOfRangePoint = series[field];
        if (outOfRangePoint) {
            var categoryIx = outOfRangePoint.categoryIx;
            var pointData = this._bindPoint(series, seriesIx, categoryIx, outOfRangePoint.item);

            callback(pointData, {
                category: outOfRangePoint.category,
                categoryIx: categoryIx,
                series: series,
                seriesIx: seriesIx,
                dataItem: outOfRangePoint.item
            });
        }
    };

    CategoricalChart.prototype._bindPoint = function _bindPoint (series, seriesIx, categoryIx, item) {
        if (!this._bindCache) {
            this._bindCache = [];
        }

        var bindCache = this._bindCache[seriesIx];
        if (!bindCache) {
            bindCache = this._bindCache[seriesIx] = [];
        }

        var data = bindCache[categoryIx];
        if (!data) {
            data = bindCache[categoryIx] = SeriesBinder.current.bindPoint(series, categoryIx, item);
        }

        return data;
    };

    CategoricalChart.prototype.formatPointValue = function formatPointValue (point, format) {
        if (point.value === null) {
            return "";
        }

        return this.chartService.format.auto(format, point.value);
    };

    CategoricalChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields.value;
    };

    return CategoricalChart;
}(ChartElement));

setDefaultOptions(CategoricalChart, {
    series: [],
    invertAxes: false,
    isStacked: false,
    clip: true,
    limitPoints: true
});

var PointEventsMixin = {
    click: function(chart, e) {
        return chart.trigger(
            SERIES_CLICK,
            this.eventArgs(e)
        );
    },

    hover: function(chart, e) {
        return chart.trigger(
            SERIES_HOVER,
            this.eventArgs(e)
        );
    },

    over: function(chart, e) {
        return chart.trigger(
            SERIES_OVER,
            this.eventArgs(e)
        );
    },

    out: function(chart, e) {
        return chart.trigger(
            SERIES_LEAVE,
            this.eventArgs(e)
        );
    },

    eventArgs: function(e) {
        return {
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            category: this.category,
            series: this.series,
            dataItem: this.dataItem,
            runningTotal: this.runningTotal,
            total: this.total,
            element: eventElement(e),
            originalEvent: e,
            point: this
        };
    }
};

var NoteMixin = {
    createNote: function() {
        var options = this.options.notes;
        var text = this.noteText || options.label.text;

        if (options.visible !== false && defined(text) && text !== null) {
            this.note = new Note({
                value: this.value,
                text: text,
                dataItem: this.dataItem,
                category: this.category,
                series: this.series
            }, this.options.notes, this.owner.chartService);

            this.append(this.note);
        }
    }
};

var LinePoint = (function (ChartElement$$1) {
    function LinePoint(value, options) {
        ChartElement$$1.call(this);

        this.value = value;
        this.options = options;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.tooltipTracking = true;
    }

    if ( ChartElement$$1 ) LinePoint.__proto__ = ChartElement$$1;
    LinePoint.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LinePoint.prototype.constructor = LinePoint;

    LinePoint.prototype.render = function render () {
        var ref = this.options;
        var markers = ref.markers;
        var labels = ref.labels;

        if (this._rendered) {
            return;
        }

        this._rendered = true;

        if (markers.visible && markers.size) {
            this.marker = this.createMarker();
            this.append(this.marker);
        }

        if (labels.visible) {
            var labelTemplate = getTemplate(labels);
            var pointData = this.pointData();
            var labelText = this.value;
            if (labelTemplate) {
                labelText = labelTemplate(pointData);
            } else if (labels.format) {
                labelText = this.formatValue(labels.format);
            }
            this.label = new TextBox(labelText,
                deepExtend({
                    align: CENTER,
                    vAlign: CENTER,
                    margin: {
                        left: 5,
                        right: 5
                    },
                    zIndex: valueOrDefault(labels.zIndex, this.series.zIndex)
                }, labels),
                pointData
            );
            this.append(this.label);
        }

        this.createNote();

        if (this.errorBar) {
            this.append(this.errorBar);
        }
    };

    LinePoint.prototype.markerBorder = function markerBorder () {
        var options = this.options.markers;
        var background = options.background;
        var border = deepExtend({ color: this.color }, options.border);

        if (!defined(border.color)) {
            border.color = new _progress_kendoDrawing.Color(background).brightness(BORDER_BRIGHTNESS).toHex();
        }

        return border;
    };

    LinePoint.prototype.createVisual = function createVisual () {};

    LinePoint.prototype.createMarker = function createMarker () {
        var options = this.options.markers;
        var marker = new ShapeElement({
            type: options.type,
            width: options.size,
            height: options.size,
            rotation: options.rotation,
            background: options.background,
            border: this.markerBorder(),
            opacity: this.series.opacity || options.opacity,
            zIndex: valueOrDefault(options.zIndex, this.series.zIndex),
            animation: options.animation,
            visual: options.visual
        }, {
            dataItem: this.dataItem,
            value: this.value,
            series: this.series,
            category: this.category
        });

        return marker;
    };

    LinePoint.prototype.markerBox = function markerBox () {
        if (!this.marker) {
            this.marker = this.createMarker();
            this.marker.reflow(this._childBox);
        }

        return this.marker.box;
    };

    LinePoint.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var aboveAxis = ref.aboveAxis;
        var vertical = options.vertical;

        this.render();

        this.box = targetBox;
        var childBox = targetBox.clone();

        if (vertical) {
            if (aboveAxis) {
                childBox.y1 -= childBox.height();
            } else {
                childBox.y2 += childBox.height();
            }
        } else {
            if (aboveAxis) {
                childBox.x1 += childBox.width();
            } else {
                childBox.x2 -= childBox.width();
            }
        }

        this._childBox = childBox;
        if (this.marker) {
            this.marker.reflow(childBox);
        }

        this.reflowLabel(childBox);

        if (this.errorBars) {
            for (var i = 0; i < this.errorBars.length; i++) {
                this$1.errorBars[i].reflow(childBox);
            }
        }

        if (this.note) {
            var noteTargetBox = this.markerBox();

            if (!(options.markers.visible && options.markers.size)) {
                var center = noteTargetBox.center();
                noteTargetBox = new Box(center.x, center.y, center.x, center.y);
            }

            this.note.reflow(noteTargetBox);
        }
    };

    LinePoint.prototype.reflowLabel = function reflowLabel (box) {
        var ref = this;
        var options = ref.options;
        var label = ref.label;
        var anchor = options.labels.position;

        if (label) {
            anchor = anchor === ABOVE ? TOP : anchor;
            anchor = anchor === BELOW ? BOTTOM : anchor;

            label.reflow(box);
            label.box.alignTo(this.markerBox(), anchor);
            label.reflow(label.box);
        }
    };

    LinePoint.prototype.createHighlight = function createHighlight () {
        var markers = this.options.highlight.markers;
        var defaultColor = this.markerBorder().color;
        var options = this.options.markers;
        var size = options.size + (options.border.width || 0) + (markers.border.width || 0);

        var shadow = new ShapeElement({
            type: options.type,
            width: size,
            height: size,
            rotation: options.rotation,
            background: markers.color || defaultColor,
            border: {
                color: markers.border.color,
                width: markers.border.width,
                opacity: valueOrDefault(markers.border.opacity, 1)
            },
            opacity: valueOrDefault(markers.opacity, 1)
        });
        shadow.reflow(this._childBox);

        return shadow.getElement();
    };

    LinePoint.prototype.highlightVisual = function highlightVisual () {
        return (this.marker || {}).visual;
    };

    LinePoint.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var marker = this.marker;
        var visual, rect;

        if (marker) {
            rect = marker.paddingBox.toRect();
            visual = marker.visual;
        } else {
            var size = this.options.markers.size;
            var halfSize = size / 2;
            var center = this.box.center();
            rect = new _progress_kendoDrawing.geometry.Rect([ center.x - halfSize, center.y - halfSize ], [ size, size ]);
        }

        return {
            options: this.options,
            rect: rect,
            visual: visual
        };
    };

    LinePoint.prototype.tooltipAnchor = function tooltipAnchor () {
        var markerBox = this.markerBox();
        var clipBox = this.owner.pane.clipBox();
        var showTooltip = !clipBox || clipBox.overlaps(markerBox);

        if (showTooltip) {
            var x = markerBox.x2 + TOOLTIP_OFFSET;
            var horizontalAlign = LEFT;
            var y, verticalAlign;

            if (this.aboveAxis) {
                y = markerBox.y1;
                verticalAlign = BOTTOM;
            } else {
                y = markerBox.y2;
                verticalAlign = TOP;
            }

            return {
                point: new Point(x, y),
                align: {
                    horizontal: horizontalAlign,
                    vertical: verticalAlign
                }
            };
        }
    };

    LinePoint.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    LinePoint.prototype.overlapsBox = function overlapsBox (box) {
        var markerBox = this.markerBox();
        return markerBox.overlaps(box);
    };

    LinePoint.prototype.unclipElements = function unclipElements () {
        if (this.label) {
            this.label.options.noclip = true;
        }

        if (this.note) {
            this.note.options.noclip = true;
        }
    };

    LinePoint.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            series: this.series
        };
    };

    return LinePoint;
}(ChartElement));

LinePoint.prototype.defaults = {
    vertical: true,
    markers: {
        visible: true,
        background: WHITE,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        border: {
            width: 2
        },
        opacity: 1
    },
    labels: {
        visible: false,
        position: ABOVE,
        margin: getSpacing(3),
        padding: getSpacing(4),
        animation: {
            type: FADEIN,
            delay: INITIAL_ANIMATION_DURATION
        }
    },
    notes: {
        label: {}
    },
    highlight: {
        markers: {
            border: {
                color: "#fff",
                width: 2
            }
        },
        zIndex: HIGHLIGHT_ZINDEX
    },
    errorBars: {
        line: {
            width: 1
        }
    }
};

deepExtend(LinePoint.prototype, PointEventsMixin);
deepExtend(LinePoint.prototype, NoteMixin);

var LineSegment = (function (ChartElement$$1) {
    function LineSegment(linePoints, series, seriesIx) {
        ChartElement$$1.call(this);

        this.linePoints = linePoints;
        this.series = series;
        this.seriesIx = seriesIx;
    }

    if ( ChartElement$$1 ) LineSegment.__proto__ = ChartElement$$1;
    LineSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LineSegment.prototype.constructor = LineSegment;

    LineSegment.prototype.points = function points () {
        return this.toGeometryPoints(this.linePoints);
    };

    LineSegment.prototype.toGeometryPoints = function toGeometryPoints (points) {
        var result = [];
        for (var i = 0, length = points.length; i < length; i++) {
            if (points[i] && points[i].visible !== false) {
                result.push(points[i]._childBox.toRect().center());
            }
        }

        return result;
    };

    LineSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var customVisual = this.series.visual;
        if (customVisual) {
            this.visual = customVisual({
                points: this.toGeometryPoints(this.linePoints),
                series: this.series,
                sender: this.getSender(),
                createVisual: function () {
                    this$1.segmentVisual();

                    return this$1.visual;
                }
            });
            if (this.visual && !defined(this.visual.options.zIndex)) {
                this.visual.options.zIndex = this.series.zIndex;
            }
        } else {
            this.segmentVisual();
        }
    };

    LineSegment.prototype.segmentVisual = function segmentVisual () {
        var ref = this;
        var options = ref.options;
        var series = ref.series;
        var color = series.color;
        var defaults = series._defaults;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        var line = _progress_kendoDrawing.drawing.Path.fromPoints(this.points(), {
            stroke: {
                color: color,
                width: series.width,
                opacity: series.opacity,
                dashType: series.dashType
            },
            zIndex: series.zIndex
        });

        if (options.closed) {
            line.close();
        }

        this.visual = line;
    };

    LineSegment.prototype.aliasFor = function aliasFor (e, coords) {
        return this.parent.getNearestPoint(coords.x, coords.y, this.seriesIx);
    };

    return LineSegment;
}(ChartElement));

setDefaultOptions(LineSegment, {
    closed: false
});

var StepLineMixin = {
    calculateStepPoints: function(points) {
        var categoryAxis = this.parent.plotArea.seriesCategoryAxis(this.series);
        var ref = categoryAxis.options;
        var justified = ref.justified;
        var vertical = ref.vertical;
        var reverse = ref.reverse;

        var stepAxis = vertical ? X : Y;
        var axis = vertical ? Y : X;
        var stepDir = reverse ? 2 : 1;
        var dir = stepDir;

        var previousPoint = toGeometryPoint(points[0], stepAxis, stepDir, axis, dir);
        var result = [ previousPoint ];

        for (var idx = 1; idx < points.length; idx++) {
            var point = toGeometryPoint(points[idx], stepAxis, stepDir, axis, dir);

            if (previousPoint[stepAxis] !== point[stepAxis]) {
                var stepPoint = new _progress_kendoDrawing.geometry.Point();
                stepPoint[stepAxis] = previousPoint[stepAxis];
                stepPoint[axis] = point[axis];

                result.push(stepPoint, point);
            }

            previousPoint = point;
        }

        if (!justified) {
            result.push(toGeometryPoint(last(points), stepAxis, stepDir, axis, reverse ? 1 : 2));
        } else if (previousPoint !== last(result)) {
            result.push(previousPoint);
        }

        return result;

    }
};

function toGeometryPoint(lintPoint, stepAxis, stepDir, axis, dir) {
    var box = lintPoint.box;
    var result = new _progress_kendoDrawing.geometry.Point();

    result[stepAxis] = box[stepAxis + stepDir];
    result[axis] = box[axis + dir];

    return result;
}

var StepLineSegment = (function (LineSegment$$1) {
    function StepLineSegment () {
        LineSegment$$1.apply(this, arguments);
    }

    if ( LineSegment$$1 ) StepLineSegment.__proto__ = LineSegment$$1;
    StepLineSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    StepLineSegment.prototype.constructor = StepLineSegment;

    StepLineSegment.prototype.points = function points () {
        return this.calculateStepPoints(this.linePoints);
    };

    return StepLineSegment;
}(LineSegment));

deepExtend(StepLineSegment.prototype, StepLineMixin);

var SplineSegment = (function (LineSegment$$1) {
    function SplineSegment () {
        LineSegment$$1.apply(this, arguments);
    }

    if ( LineSegment$$1 ) SplineSegment.__proto__ = LineSegment$$1;
    SplineSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    SplineSegment.prototype.constructor = SplineSegment;

    SplineSegment.prototype.segmentVisual = function segmentVisual () {
        var series = this.series;
        var defaults = series._defaults;
        var color = series.color;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        var curveProcessor = new CurveProcessor(this.options.closed);
        var segments = curveProcessor.process(this.points());
        var curve = new _progress_kendoDrawing.drawing.Path({
            stroke: {
                color: color,
                width: series.width,
                opacity: series.opacity,
                dashType: series.dashType
            },
            zIndex: series.zIndex
        });

        curve.segments.push.apply(curve.segments, segments);

        this.visual = curve;
    };

    return SplineSegment;
}(LineSegment));

var LineChartMixin = {
    renderSegments: function() {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesPoints = ref.seriesPoints;
        var series = options.series;
        var seriesCount = seriesPoints.length;
        var lastSegment;

        this._segments = [];

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            var currentSeries = series[seriesIx];
            var sortedPoints = this$1.sortPoints(seriesPoints[seriesIx]);
            var pointCount = sortedPoints.length;
            var linePoints = [];

            for (var pointIx = 0; pointIx < pointCount; pointIx++) {
                var point = sortedPoints[pointIx];
                if (point) {
                    linePoints.push(point);
                } else if (this$1.seriesMissingValues(currentSeries) !== INTERPOLATE) {
                    if (linePoints.length > 1) {
                        lastSegment = this$1.createSegment(
                            linePoints, currentSeries, seriesIx, lastSegment
                        );
                        this$1._addSegment(lastSegment);
                    }
                    linePoints = [];
                }
            }

            if (linePoints.length > 1) {
                lastSegment = this$1.createSegment(
                    linePoints, currentSeries, seriesIx, lastSegment
                );
                this$1._addSegment(lastSegment);
            }
        }

        this.children.unshift.apply(this.children, this._segments);
    },

    _addSegment: function(segment) {
        this._segments.push(segment);
        segment.parent = this;
    },

    sortPoints: function(points) {
        return points;
    },

    seriesMissingValues: function(series) {
        var missingValues = series.missingValues;
        var assumeZero = !missingValues && this.options.isStacked;

        return assumeZero ? ZERO : missingValues || INTERPOLATE;
    },

    getNearestPoint: function(x, y, seriesIx) {
        var target = new Point(x, y);
        var allPoints = this.seriesPoints[seriesIx];
        var nearestPointDistance = MAX_VALUE;
        var nearestPoint;

        for (var i = 0; i < allPoints.length; i++) {
            var point = allPoints[i];

            if (point && defined(point.value) && point.value !== null && point.visible !== false) {
                var pointBox = point.box;
                var pointDistance = pointBox.center().distanceTo(target);

                if (pointDistance < nearestPointDistance) {
                    nearestPoint = point;
                    nearestPointDistance = pointDistance;
                }
            }
        }

        return nearestPoint;
    }
};

var ClipAnimation = (function (superclass) {
    function ClipAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) ClipAnimation.__proto__ = superclass;
    ClipAnimation.prototype = Object.create( superclass && superclass.prototype );
    ClipAnimation.prototype.constructor = ClipAnimation;

    ClipAnimation.prototype.setup = function setup () {
        this._setEnd(this.options.box.x1);
    };

    ClipAnimation.prototype.step = function step (pos) {
        var box = this.options.box;
        this._setEnd(interpolateValue(box.x1, box.x2, pos));
    };

    ClipAnimation.prototype._setEnd = function _setEnd (x) {
        var element = this.element;
        var segments = element.segments;
        var topRight = segments[1].anchor();
        var bottomRight = segments[2].anchor();

        element.suspend();
        topRight.setX(x);
        element.resume();
        bottomRight.setX(x);
    };

    return ClipAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(ClipAnimation, {
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register("clip", ClipAnimation);

function anyHasZIndex(elements) {
    for (var idx = 0; idx < elements.length; idx++) {
        if (defined(elements[idx].zIndex)) {
            return true;
        }
    }
}

var ClipAnimationMixin = {
    createAnimation: function() {
        var root = this.getRoot();
        if (root && (root.options || {}).transitions !== false) {
            var box = root.size();
            var clipPath = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect());
            this.visual.clip(clipPath);
            this.animation = new ClipAnimation(clipPath, {
                box: box
            });
            if (anyHasZIndex(this.options.series)) {
                this._setChildrenAnimation(clipPath);
            }
        }
    },

    _setChildrenAnimation: function(clipPath) {
        var points = this.animationPoints();

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            if (point && point.visual && defined(point.visual.options.zIndex)) {
                point.visual.clip(clipPath);
            }
        }
    }
};

var LineChart = (function (CategoricalChart$$1) {
    function LineChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) LineChart.__proto__ = CategoricalChart$$1;
    LineChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    LineChart.prototype.constructor = LineChart;

    LineChart.prototype.render = function render () {

        CategoricalChart$$1.prototype.render.call(this);

        this.updateStackRange();
        this.renderSegments();
    };

    LineChart.prototype.pointType = function pointType () {
        return LinePoint;
    };

    LineChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var missingValues = this.seriesMissingValues(series);
        var value = data.valueFields.value;

        if (!defined(value) || value === null) {
            if (missingValues === ZERO) {
                value = 0;
            } else {
                return null;
            }
        }

        var pointOptions = this.pointOptions(series, seriesIx);
        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        var color = data.fields.color || series.color;
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new LinePoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    LineChart.prototype.plotRange = function plotRange (point) {
        var this$1 = this;

        var plotValue = this.plotValue(point);

        if (this.options.isStacked) {
            var categoryIx = point.categoryIx;
            var categoryPoints = this.categoryPoints[categoryIx];

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];

                if (point === other) {
                    break;
                }

                plotValue += this$1.plotValue(other);

                if (this$1.options.isStacked100) {
                    plotValue = Math.min(plotValue, 1);
                }
            }

        }

        return [ plotValue, plotValue ];
    };

    LineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === STEP) {
            pointType = StepLineSegment;
        } else if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx);
    };

    LineChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            result.push((points[idx] || {}).marker);
        }
        return result.concat(this._segments);
    };

    LineChart.prototype.supportsPointInactiveOpacity = function supportsPointInactiveOpacity () {
        return false;
    };

    return LineChart;
}(CategoricalChart));

deepExtend(LineChart.prototype, LineChartMixin, ClipAnimationMixin);

var AreaSegment = (function (LineSegment$$1) {
    function AreaSegment(linePoints, currentSeries, seriesIx, prevSegment, stackPoints) {
        LineSegment$$1.call(this, linePoints, currentSeries, seriesIx);

        this.prevSegment = prevSegment;
        this.stackPoints = stackPoints;
    }

    if ( LineSegment$$1 ) AreaSegment.__proto__ = LineSegment$$1;
    AreaSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    AreaSegment.prototype.constructor = AreaSegment;

    AreaSegment.prototype.createVisual = function createVisual () {
        var series = this.series;
        var defaults = series._defaults;
        var lineOptions = series.line || {};
        var color = series.color;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: series.zIndex
        });

        this.createFill({
            fill: {
                color: color,
                opacity: series.opacity
            },
            stroke: null
        });

        if (lineOptions.width > 0 && lineOptions.visible !== false) {
            this.createStroke({
                stroke: deepExtend({
                    color: color,
                    opacity: series.opacity,
                    lineCap: "butt"
                }, lineOptions)
            });
        }
    };

    AreaSegment.prototype.strokeSegments = function strokeSegments () {
        var segments = this._strokeSegments;

        if (!segments) {
            segments = this._strokeSegments = this.createStrokeSegments();
        }

        return segments;
    };

    AreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.points());
    };

    AreaSegment.prototype.stackSegments = function stackSegments () {
        if (this.prevSegment) {
            return this.prevSegment.createStackSegments(this.stackPoints);
        }

        return this.createStackSegments(this.stackPoints);
    };

    AreaSegment.prototype.createStackSegments = function createStackSegments (stackPoints) {
        return this.segmentsFromPoints(this.toGeometryPoints(stackPoints)).reverse();
    };

    AreaSegment.prototype.segmentsFromPoints = function segmentsFromPoints (points) {
        return points.map(function (point) { return new _progress_kendoDrawing.geometry.Segment(point); });
    };

    AreaSegment.prototype.createStroke = function createStroke (style) {
        var stroke = new _progress_kendoDrawing.drawing.Path(style);
        stroke.segments.push.apply(stroke.segments, this.strokeSegments());

        this.visual.append(stroke);
    };

    AreaSegment.prototype.hasStackSegment = function hasStackSegment () {
        return this.prevSegment || (this.stackPoints && this.stackPoints.length);
    };

    AreaSegment.prototype.createFill = function createFill (style) {
        var strokeSegments = this.strokeSegments();
        var fillSegments = strokeSegments.slice(0);
        var hasStackSegments = this.hasStackSegment();

        if (hasStackSegments) {
            var stackSegments = this.stackSegments();

            append$1(fillSegments, stackSegments);
        }

        var fill = new _progress_kendoDrawing.drawing.Path(style);
        fill.segments.push.apply(fill.segments, fillSegments);

        if (!hasStackSegments && strokeSegments.length > 1) {
            this.fillToAxes(fill);
        }

        this.visual.append(fill);
    };

    AreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var chart = this.parent;
        var invertAxes = chart.options.invertAxes;
        var valueAxis = chart.seriesValueAxis(this.series);
        var crossingValue = chart.categoryAxisCrossingValue(valueAxis);
        var endSlot = valueAxis.getSlot(crossingValue, crossingValue, true);
        var segments = this.strokeSegments();
        var firstPoint = segments[0].anchor();
        var lastPoint = last(segments).anchor();
        var end = invertAxes ? endSlot.x1 : endSlot.y1;

        if (invertAxes) {
            fillPath.lineTo(end, lastPoint.y)
                    .lineTo(end, firstPoint.y);
        } else {
            fillPath.lineTo(lastPoint.x, end)
                    .lineTo(firstPoint.x, end);
        }
    };

    return AreaSegment;
}(LineSegment));

var StepAreaSegment = (function (AreaSegment$$1) {
    function StepAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) StepAreaSegment.__proto__ = AreaSegment$$1;
    StepAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    StepAreaSegment.prototype.constructor = StepAreaSegment;

    StepAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints));
    };

    StepAreaSegment.prototype.createStackSegments = function createStackSegments (stackPoints) {
        return this.segmentsFromPoints(this.calculateStepPoints(stackPoints)).reverse();
    };

    return StepAreaSegment;
}(AreaSegment));

deepExtend(StepAreaSegment.prototype, StepLineMixin);

var SplineAreaSegment = (function (AreaSegment$$1) {
    function SplineAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) SplineAreaSegment.__proto__ = AreaSegment$$1;
    SplineAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    SplineAreaSegment.prototype.constructor = SplineAreaSegment;

    SplineAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        var curveProcessor = new CurveProcessor(this.options.closed);
        var linePoints = this.points();

        return curveProcessor.process(linePoints);
    };

    SplineAreaSegment.prototype.createStackSegments = function createStackSegments () {
        var strokeSegments = this.strokeSegments();
        var stackSegments = [];
        for (var idx = strokeSegments.length - 1; idx >= 0; idx--) {
            var segment = strokeSegments[idx];
            stackSegments.push(new _progress_kendoDrawing.geometry.Segment(
                segment.anchor(),
                segment.controlOut(),
                segment.controlIn()
            ));
        }

        return stackSegments;
    };

    return SplineAreaSegment;
}(AreaSegment));

var AreaChart = (function (LineChart$$1) {
    function AreaChart () {
        LineChart$$1.apply(this, arguments);
    }

    if ( LineChart$$1 ) AreaChart.__proto__ = LineChart$$1;
    AreaChart.prototype = Object.create( LineChart$$1 && LineChart$$1.prototype );
    AreaChart.prototype.constructor = AreaChart;

    AreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx, prevSegment) {
        var isStacked = this.options.isStacked;
        var style = (currentSeries.line || {}).style;
        var previousSegment;

        var stackPoints;
        if (isStacked && seriesIx > 0 && prevSegment) {
            var missingValues = this.seriesMissingValues(currentSeries);
            if (missingValues !== "gap") {
                stackPoints = prevSegment.linePoints;
                previousSegment = prevSegment;
            } else {
                stackPoints = this._gapStackPoints(linePoints, seriesIx, style);
            }
        }

        var pointType;
        if (style === STEP) {
            pointType = StepAreaSegment;
        } else if (style === SMOOTH) {
            pointType = SplineAreaSegment;
        } else {
            pointType = AreaSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
    };

    AreaChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        LineChart$$1.prototype.reflow.call(this, targetBox);

        var stackPoints = this._stackPoints;
        if (stackPoints) {
            for (var idx = 0; idx < stackPoints.length; idx++) {
                var stackPoint = stackPoints[idx];
                var pointSlot = this$1.categoryAxis.getSlot(stackPoint.categoryIx);
                stackPoint.reflow(pointSlot);
            }
        }
    };

    AreaChart.prototype._gapStackPoints = function _gapStackPoints (linePoints, seriesIx, style) {
        var this$1 = this;

        var seriesPoints = this.seriesPoints;
        var startIdx = linePoints[0].categoryIx;
        var length = linePoints.length;
        if (startIdx < 0) {
            startIdx = 0;
            length--;
        }

        var endIdx = startIdx + length;
        var pointOffset = this.seriesOptions[0]._outOfRangeMinPoint ? 1 : 0;
        var stackPoints = [];

        this._stackPoints = this._stackPoints || [];
        for (var categoryIx = startIdx; categoryIx < endIdx; categoryIx++) {
            var pointIx = categoryIx + pointOffset;
            var currentSeriesIx = seriesIx;
            var point = (void 0);

            do {
                currentSeriesIx--;
                point = seriesPoints[currentSeriesIx][pointIx];
            } while (currentSeriesIx > 0 && !point);

            if (point) {
                if (style !== STEP && categoryIx > startIdx && !seriesPoints[currentSeriesIx][pointIx - 1]) {
                    stackPoints.push(this$1._previousSegmentPoint(categoryIx, pointIx, pointIx - 1, currentSeriesIx));
                }

                stackPoints.push(point);

                if (style !== STEP && categoryIx + 1 < endIdx && !seriesPoints[currentSeriesIx][pointIx + 1]) {
                    stackPoints.push(this$1._previousSegmentPoint(categoryIx, pointIx, pointIx + 1, currentSeriesIx));
                }
            } else {
                var gapStackPoint = this$1._createGapStackPoint(categoryIx);
                this$1._stackPoints.push(gapStackPoint);
                stackPoints.push(gapStackPoint);
            }
        }

        return stackPoints;
    };

    AreaChart.prototype._previousSegmentPoint = function _previousSegmentPoint (categoryIx, pointIx, segmentIx, seriesIdx) {
        var seriesPoints = this.seriesPoints;
        var index = seriesIdx;
        var point;

        while (index > 0 && !point) {
            index--;
            point = seriesPoints[index][segmentIx];
        }

        if (!point) {
            point = this._createGapStackPoint(categoryIx);
            this._stackPoints.push(point);
        } else {
            point = seriesPoints[index][pointIx];
        }

        return point;
    };

    AreaChart.prototype._createGapStackPoint = function _createGapStackPoint (categoryIx) {
        var options = this.pointOptions({}, 0);
        var point = new LinePoint(0, options);
        point.categoryIx = categoryIx;
        point.series = {};

        return point;
    };

    AreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    AreaChart.prototype.supportsPointInactiveOpacity = function supportsPointInactiveOpacity () {
        return false;
    };

    return AreaChart;
}(LineChart));

var AxisGroupRangeTracker = (function (Class$$1) {
    function AxisGroupRangeTracker() {
        Class$$1.call(this);

        this.axisRanges = {};
    }

    if ( Class$$1 ) AxisGroupRangeTracker.__proto__ = Class$$1;
    AxisGroupRangeTracker.prototype = Object.create( Class$$1 && Class$$1.prototype );
    AxisGroupRangeTracker.prototype.constructor = AxisGroupRangeTracker;

    AxisGroupRangeTracker.prototype.update = function update (chartAxisRanges) {
        var axisRanges = this.axisRanges;

        for (var axisName in chartAxisRanges) {
            var chartRange = chartAxisRanges[axisName];
            var range = axisRanges[axisName];
            axisRanges[axisName] = range = range || { min: MAX_VALUE, max: MIN_VALUE };

            range.min = Math.min(range.min, chartRange.min);
            range.max = Math.max(range.max, chartRange.max);
        }
    };

    AxisGroupRangeTracker.prototype.reset = function reset (axisName) {
        this.axisRanges[axisName] = undefined;
    };

    AxisGroupRangeTracker.prototype.query = function query (axisName) {
        return this.axisRanges[axisName];
    };

    return AxisGroupRangeTracker;
}(_progress_kendoDrawing.Class));

var BarLabel = (function (ChartElement$$1) {
    function BarLabel(content, options, pointData) {
        ChartElement$$1.call(this, options);

        this.textBox = new TextBox(content, this.options, pointData);
        this.append(this.textBox);
    }

    if ( ChartElement$$1 ) BarLabel.__proto__ = ChartElement$$1;
    BarLabel.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    BarLabel.prototype.constructor = BarLabel;

    BarLabel.prototype.createVisual = function createVisual () {
        this.textBox.options.noclip = this.options.noclip;
    };

    BarLabel.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var vertical = options.vertical;
        var aboveAxis = options.aboveAxis;
        var text = this.children[0];
        var textOptions = text.options;
        var box = text.box;
        var padding = text.options.padding;
        var labelBox = targetBox;

        textOptions.align = vertical ? CENTER : LEFT;
        textOptions.vAlign = vertical ? TOP : CENTER;

        if (options.position === INSIDE_END) {
            if (vertical) {
                textOptions.vAlign = TOP;

                if (!aboveAxis && box.height() < targetBox.height()) {
                    textOptions.vAlign = BOTTOM;
                }
            } else {
                textOptions.align = aboveAxis ? RIGHT : LEFT;
            }
        } else if (options.position === CENTER) {
            textOptions.vAlign = CENTER;
            textOptions.align = CENTER;
        } else if (options.position === INSIDE_BASE) {
            if (vertical) {
                textOptions.vAlign = aboveAxis ? BOTTOM : TOP;
            } else {
                textOptions.align = aboveAxis ? LEFT : RIGHT;
            }
        } else if (options.position === OUTSIDE_END) {
            if (vertical) {
                if (aboveAxis) {
                    labelBox = new Box(
                        targetBox.x1, targetBox.y1 - box.height(),
                        targetBox.x2, targetBox.y1
                    );
                } else {
                    labelBox = new Box(
                        targetBox.x1, targetBox.y2,
                        targetBox.x2, targetBox.y2 + box.height()
                    );
                }
            } else {
                textOptions.align = CENTER;
                if (aboveAxis) {
                    labelBox = new Box(
                        targetBox.x2, targetBox.y1,
                        targetBox.x2 + box.width(), targetBox.y2
                    );
                } else {
                    labelBox = new Box(
                        targetBox.x1 - box.width(), targetBox.y1,
                        targetBox.x1, targetBox.y2
                    );
                }
            }
        }

        if (!options.rotation) {
            if (vertical) {
                padding.left = padding.right =
                    (labelBox.width() - text.contentBox.width()) / 2;
            } else {
                padding.top = padding.bottom =
                    (labelBox.height() - text.contentBox.height()) / 2;
            }
        }

        text.reflow(labelBox);
    };

    BarLabel.prototype.alignToClipBox = function alignToClipBox (clipBox) {
        var vertical = this.options.vertical;
        var field = vertical ? Y : X;
        var start = field + "1";
        var end = field + "2";
        var text = this.children[0];
        var parentBox = this.parent.box;

        if (parentBox[start] < clipBox[start] || clipBox[end] < parentBox[end]) {
            var targetBox = text.paddingBox.clone();
            targetBox[start] = Math.max(parentBox[start], clipBox[start]);
            targetBox[end] = Math.min(parentBox[end], clipBox[end]);

            this.reflow(targetBox);
        }
    };

    return BarLabel;
}(ChartElement));

setDefaultOptions(BarLabel, {
    position: OUTSIDE_END,
    margin: getSpacing(3),
    padding: getSpacing(4),
    color: BLACK,
    background: "",
    border: {
        width: 1,
        color: ""
    },
    aboveAxis: true,
    vertical: false,
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    },
    zIndex: 2
});

function hasGradientOverlay(options) {
    var overlay = options.overlay;

    return overlay && overlay.gradient && overlay.gradient !== "none";
}

var BAR_ALIGN_MIN_WIDTH = 6;

var Bar = (function (ChartElement$$1) {
    function Bar(value, options) {
        ChartElement$$1.call(this);

        this.options = options;
        this.color = options.color || WHITE;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.value = value;
    }

    if ( ChartElement$$1 ) Bar.__proto__ = ChartElement$$1;
    Bar.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Bar.prototype.constructor = Bar;

    Bar.prototype.render = function render () {
        if (this._rendered) {
            return;
        }

        this._rendered = true;

        this.createLabel();
        this.createNote();

        if (this.errorBar) {
            this.append(this.errorBar);
        }
    };

    Bar.prototype.createLabel = function createLabel () {
        var options = this.options;
        var labels = options.labels;

        if (labels.visible) {
            var pointData = this.pointData();
            var labelTemplate = getTemplate(labels);
            var labelText;

            if (labelTemplate) {
                labelText = labelTemplate(pointData);
            } else {
                labelText = this.formatValue(labels.format);
            }

            this.label = new BarLabel(labelText,
                deepExtend({
                    vertical: options.vertical
                },
                labels
            ), pointData);
            this.append(this.label);
        }
    };

    Bar.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    Bar.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        this.render();

        var label = this.label;

        this.box = targetBox;

        if (label) {
            label.options.aboveAxis = this.aboveAxis;
            label.reflow(targetBox);
        }

        if (this.note) {
            this.note.reflow(targetBox);
        }

        if (this.errorBars) {
            for (var i = 0; i < this.errorBars.length; i++) {
                this$1.errorBars[i].reflow(targetBox);
            }
        }
    };

    Bar.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var options = ref.options;
        var customVisual = options.visual;

        if (this.visible !== false) {
            ChartElement$$1.prototype.createVisual.call(this);

            if (customVisual) {
                var visual = this.rectVisual = customVisual({
                    category: this.category,
                    dataItem: this.dataItem,
                    value: this.value,
                    sender: this.getSender(),
                    series: this.series,
                    percentage: this.percentage,
                    stackValue: this.stackValue,
                    runningTotal: this.runningTotal,
                    total: this.total,
                    rect: box.toRect(),
                    createVisual: function () {
                        var group = new _progress_kendoDrawing.drawing.Group();
                        this$1.createRect(group);
                        return group;
                    },
                    options: options
                });

                if (visual) {
                    this.visual.append(visual);
                }
            } else if (box.width() > 0 && box.height() > 0) {
                this.createRect(this.visual);
            }
        }
    };

    Bar.prototype.createRect = function createRect (visual) {
        var options = this.options;
        var border = options.border;
        var strokeOpacity = defined(border.opacity) ? border.opacity : options.opacity;
        var rect = this.box.toRect();

        rect.size.width = Math.round(rect.size.width);

        var path = this.rectVisual = _progress_kendoDrawing.drawing.Path.fromRect(rect, {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: {
                color: this.getBorderColor(),
                width: border.width,
                opacity: strokeOpacity,
                dashType: border.dashType
            }
        });

        var width = this.box.width();
        var height = this.box.height();

        var size = options.vertical ? width : height;

        if (size > BAR_ALIGN_MIN_WIDTH) {
            alignPathToPixel(path);

            // Fixes lineJoin issue in firefox when the joined lines are parallel
            if (width < 1 || height < 1) {
                path.options.stroke.lineJoin = "round";
            }
        }

        visual.append(path);

        if (hasGradientOverlay(options)) {
            var overlay = this.createGradientOverlay(path, { baseColor: this.color }, deepExtend({
                end: !options.vertical ? [ 0, 1 ] : undefined
            }, options.overlay));

            visual.append(overlay);
        }
    };

    Bar.prototype.createHighlight = function createHighlight (style) {
        var highlight = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), style);

        return alignPathToPixel(highlight);
    };

    Bar.prototype.highlightVisual = function highlightVisual () {
        return this.rectVisual;
    };

    Bar.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            rect: this.box.toRect(),
            visual: this.rectVisual
        };
    };

    Bar.prototype.getBorderColor = function getBorderColor () {
        var color = this.color;
        var border = this.options.border;
        var brightness = border._brightness || BORDER_BRIGHTNESS;
        var borderColor = border.color;

        if (!defined(borderColor)) {
            borderColor = new _progress_kendoDrawing.Color(color).brightness(brightness).toHex();
        }

        return borderColor;
    };

    Bar.prototype.tooltipAnchor = function tooltipAnchor () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var aboveAxis = ref.aboveAxis;
        var clipBox = this.owner.pane.clipBox() || box;
        var horizontalAlign = LEFT;
        var verticalAlign = TOP;
        var x, y;

        if (options.vertical) {
            x = Math.min(box.x2, clipBox.x2) + TOOLTIP_OFFSET;
            if (aboveAxis) {
                y = Math.max(box.y1, clipBox.y1);
            } else {
                y = Math.min(box.y2, clipBox.y2);
                verticalAlign = BOTTOM;
            }
        } else {
            var x1 = Math.max(box.x1, clipBox.x1);
            var x2 = Math.min(box.x2, clipBox.x2);

            if (options.isStacked) {
                verticalAlign = BOTTOM;
                if (aboveAxis) {
                    horizontalAlign = RIGHT;
                    x = x2;
                } else {
                    x = x1;
                }
                y = Math.max(box.y1, clipBox.y1) - TOOLTIP_OFFSET;
            } else {
                if (aboveAxis) {
                    x = x2 + TOOLTIP_OFFSET;
                } else {
                    x = x1 - TOOLTIP_OFFSET;
                    horizontalAlign = RIGHT;
                }
                y = Math.max(box.y1, clipBox.y1);
            }
        }

        return {
            point: new Point(x, y),
            align: {
                horizontal: horizontalAlign,
                vertical: verticalAlign
            }
        };
    };

    Bar.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    Bar.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            runningTotal: this.runningTotal,
            total: this.total,
            series: this.series
        };
    };

    return Bar;
}(ChartElement));

deepExtend(Bar.prototype, PointEventsMixin);
deepExtend(Bar.prototype, NoteMixin);

Bar.prototype.defaults = {
    border: {
        width: 1
    },
    vertical: true,
    overlay: {
        gradient: "glass"
    },
    labels: {
        visible: false,
        format: "{0}"
    },
    opacity: 1,
    notes: {
        label: {}
    }
};

function forEach(elements, callback) {
    elements.forEach(callback);
}

function forEachReverse(elements, callback) {
    var length = elements.length;

    for (var idx = length - 1; idx >= 0; idx--) {
        callback(elements[idx], idx - length - 1);
    }
}

var ClusterLayout = (function (ChartElement$$1) {
    function ClusterLayout(options) {
        ChartElement$$1.call(this, options);

        this.forEach = options.rtl ? forEachReverse : forEach;
    }

    if ( ChartElement$$1 ) ClusterLayout.__proto__ = ChartElement$$1;
    ClusterLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ClusterLayout.prototype.constructor = ClusterLayout;

    ClusterLayout.prototype.reflow = function reflow (box) {
        var ref = this.options;
        var vertical = ref.vertical;
        var gap = ref.gap;
        var spacing = ref.spacing;
        var children = this.children;
        var count = children.length;
        var axis = vertical ? Y : X;
        var slots = count + gap + (spacing * (count - 1));
        var slotSize = (vertical ? box.height() : box.width()) / slots;
        var position = box[axis + 1] + slotSize * (gap / 2);

        this.forEach(children, function (child, idx) {
            var childBox = (child.box || box).clone();

            childBox[axis + 1] = position;
            childBox[axis + 2] = position + slotSize;

            child.reflow(childBox);
            if (idx < count - 1) {
                position += (slotSize * spacing);
            }

            position += slotSize;
        });
    };

    return ClusterLayout;
}(ChartElement));

setDefaultOptions(ClusterLayout, {
    vertical: false,
    gap: 0,
    spacing: 0
});

var StackWrap = (function (ChartElement$$1) {
    function StackWrap () {
        ChartElement$$1.apply(this, arguments);
    }

    if ( ChartElement$$1 ) StackWrap.__proto__ = ChartElement$$1;
    StackWrap.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    StackWrap.prototype.constructor = StackWrap;

    StackWrap.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var positionAxis = this.options.vertical ? X : Y;
        var children = this.children;
        var childrenCount = children.length;
        var box = this.box = new Box();

        for (var i = 0; i < childrenCount; i++) {
            var currentChild = children[i];

            if (currentChild.visible !== false) {
                var childBox = currentChild.box.clone();
                childBox.snapTo(targetBox, positionAxis);

                if (i === 0) {
                    box = this$1.box = childBox.clone();
                }

                currentChild.reflow(childBox);
                box.wrap(childBox);
            }
        }
    };

    return StackWrap;
}(ChartElement));

setDefaultOptions(StackWrap, {
    vertical: true
});

var BarChart = (function (CategoricalChart$$1) {
    function BarChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) BarChart.__proto__ = CategoricalChart$$1;
    BarChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    BarChart.prototype.constructor = BarChart;

    BarChart.prototype.render = function render () {
        CategoricalChart$$1.prototype.render.call(this);
        this.updateStackRange();
    };

    BarChart.prototype.pointType = function pointType () {
        return Bar;
    };

    BarChart.prototype.clusterType = function clusterType () {
        return ClusterLayout;
    };

    BarChart.prototype.stackType = function stackType () {
        return StackWrap;
    };

    BarChart.prototype.stackLimits = function stackLimits (axisName, stackName) {
        var limits = CategoricalChart$$1.prototype.stackLimits.call(this, axisName, stackName);

        return limits;
    };

    BarChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var isStacked = options.isStacked;
        var value = this.pointValue(data);
        var pointOptions = this.pointOptions(series, seriesIx);

        var labelOptions = pointOptions.labels;
        if (isStacked) {
            if (labelOptions.position === OUTSIDE_END) {
                labelOptions.position = INSIDE_END;
            }
        }

        pointOptions.isStacked = isStacked;

        var color = data.fields.color || series.color;
        if (value < 0 && pointOptions.negativeColor) {
            color = pointOptions.negativeColor;
        }

        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var pointType = this.pointType();
        var point = new pointType(value, pointOptions);
        point.color = color;

        var cluster = children[categoryIx];
        if (!cluster) {
            var clusterType = this.clusterType();
            cluster = new clusterType({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (isStacked) {
            var stackWrap = this.getStackWrap(series, cluster);
            stackWrap.append(point);
        } else {
            cluster.append(point);
        }

        return point;
    };

    BarChart.prototype.getStackWrap = function getStackWrap (series, cluster) {
        var stack = series.stack;
        var stackGroup = stack ? stack.group || stack : stack;
        var wraps = cluster.children;
        var stackWrap;

        if (typeof stackGroup === STRING) {
            for (var i = 0; i < wraps.length; i++) {
                if (wraps[i]._stackGroup === stackGroup) {
                    stackWrap = wraps[i];
                    break;
                }
            }
        } else {
            stackWrap = wraps[0];
        }

        if (!stackWrap) {
            var stackType = this.stackType();
            stackWrap = new stackType({
                vertical: !this.options.invertAxes
            });
            stackWrap._stackGroup = stackGroup;
            cluster.append(stackWrap);
        }

        return stackWrap;
    };

    BarChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx, valueAxis) {
        var options = this.options;
        var categorySlot = categoryAxis.getSlot(categoryIx);
        var startValue = valueAxis.startValue();

        if (options.isStacked) {
            var zeroSlot = valueAxis.getSlot(startValue, startValue, true);
            var stackAxis = options.invertAxes ? X : Y;
            categorySlot[stackAxis + 1] = categorySlot[stackAxis + 2] = zeroSlot[stackAxis + 1];
        }

        return categorySlot;
    };

    BarChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    BarChart.prototype.createAnimation = function createAnimation () {
        this._setAnimationOptions();
        CategoricalChart$$1.prototype.createAnimation.call(this);

        if (anyHasZIndex(this.options.series)) {
            this._setChildrenAnimation();
        }
    };

    BarChart.prototype._setChildrenAnimation = function _setChildrenAnimation () {
        var this$1 = this;

        var points = this.points;

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            var pointVisual = point.visual;
            if (pointVisual && defined(pointVisual.options.zIndex)) {
                point.options.animation = this$1.options.animation;
                point.createAnimation();
            }
        }
    };

    BarChart.prototype._setAnimationOptions = function _setAnimationOptions () {
        var options = this.options;
        var animation = options.animation || {};
        var origin;

        if (options.isStacked) {
            var valueAxis = this.seriesValueAxis(options.series[0]);
            origin = valueAxis.getSlot(valueAxis.startValue());
        } else {
            origin = this.categoryAxis.getSlot(0);
        }

        animation.origin = new _progress_kendoDrawing.geometry.Point(origin.x1, origin.y1);
        animation.vertical = !options.invertAxes;
    };

    return BarChart;
}(CategoricalChart));

setDefaultOptions(BarChart, {
    animation: {
        type: BAR
    }
});

var Candlestick = (function (ChartElement$$1) {
    function Candlestick(value, options) {
        ChartElement$$1.call(this, options);
        this.value = value;
    }

    if ( ChartElement$$1 ) Candlestick.__proto__ = ChartElement$$1;
    Candlestick.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Candlestick.prototype.constructor = Candlestick;

    Candlestick.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var ocSlot = valueAxis.getSlot(value.open, value.close);
        var lhSlot = valueAxis.getSlot(value.low, value.high);

        ocSlot.x1 = lhSlot.x1 = box.x1;
        ocSlot.x2 = lhSlot.x2 = box.x2;

        this.realBody = ocSlot;

        var mid = lhSlot.center().x;
        var points = [];

        points.push([ [ mid, lhSlot.y1 ], [ mid, ocSlot.y1 ] ]);
        points.push([ [ mid, ocSlot.y2 ], [ mid, lhSlot.y2 ] ]);

        this.lines = points;

        this.box = lhSlot.clone().wrap(ocSlot);

        if (!this._rendered) {
            this._rendered = true;
            this.createNote();
        }

        this.reflowNote();
    };

    Candlestick.prototype.reflowNote = function reflowNote () {
        if (this.note) {
            this.note.reflow(this.box);
        }
    };

    Candlestick.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);
        this._mainVisual = this.mainVisual(this.options);
        this.visual.append(
            this._mainVisual
        );

        this.createOverlay();
    };

    Candlestick.prototype.mainVisual = function mainVisual (options) {
        var group = new _progress_kendoDrawing.drawing.Group();

        this.createBody(group, options);
        this.createLines(group, options);

        return group;
    };

    Candlestick.prototype.createBody = function createBody (container, options) {
        var body = _progress_kendoDrawing.drawing.Path.fromRect(this.realBody.toRect(), {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: null
        });

        if (options.border.width > 0) {
            body.options.set("stroke", {
                color: this.getBorderColor(),
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: valueOrDefault(options.border.opacity, options.opacity)
            });
        }

        alignPathToPixel(body);
        container.append(body);

        if (hasGradientOverlay(options)) {
            container.append(this.createGradientOverlay(body, { baseColor: this.color }, deepExtend({
                end: !options.vertical ? [ 0, 1 ] : undefined
            }, options.overlay)));
        }
    };

    Candlestick.prototype.createLines = function createLines (container, options) {
        this.drawLines(container, options, this.lines, options.line);
    };

    Candlestick.prototype.drawLines = function drawLines (container, options, lines, lineOptions) {
        if (!lines) {
            return;
        }

        var lineStyle = {
            stroke: {
                color: lineOptions.color || this.color,
                opacity: valueOrDefault(lineOptions.opacity, options.opacity),
                width: lineOptions.width,
                dashType: lineOptions.dashType,
                lineCap: "butt"
            }
        };

        for (var i = 0; i < lines.length; i++) {
            var line = _progress_kendoDrawing.drawing.Path.fromPoints(lines[i], lineStyle);
            alignPathToPixel(line);
            container.append(line);
        }
    };

    Candlestick.prototype.getBorderColor = function getBorderColor () {
        var border = this.options.border;
        var borderColor = border.color;

        if (!defined(borderColor)) {
            borderColor = new _progress_kendoDrawing.Color(this.color).brightness(border._brightness).toHex();
        }

        return borderColor;
    };

    Candlestick.prototype.createOverlay = function createOverlay () {
        var overlay = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), {
            fill: {
                color: WHITE,
                opacity: 0
            },
            stroke: null
        });

        this.visual.append(overlay);
    };

    Candlestick.prototype.createHighlight = function createHighlight () {
        var highlight = this.options.highlight;
        var normalColor = this.color;

        this.color = highlight.color || this.color;
        var overlay = this.mainVisual(
            deepExtend({}, this.options, {
                line: {
                    color: this.getBorderColor()
                }
            }, highlight)
        );
        this.color = normalColor;

        return overlay;
    };

    Candlestick.prototype.highlightVisual = function highlightVisual () {
        return this._mainVisual;
    };

    Candlestick.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            rect: this.box.toRect(),
            visual: this._mainVisual
        };
    };

    Candlestick.prototype.tooltipAnchor = function tooltipAnchor () {
        var box = this.box;
        var clipBox = this.owner.pane.clipBox() || box;

        return {
            point: new Point(box.x2 + TOOLTIP_OFFSET, Math.max(box.y1, clipBox.y1) + TOOLTIP_OFFSET),
            align: {
                horizontal: LEFT,
                vertical: TOP
            }
        };
    };

    Candlestick.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    Candlestick.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    return Candlestick;
}(ChartElement));

setDefaultOptions(Candlestick, {
    vertical: true,
    border: {
        _brightness: 0.8
    },
    line: {
        width: 2
    },
    overlay: {
        gradient: "glass"
    },
    tooltip: {
        format: "<table>" +
                    "<tr><th colspan='2'>{4:d}</th></tr>" +
                    "<tr><td>Open:</td><td>{0:C}</td></tr>" +
                    "<tr><td>High:</td><td>{1:C}</td></tr>" +
                    "<tr><td>Low:</td><td>{2:C}</td></tr>" +
                    "<tr><td>Close:</td><td>{3:C}</td></tr>" +
                "</table>"
    },
    highlight: {
        opacity: 1,
        border: {
            width: 1,
            opacity: 1
        },
        line: {
            width: 1,
            opacity: 1
        }
    },
    notes: {
        visible: true,
        label: {}
    }
});

deepExtend(Candlestick.prototype, PointEventsMixin);
deepExtend(Candlestick.prototype, NoteMixin);

function areNumbers(values) {
    return countNumbers(values) === values.length;
}

var CandlestickChart = (function (CategoricalChart$$1) {
    function CandlestickChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) CandlestickChart.__proto__ = CategoricalChart$$1;
    CandlestickChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    CandlestickChart.prototype.constructor = CandlestickChart;

    CandlestickChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    CandlestickChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var value = data.valueFields;
        var valueParts = this.splitValue(value);
        var hasValue = areNumbers(valueParts);
        var dataItem = series.data[categoryIx];
        var categoryPoints = this.categoryPoints[categoryIx];
        var point;

        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        if (hasValue) {
            point = this.createPoint(data, fields);
        }

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (point) {
            this.updateRange(value, fields);

            cluster.append(point);

            point.categoryIx = categoryIx;
            point.category = category;
            point.series = series;
            point.seriesIx = seriesIx;
            point.owner = this;
            point.dataItem = dataItem;
            point.noteText = data.fields.noteText;
        }

        this.points.push(point);
        categoryPoints.push(point);
    };

    CandlestickChart.prototype.pointType = function pointType () {
        return Candlestick;
    };

    CandlestickChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var pointType = this.pointType();
        var value = data.valueFields;
        var pointOptions = deepExtend({}, series);
        var color = data.fields.color || series.color;

        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        if (series.type === CANDLESTICK) {
            if (value.open > value.close) {
                color = data.fields.downColor || series.downColor || series.color;
            }
        }

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        pointOptions.vertical = !this.options.invertAxes;

        var point = new pointType(value, pointOptions);
        point.color = color;

        return point;
    };

    CandlestickChart.prototype.splitValue = function splitValue (value) {
        return [ value.low, value.open, value.close, value.high ];
    };

    CandlestickChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var parts = this.splitValue(value);
        var axisRange = this.valueAxisRanges[axisName];

        axisRange = this.valueAxisRanges[axisName] =
            axisRange || { min: MAX_VALUE, max: MIN_VALUE };

        axisRange = this.valueAxisRanges[axisName] = {
            min: Math.min.apply(Math, parts.concat([ axisRange.min ])),
            max: Math.max.apply(Math, parts.concat([ axisRange.max ]))
        };
    };

    CandlestickChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format,
            value.open, value.high,
            value.low, value.close, point.category
        );
    };

    CandlestickChart.prototype.animationPoints = function animationPoints () {
        return this.points;
    };

    return CandlestickChart;
}(CategoricalChart));

deepExtend(CandlestickChart.prototype, ClipAnimationMixin);

var BoxPlot = (function (Candlestick$$1) {
    function BoxPlot(value, options) {
        Candlestick$$1.call(this, value, options);

        this.createNote();
    }

    if ( Candlestick$$1 ) BoxPlot.__proto__ = Candlestick$$1;
    BoxPlot.prototype = Object.create( Candlestick$$1 && Candlestick$$1.prototype );
    BoxPlot.prototype.constructor = BoxPlot;

    BoxPlot.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var whiskerSlot, boxSlot;

        this.boxSlot = boxSlot = valueAxis.getSlot(value.q1, value.q3);
        this.realBody = boxSlot;
        this.reflowBoxSlot(box);

        this.whiskerSlot = whiskerSlot = valueAxis.getSlot(value.lower, value.upper);
        this.reflowWhiskerSlot(box);

        var medianSlot = valueAxis.getSlot(value.median);

        if (value.mean) {
            var meanSlot = valueAxis.getSlot(value.mean);
            this.meanPoints = this.calcMeanPoints(box, meanSlot);
        }

        this.whiskerPoints = this.calcWhiskerPoints(boxSlot, whiskerSlot);
        this.medianPoints = this.calcMedianPoints(box, medianSlot);

        this.box = whiskerSlot.clone().wrap(boxSlot);
        this.reflowNote();
    };

    BoxPlot.prototype.reflowBoxSlot = function reflowBoxSlot (box) {
        this.boxSlot.x1 = box.x1;
        this.boxSlot.x2 = box.x2;
    };

    BoxPlot.prototype.reflowWhiskerSlot = function reflowWhiskerSlot (box) {
        this.whiskerSlot.x1 = box.x1;
        this.whiskerSlot.x2 = box.x2;
    };

    BoxPlot.prototype.calcMeanPoints = function calcMeanPoints (box, meanSlot) {
        return [
            [ [ box.x1, meanSlot.y1 ], [ box.x2, meanSlot.y1 ] ]
        ];
    };

    BoxPlot.prototype.calcWhiskerPoints = function calcWhiskerPoints (boxSlot, whiskerSlot) {
        var mid = whiskerSlot.center().x;
        return [ [
            [ mid - 5, whiskerSlot.y1 ], [ mid + 5, whiskerSlot.y1 ],
            [ mid, whiskerSlot.y1 ], [ mid, boxSlot.y1 ]
        ], [
            [ mid - 5, whiskerSlot.y2 ], [ mid + 5, whiskerSlot.y2 ],
            [ mid, whiskerSlot.y2 ], [ mid, boxSlot.y2 ]
        ] ];
    };

    BoxPlot.prototype.calcMedianPoints = function calcMedianPoints (box, medianSlot) {
        return [
            [ [ box.x1, medianSlot.y1 ], [ box.x2, medianSlot.y1 ] ]
        ];
    };

    BoxPlot.prototype.renderOutliers = function renderOutliers (options) {
        var this$1 = this;

        var value = this.value;
        var outliers = value.outliers || [];
        var outerFence = Math.abs(value.q3 - value.q1) * 3;
        var elements = [];
        var markers = options.markers || {};

        for (var i = 0; i < outliers.length; i++) {
            var outlierValue = outliers[i];
            if (outlierValue < value.q3 + outerFence && outlierValue > value.q1 - outerFence) {
                markers = options.outliers;
            } else {
                markers = options.extremes;
            }
            var markersBorder = deepExtend({}, markers.border);

            if (!defined(markersBorder.color)) {
                if (defined(this$1.color)) {
                    markersBorder.color = this$1.color;
                } else {
                    markersBorder.color =
                        new _progress_kendoDrawing.Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex();
                }
            }

            var shape = new ShapeElement({
                type: markers.type,
                width: markers.size,
                height: markers.size,
                rotation: markers.rotation,
                background: markers.background,
                border: markersBorder,
                opacity: markers.opacity
            });

            shape.value = outlierValue;

            elements.push(shape);
        }

        this.reflowOutliers(elements);
        return elements;
    };

    BoxPlot.prototype.reflowOutliers = function reflowOutliers (outliers) {
        var this$1 = this;

        var valueAxis = this.owner.seriesValueAxis(this.options);
        var center = this.box.center();

        for (var i = 0; i < outliers.length; i++) {
            var outlierValue = outliers[i].value;
            var markerBox = valueAxis.getSlot(outlierValue);

            if (this$1.options.vertical) {
                markerBox.move(center.x);
            } else {
                markerBox.move(undefined, center.y);
            }

            this$1.box = this$1.box.wrap(markerBox);
            outliers[i].reflow(markerBox);
        }
    };

    BoxPlot.prototype.mainVisual = function mainVisual (options) {
        var group = Candlestick$$1.prototype.mainVisual.call(this, options);
        var outliers = this.renderOutliers(options);

        for (var i = 0; i < outliers.length; i++) {
            var element = outliers[i].getElement();
            if (element) {
                group.append(element);
            }
        }

        return group;
    };

    BoxPlot.prototype.createLines = function createLines (container, options) {
        this.drawLines(container, options, this.whiskerPoints, options.whiskers);
        this.drawLines(container, options, this.medianPoints, options.median);
        this.drawLines(container, options, this.meanPoints, options.mean);
    };

    BoxPlot.prototype.getBorderColor = function getBorderColor () {
        if ((this.options.border || {}).color) {
            return this.options.border.color;
        }

        if (this.color) {
            return this.color;
        }

        return Candlestick$$1.prototype.getBorderColor.call(this);
    };

    return BoxPlot;
}(Candlestick));

setDefaultOptions(BoxPlot, {
    border: {
        _brightness: 0.8
    },
    line: {
        width: 2
    },
    median: {
        color: "#f6f6f6"
    },
    mean: {
        width: 2,
        dashType: "dash",
        color: "#f6f6f6"
    },
    overlay: {
        gradient: "glass"
    },
    tooltip: {
        format: "<table>" +
                    "<tr><th colspan='2'>{6:d}</th></tr>" +
                    "<tr><td>Lower:</td><td>{0:C}</td></tr>" +
                    "<tr><td>Q1:</td><td>{1:C}</td></tr>" +
                    "<tr><td>Median:</td><td>{2:C}</td></tr>" +
                    "<tr><td>Mean:</td><td>{5:C}</td></tr>" +
                    "<tr><td>Q3:</td><td>{3:C}</td></tr>" +
                    "<tr><td>Upper:</td><td>{4:C}</td></tr>" +
                "</table>"
    },
    highlight: {
        opacity: 1,
        border: {
            width: 1,
            opacity: 1
        },
        line: {
            width: 1,
            opacity: 1
        }
    },
    notes: {
        visible: true,
        label: {}
    },
    outliers: {
        visible: true,
        size: LINE_MARKER_SIZE,
        type: CROSS,
        background: WHITE,
        border: {
            width: 2,
            opacity: 1
        },
        opacity: 0
    },
    extremes: {
        visible: true,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        background: WHITE,
        border: {
            width: 2,
            opacity: 1
        },
        opacity: 0
    }
});

deepExtend(BoxPlot.prototype, PointEventsMixin);

var VerticalBoxPlot = (function (BoxPlot$$1) {
    function VerticalBoxPlot () {
        BoxPlot$$1.apply(this, arguments);
    }

    if ( BoxPlot$$1 ) VerticalBoxPlot.__proto__ = BoxPlot$$1;
    VerticalBoxPlot.prototype = Object.create( BoxPlot$$1 && BoxPlot$$1.prototype );
    VerticalBoxPlot.prototype.constructor = VerticalBoxPlot;

    VerticalBoxPlot.prototype.reflowBoxSlot = function reflowBoxSlot (box) {
        this.boxSlot.y1 = box.y1;
        this.boxSlot.y2 = box.y2;
    };

    VerticalBoxPlot.prototype.reflowWhiskerSlot = function reflowWhiskerSlot (box) {
        this.whiskerSlot.y1 = box.y1;
        this.whiskerSlot.y2 = box.y2;
    };

    VerticalBoxPlot.prototype.calcMeanPoints = function calcMeanPoints (box, meanSlot) {
        return [
            [ [ meanSlot.x1, box.y1 ], [ meanSlot.x1, box.y2 ] ]
        ];
    };

    VerticalBoxPlot.prototype.calcWhiskerPoints = function calcWhiskerPoints (boxSlot, whiskerSlot) {
        var mid = whiskerSlot.center().y;
        return [ [
            [ whiskerSlot.x1, mid - 5 ], [ whiskerSlot.x1, mid + 5 ],
            [ whiskerSlot.x1, mid ], [ boxSlot.x1, mid ]
        ], [
            [ whiskerSlot.x2, mid - 5 ], [ whiskerSlot.x2, mid + 5 ],
            [ whiskerSlot.x2, mid ], [ boxSlot.x2, mid ]
        ] ];
    };

    VerticalBoxPlot.prototype.calcMedianPoints = function calcMedianPoints (box, medianSlot) {
        return [
            [ [ medianSlot.x1, box.y1 ], [ medianSlot.x1, box.y2 ] ]
        ];
    };

    return VerticalBoxPlot;
}(BoxPlot));

var BoxPlotChart = (function (CandlestickChart$$1) {
    function BoxPlotChart () {
        CandlestickChart$$1.apply(this, arguments);
    }

    if ( CandlestickChart$$1 ) BoxPlotChart.__proto__ = CandlestickChart$$1;
    BoxPlotChart.prototype = Object.create( CandlestickChart$$1 && CandlestickChart$$1.prototype );
    BoxPlotChart.prototype.constructor = BoxPlotChart;

    BoxPlotChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var value = data.valueFields;
        var valueParts = this.splitValue(value);
        var hasValue = areNumbers(valueParts);
        var dataItem = series.data[categoryIx];
        var categoryPoints = this.categoryPoints[categoryIx];
        var point;

        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        if (hasValue) {
            point = this.createPoint(data, fields);
        }

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (point) {
            this.updateRange(value, fields);

            cluster.append(point);

            point.categoryIx = categoryIx;
            point.category = category;
            point.series = series;
            point.seriesIx = seriesIx;
            point.owner = this;
            point.dataItem = dataItem;
        }

        this.points.push(point);
        categoryPoints.push(point);
    };

    BoxPlotChart.prototype.pointType = function pointType () {
        if (this.options.invertAxes) {
            return VerticalBoxPlot;
        }

        return BoxPlot;
    };

    BoxPlotChart.prototype.splitValue = function splitValue (value) {
        return [
            value.lower, value.q1, value.median,
            value.q3, value.upper
        ];
    };

    BoxPlotChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var axisRange = this.valueAxisRanges[axisName];
        var parts = this.splitValue(value).concat(this.filterOutliers(value.outliers));

        if (defined(value.mean)) {
            parts = parts.concat(value.mean);
        }

        axisRange = this.valueAxisRanges[axisName] =
            axisRange || { min: MAX_VALUE, max: MIN_VALUE };

        axisRange = this.valueAxisRanges[axisName] = {
            min: Math.min.apply(Math, parts.concat([ axisRange.min ])),
            max: Math.max.apply(Math, parts.concat([ axisRange.max ]))
        };
    };

    BoxPlotChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format,
            value.lower, value.q1, value.median,
            value.q3, value.upper, value.mean, point.category
        );
    };

    BoxPlotChart.prototype.filterOutliers = function filterOutliers (items) {
        var length = (items || []).length;
        var result = [];

        for (var i = 0; i < length; i++) {
            var item = items[i];
            if (defined(item) && item !== null) {
                result.push(item);
            }
        }

        return result;
    };

    BoxPlotChart.prototype.supportsPointInactiveOpacity = function supportsPointInactiveOpacity () {
        return false;
    };

    return BoxPlotChart;
}(CandlestickChart));

var ScatterErrorBar = (function (ErrorBarBase$$1) {
    function ScatterErrorBar () {
        ErrorBarBase$$1.apply(this, arguments);
    }

    if ( ErrorBarBase$$1 ) ScatterErrorBar.__proto__ = ErrorBarBase$$1;
    ScatterErrorBar.prototype = Object.create( ErrorBarBase$$1 && ErrorBarBase$$1.prototype );
    ScatterErrorBar.prototype.constructor = ScatterErrorBar;

    ScatterErrorBar.prototype.getAxis = function getAxis () {
        var axes = this.chart.seriesAxes(this.series);
        var axis = this.isVertical ? axes.y : axes.x;

        return axis;
    };

    return ScatterErrorBar;
}(ErrorBarBase));

function hasValue(value) {
    return defined(value) && value !== null;
}

var ScatterChart = (function (ChartElement$$1) {
    function ScatterChart(plotArea, options) {

        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this._initFields();

        this.render();
    }

    if ( ChartElement$$1 ) ScatterChart.__proto__ = ChartElement$$1;
    ScatterChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ScatterChart.prototype.constructor = ScatterChart;

    ScatterChart.prototype._initFields = function _initFields () {
        // X and Y axis ranges grouped by name, e.g.:
        // primary: { min: 0, max: 1 }
        this.xAxisRanges = {};
        this.yAxisRanges = {};

        this.points = [];
        this.seriesPoints = [];
        this.seriesOptions = [];
        this._evalSeries = [];
    };

    ScatterChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    ScatterChart.prototype.addErrorBar = function addErrorBar (point, field, fields) {
        var value = point.value[field];
        var valueErrorField = field + "Value";
        var lowField = field + "ErrorLow";
        var highField = field + "ErrorHigh";
        var seriesIx = fields.seriesIx;
        var series = fields.series;
        var errorBars = point.options.errorBars;
        var lowValue = fields[lowField];
        var highValue = fields[highField];

        if (isNumber(value)) {
            var errorRange;
            if (isNumber(lowValue) && isNumber(highValue)) {
                errorRange = { low: lowValue, high: highValue };
            }

            if (errorBars && defined(errorBars[valueErrorField])) {
                this.seriesErrorRanges = this.seriesErrorRanges || { x: [], y: [] };
                this.seriesErrorRanges[field][seriesIx] = this.seriesErrorRanges[field][seriesIx] ||
                    new ErrorRangeCalculator(errorBars[valueErrorField], series, field);

                errorRange = this.seriesErrorRanges[field][seriesIx].getErrorRange(value, errorBars[valueErrorField]);
            }

            if (errorRange) {
                this.addPointErrorBar(errorRange, point, field);
            }
        }
    };

    ScatterChart.prototype.addPointErrorBar = function addPointErrorBar (errorRange, point, field) {
        var low = errorRange.low;
        var high = errorRange.high;
        var series = point.series;
        var options = point.options.errorBars;
        var isVertical = field === Y;
        var item = {};

        point[field + "Low"] = low;
        point[field + "High"] = high;

        point.errorBars = point.errorBars || [];
        var errorBar = new ScatterErrorBar(low, high, isVertical, this, series, options);
        point.errorBars.push(errorBar);
        point.append(errorBar);

        item[field] = low;
        this.updateRange(item, series);
        item[field] = high;
        this.updateRange(item, series);
    };

    ScatterChart.prototype.addValue = function addValue (value, fields) {
        var x = value.x;
        var y = value.y;
        var seriesIx = fields.seriesIx;
        var series = this.options.series[seriesIx];
        var missingValues = this.seriesMissingValues(series);
        var seriesPoints = this.seriesPoints[seriesIx];

        var pointValue = value;
        if (!(hasValue(x) && hasValue(y))) {
            pointValue = this.createMissingValue(pointValue, missingValues);
        }

        var point;
        if (pointValue) {
            point = this.createPoint(pointValue, fields);
            if (point) {
                Object.assign(point, fields);
                this.addErrorBar(point, X, fields);
                this.addErrorBar(point, Y, fields);
            }
            this.updateRange(pointValue, fields.series);
        }

        this.points.push(point);
        seriesPoints.push(point);
    };

    ScatterChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues;
    };

    ScatterChart.prototype.createMissingValue = function createMissingValue () {};

    ScatterChart.prototype.updateRange = function updateRange (value, series) {
        var intlService = this.chartService.intl;
        var xAxisName = series.xAxis;
        var yAxisName = series.yAxis;
        var x = value.x;
        var y = value.y;
        var xAxisRange = this.xAxisRanges[xAxisName];
        var yAxisRange = this.yAxisRanges[yAxisName];

        if (hasValue(x)) {
            xAxisRange = this.xAxisRanges[xAxisName] =
                xAxisRange || { min: MAX_VALUE, max: MIN_VALUE };

            if (isString(x)) {
                x = parseDate(intlService, x);
            }

            xAxisRange.min = Math.min(xAxisRange.min, x);
            xAxisRange.max = Math.max(xAxisRange.max, x);
        }

        if (hasValue(y)) {
            yAxisRange = this.yAxisRanges[yAxisName] =
                yAxisRange || { min: MAX_VALUE, max: MIN_VALUE };

            if (isString(y)) {
                y = parseDate(intlService, y);
            }

            yAxisRange.min = Math.min(yAxisRange.min, y);
            yAxisRange.max = Math.max(yAxisRange.max, y);
        }
    };

    ScatterChart.prototype.evalPointOptions = function evalPointOptions (options, value, fields) {
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var state = { defaults: series._defaults, excluded: [ "data", "tooltip", "content", "template", "visual", "toggle", "_outOfRangeMinPoint", "_outOfRangeMaxPoint" ] };

        var doEval = this._evalSeries[seriesIx];
        if (!defined(doEval)) {
            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);
        }

        var pointOptions = options;
        if (doEval) {
            pointOptions = deepExtend({}, options);
            evalOptions(pointOptions, {
                value: value,
                series: series,
                dataItem: fields.dataItem
            }, state);
        }

        return pointOptions;
    };

    ScatterChart.prototype.pointType = function pointType () {
        return LinePoint;
    };

    ScatterChart.prototype.pointOptions = function pointOptions (series, seriesIx) {
        var options = this.seriesOptions[seriesIx];
        if (!options) {
            var defaults = this.pointType().prototype.defaults;
            this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {
                markers: {
                    opacity: series.opacity
                },
                tooltip: {
                    format: this.options.tooltip.format
                },
                labels: {
                    format: this.options.labels.format
                }
            }, series);
        }

        return options;
    };

    ScatterChart.prototype.createPoint = function createPoint (value, fields) {
        var series = fields.series;
        var pointOptions = this.pointOptions(series, fields.seriesIx);
        var color = fields.color || series.color;

        pointOptions = this.evalPointOptions(pointOptions, value, fields);

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new LinePoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    ScatterChart.prototype.seriesAxes = function seriesAxes (series) {
        var xAxisName = series.xAxis;
        var yAxisName = series.yAxis;
        var plotArea = this.plotArea;
        var xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX;
        var yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;

        if (!xAxis) {
            throw new Error("Unable to locate X axis with name " + xAxisName);
        }

        if (!yAxis) {
            throw new Error("Unable to locate Y axis with name " + yAxisName);
        }

        return {
            x: xAxis,
            y: yAxis
        };
    };

    ScatterChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var chartPoints = this.points;
        var limit = !this.options.clip;
        var pointIx = 0;


        this.traverseDataPoints(function (value, fields) {
            var point = chartPoints[pointIx++];
            var seriesAxes = this$1.seriesAxes(fields.series);
            var slotX = seriesAxes.x.getSlot(value.x, value.x, limit);
            var slotY = seriesAxes.y.getSlot(value.y, value.y, limit);

            if (point) {
                if (slotX && slotY) {
                    var pointSlot = this$1.pointSlot(slotX, slotY);
                    point.reflow(pointSlot);
                } else {
                    point.visible = false;
                }
            }
        });

        this.box = targetBox;
    };

    ScatterChart.prototype.pointSlot = function pointSlot (slotX, slotY) {
        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);
    };

    ScatterChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var ref = this;
        var series = ref.options.series;
        var seriesPoints = ref.seriesPoints;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var currentSeriesPoints = seriesPoints[seriesIx];
            if (!currentSeriesPoints) {
                seriesPoints[seriesIx] = [];
            }

            for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {
                var ref$1 = this$1._bindPoint(currentSeries, seriesIx, pointIx);
                var value = ref$1.valueFields;
                var fields = ref$1.fields;

                callback(value, deepExtend({
                    pointIx: pointIx,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    dataItem: currentSeries.data[pointIx],
                    owner: this$1
                }, fields));
            }
        }
    };

    ScatterChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;
        return this.chartService.format.auto(format, value.x, value.y);
    };

    ScatterChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            result.push((points[idx] || {}).marker);
        }
        return result;
    };

    return ScatterChart;
}(ChartElement));
setDefaultOptions(ScatterChart, {
    series: [],
    tooltip: {
        format: "{0}, {1}"
    },
    labels: {
        format: "{0}, {1}"
    },
    clip: true
});
deepExtend(ScatterChart.prototype, ClipAnimationMixin, {
    _bindPoint: CategoricalChart.prototype._bindPoint
});

var Bubble = (function (LinePoint$$1) {
    function Bubble(value, options) {
        LinePoint$$1.call(this, value, options);

        this.category = value.category;
    }

    if ( LinePoint$$1 ) Bubble.__proto__ = LinePoint$$1;
    Bubble.prototype = Object.create( LinePoint$$1 && LinePoint$$1.prototype );
    Bubble.prototype.constructor = Bubble;

    Bubble.prototype.createHighlight = function createHighlight () {
        var highlight = this.options.highlight;
        var border = highlight.border;
        var markers = this.options.markers;
        var center = this.box.center();
        var radius = (markers.size + markers.border.width + border.width) / 2;
        var highlightGroup = new _progress_kendoDrawing.drawing.Group();
        var shadow = new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle([ center.x, center.y + radius / 5 + border.width / 2 ], radius + border.width / 2), {
            stroke: {
                color: 'none'
            },
            fill: this.createGradient({
                gradient: 'bubbleShadow',
                color: markers.background,
                stops: [ {
                    offset: 0,
                    color: markers.background,
                    opacity: 0.3
                }, {
                    offset: 1,
                    color: markers.background,
                    opacity: 0
                } ]
            })
        });
        var overlay = new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], radius), {
            stroke: {
                color: border.color ||
                    new _progress_kendoDrawing.Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex(),
                width: border.width,
                opacity: border.opacity
            },
            fill: {
                color: markers.background,
                opacity: highlight.opacity
            }
        });

        highlightGroup.append(shadow, overlay);

        return highlightGroup;
    };

    return Bubble;
}(LinePoint));

Bubble.prototype.defaults = deepExtend({}, Bubble.prototype.defaults, {
    labels: {
        position: CENTER
    },
    highlight: {
        opacity: 1,
        border: {
            color: "#fff",
            width: 2,
            opacity: 1
        }
    }
});

Bubble.prototype.defaults.highlight.zIndex = undefined;

var BubbleChart = (function (ScatterChart$$1) {
    function BubbleChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) BubbleChart.__proto__ = ScatterChart$$1;
    BubbleChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    BubbleChart.prototype.constructor = BubbleChart;

    BubbleChart.prototype._initFields = function _initFields () {
        this._maxSize = MIN_VALUE;
        ScatterChart$$1.prototype._initFields.call(this);
    };

    BubbleChart.prototype.addValue = function addValue (value, fields) {
        if (value.size !== null && (value.size > 0 || (value.size < 0 && fields.series.negativeValues.visible))) {
            this._maxSize = Math.max(this._maxSize, Math.abs(value.size));
            ScatterChart$$1.prototype.addValue.call(this, value, fields);
        } else {
            this.points.push(null);
            this.seriesPoints[fields.seriesIx].push(null);
        }
    };

    BubbleChart.prototype.reflow = function reflow (box) {
        this.updateBubblesSize(box);
        ScatterChart$$1.prototype.reflow.call(this, box);
    };

    BubbleChart.prototype.pointType = function pointType () {
        return Bubble;
    };

    BubbleChart.prototype.createPoint = function createPoint (value, fields) {
        var series = fields.series;
        var pointsCount = series.data.length;
        var delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount);
        var animationOptions = {
            delay: delay,
            duration: INITIAL_ANIMATION_DURATION - delay,
            type: BUBBLE
        };

        var color = fields.color || series.color;
        if (value.size < 0 && series.negativeValues.visible) {
            color = valueOrDefault(
                series.negativeValues.color, color
            );
        }

        var pointOptions = deepExtend({
            labels: {
                animation: {
                    delay: delay,
                    duration: INITIAL_ANIMATION_DURATION - delay
                }
            }
        }, this.pointOptions(series, fields.seriesIx), {
            markers: {
                type: CIRCLE,
                border: series.border,
                opacity: series.opacity,
                animation: animationOptions
            }
        });

        pointOptions = this.evalPointOptions(pointOptions, value, fields);
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        pointOptions.markers.background = color;

        var point = new Bubble(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    BubbleChart.prototype.updateBubblesSize = function updateBubblesSize (box) {
        var this$1 = this;

        var ref = this;
        var series = ref.options.series;
        var boxSize = Math.min(box.width(), box.height());

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var seriesPoints = this$1.seriesPoints[seriesIx];
            var minSize = currentSeries.minSize || Math.max(boxSize * 0.02, 10);
            var maxSize = currentSeries.maxSize || boxSize * 0.2;
            var minR = minSize / 2;
            var maxR = maxSize / 2;
            var minArea = Math.PI * minR * minR;
            var maxArea = Math.PI * maxR * maxR;
            var areaRange = maxArea - minArea;
            var areaRatio = areaRange / this$1._maxSize;

            for (var pointIx = 0; pointIx < seriesPoints.length; pointIx++) {
                var point = seriesPoints[pointIx];
                if (point) {
                    var area = Math.abs(point.value.size) * areaRatio;
                    var radius = Math.sqrt((minArea + area) / Math.PI);
                    var baseZIndex = valueOrDefault(point.options.zIndex, 0);
                    var zIndex = baseZIndex + (1 - radius / maxR);

                    deepExtend(point.options, {
                        zIndex: zIndex,
                        markers: {
                            size: radius * 2,
                            zIndex: zIndex
                        },
                        labels: {
                            zIndex: zIndex + 1
                        }
                    });
                }
            }
        }
    };

    BubbleChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;
        return this.chartService.format.auto(format, value.x, value.y, value.size, point.category);
    };

    BubbleChart.prototype.createAnimation = function createAnimation () {};
    BubbleChart.prototype.createVisual = function createVisual () {};

    return BubbleChart;
}(ScatterChart));

setDefaultOptions(BubbleChart, {
    tooltip: {
        format: "{3}"
    },
    labels: {
        format: "{3}"
    }
});

var Target = (function (ShapeElement$$1) {
	function Target () {
		ShapeElement$$1.apply(this, arguments);
	}if ( ShapeElement$$1 ) Target.__proto__ = ShapeElement$$1;
	Target.prototype = Object.create( ShapeElement$$1 && ShapeElement$$1.prototype );
	Target.prototype.constructor = Target;

	

	return Target;
}(ShapeElement));

deepExtend(Target.prototype, PointEventsMixin);

var Bullet = (function (ChartElement$$1) {
    function Bullet(value, options) {
        ChartElement$$1.call(this, options);

        this.aboveAxis = this.options.aboveAxis;
        this.color = options.color || WHITE;
        this.value = value;
    }

    if ( ChartElement$$1 ) Bullet.__proto__ = ChartElement$$1;
    Bullet.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Bullet.prototype.constructor = Bullet;

    Bullet.prototype.render = function render () {
        var options = this.options;

        if (!this._rendered) {
            this._rendered = true;

            if (defined(this.value.target)) {
                this.target = new Target({
                    type: options.target.shape,
                    background: options.target.color || this.color,
                    opacity: options.opacity,
                    zIndex: options.zIndex,
                    border: options.target.border,
                    vAlign: TOP,
                    align: RIGHT
                });

                this.target.value = this.value;
                this.target.dataItem = this.dataItem;
                this.target.series = this.series;

                this.append(this.target);
            }

            this.createNote();
        }
    };

    Bullet.prototype.reflow = function reflow (box) {
        this.render();

        var ref = this;
        var options = ref.options;
        var target = ref.target;
        var chart = ref.owner;
        var invertAxes = options.invertAxes;
        var valueAxis = chart.seriesValueAxis(this.options);
        var categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis);
        var targetValueSlot = valueAxis.getSlot(this.value.target);
        var targetSlotX = invertAxes ? targetValueSlot : categorySlot;
        var targetSlotY = invertAxes ? categorySlot : targetValueSlot;

        if (target) {
            var targetSlot = new Box(
                targetSlotX.x1, targetSlotY.y1,
                targetSlotX.x2, targetSlotY.y2
            );
            target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;
            target.options.width = invertAxes ? options.target.line.width : targetSlot.width();
            target.reflow(targetSlot);
        }

        if (this.note) {
            this.note.reflow(box);
        }

        this.box = box;
    };

    Bullet.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        var body = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: null
        });

        if (options.border.width > 0) {
            body.options.set("stroke", {
                color: options.border.color || this.color,
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: valueOrDefault(options.border.opacity, options.opacity)
            });
        }

        this.bodyVisual = body;

        alignPathToPixel(body);
        this.visual.append(body);
    };

    Bullet.prototype.createAnimation = function createAnimation () {
        if (this.bodyVisual) {
            this.animation = _progress_kendoDrawing.drawing.Animation.create(
                this.bodyVisual, this.options.animation
            );
        }
    };

    Bullet.prototype.createHighlight = function createHighlight (style) {
        return _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), style);
    };

    Bullet.prototype.highlightVisual = function highlightVisual () {
        return this.bodyVisual;
    };

    Bullet.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            rect: this.box.toRect(),
            visual: this.bodyVisual,
            options: this.options
        };
    };

    Bullet.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    return Bullet;
}(ChartElement));

Bullet.prototype.tooltipAnchor = Bar.prototype.tooltipAnchor;

setDefaultOptions(Bullet, {
    border: {
        width: 1
    },
    vertical: false,
    opacity: 1,
    target: {
        shape: "",
        border: {
            width: 0,
            color: "green"
        },
        line: {
            width: 2
        }
    },
    tooltip: {
        format: "Current: {0}<br />Target: {1}"
    }
});

deepExtend(Bullet.prototype, PointEventsMixin);
deepExtend(Bullet.prototype, NoteMixin);

var BulletChart = (function (CategoricalChart$$1) {
    function BulletChart(plotArea, options) {

        wrapData(options);

        CategoricalChart$$1.call(this, plotArea, options);
    }

    if ( CategoricalChart$$1 ) BulletChart.__proto__ = CategoricalChart$$1;
    BulletChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    BulletChart.prototype.constructor = BulletChart;

    BulletChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    BulletChart.prototype.plotRange = function plotRange (point) {
        var series = point.series;
        var valueAxis = this.seriesValueAxis(series);
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);

        return [ axisCrossingValue, point.value.current || axisCrossingValue ];
    };

    BulletChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var value = data.valueFields;

        var bulletOptions = deepExtend({
            vertical: !options.invertAxes,
            overlay: series.overlay,
            categoryIx: categoryIx,
            invertAxes: options.invertAxes
        }, series);

        var color = data.fields.color || series.color;
        bulletOptions = this.evalPointOptions(
            bulletOptions, value, category, categoryIx, series, seriesIx
        );

        if (isFunction(series.color)) {
            color = bulletOptions.color;
        }

        var bullet = new Bullet(value, bulletOptions);
        bullet.color = color;

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        cluster.append(bullet);

        return bullet;
    };

    BulletChart.prototype.updateRange = function updateRange (value, fields) {
        var current = value.current;
        var target = value.target;
        var axisName = fields.series.axis;
        var axisRange = this.valueAxisRanges[axisName];

        if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {
            axisRange = this.valueAxisRanges[axisName] =
                axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, current, target);
            axisRange.max = Math.max(axisRange.max, current, target);
        }
    };

    BulletChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format, point.value.current, point.value.target);
    };

    BulletChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields.current;
    };

    BulletChart.prototype.aboveAxis = function aboveAxis (point) {
        var value = point.value.current;

        return value > 0;
    };

    BulletChart.prototype.createAnimation = function createAnimation () {
        var this$1 = this;

        var points = this.points;

        this._setAnimationOptions();

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            point.options.animation = this$1.options.animation;
            point.createAnimation();
        }
    };

    return BulletChart;
}(CategoricalChart));

BulletChart.prototype._setAnimationOptions = BarChart.prototype._setAnimationOptions;

setDefaultOptions(BulletChart, {
    animation: {
        type: BAR
    }
});

function wrapData(options) {
    var series = options.series;

    for (var i = 0; i < series.length; i++) {
        var seriesItem = series[i];
        var data = seriesItem.data;
        if (data && !isArray(data[0]) && !isObject(data[0])) {
            seriesItem.data = [ data ];
        }
    }
}

var BaseTooltip = (function (Class$$1) {
    function BaseTooltip(chartService, options) {
        Class$$1.call(this);

        this.chartService = chartService;
        this.options = deepExtend({}, this.options, options);
    }

    if ( Class$$1 ) BaseTooltip.__proto__ = Class$$1;
    BaseTooltip.prototype = Object.create( Class$$1 && Class$$1.prototype );
    BaseTooltip.prototype.constructor = BaseTooltip;

    BaseTooltip.prototype.getStyle = function getStyle (options, point) {
        var background = options.background;
        var border = options.border.color;

        if (point) {
            var pointColor = point.color || point.options.color;
            background = valueOrDefault(background, pointColor);
            border = valueOrDefault(border, pointColor);
        }

        var padding = getSpacing(options.padding || {}, "auto");

        return {
            backgroundColor: background,
            borderColor: border,
            font: options.font,
            color: options.color,
            opacity: options.opacity,
            borderWidth: styleValue(options.border.width),
            paddingTop: styleValue(padding.top),
            paddingBottom: styleValue(padding.bottom),
            paddingLeft: styleValue(padding.left),
            paddingRight: styleValue(padding.right)
        };
    };

    BaseTooltip.prototype.show = function show (options, tooltipOptions, point) {
        options.format = tooltipOptions.format;

        var style = this.getStyle(tooltipOptions, point);
        options.style = style;

        var background = new _progress_kendoDrawing.Color(style.backgroundColor);
        if (!defined(tooltipOptions.color) && !background.isDark()) {
            options.className = "k-chart-tooltip-inverse";
        }

        this.chartService.notify(SHOW_TOOLTIP, options);

        this.visible = true;
    };

    BaseTooltip.prototype.hide = function hide () {
        if (this.chartService) {
            this.chartService.notify(HIDE_TOOLTIP);
        }

        this.visible = false;
    };

    BaseTooltip.prototype.destroy = function destroy () {
        delete this.chartService;
    };

    return BaseTooltip;
}(_progress_kendoDrawing.Class));

setDefaultOptions(BaseTooltip, {
    border: {
        width: 1
    },
    opacity: 1
});

var CrosshairTooltip = (function (BaseTooltip$$1) {
    function CrosshairTooltip(chartService, crosshair, options) {
        BaseTooltip$$1.call(this, chartService, options);

        this.crosshair = crosshair;
        this.formatService = chartService.format;
        this.initAxisName();
    }

    if ( BaseTooltip$$1 ) CrosshairTooltip.__proto__ = BaseTooltip$$1;
    CrosshairTooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    CrosshairTooltip.prototype.constructor = CrosshairTooltip;

    CrosshairTooltip.prototype.initAxisName = function initAxisName () {
        var axis = this.crosshair.axis;
        var plotArea = axis.plotArea;
        var name;
        if (plotArea.categoryAxis) {
            name = axis.getCategory ? "categoryAxis" : "valueAxis";
        } else {
            name = axis.options.vertical ? "yAxis" : "xAxis";
        }
        this.axisName = name;
    };

    CrosshairTooltip.prototype.showAt = function showAt (point) {
        var ref = this;
        var axis = ref.crosshair.axis;
        var options = ref.options;
        var value = axis[options.stickyMode ? "getCategory" : "getValue"](point);
        var formattedValue = value;

        if (options.format) {
            formattedValue = this.formatService.auto(options.format, value);
        } else if (axis.options.type === DATE) {
            formattedValue = this.formatService.auto(axis.options.labels.dateFormats[axis.options.baseUnit], value);
        }

        this.show({
            point: point,
            anchor: this.getAnchor(),
            crosshair: this.crosshair,
            value: formattedValue,
            axisName: this.axisName,
            axisIndex: this.crosshair.axis.axisIndex
        }, this.options);
    };

    CrosshairTooltip.prototype.hide = function hide () {
        this.chartService.notify(HIDE_TOOLTIP, {
            crosshair: this.crosshair,
            axisName: this.axisName,
            axisIndex: this.crosshair.axis.axisIndex
        });
    };

    CrosshairTooltip.prototype.getAnchor = function getAnchor () {
        var ref = this;
        var crosshair = ref.crosshair;
        var ref_options = ref.options;
        var position = ref_options.position;
        var padding = ref_options.padding;
        var vertical = !crosshair.axis.options.vertical;
        var lineBox = crosshair.line.bbox();
        var horizontalAlign, verticalAlign, point;

        if (vertical) {
            horizontalAlign = CENTER;
            if (position === BOTTOM) {
                verticalAlign = TOP;
                point = lineBox.bottomLeft().translate(0, padding);
            } else {
                verticalAlign = BOTTOM;
                point = lineBox.topLeft().translate(0, -padding);
            }
        } else {
            verticalAlign = CENTER;
            if (position === LEFT) {
                horizontalAlign = RIGHT;
                point = lineBox.topLeft().translate(-padding, 0);
            } else {
                horizontalAlign = LEFT;
                point = lineBox.topRight().translate(padding, 0);
            }
        }

        return {
            point: point,
            align: {
                horizontal: horizontalAlign,
                vertical: verticalAlign
            }
        };
    };

    return CrosshairTooltip;
}(BaseTooltip));

setDefaultOptions(CrosshairTooltip, {
    padding: 10
});

var Crosshair = (function (ChartElement$$1) {
    function Crosshair(chartService, axis, options) {
        ChartElement$$1.call(this, options);

        this.axis = axis;
        this.stickyMode = axis instanceof CategoryAxis;

        var tooltipOptions = this.options.tooltip;

        if (tooltipOptions.visible) {
            this.tooltip = new CrosshairTooltip(chartService, this,
                deepExtend({}, tooltipOptions, { stickyMode: this.stickyMode })
            );
        }
    }

    if ( ChartElement$$1 ) Crosshair.__proto__ = ChartElement$$1;
    Crosshair.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Crosshair.prototype.constructor = Crosshair;

    Crosshair.prototype.showAt = function showAt (point) {
        this.point = point;
        this.moveLine();
        this.line.visible(true);

        if (this.tooltip) {
            this.tooltip.showAt(point);
        }
    };

    Crosshair.prototype.hide = function hide () {
        this.line.visible(false);

        if (this.tooltip) {
            this.tooltip.hide();
        }
    };

    Crosshair.prototype.moveLine = function moveLine () {
        var ref = this;
        var axis = ref.axis;
        var point = ref.point;
        var vertical = axis.options.vertical;
        var box = this.getBox();
        var dim = vertical ? Y : X;
        var lineStart = new _progress_kendoDrawing.geometry.Point(box.x1, box.y1);
        var lineEnd;

        if (vertical) {
            lineEnd = new _progress_kendoDrawing.geometry.Point(box.x2, box.y1);
        } else {
            lineEnd = new _progress_kendoDrawing.geometry.Point(box.x1, box.y2);
        }

        if (point) {
            if (this.stickyMode) {
                var slot = axis.getSlot(axis.pointCategoryIndex(point));
                lineStart[dim] = lineEnd[dim] = slot.center()[dim];
            } else {
                lineStart[dim] = lineEnd[dim] = point[dim];
            }
        }

        this.box = box;

        this.line.moveTo(lineStart).lineTo(lineEnd);
    };

    Crosshair.prototype.getBox = function getBox () {
        var axis = this.axis;
        var axes = axis.pane.axes;
        var length = axes.length;
        var vertical = axis.options.vertical;
        var box = axis.lineBox().clone();
        var dim = vertical ? X : Y;
        var axisLineBox;

        for (var i = 0; i < length; i++) {
            var currentAxis = axes[i];
            if (currentAxis.options.vertical !== vertical) {
                if (!axisLineBox) {
                    axisLineBox = currentAxis.lineBox().clone();
                } else {
                    axisLineBox.wrap(currentAxis.lineBox());
                }
            }
        }

        box[dim + 1] = axisLineBox[dim + 1];
        box[dim + 2] = axisLineBox[dim + 2];

        return box;
    };

    Crosshair.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        this.line = new _progress_kendoDrawing.drawing.Path({
            stroke: {
                color: options.color,
                width: options.width,
                opacity: options.opacity,
                dashType: options.dashType
            },
            visible: false
        });

        this.moveLine();
        this.visual.append(this.line);
    };

    Crosshair.prototype.destroy = function destroy () {
        if (this.tooltip) {
            this.tooltip.destroy();
        }

        ChartElement$$1.prototype.destroy.call(this);
    };

    return Crosshair;
}(ChartElement));

setDefaultOptions(Crosshair, {
    color: BLACK,
    width: 2,
    zIndex: -1,
    tooltip: {
        visible: false
    }
});

var ChartContainer = (function (ChartElement$$1) {
    function ChartContainer(options, pane) {
        ChartElement$$1.call(this, options);
        this.pane = pane;
    }

    if ( ChartElement$$1 ) ChartContainer.__proto__ = ChartElement$$1;
    ChartContainer.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ChartContainer.prototype.constructor = ChartContainer;

    ChartContainer.prototype.shouldClip = function shouldClip () {
        var children = this.children;
        var length = children.length;

        for (var i = 0; i < length; i++) {
            if (children[i].options.clip === true) {
                return true;
            }
        }
        return false;
    };

    ChartContainer.prototype._clipBox = function _clipBox () {
        return this.pane.chartsBox();
    };

    ChartContainer.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: 0
        });

        if (this.shouldClip()) {
            var clipBox = this.clipBox = this._clipBox();
            var clipRect = clipBox.toRect();
            var clipPath = _progress_kendoDrawing.drawing.Path.fromRect(clipRect);
            alignPathToPixel(clipPath);

            this.visual.clip(clipPath);
            this.unclipLabels();
        }
    };

    ChartContainer.prototype.stackRoot = function stackRoot () {
        return this;
    };

    ChartContainer.prototype.unclipLabels = function unclipLabels () {
        var ref = this;
        var charts = ref.children;
        var clipBox = ref.clipBox;

        for (var i = 0; i < charts.length; i++) {
            var points = charts[i].points || {};
            var length = points.length;

            for (var j = 0; j < length; j++) {
                var point = points[j];
                if (point && point.visible !== false && point.overlapsBox && point.overlapsBox(clipBox)) {
                    if (point.unclipElements) {
                        point.unclipElements();
                    } else {
                        var label = point.label;
                        var note = point.note;

                        if (label && label.options.visible) {
                            if (label.alignToClipBox) {
                                label.alignToClipBox(clipBox);
                            }
                            label.options.noclip = true;
                        }

                        if (note && note.options.visible) {
                            note.options.noclip = true;
                        }
                    }
                }
            }
        }
    };

    ChartContainer.prototype.destroy = function destroy () {
        ChartElement$$1.prototype.destroy.call(this);

        delete this.parent;
    };

    return ChartContainer;
}(ChartElement));

ChartContainer.prototype.isStackRoot = true;

var Pane = (function (BoxElement$$1) {
    function Pane(options) {
        BoxElement$$1.call(this, options);

        this.id = paneID();

        this.createTitle();

        this.content = new ChartElement();

        this.chartContainer = new ChartContainer({}, this);
        this.append(this.content);

        this.axes = [];
        this.charts = [];
    }

    if ( BoxElement$$1 ) Pane.__proto__ = BoxElement$$1;
    Pane.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    Pane.prototype.constructor = Pane;

    Pane.prototype.createTitle = function createTitle () {
        var titleOptions = this.options.title;
        if (isObject(titleOptions)) {
            titleOptions = deepExtend({}, titleOptions, {
                align: titleOptions.position,
                position: TOP
            });
        }

        this.title = Title.buildTitle(titleOptions, this, Pane.prototype.options.title);
    };

    Pane.prototype.appendAxis = function appendAxis (axis) {
        this.content.append(axis);
        this.axes.push(axis);
        axis.pane = this;
    };

    Pane.prototype.appendAxisAt = function appendAxisAt (axis, pos) {
        this.content.append(axis);
        this.axes.splice(pos, 0, axis);
        axis.pane = this;
    };

    Pane.prototype.appendChart = function appendChart (chart) {
        if (this.chartContainer.parent !== this.content) {
            this.content.append(this.chartContainer);
        }

        this.charts.push(chart);
        this.chartContainer.append(chart);
        chart.pane = this;
    };

    Pane.prototype.empty = function empty () {
        var this$1 = this;

        var plotArea = this.parent;

        if (plotArea) {
            for (var i = 0; i < this.axes.length; i++) {
                plotArea.removeAxis(this$1.axes[i]);
            }

            for (var i$1 = 0; i$1 < this.charts.length; i$1++) {
                plotArea.removeChart(this$1.charts[i$1]);
            }
        }

        this.axes = [];
        this.charts = [];

        this.content.destroy();
        this.content.children = [];
        this.chartContainer.children = [];
    };

    Pane.prototype.reflow = function reflow (targetBox) {
        // Content (such as charts) is rendered, but excluded from reflows
        var content;
        if (last(this.children) === this.content) {
            content = this.children.pop();
        }

        BoxElement$$1.prototype.reflow.call(this, targetBox);

        if (content) {
            this.children.push(content);
        }

        if (this.title) {
            this.contentBox.y1 += this.title.box.height();
        }
    };

    Pane.prototype.visualStyle = function visualStyle () {
        var style = BoxElement$$1.prototype.visualStyle.call(this);
        style.zIndex = -10;

        return style;
    };

    Pane.prototype.renderComplete = function renderComplete () {
        if (this.options.visible) {
            this.createGridLines();
        }
    };

    Pane.prototype.stackRoot = function stackRoot () {
        return this;
    };

    Pane.prototype.clipRoot = function clipRoot () {
        return this;
    };

    Pane.prototype.createGridLines = function createGridLines () {
        var axes = this.axes;
        var allAxes = axes.concat(this.parent.axes);
        var vGridLines = [];
        var hGridLines = [];

        // TODO
        // Is full combination really necessary?
        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var vertical = axis.options.vertical;
            var gridLines = vertical ? vGridLines : hGridLines;
            for (var j = 0; j < allAxes.length; j++) {
                if (gridLines.length === 0) {
                    var altAxis = allAxes[j];
                    if (vertical !== altAxis.options.vertical) {
                        append$1(gridLines, axis.createGridLines(altAxis));
                    }
                }
            }
        }
    };

    Pane.prototype.refresh = function refresh () {
        this.visual.clear();

        this.content.parent = null;
        this.content.createGradient = this.createGradient.bind(this);
        this.content.renderVisual();
        this.content.parent = this;

        if (this.title) {
            this.visual.append(this.title.visual);
        }

        this.visual.append(this.content.visual);

        this.renderComplete();
        this.notifyRender();
    };

    Pane.prototype.chartsBox = function chartsBox () {
        var axes = this.axes;
        var length = axes.length;
        var chartsBox = new Box();

        for (var idx = 0; idx < length; idx++) {
            var axis = axes[idx];
            var axisValueField = axis.options.vertical ? Y : X;
            var lineBox = axis.lineBox();
            chartsBox[axisValueField + 1] = lineBox[axisValueField + 1];
            chartsBox[axisValueField + 2] = lineBox[axisValueField + 2];
        }

        if (chartsBox.x2 === 0) {
            var allAxes = this.parent.axes;
            var length$1 = allAxes.length;

            for (var idx$1 = 0; idx$1 < length$1; idx$1++) {
                var axis$1 = allAxes[idx$1];
                if (!axis$1.options.vertical) {
                    var lineBox$1 = axis$1.lineBox();
                    chartsBox.x1 = lineBox$1.x1;
                    chartsBox.x2 = lineBox$1.x2;
                }
            }
        }
        return chartsBox;
    };

    Pane.prototype.clipBox = function clipBox () {
        return this.chartContainer.clipBox;
    };

    Pane.prototype.notifyRender = function notifyRender () {
        var service = this.getService();
        if (service) {
            service.notify(PANE_RENDER, {
                pane: new ChartPane(this),
                index: this.paneIndex,
                name: this.options.name
            });
        }
    };

    return Pane;
}(BoxElement));

var ID = 1;

function paneID() {
    return "pane" + ID++;
}

Pane.prototype.isStackRoot = true;

setDefaultOptions(Pane, {
    zIndex: -1,
    shrinkToFit: true,
    title: {
        align: LEFT
    },
    visible: true
});

function appendIfNotNull(array, element) {
    if (element !== null) {
        array.push(element);
    }
}

function segmentVisible(series, fields, index) {
    var visible = fields.visible;
    if (defined(visible)) {
        return visible;
    }

    var pointVisibility = series.pointVisibility;
    if (pointVisibility) {
        return pointVisibility[index];
    }
}

function bindSegments(series) {
    var data = series.data;
    var points = [];
    var sum = 0;
    var count = 0;

    for (var idx = 0; idx < data.length; idx++) {
        var pointData = SeriesBinder.current.bindPoint(series, idx);
        var value = pointData.valueFields.value;


        if (isString(value)) {
            value = parseFloat(value);
        }

        if (isNumber(value)) {
            pointData.visible = segmentVisible(series, pointData.fields, idx) !== false;

            pointData.value = Math.abs(value);
            points.push(pointData);

            if (pointData.visible) {
                sum += pointData.value;
            }

            if (value !== 0) {
                count++;
            }
        } else {
            points.push(null);
        }
    }

    return {
        total: sum,
        points: points,
        count: count
    };
}

function equalsIgnoreCase(a, b) {
    if (a && b) {
        return a.toLowerCase() === b.toLowerCase();
    }

    return a === b;
}

function filterSeriesByType(series, types) {
    var result = [];

    var seriesTypes = [].concat(types);
    for (var idx = 0; idx < series.length; idx++) {
        var currentSeries = series[idx];
        if (inArray(currentSeries.type, seriesTypes)) {
            result.push(currentSeries);
        }
    }

    return result;
}

function getDateField(field, row, intlService) {
    if (row === null) {
        return row;
    }

    var key = "_date_" + field;
    var value = row[key];

    if (!value) {
        value = parseDate(intlService, getter(field, true)(row));
        row[key] = value;
    }

    return value;
}

function isDateAxis(axisOptions, sampleCategory) {
    var type = axisOptions.type;
    var dateCategory = sampleCategory instanceof Date;

    return (!type && dateCategory) || equalsIgnoreCase(type, DATE);
}

function singleItemOrArray(array) {
    return array.length === 1 ? array[0] : array;
}

var AREA_REGEX = /area/i;

function seriesMissingValues$1(series) {
    if (series.missingValues) {
        return series.missingValues;
    }

    return AREA_REGEX.test(series.type) || series.stack ? ZERO : INTERPOLATE;
}

function hasValue$1(series, item) {
    var fields = SeriesBinder.current.bindPoint(series, null, item);
    var valueFields = fields.valueFields;

    for (var field in valueFields) {
        if (convertableToNumber(valueFields[field])) {
            return true;
        }
    }
}

function findNext(ref) {
    var start = ref.start;
    var dir = ref.dir;
    var min = ref.min;
    var max = ref.max;
    var getter$$1 = ref.getter;
    var hasItem = ref.hasItem;
    var series = ref.series;

    var pointHasValue, outPoint;
    var idx = start;
    do {
        idx += dir;
        //aggregating and binding the item takes too much time for large number of categories
        //will assume that if the aggregation does not create value for a missing item for one it will not create for others
        if (hasItem(idx)) {
            outPoint = getter$$1(idx);
            pointHasValue = hasValue$1(series, outPoint.item);
        }
    } while (min <= idx && idx <= max && !pointHasValue);

    if (pointHasValue) {
        return outPoint;
    }
}

function createOutOfRangePoints(series, range, count, getter$$1, hasItem) {
    var min = range.min;
    var max = range.max;
    var hasMinPoint = min > 0 && min < count;
    var hasMaxPoint = max + 1 < count;

    if (hasMinPoint || hasMaxPoint) {
        var missingValues = seriesMissingValues$1(series);
        var minPoint, maxPoint;
        if (missingValues !== INTERPOLATE) {
            if (hasMinPoint) {
                minPoint = getter$$1(min - 1);
            }

            if (hasMaxPoint) {
                maxPoint = getter$$1(max + 1);
            }
        } else {
            var outPoint, pointHasValue;
            if (hasMinPoint) {
                outPoint = getter$$1(min - 1);
                pointHasValue = hasValue$1(series, outPoint.item);
                if (!pointHasValue) {
                    minPoint = findNext({
                        start: min,
                        dir: -1,
                        min: 0,
                        max: count - 1,
                        getter: getter$$1,
                        hasItem: hasItem,
                        series: series
                    });
                } else {
                    minPoint = outPoint;
                }
            }

            if (hasMaxPoint) {
                outPoint = getter$$1(max + 1);
                pointHasValue = hasValue$1(series, outPoint.item);
                if (!pointHasValue) {
                    maxPoint = findNext({
                        start: max,
                        dir: 1,
                        min: 0,
                        max: count - 1,
                        getter: getter$$1,
                        hasItem: hasItem,
                        series: series
                    });
                } else {
                    maxPoint = outPoint;
                }
            }
        }

        if (minPoint) {
            series._outOfRangeMinPoint = minPoint;
        }

        if (maxPoint) {
            series._outOfRangeMaxPoint = maxPoint;
        }
    }
}

var PlotAreaBase = (function (ChartElement$$1) {
    function PlotAreaBase(series, options, chartService) {
        ChartElement$$1.call(this, options);

        this.initFields(series, options);
        this.series = series;
        this.initSeries();
        this.charts = [];
        this.options.legend = this.options.legend || {};
        this.options.legend.items = [];
        this.axes = [];
        this.crosshairs = [];
        this.chartService = chartService;
        this.originalOptions = options;

        this.createPanes();
        this.render();
        this.createCrosshairs();
    }

    if ( ChartElement$$1 ) PlotAreaBase.__proto__ = ChartElement$$1;
    PlotAreaBase.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PlotAreaBase.prototype.constructor = PlotAreaBase;

    PlotAreaBase.prototype.initFields = function initFields () { };

    PlotAreaBase.prototype.initSeries = function initSeries () {
        var series = this.series;

        for (var i = 0; i < series.length; i++) {
            series[i].index = i;
        }
    };

    PlotAreaBase.prototype.createPanes = function createPanes () {
        var this$1 = this;

        var titleOptions = this.options.title || {};
        var paneDefaults = this.options.paneDefaults;
        var paneOptions = this.options.panes || [];
        var panesLength = Math.max(paneOptions.length, 1);
        var panes = [];

        var defaults = deepExtend({
            title: {
                color: titleOptions.color
            }
        }, paneDefaults);

        for (var i = 0; i < panesLength; i++) {
            var options = deepExtend({}, defaults, paneOptions[i]);
            if (isString(options.title)) {
                options.title = deepExtend({ text: options.title }, defaults.title);
            }

            var currentPane = new Pane(options);
            currentPane.paneIndex = i;

            panes.push(currentPane);
            this$1.append(currentPane);
        }

        this.panes = panes;
    };

    PlotAreaBase.prototype.crosshairOptions = function crosshairOptions (axis) {
        return axis.options.crosshair;
    };

    PlotAreaBase.prototype.createCrosshairs = function createCrosshairs (panes) {
        var this$1 = this;
        if ( panes === void 0 ) panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            for (var j = 0; j < pane.axes.length; j++) {
                var axis = pane.axes[j];
                var options = this$1.crosshairOptions(axis);
                if (options && options.visible) {
                    var currentCrosshair = new Crosshair(this$1.chartService, axis, options);

                    this$1.crosshairs.push(currentCrosshair);
                    pane.content.append(currentCrosshair);
                }
            }
        }
    };

    PlotAreaBase.prototype.removeCrosshairs = function removeCrosshairs (pane) {
        var crosshairs = this.crosshairs;
        var axes = pane.axes;

        for (var i = crosshairs.length - 1; i >= 0; i--) {
            for (var j = 0; j < axes.length; j++) {
                if (crosshairs[i].axis === axes[j]) {
                    crosshairs.splice(i, 1);
                    break;
                }
            }
        }
    };

    PlotAreaBase.prototype.hideCrosshairs = function hideCrosshairs () {
        var crosshairs = this.crosshairs;
        for (var idx = 0; idx < crosshairs.length; idx++) {
            crosshairs[idx].hide();
        }
    };

    PlotAreaBase.prototype.findPane = function findPane (name) {
        var panes = this.panes;
        var matchingPane;

        for (var i = 0; i < panes.length; i++) {
            if (panes[i].options.name === name) {
                matchingPane = panes[i];
                break;
            }
        }

        return matchingPane || panes[0];
    };

    PlotAreaBase.prototype.findPointPane = function findPointPane (point) {
        var panes = this.panes;
        var matchingPane;

        for (var i = 0; i < panes.length; i++) {
            if (panes[i].box.containsPoint(point)) {
                matchingPane = panes[i];
                break;
            }
        }

        return matchingPane;
    };

    PlotAreaBase.prototype.appendAxis = function appendAxis (axis) {
        var pane = this.findPane(axis.options.pane);

        pane.appendAxis(axis);
        this.axes.push(axis);
        axis.plotArea = this;
    };

    PlotAreaBase.prototype.removeAxis = function removeAxis (axisToRemove) {
        var this$1 = this;

        var filteredAxes = [];

        for (var i = 0; i < this.axes.length; i++) {
            var axis = this$1.axes[i];
            if (axisToRemove !== axis) {
                filteredAxes.push(axis);
            } else {
                axis.destroy();
            }
        }

        this.axes = filteredAxes;
    };

    PlotAreaBase.prototype.appendChart = function appendChart (chart, pane) {
        this.charts.push(chart);
        if (pane) {
            pane.appendChart(chart);
        } else {
            this.append(chart);
        }
    };

    PlotAreaBase.prototype.removeChart = function removeChart (chartToRemove) {
        var this$1 = this;

        var filteredCharts = [];

        for (var i = 0; i < this.charts.length; i++) {
            var chart = this$1.charts[i];
            if (chart !== chartToRemove) {
                filteredCharts.push(chart);
            } else {
                chart.destroy();
            }
        }

        this.charts = filteredCharts;
    };

    PlotAreaBase.prototype.addToLegend = function addToLegend (series) {
        var count = series.length;
        var legend = this.options.legend;
        var labels = legend.labels || {};
        var inactiveItems = legend.inactiveItems || {};
        var inactiveItemsLabels = inactiveItems.labels || {};
        var data = [];

        for (var i = 0; i < count; i++) {
            var currentSeries = series[i];
            var seriesVisible = currentSeries.visible !== false;
            if (currentSeries.visibleInLegend === false) {
                continue;
            }

            var text = currentSeries.name;
            var labelTemplate = seriesVisible ? getTemplate(labels) : getTemplate(inactiveItemsLabels) || getTemplate(labels);
            if (labelTemplate) {
                text = labelTemplate({
                    text: hasValue(text) ? text : "",
                    series: currentSeries
                });
            }

            var defaults = currentSeries._defaults;
            var color = currentSeries.color;
            if (isFunction(color) && defaults) {
                color = defaults.color;
            }

            var itemLabelOptions = (void 0), markerColor = (void 0);
            if (seriesVisible) {
                itemLabelOptions = {};
                markerColor = color;
            } else {
                itemLabelOptions = {
                    color: inactiveItemsLabels.color,
                    font: inactiveItemsLabels.font
                };
                markerColor = inactiveItems.markers.color;
            }

            if (hasValue(text) && text !== "") {
                data.push({
                    text: text,
                    labels: itemLabelOptions,
                    markerColor: markerColor,
                    series: currentSeries,
                    active: seriesVisible
                });
            }
        }

        append$1(legend.items, data);
    };

    PlotAreaBase.prototype.groupAxes = function groupAxes (panes) {
        var xAxes = [];
        var yAxes = [];

        for (var paneIx = 0; paneIx < panes.length; paneIx++) {
            var paneAxes = panes[paneIx].axes;
            for (var axisIx = 0; axisIx < paneAxes.length; axisIx++) {
                var axis = paneAxes[axisIx];
                if (axis.options.vertical) {
                    yAxes.push(axis);
                } else {
                    xAxes.push(axis);
                }
            }
        }

        return { x: xAxes, y: yAxes, any: xAxes.concat(yAxes) };
    };

    PlotAreaBase.prototype.groupSeriesByPane = function groupSeriesByPane () {
        var this$1 = this;

        var series = this.series;
        var seriesByPane = {};

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var pane = this$1.seriesPaneName(currentSeries);

            if (seriesByPane[pane]) {
                seriesByPane[pane].push(currentSeries);
            } else {
                seriesByPane[pane] = [ currentSeries ];
            }
        }

        return seriesByPane;
    };

    PlotAreaBase.prototype.filterVisibleSeries = function filterVisibleSeries (series) {
        var result = [];

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            if (currentSeries.visible !== false) {
                result.push(currentSeries);
            }
        }

        return result;
    };

    PlotAreaBase.prototype.reflow = function reflow (targetBox) {
        var options = this.options.plotArea;
        var panes = this.panes;
        var margin = getSpacing(options.margin);

        this.box = targetBox.clone().unpad(margin);
        this.reflowPanes();

        this.detachLabels();
        this.reflowAxes(panes);
        this.reflowCharts(panes);
    };

    PlotAreaBase.prototype.redraw = function redraw (panes) {
        var this$1 = this;

        var panesArray = [].concat(panes);
        this.initSeries();

        //prevents leak during partial redraws. the cached gradients observers retain reference to the destroyed elements.
        var root = this.getRoot();
        if (root) {
            root.cleanGradients();
        }

        for (var i = 0; i < panesArray.length; i++) {
            this$1.removeCrosshairs(panesArray[i]);
            panesArray[i].empty();
        }

        this.render(panesArray);
        this.detachLabels();
        this.reflowAxes(this.panes);
        this.reflowCharts(panesArray);

        this.createCrosshairs(panesArray);

        for (var i$1 = 0; i$1 < panesArray.length; i$1++) {
            panesArray[i$1].refresh();
        }
    };

    PlotAreaBase.prototype.axisCrossingValues = function axisCrossingValues (axis, crossingAxes) {
        var options = axis.options;
        var crossingValues = [].concat(
            options.axisCrossingValues || options.axisCrossingValue
        );
        var valuesToAdd = crossingAxes.length - crossingValues.length;
        var defaultValue = crossingValues[0] || 0;

        for (var i = 0; i < valuesToAdd; i++) {
            crossingValues.push(defaultValue);
        }

        return crossingValues;
    };

    PlotAreaBase.prototype.alignAxisTo = function alignAxisTo (axis, targetAxis, crossingValue, targetCrossingValue) {
        var slot = axis.getSlot(crossingValue, crossingValue, true);
        var slotEdge = axis.options.reverse ? 2 : 1;
        var targetSlot = targetAxis.getSlot(targetCrossingValue, targetCrossingValue, true);
        var targetEdge = targetAxis.options.reverse ? 2 : 1;
        var axisBox = axis.box.translate(
            targetSlot[X + targetEdge] - slot[X + slotEdge],
            targetSlot[Y + targetEdge] - slot[Y + slotEdge]
        );

        if (axis.pane !== targetAxis.pane) {
            axisBox.translate(0, axis.pane.box.y1 - targetAxis.pane.box.y1);
        }

        axis.reflow(axisBox);
    };

    PlotAreaBase.prototype.alignAxes = function alignAxes (xAxes, yAxes) {
        var this$1 = this;

        var xAnchor = xAxes[0];
        var yAnchor = yAxes[0];
        var xAnchorCrossings = this.axisCrossingValues(xAnchor, yAxes);
        var yAnchorCrossings = this.axisCrossingValues(yAnchor, xAxes);
        var leftAnchors = {};
        var rightAnchors = {};
        var topAnchors = {};
        var bottomAnchors = {};

        for (var i = 0; i < yAxes.length; i++) {
            var axis = yAxes[i];
            var pane = axis.pane;
            var paneId = pane.id;
            var visible = axis.options.visible !== false;

            // Locate pane anchor, if any, and use its axisCrossingValues
            var anchor = paneAnchor(xAxes, pane) || xAnchor;
            var anchorCrossings = xAnchorCrossings;

            if (anchor !== xAnchor) {
                anchorCrossings = this$1.axisCrossingValues(anchor, yAxes);
            }

            this$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);

            if (axis.options._overlap) {
                continue;
            }

            if (round(axis.lineBox().x1) === round(anchor.lineBox().x1)) {
                // Push the axis to the left the previous y-axis so they don't overlap
                if (leftAnchors[paneId]) {
                    axis.reflow(axis.box
                        .alignTo(leftAnchors[paneId].box, LEFT)
                        .translate(-axis.options.margin, 0)
                    );
                }

                if (visible) {
                    leftAnchors[paneId] = axis;
                }
            }

            if (round(axis.lineBox().x2) === round(anchor.lineBox().x2)) {
                // Flip the labels on the right if we're at the right end of the pane
                if (!axis._mirrored) {
                    axis.options.labels.mirror = !axis.options.labels.mirror;
                    axis._mirrored = true;
                }

                this$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);

                // Push the axis to the right the previous y-axis so they don't overlap
                if (rightAnchors[paneId]) {
                    axis.reflow(axis.box
                        .alignTo(rightAnchors[paneId].box, RIGHT)
                        .translate(axis.options.margin, 0)
                    );
                }

                if (visible) {
                    rightAnchors[paneId] = axis;
                }
            }

            if (i !== 0 && yAnchor.pane === axis.pane) {
                axis.alignTo(yAnchor);
                axis.reflow(axis.box);
            }
        }

        for (var i$1 = 0; i$1 < xAxes.length; i$1++) {
            var axis$1 = xAxes[i$1];
            var pane$1 = axis$1.pane;
            var paneId$1 = pane$1.id;
            var visible$1 = axis$1.options.visible !== false;

            // Locate pane anchor and use its axisCrossingValues
            var anchor$1 = paneAnchor(yAxes, pane$1) || yAnchor;
            var anchorCrossings$1 = yAnchorCrossings;
            if (anchor$1 !== yAnchor) {
                anchorCrossings$1 = this$1.axisCrossingValues(anchor$1, xAxes);
            }

            this$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);

            if (axis$1.options._overlap) {
                continue;
            }

            if (round(axis$1.lineBox().y1) === round(anchor$1.lineBox().y1)) {
                // Flip the labels on top if we're at the top of the pane
                if (!axis$1._mirrored) {
                    axis$1.options.labels.mirror = !axis$1.options.labels.mirror;
                    axis$1._mirrored = true;
                }
                this$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);

                // Push the axis above the previous x-axis so they don't overlap
                if (topAnchors[paneId$1]) {
                    axis$1.reflow(axis$1.box
                        .alignTo(topAnchors[paneId$1].box, TOP)
                        .translate(0, -axis$1.options.margin)
                    );
                }

                if (visible$1) {
                    topAnchors[paneId$1] = axis$1;
                }
            }

            if (round(axis$1.lineBox().y2, COORD_PRECISION) === round(anchor$1.lineBox().y2, COORD_PRECISION)) {
                // Push the axis below the previous x-axis so they don't overlap
                if (bottomAnchors[paneId$1]) {
                    axis$1.reflow(axis$1.box
                        .alignTo(bottomAnchors[paneId$1].box, BOTTOM)
                        .translate(0, axis$1.options.margin)
                    );
                }

                if (visible$1) {
                    bottomAnchors[paneId$1] = axis$1;
                }
            }

            if (i$1 !== 0) {
                axis$1.alignTo(xAnchor);
                axis$1.reflow(axis$1.box);
            }
        }
    };

    PlotAreaBase.prototype.shrinkAxisWidth = function shrinkAxisWidth (panes) {
        var axes = this.groupAxes(panes).any;
        var axisBox = axisGroupBox(axes);
        var overflowX = 0;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];

            if (currentPane.axes.length > 0) {
                overflowX = Math.max(
                    overflowX,
                    axisBox.width() - currentPane.contentBox.width()
                );
            }
        }

        if (overflowX !== 0) {
            for (var i$1 = 0; i$1 < axes.length; i$1++) {
                var currentAxis = axes[i$1];

                if (!currentAxis.options.vertical) {
                    currentAxis.reflow(currentAxis.box.shrink(overflowX, 0));
                }
            }
        }
    };

    PlotAreaBase.prototype.shrinkAxisHeight = function shrinkAxisHeight (panes) {
        var shrinked;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            var axes = currentPane.axes;
            var overflowY = Math.max(0, axisGroupBox(axes).height() - currentPane.contentBox.height());

            if (overflowY !== 0) {
                for (var j = 0; j < axes.length; j++) {
                    var currentAxis = axes[j];

                    if (currentAxis.options.vertical) {
                        currentAxis.reflow(
                            currentAxis.box.shrink(0, overflowY)
                        );
                    }
                }
                shrinked = true;
            }
        }

        return shrinked;
    };

    PlotAreaBase.prototype.fitAxes = function fitAxes (panes) {
        var axes = this.groupAxes(panes).any;
        var offsetX = 0;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            var paneAxes = currentPane.axes;
            var paneBox = currentPane.contentBox;

            if (paneAxes.length > 0) {
                var axisBox = axisGroupBox(paneAxes);
                // OffsetY is calculated and applied per pane
                var offsetY = Math.max(paneBox.y1 - axisBox.y1, paneBox.y2 - axisBox.y2);

                // OffsetX is calculated and applied globally
                offsetX = Math.max(offsetX, paneBox.x1 - axisBox.x1);


                for (var j = 0; j < paneAxes.length; j++) {
                    var currentAxis = paneAxes[j];

                    currentAxis.reflow(
                        currentAxis.box.translate(0, offsetY)
                    );
                }
            }
        }

        for (var i$1 = 0; i$1 < axes.length; i$1++) {
            var currentAxis$1 = axes[i$1];

            currentAxis$1.reflow(
                currentAxis$1.box.translate(offsetX, 0)
            );
        }
    };

    PlotAreaBase.prototype.reflowAxes = function reflowAxes (panes) {
        var this$1 = this;

        var axes = this.groupAxes(panes);

        for (var i = 0; i < panes.length; i++) {
            this$1.reflowPaneAxes(panes[i]);
        }

        if (axes.x.length > 0 && axes.y.length > 0) {
            this.alignAxes(axes.x, axes.y);
            this.shrinkAxisWidth(panes);

            this.autoRotateAxisLabels(axes);

            this.alignAxes(axes.x, axes.y);
            if (this.shrinkAxisWidth(panes)) {
                this.alignAxes(axes.x, axes.y);
            }

            this.shrinkAxisHeight(panes);
            this.alignAxes(axes.x, axes.y);

            if (this.shrinkAxisHeight(panes)) {
                this.alignAxes(axes.x, axes.y);
            }

            this.fitAxes(panes);
        }
    };

    PlotAreaBase.prototype.autoRotateAxisLabels = function autoRotateAxisLabels (groupedAxes) {
        var this$1 = this;

        var ref = this;
        var panes = ref.panes;
        var axes = allPaneAxes(panes);
        var rotated;

        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            if (axis.autoRotateLabels()) {
                rotated = true;
            }
        }

        if (rotated) {
            for (var idx$1 = 0; idx$1 < panes.length; idx$1++) {
                this$1.reflowPaneAxes(panes[idx$1]);
            }

            if (groupedAxes.x.length > 0 && groupedAxes.y.length > 0) {
                this.alignAxes(groupedAxes.x, groupedAxes.y);
                this.shrinkAxisWidth(panes);
            }
        }
    };

    PlotAreaBase.prototype.reflowPaneAxes = function reflowPaneAxes (pane) {
        var axes = pane.axes;
        var length = axes.length;

        if (length > 0) {
            for (var i = 0; i < length; i++) {
                axes[i].reflow(pane.contentBox);
            }
        }
    };

    PlotAreaBase.prototype.reflowCharts = function reflowCharts (panes) {
        var charts = this.charts;
        var count = charts.length;
        var box = this.box;

        for (var i = 0; i < count; i++) {
            var chartPane = charts[i].pane;
            if (!chartPane || inArray(chartPane, panes)) {
                charts[i].reflow(box);
            }
        }
    };

    PlotAreaBase.prototype.reflowPanes = function reflowPanes () {
        var ref = this;
        var box = ref.box;
        var panes = ref.panes;
        var panesLength = panes.length;
        var remainingHeight = box.height();
        var remainingPanes = panesLength;
        var autoHeightPanes = 0;
        var top = box.y1;

        for (var i = 0; i < panesLength; i++) {
            var currentPane = panes[i];
            var height = currentPane.options.height;

            currentPane.options.width = box.width();

            if (!currentPane.options.height) {
                autoHeightPanes++;
            } else {
                if (height.indexOf && height.indexOf("%")) {
                    var percents = parseInt(height, 10) / 100;
                    currentPane.options.height = percents * box.height();
                }

                currentPane.reflow(box.clone());

                remainingHeight -= currentPane.options.height;
            }
        }

        for (var i$1 = 0; i$1 < panesLength; i$1++) {
            var currentPane$1 = panes[i$1];

            if (!currentPane$1.options.height) {
                currentPane$1.options.height = remainingHeight / autoHeightPanes;
            }
        }

        for (var i$2 = 0; i$2 < panesLength; i$2++) {
            var currentPane$2 = panes[i$2];
            var paneBox = box
                .clone()
                .move(box.x1, top);

            currentPane$2.reflow(paneBox);

            remainingPanes--;
            top += currentPane$2.options.height;
        }
    };

    PlotAreaBase.prototype.backgroundBox = function backgroundBox () {
        var axes = this.axes;
        var axesCount = axes.length;
        var box;

        for (var i = 0; i < axesCount; i++) {
            var axisA = axes[i];

            for (var j = 0; j < axesCount; j++) {
                var axisB = axes[j];

                if (axisA.options.vertical !== axisB.options.vertical) {
                    var lineBox = axisA.lineBox().clone().wrap(axisB.lineBox());

                    if (!box) {
                        box = lineBox;
                    } else {
                        box = box.wrap(lineBox);
                    }
                }
            }
        }

        return box || this.box;
    };

    PlotAreaBase.prototype.chartsBoxes = function chartsBoxes () {
        var panes = this.panes;
        var boxes = [];

        for (var idx = 0; idx < panes.length; idx++) {
            boxes.push(panes[idx].chartsBox());
        }

        return boxes;
    };

    PlotAreaBase.prototype.addBackgroundPaths = function addBackgroundPaths (multipath) {
        var boxes = this.chartsBoxes();
        for (var idx = 0; idx < boxes.length; idx++) {
            multipath.paths.push(_progress_kendoDrawing.drawing.Path.fromRect(boxes[idx].toRect()));
        }
    };

    PlotAreaBase.prototype.backgroundContainsPoint = function backgroundContainsPoint (point) {
        var boxes = this.chartsBoxes();
        for (var idx = 0; idx < boxes.length; idx++) {
            if (boxes[idx].containsPoint(point)) {
                return true;
            }
        }
    };

    PlotAreaBase.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options.plotArea;
        var opacity = options.opacity;
        var background = options.background;
        var border = options.border; if ( border === void 0 ) border = {};
        if (isTransparent(background)) {
            background = WHITE;
            opacity = 0;
        }

        var bg = this._bgVisual = new _progress_kendoDrawing.drawing.MultiPath({
            fill: {
                color: background,
                opacity: opacity
            },
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType
            },
            zIndex: -1
        });

        this.addBackgroundPaths(bg);

        this.appendVisual(bg);
    };

    PlotAreaBase.prototype.pointsByCategoryIndex = function pointsByCategoryIndex (categoryIndex) {
        var charts = this.charts;
        var result = [];

        if (categoryIndex !== null) {
            for (var i = 0; i < charts.length; i++) {
                var chart = charts[i];
                if (chart.pane.options.name === "_navigator") {
                    continue;
                }

                var points = charts[i].categoryPoints[categoryIndex];
                if (points && points.length) {
                    for (var j = 0; j < points.length; j++) {
                        var point = points[j];
                        if (point && defined(point.value) && point.value !== null) {
                            result.push(point);
                        }
                    }
                }
            }
        }

        return result;
    };

    PlotAreaBase.prototype.pointsBySeriesIndex = function pointsBySeriesIndex (seriesIndex) {
        return this.filterPoints(function(point) {
            return point.series.index === seriesIndex;
        });
    };

    PlotAreaBase.prototype.pointsBySeriesName = function pointsBySeriesName (name) {
        return this.filterPoints(function(point) {
            return point.series.name === name;
        });
    };

    PlotAreaBase.prototype.filterPoints = function filterPoints (callback) {
        var charts = this.charts;
        var result = [];

        for (var i = 0; i < charts.length; i++) {
            var chart = charts[i];
            var points = chart.points;
            for (var j = 0; j < points.length; j++) {
                var point = points[j];
                if (point && point.visible !== false && callback(point)) {
                    result.push(point);
                }
            }
        }

        return result;
    };

    PlotAreaBase.prototype.findPoint = function findPoint (callback) {
        var charts = this.charts;

        for (var i = 0; i < charts.length; i++) {
            var chart = charts[i];
            var points = chart.points;
            for (var j = 0; j < points.length; j++) {
                var point = points[j];
                if (point && point.visible !== false && callback(point)) {
                    return point;
                }
            }
        }
    };

    PlotAreaBase.prototype.paneByPoint = function paneByPoint (point) {
        var panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            if (pane.box.containsPoint(point)) {
                return pane;
            }
        }
    };

    PlotAreaBase.prototype.detachLabels = function detachLabels () {
        var axes = this.groupAxes(this.panes);
        var xAxes = axes.x;
        var yAxes = axes.y;

        this.detachAxisGroupLabels(yAxes, xAxes);
        this.detachAxisGroupLabels(xAxes, yAxes);
    };

    PlotAreaBase.prototype.detachAxisGroupLabels = function detachAxisGroupLabels (axes, crossingAxes) {
        var this$1 = this;

        var labelAxisCount = 0;

        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var pane = axis.pane;
            var anchor = paneAnchor(crossingAxes, pane) || crossingAxes[0];
            var axisIndex = i + labelAxisCount;
            var labelAxis = this$1.createLabelAxis(axis, axisIndex, anchor);

            if (labelAxis) {
                labelAxisCount++;

                var pos = pane.axes.indexOf(axis) + labelAxisCount;
                pane.appendAxisAt(labelAxis, pos);
            }
        }
    };

    PlotAreaBase.prototype.createLabelAxis = function createLabelAxis (axis, axisIndex, anchor) {
        var labelOptions = axis.options.labels;
        var position = labelOptions.position;
        var onAxis = position !== END && position !== START;
        var visible = labelOptions.visible;

        if (onAxis || visible === false) {
            return null;
        }

        var allAxes = this.groupAxes(this.panes);
        var crossingAxes = anchor.options.vertical ? allAxes.x : allAxes.y;
        var anchorCrossings = this.axisCrossingValues(anchor, crossingAxes);
        var end = position === END;
        var range = anchor.range();
        var edge = end ? range.max : range.min;
        var crossingValue = limitValue(anchorCrossings[axisIndex], range.min, range.max);

        if (crossingValue - edge === 0) {
            return null;
        }

        anchorCrossings.splice(axisIndex + 1, 0, edge);
        anchor.options.axisCrossingValues = anchorCrossings;

        var labelAxis = axis.clone();
        axis.clear();

        labelAxis.options.name = undefined;
        labelAxis.options.line.visible = false;

        labelAxis.options.crosshair = undefined;
        labelAxis.options.notes = undefined;
        labelAxis.options.plotBands = undefined;

        return labelAxis;
    };

    return PlotAreaBase;
}(ChartElement));

function isSingleAxis(axis) {
    return !axis.pane.axes.some(function (a) { return a.options.vertical === axis.options.vertical && a !== axis && a.options.visible !== false; }
    );
}

function axisGroupBox(axes) {
    var length = axes.length;
    var box;

    for (var i = 0; i < length; i++) {
        var axis = axes[i];
        var visible = axis.options.visible !== false;
        if (visible || isSingleAxis(axis)) {
            var axisBox = visible ? axis.contentBox() : axis.lineBox();

            if (!box) {
                box = axisBox.clone();
            } else {
                box.wrap(axisBox);
            }
        }
    }

    return box || new Box();
}

function paneAnchor(axes, pane) {
    for (var i = 0; i < axes.length; i++) {
        var anchor = axes[i];
        if (anchor && anchor.pane === pane) {
            return anchor;
        }
    }
}

function isTransparent(color) {
    return color === "" || color === null || color === "none" || color === "transparent" || !defined(color);
}

var allPaneAxes = function (panes) { return panes.reduce(function (acc, pane) { return acc.concat(pane.axes); }, []); };

setDefaultOptions(PlotAreaBase, {
    series: [],
    plotArea: {
        margin: {}
    },
    background: "",
    border: {
        color: BLACK,
        width: 0
    },
    paneDefaults: {
        title: {}
    },
    legend: {
        inactiveItems: {
            labels: {
                color: "#919191"
            },
            markers: {
                color: "#919191"
            }
        }
    }
});

var PlotAreaEventsMixin = {
    hover: function(chart, e) {
        this._dispatchEvent(chart, e, PLOT_AREA_HOVER);
    },

    click: function(chart, e) {
        this._dispatchEvent(chart, e, PLOT_AREA_CLICK);
    }
};

var SeriesAggregator = (function (Class$$1) {
    function SeriesAggregator(series, binder, defaultAggregates) {
        Class$$1.call(this);

        var canonicalFields = binder.canonicalFields(series);
        var valueFields = binder.valueFields(series);
        var sourceFields = binder.sourceFields(series, canonicalFields);
        var seriesFields = this._seriesFields = [];
        var defaults = defaultAggregates.query(series.type);
        var rootAggregate = series.aggregate || defaults;

        this._series = series;
        this._binder = binder;

        for (var i = 0; i < canonicalFields.length; i++) {
            var field = canonicalFields[i];
            var fieldAggregate = (void 0);

            if (isObject(rootAggregate)) {
                fieldAggregate = rootAggregate[field];
            } else if (i === 0 || inArray(field, valueFields)) {
                fieldAggregate = rootAggregate;
            } else {
                break;
            }

            if (fieldAggregate) {
                seriesFields.push({
                    canonicalName: field,
                    name: sourceFields[i],
                    transform: isFunction(fieldAggregate) ? fieldAggregate : Aggregates[fieldAggregate]
                });
            }
        }
    }

    if ( Class$$1 ) SeriesAggregator.__proto__ = Class$$1;
    SeriesAggregator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SeriesAggregator.prototype.constructor = SeriesAggregator;

    SeriesAggregator.prototype.aggregatePoints = function aggregatePoints (srcPoints, group) {
        var this$1 = this;

        var ref = this;
        var series = ref._series;
        var seriesFields = ref._seriesFields;
        var data = this._bindPoints(srcPoints || []);
        var firstDataItem = data.dataItems[0];
        var result = {};

        if (firstDataItem && !isNumber(firstDataItem) && !isArray(firstDataItem)) {
            var fn = function() {};
            fn.prototype = firstDataItem;
            result = new fn();
        }

        for (var i = 0; i < seriesFields.length; i++) {
            var field = seriesFields[i];
            var srcValues = this$1._bindField(data.values, field.canonicalName);
            var value = field.transform(srcValues, series, data.dataItems, group);

            if (value !== null && isObject(value) && !defined(value.length) && !(value instanceof Date)) {
                result = value;
                break;
            } else {
                if (defined(value)) {
                    setValue(field.name, result, value);
                }
            }
        }

        return result;
    };

    SeriesAggregator.prototype._bindPoints = function _bindPoints (points) {
        var ref = this;
        var binder = ref._binder;
        var series = ref._series;
        var values = [];
        var dataItems = [];

        for (var i = 0; i < points.length; i++) {
            var pointIx = points[i];

            values.push(binder.bindPoint(series, pointIx));
            dataItems.push(series.data[pointIx]);
        }

        return {
            values: values,
            dataItems: dataItems
        };
    };

    SeriesAggregator.prototype._bindField = function _bindField (data, field) {
        var values = [];
        var count = data.length;

        for (var i = 0; i < count; i++) {
            var item = data[i];
            var valueFields = item.valueFields;
            var value = (void 0);

            if (defined(valueFields[field])) {
                value = valueFields[field];
            } else {
                value = item.fields[field];
            }

            values.push(value);
        }

        return values;
    };

    return SeriesAggregator;
}(_progress_kendoDrawing.Class));

function setValue(fieldName, target, value) {
    var parentObj = target;
    var field = fieldName;

    if (fieldName.indexOf(".") > -1) {
        var parts = fieldName.split(".");

        while (parts.length > 1) {
            field = parts.shift();
            if (!defined(parentObj[field])) {
                parentObj[field] = {};
            }
            parentObj = parentObj[field];
        }
        field = parts.shift();
    }

    parentObj[field] = value;
}

var DefaultAggregates = (function (Class$$1) {
    function DefaultAggregates() {
        Class$$1.call(this);

        this._defaults = {};
    }

    if ( Class$$1 ) DefaultAggregates.__proto__ = Class$$1;
    DefaultAggregates.prototype = Object.create( Class$$1 && Class$$1.prototype );
    DefaultAggregates.prototype.constructor = DefaultAggregates;

    DefaultAggregates.prototype.register = function register (seriesTypes, aggregates) {
        var this$1 = this;

        for (var i = 0; i < seriesTypes.length; i++) {
            this$1._defaults[seriesTypes[i]] = aggregates;
        }
    };

    DefaultAggregates.prototype.query = function query (seriesType) {
        return this._defaults[seriesType];
    };

    return DefaultAggregates;
}(_progress_kendoDrawing.Class));

DefaultAggregates.current = new DefaultAggregates();

var RangeBar = (function (Bar$$1) {
    function RangeBar () {
        Bar$$1.apply(this, arguments);
    }

    if ( Bar$$1 ) RangeBar.__proto__ = Bar$$1;
    RangeBar.prototype = Object.create( Bar$$1 && Bar$$1.prototype );
    RangeBar.prototype.constructor = RangeBar;

    RangeBar.prototype.createLabel = function createLabel () {
        var labels = this.options.labels;
        var fromOptions = deepExtend({}, labels, labels.from);
        var toOptions = deepExtend({}, labels, labels.to);

        if (fromOptions.visible) {
            this.labelFrom = this._createLabel(fromOptions);
            this.append(this.labelFrom);
        }

        if (toOptions.visible) {
            this.labelTo = this._createLabel(toOptions);
            this.append(this.labelTo);
        }
    };

    RangeBar.prototype._createLabel = function _createLabel (options) {
        var labelTemplate = getTemplate(options);
        var pointData = this.pointData();

        var labelText;

        if (labelTemplate) {
            labelText = labelTemplate(pointData);
        } else {
            labelText = this.formatValue(options.format);
        }

        return new BarLabel(labelText,
            deepExtend({
                vertical: this.options.vertical
            },
            options
        ), pointData);
    };

    RangeBar.prototype.reflow = function reflow (targetBox) {
        this.render();

        var ref = this;
        var labelFrom = ref.labelFrom;
        var labelTo = ref.labelTo;
        var value = ref.value;

        this.box = targetBox;

        if (labelFrom) {
            labelFrom.options.aboveAxis = value.from > value.to;
            labelFrom.reflow(targetBox);
        }

        if (labelTo) {
            labelTo.options.aboveAxis = value.to > value.from;
            labelTo.reflow(targetBox);
        }

        if (this.note) {
            this.note.reflow(targetBox);
        }
    };

    return RangeBar;
}(Bar));

RangeBar.prototype.defaults = deepExtend({}, RangeBar.prototype.defaults, {
    labels: {
        format: "{0} - {1}"
    },
    tooltip: {
        format: "{1}"
    }
});

var RangeBarChart = (function (BarChart$$1) {
    function RangeBarChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) RangeBarChart.__proto__ = BarChart$$1;
    RangeBarChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    RangeBarChart.prototype.constructor = RangeBarChart;

    RangeBarChart.prototype.pointType = function pointType () {
        return RangeBar;
    };

    RangeBarChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields;
    };

    RangeBarChart.prototype.formatPointValue = function formatPointValue (point, format) {
        if (point.value.from === null && point.value.to === null) {
            return "";
        }

        return this.chartService.format.auto(format, point.value.from, point.value.to);
    };

    RangeBarChart.prototype.plotRange = function plotRange (point) {
        if (!point) {
            return 0;
        }

        return [ point.value.from, point.value.to ];
    };

    RangeBarChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var from = value.from;
        var to = value.to;
        var axisRange = this.valueAxisRanges[axisName];

        if (value !== null && isNumber(from) && isNumber(to)) {
            axisRange = this.valueAxisRanges[axisName] = axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, from);
            axisRange.max = Math.max(axisRange.max, from);

            axisRange.min = Math.min(axisRange.min, to);
            axisRange.max = Math.max(axisRange.max, to);
        }
    };

    RangeBarChart.prototype.aboveAxis = function aboveAxis (point) {
        var value = point.value;
        return value.from < value.to;
    };

    return RangeBarChart;
}(BarChart));

RangeBarChart.prototype.plotLimits = CategoricalChart.prototype.plotLimits;

var RangeLinePoint = (function (LinePoint$$1) {
    function RangeLinePoint () {
        LinePoint$$1.apply(this, arguments);
    }

    if ( LinePoint$$1 ) RangeLinePoint.__proto__ = LinePoint$$1;
    RangeLinePoint.prototype = Object.create( LinePoint$$1 && LinePoint$$1.prototype );
    RangeLinePoint.prototype.constructor = RangeLinePoint;

    RangeLinePoint.prototype.aliasFor = function aliasFor () {
        return this.parent;
    };

    return RangeLinePoint;
}(LinePoint));

var AUTO$1 = 'auto';
var DEFAULT_FROM_FORMAT = '{0}';
var DEFAULT_TO_FORMAT = '{1}';

var RangeAreaPoint = (function (ChartElement$$1) {
    function RangeAreaPoint(value, options) {
        ChartElement$$1.call(this);

        this.value = value;
        this.options = options;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.tooltipTracking = true;
        this.initLabelsFormat();
    }

    if ( ChartElement$$1 ) RangeAreaPoint.__proto__ = ChartElement$$1;
    RangeAreaPoint.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RangeAreaPoint.prototype.constructor = RangeAreaPoint;

    RangeAreaPoint.prototype.render = function render () {
        if (this._rendered) {
            return;
        }

        this._rendered = true;

        var ref = this.options;
        var markers = ref.markers;
        var labels = ref.labels;
        var value = this.value;

        var fromPoint = this.fromPoint = new RangeLinePoint(value, deepExtend({}, this.options, {
            labels: labels.from,
            markers: markers.from
        }));

        var toPoint = this.toPoint = new RangeLinePoint(value, deepExtend({}, this.options, {
            labels: labels.to,
            markers: markers.to
        }));

        this.copyFields(fromPoint);
        this.copyFields(toPoint);

        this.append(fromPoint);
        this.append(toPoint);
    };

    RangeAreaPoint.prototype.reflow = function reflow (targetBox) {
        this.render();

        var fromBox = targetBox.from;
        var toBox = targetBox.to;

        this.positionLabels(fromBox, toBox);

        this.fromPoint.reflow(fromBox);
        this.toPoint.reflow(toBox);

        this.box = this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox());
    };

    RangeAreaPoint.prototype.createHighlight = function createHighlight () {
        var group = new _progress_kendoDrawing.drawing.Group();
        group.append(this.fromPoint.createHighlight());
        group.append(this.toPoint.createHighlight());

        return group;
    };

    RangeAreaPoint.prototype.highlightVisual = function highlightVisual () {
        return this.visual;
    };

    RangeAreaPoint.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            from: this.fromPoint.highlightVisualArgs(),
            to: this.toPoint.highlightVisualArgs()
        };
    };

    RangeAreaPoint.prototype.tooltipAnchor = function tooltipAnchor () {
        var clipBox = this.owner.pane.clipBox();
        var showTooltip = !clipBox || clipBox.overlaps(this.box);

        if (showTooltip) {
            var box = this.box;
            var center = box.center();
            var horizontalAlign = LEFT;
            var x, y, verticalAlign;

            if (this.options.vertical) {
                x = center.x;
                y = box.y1 - TOOLTIP_OFFSET;
                verticalAlign = BOTTOM;
            } else {
                x = box.x2 + TOOLTIP_OFFSET;
                y = center.y;
                verticalAlign = CENTER;
            }

            return {
                point: new Point(x, y),
                align: {
                    horizontal: horizontalAlign,
                    vertical: verticalAlign
                }
            };
        }
    };

    RangeAreaPoint.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    RangeAreaPoint.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    RangeAreaPoint.prototype.unclipElements = function unclipElements () {
        this.fromPoint.unclipElements();
        this.toPoint.unclipElements();
    };

    RangeAreaPoint.prototype.initLabelsFormat = function initLabelsFormat () {
        var labels = this.options.labels;
        if (!labels.format) {
            if (!labels.from || !labels.from.format) {
                labels.from = Object.assign({}, labels.from, {
                    format: DEFAULT_FROM_FORMAT
                });
            }

            if (!labels.to || !labels.to.format) {
                labels.to = Object.assign({}, labels.to, {
                    format: DEFAULT_TO_FORMAT
                });
            }
        }
    };

    RangeAreaPoint.prototype.positionLabels = function positionLabels (fromBox, toBox) {
        var ref = this.options;
        var labels = ref.labels;
        var vertical = ref.vertical;

        if (labels.position === AUTO$1) {
            var fromLabelPosition, toLabelPosition;
            if (vertical) {
                if (toBox.y1 <= fromBox.y1) {
                    toLabelPosition = ABOVE;
                    fromLabelPosition = BELOW;
                } else {
                    toLabelPosition = BELOW;
                    fromLabelPosition = ABOVE;
                }
            } else {
                if (toBox.x1 <= fromBox.x1) {
                    toLabelPosition = LEFT;
                    fromLabelPosition = RIGHT;
                } else {
                    toLabelPosition = RIGHT;
                    fromLabelPosition = LEFT;
                }
            }

            if (!labels.from || !labels.from.position) {
                this.fromPoint.options.labels.position = fromLabelPosition;
            }

            if (!labels.to || !labels.to.position) {
                this.toPoint.options.labels.position = toLabelPosition;
            }
        }
    };

    RangeAreaPoint.prototype.copyFields = function copyFields (point) {
        point.dataItem = this.dataItem;
        point.category = this.category;
        point.series = this.series;
        point.color = this.color;
        point.owner = this.owner;
    };

    return RangeAreaPoint;
}(ChartElement));

deepExtend(RangeAreaPoint.prototype, PointEventsMixin);
deepExtend(RangeAreaPoint.prototype, NoteMixin);

RangeAreaPoint.prototype.defaults = {
    markers: {
        visible: false,
        background: WHITE,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        border: {
            width: 2
        },
        opacity: 1
    },
    labels: {
        visible: false,
        margin: getSpacing(3),
        padding: getSpacing(4),
        animation: {
            type: FADEIN,
            delay: INITIAL_ANIMATION_DURATION
        },
        position: AUTO$1
    },
    notes: {
        label: {}
    },
    highlight: {
        markers: {
            border: {
                color: WHITE,
                width: 2
            }
        },
        zIndex: HIGHLIGHT_ZINDEX
    },
    tooltip: {
        format: '{0} - {1}'
    }
};

var RangeAreaSegment = (function (AreaSegment$$1) {
    function RangeAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) RangeAreaSegment.__proto__ = AreaSegment$$1;
    RangeAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    RangeAreaSegment.prototype.constructor = RangeAreaSegment;

    RangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()));
    };

    RangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()));
        }

        return fromSegments;
    };

    RangeAreaSegment.prototype.createStroke = function createStroke (style) {
        var toPath = new _progress_kendoDrawing.drawing.Path(style);
        var fromPath = new _progress_kendoDrawing.drawing.Path(style);

        toPath.segments.push.apply(toPath.segments, this.strokeSegments());
        fromPath.segments.push.apply(fromPath.segments, this.stackSegments());

        this.visual.append(toPath);
        this.visual.append(fromPath);
    };

    RangeAreaSegment.prototype.hasStackSegment = function hasStackSegment () {
        return true;
    };

    RangeAreaSegment.prototype.fromPoints = function fromPoints () {
        return this.linePoints.map(function (point) { return point.fromPoint; });
    };

    RangeAreaSegment.prototype.toPoints = function toPoints () {
        return this.linePoints.map(function (point) { return point.toPoint; });
    };

    return RangeAreaSegment;
}(AreaSegment));

var SplineRangeAreaSegment = (function (RangeAreaSegment$$1) {
    function SplineRangeAreaSegment () {
        RangeAreaSegment$$1.apply(this, arguments);
    }

    if ( RangeAreaSegment$$1 ) SplineRangeAreaSegment.__proto__ = RangeAreaSegment$$1;
    SplineRangeAreaSegment.prototype = Object.create( RangeAreaSegment$$1 && RangeAreaSegment$$1.prototype );
    SplineRangeAreaSegment.prototype.constructor = SplineRangeAreaSegment;

    SplineRangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.createCurveSegments(this.toPoints());
    };

    SplineRangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.createCurveSegments(this.fromPoints().reverse());
        }

        return fromSegments;
    };

    SplineRangeAreaSegment.prototype.createCurveSegments = function createCurveSegments (points) {
        var curveProcessor = new CurveProcessor();

        return curveProcessor.process(this.toGeometryPoints(points));
    };

    return SplineRangeAreaSegment;
}(RangeAreaSegment));

var StepRangeAreaSegment = (function (RangeAreaSegment$$1) {
    function StepRangeAreaSegment () {
        RangeAreaSegment$$1.apply(this, arguments);
    }

    if ( RangeAreaSegment$$1 ) StepRangeAreaSegment.__proto__ = RangeAreaSegment$$1;
    StepRangeAreaSegment.prototype = Object.create( RangeAreaSegment$$1 && RangeAreaSegment$$1.prototype );
    StepRangeAreaSegment.prototype.constructor = StepRangeAreaSegment;

    StepRangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()));
    };

    StepRangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()));
            fromSegments.reverse();
        }

        return fromSegments;
    };

    return StepRangeAreaSegment;
}(RangeAreaSegment));

deepExtend(StepRangeAreaSegment.prototype, StepLineMixin);

var RangeAreaChart = (function (CategoricalChart$$1) {
    function RangeAreaChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) RangeAreaChart.__proto__ = CategoricalChart$$1;
    RangeAreaChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    RangeAreaChart.prototype.constructor = RangeAreaChart;

    RangeAreaChart.prototype.render = function render () {
        CategoricalChart$$1.prototype.render.call(this);

        this.renderSegments();
    };

    RangeAreaChart.prototype.pointType = function pointType () {
        return RangeAreaPoint;
    };

    RangeAreaChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var value = data.valueFields;

        if (!hasValue(value.from) && !hasValue(value.to)) {
            if (this.seriesMissingValues(series) === ZERO) {
                value = {
                    from: 0,
                    to: 0
                };
            } else {
                return null;
            }
        }

        var pointOptions = this.pointOptions(series, seriesIx);
        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        var color = data.fields.color || series.color;
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new RangeAreaPoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    RangeAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = (currentSeries.line || {}).style;
        var segmentType;
        if (style === "smooth") {
            segmentType = SplineRangeAreaSegment;
        } else if (style === "step") {
            segmentType = StepRangeAreaSegment;
        } else {
            segmentType = RangeAreaSegment;
        }

        return new segmentType(linePoints, currentSeries, seriesIx);
    };

    RangeAreaChart.prototype.plotRange = function plotRange (point, startValue) {
        if (!point) {
            return [ startValue, startValue ];
        }

        return [ point.value.from, point.value.to ];
    };

    RangeAreaChart.prototype.valueSlot = function valueSlot (valueAxis, plotRange) {
        var fromSlot = valueAxis.getSlot(plotRange[0], plotRange[0], !this.options.clip);
        var toSlot = valueAxis.getSlot(plotRange[1], plotRange[1], !this.options.clip);
        if (fromSlot && toSlot) {
            return {
                from: fromSlot,
                to: toSlot
            };
        }
    };

    RangeAreaChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var from = valueSlot.from;
        var to = valueSlot.to;
        var fromSlot, toSlot;

        if (this.options.invertAxes) {
            fromSlot = new Box(from.x1, categorySlot.y1, from.x2, categorySlot.y2);
            toSlot = new Box(to.x1, categorySlot.y1, to.x2, categorySlot.y2);
        } else {
            fromSlot = new Box(categorySlot.x1, from.y1, categorySlot.x2, from.y2);
            toSlot = new Box(categorySlot.x1, to.y1, categorySlot.x2, to.y2);
        }

        return {
            from: fromSlot,
            to: toSlot
        };
    };

    RangeAreaChart.prototype.addValue = function addValue (data, fields) {
        var valueFields = data.valueFields;
        if (!isNumber(valueFields.from)) {
            valueFields.from = valueFields.to;
        }

        if (!isNumber(valueFields.to)) {
            valueFields.to = valueFields.from;
        }

        CategoricalChart$$1.prototype.addValue.call(this, data, fields);
    };

    RangeAreaChart.prototype.updateRange = function updateRange (value, fields) {
        if (value !== null && isNumber(value.from) && isNumber(value.to)) {
            var axisName = fields.series.axis;
            var axisRange = this.valueAxisRanges[axisName] = this.valueAxisRanges[axisName] || { min: MAX_VALUE, max: MIN_VALUE };
            var from = value.from;
            var to = value.to;

            axisRange.min = Math.min(axisRange.min, from, to);
            axisRange.max = Math.max(axisRange.max, from, to);
        }
    };

    RangeAreaChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format, value.from, value.to);
    };

    RangeAreaChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            if (point) {
                result.push((point.fromPoint || {}).marker);
                result.push((point.toPoint || {}).marker);
            }
        }

        return result.concat(this._segments);
    };

    return RangeAreaChart;
}(CategoricalChart));

deepExtend(RangeAreaChart.prototype, LineChartMixin, ClipAnimationMixin);

var OHLCPoint = (function (Candlestick$$1) {
    function OHLCPoint () {
        Candlestick$$1.apply(this, arguments);
    }

    if ( Candlestick$$1 ) OHLCPoint.__proto__ = Candlestick$$1;
    OHLCPoint.prototype = Object.create( Candlestick$$1 && Candlestick$$1.prototype );
    OHLCPoint.prototype.constructor = OHLCPoint;

    OHLCPoint.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var oPoints = [];
        var cPoints = [];
        var lhPoints = [];

        var lhSlot = valueAxis.getSlot(value.low, value.high);
        var oSlot = valueAxis.getSlot(value.open, value.open);
        var cSlot = valueAxis.getSlot(value.close, value.close);

        oSlot.x1 = cSlot.x1 = lhSlot.x1 = box.x1;
        oSlot.x2 = cSlot.x2 = lhSlot.x2 = box.x2;

        var mid = lhSlot.center().x;

        oPoints.push([ oSlot.x1, oSlot.y1 ]);
        oPoints.push([ mid, oSlot.y1 ]);
        cPoints.push([ mid, cSlot.y1 ]);
        cPoints.push([ cSlot.x2, cSlot.y1 ]);
        lhPoints.push([ mid, lhSlot.y1 ]);
        lhPoints.push([ mid, lhSlot.y2 ]);

        this.lines = [
            oPoints, cPoints, lhPoints
        ];

        this.box = lhSlot.clone().wrap(oSlot.clone().wrap(cSlot));

        this.reflowNote();
    };

    OHLCPoint.prototype.createBody = function createBody () {};

    return OHLCPoint;
}(Candlestick));

var OHLCChart = (function (CandlestickChart$$1) {
    function OHLCChart () {
        CandlestickChart$$1.apply(this, arguments);
    }

    if ( CandlestickChart$$1 ) OHLCChart.__proto__ = CandlestickChart$$1;
    OHLCChart.prototype = Object.create( CandlestickChart$$1 && CandlestickChart$$1.prototype );
    OHLCChart.prototype.constructor = OHLCChart;

    OHLCChart.prototype.pointType = function pointType () {
        return OHLCPoint;
    };

    return OHLCChart;
}(CandlestickChart));

var WaterfallSegment = (function (ChartElement$$1) {
    function WaterfallSegment(from, to, series) {
        ChartElement$$1.call(this);

        this.from = from;
        this.to = to;
        this.series = series;
    }

    if ( ChartElement$$1 ) WaterfallSegment.__proto__ = ChartElement$$1;
    WaterfallSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    WaterfallSegment.prototype.constructor = WaterfallSegment;

    WaterfallSegment.prototype.linePoints = function linePoints () {
        var from = this.from;
        var ref = this;
        var fromBox = ref.from.box;
        var toBox = ref.to.box;
        var points = [];

        if (from.isVertical) {
            var y = from.aboveAxis ? fromBox.y1 : fromBox.y2;
            points.push(
                [ fromBox.x1, y ],
                [ toBox.x2, y ]
            );
        } else {
            var x = from.aboveAxis ? fromBox.x2 : fromBox.x1;
            points.push(
                [ x, fromBox.y1 ],
                [ x, toBox.y2 ]
            );
        }

        return points;
    };

    WaterfallSegment.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var line = this.series.line || {};

        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.linePoints(), {
            stroke: {
                color: line.color,
                width: line.width,
                opacity: line.opacity,
                dashType: line.dashType
            }
        });

        alignPathToPixel(path);
        this.visual.append(path);
    };

    return WaterfallSegment;
}(ChartElement));

setDefaultOptions(WaterfallSegment, {
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    }
});

var WaterfallChart = (function (BarChart$$1) {
    function WaterfallChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) WaterfallChart.__proto__ = BarChart$$1;
    WaterfallChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    WaterfallChart.prototype.constructor = WaterfallChart;

    WaterfallChart.prototype.render = function render () {
        BarChart$$1.prototype.render.call(this);
        this.createSegments();
    };

    WaterfallChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var series = this.options.series;
        var totalCategories = categoriesCount$1(series);
        var isVertical = !this.options.invertAxes;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var total = 0;
            var runningTotal = 0;

            for (var categoryIx = 0; categoryIx < totalCategories; categoryIx++) {
                var data = SeriesBinder.current.bindPoint(currentSeries, categoryIx);
                var value = data.valueFields.value;
                var summary = data.fields.summary;
                var from = total;
                var to = (void 0);

                if (summary) {
                    if (summary.toLowerCase() === "total") {
                        data.valueFields.value = total;
                        from = 0;
                        to = total;
                    } else {
                        data.valueFields.value = runningTotal;
                        to = from - runningTotal;
                        runningTotal = 0;
                    }
                } else if (isNumber(value)) {
                    runningTotal += value;
                    total += value;
                    to = total;
                }

                callback(data, {
                    category: this$1.categoryAxis.categoryAt(categoryIx),
                    categoryIx: categoryIx,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    total: total,
                    runningTotal: runningTotal,
                    from: from,
                    to: to,
                    isVertical: isVertical
                });
            }
        }
    };

    WaterfallChart.prototype.updateRange = function updateRange (value, fields) {
        BarChart$$1.prototype.updateRange.call(this, { value: fields.to }, fields);
    };

    WaterfallChart.prototype.aboveAxis = function aboveAxis (point) {
        return point.value >= 0;
    };

    WaterfallChart.prototype.plotRange = function plotRange (point) {
        return [ point.from, point.to ];
    };

    WaterfallChart.prototype.createSegments = function createSegments () {
        var this$1 = this;

        var series = this.options.series;
        var seriesPoints = this.seriesPoints;
        var segments = this.segments = [];

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var points = seriesPoints[seriesIx];

            if (points) {
                var prevPoint = (void 0);
                for (var pointIx = 0; pointIx < points.length; pointIx++) {
                    var point = points[pointIx];

                    if (point && prevPoint) {
                        var segment = new WaterfallSegment(prevPoint, point, currentSeries);
                        segments.push(segment);
                        this$1.append(segment);
                    }

                    prevPoint = point;
                }
            }
        }
    };

    return WaterfallChart;
}(BarChart));

var AREA_SERIES = [ AREA, VERTICAL_AREA, RANGE_AREA, VERTICAL_RANGE_AREA ];
var OUT_OF_RANGE_SERIES = [ LINE, VERTICAL_LINE ].concat(AREA_SERIES);

var CategoricalPlotArea = (function (PlotAreaBase$$1) {
    function CategoricalPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) CategoricalPlotArea.__proto__ = PlotAreaBase$$1;
    CategoricalPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    CategoricalPlotArea.prototype.constructor = CategoricalPlotArea;

    CategoricalPlotArea.prototype.initFields = function initFields (series) {
        var this$1 = this;

        this.namedCategoryAxes = {};
        this.namedValueAxes = {};
        this.valueAxisRangeTracker = new AxisGroupRangeTracker();

        if (series.length > 0) {
            this.invertAxes = inArray(
                series[0].type, [ BAR, BULLET, VERTICAL_LINE, VERTICAL_AREA, VERTICAL_RANGE_AREA,
                                 RANGE_BAR, HORIZONTAL_WATERFALL, VERTICAL_BOX_PLOT ]
            );

            for (var i = 0; i < series.length; i++) {
                var stack = series[i].stack;
                if (stack && stack.type === "100%") {
                    this$1.stack100 = true;
                    break;
                }
            }
        }

    };

    CategoricalPlotArea.prototype.render = function render (panes) {
        if ( panes === void 0 ) panes = this.panes;

        this.createCategoryAxes(panes);
        this.aggregateCategories(panes);
        this.createCategoryAxesLabels(panes);
        this.createCharts(panes);
        this.createValueAxes(panes);
    };

    CategoricalPlotArea.prototype.removeAxis = function removeAxis (axis) {
        var axisName = axis.options.name;

        PlotAreaBase$$1.prototype.removeAxis.call(this, axis);

        if (axis instanceof CategoryAxis) {
            delete this.namedCategoryAxes[axisName];
        } else {
            this.valueAxisRangeTracker.reset(axisName);
            delete this.namedValueAxes[axisName];
        }

        if (axis === this.categoryAxis) {
            delete this.categoryAxis;
        }

        if (axis === this.valueAxis) {
            delete this.valueAxis;
        }
    };

    CategoricalPlotArea.prototype.createCharts = function createCharts (panes) {
        var this$1 = this;

        var seriesByPane = this.groupSeriesByPane();

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            var paneSeries = seriesByPane[pane.options.name || "default"] || [];
            this$1.addToLegend(paneSeries);

            var visibleSeries = this$1.filterVisibleSeries(paneSeries);
            if (!visibleSeries) {
                continue;
            }

            var groups = this$1.groupSeriesByCategoryAxis(visibleSeries);
            for (var groupIx = 0; groupIx < groups.length; groupIx++) {
                this$1.createChartGroup(groups[groupIx], pane);
            }
        }
    };

    CategoricalPlotArea.prototype.createChartGroup = function createChartGroup (series, pane) {
        this.createAreaChart(
            filterSeriesByType(series, [ AREA, VERTICAL_AREA ]), pane
        );

        this.createRangeAreaChart(
            filterSeriesByType(series, [ RANGE_AREA, VERTICAL_RANGE_AREA ]), pane
        );

        this.createBarChart(
            filterSeriesByType(series, [ COLUMN, BAR ]), pane
        );

        this.createRangeBarChart(
            filterSeriesByType(series, [ RANGE_COLUMN, RANGE_BAR ]), pane
        );

        this.createBulletChart(
            filterSeriesByType(series, [ BULLET, VERTICAL_BULLET ]), pane
        );

        this.createCandlestickChart(
            filterSeriesByType(series, CANDLESTICK), pane
        );

        this.createBoxPlotChart(
            filterSeriesByType(series, [ BOX_PLOT, VERTICAL_BOX_PLOT ]), pane
        );

        this.createOHLCChart(
            filterSeriesByType(series, OHLC), pane
        );

        this.createWaterfallChart(
            filterSeriesByType(series, [ WATERFALL, HORIZONTAL_WATERFALL ]), pane
        );

        this.createLineChart(
            filterSeriesByType(series, [ LINE, VERTICAL_LINE ]), pane
        );
    };

    CategoricalPlotArea.prototype.aggregateCategories = function aggregateCategories (panes) {
        var this$1 = this;

        var series = this.srcSeries || this.series;
        var processedSeries = [];
        this._currentPointsCache = {};
        this._seriesPointsCache = this._seriesPointsCache || {};

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var categoryAxis = this$1.seriesCategoryAxis(currentSeries);
            var axisPane = this$1.findPane(categoryAxis.options.pane);
            var dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);

            if ((dateAxis || currentSeries.categoryField) && inArray(axisPane, panes)) {
                currentSeries = this$1.aggregateSeries(currentSeries, categoryAxis);
            } else {
                currentSeries = this$1.filterSeries(currentSeries, categoryAxis);
            }

            processedSeries.push(currentSeries);
        }

        this._seriesPointsCache = this._currentPointsCache;
        this._currentPointsCache = null;

        this.srcSeries = series;
        this.series = processedSeries;
    };

    CategoricalPlotArea.prototype.filterSeries = function filterSeries (series, categoryAxis) {
        var dataLength = (series.data || {}).length;
        categoryAxis._seriesMax = Math.max(categoryAxis._seriesMax || 0, dataLength);

        if (!(isNumber(categoryAxis.options.min) || isNumber(categoryAxis.options.max))) {
            return series;
        }

        var range = categoryAxis.currentRangeIndices();
        var outOfRangePoints = inArray(series.type, OUT_OF_RANGE_SERIES);
        var currentSeries = deepExtend({}, series);

        currentSeries.data = (currentSeries.data || []).slice(range.min, range.max + 1);

        if (outOfRangePoints) {
            createOutOfRangePoints(currentSeries, range, dataLength, function (idx) { return ({
                item: series.data[idx],
                category: categoryAxis.categoryAt(idx, true),
                categoryIx: idx - range.min
            }); }, function (idx) { return defined(series.data[idx]); });
        }

        return currentSeries;
    };

    CategoricalPlotArea.prototype.clearSeriesPointsCache = function clearSeriesPointsCache () {
        this._seriesPointsCache = {};
    };

    CategoricalPlotArea.prototype.seriesSourcePoints = function seriesSourcePoints (series, categoryAxis) {
        var this$1 = this;

        var key = (series.index) + ";" + (categoryAxis.categoriesHash());
        if (this._seriesPointsCache[key]) {
            this._currentPointsCache[key] = this._seriesPointsCache[key];
            return this._seriesPointsCache[key];
        }

        var axisOptions = categoryAxis.options;
        var srcCategories = axisOptions.srcCategories;
        var dateAxis = equalsIgnoreCase(axisOptions.type, DATE);
        var srcData = series.data;
        var getFn = dateAxis ? getDateField : getField;
        var result = [];
        if (!dateAxis) {
            categoryAxis.mapCategories();//fixes major performance issue caused by searching for the index for large data
        }

        for (var idx = 0; idx < srcData.length; idx++) {
            var category = (void 0);
            if (series.categoryField) {
                category = getFn(series.categoryField, srcData[idx], this$1.chartService.intl);
            } else {
                category = srcCategories[idx];
            }

            if (defined(category) && category !== null) {
                var categoryIx = categoryAxis.totalIndex(category);
                result[categoryIx] = result[categoryIx] || { items: [], category: category };
                result[categoryIx].items.push(idx);
            }
        }

        this._currentPointsCache[key] = result;

        return result;
    };

    CategoricalPlotArea.prototype.aggregateSeries = function aggregateSeries (series, categoryAxis) {
        var srcData = series.data;
        if (!srcData.length) {
            return series;
        }

        var srcPoints = this.seriesSourcePoints(series, categoryAxis);
        var result = deepExtend({}, series);
        var aggregator = new SeriesAggregator(deepExtend({}, series), SeriesBinder.current, DefaultAggregates.current);
        var data = result.data = [];
        var dataItems = categoryAxis.options.dataItems || [];

        var range = categoryAxis.currentRangeIndices();
        var categoryItem = function (idx) {
            var categoryIdx = idx - range.min;
            var point = srcPoints[idx];
            if (!point) {
                point = srcPoints[idx] = {};
            }

            point.categoryIx = categoryIdx;

            if (!point.item) {
                var category = categoryAxis.categoryAt(idx, true);
                point.category = category;
                point.item = aggregator.aggregatePoints(point.items, category);
            }

            return point;
        };

        for (var idx = range.min; idx <= range.max; idx++) {
            var point = categoryItem(idx);
            data[point.categoryIx] = point.item;

            if (point.items && point.items.length) {
                dataItems[point.categoryIx] = point.item;
            }
        }

        if (inArray(result.type, OUT_OF_RANGE_SERIES)) {
            createOutOfRangePoints(result, range, categoryAxis.totalCount(), categoryItem, function (idx) { return srcPoints[idx]; });
        }

        categoryAxis.options.dataItems = dataItems;

        return result;
    };

    CategoricalPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        var series = chart.options.series;
        var categoryAxis = this.seriesCategoryAxis(series[0]);
        var categories = categoryAxis.options.categories;
        var categoriesToAdd = Math.max(0, categoriesCount$1(series) - categories.length);

        if (categoriesToAdd > 0) {//consider setting an option to axis instead of adding fake categories
            categories = categoryAxis.options.categories = categoryAxis.options.categories.slice(0);
            while (categoriesToAdd--) {
                categories.push("");
            }
        }

        this.valueAxisRangeTracker.update(chart.valueAxisRanges);

        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
    };

    // TODO: Refactor, optionally use series.pane option
    CategoricalPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {
        var options = this.options;
        var axisName = series.axis;
        var axisOptions = [].concat(options.valueAxis);
        var axis = grep(axisOptions, function(a) { return a.name === axisName; })[0];
        var panes = options.panes || [ {} ];
        var defaultPaneName = (panes[0] || {}).name || "default";
        var paneName = (axis || {}).pane || defaultPaneName;

        return paneName;
    };

    CategoricalPlotArea.prototype.seriesCategoryAxis = function seriesCategoryAxis (series) {
        var axisName = series.categoryAxis;
        var axis = axisName ? this.namedCategoryAxes[axisName] : this.categoryAxis;

        if (!axis) {
            throw new Error("Unable to locate category axis with name " + axisName);
        }

        return axis;
    };

    CategoricalPlotArea.prototype.stackableChartOptions = function stackableChartOptions (firstSeries, pane) {
        var stack = firstSeries.stack;
        var isStacked100 = stack && stack.type === "100%";
        var clip = pane.options.clip;

        return {
            isStacked: stack,
            isStacked100: isStacked100,
            clip: clip
        };
    };

    CategoricalPlotArea.prototype.groupSeriesByCategoryAxis = function groupSeriesByCategoryAxis (series) {
        var categoryAxes = [];
        var unique = {};
        for (var idx = 0; idx < series.length; idx++) {
            var name = series[idx].categoryAxis || "$$default$$";
            if (!unique.hasOwnProperty(name)) {
                unique[name] = true;
                categoryAxes.push(name);
            }
        }

        var groups = [];
        for (var axisIx = 0; axisIx < categoryAxes.length; axisIx++) {
            var axis = categoryAxes[axisIx];
            var axisSeries = groupSeries(series, axis, axisIx);
            if (axisSeries.length === 0) {
                continue;
            }

            groups.push(axisSeries);
        }

        return groups;
    };

    CategoricalPlotArea.prototype.createBarChart = function createBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var barChart = new BarChart(this, Object.assign({
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(barChart, pane);
    };

    CategoricalPlotArea.prototype.createRangeBarChart = function createRangeBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var rangeColumnChart = new RangeBarChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        });

        this.appendChart(rangeColumnChart, pane);
    };

    CategoricalPlotArea.prototype.createBulletChart = function createBulletChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var bulletChart = new BulletChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(bulletChart, pane);
    };

    CategoricalPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var lineChart = new LineChart(this, Object.assign({
            invertAxes: this.invertAxes,
            series: series
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(lineChart, pane);
    };

    CategoricalPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var areaChart = new AreaChart(this, Object.assign({
            invertAxes: this.invertAxes,
            series: series
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(areaChart, pane);
    };

    CategoricalPlotArea.prototype.createRangeAreaChart = function createRangeAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var rangeAreaChart = new RangeAreaChart(this, {
            invertAxes: this.invertAxes,
            series: series,
            clip: pane.options.clip
        });

        this.appendChart(rangeAreaChart, pane);
    };

    CategoricalPlotArea.prototype.createOHLCChart = function createOHLCChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new OHLCChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createCandlestickChart = function createCandlestickChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new CandlestickChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createBoxPlotChart = function createBoxPlotChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new BoxPlotChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createWaterfallChart = function createWaterfallChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var waterfallChart = new WaterfallChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        });

        this.appendChart(waterfallChart, pane);
    };

    CategoricalPlotArea.prototype.axisRequiresRounding = function axisRequiresRounding (categoryAxisName, categoryAxisIndex) {
        var this$1 = this;

        var centeredSeries = filterSeriesByType(this.series, EQUALLY_SPACED_SERIES);

        for (var seriesIx = 0; seriesIx < this.series.length; seriesIx++) {
            var currentSeries = this$1.series[seriesIx];
            if (inArray(currentSeries.type, AREA_SERIES)) {
                var line = currentSeries.line;
                if (line && line.style === STEP) {
                    centeredSeries.push(currentSeries);
                }
            }
        }

        for (var seriesIx$1 = 0; seriesIx$1 < centeredSeries.length; seriesIx$1++) {
            var seriesAxis = centeredSeries[seriesIx$1].categoryAxis || "";
            if (seriesAxis === categoryAxisName || (!seriesAxis && categoryAxisIndex === 0)) {
                return true;
            }
        }
    };

    CategoricalPlotArea.prototype.aggregatedAxis = function aggregatedAxis (categoryAxisName, categoryAxisIndex) {
        var series = this.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var seriesAxis = series[seriesIx].categoryAxis || "";
            if ((seriesAxis === categoryAxisName || (!seriesAxis && categoryAxisIndex === 0)) && series[seriesIx].categoryField) {
                return true;
            }
        }
    };

    CategoricalPlotArea.prototype.createCategoryAxesLabels = function createCategoryAxesLabels () {
        var axes = this.axes;
        for (var i = 0; i < axes.length; i++) {
            if (axes[i] instanceof CategoryAxis) {
                axes[i].createLabels();
            }
        }
    };

    CategoricalPlotArea.prototype.createCategoryAxes = function createCategoryAxes (panes) {
        var this$1 = this;

        var invertAxes = this.invertAxes;
        var definitions = [].concat(this.options.categoryAxis);
        var axes = [];

        for (var i = 0; i < definitions.length; i++) {
            var axisOptions = definitions[i];
            var axisPane = this$1.findPane(axisOptions.pane);

            if (inArray(axisPane, panes)) {
                var name = axisOptions.name;
                var categories = axisOptions.categories; if ( categories === void 0 ) categories = [];
                axisOptions = deepExtend({
                    vertical: invertAxes,
                    reverse: !invertAxes && this$1.chartService.rtl,
                    axisCrossingValue: invertAxes ? MAX_VALUE : 0
                }, axisOptions);

                if (!defined(axisOptions.justified)) {
                    axisOptions.justified = this$1.isJustified();
                }

                if (this$1.axisRequiresRounding(name, i)) {
                    axisOptions.justified = false;
                }

                var categoryAxis = (void 0);

                if (isDateAxis(axisOptions, categories[0])) {
                    categoryAxis = new DateCategoryAxis(axisOptions, this$1.chartService);
                } else {
                    categoryAxis = new CategoryAxis(axisOptions, this$1.chartService);
                }

                definitions[i].categories = categoryAxis.options.srcCategories;

                if (name) {
                    if (this$1.namedCategoryAxes[name]) {
                        throw new Error(("Category axis with name " + name + " is already defined"));
                    }
                    this$1.namedCategoryAxes[name] = categoryAxis;
                }

                categoryAxis.axisIndex = i;
                axes.push(categoryAxis);
                this$1.appendAxis(categoryAxis);
            }
        }

        var primaryAxis = this.categoryAxis || axes[0];
        this.categoryAxis = primaryAxis;

        if (invertAxes) {
            this.axisY = primaryAxis;
        } else {
            this.axisX = primaryAxis;
        }
    };

    CategoricalPlotArea.prototype.isJustified = function isJustified () {
        var series = this.series;

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            if (!inArray(currentSeries.type, AREA_SERIES)) {
                return false;
            }
        }

        return true;
    };

    CategoricalPlotArea.prototype.createValueAxes = function createValueAxes (panes) {
        var this$1 = this;

        var tracker = this.valueAxisRangeTracker;
        var defaultRange = tracker.query();
        var definitions = [].concat(this.options.valueAxis);
        var invertAxes = this.invertAxes;
        var baseOptions = { vertical: !invertAxes, reverse: invertAxes && this.chartService.rtl };
        var axes = [];

        if (this.stack100) {
            baseOptions.roundToMajorUnit = false;
            baseOptions.labels = { format: "P0" };
        }

        for (var i = 0; i < definitions.length; i++) {
            var axisOptions = definitions[i];
            var axisPane = this$1.findPane(axisOptions.pane);

            if (inArray(axisPane, panes)) {
                var name = axisOptions.name;
                var defaultAxisRange = equalsIgnoreCase(axisOptions.type, LOGARITHMIC) ? { min: 0.1, max: 1 } : { min: 0, max: 1 };
                var range = tracker.query(name) || defaultRange || defaultAxisRange;

                if (i === 0 && range && defaultRange) {
                    range.min = Math.min(range.min, defaultRange.min);
                    range.max = Math.max(range.max, defaultRange.max);
                }

                var axisType = (void 0);
                if (equalsIgnoreCase(axisOptions.type, LOGARITHMIC)) {
                    axisType = LogarithmicAxis;
                } else {
                    axisType = NumericAxis;
                }

                var valueAxis = new axisType(range.min, range.max,
                    deepExtend({}, baseOptions, axisOptions),
                    this$1.chartService
                );

                if (name) {
                    if (this$1.namedValueAxes[name]) {
                        throw new Error(("Value axis with name " + name + " is already defined"));
                    }
                    this$1.namedValueAxes[name] = valueAxis;
                }
                valueAxis.axisIndex = i;

                axes.push(valueAxis);
                this$1.appendAxis(valueAxis);
            }
        }

        var primaryAxis = this.valueAxis || axes[0];
        this.valueAxis = primaryAxis;

        if (invertAxes) {
            this.axisX = primaryAxis;
        } else {
            this.axisY = primaryAxis;
        }
    };

    CategoricalPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var pane = this.pointPane(point);
        var categories = [];
        var values = [];

        if (!pane) {
            return;
        }

        var allAxes = pane.axes;
        for (var i = 0; i < allAxes.length; i++) {
            var axis = allAxes[i];
            if (axis.getValue) {
                appendIfNotNull(values, axis.getValue(point));
            } else {
                appendIfNotNull(categories, axis.getCategory(point));
            }
        }

        if (categories.length === 0) {
            appendIfNotNull(categories, this.categoryAxis.getCategory(point));
        }

        if (categories.length > 0 && values.length > 0) {
            chart.trigger(eventType, {
                element: eventElement(e),
                originalEvent: e,
                category: singleItemOrArray(categories),
                value: singleItemOrArray(values)
            });
        }
    };

    CategoricalPlotArea.prototype.pointPane = function pointPane (point) {
        var panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            if (currentPane.contentBox.containsPoint(point)) {
                return currentPane;
            }
        }
    };

    CategoricalPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {
        updateAxisOptions(this.options, axis, options);
        updateAxisOptions(this.originalOptions, axis, options);
    };

    return CategoricalPlotArea;
}(PlotAreaBase));

function updateAxisOptions(targetOptions, axis, options) {
    var axesOptions = axis instanceof CategoryAxis ? [].concat(targetOptions.categoryAxis) : [].concat(targetOptions.valueAxis);
    deepExtend(axesOptions[axis.axisIndex], options);
}

function groupSeries(series, axis, axisIx) {
    return grep(series, function(s) {
        return (axisIx === 0 && !s.categoryAxis) || (s.categoryAxis === axis);
    });
}

setDefaultOptions(CategoricalPlotArea, {
    categoryAxis: {},
    valueAxis: {}
});

deepExtend(CategoricalPlotArea.prototype, PlotAreaEventsMixin);

var Highlight = (function (Class$$1) {
    function Highlight() {
        Class$$1.call(this);

        this._points = [];
    }

    if ( Class$$1 ) Highlight.__proto__ = Class$$1;
    Highlight.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Highlight.prototype.constructor = Highlight;

    Highlight.prototype.destroy = function destroy () {
        this._points = [];
    };

    Highlight.prototype.show = function show (points, opacity) {
        var this$1 = this;

        var arrayPoints = [].concat(points);
        this.hide();

        for (var i = 0; i < arrayPoints.length; i++) {
            var point = arrayPoints[i];
            if (point && point.toggleHighlight && point.hasHighlight()) {
                this$1.togglePointHighlight(point, true, opacity);
                this$1._points.push(point);
            }
        }
    };

    Highlight.prototype.togglePointHighlight = function togglePointHighlight (point, show, opacity) {
        var toggleHandler = (point.options.highlight || {}).toggle;
        if (toggleHandler) {
            var eventArgs = {
                category: point.category,
                series: point.series,
                dataItem: point.dataItem,
                value: point.value,
                stackValue: point.stackValue,
                preventDefault: preventDefault,
                visual: point.highlightVisual(),
                show: show
            };
            toggleHandler(eventArgs);
            if (!eventArgs._defaultPrevented) {
                point.toggleHighlight(show, opacity);
            }
        } else {
            point.toggleHighlight(show, opacity);
        }
    };

    Highlight.prototype.hide = function hide () {
        var this$1 = this;

        var points = this._points;
        while (points.length) {
            this$1.togglePointHighlight(points.pop(), false);
        }
    };

    Highlight.prototype.isHighlighted = function isHighlighted (element) {
        var points = this._points;

        for (var i = 0; i < points.length; i++) {
            var point = points[i];
            if (element === point) {
                return true;
            }
        }

        return false;
    };

    return Highlight;
}(_progress_kendoDrawing.Class));

function preventDefault() {
    this._defaultPrevented = true;
}

function acceptKey(e, mouseKey) {
    var key = (mouseKey || "").toLowerCase();
    var event = e.event;
    var accept = (key === "none" && !(event.ctrlKey || event.shiftKey || event.altKey)) || event[key + "Key"];

    return accept;
}

function toChartAxisRanges(axisRanges) {
    var ranges = {};
    for (var idx = 0; idx < axisRanges.length; idx++) {
        var axisRange = axisRanges[idx];
        if (axisRange.axis.options.name) {
            ranges[axisRange.axis.options.name] = {
                min: axisRange.range.min,
                max: axisRange.range.max
            };
        }
    }
    return ranges;
}

var Pannable = (function (Class$$1) {
    function Pannable(plotArea, options) {
        Class$$1.call(this);

        this.plotArea = plotArea;
        this.options = deepExtend({}, this.options, options);
    }

    if ( Class$$1 ) Pannable.__proto__ = Class$$1;
    Pannable.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Pannable.prototype.constructor = Pannable;

    Pannable.prototype.start = function start (e) {
        this._active = acceptKey(e, this.options.key);
        return this._active;
    };

    Pannable.prototype.move = function move (e) {
        if (this._active) {
            var axisRanges = this.axisRanges = this._panAxes(e, X).concat(this._panAxes(e, Y));
            if (axisRanges.length) {
                this.axisRanges = axisRanges;
                return toChartAxisRanges(axisRanges);
            }
        }
    };

    Pannable.prototype.end = function end () {
        var active = this._active;
        this._active = false;

        return active;
    };

    Pannable.prototype.pan = function pan () {
        var ref = this;
        var plotArea = ref.plotArea;
        var axisRanges = ref.axisRanges;
        if (axisRanges.length) {
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var range = axisRanges[idx];
                plotArea.updateAxisOptions(range.axis, range.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    Pannable.prototype.destroy = function destroy () {
        delete this.plotArea;
    };

    Pannable.prototype._panAxes = function _panAxes (e, position) {
        var plotArea = this.plotArea;
        var delta = -e[position].delta;
        var lock = (this.options.lock || "").toLowerCase();
        var updatedAxes = [];

        if (delta !== 0 && (lock || "").toLowerCase() !== position) {
            var axes = plotArea.axes;
            for (var idx = 0; idx < axes.length; idx++) {
                var axis = axes[idx];

                if (position === X && !axis.options.vertical || position === Y && axis.options.vertical) {
                    var range = axis.pan(delta);

                    if (range) {
                        range.limitRange = true;
                        updatedAxes.push({
                            axis: axis,
                            range: range
                        });
                    }
                }
            }
        }

        return updatedAxes;
    };

    return Pannable;
}(_progress_kendoDrawing.Class));

Pannable.prototype.options = {
    key: "none",
    lock: "none"
};

var ZoomSelection = (function (Class$$1) {
    function ZoomSelection(chart, options) {
        Class$$1.call(this);

        this.chart = chart;
        this.options = deepExtend({}, this.options, options);
        this.createElement();
    }

    if ( Class$$1 ) ZoomSelection.__proto__ = Class$$1;
    ZoomSelection.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ZoomSelection.prototype.constructor = ZoomSelection;

    ZoomSelection.prototype.createElement = function createElement () {
        var marquee = this._marquee = document.createElement("div");
        marquee.className = "k-marquee";
        var marqueeColor = document.createElement("div");
        marqueeColor.className = "k-marquee-color";
        marquee.appendChild(marqueeColor);
    };

    ZoomSelection.prototype.removeElement = function removeElement () {
        if (this._marquee.parentNode) {
            this._marquee.parentNode.removeChild(this._marquee);
        }
    };

    ZoomSelection.prototype.setStyles = function setStyles (styles) {
        elementStyles(this._marquee, styles);
    };

    ZoomSelection.prototype.start = function start (e) {
        if (acceptKey(e, this.options.key)) {
            var chart = this.chart;
            var point = chart._eventCoordinates(e);
            var zoomPane = this._zoomPane = chart._plotArea.paneByPoint(point);
            var clipBox = zoomPane ? zoomPane.chartsBox().clone() : null;

            if (zoomPane && clipBox) {
                var offset = this._elementOffset();

                clipBox.translate(offset.left, offset.top);
                this._zoomPaneClipBox = clipBox;

                document.body.appendChild(this._marquee);
                this.setStyles({
                    left: e.pageX + 1,
                    top: e.pageY + 1,
                    width: 0,
                    height: 0
                });

                return true;
            }
        }
        return false;
    };

    ZoomSelection.prototype._elementOffset = function _elementOffset () {
        var chartElement = this.chart.element;
        var ref = elementStyles(chartElement, [ "paddingLeft", "paddingTop" ]);
        var paddingLeft = ref.paddingLeft;
        var paddingTop = ref.paddingTop;
        var offset = elementOffset(chartElement);

        return {
            left: paddingLeft + offset.left,
            top: paddingTop + offset.top
        };
    };

    ZoomSelection.prototype.move = function move (e) {
        var zoomPane = this._zoomPane;
        if (zoomPane) {
            this.setStyles(this._selectionPosition(e));
        }
    };

    ZoomSelection.prototype.end = function end (e) {
        var zoomPane = this._zoomPane;
        if (zoomPane) {
            var elementOffset$$1 = this._elementOffset();
            var selectionPosition = this._selectionPosition(e);
            selectionPosition.left -= elementOffset$$1.left;
            selectionPosition.top -= elementOffset$$1.top;

            var start = { x: selectionPosition.left, y: selectionPosition.top };
            var end = { x: selectionPosition.left + selectionPosition.width, y: selectionPosition.top + selectionPosition.height };
            this._updateAxisRanges(start, end);

            this.removeElement();
            delete this._zoomPane;

            return toChartAxisRanges(this.axisRanges);
        }
    };

    ZoomSelection.prototype.zoom = function zoom () {
        var axisRanges = this.axisRanges;
        if (axisRanges && axisRanges.length) {
            var plotArea = this.chart._plotArea;
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var axisRange = axisRanges[idx];
                plotArea.updateAxisOptions(axisRange.axis, axisRange.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    ZoomSelection.prototype.destroy = function destroy () {
        this.removeElement();
        delete this._marquee;
        delete this.chart;
    };

    ZoomSelection.prototype._updateAxisRanges = function _updateAxisRanges (start, end) {
        var lock = (this.options.lock || "").toLowerCase();
        var axisRanges = [];

        var axes = this._zoomPane.axes;
        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            var vertical = axis.options.vertical;
            if (!(lock === X && !vertical) && !(lock === Y && vertical) && defined(axis.axisIndex)) {
                var range = axis.pointsRange(start, end);
                if (range) {
                    axisRanges.push({
                        axis: axis,
                        range: range
                    });
                }
            }
        }

        this.axisRanges = axisRanges;
    };

    ZoomSelection.prototype._selectionPosition = function _selectionPosition (e) {
        var clipBox = this._zoomPaneClipBox;
        var startLocation = {
            x: e.x.startLocation,
            y: e.y.startLocation
        };
        var pageX = e.x.location;
        var pageY = e.y.location;
        var lock = (this.options.lock || "").toLowerCase();
        var left = Math.min(startLocation.x, pageX);
        var top = Math.min(startLocation.y, pageY);
        var width = Math.abs(startLocation.x - pageX);
        var height = Math.abs(startLocation.y - pageY);

        if (lock === X) {
            left = clipBox.x1;
            width = clipBox.width();
        }
        if (lock === Y) {
            top = clipBox.y1;
            height = clipBox.height();
        }

        if (pageX > clipBox.x2) {
            width = clipBox.x2 - startLocation.x;
        }

        if (pageX < clipBox.x1) {
            width = startLocation.x - clipBox.x1;
        }

        if (pageY > clipBox.y2) {
            height = clipBox.y2 - startLocation.y;
        }

        if (pageY < clipBox.y1) {
            height = startLocation.y - clipBox.y1;
        }

        return {
            left: Math.max(left, clipBox.x1),
            top: Math.max(top, clipBox.y1),
            width: width,
            height: height
        };
    };

    return ZoomSelection;
}(_progress_kendoDrawing.Class));

ZoomSelection.prototype.options = {
    key: "shift",
    lock: "none"
};

// Limit the zoom rate between 1% and 90% per mousewheel event.
// At zoom rates close to 100% the axis range quickly becomes 0.
var MIN_RATE = 0.01;
var MAX_RATE = 0.9;
var DEFAULT_RATE = 0.3;

var MousewheelZoom = (function (Class$$1) {
    function MousewheelZoom(chart, options) {
        Class$$1.call(this);

        this.chart = chart;
        this.options = deepExtend({
            rate: DEFAULT_RATE
        }, this.options, options);
    }

    if ( Class$$1 ) MousewheelZoom.__proto__ = Class$$1;
    MousewheelZoom.prototype = Object.create( Class$$1 && Class$$1.prototype );
    MousewheelZoom.prototype.constructor = MousewheelZoom;

    MousewheelZoom.prototype.updateRanges = function updateRanges (delta, coords) {
        var this$1 = this;

        var lock = (this.options.lock || "").toLowerCase();
        var axisRanges = [];
        var axes = this.chart._plotArea.axes;

        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            var vertical = axis.options.vertical;

            if (!(lock === X && !vertical) && !(lock === Y && vertical) && axis.zoomRange) {
                var rate = limitValue(this$1.options.rate, MIN_RATE, MAX_RATE);
                var range = axis.zoomRange(-delta * rate, coords);

                if (range) {
                    axisRanges.push({
                        axis: axis,
                        range: range
                    });
                }
            }
        }

        this.axisRanges = axisRanges;
        return toChartAxisRanges(axisRanges);
    };

    MousewheelZoom.prototype.zoom = function zoom () {
        var axisRanges = this.axisRanges;
        var plotArea = this.chart._plotArea;

        if (axisRanges && axisRanges.length && plotArea.updateAxisOptions) {
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var axisRange = axisRanges[idx];
                plotArea.updateAxisOptions(axisRange.axis, axisRange.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    MousewheelZoom.prototype.destroy = function destroy () {
        delete this.chart;
    };

    return MousewheelZoom;
}(_progress_kendoDrawing.Class));

var LegendLayout = (function (ChartElement$$1) {
    function LegendLayout(options, chartService) {
        ChartElement$$1.call(this, options);

        this.chartService = chartService;
    }

    if ( ChartElement$$1 ) LegendLayout.__proto__ = ChartElement$$1;
    LegendLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LegendLayout.prototype.constructor = LegendLayout;

    LegendLayout.prototype.render = function render () {
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var vertical = options.vertical;

        this.visual = new _progress_kendoDrawing.drawing.Layout(null, {
            spacing: vertical ? 0 : options.spacing,
            lineSpacing: vertical ? options.spacing : 0,
            orientation: vertical ? "vertical" : "horizontal",
            reverse: options.rtl,
            alignItems: vertical ? "start" : "center"
        });

        for (var idx = 0; idx < children.length; idx++) {
            var legendItem = children[idx];
            legendItem.reflow(new Box());
            legendItem.renderVisual();
        }
    };

    LegendLayout.prototype.reflow = function reflow (box) {
        this.visual.rect(box.toRect());
        this.visual.reflow();
        var bbox = this.visual.clippedBBox();

        if (bbox) {
            this.box = rectToBox(bbox);
        } else {
            this.box = new Box();
        }
    };

    LegendLayout.prototype.renderVisual = function renderVisual () {
        this.addVisual();
    };

    LegendLayout.prototype.createVisual = function createVisual () {};

    return LegendLayout;
}(ChartElement));

var LegendItem = (function (BoxElement$$1) {
    function LegendItem(options) {
        BoxElement$$1.call(this, options);

        this.createContainer();
        if (!options.rtl) {
            this.createMarker();
            this.createLabel();
        } else {
            this.createLabel();
            this.createMarker();
        }
    }

    if ( BoxElement$$1 ) LegendItem.__proto__ = BoxElement$$1;
    LegendItem.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    LegendItem.prototype.constructor = LegendItem;

    LegendItem.prototype.createContainer = function createContainer () {
        this.container = new FloatElement({ vertical: false, wrap: false, align: CENTER, spacing: this.options.spacing });
        this.append(this.container);
    };

    LegendItem.prototype.createMarker = function createMarker () {
        this.container.append(new ShapeElement(this.markerOptions()));
    };

    LegendItem.prototype.markerOptions = function markerOptions () {
        var options = this.options;
        var markerColor = options.markerColor;
        return deepExtend({}, options.markers, {
            background: markerColor,
            border: {
                color: markerColor
            }
        });
    };

    LegendItem.prototype.createLabel = function createLabel () {
        var options = this.options;
        var labelOptions = deepExtend({}, options.labels);

        this.container.append(new TextBox(options.text, labelOptions));
    };

    LegendItem.prototype.renderComplete = function renderComplete () {
        BoxElement$$1.prototype.renderComplete.call(this);

        var cursor = this.options.cursor || {};
        var eventSink = this._itemOverlay = _progress_kendoDrawing.drawing.Path.fromRect(this.container.box.toRect(), {
            fill: {
                color: WHITE,
                opacity: 0
            },
            stroke: null,
            cursor: cursor.style || cursor
        });

        this.appendVisual(eventSink);
    };

    LegendItem.prototype.click = function click (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(LEGEND_ITEM_CLICK, args) && e && e.type === 'contextmenu') {
            e.preventDefault();
        }
    };

    LegendItem.prototype.over = function over (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(LEGEND_ITEM_HOVER, args)) {
            widget._legendItemHover(args.seriesIndex, args.pointIndex);
        }

        // Don't trigger point hover for legend items
        return true;
    };

    LegendItem.prototype.out = function out (widget, e) {
        widget._unsetActivePoint();

        widget.trigger(LEGEND_ITEM_LEAVE, this.eventArgs(e));
    };

    LegendItem.prototype.eventArgs = function eventArgs (e) {
        var options = this.options;

        return {
            element: eventElement(e),
            text: options.text,
            series: options.series,
            seriesIndex: options.series.index,
            pointIndex: options.pointIndex
        };
    };

    LegendItem.prototype.renderVisual = function renderVisual () {
        var this$1 = this;

        var options = this.options;
        var customVisual = options.visual;

        if (customVisual) {
            this.visual = customVisual({
                active: options.active,
                series: options.series,
                sender: this.getSender(),
                pointIndex: options.pointIndex,
                options: {
                    markers: this.markerOptions(),
                    labels: options.labels
                },
                createVisual: function () {
                    this$1.createVisual();
                    this$1.renderChildren();
                    this$1.renderComplete();

                    var defaultVisual = this$1.visual;

                    delete this$1.visual;

                    return defaultVisual;
                }
            });
            this.addVisual();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    return LegendItem;
}(BoxElement));

var HORIZONTAL = "horizontal";
var POINTER = "pointer";
var CUSTOM = "custom";

var Legend = (function (ChartElement$$1) {
    function Legend(options, chartService) {
        if ( chartService === void 0 ) chartService = {};

        ChartElement$$1.call(this, options);

        this.chartService = chartService;

        if (!inArray(this.options.position, [ TOP, RIGHT, BOTTOM, LEFT, CUSTOM ])) {
            this.options.position = RIGHT;
        }

        this.createContainers();

        this.createLegendTitle(options.title);

        this.createItems();
    }

    if ( ChartElement$$1 ) Legend.__proto__ = ChartElement$$1;
    Legend.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Legend.prototype.constructor = Legend;

    Legend.prototype.createContainers = function createContainers () {
        var options = this.options;
        var position = options.position;
        var userAlign = options.align;
        var align = position;
        var vAlign = CENTER;

        if (position === CUSTOM) {
            align = LEFT;
        } else if (inArray(position, [ TOP, BOTTOM ])) {
            if (userAlign === "start") {
                align = LEFT;
            } else if (userAlign === "end") {
                align = RIGHT;
            } else {
                align = CENTER;
            }
            vAlign = position;
        } else if (userAlign) {
            if (userAlign === "start") {
                vAlign = TOP;
            } else if (userAlign === "end") {
                vAlign = BOTTOM;
            }
        }

        this.container = new BoxElement({
            margin: options.margin,
            padding: options.padding,
            background: options.background,
            border: options.border,
            vAlign: vAlign,
            align: align,
            zIndex: options.zIndex,
            shrinkToFit: true
        });

        if (this.hasTitle()) {
            this.itemsContainer = new BoxElement({
                vAlign: vAlign,
                align: align,
                zIndex: options.zIndex,
                shrinkToFit: true
            });
        } else {
            this.itemsContainer = this.container;
        }

        this.append(this.container);
    };

    Legend.prototype.createItems = function createItems () {
        var chartService = this.getService();
        var options = this.options;
        var vertical = this.isVertical();
        var innerElement = new LegendLayout({
            vertical: vertical,
            spacing: options.spacing,
            rtl: chartService.rtl
        }, chartService);
        var items = options.items;

        if (options.reverse) {
            items = items.slice(0).reverse();
        }

        var count = items.length;

        for (var i = 0; i < count; i++) {
            var item = items[i];

            innerElement.append(new LegendItem(deepExtend({}, {
                markers: options.markers,
                labels: options.labels,
                rtl: chartService.rtl
            }, options.item, item)));
        }

        innerElement.render();
        this.itemsContainer.append(innerElement);
    };

    Legend.prototype.isVertical = function isVertical () {
        var ref = this.options;
        var orientation = ref.orientation;
        var position = ref.position;
        var vertical = (position === CUSTOM && orientation !== HORIZONTAL) ||
               (defined(orientation) ? orientation !== HORIZONTAL : inArray(position, [ LEFT, RIGHT ]));

        return vertical;
    };

    Legend.prototype.hasItems = function hasItems () {
        return this.container.children[0].children.length > 0;
    };

    Legend.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var legendBox = targetBox.clone();

        if (!this.hasItems()) {
            this.box = legendBox;
            return;
        }

        if (options.position === CUSTOM) {
            this.containerCustomReflow(legendBox);
            this.box = legendBox;
        } else {
            this.containerReflow(legendBox);
        }

        if (this.hasTitle()) {
            this.title.reflow(new Box(this.container.box.x1, this.title.box.y1, this.container.box.x2, this.title.box.y2));
        }
    };

    Legend.prototype.containerReflow = function containerReflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var container = ref.container;
        var position = options.position;
        var width = options.width;
        var height = options.height;
        var pos = position === TOP || position === BOTTOM ? X : Y;
        var vertical = this.isVertical();
        var alignTarget = targetBox.clone();
        var containerBox = targetBox.clone();

        if (position === LEFT || position === RIGHT) {
            containerBox.y1 = alignTarget.y1 = 0;
        }

        if (vertical && height) {
            containerBox.y2 = containerBox.y1 + height;
            containerBox.align(alignTarget, Y, container.options.vAlign);
        } else if (!vertical && width) {
            containerBox.x2 = containerBox.x1 + width;
            containerBox.align(alignTarget, X, container.options.align);
        }

        container.reflow(containerBox);
        containerBox = container.box;

        var box = containerBox.clone();

        if (options.offsetX || options.offsetY) {
            containerBox.translate(options.offsetX, options.offsetY);
            container.reflow(containerBox);
        }

        box[pos + 1] = targetBox[pos + 1];
        box[pos + 2] = targetBox[pos + 2];

        this.box = box;
    };

    Legend.prototype.containerCustomReflow = function containerCustomReflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var container = ref.container;
        var offsetX = options.offsetX;
        var offsetY = options.offsetY;
        var width = options.width;
        var height = options.height;
        var vertical = this.isVertical();
        var containerBox = targetBox.clone();

        if (vertical && height) {
            containerBox.y2 = containerBox.y1 + height;
        } else if (!vertical && width) {
            containerBox.x2 = containerBox.x1 + width;
        }
        container.reflow(containerBox);
        containerBox = container.box;

        container.reflow(new Box(
            offsetX, offsetY,
            offsetX + containerBox.width(), offsetY + containerBox.height()
        ));
    };

    Legend.prototype.renderVisual = function renderVisual () {
        if (this.hasItems()) {
            ChartElement$$1.prototype.renderVisual.call(this);
        }
    };

    Legend.prototype.createLegendTitle = function createLegendTitle (title) {
        var titleOptions = deepExtend({}, {
            color: BLACK,
            position: TOP,
            align: CENTER
        }, title);
        var text = titleOptions.text;

        if (!title || title.visible === false) {
            return;
        }

        if (defined(titleOptions) && titleOptions.visible) {
            var labelTemplate = getTemplate(titleOptions);
            if (labelTemplate) {
                text = labelTemplate({ text: text });
            } else if (titleOptions.format) {
                text = this.chartService.format.auto(titleOptions.format, text);
            }
        }

        this.title = new TextBox(text, titleOptions);

        this.createTitleLayout();

        this.appendTitleLayoutContent();
    };

    Legend.prototype.createTitleLayout = function createTitleLayout () {
        this.layout = new FloatElement({
            vertical: true,
            wrap: false
        });

        this.container.append(this.layout);
    };

    Legend.prototype.hasTitle = function hasTitle () {
        return Boolean(this.options.title && this.options.title.visible !== false);
    };

    Legend.prototype.appendTitleLayoutContent = function appendTitleLayoutContent () {
        var options = this.options;

        if (options.title.position === BOTTOM) {
            this.layout.append(this.itemsContainer);
            this.layout.append(this.title);
        } else {
            this.layout.append(this.title);
            this.layout.append(this.itemsContainer);
        }
    };

    return Legend;
}(ChartElement));

setDefaultOptions(Legend, {
    position: RIGHT,
    items: [],
    offsetX: 0,
    offsetY: 0,
    margin: getSpacing(5),
    padding: getSpacing(5),
    border: {
        color: BLACK,
        width: 0
    },
    item: {
        cursor: POINTER,
        spacing: 6
    },
    spacing: 6,
    background: "",
    zIndex: 1,
    markers: {
        border: {
            width: 0
        },
        width: 15,
        height: 3,
        type: "rect",
        align: LEFT,
        vAlign: CENTER
    }
});

var PlotAreaFactory = (function (Class$$1) {
    function PlotAreaFactory() {
        Class$$1.call(this);

        this._registry = [];
    }

    if ( Class$$1 ) PlotAreaFactory.__proto__ = Class$$1;
    PlotAreaFactory.prototype = Object.create( Class$$1 && Class$$1.prototype );
    PlotAreaFactory.prototype.constructor = PlotAreaFactory;

    PlotAreaFactory.prototype.register = function register (type, seriesTypes) {
        this._registry.push({
            type: type,
            seriesTypes: seriesTypes
        });
    };

    PlotAreaFactory.prototype.create = function create (srcSeries, options, chartService) {
        var registry = this._registry;
        var match = registry[0];
        var series;

        for (var idx = 0; idx < registry.length; idx++) {
            var entry = registry[idx];
            series = filterSeriesByType(srcSeries, entry.seriesTypes);

            if (series.length > 0) {
                match = entry;
                break;
            }
        }

        return new match.type(series, options, chartService);
    };

    return PlotAreaFactory;
}(_progress_kendoDrawing.Class));

PlotAreaFactory.current = new PlotAreaFactory();

var ZOOM_ACCELERATION = 3;
var SELECTOR_HEIGHT_ADJUST = 0.1;

function createDiv(className) {
    var element = document.createElement("div");
    if (className) {
        element.className = className;
    }

    return element;
}

function closestHandle(element) {
    var current = element;
    while (current && !hasClasses(current, "k-handle")) {
        current = current.parentNode;
    }

    return current;
}

var Selection = (function (Class$$1) {
    function Selection(chart, categoryAxis, options, observer) {
        Class$$1.call(this);

        var chartElement = chart.element;

        this.options = deepExtend({}, this.options, options);
        this.chart = chart;
        this.observer = observer;
        this.chartElement = chartElement;
        this.categoryAxis = categoryAxis;
        this._dateAxis = this.categoryAxis instanceof DateCategoryAxis;

        this.initOptions();

        this.visible = this.options.visible && chartElement.offsetHeight;

        if (this.visible) {
            this.createElements();

            this.set(this._index(this.options.from), this._index(this.options.to));

            this.bindEvents();
        }
    }

    if ( Class$$1 ) Selection.__proto__ = Class$$1;
    Selection.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Selection.prototype.constructor = Selection;

    Selection.prototype.onPane = function onPane (pane) {
        return this.categoryAxis.pane === pane;
    };

    Selection.prototype.createElements = function createElements () {
        var options = this.options;
        var wrapper = this.wrapper = createDiv("k-selector");
        elementStyles(wrapper, {
            top: options.offset.top,
            left: options.offset.left,
            width: options.width,
            height: options.height,
            direction: 'ltr'
        });
        var selection = this.selection = createDiv("k-selection");
        this.leftMask = createDiv("k-mask");
        this.rightMask = createDiv("k-mask");

        wrapper.appendChild(this.leftMask);
        wrapper.appendChild(this.rightMask);
        wrapper.appendChild(selection);

        selection.appendChild(createDiv("k-selection-bg"));

        var leftHandle = this.leftHandle = createDiv("k-handle k-left-handle");
        var rightHandle = this.rightHandle = createDiv("k-handle k-right-handle");
        leftHandle.appendChild(createDiv());
        rightHandle.appendChild(createDiv());

        selection.appendChild(leftHandle);
        selection.appendChild(rightHandle);

        this.chartElement.appendChild(wrapper);
        var selectionStyles = elementStyles(selection, [ "borderLeftWidth", "borderRightWidth", "height" ]);
        var leftHandleHeight = elementStyles(leftHandle, "height").height;
        var rightHandleHeight = elementStyles(rightHandle, "height").height;

        options.selection = {
            border: {
                left: selectionStyles.borderLeftWidth,
                right: selectionStyles.borderRightWidth
            }
        };

        elementStyles(leftHandle, {
            top: (selectionStyles.height - leftHandleHeight) / 2
        });

        elementStyles(rightHandle, {
            top: (selectionStyles.height - rightHandleHeight) / 2
        });

        wrapper.style.cssText = wrapper.style.cssText;
    };

    Selection.prototype.bindEvents = function bindEvents$1 () {
        if (this.options.mousewheel !== false) {
            this._mousewheelHandler = this._mousewheel.bind(this);
            var obj;
            bindEvents$1$1(this.wrapper, ( obj = {}, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj ));
        }

        this._domEvents = DomEventsBuilder.create(this.wrapper, {
            stopPropagation: true, // applicable for the jQuery UserEvents
            start: this._start.bind(this),
            move: this._move.bind(this),
            end: this._end.bind(this),
            tap: this._tap.bind(this),
            press: this._press.bind(this),
            gesturestart: this._gesturestart.bind(this),
            gesturechange: this._gesturechange.bind(this),
            gestureend: this._gestureend.bind(this)
        });
    };

    Selection.prototype.initOptions = function initOptions () {
        var ref = this;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var box = categoryAxis.pane.chartsBox();
        var intlService = this.chart.chartService.intl;

        if (this._dateAxis) {
            deepExtend(options, {
                min: parseDate(intlService, options.min),
                max: parseDate(intlService, options.max),
                from: parseDate(intlService, options.from),
                to: parseDate(intlService, options.to)
            });
        }

        var ref$1 = elementStyles(this.chartElement, [ "paddingLeft", "paddingTop" ]);
        var paddingLeft = ref$1.paddingLeft;
        var paddingTop = ref$1.paddingTop;

        this.options = deepExtend({}, {
            width: box.width(),
            height: box.height() + SELECTOR_HEIGHT_ADJUST, //workaround for sub-pixel hover on the paths in chrome
            padding: {
                left: paddingLeft,
                top: paddingTop
            },
            offset: {
                left: box.x1 + paddingLeft,
                top: box.y1 + paddingTop
            },
            from: options.min,
            to: options.max
        }, options);
    };

    Selection.prototype.destroy = function destroy () {
        if (this._domEvents) {
            this._domEvents.destroy();
            delete this._domEvents;
        }

        clearTimeout(this._mwTimeout);
        this._state = null;

        if (this.wrapper) {
            if (this._mousewheelHandler) {
                var obj;
                unbindEvents$1(this.wrapper, ( obj = {}, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj ));
                this._mousewheelHandler = null;
            }
            this.chartElement.removeChild(this.wrapper);
            this.wrapper = null;
        }
    };

    Selection.prototype._rangeEventArgs = function _rangeEventArgs (range) {

        return {
            axis: this.categoryAxis.options,
            from: this._value(range.from),
            to: this._value(range.to)
        };
    };

    Selection.prototype._start = function _start (e) {
        var options = this.options;
        var target = eventElement(e);

        if (this._state || !target) {
            return;
        }

        this.chart._unsetActivePoint();
        this._state = {
            moveTarget: closestHandle(target) || target,
            startLocation: e.x ? e.x.location : 0,
            range: {
                from: this._index(options.from),
                to: this._index(options.to)
            }
        };

        var args = this._rangeEventArgs({
            from: this._index(options.from),
            to: this._index(options.to)
        });

        if (this.trigger(SELECT_START, args)) {
            this._state = null;
        }
    };

    Selection.prototype._press = function _press (e) {
        var handle;
        if (this._state) {
            handle = this._state.moveTarget;
        } else {
            handle = closestHandle(eventElement(e));
        }
        if (handle) {
            addClass(handle, "k-handle-active");
        }
    };

    Selection.prototype._move = function _move (e) {
        if (!this._state) {
            return;
        }

        var ref = this;
        var state = ref._state;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var range = state.range;
        var target = state.moveTarget;
        var reverse = categoryAxis.options.reverse;
        var from = this._index(options.from);
        var to = this._index(options.to);
        var min = this._index(options.min);
        var max = this._index(options.max);
        var delta = state.startLocation - e.x.location;
        var oldRange = { from: range.from, to: range.to };
        var span = range.to - range.from;
        var scale = elementStyles(this.wrapper, "width").width / (categoryAxis.categoriesCount() - 1);
        var offset = Math.round(delta / scale) * (reverse ? -1 : 1);

        if (!target) {
            return;
        }

        var leftHandle = hasClasses(target, "k-left-handle");
        var rightHandle = hasClasses(target, "k-right-handle");

        if (hasClasses(target, "k-selection k-selection-bg")) {
            range.from = Math.min(
                Math.max(min, from - offset),
                max - span
            );
            range.to = Math.min(
                range.from + span,
                max
            );
        } else if ((leftHandle && !reverse) || (rightHandle && reverse)) {
            range.from = Math.min(
                Math.max(min, from - offset),
                max - 1
            );
            range.to = Math.max(range.from + 1, range.to);
        } else if ((leftHandle && reverse) || (rightHandle && !reverse)) {
            range.to = Math.min(
                Math.max(min + 1, to - offset),
                max
            );
            range.from = Math.min(range.to - 1, range.from);
        }

        if (range.from !== oldRange.from || range.to !== oldRange.to) {
            this.move(range.from, range.to);
            this.trigger(SELECT, this._rangeEventArgs(range));
        }
    };

    Selection.prototype._end = function _end () {
        if (this._state) {
            var moveTarget = this._state.moveTarget;
            if (moveTarget) {
                removeClass(moveTarget, "k-handle-active");
            }

            var range = this._state.range;
            this.set(range.from, range.to);
            this.trigger(SELECT_END, this._rangeEventArgs(range));

            delete this._state;
        }
    };

    Selection.prototype._tap = function _tap (e) {
        var ref = this;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var coords = this.chart._eventCoordinates(e);
        var categoryIx = categoryAxis.pointCategoryIndex(new Point(coords.x, categoryAxis.box.y1));
        var from = this._index(options.from);
        var to = this._index(options.to);
        var min = this._index(options.min);
        var max = this._index(options.max);
        var span = to - from;
        var mid = from + span / 2;
        var range = {};
        var rightClick = e.event.which === 3;
        var offset = Math.round(mid - categoryIx);

        if (this._state || rightClick) {
            return;
        }


        this.chart._unsetActivePoint();

        if (!categoryAxis.options.justified) {
            offset--;
        }

        range.from = Math.min(
            Math.max(min, from - offset),
            max - span
        );

        range.to = Math.min(range.from + span, max);

        this._start(e);
        if (this._state) {
            this._state.range = range;
            this.trigger(SELECT, this._rangeEventArgs(range));
            this._end();
        }
    };

    Selection.prototype._mousewheel = function _mousewheel (e) {
        var this$1 = this;

        var delta = mousewheelDelta(e);

        this._start({ target: this.selection });

        if (this._state) {
            var range = this._state.range;

            e.preventDefault();
            e.stopPropagation();

            if (Math.abs(delta) > 1) {
                delta *= ZOOM_ACCELERATION;
            }

            if (this.options.mousewheel.reverse) {
                delta *= -1;
            }

            if (this.expand(delta)) {
                this.trigger(SELECT, {
                    axis: this.categoryAxis.options,
                    delta: delta,
                    originalEvent: e,
                    from: this._value(range.from),
                    to: this._value(range.to)
                });
            }

            if (this._mwTimeout) {
                clearTimeout(this._mwTimeout);
            }

            this._mwTimeout = setTimeout(function () {
                this$1._end();
            }, MOUSEWHEEL_DELAY);
        }
    };

    Selection.prototype._gesturestart = function _gesturestart (e) {
        var options = this.options;

        this._state = {
            range: {
                from: this._index(options.from),
                to: this._index(options.to)
            }
        };
        var args = this._rangeEventArgs(this._state.range);

        if (this.trigger(SELECT_START, args)) {
            this._state = null;
        } else {
            e.preventDefault();
        }
    };

    Selection.prototype._gestureend = function _gestureend () {
        if (this._state) {
            this.trigger(SELECT_END, this._rangeEventArgs(this._state.range));
            delete this._state;
        }
    };

    Selection.prototype._gesturechange = function _gesturechange (e) {
        var ref = this;
        var chart = ref.chart;
        var state = ref._state;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var range = state.range;
        var p0 = chart._toModelCoordinates(e.touches[0].x.location).x;
        var p1 = chart._toModelCoordinates(e.touches[1].x.location).x;
        var left = Math.min(p0, p1);
        var right = Math.max(p0, p1);

        e.preventDefault();

        range.from = categoryAxis.pointCategoryIndex(new Point(left)) || options.min;

        range.to = categoryAxis.pointCategoryIndex(new Point(right)) || options.max;

        this.move(range.from, range.to);

        this.trigger(SELECT, this._rangeEventArgs(range));
    };

    Selection.prototype._index = function _index (value) {
        var index = value;

        if (value instanceof Date) {
            index = this.categoryAxis.categoryIndex(value);
        }

        return index;
    };

    Selection.prototype._value = function _value (index) {
        var value = index;
        if (this._dateAxis) {
            value = this.categoryAxis.categoryAt(index);
            if (value > this.options.max) {
                value = this.options.max;
            }
        }

        return value;
    };

    Selection.prototype._slot = function _slot (value) {
        var categoryAxis = this.categoryAxis;
        var index = this._index(value);

        return categoryAxis.getSlot(index, index, true);
    };

    Selection.prototype.move = function move (from, to) {
        var options = this.options;
        var reverse = this.categoryAxis.options.reverse;
        var offset = options.offset;
        var padding = options.padding;
        var border = options.selection.border;
        var left = reverse ? to : from;
        var right = reverse ? from : to;
        var edge = 'x' + (reverse ? 2 : 1);

        var box = this._slot(left);
        var leftMaskWidth = round(box[edge] - offset.left + padding.left);

        elementStyles(this.leftMask, {
            width: leftMaskWidth
        });
        elementStyles(this.selection, {
            left: leftMaskWidth
        });

        box = this._slot(right);

        var rightMaskWidth = round(options.width - (box[edge] - offset.left + padding.left));
        elementStyles(this.rightMask, {
            width: rightMaskWidth
        });

        var distance = options.width - rightMaskWidth;
        if (distance !== options.width) {
            distance += border.right;
        }

        elementStyles(this.rightMask, {
            left: distance
        });
        elementStyles(this.selection, {
            width: Math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0)
        });
    };

    Selection.prototype.set = function set (from, to) {
        var options = this.options;
        var min = this._index(options.min);
        var max = this._index(options.max);
        var fromValue = limitValue(this._index(from), min, max);
        var toValue = limitValue(this._index(to), fromValue + 1, max);

        if (options.visible) {
            this.move(fromValue, toValue);
        }

        options.from = this._value(fromValue);
        options.to = this._value(toValue);
    };

    Selection.prototype.expand = function expand (delta) {
        var options = this.options;
        var min = this._index(options.min);
        var max = this._index(options.max);
        var zDir = options.mousewheel.zoom;
        var from = this._index(options.from);
        var to = this._index(options.to);
        var range = { from: from, to: to };
        var oldRange = deepExtend({}, range);

        if (this._state) {
            range = this._state.range;
        }

        if (zDir !== RIGHT) {
            range.from = limitValue(
                limitValue(from - delta, 0, to - 1),
                min, max
            );
        }

        if (zDir !== LEFT) {
            range.to = limitValue(
                limitValue(to + delta, range.from + 1, max),
                min,
                max
             );
        }

        if (range.from !== oldRange.from || range.to !== oldRange.to) {
            this.set(range.from, range.to);
            return true;
        }
    };

    Selection.prototype.zoom = function zoom (delta, coords) {
        var options = this.options;
        var min = this._index(options.min);
        var max = this._index(options.max);
        var from = this._index(options.from);
        var to = this._index(options.to);
        var range = { from: from, to: to };
        var oldRange = deepExtend({}, range);

        var ref = this.categoryAxis.options;
        var reverse = ref.reverse;
        var origin = X + (reverse ? '2' : '1');
        var lineBox = this.categoryAxis.lineBox();
        var relative = Math.abs(lineBox[origin] - coords[X]);
        var size = lineBox.width();
        var position = round(relative / size, 2);
        var minDelta = round(position * delta);
        var maxDelta = round((1 - position) * delta);

        if (this._state) {
            range = this._state.range;
        }

        range.from = limitValue(
            limitValue(from - minDelta, 0, to - 1),
            min, max
        );

        range.to = limitValue(
            limitValue(to + maxDelta, range.from + 1, max),
            min,
            max
        );

        if (range.from !== oldRange.from || range.to !== oldRange.to) {
            this.set(range.from, range.to);
            return true;
        }
    };

    Selection.prototype.trigger = function trigger (name, args) {
        return (this.observer || this.chart).trigger(name, args);
    };

    return Selection;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Selection, {
    visible: true,
    mousewheel: {
        zoom: "both"
    },
    min: MIN_VALUE,
    max: MAX_VALUE
});

var Tooltip = (function (BaseTooltip$$1) {
    function Tooltip () {
        BaseTooltip$$1.apply(this, arguments);
    }

    if ( BaseTooltip$$1 ) Tooltip.__proto__ = BaseTooltip$$1;
    Tooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    Tooltip.prototype.constructor = Tooltip;

    Tooltip.prototype.show = function show (point) {
        if (!point || !point.tooltipAnchor || (this._current && this._current === point)) {
            return;
        }

        var options = deepExtend({}, this.options, point.options.tooltip);
        var anchor = point.tooltipAnchor();

        if (anchor) {
            this._current = point;
            BaseTooltip$$1.prototype.show.call(this, {
                point: point,
                anchor: anchor
            }, options, point);
        } else {
            this.hide();
        }
    };

    Tooltip.prototype.hide = function hide () {
        delete this._current;
        BaseTooltip$$1.prototype.hide.call(this);
    };

    return Tooltip;
}(BaseTooltip));

var SharedTooltip = (function (BaseTooltip$$1) {
    function SharedTooltip(plotArea, options) {
        BaseTooltip$$1.call(this, plotArea.chartService, options);

        this.plotArea = plotArea;
        this.formatService = plotArea.chartService.format;
    }

    if ( BaseTooltip$$1 ) SharedTooltip.__proto__ = BaseTooltip$$1;
    SharedTooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    SharedTooltip.prototype.constructor = SharedTooltip;

    SharedTooltip.prototype.showAt = function showAt (points, coords) {
        var tooltipPoints = grep(points, function(point) {
            var tooltip = point.series.tooltip;
            var excluded = tooltip && tooltip.visible === false;

            return !excluded;
        });

        if (tooltipPoints.length > 0) {
            var point = tooltipPoints[0];
            var slot = this.plotArea.categoryAxis.getSlot(point.categoryIx);

            var anchor = coords ? this._slotAnchor(coords, slot) : this._defaultAnchor(point, slot);

            this.show({
                anchor: anchor,
                shared: true,
                points: points,
                category: point.category,
                categoryText: this.formatService.auto(this.options.categoryFormat, point.category),
                series: this.plotArea.series
            }, this.options);
        }
    };

    SharedTooltip.prototype._slotAnchor = function _slotAnchor (point, slot) {
        var axis = this.plotArea.categoryAxis;
        var align = {
            horizontal: "left",
            vertical: "center"
        };

        if (!axis.options.vertical) {
            point.x = slot.center().x;
        }

        return {
            point: point,
            align: align
        };
    };

    SharedTooltip.prototype._defaultAnchor = function _defaultAnchor (point, slot) {
        var box = point.owner.pane.chartsBox();
        var vertical = this.plotArea.categoryAxis.options.vertical;
        var center = box.center();
        var slotCenter = slot.center();
        var align = {
            horizontal: "center",
            vertical: "center"
        };

        var centerPoint;
        if (vertical) {
            centerPoint = new Point(center.x, slotCenter.y);
        } else {
            centerPoint = new Point(slotCenter.x, center.y);
        }

        return {
            point: centerPoint,
            align: align
        };
    };

    return SharedTooltip;
}(BaseTooltip));

setDefaultOptions(SharedTooltip, {
    categoryFormat: '{0:d}'
});

var BarChartAnimation = (function (superclass) {
    function BarChartAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BarChartAnimation.__proto__ = superclass;
    BarChartAnimation.prototype = Object.create( superclass && superclass.prototype );
    BarChartAnimation.prototype.constructor = BarChartAnimation;

    BarChartAnimation.prototype.setup = function setup () {
        var ref = this;
        var element = ref.element;
        var options = ref.options;
        var bbox = element.bbox();

        if (bbox) {
            this.origin = options.origin;
            var axis = options.vertical ? Y : X;

            var fromScale = this.fromScale = new _progress_kendoDrawing.geometry.Point(1, 1);
            fromScale[axis] = START_SCALE;

            element.transform(_progress_kendoDrawing.geometry.transform()
                .scale(fromScale.x, fromScale.y)
            );
        } else {
            this.abort();
        }
    };

    BarChartAnimation.prototype.step = function step (pos) {
        var scaleX = interpolateValue(this.fromScale.x, 1, pos);
        var scaleY = interpolateValue(this.fromScale.y, 1, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(scaleX, scaleY, this.origin)
        );
    };

    BarChartAnimation.prototype.abort = function abort () {
        superclass.prototype.abort.call(this);
        this.element.transform(null);
    };

    return BarChartAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BarChartAnimation, {
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BAR, BarChartAnimation);

var BubbleAnimation = (function (superclass) {
    function BubbleAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BubbleAnimation.__proto__ = superclass;
    BubbleAnimation.prototype = Object.create( superclass && superclass.prototype );
    BubbleAnimation.prototype.constructor = BubbleAnimation;

    BubbleAnimation.prototype.setup = function setup () {
        var center = this.center = this.element.bbox().center();
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(START_SCALE, START_SCALE, center)
        );
    };

    BubbleAnimation.prototype.step = function step (pos) {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(pos, pos, this.center)
        );
    };

    return BubbleAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BubbleAnimation, {
    easing: "easeOutElastic"
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BUBBLE, BubbleAnimation);

var FadeInAnimation = (function (superclass) {
    function FadeInAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) FadeInAnimation.__proto__ = superclass;
    FadeInAnimation.prototype = Object.create( superclass && superclass.prototype );
    FadeInAnimation.prototype.constructor = FadeInAnimation;

    FadeInAnimation.prototype.setup = function setup () {
        this.fadeTo = this.element.opacity();
        this.element.opacity(0);
    };

    FadeInAnimation.prototype.step = function step (pos) {
        this.element.opacity(pos * this.fadeTo);
    };

    return FadeInAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(FadeInAnimation, {
    duration: 200,
    easing: "linear"
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(FADEIN, FadeInAnimation);

var PieAnimation = (function (superclass) {
    function PieAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) PieAnimation.__proto__ = superclass;
    PieAnimation.prototype = Object.create( superclass && superclass.prototype );
    PieAnimation.prototype.constructor = PieAnimation;

    PieAnimation.prototype.setup = function setup () {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(START_SCALE, START_SCALE, this.options.center)
        );
    };

    PieAnimation.prototype.step = function step (pos) {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(pos, pos, this.options.center)
        );
    };

    return PieAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(PieAnimation, {
    easing: "easeOutElastic",
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(PIE, PieAnimation);

var ScatterLineChart = (function (ScatterChart$$1) {
    function ScatterLineChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) ScatterLineChart.__proto__ = ScatterChart$$1;
    ScatterLineChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    ScatterLineChart.prototype.constructor = ScatterLineChart;

    ScatterLineChart.prototype.render = function render () {
        ScatterChart$$1.prototype.render.call(this);

        this.renderSegments();
    };

    ScatterLineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx);
    };

    ScatterLineChart.prototype.animationPoints = function animationPoints () {
        var points = ScatterChart$$1.prototype.animationPoints.call(this);
        return points.concat(this._segments);
    };

    ScatterLineChart.prototype.createMissingValue = function createMissingValue (value, missingValues) {
        if (missingValues === ZERO) {
            var missingValue = {
                x: value.x,
                y: value.y
            };
            if (!hasValue(missingValue.x)) {
                missingValue.x = 0;
            }
            if (!hasValue(missingValue.y)) {
                missingValue.y = 0;
            }
            return missingValue;
        }
    };

    return ScatterLineChart;
}(ScatterChart));

deepExtend(ScatterLineChart.prototype, LineChartMixin);

var XYPlotArea = (function (PlotAreaBase$$1) {
    function XYPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) XYPlotArea.__proto__ = PlotAreaBase$$1;
    XYPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    XYPlotArea.prototype.constructor = XYPlotArea;

    XYPlotArea.prototype.initFields = function initFields () {
        this.namedXAxes = {};
        this.namedYAxes = {};

        this.xAxisRangeTracker = new AxisGroupRangeTracker();
        this.yAxisRangeTracker = new AxisGroupRangeTracker();
    };

    XYPlotArea.prototype.render = function render (panes) {
        var this$1 = this;
        if ( panes === void 0 ) panes = this.panes;

        var seriesByPane = this.groupSeriesByPane();

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            var paneSeries = seriesByPane[pane.options.name || "default"] || [];
            this$1.addToLegend(paneSeries);
            var filteredSeries = this$1.filterVisibleSeries(paneSeries);

            if (!filteredSeries) {
                continue;
            }

            this$1.createScatterChart(
                filterSeriesByType(filteredSeries, SCATTER),
                pane
            );

            this$1.createScatterLineChart(
                filterSeriesByType(filteredSeries, SCATTER_LINE),
                pane
            );

            this$1.createBubbleChart(
                filterSeriesByType(filteredSeries, BUBBLE),
                pane
            );
        }

        this.createAxes(panes);
    };

    XYPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        this.xAxisRangeTracker.update(chart.xAxisRanges);
        this.yAxisRangeTracker.update(chart.yAxisRanges);

        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
    };

    XYPlotArea.prototype.removeAxis = function removeAxis (axis) {
        var axisName = axis.options.name;

        PlotAreaBase$$1.prototype.removeAxis.call(this, axis);

        if (axis.options.vertical) {
            this.yAxisRangeTracker.reset(axisName);
            delete this.namedYAxes[axisName];
        } else {
            this.xAxisRangeTracker.reset(axisName);
            delete this.namedXAxes[axisName];
        }

        if (axis === this.axisX) {
            delete this.axisX;
        }

        if (axis === this.axisY) {
            delete this.axisY;
        }
    };

    // TODO: Refactor, optionally use series.pane option
    XYPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {
        var options = this.options;
        var xAxisName = series.xAxis;
        var xAxisOptions = [].concat(options.xAxis);
        var xAxis = grep(xAxisOptions, function(a) { return a.name === xAxisName; })[0];
        var yAxisName = series.yAxis;
        var yAxisOptions = [].concat(options.yAxis);
        var yAxis = grep(yAxisOptions, function(a) { return a.name === yAxisName; })[0];
        var panes = options.panes || [ {} ];
        var defaultPaneName = panes[0].name || "default";
        var paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;

        return paneName;
    };

    XYPlotArea.prototype.createScatterChart = function createScatterChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new ScatterChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createScatterLineChart = function createScatterLineChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new ScatterLineChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createBubbleChart = function createBubbleChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new BubbleChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createXYAxis = function createXYAxis (options, vertical, axisIndex) {
        var axisName = options.name;
        var namedAxes = vertical ? this.namedYAxes : this.namedXAxes;
        var tracker = vertical ? this.yAxisRangeTracker : this.xAxisRangeTracker;
        var axisOptions = deepExtend({ reverse: !vertical && this.chartService.rtl }, options, { vertical: vertical });
        var isLog = equalsIgnoreCase(axisOptions.type, LOGARITHMIC);
        var defaultRange = tracker.query();
        var defaultAxisRange = isLog ? { min: 0.1, max: 1 } : { min: 0, max: 1 };
        var range = tracker.query(axisName) || defaultRange || defaultAxisRange;
        var typeSamples = [ axisOptions.min, axisOptions.max ];
        var series = this.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var seriesAxisName = currentSeries[vertical ? "yAxis" : "xAxis"];
            if ((seriesAxisName === axisOptions.name) || (axisIndex === 0 && !seriesAxisName)) {
                var firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;
                typeSamples.push(firstPointValue[vertical ? "y" : "x"]);

                break;
            }
        }

        if (axisIndex === 0 && defaultRange) {
            range.min = Math.min(range.min, defaultRange.min);
            range.max = Math.max(range.max, defaultRange.max);
        }

        var inferredDate;

        for (var i = 0; i < typeSamples.length; i++) {
            if (typeSamples[i] instanceof Date) {
                inferredDate = true;
                break;
            }
        }

        var axisType;
        if (equalsIgnoreCase(axisOptions.type, DATE) || (!axisOptions.type && inferredDate)) {
            axisType = DateValueAxis;
        } else if (isLog) {
            axisType = LogarithmicAxis;
        } else {
            axisType = NumericAxis;
        }

        var axis = new axisType(range.min, range.max, axisOptions, this.chartService);
        axis.axisIndex = axisIndex;

        if (axisName) {
            if (namedAxes[axisName]) {
                throw new Error(((vertical ? "Y" : "X") + " axis with name " + axisName + " is already defined"));
            }
            namedAxes[axisName] = axis;
        }

        this.appendAxis(axis);

        return axis;
    };

    XYPlotArea.prototype.createAxes = function createAxes (panes) {
        var this$1 = this;

        var options = this.options;
        var xAxesOptions = [].concat(options.xAxis);
        var xAxes = [];
        var yAxesOptions = [].concat(options.yAxis);
        var yAxes = [];

        for (var idx = 0; idx < xAxesOptions.length; idx++) {
            var axisPane = this$1.findPane(xAxesOptions[idx].pane);
            if (inArray(axisPane, panes)) {
                xAxes.push(this$1.createXYAxis(xAxesOptions[idx], false, idx));
            }
        }

        for (var idx$1 = 0; idx$1 < yAxesOptions.length; idx$1++) {
            var axisPane$1 = this$1.findPane(yAxesOptions[idx$1].pane);
            if (inArray(axisPane$1, panes)) {
                yAxes.push(this$1.createXYAxis(yAxesOptions[idx$1], true, idx$1));
            }
        }

        this.axisX = this.axisX || xAxes[0];
        this.axisY = this.axisY || yAxes[0];
    };

    XYPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var allAxes = this.axes;
        var length = allAxes.length;
        var xValues = [];
        var yValues = [];

        for (var i = 0; i < length; i++) {
            var axis = allAxes[i];
            var values = axis.options.vertical ? yValues : xValues;
            var currentValue = axis.getValue(point);
            if (currentValue !== null) {
                values.push(currentValue);
            }
        }

        if (xValues.length > 0 && yValues.length > 0) {
            chart.trigger(eventType, {
                element: eventElement(e),
                originalEvent: e,
                x: singleItemOrArray(xValues),
                y: singleItemOrArray(yValues)
            });
        }
    };

    XYPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {
        var vertical = axis.options.vertical;
        var axes = this.groupAxes(this.panes);
        var index = (vertical ? axes.y : axes.x).indexOf(axis);

        updateAxisOptions$1$1(this.options, index, vertical, options);
        updateAxisOptions$1$1(this.originalOptions, index, vertical, options);
    };

    return XYPlotArea;
}(PlotAreaBase));

function updateAxisOptions$1$1(targetOptions, axisIndex, vertical, options) {
    var axisOptions = ([].concat(vertical ? targetOptions.yAxis : targetOptions.xAxis))[axisIndex];
    deepExtend(axisOptions, options);
}

setDefaultOptions(XYPlotArea, {
    xAxis: {},
    yAxis: {}
});

deepExtend(XYPlotArea.prototype, PlotAreaEventsMixin);

var PieSegment = (function (ChartElement$$1) {
    function PieSegment(value, sector, options) {
        ChartElement$$1.call(this, options);

        this.value = value;
        this.sector = sector;
    }

    if ( ChartElement$$1 ) PieSegment.__proto__ = ChartElement$$1;
    PieSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PieSegment.prototype.constructor = PieSegment;

    PieSegment.prototype.render = function render () {
        var labels = this.options.labels;
        var chartService = this.owner.chartService;
        var labelText = this.value;

        if (this._rendered || this.visible === false) {
            return;
        }
        this._rendered = true;

        var labelTemplate = getTemplate(labels);
        var pointData = this.pointData();

        if (labelTemplate) {
            labelText = labelTemplate(pointData);
        } else if (labels.format) {
            labelText = chartService.format.auto(labels.format, labelText);
        }

        if (labels.visible && (labelText || labelText === 0)) {
            if (labels.position === CENTER || labels.position === INSIDE_END) {
                if (!labels.color) {
                    labels.color = autoTextColor(this.options.color);
                }
                if (!labels.background) {
                    labels.background = this.options.color;
                }
            } else {
                var themeLabels = chartService.theme.seriesDefaults.labels;
                labels.color = labels.color || themeLabels.color;
                labels.background = labels.background || themeLabels.background;
            }


            this.label = new TextBox(labelText, deepExtend({}, labels, {
                align: CENTER,
                vAlign: "",
                animation: {
                    type: FADEIN,
                    delay: this.animationDelay
                }
            }), pointData);

            this.append(this.label);
        }
    };

    PieSegment.prototype.reflow = function reflow (targetBox) {
        this.render();
        this.box = targetBox;
        this.reflowLabel();
    };

    PieSegment.prototype.reflowLabel = function reflowLabel () {
        var ref = this;
        var labelsOptions = ref.options.labels;
        var label = ref.label;
        var sector = this.sector.clone();
        var labelsDistance = labelsOptions.distance;
        var angle = sector.middle();

        if (label) {
            var labelHeight = label.box.height();
            var labelWidth = label.box.width();
            var lp;

            if (labelsOptions.position === CENTER) {
                sector.radius = Math.abs((sector.radius - labelHeight) / 2) + labelHeight;
                lp = sector.point(angle);
                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else if (labelsOptions.position === INSIDE_END) {
                sector.radius = sector.radius - labelHeight / 2;
                lp = sector.point(angle);
                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else {
                var x1;
                lp = sector.clone().expand(labelsDistance).point(angle);
                if (lp.x >= sector.center.x) {
                    x1 = lp.x + labelWidth;
                    label.orientation = RIGHT;
                } else {
                    x1 = lp.x - labelWidth;
                    label.orientation = LEFT;
                }
                label.reflow(new Box(x1, lp.y - labelHeight, lp.x, lp.y));
            }
        }
    };

    PieSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var sector = ref.sector;
        var options = ref.options;

        ChartElement$$1.prototype.createVisual.call(this);

        if (this.value) {
            if (options.visual) {
                var startAngle = (sector.startAngle + 180) % 360;
                var visual = options.visual({
                    category: this.category,
                    dataItem: this.dataItem,
                    value: this.value,
                    series: this.series,
                    percentage: this.percentage,
                    center: new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y),
                    radius: sector.radius,
                    innerRadius: sector.innerRadius,
                    startAngle: startAngle,
                    endAngle: startAngle + sector.angle,
                    options: options,
                    sender: this.getSender(),
                    createVisual: function () {
                        var group = new _progress_kendoDrawing.drawing.Group();
                        this$1.createSegmentVisual(group);

                        return group;
                    }
                });

                if (visual) {
                    this.visual.append(visual);
                }
            } else {
                this.createSegmentVisual(this.visual);
            }
        }
    };

    PieSegment.prototype.createSegmentVisual = function createSegmentVisual (group) {
        var ref = this;
        var sector = ref.sector;
        var options = ref.options;
        var borderOptions = options.border || {};
        var border = borderOptions.width > 0 ? {
            stroke: {
                color: borderOptions.color,
                width: borderOptions.width,
                opacity: borderOptions.opacity,
                dashType: borderOptions.dashType
            }
        } : {};
        var color = options.color;
        var fill = {
            color: color,
            opacity: options.opacity
        };
        var visual = this.createSegment(sector, deepExtend({
            fill: fill,
            stroke: {
                opacity: options.opacity
            },
            zIndex: options.zIndex
        }, border));

        group.append(visual);

        if (hasGradientOverlay(options)) {
            group.append(this.createGradientOverlay(visual, {
                baseColor: color,
                fallbackFill: fill
            }, deepExtend({
                center: [ sector.center.x, sector.center.y ],
                innerRadius: sector.innerRadius,
                radius: sector.radius,
                userSpace: true
            }, options.overlay)));
        }
    };

    PieSegment.prototype.createSegment = function createSegment (sector, options) {
        if (options.singleSegment) {
            return new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle(new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y), sector.radius), options);
        }

        return ShapeBuilder.current.createRing(sector, options);
    };

    PieSegment.prototype.createAnimation = function createAnimation () {
        var ref = this;
        var options = ref.options;
        var center = ref.sector.center;

        deepExtend(options, {
            animation: {
                center: [ center.x, center.y ],
                delay: this.animationDelay
            }
        });

        ChartElement$$1.prototype.createAnimation.call(this);
    };

    PieSegment.prototype.createHighlight = function createHighlight (options) {
        var highlight = this.options.highlight || {};
        var border = highlight.border || {};

        return this.createSegment(this.sector, deepExtend({}, options, {
            fill: {
                color: highlight.color,
                opacity: highlight.opacity
            },
            stroke: {
                opacity: border.opacity,
                width: border.width,
                color: border.color
            }
        }));
    };

    PieSegment.prototype.highlightVisual = function highlightVisual () {
        return this.visual.children[0];
    };

    PieSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var sector = this.sector;

        return {
            options: this.options,
            radius: sector.radius,
            innerRadius: sector.innerRadius,
            center: new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y),
            startAngle: sector.startAngle,
            endAngle: sector.angle + sector.startAngle,
            visual: this.visual
        };
    };

    PieSegment.prototype.tooltipAnchor = function tooltipAnchor () {
        var sector = this.sector.clone().expand(TOOLTIP_OFFSET);
        var midAndle = sector.middle();
        var midPoint = sector.point(midAndle);

        return {
            point: midPoint,
            align: tooltipAlignment(midAndle + 180)
        };
    };

    PieSegment.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    PieSegment.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            series: this.series,
            percentage: this.percentage
        };
    };

    return PieSegment;
}(ChartElement));

var RAD_30 = round(rad(30), DEFAULT_PRECISION);
var RAD_60 = round(rad(60), DEFAULT_PRECISION);

function tooltipAlignment(angle) {
    var radians = rad(angle);
    var sine = round(Math.sin(radians), DEFAULT_PRECISION);
    var cosine = round(Math.cos(radians), DEFAULT_PRECISION);


    var horizontal;
    if (Math.abs(sine) > RAD_60) {
        horizontal = CENTER;
    } else if (cosine < 0) {
        horizontal = RIGHT;
    } else {
        horizontal = LEFT;
    }

    var vertical;
    if (Math.abs(sine) < RAD_30) {
        vertical = CENTER;
    } else if (sine < 0) {
        vertical = BOTTOM;
    } else {
        vertical = TOP;
    }

    return {
        horizontal: horizontal,
        vertical: vertical
    };
}

setDefaultOptions(PieSegment, {
    color: WHITE,
    overlay: {
        gradient: "roundedBevel"
    },
    border: {
        width: 0.5
    },
    labels: {
        visible: false,
        distance: 35,
        font: DEFAULT_FONT,
        margin: getSpacing(0.5),
        align: CIRCLE,
        zIndex: 1,
        position: OUTSIDE_END
    },
    animation: {
        type: PIE
    },
    highlight: {
        visible: true,
        border: {
            width: 1
        }
    },
    visible: true
});

deepExtend(PieSegment.prototype, PointEventsMixin);

var PieChartMixin = {
    createLegendItem: function(value, point, options) {
        var legendOptions = this.options.legend || {};
        var labelsOptions = legendOptions.labels || {};
        var inactiveItems = legendOptions.inactiveItems || {};
        var inactiveItemsLabels = inactiveItems.labels || {};

        if (options && options.visibleInLegend !== false) {
            var pointVisible = options.visible !== false;
            var labelTemplate = pointVisible ? getTemplate(labelsOptions) :
                getTemplate(inactiveItemsLabels) || getTemplate(labelsOptions);
            var text = options.category;

            if (labelTemplate) {
                text = labelTemplate({
                    text: text,
                    series: options.series,
                    dataItem: options.dataItem,
                    percentage: options.percentage,
                    value: value
                });
            }

            var itemLabelOptions, markerColor;
            if (pointVisible) {
                itemLabelOptions = {};
                markerColor = point.color;
            } else {
                itemLabelOptions = {
                    color: inactiveItemsLabels.color,
                    font: inactiveItemsLabels.font
                };
                markerColor = (inactiveItems.markers || {}).color;
            }

            if (hasValue(text) && text !== "") {
                this.legendItems.push({
                    active: pointVisible,
                    pointIndex: options.index,
                    text: text,
                    series: options.series,
                    markerColor: markerColor,
                    labels: itemLabelOptions
                });
            }
        }
    }
};

var PIE_SECTOR_ANIM_DELAY = 70;

var PieChart = (function (ChartElement$$1) {
    function PieChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this.points = [];
        this.legendItems = [];
        this.render();
    }

    if ( ChartElement$$1 ) PieChart.__proto__ = ChartElement$$1;
    PieChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PieChart.prototype.constructor = PieChart;

    PieChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    PieChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesColors = ref.plotArea.options.seriesColors; if ( seriesColors === void 0 ) seriesColors = [];
        var colorsCount = seriesColors.length;
        var series = options.series;
        var seriesCount = series.length;

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            var currentSeries = series[seriesIx];
            var data = currentSeries.data;
            var ref$1 = bindSegments(currentSeries);
            var total = ref$1.total;
            var points = ref$1.points;
            var count = ref$1.count;
            var anglePerValue = 360 / total;
            var constantAngle = (void 0);
            if (!isFinite(anglePerValue)) {
                constantAngle = 360 / count;
            }
            var currentAngle = (void 0);

            if (defined(currentSeries.startAngle)) {
                currentAngle = currentSeries.startAngle;
            } else {
                currentAngle = options.startAngle;
            }

            if (seriesIx !== seriesCount - 1) {
                if (currentSeries.labels.position === OUTSIDE_END) {
                    currentSeries.labels.position = CENTER;
                }
            }

            for (var i = 0; i < points.length; i++) {
                var pointData = points[i];
                if (!pointData) {
                    continue;
                }

                var fields = pointData.fields;
                var value = pointData.value;
                var visible = pointData.visible;
                var angle = value !== 0 ? (constantAngle || (value * anglePerValue)) : 0;
                var explode = data.length !== 1 && Boolean(fields.explode);

                if (!isFunction(currentSeries.color)) {
                    currentSeries.color = fields.color || seriesColors[i % colorsCount];
                }

                callback(pointData.valueFields.value, new Ring(null, 0, 0, currentAngle, angle), {
                    owner: this$1,
                    category: defined(fields.category) ? fields.category : "",
                    index: i,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    dataItem: data[i],
                    percentage: total !== 0 ? value / total : 0,
                    explode: explode,
                    visibleInLegend: fields.visibleInLegend,
                    visible: visible,
                    zIndex: seriesCount - seriesIx,
                    animationDelay: this$1.animationDelay(i, seriesIx, seriesCount)
                });

                if (visible !== false) {
                    currentAngle += angle;
                }
            }
        }
    };

    PieChart.prototype.evalSegmentOptions = function evalSegmentOptions (options, value, fields) {
        var series = fields.series;

        evalOptions(options, {
            value: value,
            series: series,
            dataItem: fields.dataItem,
            category: fields.category,
            percentage: fields.percentage
        }, { defaults: series._defaults, excluded: [ "data", "content", "template", "visual", "toggle" ] });
    };

    PieChart.prototype.addValue = function addValue (value, sector, fields) {
        var segmentOptions = deepExtend({}, fields.series, { index: fields.index });
        this.evalSegmentOptions(segmentOptions, value, fields);

        this.createLegendItem(value, segmentOptions, fields);

        if (fields.visible === false) {
            return;
        }

        var segment = new PieSegment(value, sector, segmentOptions);
        Object.assign(segment, fields);
        this.append(segment);
        this.points.push(segment);
    };

    PieChart.prototype.reflow = function reflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var points = ref.points;
        var seriesConfigs = ref.seriesConfigs; if ( seriesConfigs === void 0 ) seriesConfigs = [];
        var count = points.length;
        var box = targetBox.clone();
        var space = 5;
        var minWidth = Math.min(box.width(), box.height());
        var halfMinWidth = minWidth / 2;
        var defaultPadding = minWidth - minWidth * 0.85;
        var newBox = new Box(box.x1, box.y1, box.x1 + minWidth, box.y1 + minWidth);
        var newBoxCenter = newBox.center();
        var boxCenter = box.center();
        var seriesCount = options.series.length;
        var leftSideLabels = [];
        var rightSideLabels = [];
        var padding = valueOrDefault(options.padding, defaultPadding);

        this.targetBox = targetBox;

        padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;
        newBox.translate(boxCenter.x - newBoxCenter.x, boxCenter.y - newBoxCenter.y);

        var radius = halfMinWidth - padding;
        var center = new Point(
            radius + newBox.x1 + padding,
            radius + newBox.y1 + padding
        );

        for (var i = 0; i < count; i++) {
            var segment = points[i];
            var sector = segment.sector;
            var seriesIndex = segment.seriesIx;
            sector.radius = radius;
            sector.center = center;

            if (seriesConfigs.length) {
                var seriesConfig = seriesConfigs[seriesIndex];
                sector.innerRadius = seriesConfig.innerRadius;
                sector.radius = seriesConfig.radius;
            }

            if (seriesIndex === seriesCount - 1 && segment.explode) {
                sector.center = sector.clone().setRadius(sector.radius * 0.15).point(sector.middle());
            }

            segment.reflow(newBox);

            var label = segment.label;
            if (label) {
                if (label.options.position === OUTSIDE_END) {
                    if (seriesIndex === seriesCount - 1) {
                        if (label.orientation === RIGHT) {
                            rightSideLabels.push(label);
                        } else {
                            leftSideLabels.push(label);
                        }
                    }
                }
            }
        }

        if (leftSideLabels.length > 0) {
            leftSideLabels.sort(this.labelComparator(true));
            this.leftLabelsReflow(leftSideLabels);
        }

        if (rightSideLabels.length > 0) {
            rightSideLabels.sort(this.labelComparator(false));
            this.rightLabelsReflow(rightSideLabels);
        }

        this.box = newBox;
    };

    PieChart.prototype.leftLabelsReflow = function leftLabelsReflow (labels) {
        var distances = this.distanceBetweenLabels(labels);

        this.distributeLabels(distances, labels);
    };

    PieChart.prototype.rightLabelsReflow = function rightLabelsReflow (labels) {
        var distances = this.distanceBetweenLabels(labels);

        this.distributeLabels(distances, labels);
    };

    PieChart.prototype.distanceBetweenLabels = function distanceBetweenLabels (labels) {
        var segment = last(this.points);
        var sector = segment.sector;
        var count = labels.length - 1;
        var lr = sector.radius + segment.options.labels.distance;
        var distances = [];
        var firstBox = labels[0].box;
        var distance = round(firstBox.y1 - (sector.center.y - lr - firstBox.height() - firstBox.height() / 2));

        distances.push(distance);

        for (var i = 0; i < count; i++) {
            var secondBox = labels[i + 1].box;

            firstBox = labels[i].box;
            distance = round(secondBox.y1 - firstBox.y2);
            distances.push(distance);
        }
        distance = round(sector.center.y + lr - labels[count].box.y2 - labels[count].box.height() / 2);
        distances.push(distance);

        return distances;
    };

    PieChart.prototype.distributeLabels = function distributeLabels (distances, labels) {
        var this$1 = this;

        var count = distances.length;
        var left, right, remaining;

        for (var i = 0; i < count; i++) {
            remaining = -distances[i];
            left = right = i;

            while (remaining > 0 && (left >= 0 || right < count)) {
                remaining = this$1._takeDistance(distances, i, --left, remaining);
                remaining = this$1._takeDistance(distances, i, ++right, remaining);
            }
        }

        this.reflowLabels(distances, labels);
    };

    PieChart.prototype._takeDistance = function _takeDistance (distances, anchor, position, amount) {
        var result = amount;
        if (distances[position] > 0) {
            var available = Math.min(distances[position], result);
            result -= available;
            distances[position] -= available;
            distances[anchor] += available;
        }

        return result;
    };

    PieChart.prototype.reflowLabels = function reflowLabels (distances, labels) {
        var this$1 = this;

        var segment = last(this.points);
        var sector = segment.sector;
        var labelOptions = segment.options.labels;
        var labelsCount = labels.length;
        var labelDistance = labelOptions.distance;
        var boxY = sector.center.y - (sector.radius + labelDistance) - labels[0].box.height();
        var boxX;

        distances[0] += 2;
        for (var i = 0; i < labelsCount; i++) {
            var label = labels[i];
            var box = label.box;

            boxY += distances[i];
            boxX = this$1.hAlignLabel(
                box.x2,
                sector.clone().expand(labelDistance),
                boxY,
                boxY + box.height(),
                label.orientation === RIGHT);

            if (label.orientation === RIGHT) {
                if (labelOptions.align !== CIRCLE) {
                    boxX = sector.radius + sector.center.x + labelDistance;
                }
                label.reflow(new Box(boxX + box.width(), boxY, boxX, boxY));
            } else {
                if (labelOptions.align !== CIRCLE) {
                    boxX = sector.center.x - sector.radius - labelDistance;
                }
                label.reflow(new Box(boxX - box.width(), boxY, boxX, boxY));
            }

            boxY += box.height();
        }
    };

    PieChart.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var connectors = ref.options.connectors;
        var points = ref.points;
        var count = points.length;
        var space = 4;

        ChartElement$$1.prototype.createVisual.call(this);

        this._connectorLines = [];

        for (var i = 0; i < count; i++) {
            var segment = points[i];
            var sector = segment.sector;
            var label = segment.label;
            var angle = sector.middle();
            var connectorsColor = (segment.options.connectors || {}).color || connectors.color;

            if (label) {
                var connectorLine = new _progress_kendoDrawing.drawing.Path({
                    stroke: {
                        color: connectorsColor,
                        width: connectors.width
                    },
                    animation: {
                        type: FADEIN,
                        delay: segment.animationDelay
                    }
                });

                if (label.options.position === OUTSIDE_END) {
                    var box = label.box;
                    var centerPoint = sector.center;
                    var start = sector.point(angle);
                    var middle = new Point(box.x1, box.center().y);
                    var sr = (void 0), end = (void 0), crossing = (void 0);

                    start = sector.clone().expand(connectors.padding).point(angle);
                    connectorLine.moveTo(start.x, start.y);
                    // TODO: Extract into a method to remove duplication
                    if (label.orientation === RIGHT) {
                        end = new Point(box.x1 - connectors.padding, box.center().y);
                        crossing = intersection(centerPoint, start, middle, end);
                        middle = new Point(end.x - space, end.y);
                        crossing = crossing || middle;
                        crossing.x = Math.min(crossing.x, middle.x);

                        if (this$1.pointInCircle(crossing, sector.center, sector.radius + space) ||
                            crossing.x < sector.center.x) {
                            sr = sector.center.x + sector.radius + space;
                            if (segment.options.labels.align !== COLUMN) {
                                if (sr < middle.x) {
                                    connectorLine.lineTo(sr, start.y);
                                } else {
                                    connectorLine.lineTo(start.x + space * 2, start.y);
                                }
                            } else {
                                connectorLine.lineTo(sr, start.y);
                            }
                            connectorLine.lineTo(middle.x, end.y);
                        } else {
                            crossing.y = end.y;
                            connectorLine.lineTo(crossing.x, crossing.y);
                        }
                    } else {
                        end = new Point(box.x2 + connectors.padding, box.center().y);
                        crossing = intersection(centerPoint, start, middle, end);
                        middle = new Point(end.x + space, end.y);
                        crossing = crossing || middle;
                        crossing.x = Math.max(crossing.x, middle.x);

                        if (this$1.pointInCircle(crossing, sector.center, sector.radius + space) ||
                            crossing.x > sector.center.x) {
                            sr = sector.center.x - sector.radius - space;
                            if (segment.options.labels.align !== COLUMN) {
                                if (sr > middle.x) {
                                    connectorLine.lineTo(sr, start.y);
                                } else {
                                    connectorLine.lineTo(start.x - space * 2, start.y);
                                }
                            } else {
                                connectorLine.lineTo(sr, start.y);
                            }
                            connectorLine.lineTo(middle.x, end.y);
                        } else {
                            crossing.y = end.y;
                            connectorLine.lineTo(crossing.x, crossing.y);
                        }
                    }

                    connectorLine.lineTo(end.x, end.y);

                    this$1._connectorLines.push(connectorLine);
                    this$1.visual.append(connectorLine);
                }
            }
        }
    };

    PieChart.prototype.renderVisual = function renderVisual () {
        ChartElement$$1.prototype.renderVisual.call(this);

        if (find(this.options.series, function (options) { return options.autoFit; })) {
            var targetBox = this.targetBox;
            var pieCenter = this.box.center();
            var bbox = this.visual.bbox();
            if (!bbox) {
                return;
            }

            var bboxBottom = bbox.bottomRight();

            var scale = Math.min(
                (pieCenter.y - targetBox.y1) / (pieCenter.y - bbox.origin.y),
                (targetBox.y2 - pieCenter.y) / (bboxBottom.y - pieCenter.y),
                (pieCenter.x - targetBox.x1) / (pieCenter.x - bbox.origin.x),
                (targetBox.x2 - pieCenter.x) / (bboxBottom.x - pieCenter.x)
            );

            if (scale < 1) {
                this.visual.transform(_progress_kendoDrawing.geometry.transform().scale(scale, scale, [ pieCenter.x, pieCenter.y ]));
            }
        }
    };

    PieChart.prototype.labelComparator = function labelComparator (reverse) {
        var reverseValue = reverse ? -1 : 1;

        return function(a, b) {
            var first = (a.parent.sector.middle() + 270) % 360;
            var second = (b.parent.sector.middle() + 270) % 360;
            return (first - second) * reverseValue;
        };
    };

    PieChart.prototype.hAlignLabel = function hAlignLabel (originalX, sector, y1, y2, direction) {
        var radius = sector.radius;
        var sector_center = sector.center;
        var cx = sector_center.x;
        var cy = sector_center.y;
        var t = Math.min(Math.abs(cy - y1), Math.abs(cy - y2));

        if (t > radius) {
            return originalX;
        }

        return cx + Math.sqrt((radius * radius) - (t * t)) * (direction ? 1 : -1);
    };

    PieChart.prototype.pointInCircle = function pointInCircle (point, center, radius) {
        return Math.pow(center.x - point.x, 2) + Math.pow(center.y - point.y, 2) < Math.pow(radius, 2);
    };

    PieChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format, point.value);
    };

    PieChart.prototype.animationDelay = function animationDelay (categoryIndex) {
        return categoryIndex * PIE_SECTOR_ANIM_DELAY;
    };

    PieChart.prototype.stackRoot = function stackRoot () {
        return this;
    };

    return PieChart;
}(ChartElement));

function intersection(a1, a2, b1, b2) {
    var uat = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);
    var ub = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);

    var result;
    if (ub !== 0) {
        var ua = (uat / ub);

        result = new Point(
            a1.x + ua * (a2.x - a1.x),
            a1.y + ua * (a2.y - a1.y)
        );
    }

    return result;
}

setDefaultOptions(PieChart, {
    startAngle: 90,
    connectors: {
        width: 2,
        color: "#939393",
        padding: 8
    },
    inactiveItems: {
        markers: {},
        labels: {}
    }
});

deepExtend(PieChart.prototype, PieChartMixin);

PieChart.prototype.isStackRoot = true;

var PiePlotArea = (function (PlotAreaBase$$1) {
    function PiePlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) PiePlotArea.__proto__ = PlotAreaBase$$1;
    PiePlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    PiePlotArea.prototype.constructor = PiePlotArea;

    PiePlotArea.prototype.render = function render () {
        this.createPieChart(this.series);
    };

    PiePlotArea.prototype.createPieChart = function createPieChart (series) {
        var firstSeries = series[0];
        var pieChart = new PieChart(this, {
            series: series,
            padding: firstSeries.padding,
            startAngle: firstSeries.startAngle,
            connectors: firstSeries.connectors,
            legend: this.options.legend
        });

        this.appendChart(pieChart);
    };

    PiePlotArea.prototype.appendChart = function appendChart (chart, pane) {
        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
        append$1(this.options.legend.items, chart.legendItems);
    };

    return PiePlotArea;
}(PlotAreaBase));

var DonutSegment = (function (PieSegment$$1) {
    function DonutSegment () {
        PieSegment$$1.apply(this, arguments);
    }

    if ( PieSegment$$1 ) DonutSegment.__proto__ = PieSegment$$1;
    DonutSegment.prototype = Object.create( PieSegment$$1 && PieSegment$$1.prototype );
    DonutSegment.prototype.constructor = DonutSegment;

    DonutSegment.prototype.reflowLabel = function reflowLabel () {
        var ref = this;
        var labelsOptions = ref.options.labels;
        var label = ref.label;
        var sector = this.sector.clone();
        var angle = sector.middle();

        if (label) {
            var labelHeight = label.box.height();
            if (labelsOptions.position === CENTER) {
                sector.radius -= (sector.radius - sector.innerRadius) / 2;

                var lp = sector.point(angle);

                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else {
                PieSegment$$1.prototype.reflowLabel.call(this);
            }
        }
    };

    DonutSegment.prototype.createSegment = function createSegment (sector, options) {
        return ShapeBuilder.current.createRing(sector, options);
    };

    return DonutSegment;
}(PieSegment));

setDefaultOptions(DonutSegment, {
    overlay: {
        gradient: "roundedGlass"
    },
    labels: {
        position: CENTER
    },
    animation: {
        type: PIE
    }
});

deepExtend(DonutSegment.prototype, PointEventsMixin);

var DONUT_SECTOR_ANIM_DELAY = 50;

var DonutChart = (function (PieChart$$1) {
    function DonutChart () {
        PieChart$$1.apply(this, arguments);
    }

    if ( PieChart$$1 ) DonutChart.__proto__ = PieChart$$1;
    DonutChart.prototype = Object.create( PieChart$$1 && PieChart$$1.prototype );
    DonutChart.prototype.constructor = DonutChart;

    DonutChart.prototype.addValue = function addValue (value, sector, fields) {
        var segmentOptions = deepExtend({}, fields.series, { index: fields.index });
        this.evalSegmentOptions(segmentOptions, value, fields);

        this.createLegendItem(value, segmentOptions, fields);

        if (!value || fields.visible === false) {
            return;
        }

        var segment = new DonutSegment(value, sector, segmentOptions);

        Object.assign(segment, fields);
        this.append(segment);
        this.points.push(segment);
    };

    DonutChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var options = this.options;
        var box = targetBox.clone();
        var space = 5;
        var minWidth = Math.min(box.width(), box.height());
        var halfMinWidth = minWidth / 2;
        var defaultPadding = minWidth - minWidth * 0.85;
        var series = options.series;
        var seriesCount = series.length;

        var padding = valueOrDefault(options.padding, defaultPadding);
        padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;

        var totalSize = halfMinWidth - padding;
        var seriesWithoutSize = 0;
        var holeSize;

        for (var i = 0; i < seriesCount; i++) {
            var currentSeries = series[i];
            if (i === 0) {
                if (defined(currentSeries.holeSize)) {
                    holeSize = currentSeries.holeSize;
                    totalSize -= currentSeries.holeSize;
                }
            }

            if (defined(currentSeries.size)) {
                totalSize -= currentSeries.size;
            } else {
                seriesWithoutSize++;
            }

            if (defined(currentSeries.margin) && i !== seriesCount - 1) {
                totalSize -= currentSeries.margin;
            }
        }

        if (!defined(holeSize)) {
            var currentSize = (halfMinWidth - padding) / (seriesCount + 0.75);
            holeSize = currentSize * 0.75;
            totalSize -= holeSize;
        }

        var innerRadius = holeSize;
        var margin = 0;
        var size, radius;

        this.seriesConfigs = [];

        for (var i$1 = 0; i$1 < seriesCount; i$1++) {
            var currentSeries$1 = series[i$1];
            size = valueOrDefault(currentSeries$1.size, totalSize / seriesWithoutSize);
            innerRadius += margin;
            radius = innerRadius + size;
            this$1.seriesConfigs.push({ innerRadius: innerRadius, radius: radius });
            margin = currentSeries$1.margin || 0;
            innerRadius = radius;
        }

        PieChart$$1.prototype.reflow.call(this, targetBox);
    };

    DonutChart.prototype.animationDelay = function animationDelay (categoryIndex, seriesIndex, seriesCount) {
        return categoryIndex * DONUT_SECTOR_ANIM_DELAY +
            (INITIAL_ANIMATION_DURATION * (seriesIndex + 1) / (seriesCount + 1));
    };

    return DonutChart;
}(PieChart));


setDefaultOptions(DonutChart, {
    startAngle: 90,
    connectors: {
        width: 2,
        color: "#939393",
        padding: 8
    }
});

var DonutPlotArea = (function (PiePlotArea$$1) {
    function DonutPlotArea () {
        PiePlotArea$$1.apply(this, arguments);
    }

    if ( PiePlotArea$$1 ) DonutPlotArea.__proto__ = PiePlotArea$$1;
    DonutPlotArea.prototype = Object.create( PiePlotArea$$1 && PiePlotArea$$1.prototype );
    DonutPlotArea.prototype.constructor = DonutPlotArea;

    DonutPlotArea.prototype.render = function render () {
        this.createDonutChart(this.series);
    };

    DonutPlotArea.prototype.createDonutChart = function createDonutChart (series) {
        var firstSeries = series[0];
        var donutChart = new DonutChart(this, {
            series: series,
            padding: firstSeries.padding,
            connectors: firstSeries.connectors,
            legend: this.options.legend
        });

        this.appendChart(donutChart);
    };

    return DonutPlotArea;
}(PiePlotArea));

var DEFAULT_PADDING = 0.15;

var PolarPlotAreaBase = (function (PlotAreaBase$$1) {
    function PolarPlotAreaBase () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) PolarPlotAreaBase.__proto__ = PlotAreaBase$$1;
    PolarPlotAreaBase.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    PolarPlotAreaBase.prototype.constructor = PolarPlotAreaBase;

    PolarPlotAreaBase.prototype.initFields = function initFields () {
        this.valueAxisRangeTracker = new AxisGroupRangeTracker();
    };

    PolarPlotAreaBase.prototype.render = function render () {
        this.addToLegend(this.series);
        this.createPolarAxis();
        this.createCharts();
        this.createValueAxis();
    };

    PolarPlotAreaBase.prototype.alignAxes = function alignAxes () {
        var axis = this.valueAxis;
        var range = axis.range();
        var crossingValue = axis.options.reverse ? range.max : range.min;
        var slot = axis.getSlot(crossingValue);
        var center = this.polarAxis.getSlot(0).center;
        var axisBox = axis.box.translate(
            center.x - slot.x1,
            center.y - slot.y1
        );

        axis.reflow(axisBox);
    };

    PolarPlotAreaBase.prototype.createValueAxis = function createValueAxis () {
        var tracker = this.valueAxisRangeTracker;
        var defaultRange = tracker.query();
        var axisOptions = this.valueAxisOptions({
            roundToMajorUnit: false,
            zIndex: -1
        });
        var axisType, axisDefaultRange;

        if (axisOptions.type === LOGARITHMIC) {
            axisType = RadarLogarithmicAxis;
            axisDefaultRange = { min: 0.1, max: 1 };
        } else {
            axisType = RadarNumericAxis;
            axisDefaultRange = { min: 0, max: 1 };
        }

        var range = tracker.query(name) || defaultRange || axisDefaultRange;

        if (range && defaultRange) {
            range.min = Math.min(range.min, defaultRange.min);
            range.max = Math.max(range.max, defaultRange.max);
        }

        var valueAxis = new axisType(
            range.min, range.max,
            axisOptions,
            this.chartService
        );

        this.valueAxis = valueAxis;
        this.appendAxis(valueAxis);
    };

    PolarPlotAreaBase.prototype.reflowAxes = function reflowAxes () {
        var ref = this;
        var options = ref.options.plotArea;
        var valueAxis = ref.valueAxis;
        var polarAxis = ref.polarAxis;
        var box = ref.box;
        var defaultPadding = Math.min(box.width(), box.height()) * DEFAULT_PADDING;
        var padding = getSpacing(options.padding || {}, defaultPadding);
        var paddingBox = box.clone().unpad(padding);
        var axisBox = paddingBox.clone();

        axisBox.y2 = axisBox.y1 + Math.min(axisBox.width(), axisBox.height());
        axisBox.align(paddingBox, Y, CENTER);

        var valueAxisBox = axisBox.clone().shrink(0, axisBox.height() / 2);

        polarAxis.reflow(axisBox);
        valueAxis.reflow(valueAxisBox);
        var heightDiff = valueAxis.lineBox().height() - valueAxis.box.height();
        valueAxis.reflow(valueAxis.box.unpad({ top: heightDiff }));

        this.axisBox = axisBox;
        this.alignAxes(axisBox);
    };

    PolarPlotAreaBase.prototype.backgroundBox = function backgroundBox () {
        return this.box;
    };

    PolarPlotAreaBase.prototype.detachLabels = function detachLabels () {};

    return PolarPlotAreaBase;
}(PlotAreaBase));

var PolarScatterChart = (function (ScatterChart$$1) {
    function PolarScatterChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) PolarScatterChart.__proto__ = ScatterChart$$1;
    PolarScatterChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    PolarScatterChart.prototype.constructor = PolarScatterChart;

    PolarScatterChart.prototype.pointSlot = function pointSlot (slotX, slotY) {
        var valueRadius = slotX.center.y - slotY.y1;
        var slot = Point.onCircle(slotX.center, slotX.startAngle, valueRadius);

        return new Box(slot.x, slot.y, slot.x, slot.y);
    };

    return PolarScatterChart;
}(ScatterChart));

setDefaultOptions(PolarScatterChart, {
    clip: false
});

var PolarLineChart = (function (ScatterLineChart$$1) {
    function PolarLineChart () {
        ScatterLineChart$$1.apply(this, arguments);
    }if ( ScatterLineChart$$1 ) PolarLineChart.__proto__ = ScatterLineChart$$1;
    PolarLineChart.prototype = Object.create( ScatterLineChart$$1 && ScatterLineChart$$1.prototype );
    PolarLineChart.prototype.constructor = PolarLineChart;

    

    return PolarLineChart;
}(ScatterLineChart));

PolarLineChart.prototype.pointSlot = PolarScatterChart.prototype.pointSlot;

setDefaultOptions(PolarLineChart, {
    clip: false
});

var SplinePolarAreaSegment = (function (SplineAreaSegment$$1) {
    function SplinePolarAreaSegment () {
        SplineAreaSegment$$1.apply(this, arguments);
    }

    if ( SplineAreaSegment$$1 ) SplinePolarAreaSegment.__proto__ = SplineAreaSegment$$1;
    SplinePolarAreaSegment.prototype = Object.create( SplineAreaSegment$$1 && SplineAreaSegment$$1.prototype );
    SplinePolarAreaSegment.prototype.constructor = SplinePolarAreaSegment;

    SplinePolarAreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var center = this._polarAxisCenter();
        fillPath.lineTo(center.x, center.y);
    };

    SplinePolarAreaSegment.prototype._polarAxisCenter = function _polarAxisCenter () {
        var polarAxis = this.parent.plotArea.polarAxis;
        var center = polarAxis.box.center();
        return center;
    };

    SplinePolarAreaSegment.prototype.strokeSegments = function strokeSegments () {
        var segments = this._strokeSegments;

        if (!segments) {
            var center = this._polarAxisCenter();
            var curveProcessor = new CurveProcessor(false);
            var linePoints = this.points();

            linePoints.push(center);
            segments = this._strokeSegments = curveProcessor.process(linePoints);
            segments.pop();
        }

        return segments;
    };

    return SplinePolarAreaSegment;
}(SplineAreaSegment));

var PolarAreaSegment = (function (AreaSegment$$1) {
    function PolarAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) PolarAreaSegment.__proto__ = AreaSegment$$1;
    PolarAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    PolarAreaSegment.prototype.constructor = PolarAreaSegment;

    PolarAreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var polarAxis = this.parent.plotArea.polarAxis;
        var center = polarAxis.box.center();
        var centerSegment = new _progress_kendoDrawing.geometry.Segment([ center.x, center.y ]);

        fillPath.segments.unshift(centerSegment);
        fillPath.segments.push(centerSegment);
    };

    return PolarAreaSegment;
}(AreaSegment));

var PolarAreaChart = (function (PolarLineChart$$1) {
    function PolarAreaChart () {
        PolarLineChart$$1.apply(this, arguments);
    }

    if ( PolarLineChart$$1 ) PolarAreaChart.__proto__ = PolarLineChart$$1;
    PolarAreaChart.prototype = Object.create( PolarLineChart$$1 && PolarLineChart$$1.prototype );
    PolarAreaChart.prototype.constructor = PolarAreaChart;

    PolarAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = (currentSeries.line || {}).style;
        var segment;

        if (style === SMOOTH) {
            segment = new SplinePolarAreaSegment(linePoints, currentSeries, seriesIx);
        } else {
            segment = new PolarAreaSegment(linePoints, currentSeries, seriesIx);
        }
        return segment;
    };

    PolarAreaChart.prototype.createMissingValue = function createMissingValue (value, missingValues) {
        var missingValue;

        if (hasValue(value.x) && missingValues !== INTERPOLATE) {
            missingValue = {
                x: value.x,
                y: value.y
            };
            if (missingValues === ZERO) {
                missingValue.y = 0;
            }
        }

        return missingValue;
    };

    PolarAreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    PolarAreaChart.prototype._hasMissingValuesGap = function _hasMissingValuesGap () {
        var this$1 = this;

        var series = this.options.series;

        for (var idx = 0; idx < series.length; idx++) {
            if (this$1.seriesMissingValues(series[idx]) === GAP) {
                return true;
            }
        }
    };

    PolarAreaChart.prototype.sortPoints = function sortPoints (points) {
        var this$1 = this;

        points.sort(xComparer);

        if (this._hasMissingValuesGap()) {
            for (var idx = 0; idx < points.length; idx++) {
                var point = points[idx];
                if (point) {
                    var value = point.value;
                    if (!hasValue(value.y) && this$1.seriesMissingValues(point.series) === GAP) {
                        delete points[idx];
                    }
                }
            }
        }

        return points;
    };

    return PolarAreaChart;
}(PolarLineChart));

function xComparer(a, b) {
    return a.value.x - b.value.x;
}

var PolarPlotArea = (function (PolarPlotAreaBase$$1) {
    function PolarPlotArea () {
        PolarPlotAreaBase$$1.apply(this, arguments);
    }

    if ( PolarPlotAreaBase$$1 ) PolarPlotArea.__proto__ = PolarPlotAreaBase$$1;
    PolarPlotArea.prototype = Object.create( PolarPlotAreaBase$$1 && PolarPlotAreaBase$$1.prototype );
    PolarPlotArea.prototype.constructor = PolarPlotArea;

    PolarPlotArea.prototype.createPolarAxis = function createPolarAxis () {
        var polarAxis = new PolarAxis(this.options.xAxis, this.chartService);

        this.polarAxis = polarAxis;
        this.axisX = polarAxis;
        this.appendAxis(polarAxis);
    };

    PolarPlotArea.prototype.valueAxisOptions = function valueAxisOptions (defaults) {
        return deepExtend(defaults, {
            majorGridLines: { type: ARC },
            minorGridLines: { type: ARC }
        }, this.options.yAxis);
    };

    PolarPlotArea.prototype.createValueAxis = function createValueAxis () {
        PolarPlotAreaBase$$1.prototype.createValueAxis.call(this);
        this.axisY = this.valueAxis;
    };

    PolarPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        this.valueAxisRangeTracker.update(chart.yAxisRanges);

        PlotAreaBase.prototype.appendChart.call(this, chart, pane);
    };

    PolarPlotArea.prototype.createCharts = function createCharts () {
        var series = this.filterVisibleSeries(this.series);
        var pane = this.panes[0];

        this.createLineChart(
            filterSeriesByType(series, [ POLAR_LINE ]),
            pane
        );

        this.createScatterChart(
            filterSeriesByType(series, [ POLAR_SCATTER ]),
            pane
        );

        this.createAreaChart(
            filterSeriesByType(series, [ POLAR_AREA ]),
            pane
        );
    };

    PolarPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var lineChart = new PolarLineChart(this, { series: series });

        this.appendChart(lineChart, pane);
    };

    PolarPlotArea.prototype.createScatterChart = function createScatterChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var scatterChart = new PolarScatterChart(this, { series: series });

        this.appendChart(scatterChart, pane);
    };

    PolarPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var areaChart = new PolarAreaChart(this, { series: series });

        this.appendChart(areaChart, pane);
    };

    PolarPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var xValue = this.axisX.getValue(point);
        var yValue = this.axisY.getValue(point);

        if (xValue !== null && yValue !== null) {
            chart.trigger(eventType, {
                element: eventElement(e),
                x: xValue,
                y: yValue
            });
        }
    };

    PolarPlotArea.prototype.createCrosshairs = function createCrosshairs () {};

    return PolarPlotArea;
}(PolarPlotAreaBase));

setDefaultOptions(PolarPlotArea, {
    xAxis: {},
    yAxis: {}
});

deepExtend(PolarPlotArea.prototype, PlotAreaEventsMixin);

function groupBySeriesIx(segments) {
    var seriesSegments = [];
    for (var idx = 0; idx < segments.length; idx++) {
        var segment = segments[idx];
        seriesSegments[segment.seriesIx] = seriesSegments[segment.seriesIx] || [];
        seriesSegments[segment.seriesIx].push(segment);
    }

    return seriesSegments;
}

var RadarLineChart = (function (LineChart$$1) {
    function RadarLineChart () {
        LineChart$$1.apply(this, arguments);
    }

    if ( LineChart$$1 ) RadarLineChart.__proto__ = LineChart$$1;
    RadarLineChart.prototype = Object.create( LineChart$$1 && LineChart$$1.prototype );
    RadarLineChart.prototype.constructor = RadarLineChart;

    RadarLineChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var valueRadius = categorySlot.center.y - valueSlot.y1;
        var slot = Point.onCircle(categorySlot.center, categorySlot.middle(), valueRadius);

        return new Box(slot.x, slot.y, slot.x, slot.y);
    };

    RadarLineChart.prototype.renderSegments = function renderSegments () {
        LineChart$$1.prototype.renderSegments.call(this);

        if (this._segments && this._segments.length > 1) {
            var seriesSegments = groupBySeriesIx(this._segments);

            for (var idx = 0; idx < seriesSegments.length; idx++) {
                var segments = seriesSegments[idx];
                if (segments && segments.length > 1) {
                    var firstPoint = segments[0].linePoints[0];
                    var lastSegment = last(segments);
                    var lastPoint = last(lastSegment.linePoints);
                    var isFirstDataPoint = firstPoint.categoryIx === 0;
                    var isLastDataPoint = lastPoint.categoryIx === lastPoint.categoriesCount - 1;
                    if (isFirstDataPoint && isLastDataPoint) {
                        last(segments).linePoints.push(firstPoint);
                    }
                }
            }
        }
    };

    RadarLineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        var segment = new pointType(linePoints, currentSeries, seriesIx);
        var missingValues = this.seriesMissingValues(currentSeries);

        if (linePoints.length === currentSeries.data.length || missingValues === INTERPOLATE) {
            segment.options.closed = true;
        }

        return segment;
    };

    return RadarLineChart;
}(LineChart));

setDefaultOptions(RadarLineChart, {
    clip: false,
    limitPoints: false
});

var SplineRadarAreaSegment = (function (SplineAreaSegment$$1) {
    function SplineRadarAreaSegment () {
        SplineAreaSegment$$1.apply(this, arguments);
    }

    if ( SplineAreaSegment$$1 ) SplineRadarAreaSegment.__proto__ = SplineAreaSegment$$1;
    SplineRadarAreaSegment.prototype = Object.create( SplineAreaSegment$$1 && SplineAreaSegment$$1.prototype );
    SplineRadarAreaSegment.prototype.constructor = SplineRadarAreaSegment;

    SplineRadarAreaSegment.prototype.fillToAxes = function fillToAxes () {};

    return SplineRadarAreaSegment;
}(SplineAreaSegment));

var RadarAreaSegment = (function (AreaSegment$$1) {
    function RadarAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) RadarAreaSegment.__proto__ = AreaSegment$$1;
    RadarAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    RadarAreaSegment.prototype.constructor = RadarAreaSegment;

    RadarAreaSegment.prototype.fillToAxes = function fillToAxes () {};

    return RadarAreaSegment;
}(AreaSegment));

var RadarAreaChart = (function (RadarLineChart$$1) {
    function RadarAreaChart () {
        RadarLineChart$$1.apply(this, arguments);
    }

    if ( RadarLineChart$$1 ) RadarAreaChart.__proto__ = RadarLineChart$$1;
    RadarAreaChart.prototype = Object.create( RadarLineChart$$1 && RadarLineChart$$1.prototype );
    RadarAreaChart.prototype.constructor = RadarAreaChart;

    RadarAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx, prevSegment) {
        var isStacked = this.options.isStacked;
        var style = (currentSeries.line || {}).style;
        var previousSegment;
        var stackPoints;
        var segment;

        if (isStacked && seriesIx > 0 && prevSegment) {
            stackPoints = prevSegment.linePoints.slice(0);
            previousSegment = prevSegment;
        }

        if (style === SMOOTH) {
            segment = new SplineRadarAreaSegment(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
            segment.options.closed = true;
        } else {
            linePoints.push(linePoints[0]);
            segment = new RadarAreaSegment(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
        }

        return segment;
    };

    RadarAreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    return RadarAreaChart;
}(RadarLineChart));

var RadarSegment = (function (DonutSegment$$1) {
    function RadarSegment(value, options) {
        DonutSegment$$1.call(this, value, null, options);
    }

    if ( DonutSegment$$1 ) RadarSegment.__proto__ = DonutSegment$$1;
    RadarSegment.prototype = Object.create( DonutSegment$$1 && DonutSegment$$1.prototype );
    RadarSegment.prototype.constructor = RadarSegment;

    return RadarSegment;
}(DonutSegment));

setDefaultOptions(RadarSegment, {
    overlay: {
        gradient: "none"
    },
    labels: {
        distance: 10
    }
});

var RadarClusterLayout = (function (ChartElement$$1) {
    function RadarClusterLayout(options) {
        ChartElement$$1.call(this, options);

        this.forEach = options.rtl ? forEachReverse : forEach;
    }

    if ( ChartElement$$1 ) RadarClusterLayout.__proto__ = ChartElement$$1;
    RadarClusterLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RadarClusterLayout.prototype.constructor = RadarClusterLayout;

    RadarClusterLayout.prototype.reflow = function reflow (sector) {
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var gap = options.gap;
        var spacing = options.spacing;
        var count = children.length;
        var slots = count + gap + (spacing * (count - 1));
        var slotAngle = sector.angle / slots;
        var angle = sector.startAngle + slotAngle * (gap / 2);

        this.forEach(children, function (child) {
            var slotSector = sector.clone();
            slotSector.startAngle = angle;
            slotSector.angle = slotAngle;

            if (child.sector) {
                slotSector.radius = child.sector.radius;
            }

            child.reflow(slotSector);
            child.sector = slotSector;

            angle += slotAngle + (slotAngle * spacing);
        });
    };

    return RadarClusterLayout;
}(ChartElement));

setDefaultOptions(RadarClusterLayout, {
    gap: 1,
    spacing: 0
});

var RadarStackLayout = (function (ChartElement$$1) {
    function RadarStackLayout () {
        ChartElement$$1.apply(this, arguments);
    }

    if ( ChartElement$$1 ) RadarStackLayout.__proto__ = ChartElement$$1;
    RadarStackLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RadarStackLayout.prototype.constructor = RadarStackLayout;

    RadarStackLayout.prototype.reflow = function reflow (sector) {
        var ref = this;
        var reverse = ref.options.reverse;
        var children = ref.children;
        var childrenCount = children.length;
        var first = reverse ? childrenCount - 1 : 0;
        var step = reverse ? -1 : 1;

        this.box = new Box();

        for (var i = first; i >= 0 && i < childrenCount; i += step) {
            var childSector = children[i].sector;
            childSector.startAngle = sector.startAngle;
            childSector.angle = sector.angle;
        }
    };

    return RadarStackLayout;
}(ChartElement));

var RadarBarChart = (function (BarChart$$1) {
    function RadarBarChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) RadarBarChart.__proto__ = BarChart$$1;
    RadarBarChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    RadarBarChart.prototype.constructor = RadarBarChart;

    RadarBarChart.prototype.pointType = function pointType () {
        return RadarSegment;
    };

    RadarBarChart.prototype.clusterType = function clusterType () {
        return RadarClusterLayout;
    };

    RadarBarChart.prototype.stackType = function stackType () {
        return RadarStackLayout;
    };

    RadarBarChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx) {
        return categoryAxis.getSlot(categoryIx);
    };

    RadarBarChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var slot = categorySlot.clone();
        var y = categorySlot.center.y;

        slot.radius = y - valueSlot.y1;
        slot.innerRadius = y - valueSlot.y2;

        return slot;
    };

    RadarBarChart.prototype.reflowPoint = function reflowPoint (point, pointSlot) {
        point.sector = pointSlot;
        point.reflow();
    };

    RadarBarChart.prototype.createAnimation = function createAnimation () {
        this.options.animation.center = this.box.toRect().center();
        BarChart$$1.prototype.createAnimation.call(this);
    };

    return RadarBarChart;
}(BarChart));

RadarBarChart.prototype.reflow = CategoricalChart.prototype.reflow;

setDefaultOptions(RadarBarChart, {
    clip: false,
    limitPoints: false,
    animation: {
        type: "pie"
    }
});

var RadarPlotArea = (function (PolarPlotAreaBase$$1) {
    function RadarPlotArea () {
        PolarPlotAreaBase$$1.apply(this, arguments);
    }

    if ( PolarPlotAreaBase$$1 ) RadarPlotArea.__proto__ = PolarPlotAreaBase$$1;
    RadarPlotArea.prototype = Object.create( PolarPlotAreaBase$$1 && PolarPlotAreaBase$$1.prototype );
    RadarPlotArea.prototype.constructor = RadarPlotArea;

    RadarPlotArea.prototype.createPolarAxis = function createPolarAxis () {
        var categoryAxis = new RadarCategoryAxis(this.options.categoryAxis, this.chartService);

        this.polarAxis = categoryAxis;
        this.categoryAxis = categoryAxis;
        this.appendAxis(categoryAxis);
        this.aggregateCategories();
        this.createCategoryAxesLabels();
    };

    RadarPlotArea.prototype.valueAxisOptions = function valueAxisOptions (defaults) {
        if (this._hasBarCharts) {
            deepExtend(defaults, {
                majorGridLines: { type: ARC },
                minorGridLines: { type: ARC }
            });
        }

        if (this._isStacked100) {
            deepExtend(defaults, {
                roundToMajorUnit: false,
                labels: { format: "P0" }
            });
        }

        return deepExtend(defaults, this.options.valueAxis);
    };

    RadarPlotArea.prototype.aggregateCategories = function aggregateCategories () {
        // No separate panes in radar charts
        CategoricalPlotArea.prototype.aggregateCategories.call(this, this.panes);
    };

    RadarPlotArea.prototype.createCategoryAxesLabels = function createCategoryAxesLabels () {
        CategoricalPlotArea.prototype.createCategoryAxesLabels.call(this, this.panes);
    };

    RadarPlotArea.prototype.filterSeries = function filterSeries (currentSeries) {
        // Not supported for radar charts
        return currentSeries;
    };

    RadarPlotArea.prototype.createCharts = function createCharts () {
        var series = this.filterVisibleSeries(this.series);
        var pane = this.panes[0];

        this.createAreaChart(
            filterSeriesByType(series, [ RADAR_AREA ]),
            pane
        );

        this.createLineChart(
            filterSeriesByType(series, [ RADAR_LINE ]),
            pane
        );

        this.createBarChart(
            filterSeriesByType(series, [ RADAR_COLUMN ]),
            pane
        );
    };

    RadarPlotArea.prototype.chartOptions = function chartOptions (series) {
        var options = { series: series };
        var firstSeries = series[0];
        if (firstSeries) {
            var filteredSeries = this.filterVisibleSeries(series);
            var stack = firstSeries.stack;
            options.isStacked = stack && filteredSeries.length > 1;
            options.isStacked100 = stack && stack.type === "100%" && filteredSeries.length > 1;

            if (options.isStacked100) {
                this._isStacked100 = true;
            }
        }

        return options;
    };

    RadarPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var areaChart = new RadarAreaChart(this, this.chartOptions(series));
        this.appendChart(areaChart, pane);
    };

    RadarPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var lineChart = new RadarLineChart(this, this.chartOptions(series));
        this.appendChart(lineChart, pane);
    };

    RadarPlotArea.prototype.createBarChart = function createBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var options = this.chartOptions(series);
        options.gap = firstSeries.gap;
        options.spacing = firstSeries.spacing;

        var barChart = new RadarBarChart(this, options);
        this.appendChart(barChart, pane);

        this._hasBarCharts = true;
    };

    RadarPlotArea.prototype.seriesCategoryAxis = function seriesCategoryAxis () {
        return this.categoryAxis;
    };

    RadarPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var category = this.categoryAxis.getCategory(point);
        var value = this.valueAxis.getValue(point);

        if (category !== null && value !== null) {
            chart.trigger(eventType, {
                element: eventElement(e),
                category: category,
                value: value
            });
        }
    };

    RadarPlotArea.prototype.createCrosshairs = function createCrosshairs () {};

    return RadarPlotArea;
}(PolarPlotAreaBase));

deepExtend(RadarPlotArea.prototype, PlotAreaEventsMixin, {
    appendChart: CategoricalPlotArea.prototype.appendChart,
    aggregateSeries: CategoricalPlotArea.prototype.aggregateSeries,
    seriesSourcePoints: CategoricalPlotArea.prototype.seriesSourcePoints
});

setDefaultOptions(RadarPlotArea, {
    categoryAxis: {
        categories: []
    },
    valueAxis: {}
});

var FunnelSegment = (function (ChartElement$$1) {
    function FunnelSegment(value, options, segmentOptions) {
        ChartElement$$1.call(this, options);

        this.value = value;
        this.options.index = segmentOptions.index;
    }

    if ( ChartElement$$1 ) FunnelSegment.__proto__ = ChartElement$$1;
    FunnelSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FunnelSegment.prototype.constructor = FunnelSegment;

    FunnelSegment.prototype.reflow = function reflow (chartBox) {
        var points = this.points;
        var label = this.children[0];

        this.box = new Box(points[0].x, points[0].y, points[1].x, points[2].y);

        if (label) {
            label.reflow(new Box(chartBox.x1, points[0].y, chartBox.x2, points[2].y));
        }
    };

    FunnelSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var options = this.options;
        var visual;

        ChartElement$$1.prototype.createVisual.call(this);

        if (options.visual) {
            visual = options.visual({
                category: this.category,
                dataItem: this.dataItem,
                value: this.value,
                series: this.series,
                percentage: this.percentage,
                points: this.points,
                options: options,
                sender: this.getSender(),
                createVisual: function () { return this$1.createPath(); }
            });
        } else {
            visual = this.createPath();
        }

        if (visual) {
            this.visual.append(visual);
        }
    };

    FunnelSegment.prototype.createPath = function createPath () {
        var options = this.options;
        var border = options.border;
        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.points, {
            fill: {
                color: options.color,
                opacity: options.opacity
            },
            stroke: {
                color: border.color,
                opacity: border.opacity,
                width: border.width
            }
        }).close();

        return path;
    };

    FunnelSegment.prototype.createHighlight = function createHighlight (style) {
        return _progress_kendoDrawing.drawing.Path.fromPoints(this.points, style);
    };

    FunnelSegment.prototype.highlightVisual = function highlightVisual () {
        return this.visual.children[0];
    };

    FunnelSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.points).close();

        return {
            options: this.options,
            path: path
        };
    };

    FunnelSegment.prototype.tooltipAnchor = function tooltipAnchor () {
        var box = this.box;
        return {
            point: new Point(box.center().x, box.y1),
            align: {
                horizontal: "center",
                vertical: "top"
            }
        };
    };

    FunnelSegment.prototype.formatValue = function formatValue (format) {
        var point = this;
        return point.owner.formatPointValue(point, format);
    };

    return FunnelSegment;
}(ChartElement));

setDefaultOptions(FunnelSegment, {
    color: WHITE,
    border: {
        width: 1
    }
});

deepExtend(FunnelSegment.prototype, PointEventsMixin);

var FunnelChart = (function (ChartElement$$1) {
    function FunnelChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.points = [];
        this.labels = [];
        this.legendItems = [];
        this.render();
    }

    if ( ChartElement$$1 ) FunnelChart.__proto__ = ChartElement$$1;
    FunnelChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FunnelChart.prototype.constructor = FunnelChart;

    FunnelChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format,point.value);
    };

    FunnelChart.prototype.render = function render () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesColors = ref.plotArea.options.seriesColors; if ( seriesColors === void 0 ) seriesColors = [];
        var series = options.series[0];
        var data = series.data;

        if (!data) {
            return;
        }

        var ref$1 = bindSegments(series);
        var total = ref$1.total;
        var points = ref$1.points;

        for (var i = 0; i < points.length; i++) {
            var pointData = points[i];

            if (!pointData) {
                continue;
            }

            var fields = pointData.fields;

            if (!isFunction(series.color)) {
                series.color = fields.color || seriesColors[i % seriesColors.length];
            }

            fields = deepExtend({
                index: i,
                owner: this$1,
                series: series,
                dataItem: data[i],
                percentage: pointData.value / total
            }, fields, { visible: pointData.visible });

            var value = pointData.valueFields.value;
            var segment = this$1.createSegment(value, fields);
            var label = this$1.createLabel(value, fields);

            if (segment && label) {
                segment.append(label);
            }
        }
    };

    FunnelChart.prototype.evalSegmentOptions = function evalSegmentOptions (options, value, fields) {
        var series = fields.series;

        evalOptions(options, {
            value: value,
            series: series,
            dataItem: fields.dataItem,
            index: fields.index
        }, { defaults: series._defaults, excluded: [ "data", "content", "template", "toggle", "visual" ] });
    };

    FunnelChart.prototype.createSegment = function createSegment (value, fields) {
        var seriesOptions = deepExtend({}, fields.series);
        this.evalSegmentOptions(seriesOptions, value, fields);

        this.createLegendItem(value, seriesOptions, fields);

        if (fields.visible !== false) {

            var segment = new FunnelSegment(value, seriesOptions, fields);
            Object.assign(segment, fields);

            this.append(segment);
            this.points.push(segment);

            return segment;
        }
    };

    FunnelChart.prototype.createLabel = function createLabel (value, fields) {
        var series = fields.series;
        var dataItem = fields.dataItem;
        var labels = deepExtend({}, this.options.labels, series.labels);
        var text = value;

        if (labels.visible) {
            var labelTemplate = getTemplate(labels);
            var data = {
                dataItem: dataItem,
                value: value,
                percentage: fields.percentage,
                category: fields.category,
                series: series
            };
            if (labelTemplate) {
                text = labelTemplate(data);
            } else if (labels.format) {
                text = this.plotArea.chartService.format.auto(labels.format, text);
            }

            if (!labels.color) {
                labels.color = autoTextColor(series.color);
                if (!labels.background) {
                    labels.background = series.color;
                }
            }

            this.evalSegmentOptions(labels, value, fields);
            var textBox = new TextBox(text, deepExtend({
                vAlign: labels.position
            }, labels), data);

            this.labels.push(textBox);

            return textBox;
        }
    };

    FunnelChart.prototype.labelPadding = function labelPadding () {
        var labels = this.labels;
        var padding = { left: 0, right: 0 };

        for (var i = 0; i < labels.length; i++) {
            var label = labels[i];
            var align = label.options.align;
            if (align !== CENTER) {
                var width = labels[i].box.width();

                if (align === LEFT) {
                    padding.left = Math.max(padding.left, width);
                } else {
                    padding.right = Math.max(padding.right, width);
                }
            }
        }

        return padding;
    };

    FunnelChart.prototype.dynamicSlopeReflow = function dynamicSlopeReflow (box, width, totalHeight) {
        var ref = this;
        var options = ref.options;
        var segments = ref.points;
        var count = segments.length;
        var firstSegment = segments[0];
        var maxSegment = firstSegment;

        for (var idx = 0; idx < segments.length; idx++) {
            if (segments[idx].percentage > maxSegment.percentage) {
                maxSegment = segments[idx];
            }
        }

        var lastUpperSide = (firstSegment.percentage / maxSegment.percentage) * width;
        var previousOffset = (width - lastUpperSide) / 2;
        var previousHeight = 0;

        for (var idx$1 = 0; idx$1 < count; idx$1++) {
            var percentage = segments[idx$1].percentage;
            var nextSegment = segments[idx$1 + 1];
            var nextPercentage = (nextSegment ? nextSegment.percentage : percentage);
            var points = segments[idx$1].points = [];
            var height = (options.dynamicHeight) ? (totalHeight * percentage) : (totalHeight / count);
            var offset = (void 0);

            if (!percentage) {
                offset = nextPercentage ? 0 : width / 2;
            } else {
                offset = (width - lastUpperSide * (nextPercentage / percentage)) / 2;
            }

            offset = limitValue(offset, 0, width);

            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - offset, box.y1 + height + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + offset, box.y1 + height + previousHeight));

            previousOffset = offset;
            previousHeight += height + options.segmentSpacing;
            lastUpperSide = limitValue(width - 2 * offset, 0, width);
        }
    };

    FunnelChart.prototype.constantSlopeReflow = function constantSlopeReflow (box, width, totalHeight) {
        var ref = this;
        var options = ref.options;
        var segments = ref.points;
        var count = segments.length;
        var decreasingWidth = options.neckRatio <= 1;
        var neckRatio = decreasingWidth ? options.neckRatio * width : width;
        var previousOffset = decreasingWidth ? 0 : (width - width / options.neckRatio) / 2;
        var topMostWidth = decreasingWidth ? width : width - previousOffset * 2;
        var finalNarrow = (topMostWidth - neckRatio) / 2;
        var previousHeight = 0;

        for (var idx = 0; idx < count; idx++) {
            var points = segments[idx].points = [];
            var percentage = segments[idx].percentage;
            var offset = (options.dynamicHeight) ? (finalNarrow * percentage) : (finalNarrow / count);
            var height = (options.dynamicHeight) ? (totalHeight * percentage) : (totalHeight / count);

            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset - offset, box.y1 + height + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset + offset,box.y1 + height + previousHeight));
            previousOffset += offset;
            previousHeight += height + options.segmentSpacing;
        }
    };

    FunnelChart.prototype.reflow = function reflow (chartBox) {
        var points = this.points;
        var count = points.length;

        if (!count) {
            return;
        }

        var options = this.options;
        var box = chartBox.clone().unpad(this.labelPadding());
        var totalHeight = box.height() - options.segmentSpacing * (count - 1);
        var width = box.width();

        if (options.dynamicSlope) {
            this.dynamicSlopeReflow(box, width, totalHeight);
        } else {
            this.constantSlopeReflow(box, width, totalHeight);
        }

        for (var idx = 0; idx < count; idx++) {
            points[idx].reflow(chartBox);
        }
    };

    return FunnelChart;
}(ChartElement));

setDefaultOptions(FunnelChart, {
    neckRatio: 0.3,
    width: 300,
    dynamicSlope: false,
    dynamicHeight: true,
    segmentSpacing: 0,
    labels: {
        visible: false,
        align: CENTER,
        position: CENTER,
        zIndex: 1
    }
});

deepExtend(FunnelChart.prototype, PieChartMixin);

var FunnelPlotArea = (function (PlotAreaBase$$1) {
    function FunnelPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) FunnelPlotArea.__proto__ = PlotAreaBase$$1;
    FunnelPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    FunnelPlotArea.prototype.constructor = FunnelPlotArea;

    FunnelPlotArea.prototype.render = function render () {
        this.createFunnelChart(this.series);
    };

    FunnelPlotArea.prototype.createFunnelChart = function createFunnelChart (series) {
        var firstSeries = series[0];
        var funnelChart = new FunnelChart(this, {
            series: series,
            legend: this.options.legend,
            neckRatio: firstSeries.neckRatio,
            dynamicHeight: firstSeries.dynamicHeight,
            dynamicSlope: firstSeries.dynamicSlope,
            segmentSpacing: firstSeries.segmentSpacing,
            highlight: firstSeries.highlight
        });

        this.appendChart(funnelChart);
    };

    FunnelPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
        append$1(this.options.legend.items, chart.legendItems);
    };

    return FunnelPlotArea;
}(PlotAreaBase));

// Linear color scale from the given color to white minus minimum lightness offset.
var colorScale = function (color, minLightnessOffset) {
    if ( minLightnessOffset === void 0 ) minLightnessOffset = 0.05;

    var baseColor = _progress_kendoDrawing.parseColor(color);
    var offset = 1 - minLightnessOffset;

    return function (value) {
        var hsl = baseColor.toHSL();
        var range = 100 - hsl.l;
        var point = offset - value;
        hsl.l += Math.min(point * range, range);

        return hsl.toCss();
    };
};

var HeatmapPoint = (function (ChartElement$$1) {
    function HeatmapPoint(value, options) {
        ChartElement$$1.call(this);

        this.options = options;
        this.color = options.color || WHITE;
        this.value = value;
    }

    if ( ChartElement$$1 ) HeatmapPoint.__proto__ = ChartElement$$1;
    HeatmapPoint.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    HeatmapPoint.prototype.constructor = HeatmapPoint;

    HeatmapPoint.prototype.render = function render () {
        if (this._rendered) {
            return;
        }

        this._rendered = true;

        this.createMarker();
        this.createLabel();
        this.createNote();
    };

    HeatmapPoint.prototype.createLabel = function createLabel () {
        var options = this.options;
        var labels = options.labels;

        if (labels.visible) {
            var pointData = this.pointData();
            var labelTemplate = getTemplate(labels);
            var labelText;
            var labelColor = labels.color;

            if (labelTemplate) {
                labelText = labelTemplate(pointData);
            } else {
                labelText = this.formatValue(labels.format);
            }

            if (!labelColor) {
                labelColor = autoTextColor(this.color);
            }

            this.label = new TextBox(labelText,
                deepExtend({
                    align: CENTER,
                    vAlign: CENTER,
                    margin: {
                        left: 5,
                        right: 5
                    },
                    zIndex: valueOrDefault(labels.zIndex, this.series.zIndex)
                },
                labels, {
                    color: labelColor
                }),
                pointData
            );
            this.append(this.label);
        }
    };

    HeatmapPoint.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    HeatmapPoint.prototype.reflow = function reflow (targetBox) {
        this.render();

        var label = this.label;

        this.box = targetBox;

        if (label) {
            label.reflow(this.markerBox());
        }

        if (this.note) {
            this.note.reflow(targetBox);
        }

        this.marker.reflow(this.markerBox());
    };

    HeatmapPoint.prototype.markerBox = function markerBox () {
        var options = this.options;
        var markers = options.markers;
        var border = markers.border;
        var rect = this.box.toRect();
        var type = valueOrDefault(markers.type, 'rect');
        var isRoundRect = type === ROUNDED_RECT;
        var borderWidth = valueOrDefault(border.width, isRoundRect ? 1 : 0);
        var halfBorderWidth = Math.round(borderWidth / 2);

        if (markers.size) {
            var center = rect.center();
            rect.size.width = rect.size.height = markers.size;
            rect.origin.x = Math.round(center.x - rect.size.width / 2);
            rect.origin.y = Math.round(center.y - rect.size.height / 2);
        }

        rect.size.width -= borderWidth;
        rect.size.height -= borderWidth;
        rect.origin.y += halfBorderWidth + 0.5;
        rect.origin.x += halfBorderWidth + 0.5;

        return rectToBox(rect);
    };

    HeatmapPoint.prototype.markerBorder = function markerBorder () {
        var options = this.options;
        var markers = options.markers;
        var border = markers.border;
        var opacity = valueOrDefault(border.opacity, options.opacity);

        return {
            color: border.color || this.color,
            width: border.width,
            opacity: opacity,
            dashType: border.dashType
        };
    };

    HeatmapPoint.prototype.createMarker = function createMarker () {
        var options = this.options;
        var markerOptions = options.markers;
        var marker = new ShapeElement({
            type: valueOrDefault(markerOptions.type, 'rect'),
            width: markerOptions.size,
            height: markerOptions.size,
            rotation: markerOptions.rotation,
            background: this.color,
            border: this.markerBorder(),
            borderRadius: markerOptions.borderRadius,
            opacity: this.series.opacity || options.opacity,
            zIndex: valueOrDefault(options.zIndex, this.series.zIndex),
            animation: options.animation,
            visual: options.visual
        }, {
            dataItem: this.dataItem,
            value: this.value,
            series: this.series,
            category: this.category
        });

        this.marker = marker;
        this.append(marker);
    };

    HeatmapPoint.prototype.createHighlight = function createHighlight (style) {
        var options = this.options;
        var markerOptions = this.options.highlight.markers || this.options.markers;

        var highlight = new ShapeElement({
            type: valueOrDefault(markerOptions.type, 'rect'),
            width: markerOptions.size,
            height: markerOptions.size,
            rotation: markerOptions.rotation,
            background: markerOptions.color || this.color,
            border: this.markerBorder(),
            borderRadius: markerOptions.borderRadius,
            opacity: this.series.opacity || options.opacity,
            zIndex: valueOrDefault(options.zIndex, this.series.zIndex)
        });

        highlight.reflow(this.markerBox());
        var visual = highlight.getElement();

        visual.options.fill = style.fill;
        visual.options.stroke = style.stroke;

        return visual;
    };

    HeatmapPoint.prototype.highlightVisual = function highlightVisual () {
        return this.rectVisual;
    };

    HeatmapPoint.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            rect: this.box.toRect(),
            visual: this.rectVisual
        };
    };

    HeatmapPoint.prototype.tooltipAnchor = function tooltipAnchor () {
        var left = this.box.center().x;
        var top = this.box.y1 - TOOLTIP_OFFSET;

        return {
            point: new Point(left, top),
            align: {
                horizontal: CENTER,
                vertical: BOTTOM
            }
        };
    };

    HeatmapPoint.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    HeatmapPoint.prototype.unclipElements = function unclipElements () {
        /* noop, clip labels */
    };

    HeatmapPoint.prototype.pointData = function pointData () {
        return {
            x: this.value.x,
            y: this.value.y,
            value: this.value.value,
            dataItem: this.dataItem,
            series: this.series
        };
    };

    return HeatmapPoint;
}(ChartElement));

deepExtend(HeatmapPoint.prototype, PointEventsMixin);
deepExtend(HeatmapPoint.prototype, NoteMixin);

HeatmapPoint.prototype.defaults = {
    markers: {
        type: 'rect',
        borderRadius: 4,
        border: {
            color: 'transparent'
        }
    },
    padding: { top: 1 },
    labels: {
        visible: false,
        padding: 3
    },
    opacity: 1,
    notes: {
        label: {}
    }
};

var HeatmapChart = (function (ChartElement$$1) {
    function HeatmapChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this._initFields();

        this.render();
    }

    if ( ChartElement$$1 ) HeatmapChart.__proto__ = ChartElement$$1;
    HeatmapChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    HeatmapChart.prototype.constructor = HeatmapChart;

    HeatmapChart.prototype._initFields = function _initFields () {
        this.points = [];
        this.seriesOptions = [];
        this.valueRange = { min: MAX_VALUE, max: MIN_VALUE };
        this._evalSeries = [];
    };

    HeatmapChart.prototype.render = function render () {
        this.setRange();
        this.traverseDataPoints(this.addValue.bind(this));
    };

    HeatmapChart.prototype.setRange = function setRange () {
        var this$1 = this;

        var ref = this;
        var series = ref.options.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];

            for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {
                var ref$1 = this$1._bindPoint(currentSeries, seriesIx, pointIx);
                var valueFields = ref$1.valueFields;
                if (defined(valueFields.value) && valueFields.value !== null) {
                    this$1.valueRange.min = Math.min(this$1.valueRange.min, valueFields.value);
                    this$1.valueRange.max = Math.max(this$1.valueRange.max, valueFields.value);
                }
            }
        }
    };

    HeatmapChart.prototype.addValue = function addValue (value, fields) {
        var point;
        if (value && defined(value.value) && value.value !== null) {
            point = this.createPoint(value, fields);
            if (point) {
                Object.assign(point, fields);
            }
        }

        this.points.push(point);
    };

    HeatmapChart.prototype.evalPointOptions = function evalPointOptions (options, value, fields) {
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var state = { defaults: series._defaults, excluded: [ "data", "tooltip", "content", "template", "visual", "toggle" ] };

        var doEval = this._evalSeries[seriesIx];
        if (!defined(doEval)) {
            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);
        }

        var pointOptions = options;
        if (doEval) {
            pointOptions = deepExtend({}, options);
            evalOptions(pointOptions, {
                value: value,
                series: series,
                dataItem: fields.dataItem,
                min: this.valueRange.min,
                max: this.valueRange.max
            }, state);
        }

        return pointOptions;
    };

    HeatmapChart.prototype.pointType = function pointType () {
        return HeatmapPoint;
    };

    HeatmapChart.prototype.pointOptions = function pointOptions (series, seriesIx) {
        var options = this.seriesOptions[seriesIx];
        if (!options) {
            var defaults = this.pointType().prototype.defaults;
            this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {
                markers: {
                    opacity: series.opacity
                },
                tooltip: {
                    format: this.options.tooltip.format
                },
                labels: {
                    format: this.options.labels.format
                }
            }, series);
        }

        return options;
    };

    HeatmapChart.prototype.createPoint = function createPoint (value, fields) {
        var series = fields.series;
        var pointOptions = this.pointOptions(series, fields.seriesIx);
        var color = fields.color || series.color;

        pointOptions = this.evalPointOptions(pointOptions, value, fields);

        if (isFunction(series.color)) {
            color = pointOptions.color;
        } else if (this.valueRange.max !== 0) {
            var scale = colorScale(color);
            color = scale(value.value / this.valueRange.max);
        }

        var point = new HeatmapPoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    HeatmapChart.prototype.seriesAxes = function seriesAxes (series) {
        var xAxisName = series.xAxis;
        var yAxisName = series.yAxis;
        var plotArea = this.plotArea;
        var xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX;
        var yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;

        if (!xAxis) {
            throw new Error("Unable to locate X axis with name " + xAxisName);
        }

        if (!yAxis) {
            throw new Error("Unable to locate Y axis with name " + yAxisName);
        }

        return { xAxis: xAxis, yAxis: yAxis };
    };

    HeatmapChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var chartPoints = this.points;
        var limit = !this.options.clip;
        var pointIx = 0;


        this.traverseDataPoints(function (value, fields) {
            var point = chartPoints[pointIx++];
            var ref = this$1.seriesAxes(fields.series);
            var xAxis = ref.xAxis;
            var yAxis = ref.yAxis;
            var indexX = xAxis.categoryIndex(value.x);
            var indexY = yAxis.categoryIndex(value.y);
            var slotX = xAxis.getSlot(indexX, indexX, limit);
            var slotY = yAxis.getSlot(indexY, indexY, limit);

            if (point) {
                if (slotX && slotY) {
                    var pointSlot = this$1.pointSlot(slotX, slotY);
                    point.reflow(pointSlot);
                } else {
                    point.visible = false;
                }
            }
        });

        this.box = targetBox;
    };

    HeatmapChart.prototype.pointSlot = function pointSlot (slotX, slotY) {
        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);
    };

    HeatmapChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var ref = this;
        var series = ref.options.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var ref$1 = this$1.seriesAxes(currentSeries);
            var xAxis = ref$1.xAxis;
            var yAxis = ref$1.yAxis;
            var xRange = xAxis.currentRangeIndices();
            var yRange = yAxis.currentRangeIndices();

            for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {
                var ref$2 = this$1._bindPoint(currentSeries, seriesIx, pointIx);
                var value = ref$2.valueFields;
                var fields = ref$2.fields;
                var xIndex = xAxis.totalIndex(value.x);
                var yIndex = yAxis.totalIndex(value.y);
                var xIn = xRange.min <= xIndex && xIndex <= xRange.max;
                var yIn = yRange.min <= yIndex && yIndex <= yRange.max;

                if (xIn && yIn) {
                    callback(value, deepExtend({
                        pointIx: pointIx,
                        series: currentSeries,
                        seriesIx: seriesIx,
                        dataItem: currentSeries.data[pointIx],
                        owner: this$1
                    }, fields));
                }
            }
        }
    };

    HeatmapChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;
        return this.chartService.format.auto(format, value.x, value.y, value.value);
    };

    HeatmapChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            result.push((points[idx] || {}).marker);
        }
        return result;
    };

    return HeatmapChart;
}(ChartElement));
setDefaultOptions(HeatmapChart, {
    series: [],
    tooltip: {
        format: "{0}, {1}: {2}"
    },
    labels: {
        format: "{2}"
    },
    clip: true
});
deepExtend(HeatmapChart.prototype, {
    _bindPoint: CategoricalChart.prototype._bindPoint
});

var HeatmapPlotArea = (function (PlotAreaBase$$1) {
    function HeatmapPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) HeatmapPlotArea.__proto__ = PlotAreaBase$$1;
    HeatmapPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    HeatmapPlotArea.prototype.constructor = HeatmapPlotArea;

    HeatmapPlotArea.prototype.initFields = function initFields () {
        this.namedXAxes = {};
        this.namedYAxes = {};
    };

    HeatmapPlotArea.prototype.render = function render (panes) {
        if ( panes === void 0 ) panes = this.panes;

        this.bindCategories();
        this.createAxes(panes);
        this.createCharts(panes);
        this.createAxisLabels();
    };

    HeatmapPlotArea.prototype.bindCategories = function bindCategories () {
        var this$1 = this;

        var series = this.srcSeries || this.series;

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var data = currentSeries.data || [];
            var ref = this$1.seriesAxes(currentSeries);
            var xAxis = ref.xAxis;
            var yAxis = ref.yAxis;

            var xCategories = createHashSet(xAxis.categories || []);
            var yCategories = createHashSet(yAxis.categories || []);

            for (var pointIndex = 0; pointIndex < data.length; pointIndex++) {
                var ref$1 = SeriesBinder.current.bindPoint(currentSeries, pointIndex).valueFields;
                var x = ref$1.x;
                var y = ref$1.y;

                if (!xCategories.has(x)) {
                    xCategories.add(x);
                }

                if (!yCategories.has(y)) {
                    yCategories.add(y);
                }
            }

            xAxis.categories = xCategories.values();
            yAxis.categories = yCategories.values();
        }
    };

    HeatmapPlotArea.prototype.createCharts = function createCharts (panes) {
        var this$1 = this;

        var seriesByPane = this.groupSeriesByPane();

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            var paneSeries = seriesByPane[pane.options.name || "default"] || [];
            this$1.addToLegend(paneSeries);
            var filteredSeries = this$1.filterVisibleSeries(paneSeries);

            if (!filteredSeries) {
                continue;
            }

            this$1.createHeatmapChart(
                filterSeriesByType(filteredSeries, [ HEATMAP ]),
                pane
            );
        }
    };

    HeatmapPlotArea.prototype.createHeatmapChart = function createHeatmapChart (series, pane) {
        var chart = new HeatmapChart(this, {
            series: series
        });

        this.appendChart(chart, pane);
    };

    HeatmapPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {
        var options = this.options;
        var xAxisName = series.xAxis;
        var xAxisOptions = [].concat(options.xAxis);
        var xAxis = grep(xAxisOptions, function(a) { return a.name === xAxisName; })[0];
        var yAxisName = series.yAxis;
        var yAxisOptions = [].concat(options.yAxis);
        var yAxis = grep(yAxisOptions, function(a) { return a.name === yAxisName; })[0];
        var panes = options.panes || [ {} ];
        var defaultPaneName = panes[0].name || "default";
        var paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;

        return paneName;
    };

    HeatmapPlotArea.prototype.seriesAxes = function seriesAxes (series) {
        var xAxis;
        var yAxis;

        var options = this.options;

        var xAxisOptions = [].concat(options.xAxis);
        var xAxisName = series.xAxis;
        if (xAxisName) {
            xAxis = xAxisOptions.find(function (axis) { return axis.name === xAxisName; });
        } else {
            xAxis = xAxisOptions[0];
        }

        var yAxisOptions = [].concat(options.yAxis);
        var yAxisName = series.yAxis;
        if (yAxisName) {
            yAxis = yAxisOptions.find(function (axis) { return axis.name === yAxisName; });
        } else {
            yAxis = yAxisOptions[0];
        }

        if (!xAxis) {
            throw new Error("Unable to locate X axis with name " + xAxisName);
        }

        if (!yAxis) {
            throw new Error("Unable to locate Y axis with name " + yAxisName);
        }

        return { xAxis: xAxis, yAxis: yAxis };
    };

    HeatmapPlotArea.prototype.createAxisLabels = function createAxisLabels () {
        var axes = this.axes;
        for (var i = 0; i < axes.length; i++) {
            axes[i].createLabels();
        }
    };

    HeatmapPlotArea.prototype.createXYAxis = function createXYAxis (options, vertical, axisIndex) {
        var axisName = options.name;
        var namedAxes = vertical ? this.namedYAxes : this.namedXAxes;
        var axisOptions = Object.assign({
            axisCrossingValue: 0
        }, options, {
            vertical: vertical,
            reverse: (vertical || this.chartService.rtl) ? !options.reverse : options.reverse,
            justified: false
        });
        var firstCategory = axisOptions.categories ? axisOptions.categories[0] : null;
        var typeSamples = [ axisOptions.min, axisOptions.max, firstCategory ];
        var series = this.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var seriesAxisName = currentSeries[vertical ? "yAxis" : "xAxis"];
            if ((seriesAxisName === axisOptions.name) || (axisIndex === 0 && !seriesAxisName)) {
                var firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;
                typeSamples.push(firstPointValue[vertical ? "y" : "x"]);

                break;
            }
        }

        var inferredDate;

        for (var i = 0; i < typeSamples.length; i++) {
            if (typeSamples[i] instanceof Date) {
                inferredDate = true;
                break;
            }
        }

        var axisType;
        if (equalsIgnoreCase(axisOptions.type, DATE) || (!axisOptions.type && inferredDate)) {
            axisType = DateCategoryAxis;
        } else {
            axisType = CategoryAxis;
        }

        var axis = new axisType(axisOptions, this.chartService);
        axis.axisIndex = axisIndex;

        if (axisName) {
            if (namedAxes[axisName]) {
                throw new Error(((vertical ? "Y" : "X") + " axis with name " + axisName + " is already defined"));
            }
            namedAxes[axisName] = axis;
        }

        this.appendAxis(axis);
        axis.mapCategories();

        return axis;
    };

    HeatmapPlotArea.prototype.createAxes = function createAxes (panes) {
        var this$1 = this;

        var options = this.options;
        var xAxesOptions = [].concat(options.xAxis);
        var xAxes = [];
        var yAxesOptions = [].concat(options.yAxis);
        var yAxes = [];

        for (var idx = 0; idx < xAxesOptions.length; idx++) {
            var axisPane = this$1.findPane(xAxesOptions[idx].pane);
            if (inArray(axisPane, panes)) {
                xAxes.push(this$1.createXYAxis(xAxesOptions[idx], false, idx));
            }
        }

        for (var idx$1 = 0; idx$1 < yAxesOptions.length; idx$1++) {
            var axisPane$1 = this$1.findPane(yAxesOptions[idx$1].pane);
            if (inArray(axisPane$1, panes)) {
                yAxes.push(this$1.createXYAxis(yAxesOptions[idx$1], true, idx$1));
            }
        }

        this.axisX = this.axisX || xAxes[0];
        this.axisY = this.axisY || yAxes[0];
    };

    HeatmapPlotArea.prototype.removeAxis = function removeAxis (axis) {
        var axisName = axis.options.name;

        PlotAreaBase$$1.prototype.removeAxis.call(this, axis);

        if (axis.options.vertical) {
            delete this.namedYAxes[axisName];
        } else {
            delete this.namedXAxes[axisName];
        }

        if (axis === this.axisX) {
            delete this.axisX;
        }

        if (axis === this.axisY) {
            delete this.axisY;
        }
    };

    HeatmapPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var allAxes = this.axes;
        var length = allAxes.length;
        var xValues = [];
        var yValues = [];

        for (var i = 0; i < length; i++) {
            var axis = allAxes[i];
            var values = axis.options.vertical ? yValues : xValues;
            appendIfNotNull(values, axis.getCategory(point));
        }

        if (xValues.length > 0 && yValues.length > 0) {
            chart.trigger(eventType, {
                element: eventElement(e),
                originalEvent: e,
                x: singleItemOrArray(xValues),
                y: singleItemOrArray(yValues)
            });
        }
    };

    HeatmapPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {
        var vertical = axis.options.vertical;
        var axes = this.groupAxes(this.panes);
        var index = (vertical ? axes.y : axes.x).indexOf(axis);

        updateAxisOptions$2(this.options, index, vertical, options);
        updateAxisOptions$2(this.originalOptions, index, vertical, options);
    };

    HeatmapPlotArea.prototype.crosshairOptions = function crosshairOptions (axis) {
        // Stack the crosshair above the series points.
        return Object.assign({}, axis.options.crosshair, { zIndex: 0 });
    };

    return HeatmapPlotArea;
}(PlotAreaBase));

function updateAxisOptions$2(targetOptions, axisIndex, vertical, options) {
    var axisOptions = ([].concat(vertical ? targetOptions.yAxis : targetOptions.xAxis))[axisIndex];
    deepExtend(axisOptions, options);
}

setDefaultOptions(HeatmapPlotArea, {
    xAxis: {},
    yAxis: {}
});

deepExtend(HeatmapPlotArea.prototype, PlotAreaEventsMixin);

var COLOR = "color";
var FIRST = "first";
var FROM = "from";
var MAX = "max";
var MIN = "min";
var NOTE_TEXT = "noteText";
var SUMMARY_FIELD = "summary";
var TO = "to";

PlotAreaFactory.current.register(CategoricalPlotArea, [
    BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA,
    CANDLESTICK, OHLC, BULLET, VERTICAL_BULLET, BOX_PLOT, VERTICAL_BOX_PLOT,
    RANGE_COLUMN, RANGE_BAR, WATERFALL, HORIZONTAL_WATERFALL, RANGE_AREA, VERTICAL_RANGE_AREA
]);

PlotAreaFactory.current.register(XYPlotArea, [
    SCATTER, SCATTER_LINE, BUBBLE
]);

PlotAreaFactory.current.register(PiePlotArea, [ PIE ]);
PlotAreaFactory.current.register(DonutPlotArea, [ DONUT ]);
PlotAreaFactory.current.register(FunnelPlotArea, [ FUNNEL ]);

PlotAreaFactory.current.register(PolarPlotArea, [ POLAR_AREA, POLAR_LINE, POLAR_SCATTER ]);
PlotAreaFactory.current.register(RadarPlotArea, [ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ]);

PlotAreaFactory.current.register(HeatmapPlotArea, [ HEATMAP ]);

SeriesBinder.current.register(
    [ BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA ],
    [ VALUE ], [ CATEGORY, COLOR, NOTE_TEXT, ERROR_LOW_FIELD, ERROR_HIGH_FIELD ]
);

SeriesBinder.current.register(
    [ RANGE_COLUMN, RANGE_BAR, RANGE_AREA, VERTICAL_RANGE_AREA ],
    [ FROM, TO ], [ CATEGORY, COLOR, NOTE_TEXT ]
);

SeriesBinder.current.register(
    [ WATERFALL, HORIZONTAL_WATERFALL ],
    [ VALUE ], [ CATEGORY, COLOR, NOTE_TEXT, SUMMARY_FIELD ]
);

SeriesBinder.current.register([ POLAR_AREA, POLAR_LINE, POLAR_SCATTER ], [ X, Y ], [ COLOR ]);
SeriesBinder.current.register([ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ], [ VALUE ], [ COLOR ]);

SeriesBinder.current.register(
    [ FUNNEL ],
    [ VALUE ], [ CATEGORY, COLOR, "visibleInLegend", "visible" ]
);

DefaultAggregates.current.register(
    [ BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA, WATERFALL, HORIZONTAL_WATERFALL ],
    { value: MAX, color: FIRST, noteText: FIRST, errorLow: MIN, errorHigh: MAX }
);

DefaultAggregates.current.register(
    [ RANGE_COLUMN, RANGE_BAR, RANGE_AREA, VERTICAL_RANGE_AREA ],
    { from: MIN, to: MAX, color: FIRST, noteText: FIRST }
);

DefaultAggregates.current.register(
    [ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ],
    { value: MAX, color: FIRST }
);

SeriesBinder.current.register(
    [ SCATTER, SCATTER_LINE, BUBBLE ],
    [ X, Y ], [ COLOR, NOTE_TEXT, X_ERROR_LOW_FIELD, X_ERROR_HIGH_FIELD, Y_ERROR_LOW_FIELD, Y_ERROR_HIGH_FIELD ]
);

SeriesBinder.current.register(
    [ BUBBLE ], [ X, Y, "size" ], [ COLOR, CATEGORY, NOTE_TEXT ]
);

SeriesBinder.current.register(
    [ HEATMAP ],
    [ X, Y, VALUE ], [ COLOR, NOTE_TEXT ]
);

SeriesBinder.current.register(
    [ CANDLESTICK, OHLC ],
    [ "open", "high", "low", "close" ], [ CATEGORY, COLOR, "downColor", NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ CANDLESTICK, OHLC ],
    { open: MAX, high: MAX, low: MIN, close: MAX,
      color: FIRST, downColor: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ BOX_PLOT, VERTICAL_BOX_PLOT ],
    [ "lower", "q1", "median", "q3", "upper", "mean", "outliers" ], [ CATEGORY, COLOR, NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ BOX_PLOT, VERTICAL_BOX_PLOT ],
    { lower: MAX, q1: MAX, median: MAX, q3: MAX, upper: MAX, mean: MAX, outliers: FIRST,
      color: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ BULLET, VERTICAL_BULLET ],
    [ "current", "target" ], [ CATEGORY, COLOR, "visibleInLegend", NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ BULLET, VERTICAL_BULLET ],
    { current: MAX, target: MAX, color: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ PIE, DONUT ],
    [ VALUE ], [ CATEGORY, COLOR, "explode", "visibleInLegend", "visible" ]
);

var AXIS_NAMES = [ CATEGORY, VALUE, X, Y ];

var MOUSEMOVE = "mousemove";
var CONTEXTMENU = "contextmenu";
var MOUSELEAVE = "mouseleave";
var MOUSEMOVE_DELAY = 20;

var Chart = (function (Class$$1) {
    function Chart(element, userOptions, themeOptions, context) {
        var this$1 = this;
        if ( context === void 0 ) context = {};

        Class$$1.call(this);

        this.observers = [];
        this.addObserver(context.observer);
        this.chartService = new ChartService(this, context);
        this.chartService.theme = themeOptions;

        this._initElement(element);

        var options = deepExtend({}, this.options, userOptions);
        this._originalOptions = deepExtend({}, options);
        this._theme = themeOptions;
        this._initTheme(options, themeOptions);

        this._initHandlers();
        this._initSurface();

        this.bindCategories();
        FontLoader.preloadFonts(userOptions, function () {
            this$1.fontLoaded = true;
            if (!this$1._destroyed) {
                this$1.trigger('init');
                this$1._redraw();
                this$1._attachEvents();
            }
        });
    }

    if ( Class$$1 ) Chart.__proto__ = Class$$1;
    Chart.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Chart.prototype.constructor = Chart;

    Chart.prototype._initElement = function _initElement (element) {
        this._setElementClass(element);
        element.style.position = "relative";
        while (element.firstChild) {
            element.removeChild(element.firstChild);
        }
        this.element = element;
    };

    Chart.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, "k-chart");
    };

    Chart.prototype._initTheme = function _initTheme (options, themeOptions) {
        var seriesCopies = [];
        var series = options.series || [];

        for (var i = 0; i < series.length; i++) {
            seriesCopies.push(Object.assign({}, series[i]));
        }
        options.series = seriesCopies;

        resolveAxisAliases(options);
        this.applyDefaults(options, themeOptions);

        // Clean up default if not overriden by data attributes
        if (options.seriesColors === null) {
            delete options.seriesColors;
        }

        this.options = deepExtend({}, themeOptions, options);
        this.applySeriesColors();
    };

    Chart.prototype.getSize = function getSize () {
        var chartArea = this.options.chartArea || {};
        var width = chartArea.width ? parseInt(chartArea.width, 10) : Math.floor(this.element.offsetWidth);
        var height = chartArea.height ? parseInt(chartArea.height, 10) : Math.floor(this.element.offsetHeight);

        return {
            width: width,
            height: height
        };
    };

    Chart.prototype.resize = function resize (force) {
        var size = this.getSize();
        var currentSize = this._size;
        var hasSize = size.width > 0 || size.height > 0;

        if (force || hasSize && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {
            this._size = size;
            this._resize(size, force);
            this.trigger("resize", size);
        } else if (hasSize && this._selections && find(this._selections, function (s) { return !s.visible; })) {
            this._destroySelections();
            this._setupSelection();
        }
    };

    Chart.prototype._resize = function _resize () {
        this._noTransitionsRedraw();
    };

    Chart.prototype.redraw = function redraw (paneName) {
        this.applyDefaults(this.options);
        this.applySeriesColors();

        if (paneName) {
            var plotArea = this._model._plotArea;
            var pane = plotArea.findPane(paneName);
            plotArea.redraw(pane);
        } else {
            this._redraw();
        }
    };

    Chart.prototype.getAxis = function getAxis (name) {
        return findAxisByName(name, this._plotArea.axes);
    };

    Chart.prototype.findAxisByName = function findAxisByName$1 (name) {
        return this.getAxis(name);
    };

    Chart.prototype.findPaneByName = function findPaneByName (name) {
        var panes = this._plotArea.panes;

        for (var idx = 0; idx < panes.length; idx++) {
            if (panes[idx].options.name === name) {
                return new ChartPane(panes[idx]);
            }
        }
    };

    Chart.prototype.findPaneByIndex = function findPaneByIndex (idx) {
        var panes = this._plotArea.panes;
        if (panes[idx]) {
            return new ChartPane(panes[idx]);
        }
    };

    Chart.prototype.plotArea = function plotArea () {
        return new ChartPlotArea(this._plotArea);
    };

    Chart.prototype.toggleHighlight = function toggleHighlight (show, filter) {
        var plotArea = this._plotArea;
        var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];
        var points;

        if (isFunction(filter)) {
            points = plotArea.filterPoints(filter);
        } else {
            var seriesName, categoryName;
            if (isObject(filter)) {
                seriesName = filter.series;
                categoryName = filter.category;
            } else {
                seriesName = categoryName = filter;
            }

            if (firstSeries.type === DONUT) {
                points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);
            } else if (firstSeries.type === PIE || firstSeries.type === FUNNEL) {
                points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);
            } else {
                points = plotArea.pointsBySeriesName(seriesName);
            }
        }

        if (points) {
            this.togglePointsHighlight(show, points);
        }
    };

    Chart.prototype.togglePointsHighlight = function togglePointsHighlight (show, points) {
        var highlight = this._highlight;
        for (var idx = 0; idx < points.length; idx++) {
            highlight.togglePointHighlight(points[idx], show);
        }
    };

    Chart.prototype.showTooltip = function showTooltip (filter) {
        var shared = this._sharedTooltip();
        var ref = this;
        var tooltip = ref._tooltip;
        var plotArea = ref._plotArea;
        var point, categoryIndex;

        if (isFunction(filter)) {
            point = plotArea.findPoint(filter);
            if (point && shared) {
                categoryIndex = point.categoryIx;
            }
        } else if (shared && defined(filter)) {
            categoryIndex = plotArea.categoryAxis.categoryIndex(filter);
        }

        if (shared) {
            if (categoryIndex >= 0) {
                var points = this._plotArea.pointsByCategoryIndex(categoryIndex);
                tooltip.showAt(points);
            }
        } else if (point) {
            tooltip.show(point);
        }
    };

    Chart.prototype.hideTooltip = function hideTooltip () {
        this._tooltip.hide();
    };

    Chart.prototype._initSurface = function _initSurface () {
        var surface = this.surface;
        var wrap = this._surfaceWrap();

        var chartArea = this.options.chartArea || {};
        if (chartArea.width) {
            elementSize$1(wrap, { width: chartArea.width });
        }
        if (chartArea.height) {
            elementSize$1(wrap, { height: chartArea.height });
        }

        if (!surface || surface.options.type !== this.options.renderAs) {
            this._destroySurface();

            this.surface = _progress_kendoDrawing.drawing.Surface.create(wrap, {
                type: this.options.renderAs
            });

            this.surface.bind("mouseenter", this._surfaceMouseenterHandler);
            this.surface.bind("mouseleave", this._surfaceMouseleaveHandler);

        } else {
            this.surface.clear();
            this.surface.resize();
        }
    };

    Chart.prototype._surfaceWrap = function _surfaceWrap () {
        return this.element;
    };

    Chart.prototype._redraw = function _redraw () {
        var model = this._getModel();
        this._size = {
            width: model.options.width,
            height: model.options.height
        };

        this._destroyView();

        this._model = model;
        this._plotArea = model._plotArea;

        model.renderVisual();

        if (this.options.transitions !== false) {
            model.traverse(function(element) {
                if (element.animation) {
                    element.animation.setup();
                }
            });
        }

        this._initSurface();
        this.surface.draw(model.visual);

        if (this.options.transitions !== false) {
            model.traverse(function(element) {
                if (element.animation) {
                    element.animation.play();
                }
            });
        }

        this._tooltip = this._createTooltip();
        this._highlight = new Highlight();
        this._setupSelection();
        this._createPannable();
        this._createZoomSelection();
        this._createMousewheelZoom();

        this.trigger(RENDER);
        triggerPaneRender(this._plotArea.panes);

        if (!this._navState) {
            this._cancelDomEvents();
        }
    };

    Chart.prototype.exportVisual = function exportVisual (exportOptions) {
        var visual;
        if (exportOptions && (exportOptions.width || exportOptions.height || exportOptions.options)) {
            var currentOptions = this.options;
            var options = deepExtend({}, exportOptions.options, {
                chartArea: {
                    width: exportOptions.width,
                    height: exportOptions.height
                }
            });

            clearMissingValues(this._originalOptions, options);
            this.options = deepExtend({}, this._originalOptions, options);
            this._initTheme(this.options, this._theme);
            this.bindCategories();

            var model = this._getModel();

            model.renderVisual();
            triggerPaneRender(model._plotArea.panes);

            visual = model.visual;

            this.options = currentOptions;
        } else {
            visual = this.surface.exportVisual();
        }

        return visual;
    };

    Chart.prototype._sharedTooltip = function _sharedTooltip () {
        return this._plotArea instanceof CategoricalPlotArea && this.options.tooltip && this.options.tooltip.shared;
    };

    Chart.prototype._createPannable = function _createPannable () {
        var options = this.options;
        if (options.pannable !== false) {
            this._pannable = new Pannable(this._plotArea, options.pannable);
        }
    };

    Chart.prototype._createZoomSelection = function _createZoomSelection () {
        var zoomable = this.options.zoomable;
        var selection = (zoomable || {}).selection;
        if (zoomable !== false && selection !== false) {
            this._zoomSelection = new ZoomSelection(this, selection);
        }
    };

    Chart.prototype._createMousewheelZoom = function _createMousewheelZoom () {
        var zoomable = this.options.zoomable;
        var mousewheel = (zoomable || {}).mousewheel;
        if (zoomable !== false && mousewheel !== false) {
            this._mousewheelZoom = new MousewheelZoom(this, mousewheel);
        }
    };

    Chart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {
        var pannable = this.options.pannable;
        var zoomable = this.options.zoomable;
        var selection = (zoomable || {}).selection;
        var mousewheel = (zoomable || {}).mousewheel;
        var allowDrag = !pannable && (zoomable === false || selection === false) && !this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ]);
        var allowZoom = (zoomable === false || mousewheel === false) && !this.requiresHandlers([ ZOOM_START, ZOOM, ZOOM_END ]);
        var element = this.element;

        if (this._dragZoomEnabled && allowDrag && allowZoom) {
            element.style.touchAction = this._touchAction || '';
            this._dragZoomEnabled = false;
        } else if (!this._dragZoomEnabled && !(allowDrag && allowZoom)) {
            element.style.touchAction = "none";

            this._dragZoomEnabled = true;
        }

        this._toggleDomEvents(!allowDrag, !allowZoom);
    };

    Chart.prototype._toggleDomEvents = function _toggleDomEvents (drag, zoom) {
        var domEvents = this.domEvents;
        if (!domEvents) {
            return;
        }

        if (domEvents.toggleDrag) {
            domEvents.toggleDrag(drag);
        }

        if (domEvents.toggleZoom) {
            domEvents.toggleZoom(zoom);
        }
    };

    Chart.prototype._createTooltip = function _createTooltip () {
        var ref = this;
        var tooltipOptions = ref.options.tooltip;
        var tooltip;

        if (this._sharedTooltip()) {
            tooltip = this._createSharedTooltip(tooltipOptions);
        } else {
            tooltip = new Tooltip(this.chartService, tooltipOptions);
        }

        return tooltip;
    };

    Chart.prototype._createSharedTooltip = function _createSharedTooltip (options) {
        return new SharedTooltip(this._plotArea, options);
    };

    Chart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {
        applyAxisDefaults(options, themeOptions);
        applySeriesDefaults(options, themeOptions);
    };

    Chart.prototype.applySeriesColors = function applySeriesColors () {
        var options = this.options;
        var series = options.series;
        var colors = options.seriesColors || [];

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var seriesColor = colors[i % colors.length];
            var defaults = currentSeries._defaults;

            currentSeries.color = currentSeries.color || seriesColor;
            if (defaults) {
                defaults.color = defaults.color || seriesColor;
            }
        }
    };

    Chart.prototype._getModel = function _getModel () {
        var options = this.options;
        var plotArea = this._createPlotArea();
        var model = new RootElement(this._modelOptions());
        model.chart = this;
        model._plotArea = plotArea;

        Title.buildTitle(options.title, model);

        if (options.legend && options.legend.visible) {
            model.append(new Legend(plotArea.options.legend, this.chartService));
        }
        model.append(plotArea);
        model.reflow();

        return model;
    };

    Chart.prototype._modelOptions = function _modelOptions () {
        var options = this.options;
        var size = this.getSize();

        return deepExtend({
            transitions: options.transitions,
            width: size.width || DEFAULT_WIDTH,
            height: size.height || DEFAULT_HEIGHT
        }, options.chartArea);
    };

    Chart.prototype._createPlotArea = function _createPlotArea (skipSeries) {
        var options = this.options;

        var plotArea = PlotAreaFactory.current.create(skipSeries ? [] : options.series, options, this.chartService);

        return plotArea;
    };

    Chart.prototype._setupSelection = function _setupSelection () {
        var this$1 = this;

        var ref = this;
        var axes = ref._plotArea.axes;
        var selections = this._selections = [];

        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var options = axis.options;
            if (axis instanceof CategoryAxis && options.select && !options.vertical) {
                var range = axis.range();

                var selection = new Selection(this$1, axis,
                    deepExtend({ min: range.min, max: range.max }, options.select)
                );

                selections.push(selection);
            }
        }
    };

    Chart.prototype._selectStart = function _selectStart (e) {
        return this.trigger(SELECT_START, e);
    };

    Chart.prototype._select = function _select (e) {
        return this.trigger(SELECT, e);
    };

    Chart.prototype._selectEnd = function _selectEnd (e) {
        return this.trigger(SELECT_END, e);
    };

    Chart.prototype._initHandlers = function _initHandlers () {
        this._clickHandler = this._click.bind(this);
        this._mousewheelHandler = this._mousewheel.bind(this);
        this._mouseleaveHandler = this._mouseleave.bind(this);
        this._surfaceMouseenterHandler = this._mouseover.bind(this);
        this._surfaceMouseleaveHandler = this._mouseout.bind(this);

        this._mousemove = _progress_kendoDrawing.throttle(
            this._mousemove.bind(this),
            MOUSEMOVE_DELAY
        );
    };

    Chart.prototype.addObserver = function addObserver (observer) {
        if (observer) {
            this.observers.push(observer);
        }
    };

    Chart.prototype.removeObserver = function removeObserver (observer) {
        var index = this.observers.indexOf(observer);
        if (index >= 0) {
            this.observers.splice(index, 1);
        }
    };

    Chart.prototype.requiresHandlers = function requiresHandlers (eventNames) {
        var observers = this.observers;
        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].requiresHandlers(eventNames)) {
                return true;
            }
        }
    };

    Chart.prototype.trigger = function trigger (name, args) {
        if ( args === void 0 ) args = {};

        if (name === SHOW_TOOLTIP) {
            args.anchor.point = this._toDocumentCoordinates(args.anchor.point);
        }
        args.sender = this;

        var observers = this.observers;
        var isDefaultPrevented = false;
        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].trigger(name, args)) {
                isDefaultPrevented = true;
            }
        }

        return isDefaultPrevented;
    };

    Chart.prototype._attachEvents = function _attachEvents () {
        var element = this.element;

        this._touchAction = element.style.touchAction;

        var obj;
        bindEvents$1$1(element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj ));

        if (this._shouldAttachMouseMove()) {
            var obj$1;
            bindEvents$1$1(element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));
        }

        this.domEvents = DomEventsBuilder.create(this.element, {
            start: this._start.bind(this),
            move: this._move.bind(this),
            end: this._end.bind(this),
            tap: this._tap.bind(this),
            gesturestart: this._gesturestart.bind(this),
            gesturechange: this._gesturechange.bind(this),
            gestureend: this._gestureend.bind(this)
        });

        this._toggleDragZoomEvents();
    };

    Chart.prototype._mouseleave = function _mouseleave (e) {
        if (this._hoveredPoint) {
            this._hoveredPoint.out(this, e);
            this._hoveredPoint = null;
        }

        if (this._plotArea.hovered) {
            this.trigger(PLOT_AREA_LEAVE);
            this._plotArea.hovered = false;
        }
    };

    Chart.prototype._cancelDomEvents = function _cancelDomEvents () {
        if (this.domEvents && this.domEvents.cancel) {
            this.domEvents.cancel();
        }
    };

    Chart.prototype._gesturestart = function _gesturestart (e) {
        if (this._mousewheelZoom && !this._stopChartHandlers(e)) {
            this._gestureDistance = e.distance;
            this._unsetActivePoint();
            this.surface.suspendTracking();
        }
    };

    Chart.prototype._gestureend = function _gestureend (e) {
        if (this._zooming && !this._stopChartHandlers(e)) {
            if (this.surface) {
                this.surface.resumeTracking();
            }
            this._zooming = false;
            this.trigger(ZOOM_END, {});
        }
    };

    Chart.prototype._gesturechange = function _gesturechange (e) {
        var mousewheelZoom = this._mousewheelZoom;

        if (mousewheelZoom && !this._stopChartHandlers(e)) {
            e.preventDefault();
            var previousGestureDistance = this._gestureDistance;
            var scaleDelta = -e.distance / previousGestureDistance + 1;

            if (Math.abs(scaleDelta) >= 0.1) {
                scaleDelta = Math.round(scaleDelta * 10);

                this._gestureDistance = e.distance;
                var args = { delta: scaleDelta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };
                if (this._zooming || !this.trigger(ZOOM_START, args)) {
                    var coords = this._eventCoordinates(e);

                    if (!this._zooming) {
                        this._zooming = true;
                    }

                    var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta, coords);
                    if (ranges && !this.trigger(ZOOM, args)) {
                        mousewheelZoom.zoom();
                    }
                }
            }
        }
    };

    Chart.prototype._mouseout = function _mouseout (e) {
        if (e.element) {
            var element = this._drawingChartElement(e.element, e);

            if (element && element.leave) {
                element.leave(this, e.originalEvent);
            }
        }
    };

    Chart.prototype._start = function _start (e) {
        var coords = this._eventCoordinates(e);

        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {
            return;
        }


        if (this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ])) {
            this._startNavigation(e, coords, DRAG_START);
        }

        if (this._pannable && this._pannable.start(e)) {
            this.surface.suspendTracking();
            this._unsetActivePoint();
            this._suppressHover = true;
            this.chartService.panning = true;
        }

        if (this._zoomSelection) {
            if (this._zoomSelection.start(e)) {
                this.trigger(ZOOM_START, { axisRanges: axisRanges(this._plotArea.axes), originalEvent: e });
            }
        }
    };

    Chart.prototype._move = function _move (e) {
        var ref = this;
        var state = ref._navState;
        var pannable = ref._pannable;

        if (this._stopChartHandlers(e)) {
            return;
        }

        if (pannable) {
            var ranges = pannable.move(e);

            if (ranges && !this.trigger(DRAG, { axisRanges: ranges, originalEvent: e })) {
                pannable.pan();
            }
        } else if (state) {
            var ranges$1 = {};
            var axes = state.axes;

            for (var i = 0; i < axes.length; i++) {
                var currentAxis = axes[i];
                var axisName = currentAxis.options.name;
                if (axisName) {
                    var axis = currentAxis.options.vertical ? e.y : e.x;
                    var delta = axis.startLocation - axis.location;

                    if (delta !== 0) {
                        ranges$1[currentAxis.options.name] = currentAxis.translateRange(delta);
                    }
                }
            }

            state.axisRanges = ranges$1;
            this.trigger(DRAG, {
                axisRanges: ranges$1,
                originalEvent: e
            });
        }

        if (this._zoomSelection) {
            this._zoomSelection.move(e);
        }
    };

    Chart.prototype._end = function _end (e) {
        if (this._stopChartHandlers(e)) {
            return;
        }

        var pannable = this._pannable;
        if (pannable && pannable.end(e)) {
            this.surface.resumeTracking();
            this.trigger(DRAG_END, {
                axisRanges: axisRanges(this._plotArea.axes),
                originalEvent: e
            });
            this._suppressHover = false;
            this.chartService.panning = false;
        } else {
            this._endNavigation(e, DRAG_END);
        }

        if (this._zoomSelection) {
            var ranges = this._zoomSelection.end(e);
            if (ranges && !this.trigger(ZOOM, { axisRanges: ranges, originalEvent: e })) {
                this._zoomSelection.zoom();
                this.trigger(ZOOM_END, { axisRanges: ranges, originalEvent: e });
            }
        }
    };

    Chart.prototype._stopChartHandlers = function _stopChartHandlers (e) {
        var selections = this._selections || [];
        if (!selections.length) {
            return false;
        }

        var coords = this._eventCoordinates(e);
        var pane = this._plotArea.paneByPoint(coords);
        if (pane) {
            for (var idx = 0; idx < selections.length; idx++) {
                if (selections[idx].onPane(pane)) {
                    return true;
                }
            }
        }
    };

    Chart.prototype._mousewheelZoomRate = function _mousewheelZoomRate () {
        var zoomable = this.options.zoomable;
        var mousewheel = (zoomable || {}).mousewheel || {};
        return valueOrDefault(mousewheel.rate, MOUSEWHEEL_ZOOM_RATE);
    };

    Chart.prototype._mousewheel = function _mousewheel (e) {
        var this$1 = this;

        var delta = mousewheelDelta(e);
        var mousewheelZoom = this._mousewheelZoom;
        var coords = this._eventCoordinates(e);

        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {
            return;
        }

        if (mousewheelZoom) {
            var args = { delta: delta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };
            if (this._zooming || !this.trigger(ZOOM_START, args)) {
                e.preventDefault();

                if (!this._zooming) {
                    this._unsetActivePoint();
                    this.surface.suspendTracking();
                    this._zooming = true;
                }

                if (this._mwTimeout) {
                    clearTimeout(this._mwTimeout);
                }

                args.axisRanges = mousewheelZoom.updateRanges(delta, coords);
                if (args.axisRanges && !this.trigger(ZOOM, args)) {
                    mousewheelZoom.zoom();
                }

                this._mwTimeout = setTimeout(function () {
                    this$1.trigger(ZOOM_END, args);
                    this$1._zooming = false;
                    if (this$1.surface) {
                        this$1.surface.resumeTracking();
                    }
                }, MOUSEWHEEL_DELAY);
            }
        } else {
            var state = this._navState;
            if (!state) {
                var prevented = this._startNavigation(e, coords, ZOOM_START);
                if (!prevented) {
                    state = this._navState;
                }
            }

            if (state) {
                var totalDelta = state.totalDelta || delta;
                state.totalDelta = totalDelta + delta;

                var axes = this._navState.axes;
                var ranges = {};

                for (var i = 0; i < axes.length; i++) {
                    var currentAxis = axes[i];
                    var axisName = currentAxis.options.name;
                    if (axisName) {
                        ranges[axisName] = currentAxis.scaleRange(-totalDelta * this$1._mousewheelZoomRate(), coords);
                    }
                }

                this.trigger(ZOOM, {
                    delta: delta,
                    axisRanges: ranges,
                    originalEvent: e
                });

                if (this._mwTimeout) {
                    clearTimeout(this._mwTimeout);
                }

                this._mwTimeout = setTimeout(function () {
                    this$1._endNavigation(e, ZOOM_END);
                }, MOUSEWHEEL_DELAY);
            }
        }
    };

    Chart.prototype._startNavigation = function _startNavigation (e, coords, chartEvent) {
        var plotArea = this._model._plotArea;
        var pane = plotArea.findPointPane(coords);
        var axes = plotArea.axes.slice(0);

        if (!pane) {
            return;
        }

        var ranges = axisRanges(axes);

        var prevented = this.trigger(chartEvent, {
            axisRanges: ranges,
            originalEvent: e
        });

        if (prevented) {
            this._cancelDomEvents();
        } else {
            this._suppressHover = true;
            this._unsetActivePoint();
            this._navState = {
                axisRanges: ranges,
                pane: pane,
                axes: axes
            };
        }
    };

    Chart.prototype._endNavigation = function _endNavigation (e, chartEvent) {
        if (this._navState) {
            this.trigger(chartEvent, {
                axisRanges: this._navState.axisRanges,
                originalEvent: e
            });
            this._suppressHover = false;
            this._navState = null;
        }
    };

    Chart.prototype._getChartElement = function _getChartElement (e, match) {
        var element = this.surface.eventTarget(e);
        if (element) {
            return this._drawingChartElement(element, e, match);
        }
    };

    Chart.prototype._drawingChartElement = function _drawingChartElement (element, e, match) {
        var current = element;
        var chartElement;
        while (current && !chartElement) {
            chartElement = current.chartElement;
            current = current.parent;
        }

        if (chartElement) {
            if (chartElement.aliasFor) {
                chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));
            }

            if (match) {
                chartElement = chartElement.closest(match);
                if (chartElement && chartElement.aliasFor) {
                    chartElement = chartElement.aliasFor();
                }
            }

            return chartElement;
        }
    };

    Chart.prototype._eventCoordinates = function _eventCoordinates (e) {
        var coordinates = eventCoordinates(e);
        return this._toModelCoordinates(coordinates.x, coordinates.y);
    };

    Chart.prototype._elementPadding = function _elementPadding () {
        if (!this._padding) {
            var ref = elementStyles(this.element, [ "paddingLeft", "paddingTop" ]);
            var paddingLeft = ref.paddingLeft;
            var paddingTop = ref.paddingTop;
            this._padding = {
                top: paddingTop,
                left: paddingLeft
            };
        }

        return this._padding;
    };

    Chart.prototype._toDocumentCoordinates = function _toDocumentCoordinates (point) {
        var padding = this._elementPadding();
        var offset = elementOffset(this.element);

        return {
            left: round(point.x + padding.left + offset.left),
            top: round(point.y + padding.top + offset.top)
        };
    };

    // TODO: Breaking change due to peer version change
    // Reuse by exposing _surfacePoint on Surface
    Chart.prototype._toModelCoordinates = function _toModelCoordinates (clientX, clientY) {
        var element = this.element;
        var offset = elementOffset(element);
        var padding = this._elementPadding();
        var inverseTransform = elementScale(element).invert();
        var point = new _progress_kendoDrawing.geometry.Point(
            clientX - offset.left - padding.left,
            clientY - offset.top - padding.top
        ).transform(inverseTransform);

        return new Point(point.x, point.y);
    };

    Chart.prototype._tap = function _tap (e) {
        var this$1 = this;

        var drawingElement = this.surface.eventTarget(e);
        var element = this._drawingChartElement(drawingElement, e);
        var sharedTooltip = this._sharedTooltip();

        if (!this._startHover(drawingElement, e) && !sharedTooltip) {
            this._unsetActivePoint();
        }

        if (sharedTooltip) {
            this._trackSharedTooltip(this._eventCoordinates(e), e, true);
        }

        this._propagateClick(element, e);

        //part of fix for hover issue on windows touch
        this.handlingTap = true;
        setTimeout(function () {
            this$1.handlingTap = false;
        }, 0);
    };

    Chart.prototype._click = function _click (e) {
        var element = this._getChartElement(e);
        this._propagateClick(element, e);
    };

    Chart.prototype._propagateClick = function _propagateClick (element, e) {
        var this$1 = this;

        var current = element;
        while (current) {
            if (current.click) {
                current.click(this$1, e);
            }

            current = current.parent;
        }
    };

    Chart.prototype._startHover = function _startHover (element, e) {
        if (this._suppressHover) {
            return false;
        }

        var point = this._drawingChartElement(element, e, function(element) {
            return (element.hover || element.over) && !(element instanceof PlotAreaBase);
        });

        var activePoint = this._activePoint;
        var multipleSeries = this._plotArea.series.length > 1;
        var hasInactiveOpacity = this._hasInactiveOpacity();

        this._updateHoveredPoint(point, e);

        if (point && activePoint !== point && point.hover) {
            this._activePoint = point;

            if (!this._sharedTooltip() && !point.hover(this, e)) {
                this._displayTooltip(point);

                if (hasInactiveOpacity) {
                    this._displayInactiveOpacity(point, multipleSeries);
                } else {
                    this._highlight.show(point);
                }
            }
        } else if (!point && hasInactiveOpacity) {
            if (multipleSeries && this._activeChartInstance) {
                this._updateSeriesOpacity(point, true);
                this._applySeriesOpacity(this._activeChartInstance.children, null, true);
                this._activeChartInstance = null;
            }
            this._highlight && this._highlight.hide();
            this._activePoint = null;
        }

        return point;
    };

    Chart.prototype._displayTooltip = function _displayTooltip (point) {
        var tooltipOptions = deepExtend({}, this.options.tooltip, point.options.tooltip);
        if (tooltipOptions.visible) {
            this._tooltip.show(point);
        }
    };

    Chart.prototype._displayInactiveOpacity = function _displayInactiveOpacity (activePoint, multipleSeries, highlightPoints) {
        var chartInstance = this._activeChartInstance = this._chartInstanceFromPoint(activePoint);
        if (!chartInstance) {
            return;
        }

        if (multipleSeries) {
            this._updateSeriesOpacity(activePoint);
            this._applySeriesOpacity(chartInstance.children, null, true);
            this._applySeriesOpacity(chartInstance.children, activePoint.series);
            this._highlight.show(highlightPoints || activePoint);
        } else {
            var inactivePoints;

            if (!chartInstance.supportsPointInactiveOpacity()) {
                this._highlight.show(activePoint);
                return;
            }

            inactivePoints = this._getInactivePoints(activePoint, chartInstance);

            if (inactivePoints && inactivePoints.length) {
                this._highlight.show(inactivePoints, 1 - this._getInactiveOpacityForSeries(activePoint.series));
            }
        }
    };

    Chart.prototype._getInactivePoints = function _getInactivePoints (activePoint, chartInstance) {
        var allPoints = this._getAllPointsOfType(chartInstance, activePoint.constructor);

        return allPoints.filter(function (point) { return point !== activePoint; });
    };

    Chart.prototype._getAllPointsOfType = function _getAllPointsOfType (container, type) {
        var this$1 = this;

        var points = [];

        for (var i = 0; i < container.children.length; i++) {
            var element = container.children[i];

            if (element.constructor === type) {
                points.push(element);
            } else if (element.children && element.children.length) {
                points = points.concat(this$1._getAllPointsOfType(element, type));
            }
        }

        return points;
    };

    Chart.prototype._updateHoveredPoint = function _updateHoveredPoint (point, e) {
        var hoveredPoint = this._hoveredPoint;

        if (hoveredPoint && hoveredPoint !== point) {
            hoveredPoint.out(this, e);
            this._hoveredPoint = null;
        }

        if (point && hoveredPoint !== point && point.over) {
            this._hoveredPoint = point;
            point.over(this, e);
        }
    };

    Chart.prototype._updateSeriesOpacity = function _updateSeriesOpacity (point, resetOpacity) {
        var this$1 = this;

        var plotArea = this._plotArea;
        var length = plotArea.series.length;

        for (var i = 0; i < length; i++) {
            var currSeries = plotArea.series[i];
            var defaultOpacity = this$1._getDefaultOpacityForSeries(currSeries);
            var inactiveOpacity = this$1._getInactiveOpacityForSeries(currSeries);

            if (!resetOpacity && currSeries !== point.series) {
                currSeries.defaultOpacity = defaultOpacity;
                currSeries.opacity = inactiveOpacity;

                if (currSeries.line) {
                    currSeries.line.opacity = inactiveOpacity;
                }
            } else {
                currSeries.opacity = defaultOpacity;

                if (currSeries.line) {
                    currSeries.line.opacity = defaultOpacity;
                }
            }
        }
    };

    Chart.prototype._applySeriesOpacity = function _applySeriesOpacity (elements, activeSeries, reset, series) {
        var this$1 = this;

        for (var i = 0; i < elements.length; i++) {
            var element = elements[i];
            var currSeries = element.series || series;
            var shouldHighlight = currSeries && (currSeries.highlight || {}).visible;

            if (shouldHighlight && element.visual) {
                var opacity = series ? series.opacity : element.series.opacity;
                if (currSeries !== activeSeries || reset) {
                    element.visual.opacity(reset ? 1 : opacity);
                }
            }

            if (element.children && element.children.length) {
                this$1._applySeriesOpacity(element.children, activeSeries, reset, element.series);
            }
        }
    };

    Chart.prototype._chartInstanceFromPoint = function _chartInstanceFromPoint (point) {
        var chartInstance = point.parent;

        while (chartInstance && !chartInstance.plotArea) {
            chartInstance = chartInstance.parent;
        }

        return chartInstance;
    };

    Chart.prototype._hasInactiveOpacity = function _hasInactiveOpacity () {
        var hasDefaultInactiveOpacity = this.options.seriesDefaults.highlight.inactiveOpacity !== undefined;
        var hasInactiveOpacity = this.options.series.filter(function (s) { return s.highlight.inactiveOpacity !== undefined; } ).length > 0;
        return hasDefaultInactiveOpacity || hasInactiveOpacity;
    };

    Chart.prototype._getInactiveOpacityForSeries = function _getInactiveOpacityForSeries (series) {
        var defaultInactiveOpacity = this.options.seriesDefaults.highlight.inactiveOpacity;
        var seriesInactiveOpacity = series.highlight.inactiveOpacity;
        return seriesInactiveOpacity || defaultInactiveOpacity || series.opacity || DEFAULT_SERIES_OPACITY;
    };

    Chart.prototype._getDefaultOpacityForSeries = function _getDefaultOpacityForSeries (series) {
        return series.defaultOpacity || series.opacity || DEFAULT_SERIES_OPACITY;
    };

    Chart.prototype._mouseover = function _mouseover (e) {
        var point = this._startHover(e.element, e.originalEvent);

        if (point && point.tooltipTracking && !this._mouseMoveTrackHandler && !this._sharedTooltip()) {
            this._mouseMoveTrackHandler = this._mouseMoveTracking.bind(this);
            var obj;
            bindEvents$1$1(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));
        }
    };

    Chart.prototype._mouseMoveTracking = function _mouseMoveTracking (e) {
        var ref = this;
        var options = ref.options;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;
        var point = ref._activePoint;
        var coords = this._eventCoordinates(e);

        if (this._plotArea.box.containsPoint(coords)) {
            if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {
                var seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);
                if (seriesPoint && seriesPoint !== point) {
                    this._activePoint = seriesPoint;

                    if (!seriesPoint.hover(this, e)) {
                        var tooltipOptions = deepExtend({}, options.tooltip, seriesPoint.options.tooltip);
                        if (tooltipOptions.visible) {
                            tooltip.show(seriesPoint);
                        }

                        highlight.show(seriesPoint);
                    }
                }
            }
        } else {
            var obj;
            unbindEvents$1(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));
            this._unsetActivePoint();
            this._mouseMoveTrackHandler = null;
        }
    };

    Chart.prototype._mousemove = function _mousemove (e) {
        var coords = this._eventCoordinates(e);
        var plotArea = this._plotArea;

        this._trackCrosshairs(coords);

        if (plotArea.hover) {
            var overPlotArea = plotArea.backgroundContainsPoint(coords);
            if (overPlotArea) {
                plotArea.hovered = true;
                this._plotArea.hover(this, e);
            } else if (plotArea.hovered && !overPlotArea) {
                this.trigger(PLOT_AREA_LEAVE);
                plotArea.hovered = false;
            }
        }

        if (this._sharedTooltip()) {
            this._trackSharedTooltip(coords, e);
        }
    };

    Chart.prototype._trackCrosshairs = function _trackCrosshairs (coords) {
        var crosshairs = this._plotArea.crosshairs;

        for (var i = 0; i < crosshairs.length; i++) {
            var current = crosshairs[i];

            if (current.box.containsPoint(coords)) {
                current.showAt(coords);
            } else {
                current.hide();
            }
        }
    };

    Chart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords, e, toggle) {
        if (this._suppressHover) {
            return;
        }

        var ref = this;
        var tooltipOptions = ref.options.tooltip;
        var plotArea = ref._plotArea;
        var categoryAxis = ref._plotArea.categoryAxis;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;

        if (plotArea.backgroundContainsPoint(coords)) {
            var index = categoryAxis.pointCategoryIndex(coords);
            if (index !== this._tooltipCategoryIx || (!this._sharedHighlight && toggle)) {
                var points = plotArea.pointsByCategoryIndex(index);
                var pointArgs = points.map(function(point) {
                    return point.eventArgs(e);
                });
                var hoverArgs = pointArgs[0] || {};
                hoverArgs.categoryPoints = pointArgs;

                if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {
                    if (tooltipOptions.visible) {
                        tooltip.showAt(points, coords);
                    }

                    highlight.show(points);

                    this._sharedHighlight = true;
                } else {
                    tooltip.hide();
                }

                this._tooltipCategoryIx = index;
            } else if (toggle && this._sharedHighlight) {
                highlight.hide();
                tooltip.hide();
                this._sharedHighlight = false;
            }
        } else if (this._sharedHighlight) {
            highlight.hide();
            tooltip.hide();
            this._tooltipCategoryIx = null;
            this._sharedHighlight = false;
        }
    };

    Chart.prototype.hideElements = function hideElements (options) {
        var plotArea = this._plotArea;
        this._mousemove.cancel();

        plotArea.hideCrosshairs();

        this._unsetActivePoint(options);
    };

    Chart.prototype._unsetActivePoint = function _unsetActivePoint (options) {
        var ref = this;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;

        this._activePoint = null;
        this._hoveredPoint = null;

        if (tooltip && !(options && options.keepTooltipOpen)) {
            tooltip.hide();
        }

        this._tooltipCategoryIx = null;
        this._sharedHighlight = false;

        if (highlight) {
            highlight.hide();
        }
    };

    Chart.prototype._deferRedraw = function _deferRedraw () {
        this._redraw();
    };

    Chart.prototype._clearRedrawTimeout = function _clearRedrawTimeout () {
        if (this._redrawTimeout) {
            clearInterval(this._redrawTimeout);
            this._redrawTimeout = null;
        }
    };

    Chart.prototype.bindCategories = function bindCategories () {
        var this$1 = this;

        var options = this.options;
        var definitions = [].concat(options.categoryAxis);

        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {
            var axis = definitions[axisIx];
            if (axis.autoBind !== false) {
                this$1.bindCategoryAxisFromSeries(axis, axisIx);
            }
        }
    };

    Chart.prototype.bindCategoryAxisFromSeries = function bindCategoryAxisFromSeries (axis, axisIx) {
        var this$1 = this;

        var series = this.options.series;
        var seriesLength = series.length;
        var uniqueCategories = new HashMap();//perf improvement in case type category with dates
        var items = [];
        var bindable = false;
        var dateAxis;

        for (var seriesIx = 0; seriesIx < seriesLength; seriesIx++) {
            var s = series[seriesIx];
            var onAxis = s.categoryAxis === axis.name || (!s.categoryAxis && axisIx === 0);
            var data = s.data;
            var dataLength = data.length;
            var bind = s.categoryField && onAxis;
            bindable = bind || bindable;

            if (bind && dataLength > 0) {
                dateAxis = isDateAxis(axis, getField(s.categoryField, data[0]));

                var getFn = dateAxis ? getDateField : getField;

                for (var dataIx = 0; dataIx < dataLength; dataIx++) {
                    var dataRow = data[dataIx];
                    var category = getFn(s.categoryField, dataRow, this$1.chartService.intl);

                    if (dateAxis || !uniqueCategories.get(category)) {
                        items.push([ category, dataRow ]);

                        if (!dateAxis) {
                            uniqueCategories.set(category, true);
                        }
                    }
                }
            }
        }

        if (items.length > 0) {
            if (dateAxis) {
                items = uniqueDates(items, function(a, b) {
                    return dateComparer(a[0], b[0]);
                });
            }

            var result = transpose(items);
            axis.categories = result[0];
        } else if (bindable) {
            axis.categories = [];
        }
    };

    Chart.prototype._isBindable = function _isBindable (series) {
        var valueFields = SeriesBinder.current.valueFields(series);
        var result = true;

        for (var i = 0; i < valueFields.length; i++) {
            var field = valueFields[i];
            if (field === VALUE) {
                field = "field";
            } else {
                field = field + "Field";
            }

            if (!defined(series[field])) {
                result = false;
                break;
            }
        }

        return result;
    };

    Chart.prototype._noTransitionsRedraw = function _noTransitionsRedraw () {
        var options = this.options;
        var transitionsState;

        if (options.transitions !== false) {
            options.transitions = false;
            transitionsState = true;
        }

        this._redraw();

        if (transitionsState) {
            options.transitions = true;
        }
    };

    Chart.prototype._legendItemHover = function _legendItemHover (seriesIndex, pointIndex) {
        var ref = this;
        var plotArea = ref._plotArea;
        var highlight = ref._highlight;
        var currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex];
        var items;

        if (inArray(currentSeries.type, [ PIE, DONUT, FUNNEL ])) {
            items = plotArea.findPoint(function(point) {
                return point.series.index === seriesIndex && point.index === pointIndex;
            });
        } else {
            items = plotArea.pointsBySeriesIndex(seriesIndex);
        }

        if (this._hasInactiveOpacity() && currentSeries.visible && items) {
            var multipleSeries = plotArea.series.length > 1;
            var point = items.length ? items[0] : items;

            this._displayInactiveOpacity(point, multipleSeries, items);
        } else {
            highlight.show(items);
        }
    };

    Chart.prototype._shouldAttachMouseMove = function _shouldAttachMouseMove () {
        return this._plotArea.crosshairs.length || (this._tooltip && this._sharedTooltip()) || this.requiresHandlers([ PLOT_AREA_HOVER, PLOT_AREA_LEAVE ]);
    };

    Chart.prototype.updateMouseMoveHandler = function updateMouseMoveHandler () {
        var obj;
        unbindEvents$1(this.element, ( obj = {}, obj[ MOUSEMOVE ] = this._mousemove, obj ));

        if (this._shouldAttachMouseMove()) {
            var obj$1;
            bindEvents$1$1(this.element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));
        }
    };

    Chart.prototype.applyOptions = function applyOptions (options, theme) {
        clearMissingValues(this._originalOptions, options);
        this._originalOptions = deepExtend(this._originalOptions, options);
        this.options = deepExtend({}, this._originalOptions);

        if (theme) {
            this._theme = theme;
            this.chartService.theme = theme;
        }
        this._initTheme(this.options, this._theme);

        this._toggleDragZoomEvents();
    };

    Chart.prototype.setOptions = function setOptions (options, theme) {
        this.applyOptions(options, theme);
        this.bindCategories();
        this.redraw();
        this.updateMouseMoveHandler();
    };

    Chart.prototype.setDirection = function setDirection (rtl) {
        this.chartService.rtl = Boolean(rtl);
        if (this.surface && this.surface.type === 'svg') {
            this._destroySurface();
        }
    };

    Chart.prototype.setIntlService = function setIntlService (intl) {
        this.chartService.intl = intl;
    };

    Chart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        this._noTransitionsRedraw();
    };

    Chart.prototype.destroy = function destroy () {
        this._destroyed = true;

        var obj;
        unbindEvents$1(this.element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj[ MOUSEMOVE ] = this._mousemove, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj ));

        if (this.domEvents) {
            this.domEvents.destroy();
            delete this.domEvents;
        }

        if (this._mouseMoveTrackHandler) {
            var obj$1;
            unbindEvents$1(document, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj$1 ));
        }

        this._destroyView();

        this._destroySurface();

        this._clearRedrawTimeout();
    };

    Chart.prototype._destroySurface = function _destroySurface () {
        var surface = this.surface;
        if (surface) {
            surface.unbind("mouseenter", this._surfaceMouseenterHandler);
            surface.unbind("mouseleave", this._surfaceMouseleaveHandler);
            surface.destroy();

            this.surface = null;
        }
    };

    Chart.prototype._destroySelections = function _destroySelections () {
        var selections = this._selections;

        if (selections) {
            while (selections.length > 0) {
                selections.shift().destroy();
            }
        }
    };

    Chart.prototype._destroyView = function _destroyView () {
        var model = this._model;

        if (model) {
            model.destroy();
            this._model = null;
        }

        this._unsetActivePoint();

        this._destroySelections();

        if (this._tooltip) {
            this._tooltip.destroy();
        }

        if (this._highlight) {
            this._highlight.destroy();
        }

        if (this._zoomSelection) {
            this._zoomSelection.destroy();
            delete this._zoomSelection;
        }

        if (this._pannable) {
            this._pannable.destroy();
            delete this._pannable;
        }

        if (this._mousewheelZoom) {
            this._mousewheelZoom.destroy();
            delete this._mousewheelZoom;
        }
    };

    return Chart;
}(_progress_kendoDrawing.Class));

function resolveAxisAliases(options) {
    var aliases = AXIS_NAMES;

    for (var idx = 0; idx < aliases.length; idx++) {
        var alias = aliases[idx] + "Axes";
        if (options[alias]) {
            options[aliases[idx] + "Axis"] = options[alias];
            delete options[alias];
        }
    }
}

function pointByCategoryName(points, name) {
    if (points) {
        for (var idx = 0; idx < points.length; idx++) {
            if (points[idx].category === name) {
                return [ points[idx] ];
            }
        }
    }
}

function applyAxisDefaults(options, themeOptions) {
    var themeAxisDefaults = ((themeOptions || {}).axisDefaults) || {};
    var axisName, axisDefaults, axes;

    function mapAxisOptions(axisOptions) {
        var axisColor = (axisOptions || {}).color || axisDefaults.color;
        var result = deepExtend({},
            themeAxisDefaults,
            themeAxisDefaults[axisName],
            axisDefaults,
            axisDefaults[axisName], {
                line: { color: axisColor },
                labels: { color: axisColor },
                title: { color: axisColor }
            },
            axisOptions
        );

        delete result[axisName];

        return result;
    }

    for (var idx = 0; idx < AXIS_NAMES.length; idx++) {
        axisName = AXIS_NAMES[idx] + "Axis";
        axisDefaults = options.axisDefaults || {};
        axes = [].concat(options[axisName]);

        axes = axes.map(mapAxisOptions);

        options[axisName] = axes.length > 1 ? axes : axes[0];
    }
}

function applySeriesDefaults(options, themeOptions) {
    var series = options.series;
    var seriesLength = series.length;
    var seriesDefaults = options.seriesDefaults;
    var commonDefaults = deepExtend({}, options.seriesDefaults);
    var themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {};
    var commonThemeDefaults = deepExtend({}, themeSeriesDefaults);

    cleanupNestedSeriesDefaults(commonDefaults);
    cleanupNestedSeriesDefaults(commonThemeDefaults);

    for (var i = 0; i < seriesLength; i++) {
        var seriesType = series[i].type || options.seriesDefaults.type;

        var baseOptions = deepExtend(
            { data: [] },
            commonThemeDefaults,
            themeSeriesDefaults[seriesType],
            { tooltip: options.tooltip },
            commonDefaults,
            seriesDefaults[seriesType]
        );

        series[i]._defaults = baseOptions;
        series[i] = deepExtend({}, baseOptions, series[i]);
        series[i].data = series[i].data || [];
    }
}

function cleanupNestedSeriesDefaults(seriesDefaults) {
    delete seriesDefaults.bar;
    delete seriesDefaults.column;
    delete seriesDefaults.rangeColumn;
    delete seriesDefaults.line;
    delete seriesDefaults.verticalLine;
    delete seriesDefaults.pie;
    delete seriesDefaults.donut;
    delete seriesDefaults.area;
    delete seriesDefaults.verticalArea;
    delete seriesDefaults.scatter;
    delete seriesDefaults.scatterLine;
    delete seriesDefaults.bubble;
    delete seriesDefaults.candlestick;
    delete seriesDefaults.ohlc;
    delete seriesDefaults.boxPlot;
    delete seriesDefaults.bullet;
    delete seriesDefaults.verticalBullet;
    delete seriesDefaults.polarArea;
    delete seriesDefaults.polarLine;
    delete seriesDefaults.radarArea;
    delete seriesDefaults.radarLine;
    delete seriesDefaults.waterfall;
}


function axisRanges(axes) {
    var ranges = {};

    for (var i = 0; i < axes.length; i++) {
        var axis = axes[i];
        var axisName = axis.options.name;
        if (axisName) {
            ranges[axisName] = axis.range();
        }
    }

    return ranges;
}

function sortDates(dates, comparer) {
    if ( comparer === void 0 ) comparer = dateComparer;

    for (var i = 1, length = dates.length; i < length; i++) {
        if (comparer(dates[i], dates[i - 1]) < 0) {
            dates.sort(comparer);
            break;
        }
    }

    return dates;
}

function uniqueDates(srcDates, comparer) {
    if ( comparer === void 0 ) comparer = dateComparer;

    var dates = sortDates(srcDates, comparer);
    var length = dates.length;
    var result = length > 0 ? [ dates[0] ] : [];

    for (var i = 1; i < length; i++) {
        if (comparer(dates[i], last(result)) !== 0) {
            result.push(dates[i]);
        }
    }

    return result;
}

function transpose(rows) {
    var rowCount = rows.length;
    var result = [];

    for (var rowIx = 0; rowIx < rowCount; rowIx++) {
        var row = rows[rowIx];
        var colCount = row.length;

        for (var colIx = 0; colIx < colCount; colIx++) {
            result[colIx] = result[colIx] || [];
            result[colIx].push(row[colIx]);
        }
    }

    return result;
}

var DATA_FIELDS = [ 'data', 'categories' ];

function clearMissingValues(originalOptions, options) {
    for (var field in options) {
        if (!inArray(field, DATA_FIELDS) && options.hasOwnProperty(field)) {
            var fieldValue = options[field];
            var originalValue = originalOptions[field];
            if (defined(originalValue)) {
                var nullValue = fieldValue === null;
                if ((nullValue || !defined(fieldValue))) {
                    delete originalOptions[field];
                    if (nullValue) {
                        delete options[field];
                    }
                } else if (originalValue && isObject(fieldValue)) {
                    if (isObject(originalValue)) {
                        clearMissingValues(originalValue, fieldValue);
                    }
                }
            }
        }
    }
}

function triggerPaneRender(panes) {
    for (var idx = 0; idx < panes.length; idx++) {
        panes[idx].notifyRender();
    }
}

setDefaultOptions(Chart, {
    renderAs: "",
    chartArea: {},
    legend: {
        visible: true,
        labels: {}
    },
    categoryAxis: {},
    seriesDefaults: {
        type: COLUMN,
        data: [],
        highlight: {
            visible: true
        },
        labels: {},
        negativeValues: {
            visible: false
        }
    },
    series: [],
    seriesColors: null,
    tooltip: {
        visible: false
    },
    transitions: true,
    valueAxis: {},
    plotArea: {},
    title: {},
    xAxis: {},
    yAxis: {},
    panes: [ {} ],
    pannable: false,
    zoomable: false
});

var TOP_OFFSET = -2;

var SharedTooltip$1 = (function (ChartSharedTooltip) {
    function SharedTooltip$$1 () {
        ChartSharedTooltip.apply(this, arguments);
    }

    if ( ChartSharedTooltip ) SharedTooltip$$1.__proto__ = ChartSharedTooltip;
    SharedTooltip$$1.prototype = Object.create( ChartSharedTooltip && ChartSharedTooltip.prototype );
    SharedTooltip$$1.prototype.constructor = SharedTooltip$$1;

    SharedTooltip$$1.prototype._slotAnchor = function _slotAnchor (coords, slot) {
        var axis = this.plotArea.categoryAxis;
        var vertical = axis.options.vertical;
        var align = vertical ? {
            horizontal: "left",
            vertical: "center"
        } : {
            horizontal: "center",
            vertical: "bottom"
        };

        var point;

        if (vertical) {
            point = new Point(this.plotArea.box.x2, slot.center().y);
        } else {
            point = new Point(slot.center().x, TOP_OFFSET);
        }

        return {
            point: point,
            align: align
        };
    };

    SharedTooltip$$1.prototype._defaultAnchor = function _defaultAnchor (point, slot) {
        return this._slotAnchor({}, slot);
    };

    return SharedTooltip$$1;
}(SharedTooltip));

var DEAULT_BAR_WIDTH = 150;
var DEAULT_BULLET_WIDTH = 150;
var NO_CROSSHAIR = [ BAR, BULLET ];

function hide$1(children) {
    var state = [];
    for (var idx = 0; idx < children.length; idx++) {
        var child = children[idx];
        state[idx] = child.style.display;
        child.style.display = "none";
    }

    return state;
}

function show$1(children, state) {
    for (var idx = 0; idx < children.length; idx++) {
        children[idx].style.display = state[idx];
    }
}

function wrapNumber(value) {
    return isNumber(value) ? [ value ] : value;
}

var Sparkline = (function (Chart$$1) {
    function Sparkline () {
        Chart$$1.apply(this, arguments);
    }

    if ( Chart$$1 ) Sparkline.__proto__ = Chart$$1;
    Sparkline.prototype = Object.create( Chart$$1 && Chart$$1.prototype );
    Sparkline.prototype.constructor = Sparkline;

    Sparkline.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, 'k-sparkline');
    };

    Sparkline.prototype._initElement = function _initElement (element) {
        Chart$$1.prototype._initElement.call(this, element);

        this._initialWidth = Math.floor(elementSize$1(element).width);
    };

    Sparkline.prototype._resize = function _resize () {
        var element = this.element;
        var state = hide$1(element.childNodes);

        this._initialWidth = Math.floor(elementSize$1(element).width);

        show$1(element.childNodes, state);

        Chart$$1.prototype._resize.call(this);
    };

    Sparkline.prototype._modelOptions = function _modelOptions () {
        var chartOptions = this.options;
        var stage = this._surfaceWrap();
        var displayState = hide$1(stage.childNodes);

        var space = document.createElement('span');
        space.innerHTML = '&nbsp;';

        stage.appendChild(space);

        var options = deepExtend({
            width: this._autoWidth,
            height: elementSize$1(stage).height,
            transitions: chartOptions.transitions
        }, chartOptions.chartArea, {
            inline: true,
            align: false
        });

        elementSize$1(stage, {
            width: options.width,
            height: options.height
        });

        stage.removeChild(space);

        show$1(stage.childNodes, displayState);

        if (this.surface) {
            this.surface.resize();
        }

        return options;
    };

    Sparkline.prototype._surfaceWrap = function _surfaceWrap () {
        if (!this.stage) {
            var stage = this.stage = document.createElement('span');
            this.element.appendChild(stage);
        }
        return this.stage;
    };

    Sparkline.prototype._createPlotArea = function _createPlotArea (skipSeries) {
        var plotArea = Chart$$1.prototype._createPlotArea.call(this, skipSeries);
        this._autoWidth = this._initialWidth || this._calculateWidth(plotArea);

        return plotArea;
    };

    Sparkline.prototype._calculateWidth = function _calculateWidth (plotArea) {
        var options = this.options;
        var margin = getSpacing(options.chartArea.margin);
        var charts = plotArea.charts;
        var stage = this._surfaceWrap();
        var total = 0;


        for (var i = 0; i < charts.length; i++) {
            var currentChart = charts[i];
            var firstSeries = (currentChart.options.series || [])[0];
            if (!firstSeries) {
                continue;
            }

            if (firstSeries.type === BAR) {
                return DEAULT_BAR_WIDTH;
            }

            if (firstSeries.type === BULLET) {
                return DEAULT_BULLET_WIDTH;
            }

            if (firstSeries.type === PIE) {
                return elementSize$1(stage).height;
            }

            var categoryAxis = currentChart.categoryAxis;
            if (categoryAxis) {
                var pointsCount = categoryAxis.categoriesCount() *
                    (!currentChart.options.isStacked && inArray(firstSeries.type, [ COLUMN, VERTICAL_BULLET ]) ? currentChart.seriesOptions.length : 1);

                total = Math.max(total, pointsCount);
            }
        }

        var size = total * options.pointWidth;
        if (size > 0) {
            size += margin.left + margin.right;
        }

        return size;
    };

    Sparkline.prototype._createSharedTooltip = function _createSharedTooltip (options) {
        return new SharedTooltip$1(this._plotArea, options);
    };

    Sparkline.normalizeOptions = function normalizeOptions (userOptions) {
        var options = wrapNumber(userOptions);

        if (isArray(options)) {
            options = { seriesDefaults: { data: options } };
        } else {
            options = deepExtend({}, options);
        }

        if (!options.series) {
            options.series = [ { data: wrapNumber(options.data) } ];
        }

        deepExtend(options, {
            seriesDefaults: {
                type: options.type
            }
        });

        if (inArray(options.series[0].type, NO_CROSSHAIR) ||
            inArray(options.seriesDefaults.type, NO_CROSSHAIR)) {
            options = deepExtend({}, {
                categoryAxis: {
                    crosshair: {
                        visible: false
                    }
                }
            }, options);
        }

        return options;
    };

    return Sparkline;
}(Chart));

setDefaultOptions(Sparkline, {
    chartArea: {
        margin: 2
    },
    axisDefaults: {
        visible: false,
        majorGridLines: {
            visible: false
        },
        valueAxis: {
            narrowRange: true
        }
    },
    seriesDefaults: {
        type: "line",
        area: {
            line: {
                width: 0.5
            }
        },
        bar: {
            stack: true
        },
        padding: 2,
        width: 0.5,
        overlay: {
            gradient: null
        },
        highlight: {
            visible: false
        },
        border: {
            width: 0
        },
        markers: {
            size: 2,
            visible: false
        }
    },
    tooltip: {
        visible: true,
        shared: true
    },
    categoryAxis: {
        crosshair: {
            visible: true,
            tooltip: {
                visible: false
            }
        }
    },
    legend: {
        visible: false
    },
    transitions: false,

    pointWidth: 5,

    panes: [ { clip: false } ]
});

var FadeOutAnimation = (function (superclass) {
    function FadeOutAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) FadeOutAnimation.__proto__ = superclass;
    FadeOutAnimation.prototype = Object.create( superclass && superclass.prototype );
    FadeOutAnimation.prototype.constructor = FadeOutAnimation;

    FadeOutAnimation.prototype.setup = function setup () {
        this._initialOpacity = parseFloat(elementStyles(this.element, 'opacity').opacity);
    };

    FadeOutAnimation.prototype.step = function step (pos) {
        elementStyles(this.element, {
            opacity: String(interpolateValue(this._initialOpacity, 0, pos))
        });
    };

    FadeOutAnimation.prototype.abort = function abort () {
        superclass.prototype.abort.call(this);
        elementStyles(this.element, {
            display: 'none',
            opacity: String(this._initialOpacity)
        });
    };

    FadeOutAnimation.prototype.cancel = function cancel () {
        superclass.prototype.abort.call(this);
        elementStyles(this.element, {
            opacity: String(this._initialOpacity)
        });
    };

    return FadeOutAnimation;
}(_progress_kendoDrawing.drawing.Animation));

function createDiv$1(className, style) {
    var div = document.createElement("div");
    div.className = className;
    if (style) {
        div.style.cssText = style;
    }

    return div;
}

var NavigatorHint = (function (Class$$1) {
    function NavigatorHint(container, chartService, options) {
        Class$$1.call(this);

        this.options = deepExtend({}, this.options, options);
        this.container = container;
        this.chartService = chartService;

        var padding = elementStyles(container, [ "paddingLeft", "paddingTop" ]);
        this.chartPadding = {
            top: padding.paddingTop,
            left: padding.paddingLeft
        };

        this.createElements();
        container.appendChild(this.element);
    }

    if ( Class$$1 ) NavigatorHint.__proto__ = Class$$1;
    NavigatorHint.prototype = Object.create( Class$$1 && Class$$1.prototype );
    NavigatorHint.prototype.constructor = NavigatorHint;

    NavigatorHint.prototype.createElements = function createElements () {
        var element = this.element = createDiv$1('k-navigator-hint', 'display: none; position: absolute; top: 1px; left: 1px;');
        var tooltip = this.tooltip = createDiv$1('k-tooltip k-chart-tooltip');
        var scroll = this.scroll = createDiv$1('k-scroll');

        tooltip.innerHTML = '&nbsp;';

        element.appendChild(tooltip);
        element.appendChild(scroll);
    };

    NavigatorHint.prototype.show = function show (from, to, bbox) {
        var ref = this;
        var element = ref.element;
        var options = ref.options;
        var scroll = ref.scroll;
        var tooltip = ref.tooltip;
        var middle = toDate(toTime(from) + toTime(to - from) / 2);
        var scrollWidth = bbox.width() * 0.4;
        var minPos = bbox.center().x - scrollWidth;
        var maxPos = bbox.center().x;
        var posRange = maxPos - minPos;
        var range = options.max - options.min;
        var scale = posRange / range;
        var offset = middle - options.min;
        var text = this.chartService.intl.format(options.format, from, to);
        var template = getTemplate(options);

        this.clearHideTimeout();

        if (!this._visible) {
            elementStyles(element, {
                visibility: 'hidden',
                display: 'block'
            });
            this._visible = true;
        }

        if (template) {
            text = template({
                from: from,
                to: to
            });
        }

        tooltip.innerHTML = text;
        elementStyles(tooltip, {
            left: bbox.center().x - tooltip.offsetWidth / 2,
            top: bbox.y1
        });

        var tooltipStyle = elementStyles(tooltip, [ 'marginTop', 'borderTopWidth', 'height' ]);

        elementStyles(scroll, {
            width: scrollWidth,
            left: minPos + offset * scale,
            top: bbox.y1 + tooltipStyle.marginTop + tooltipStyle.borderTopWidth + tooltipStyle.height / 2
        });

        elementStyles(element, {
            visibility: 'visible'
        });
    };

    NavigatorHint.prototype.clearHideTimeout = function clearHideTimeout () {
        if (this._hideTimeout) {
            clearTimeout(this._hideTimeout);
        }

        if (this._hideAnimation) {
            this._hideAnimation.cancel();
        }
    };

    NavigatorHint.prototype.hide = function hide () {
        var this$1 = this;

        this.clearHideTimeout();

        this._hideTimeout = setTimeout(function () {
            this$1._visible = false;
            this$1._hideAnimation = new FadeOutAnimation(this$1.element);
            this$1._hideAnimation.setup();
            this$1._hideAnimation.play();
        }, this.options.hideDelay);
    };

    NavigatorHint.prototype.destroy = function destroy () {
        this.clearHideTimeout();
        if (this.container) {
            this.container.removeChild(this.element);
        }
        delete this.container;
        delete this.chartService;
        delete this.element;
        delete this.tooltip;
        delete this.scroll;
    };

    return NavigatorHint;
}(_progress_kendoDrawing.Class));

setDefaultOptions(NavigatorHint, {
    format: "{0:d} - {1:d}",
    hideDelay: 500
});

var NAVIGATOR_PANE = "_navigator";
var NAVIGATOR_AXIS = NAVIGATOR_PANE;



var constants = Object.freeze({
	NAVIGATOR_AXIS: NAVIGATOR_AXIS,
	NAVIGATOR_PANE: NAVIGATOR_PANE
});

var ZOOM_ACCELERATION$1 = 3;

var Navigator = (function (Class$$1) {
    function Navigator(chart) {
        Class$$1.call(this);

        this.chart = chart;
        var options = this.options = deepExtend({}, this.options, chart.options.navigator);
        var select = options.select;
        if (select) {
            select.from = this.parseDate(select.from);
            select.to = this.parseDate(select.to);
        }

        if (!defined(options.hint.visible)) {
            options.hint.visible = options.visible;
        }

        var obj;
        this.chartObserver = new InstanceObserver(this, ( obj = {}, obj[DRAG] = '_drag', obj[DRAG_END] = '_dragEnd', obj[ZOOM] = '_zoom', obj[ZOOM_END] = '_zoomEnd', obj ));
        chart.addObserver(this.chartObserver);
    }

    if ( Class$$1 ) Navigator.__proto__ = Class$$1;
    Navigator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Navigator.prototype.constructor = Navigator;

    Navigator.prototype.parseDate = function parseDate$1 (value) {
        return parseDate(this.chart.chartService.intl, value);
    };

    Navigator.prototype.clean = function clean () {
        if (this.selection) {
            this.selection.destroy();
            this.selection = null;
        }

        if (this.hint) {
            this.hint.destroy();
            this.hint = null;
        }
    };

    Navigator.prototype.destroy = function destroy () {
        if (this.chart) {
            this.chart.removeObserver(this.chartObserver);
            delete this.chart;
        }

        this.clean();
    };

    Navigator.prototype.redraw = function redraw () {
        this._redrawSelf();
        this.initSelection();
    };

    Navigator.prototype.initSelection = function initSelection () {
        var ref = this;
        var chart = ref.chart;
        var options = ref.options;
        var axis = this.mainAxis();
        var ref$1 = axis.roundedRange();
        var min = ref$1.min;
        var max = ref$1.max;
        var ref$2 = options.select;
        var from = ref$2.from;
        var to = ref$2.to;
        var mousewheel = ref$2.mousewheel;
        var axisClone = clone$1(axis);

        if (axis.categoriesCount() === 0) {
            return;
        }

        this.clean();

        // "Freeze" the selection axis position until the next redraw
        axisClone.box = axis.box;

        this.selection = new Selection(chart, axisClone, {
            min: min,
            max: max,
            from: from || min,
            to: to || max,
            mousewheel: valueOrDefault(mousewheel, { zoom: "left" }),
            visible: options.visible
        }, new InstanceObserver(this, {
            selectStart: '_selectStart',
            select: '_select',
            selectEnd: '_selectEnd'
        }));

        if (options.hint.visible) {
            this.hint = new NavigatorHint(chart.element, chart.chartService, {
                min: min,
                max: max,
                template: getTemplate(options.hint),
                format: options.hint.format
            });
        }
    };

    Navigator.prototype.setRange = function setRange () {
        var plotArea = this.chart._createPlotArea(true);
        var axis = plotArea.namedCategoryAxes[NAVIGATOR_AXIS];

        var ref = axis.roundedRange();
        var min = ref.min;
        var max = ref.max;

        var select = this.options.select || {};
        var from = select.from || min;
        if (from < min) {
            from = min;
        }

        var to = select.to || max;
        if (to > max) {
            to = max;
        }

        this.options.select = deepExtend({}, select, {
            from: from,
            to: to
        });

        this.filterAxes();
    };

    Navigator.prototype._redrawSelf = function _redrawSelf (silent) {
        var plotArea = this.chart._plotArea;

        if (plotArea) {
            plotArea.redraw(last(plotArea.panes), silent);
        }
    };

    Navigator.prototype.redrawSlaves = function redrawSlaves () {
        var chart = this.chart;
        var plotArea = chart._plotArea;
        var slavePanes = plotArea.panes.slice(0, -1);

        // Update the original series and categoryAxis before partial refresh.
        plotArea.srcSeries = chart.options.series;
        plotArea.options.categoryAxis = chart.options.categoryAxis;
        plotArea.clearSeriesPointsCache();

        plotArea.redraw(slavePanes);
    };

    Navigator.prototype._drag = function _drag (e) {
        var ref = this;
        var chart = ref.chart;
        var selection = ref.selection;
        var coords = chart._eventCoordinates(e.originalEvent);
        var navigatorAxis = this.mainAxis();
        var naviRange = navigatorAxis.roundedRange();
        var inNavigator = navigatorAxis.pane.box.containsPoint(coords);
        var axis = chart._plotArea.categoryAxis;
        var range = e.axisRanges[axis.options.name];
        var select = this.options.select;
        var duration$$1;

        if (!range || inNavigator || !selection) {
            return;
        }

        if (select.from && select.to) {
            duration$$1 = toTime(select.to) - toTime(select.from);
        } else {
            duration$$1 = toTime(selection.options.to) - toTime(selection.options.from);
        }

        var from = toDate(limitValue(
            toTime(range.min),
            naviRange.min, toTime(naviRange.max) - duration$$1
        ));

        var to = toDate(limitValue(
            toTime(from) + duration$$1,
            toTime(naviRange.min) + duration$$1, naviRange.max
        ));

        this.options.select = { from: from, to: to };

        if (this.options.liveDrag) {
            this.filterAxes();
            this.redrawSlaves();
        }

        selection.set(from, to);

        this.showHint(from, to);
    };

    Navigator.prototype._dragEnd = function _dragEnd () {
        this.filterAxes();
        this.filter();
        this.redrawSlaves();

        if (this.hint) {
            this.hint.hide();
        }
    };

    Navigator.prototype.readSelection = function readSelection () {
        var ref = this;
        var ref_selection_options = ref.selection.options;
        var from = ref_selection_options.from;
        var to = ref_selection_options.to;
        var select = ref.options.select;

        select.from = from;
        select.to = to;
    };

    Navigator.prototype.filterAxes = function filterAxes () {
        var ref = this;
        var select = ref.options.select; if ( select === void 0 ) select = { };
        var chart = ref.chart;
        var allAxes = chart.options.categoryAxis;
        var from = select.from;
        var to = select.to;

        for (var idx = 0; idx < allAxes.length; idx++) {
            var axis = allAxes[idx];
            if (axis.pane !== NAVIGATOR_PANE) {
                axis.min = from;
                axis.max = to;
            }
        }
    };

    Navigator.prototype.filter = function filter () {
        var ref = this;
        var chart = ref.chart;
        var select = ref.options.select;

        if (!chart.requiresHandlers([ "navigatorFilter" ])) {
            return;
        }

        var mainAxis = this.mainAxis();
        var args = {
            from: select.from,
            to: select.to
        };

        if (mainAxis.options.type !== 'category') {
            var axisOptions = new DateCategoryAxis(deepExtend({
                baseUnit: "fit"
            }, chart.options.categoryAxis[0], {
                categories: [ select.from, select.to ]
            }), chart.chartService).options;

            args.from = addDuration(axisOptions.min, -axisOptions.baseUnitStep, axisOptions.baseUnit);
            args.to = addDuration(axisOptions.max, axisOptions.baseUnitStep, axisOptions.baseUnit);
        }

        this.chart.trigger("navigatorFilter", args);
    };

    Navigator.prototype._zoom = function _zoom (e) {
        var ref = this;
        var axis = ref.chart._plotArea.categoryAxis;
        var selection = ref.selection;
        var ref_options = ref.options;
        var select = ref_options.select;
        var liveDrag = ref_options.liveDrag;
        var mainAxis = this.mainAxis();
        var delta = e.delta;

        if (!selection) {
            return;
        }

        var fromIx = mainAxis.categoryIndex(selection.options.from);
        var toIx = mainAxis.categoryIndex(selection.options.to);
        var coords = this.chart._eventCoordinates(e.originalEvent);

        e.originalEvent.preventDefault();

        if (Math.abs(delta) > 1) {
            delta *= ZOOM_ACCELERATION$1;
        }

        if (toIx - fromIx > 1) {
            selection.zoom(delta, coords);
            this.readSelection();
        } else {
            axis.options.min = select.from;
            select.from = axis.scaleRange(-e.delta * this.chart._mousewheelZoomRate(), coords).min;
        }

        if (liveDrag) {
            this.filterAxes();
            this.redrawSlaves();
        }

        selection.set(select.from, select.to);

        this.showHint(this.options.select.from, this.options.select.to);
    };

    Navigator.prototype._zoomEnd = function _zoomEnd (e) {
        this._dragEnd(e);
    };

    Navigator.prototype.showHint = function showHint (from, to) {
        var plotArea = this.chart._plotArea;

        if (this.hint) {
            this.hint.show(from, to, plotArea.backgroundBox());
        }
    };

    Navigator.prototype._selectStart = function _selectStart (e) {
        return this.chart._selectStart(e);
    };

    Navigator.prototype._select = function _select (e) {
        this.showHint(e.from, e.to);

        return this.chart._select(e);
    };

    Navigator.prototype._selectEnd = function _selectEnd (e) {
        if (this.hint) {
            this.hint.hide();
        }

        this.readSelection();
        this.filterAxes();
        this.filter();
        this.redrawSlaves();

        return this.chart._selectEnd(e);
    };

    Navigator.prototype.mainAxis = function mainAxis () {
        var plotArea = this.chart._plotArea;

        if (plotArea) {
            return plotArea.namedCategoryAxes[NAVIGATOR_AXIS];
        }
    };

    Navigator.prototype.select = function select (from, to) {
        var select = this.options.select;

        if (from && to) {
            select.from = this.parseDate(from);
            select.to = this.parseDate(to);

            this.filterAxes();
            this.filter();
            this.redrawSlaves();

            this.selection.set(from, to);
        }

        return {
            from: select.from,
            to: select.to
        };
    };

    Navigator.setup = function setup (options, themeOptions) {
        if ( options === void 0 ) options = {};
        if ( themeOptions === void 0 ) themeOptions = {};

        if (options.__navi) {
            return;
        }
        options.__navi = true;

        var naviOptions = deepExtend({}, themeOptions.navigator, options.navigator);
        var panes = options.panes = [].concat(options.panes);
        var paneOptions = deepExtend({}, naviOptions.pane, { name: NAVIGATOR_PANE });

        if (!naviOptions.visible) {
            paneOptions.visible = false;
            paneOptions.height = 0.1;
        }

        panes.push(paneOptions);

        Navigator.attachAxes(options, naviOptions);
        Navigator.attachSeries(options, naviOptions, themeOptions);
    };

    Navigator.attachAxes = function attachAxes (options, naviOptions) {
        var series = naviOptions.series || [];
        var categoryAxes = options.categoryAxis = [].concat(options.categoryAxis);
        var valueAxes = options.valueAxis = [].concat(options.valueAxis);

        var equallySpacedSeries = filterSeriesByType(series, EQUALLY_SPACED_SERIES);
        var justifyAxis = equallySpacedSeries.length === 0;

        var base = deepExtend({
            type: "date",
            pane: NAVIGATOR_PANE,
            roundToBaseUnit: !justifyAxis,
            justified: justifyAxis,
            _collapse: false,
            majorTicks: { visible: true },
            tooltip: { visible: false },
            labels: { step: 1 },
            autoBind: naviOptions.autoBindElements,
            autoBaseUnitSteps: {
                minutes: [ 1 ],
                hours: [ 1, 2 ],
                days: [ 1, 2 ],
                weeks: [],
                months: [ 1 ],
                years: [ 1 ]
            }
        });
        var user = naviOptions.categoryAxis;

        categoryAxes.push(
            deepExtend({}, base, {
                maxDateGroups: 200
            }, user, {
                name: NAVIGATOR_AXIS,
                title: null,
                baseUnit: "fit",
                baseUnitStep: "auto",
                labels: { visible: false },
                majorTicks: { visible: false }
            }), deepExtend({}, base, user, {
                name: NAVIGATOR_AXIS + "_labels",
                maxDateGroups: 20,
                baseUnitStep: "auto",
                labels: { position: "" },
                plotBands: [],
                autoBaseUnitSteps: {
                    minutes: []
                },
                _overlap: true
            }), deepExtend({}, base, user, {
                name: NAVIGATOR_AXIS + "_ticks",
                maxDateGroups: 200,
                majorTicks: {
                    width: 0.5
                },
                plotBands: [],
                title: null,
                labels: { visible: false, mirror: true },
                _overlap: true
            })
        );

        valueAxes.push(deepExtend({
            name: NAVIGATOR_AXIS,
            pane: NAVIGATOR_PANE,
            majorGridLines: {
                visible: false
            },
            visible: false
        }, naviOptions.valueAxis));
    };

    Navigator.attachSeries = function attachSeries (options, naviOptions, themeOptions) {
        var series = options.series = options.series || [];
        var navigatorSeries = [].concat(naviOptions.series || []);
        var seriesColors = themeOptions.seriesColors;
        var defaults = naviOptions.seriesDefaults;

        for (var idx = 0; idx < navigatorSeries.length; idx++) {
            series.push(
                deepExtend({
                    color: seriesColors[idx % seriesColors.length],
                    categoryField: naviOptions.dateField,
                    visibleInLegend: false,
                    tooltip: {
                        visible: false
                    }
                }, defaults, navigatorSeries[idx], {
                    axis: NAVIGATOR_AXIS,
                    categoryAxis: NAVIGATOR_AXIS,
                    autoBind: naviOptions.autoBindElements
                })
            );
        }
    };

    return Navigator;
}(_progress_kendoDrawing.Class));

function ClonedObject() { }
function clone$1(obj) {
    ClonedObject.prototype = obj;
    return new ClonedObject();
}

var AUTO_CATEGORY_WIDTH = 28;

var StockChart = (function (Chart$$1) {
    function StockChart () {
        Chart$$1.apply(this, arguments);
    }

    if ( Chart$$1 ) StockChart.__proto__ = Chart$$1;
    StockChart.prototype = Object.create( Chart$$1 && Chart$$1.prototype );
    StockChart.prototype.constructor = StockChart;

    StockChart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {
        var width = elementSize$1(this.element).width || DEFAULT_WIDTH;
        var theme = themeOptions;

        var stockDefaults = {
            seriesDefaults: {
                categoryField: options.dateField
            },
            axisDefaults: {
                categoryAxis: {
                    name: "default",
                    majorGridLines: {
                        visible: false
                    },
                    labels: {
                        step: 2
                    },
                    majorTicks: {
                        visible: false
                    },
                    maxDateGroups: Math.floor(width / AUTO_CATEGORY_WIDTH)
                }
            }
        };

        if (theme) {
            theme = deepExtend({}, theme, stockDefaults);
        }

        Navigator.setup(options, theme);

        Chart$$1.prototype.applyDefaults.call(this, options, theme);
    };

    StockChart.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, 'k-chart k-stockchart');
    };

    StockChart.prototype.setOptions = function setOptions (options) {
        this.destroyNavigator();
        Chart$$1.prototype.setOptions.call(this, options);
    };

    StockChart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        var transitions = this.options.transitions;

        this.options.transitions = false;
        this._fullRedraw();
        this.options.transitions = transitions;
    };

    StockChart.prototype._resize = function _resize () {
        this.noTransitionsRedraw();
    };

    StockChart.prototype._redraw = function _redraw () {
        var navigator = this.navigator;

        if (!this._dirty() && navigator && navigator.options.partialRedraw) {
            navigator.redrawSlaves();
        } else {
            this._fullRedraw();
        }
    };

    StockChart.prototype._dirty = function _dirty () {
        var options = this.options;
        var series = [].concat(options.series, options.navigator.series);
        var seriesCount = grep(series, function(s) { return s && s.visible; }).length;
        var dirty = this._seriesCount !== seriesCount;
        this._seriesCount = seriesCount;

        return dirty;
    };

    StockChart.prototype._fullRedraw = function _fullRedraw () {
        var navigator = this.navigator;

        if (!navigator) {
            navigator = this.navigator = new Navigator(this);
            this.trigger("navigatorCreated", { navigator: navigator });
        }

        navigator.clean();
        navigator.setRange();

        Chart$$1.prototype._redraw.call(this);

        navigator.initSelection();
    };

    StockChart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords) {
        var plotArea = this._plotArea;
        var pane = plotArea.paneByPoint(coords);

        if (pane && pane.options.name === NAVIGATOR_PANE) {
            this._unsetActivePoint();
        } else {
            Chart$$1.prototype._trackSharedTooltip.call(this, coords);
        }
    };

    StockChart.prototype.bindCategories = function bindCategories () {
        Chart$$1.prototype.bindCategories.call(this);
        this.copyNavigatorCategories();
    };

    StockChart.prototype.copyNavigatorCategories = function copyNavigatorCategories () {
        var definitions = [].concat(this.options.categoryAxis);
        var categories;

        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {
            var axis = definitions[axisIx];
            if (axis.name === NAVIGATOR_AXIS) {
                categories = axis.categories;
            } else if (categories && axis.pane === NAVIGATOR_PANE) {
                axis.categories = categories;
            }
        }
    };

    StockChart.prototype.destroyNavigator = function destroyNavigator () {
        if (this.navigator) {
            this.navigator.destroy();
            this.navigator = null;
        }
    };

    StockChart.prototype.destroy = function destroy () {
        this.destroyNavigator();
        Chart$$1.prototype.destroy.call(this);
    };

    StockChart.prototype._stopChartHandlers = function _stopChartHandlers (e) {
        var coords = this._eventCoordinates(e);
        var pane = this._plotArea.paneByPoint(coords);

        return Chart$$1.prototype._stopChartHandlers.call(this, e) || (pane && pane.options.name === NAVIGATOR_PANE);
    };

    StockChart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {
        if (!this._dragZoomEnabled) {
            this.element.style.touchAction = "none";

            this._dragZoomEnabled = true;
        }
    };

    return StockChart;
}(Chart));

setDefaultOptions(StockChart, {
    dateField: "date",
    axisDefaults: {
        categoryAxis: {
            type: "date",
            baseUnit: "fit",
            justified: true
        },
        valueAxis: {
            narrowRange: true,
            labels: {
                format: "C"
            }
        }
    },
    navigator: {
        select: {},
        seriesDefaults: {
            markers: {
                visible: false
            },
            tooltip: {
                visible: true
            },
            line: {
                width: 2
            }
        },
        hint: {},
        visible: true
    },
    tooltip: {
        visible: true
    },
    legend: {
        visible: false
    }
});

var ANGULAR_SPEED = 150;
var LINEAR_SPEED = 250;
var ARROW = "arrow";
var ARROW_POINTER = "arrowPointer";
var BAR_POINTER = "barPointer";
var DEFAULT_HEIGHT$1 = 200;
var DEFAULT_LINE_WIDTH = 0.5;
var DEFAULT_WIDTH$1 = 200;
var DEGREE = Math.PI / 180;
var INSIDE$1 = "inside";
var LINEAR$1 = "linear";
var OUTSIDE$1 = "outside";
var RADIAL_POINTER = "radialPointer";
var RADIAL_RANGE_POINTER = "radialRangePointer";

function pad$1(bbox, value) {
    var origin = bbox.getOrigin();
    var size = bbox.getSize();
    var spacing = getSpacing(value);

    bbox.setOrigin([ origin.x - spacing.left, origin.y - spacing.top ]);
    bbox.setSize([ size.width + (spacing.left + spacing.right), size.height + (spacing.top + spacing.bottom) ]);

    return bbox;
}

var Group = _progress_kendoDrawing.drawing.Group;
var Path$1 = _progress_kendoDrawing.drawing.Path;
var Text$2 = _progress_kendoDrawing.drawing.Text;

function buildLabelElement(label, options) {
    var labelBox = label.box;
    var textBox = label.children[0].box;
    var border = options.border || {};
    var background = options.background || "";

    var wrapper = Path$1.fromRect(new _progress_kendoDrawing.geometry.Rect([ labelBox.x1, labelBox.y1 ], [ labelBox.width(), labelBox.height() ]), {
        stroke: {}
    });

    var text = new Text$2(label.text, new _progress_kendoDrawing.geometry.Point(textBox.x1, textBox.y1), {
        font: options.font,
        fill: { color: options.color }
    });

    var styleGeometry = pad$1(text.bbox().clone(), options.padding);

    var styleBox = Path$1.fromRect(styleGeometry, {
        stroke: {
            color: border.width ? border.color : "",
            width: border.width,
            opacity: border.opacity,
            dashType: border.dashType,
            lineJoin: "round",
            lineCap: "round"
        },
        fill: {
            color: background
        }
    });

    var elements = new Group();
    elements.append(wrapper);
    elements.append(styleBox);
    elements.append(text);

    return elements;
}

function getRange(range, min, max) {
    var from = defined(range.from) ? range.from : MIN_VALUE;
    var to = defined(range.to) ? range.to : MAX_VALUE;

    range.from = Math.max(Math.min(to, from), min);
    range.to = Math.min(Math.max(to, from), max);

    return range;
}

function unpad$1(bbox, value) {
    var spacing = getSpacing(value);

    spacing.left = -spacing.left; spacing.top = -spacing.top;
    spacing.right = -spacing.right; spacing.bottom = -spacing.bottom;

    return pad$1(bbox, spacing);
}

var DEFAULT_MARGIN = 5;
var Path = _progress_kendoDrawing.drawing.Path;
var Surface = _progress_kendoDrawing.drawing.Surface;

var Gauge = (function (Class$$1) {
    function Gauge(element, userOptions, theme, context) {
        if ( context === void 0 ) context = {};

        Class$$1.call(this);

        this.element = element;
        this.theme = theme;
        this.contextService = new ChartService(this, context);
        this._originalOptions = deepExtend({}, this.options, userOptions);
        this.options = deepExtend({}, this._originalOptions);
        this._initTheme(theme);

        this.redraw();
    }

    if ( Class$$1 ) Gauge.__proto__ = Class$$1;
    Gauge.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Gauge.prototype.constructor = Gauge;

    Gauge.prototype.destroy = function destroy () {
        if (this.surface) {
            this.surface.destroy();
            this.surface = null;
        }

        delete this.element;
        delete this.surfaceElement;
    };

    Gauge.prototype.value = function value (pointerValue) {
        var pointer = this.pointers[0];

        if (arguments.length === 0) {
            return pointer.value();
        }

        pointer.value(pointerValue);
        this._setValueOptions(pointerValue);
    };

    Gauge.prototype._draw = function _draw () {
        var surface = this.surface;

        surface.clear();
        surface.draw(this._visuals);
    };

    Gauge.prototype.exportVisual = function exportVisual () {
        return this._visuals;
    };

    Gauge.prototype.allValues = function allValues (values) {
        var pointers = this.pointers;
        var allValues = [];

        if (arguments.length === 0) {
            for (var i = 0; i < pointers.length; i++) {
                allValues.push(pointers[i].value());
            }

            return allValues;
        }

        if (isArray(values)) {
            for (var i$1 = 0; i$1 < values.length; i$1++) {
                if (isNumber(values[i$1])) {
                    pointers[i$1].value(values[i$1]);
                }
            }
        }

        this._setValueOptions(values);
    };

    Gauge.prototype._setValueOptions = function _setValueOptions (values) {
        var pointers = [].concat(this.options.pointer);
        var arrayValues = [].concat(values);

        for (var i = 0; i < arrayValues.length; i++) {
            pointers[i].value = arrayValues[i];
        }
    };

    Gauge.prototype.resize = function resize () {
        this.noTransitionsRedraw();
    };

    Gauge.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        var transitions = this.options.transitions;

        this._toggleTransitions(false);

        this.redraw();

        this._toggleTransitions(transitions);
    };

    Gauge.prototype.redraw = function redraw () {
        var size = this._surfaceSize();
        var wrapper = new _progress_kendoDrawing.geometry.Rect([ 0, 0 ], [ size.width, size.height ]);

        this._initSurface();

        this.gaugeArea = this._createGaugeArea();

        this._createModel();

        var bbox = unpad$1(wrapper.bbox(), this._gaugeAreaMargin);
        this.reflow(bbox);
    };

    Gauge.prototype.setOptions = function setOptions (options, theme) {
        this._originalOptions = deepExtend(this._originalOptions, options);
        this.options = deepExtend({}, this._originalOptions);

        this._initTheme(theme);

        this.redraw();
    };

    Gauge.prototype.setDirection = function setDirection (rtl) {
        this.contextService.rtl = Boolean(rtl);
        if (this.surface && this.surface.type === 'svg') {
            this.surface.destroy();
            this.surface = null;
        }
    };

    Gauge.prototype.setIntlService = function setIntlService (intl) {
        this.contextService.intl = intl;
    };

    Gauge.prototype._initTheme = function _initTheme (theme) {
        var currentTheme = theme || this.theme || {};
        this.theme = currentTheme;

        this.options = deepExtend({}, currentTheme, this.options);
        var options = this.options;
        var pointer = options.pointer;

        if (isArray(pointer)) {
            var pointers = [];
            for (var i = 0; i < pointer.length; i++) {
                pointers.push(deepExtend({}, currentTheme.pointer, pointer[i]));
            }
            options.pointer = pointers;
        }
    };

    Gauge.prototype._createGaugeArea = function _createGaugeArea () {
        var options = this.options.gaugeArea;
        var size = this.surface.size();
        var border = options.border || {};
        var areaGeometry = new _progress_kendoDrawing.geometry.Rect([ 0, 0 ], [ size.width, size.height ]);

        this._gaugeAreaMargin = options.margin || DEFAULT_MARGIN;

        if (border.width > 0) {
            areaGeometry = unpad$1(areaGeometry, border.width);
        }

        var gaugeArea = Path.fromRect(areaGeometry, {
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType,
                lineJoin: "round",
                lineCap: "round"
            },
            fill: {
                color: options.background
            }
        });

        return gaugeArea;
    };

    Gauge.prototype._initSurface = function _initSurface () {
        var ref = this;
        var options = ref.options;
        var surface = ref.surface;
        var element = this._surfaceElement();
        var size = this._surfaceSize();

        elementSize$1(element, size);

        if (!surface || surface.options.type !== options.renderAs) {
            if (surface) {
                surface.destroy();
            }

            this.surface = Surface.create(element, {
                type: options.renderAs
            });
        } else {
            this.surface.clear();
            this.surface.resize();
        }
    };

    Gauge.prototype._surfaceSize = function _surfaceSize () {
        var options = this.options;
        var size = this._getSize();

        if (options.gaugeArea) {
            deepExtend(size, options.gaugeArea);
        }

        return size;
    };

    Gauge.prototype._surfaceElement = function _surfaceElement () {
        if (!this.surfaceElement) {
            this.surfaceElement = document.createElement('div');
            this.element.appendChild(this.surfaceElement);
        }

        return this.surfaceElement;
    };

    Gauge.prototype.getSize = function getSize () {
        return this._getSize();
    };

    Gauge.prototype._getSize = function _getSize () {
        var element = this.element;
        var defaultSize = this._defaultSize();
        var width = element.offsetWidth;
        var height = element.offsetHeight;

        if (!width) {
            width = defaultSize.width;
        }

        if (!height) {
            height = defaultSize.height;
        }

        return { width: width, height: height };
    };

    Gauge.prototype._defaultSize = function _defaultSize () {
        return {
            width: DEFAULT_WIDTH$1,
            height: DEFAULT_HEIGHT$1
        };
    };

    Gauge.prototype._toggleTransitions = function _toggleTransitions (value) {
        var this$1 = this;

        this.options.transitions = value;
        for (var i = 0; i < this.pointers.length; i++) {
            this$1.pointers[i].options.animation.transitions = value;
        }
    };

    return Gauge;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Gauge, {
    plotArea: {},
    theme: "default",
    renderAs: "",
    pointer: {},
    scale: {},
    gaugeArea: {}
});

var Path$2 = _progress_kendoDrawing.drawing.Path;
var Group$2 = _progress_kendoDrawing.drawing.Group;
var Point$2 = _progress_kendoDrawing.geometry.Point;

function renderAxisTick(tickRenderOptions, tickOptions) {
    var position = tickRenderOptions.position;
    var tickX = tickRenderOptions.tickX;
    var tickY = tickRenderOptions.tickY;
    var start, end;

    if (tickRenderOptions.vertical) {
        start = new Point$2(tickX, position);
        end = new Point$2(tickX + tickOptions.size, position);
    } else {
        start = new Point$2(position, tickY);
        end = new Point$2(position, tickY + tickOptions.size);
    }

    var tickPath = new Path$2({
        stroke: {
            color: tickOptions.color,
            width: tickOptions.width
        }
    }).moveTo(start).lineTo(end);

    return tickPath;
}

function renderTicks$1$1(tickGroup, tickPositions, tickRenderOptions, tickOptions) {
    var count = tickPositions.length;

    if (tickOptions.visible) {
        var mirror = tickRenderOptions.mirror;
        var lineBox = tickRenderOptions.lineBox;
        for (var i = tickOptions.skip; i < count; i += tickOptions.step) {
            if (i % tickOptions.skipUnit === 0) {
                continue;
            }

            tickRenderOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
            tickRenderOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
            tickRenderOptions.position = tickPositions[i];

            tickGroup.append(renderAxisTick(tickRenderOptions, tickOptions));
        }
    }
}

var LinearScale = (function (NumericAxis$$1) {
    function LinearScale(options, service) {
        var scaleOptions = options || {};
        if (!defined(scaleOptions.reverse) && scaleOptions.vertical === false && (service || {}).rtl) {
            scaleOptions = Object.assign({}, scaleOptions, {
                reverse: true
            });
        }

        NumericAxis$$1.call(this, 0, 1, scaleOptions, service);

        this.options.minorUnit = this.options.minorUnit || this.options.majorUnit / 10;
    }

    if ( NumericAxis$$1 ) LinearScale.__proto__ = NumericAxis$$1;
    LinearScale.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    LinearScale.prototype.constructor = LinearScale;

    LinearScale.prototype.initUserOptions = function initUserOptions (options) {
        var scaleOptions = deepExtend({}, this.options, options);
        scaleOptions = deepExtend({}, scaleOptions , { labels: { mirror: scaleOptions.mirror } });
        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);

        return scaleOptions;
    };

    LinearScale.prototype.initFields = function initFields () {
    };

    LinearScale.prototype.render = function render () {
        var elements = this.elements = new Group$2();
        var labels = this.renderLabels();
        var scaleLine = this.renderLine();
        var scaleTicks = this.renderTicks();
        var ranges = this.renderRanges();

        elements.append(scaleLine, labels, scaleTicks, ranges);

        return elements;
    };

    LinearScale.prototype.renderRanges = function renderRanges () {
        var this$1 = this;

        var options = this.options;
        var min = options.min;
        var max = options.max;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var ranges = options.ranges || [];
        var elements = new Group$2();
        var count = ranges.length;
        var rangeSize = options.rangeSize || options.minorTicks.size / 2;

        for (var i = 0; i < count; i++) {
            var range = getRange(ranges[i], min, max);
            var slot = this$1.getSlot(range.from, range.to);
            var slotX = vertical ? this$1.lineBox() : slot;
            var slotY = vertical ? slot : this$1.lineBox();
            if (vertical) {
                slotX.x1 -= rangeSize * (mirror ? -1 : 1);
            } else {
                slotY.y2 += rangeSize * (mirror ? -1 : 1);
            }

            elements.append(Path$2.fromRect(new _progress_kendoDrawing.geometry.Rect([ slotX.x1, slotY.y1 ], [ slotX.x2 - slotX.x1, slotY.y2 - slotY.y1 ]), {
                fill: { color: range.color, opacity: range.opacity },
                stroke: { }
            }));
        }

        return elements;
    };

    LinearScale.prototype.renderLabels = function renderLabels () {
        var ref = this;
        var labels = ref.labels;
        var options = ref.options;
        var elements = new Group$2();

        for (var i = 0; i < labels.length; i++) {
            elements.append(buildLabelElement(labels[i], options.labels));
        }

        return elements;
    };

    LinearScale.prototype.renderLine = function renderLine () {
        var line = this.options.line;
        var lineBox = this.lineBox();
        var elements = new Group$2();

        if (line.width > 0 && line.visible) {
            var linePath = new Path$2({
                stroke: {
                    color: line.color,
                    dashType: line.dashType,
                    width: line.width
                }
            });

            linePath.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);
            elements.append(linePath);
        }

        return elements;
    };

    LinearScale.prototype.renderTicks = function renderTicks$1 () {
        var ticks = new Group$2();
        var options = this.options;
        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;
        var tickRenderOptions = {
            vertical: options.vertical,
            mirror: options.labels.mirror,
            lineBox: this.lineBox()
        };

        renderTicks$1$1(ticks, this.getMajorTickPositions(), tickRenderOptions, options.majorTicks);
        renderTicks$1$1(ticks, this.getMinorTickPositions(), tickRenderOptions, deepExtend({}, {
            skipUnit: majorUnit / options.minorUnit
        }, options.minorTicks));

        return ticks;
    };

    return LinearScale;
}(NumericAxis));

setDefaultOptions(LinearScale, {
    min: 0,
    max: 50,

    majorTicks: {
        size: 15,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    minorTicks: {
        size: 10,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    line: {
        width: DEFAULT_LINE_WIDTH
    },

    labels: {
        position: INSIDE$1,
        padding: 2
    },
    mirror: false,
    _alignLines: false
});

var Pointer = (function (Class$$1) {
    function Pointer(scale, userOptions) {
        Class$$1.call(this);

        var ref = scale.options;
        var min = ref.min;
        var max = ref.max;
        var options = this.options = deepExtend({}, this.options, userOptions);

        options.fill = options.color;

        this.scale = scale;

        if (defined(options.value)) {
            options.value = limitValue(options.value, min, max);
        } else {
            options.value = min;
        }
    }

    if ( Class$$1 ) Pointer.__proto__ = Class$$1;
    Pointer.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Pointer.prototype.constructor = Pointer;

    Pointer.prototype.value = function value (newValue) {
        var options = this.options;
        var value = options.value;

        if (arguments.length === 0) {
            return value;
        }

        var ref = this.scale.options;
        var min = ref.min;
        var max = ref.max;

        options._oldValue = defined(options._oldValue) ? options.value : min;
        options.value = limitValue(newValue, min, max);

        if (this.elements) {
            this.repaint();
        }
    };

    return Pointer;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Pointer, {
    color: BLACK
});

var LinearPointer = (function (Pointer$$1) {
    function LinearPointer(scale, options) {
        Pointer$$1.call(this, scale, options);

        this.options = deepExtend({
            track: {
                visible: defined(options.track)
            }
        }, this.options);
    }

    if ( Pointer$$1 ) LinearPointer.__proto__ = Pointer$$1;
    LinearPointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    LinearPointer.prototype.constructor = LinearPointer;

    LinearPointer.prototype.reflow = function reflow () {
        var ref = this;
        var options = ref.options;
        var scale = ref.scale;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var scaleLine = scale.lineBox();
        var trackSize = options.track.size || options.size;
        var pointerHalfSize = options.size / 2;
        var margin = getSpacing(options.margin);
        var space = vertical ?
                 margin[mirror ? "left" : "right"] :
                 margin[mirror ? "bottom" : "top"];
        var pointerBox, pointerRangeBox, trackBox;

        space = mirror ? -space : space;

        if (vertical) {
            trackBox = new Box(
                scaleLine.x1 + space, scaleLine.y1,
                scaleLine.x1 + space, scaleLine.y2);

            if (mirror) {
                trackBox.x1 -= trackSize;
            } else {
                trackBox.x2 += trackSize;
            }

            if (options.shape !== BAR_POINTER) {
                pointerRangeBox = new Box(
                    scaleLine.x2 + space, scaleLine.y1 - pointerHalfSize,
                    scaleLine.x2 + space, scaleLine.y2 + pointerHalfSize
                );
                pointerBox = pointerRangeBox;
            }
        } else {
            trackBox = new Box(
                scaleLine.x1, scaleLine.y1 - space,
                scaleLine.x2, scaleLine.y1 - space);

            if (mirror) {
                trackBox.y2 += trackSize;
            } else {
                trackBox.y1 -= trackSize;
            }

            if (options.shape !== BAR_POINTER) {
                pointerRangeBox = new Box(
                    scaleLine.x1 - pointerHalfSize, scaleLine.y1 - space,
                    scaleLine.x2 + pointerHalfSize, scaleLine.y1 - space
                );
                pointerBox = pointerRangeBox;
            }
        }

        this.trackBox = trackBox;
        this.pointerRangeBox = pointerRangeBox;
        this.box = pointerBox || trackBox.clone().pad(options.border.width);
    };

    LinearPointer.prototype.getElementOptions = function getElementOptions () {
        var options = this.options;

        return {
            fill: {
                color: options.color,
                opacity: options.opacity
            },
            stroke: defined(options.border) ? {
                color: options.border.width ? options.border.color || options.color : "",
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: options.opacity
            } : null
        };
    };

    LinearPointer.prototype._margin = function _margin () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var margin = getSpacing(options.margin);

        var space = vertical ?
            margin[mirror ? "left" : "right"] :
            margin[mirror ? "bottom" : "top"];

        return space;
    };

    return LinearPointer;
}(Pointer));

setDefaultOptions(LinearPointer, {
    shape: BAR_POINTER,

    track: {
        border: {
            width: 1
        }
    },

    color: BLACK,
    border: {
        width: 1
    },
    opacity: 1,

    margin: getSpacing(3),
    animation: {
        type: BAR_POINTER
    },
    visible: true
});

var ArrowLinearPointerAnimation = (function (superclass) {
    function ArrowLinearPointerAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) ArrowLinearPointerAnimation.__proto__ = superclass;
    ArrowLinearPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    ArrowLinearPointerAnimation.prototype.constructor = ArrowLinearPointerAnimation;

    ArrowLinearPointerAnimation.prototype.setup = function setup () {
        var options = this.options;
        var margin = options.margin;
        var from = options.from;
        var to = options.to;
        var vertical = options.vertical;
        var axis = vertical ? "x1" : "y1";

        if (options.mirror === vertical) {
            from[axis] -= margin; to[axis] -= margin;
        } else {
            from[axis] += margin; to[axis] += margin;
        }

        var fromScale = this.fromScale = new _progress_kendoDrawing.geometry.Point(from.x1, from.y1);
        var toScale = this.toScale = new _progress_kendoDrawing.geometry.Point(to.x1, to.y1);

        if (options.duration !== 0) {
            options.duration = Math.max((fromScale.distanceTo(toScale) / options.duration) * 1000, 1);
        }
    };

    ArrowLinearPointerAnimation.prototype.step = function step (pos) {
        var translateX = interpolateValue(this.fromScale.x, this.toScale.x, pos);
        var translateY = interpolateValue(this.fromScale.y, this.toScale.y, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform().translate(translateX, translateY));
    };

    return ArrowLinearPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(ArrowLinearPointerAnimation, {
    easing: LINEAR$1,
    duration: LINEAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(ARROW_POINTER, ArrowLinearPointerAnimation);

var Point$3 = _progress_kendoDrawing.geometry.Point;
var Path$3 = _progress_kendoDrawing.drawing.Path;

var ArrowLinearPointer = (function (LinearPointer$$1) {
    function ArrowLinearPointer(scale, options) {
        LinearPointer$$1.call(this, scale, options);

        if (!defined(this.options.size)) {
            this.options.size = this.scale.options.majorTicks.size * 0.6;
        }
    }

    if ( LinearPointer$$1 ) ArrowLinearPointer.__proto__ = LinearPointer$$1;
    ArrowLinearPointer.prototype = Object.create( LinearPointer$$1 && LinearPointer$$1.prototype );
    ArrowLinearPointer.prototype.constructor = ArrowLinearPointer;

    ArrowLinearPointer.prototype.pointerShape = function pointerShape () {
        var ref = this;
        var scale = ref.scale;
        var size = ref.options.size;
        var halfSize = size / 2;
        var sign = (scale.options.mirror ? -1 : 1);
        var shape;

        if (scale.options.vertical) {
            shape = [
                new Point$3(0, 0 - halfSize), new Point$3(0 - sign * size, 0), new Point$3(0, 0 + halfSize)
            ];
        } else {
            shape = [
                new Point$3(0 - halfSize, 0), new Point$3(0, 0 + sign * size), new Point$3(0 + halfSize, 0)
            ];
        }

        return shape;
    };

    ArrowLinearPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var animation = new ArrowLinearPointerAnimation(this.elements, deepExtend(options.animation, {
            vertical: scale.options.vertical,
            mirror: scale.options.mirror,
            margin: this._margin(options.margin),
            from: scale.getSlot(options._oldValue),
            to: scale.getSlot(options.value)
        }));

        if (options.animation.transitions === false) {
            animation.options.duration = 0;
        }

        animation.setup();
        animation.play();
    };

    ArrowLinearPointer.prototype.render = function render () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var elementOptions = this.getElementOptions();
        var shape = this.pointerShape(options.value);

        options.animation.type = ARROW_POINTER;

        var elements = new Path$3({
            stroke: elementOptions.stroke,
            fill: elementOptions.fill
        }).moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).close();

        var slot = scale.getSlot(options.value);
        elements.transform(_progress_kendoDrawing.geometry.transform().translate(slot.x1, slot.y1));

        this.elements = elements;

        return elements;
    };

    return ArrowLinearPointer;
}(LinearPointer));

var BarLinearPointerAnimation = (function (superclass) {
    function BarLinearPointerAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BarLinearPointerAnimation.__proto__ = superclass;
    BarLinearPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    BarLinearPointerAnimation.prototype.constructor = BarLinearPointerAnimation;

    BarLinearPointerAnimation.prototype.setup = function setup () {
        var options = this.options;
        var axis = this.axis = options.vertical ? Y : X;
        var to = this.to = options.newPoints[0][axis];
        var from = this.from = options.oldPoints[0][axis];

        if (options.duration !== 0) {
            options.duration = Math.max((Math.abs(to - from) / options.speed) * 1000, 1);
        }

        this._set(from);
    };

    BarLinearPointerAnimation.prototype.step = function step (pos) {
        var value = interpolateValue(this.from, this.to, pos);
        this._set(value);
    };

    BarLinearPointerAnimation.prototype._set = function _set (value) {
        var setter = "set" + this.axis.toUpperCase();
        var points = this.options.newPoints;

        points[0][setter](value);
        points[1][setter](value);
    };

    return BarLinearPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BarLinearPointerAnimation, {
    easing: LINEAR$1,
    speed: LINEAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BAR_POINTER, BarLinearPointerAnimation);

var Group$3 = _progress_kendoDrawing.drawing.Group;
var Path$4 = _progress_kendoDrawing.drawing.Path;

var BarLinearPointer = (function (LinearPointer$$1) {
    function BarLinearPointer(scale, options) {
        LinearPointer$$1.call(this, scale, options);

        if (!defined(this.options.size)) {
            this.options.size = this.scale.options.majorTicks.size * 0.3;
        }
    }

    if ( LinearPointer$$1 ) BarLinearPointer.__proto__ = LinearPointer$$1;
    BarLinearPointer.prototype = Object.create( LinearPointer$$1 && LinearPointer$$1.prototype );
    BarLinearPointer.prototype.constructor = BarLinearPointer;

    BarLinearPointer.prototype.pointerShape = function pointerShape (value) {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var dir = mirror === vertical ? -1 : 1;
        var size = options.size * dir;
        var minSlot = scale.getSlot(scale.options.min);
        var slot = scale.getSlot(value);
        var axis = vertical ? Y : X;
        var sizeAxis = vertical ? X : Y;
        var margin = this._margin() * dir;

        var p1 = new _progress_kendoDrawing.geometry.Point();
        p1[axis] = minSlot[axis + "1"];
        p1[sizeAxis] = minSlot[sizeAxis + "1"];

        var p2 = new _progress_kendoDrawing.geometry.Point();
        p2[axis] = slot[axis + "1"];
        p2[sizeAxis] = slot[sizeAxis + "1"];

        if (vertical) {
            p1.translate(margin, 0);
            p2.translate(margin, 0);
        } else {
            p1.translate(0, margin);
            p2.translate(0, margin);
        }

        var p3 = p2.clone();
        var p4 = p1.clone();

        if (vertical) {
            p3.translate(size, 0);
            p4.translate(size, 0);
        } else {
            p3.translate(0, size);
            p4.translate(0, size);
        }

        return [ p1, p2, p3, p4 ];
    };

    BarLinearPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var shape = this.pointerShape(options.value);
        var pointerPath = this.pointerPath;
        var oldShape = this.pointerShape(options._oldValue);

        pointerPath.moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).lineTo(shape[3]).close();

        var animation = new BarLinearPointerAnimation(pointerPath, deepExtend(options.animation, {
            reverse: scale.options.reverse,
            vertical: scale.options.vertical,
            oldPoints: [ oldShape[1], oldShape[2] ],
            newPoints: [ shape[1], shape[2] ]
        }));

        if (options.animation.transitions === false) {
            animation.options.duration = 0;
        }

        animation.setup();
        animation.play();
    };

    BarLinearPointer.prototype.render = function render () {
        var group = new Group$3();
        var elementOptions = this.getElementOptions();

        if (this.options.track.visible) {
            group.append(this.renderTrack());
        }

        var pointer = this.pointerPath = new Path$4({
            stroke: elementOptions.stroke,
            fill: elementOptions.fill
        });

        group.append(pointer);

        this.elements = group;

        return group;
    };

    BarLinearPointer.prototype.renderTrack = function renderTrack () {
        var trackOptions = this.options.track;
        var border = trackOptions.border || {};
        var trackBox = this.trackBox.clone().pad(border.width || 0);

        return new Path$4.fromRect(trackBox.toRect(), {
            fill: {
                color: trackOptions.color,
                opacity: trackOptions.opacity
            },
            stroke: {
                color: border.width ? border.color || trackOptions.color : "",
                width: border.width,
                dashType: border.dashType
            }
        });
    };

    return BarLinearPointer;
}(LinearPointer));

var DEFAULT_MIN_WIDTH = 60;
var DEFAULT_MIN_HEIGHT = 60;

var Group$1 = _progress_kendoDrawing.drawing.Group;

var LinearGauge = (function (Gauge$$1) {
    function LinearGauge () {
        Gauge$$1.apply(this, arguments);
    }

    if ( Gauge$$1 ) LinearGauge.__proto__ = Gauge$$1;
    LinearGauge.prototype = Object.create( Gauge$$1 && Gauge$$1.prototype );
    LinearGauge.prototype.constructor = LinearGauge;

    LinearGauge.prototype.reflow = function reflow (bbox) {
        var pointers = this.pointers;
        var bboxX = bbox.origin.x;
        var bboxY = bbox.origin.y;

        var box = new Box(bboxX, bboxY, bboxX + bbox.width(), bboxY + bbox.height());

        this.scale.reflow(box);
        this._shrinkScaleWidth(box);

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow();
        }

        this.bbox = this._getBox(box);
        this._alignElements();
        this._shrinkElements();
        this._buildVisual();
        this._draw();
    };

    LinearGauge.prototype._buildVisual = function _buildVisual () {
        var visuals = new Group$1();
        var scaleElements = this.scale.render();
        var pointers = this.pointers;

        visuals.append(this.gaugeArea);
        visuals.append(scaleElements);

        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            visuals.append(current.render());
            current.value(current.options.value);
        }

        this._visuals = visuals;
    };

    LinearGauge.prototype._createModel = function _createModel () {
        var this$1 = this;

        var options = this.options;
        var scale = this.scale = new LinearScale(options.scale, this.contextService);

        this.pointers = [];

        var pointers = options.pointer;
        pointers = isArray(pointers) ? pointers : [ pointers ];

        for (var i = 0; i < pointers.length; i++) {
            var currentOptions = deepExtend({}, pointers[i], {
                animation: {
                    transitions: options.transitions
                }
            });
            var pointerType = currentOptions.shape === ARROW ? ArrowLinearPointer : BarLinearPointer;

            this$1.pointers.push(new pointerType(scale, currentOptions));
        }
    };

    LinearGauge.prototype._defaultSize = function _defaultSize () {
        var vertical = this.options.scale.vertical;

        return {
            width: vertical ? DEFAULT_MIN_WIDTH : DEFAULT_WIDTH$1,
            height: vertical ? DEFAULT_HEIGHT$1 : DEFAULT_MIN_HEIGHT
        };
    };

    LinearGauge.prototype._getBox = function _getBox (box) {
        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var boxCenter = box.center();
        var plotAreaBox = pointers[0].box.clone().wrap(scale.box);

        for (var i = 0; i < pointers.length; i++) {
            plotAreaBox.wrap(pointers[i].box.clone());
        }

        var size;
        if (scale.options.vertical) {
            size = plotAreaBox.width() / 2;
            plotAreaBox = new Box(
                boxCenter.x - size, box.y1,
                boxCenter.x + size, box.y2
            );
        } else {
            size = plotAreaBox.height() / 2;
            plotAreaBox = new Box(
                box.x1, boxCenter.y - size,
                box.x2, boxCenter.y + size
            );
        }

        return plotAreaBox;
    };

    LinearGauge.prototype._alignElements = function _alignElements () {
        var this$1 = this;

        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var scaleBox = scale.box;
        var box = pointers[0].box.clone().wrap(scale.box);
        var plotAreaBox = this.bbox;

        for (var i = 0; i < pointers.length; i++) {
            box.wrap(pointers[i].box.clone());
        }

        var diff;
        if (scale.options.vertical) {
            diff = plotAreaBox.center().x - box.center().x;
            scale.reflow(new Box(
                scaleBox.x1 + diff, plotAreaBox.y1,
                scaleBox.x2 + diff, plotAreaBox.y2
            ));
        } else {
            diff = plotAreaBox.center().y - box.center().y;
            scale.reflow(new Box(
                scaleBox.x1, scaleBox.y1 + diff,
                scaleBox.x2, scaleBox.y2 + diff
            ));
        }

        for (var i$1 = 0; i$1 < pointers.length; i$1++) {
            pointers[i$1].reflow(this$1.bbox);
        }
    };

    LinearGauge.prototype._shrinkScaleWidth = function _shrinkScaleWidth (bbox) {
        var ref = this;
        var scale = ref.scale;
        if (!scale.options.vertical) {
            var overflow = scale.contentBox().width() - bbox.width();
            if (overflow > 0) {
                scale.box.shrink(overflow, 0);
                scale.box.alignTo(bbox, 'center');
                scale.reflow(scale.box);
            }
        }
    };

    LinearGauge.prototype._shrinkElements = function _shrinkElements () {
        var this$1 = this;

        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var scaleBox = scale.box.clone();
        var pos = scale.options.vertical ? "y" : "x";
        var pointerBox = pointers[0].box;

        for (var i = 0; i < pointers.length; i++) {
            pointerBox.wrap(pointers[i].box.clone());
        }

        scaleBox[pos + 1] += Math.max(scaleBox[pos + 1] - pointerBox[pos + 1], 0);
        scaleBox[pos + 2] -= Math.max(pointerBox[pos + 2] - scaleBox[pos + 2], 0);

        scale.reflow(scaleBox);

        for (var i$1 = 0; i$1 < pointers.length; i$1++) {
            pointers[i$1].reflow(this$1.bbox);
        }
    };

    return LinearGauge;
}(Gauge));

setDefaultOptions(LinearGauge, {
    transitions: true,
    gaugeArea: {
        background: ""
    },
    scale: {
        vertical: true
    }
});

var GEO_ARC_ADJUST_ANGLE = 180;

var Arc = _progress_kendoDrawing.drawing.Arc;
var Path$5 = _progress_kendoDrawing.drawing.Path;
var Group$5 = _progress_kendoDrawing.drawing.Group;

function drawTicks(arc, tickAngles, unit, tickOptions) {
    var ticks = new Group$5();
    var center = arc.center;
    var radius = arc.getRadiusX();

    if (tickOptions.visible) {
        for (var i = 0; i < tickAngles.length; i++) {
            var tickStart = arc.pointAt(tickAngles[i]);
            var tickEnd = new _progress_kendoDrawing.geometry.Point(center.x + radius - tickOptions.size, center.y).rotate(tickAngles[i], center);

            ticks.append(new Path$5({
                stroke: {
                    color: tickOptions.color,
                    width: tickOptions.width
                }
            }).moveTo(tickStart).lineTo(tickEnd));
        }
    }

    return ticks;
}

function rangeSegment(from, to, color, opacity) {
    return { from: from, to: to, color: color, opacity: opacity };
}

var RadialScale = (function (NumericAxis$$1) {
    function RadialScale(options, service) {
        NumericAxis$$1.call(this, 0, 1, options, service);
    }

    if ( NumericAxis$$1 ) RadialScale.__proto__ = NumericAxis$$1;
    RadialScale.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    RadialScale.prototype.constructor = RadialScale;

    RadialScale.prototype.initUserOptions = function initUserOptions (options) {
        var scaleOptions = deepExtend({}, this.options, options);
        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);
        scaleOptions.minorUnit = scaleOptions.minorUnit || scaleOptions.majorUnit / 10;

        return scaleOptions;
    };

    RadialScale.prototype.initFields = function initFields () {
    };

    RadialScale.prototype.render = function render (center, radius) {
        var arc = this.renderArc(center, radius);

        this.bbox = arc.bbox();
        this.labelElements = this.renderLabels();
        this.ticks = this.renderTicks();
        this.ranges = this.renderRanges();
    };

    RadialScale.prototype.reflow = function reflow (bbox) {
        var center = bbox.center();
        var radius = Math.min(bbox.height(), bbox.width()) / 2;

        if (defined(this.bbox)) {
            this.bbox = this.arc.bbox();
            this.radius(this.arc.getRadiusX());
            this.repositionRanges();
            this.renderLabels();
        } else {
            return this.render(center, radius);
        }
    };

    RadialScale.prototype.slotAngle = function slotAngle (value) {
        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var reverse = ref.reverse;
        var startAngle = ref.startAngle;
        var endAngle = ref.endAngle;
        var angle = endAngle - startAngle;
        var result;

        if (reverse) {
            result = endAngle - (value - min) / (max - min) * angle;
        } else {
            result = ((value - min) / (max - min) * angle) + startAngle;
        }

        return result + GEO_ARC_ADJUST_ANGLE;
    };

    RadialScale.prototype.hasRanges = function hasRanges () {
        var ranges = this.options.ranges;

        return ranges && ranges.length;
    };

    RadialScale.prototype.ticksSize = function ticksSize () {
        var ref = this.options;
        var majorTicks = ref.majorTicks;
        var minorTicks = ref.minorTicks;
        var size = 0;
        if (majorTicks.visible) {
            size = majorTicks.size;
        }

        if (minorTicks.visible) {
            size = Math.max(minorTicks.size, size);
        }

        return size;
    };

    RadialScale.prototype.labelsCount = function labelsCount () {
        var count = NumericAxis$$1.prototype.labelsCount.call(this);
        var options = this.options;
        var angle = options.endAngle - options.startAngle;

        if (angle >= 360 && (options.max % options.majorUnit === 0)) {
            count -= 1;
        }

        return count;
    };

    RadialScale.prototype.renderLabels = function renderLabels () {
        var this$1 = this;

        var options = this.options;
        var arc = this.arc.clone();
        var radius = arc.getRadiusX();
        var tickAngles = this.tickAngles(arc, options.majorUnit);
        var rangeSize = options.rangeSize = options.rangeSize || radius * 0.1;
        var labelsGroup = new Group$5();

        var rangeDistance = radius * 0.05;
        if (defined(options.rangeDistance)) {
            rangeDistance = options.rangeDistance;
        } else {
            options.rangeDistance = rangeDistance;
        }

        var labelsOptions = options.labels;
        var isInside = labelsOptions.position === INSIDE$1;
        var hasLabelElements = defined(this.labelElements);

        if (isInside) {
            radius -= this.ticksSize();

            if (this.hasRanges() && !hasLabelElements) {
                radius -= rangeSize + rangeDistance;
            }
            arc.setRadiusX(radius).setRadiusY(radius);
        }

        var labels = this.labels;
        var count = labels.length;
        var padding = getSpacing(labelsOptions.padding);
        var paddingWidth = (padding.left + padding.right) / 2;
        var paddingHeight = (padding.top + padding.bottom) / 2;

        for (var i = 0; i < count; i++) {
            var label = labels[i];
            var halfWidth = label.box.width() / 2;
            var halfHeight = label.box.height() / 2;
            var angle = tickAngles[i];
            var labelAngle = (angle - GEO_ARC_ADJUST_ANGLE) * DEGREE;

            var lp = arc.pointAt(angle);
            var cx = lp.x + (Math.cos(labelAngle) * (halfWidth + paddingWidth) * (isInside ? 1 : -1));
            var cy = lp.y + (Math.sin(labelAngle) * (halfHeight + paddingHeight) * (isInside ? 1 : -1));

            label.reflow(new Box(cx - halfWidth, cy - halfHeight, cx + halfWidth, cy + halfHeight));
            var labelPos = new _progress_kendoDrawing.geometry.Point(label.box.x1, label.box.y1);

            var labelElement = (void 0);
            if (!hasLabelElements) {
                labelElement = buildLabelElement(label, options.labels);
                labelsGroup.append(labelElement);
            } else {
                labelElement = this$1.labelElements.children[i];
                var prevLabelPos = labelElement.bbox().origin;

                var labelTransform = labelElement.transform() || _progress_kendoDrawing.geometry.transform();
                labelTransform.translate(labelPos.x - prevLabelPos.x, labelPos.y - prevLabelPos.y);
                labelElement.transform(labelTransform);
            }

            this$1.bbox = _progress_kendoDrawing.geometry.Rect.union(this$1.bbox, labelElement.bbox());
        }

        return labelsGroup;
    };

    RadialScale.prototype.repositionRanges = function repositionRanges () {
        var ranges = this.ranges.children;

        if (ranges.length > 0) {
            var ref = this.options;
            var rangeDistance = ref.rangeDistance;
            var rangeSize = ref.rangeSize;
            var rangeRadius = this.getRangeRadius();

            if (this.options.labels.position === INSIDE$1) {
                rangeRadius += rangeSize + rangeDistance;
            }

            var newRadius = rangeRadius + (rangeSize / 2);

            for (var i = 0; i < ranges.length; i++) {
                ranges[i]._geometry.setRadiusX(newRadius).setRadiusY(newRadius);
            }

            this.bbox = _progress_kendoDrawing.geometry.Rect.union(this.bbox, this.ranges.bbox());
        }
    };

    RadialScale.prototype.renderRanges = function renderRanges () {
        var this$1 = this;

        var segments = this.rangeSegments();
        var segmentsCount = segments.length;
        var result = new Group$5();

        if (segmentsCount) {
            var ref = this.options;
            var rangeSize = ref.rangeSize;
            var reverse = ref.reverse;
            var rangeDistance = ref.rangeDistance;
            var rangeRadius = this.getRangeRadius();

            // move the ticks with a range distance and a range size
            this.radius(this.radius() - rangeSize - rangeDistance);

            for (var i = 0; i < segmentsCount; i++) {
                var segment = segments[i];
                var from = this$1.slotAngle(segment[reverse ? "to" : "from"]);
                var to = this$1.slotAngle(segment[!reverse ? "to" : "from"]);

                if (to - from !== 0) {
                    result.append(this$1.createRange(from, to, rangeRadius, segment));
                }
            }
        }

        return result;
    };

    RadialScale.prototype.createRange = function createRange (startAngle, endAngle, rangeRadius, options) {
        var rangeSize = this.options.rangeSize;
        var rangeGeom = new _progress_kendoDrawing.geometry.Arc(this.arc.center, {
            radiusX: rangeRadius + (rangeSize / 2),
            radiusY: rangeRadius + (rangeSize / 2),
            startAngle: startAngle,
            endAngle: endAngle
        });

        return new Arc(rangeGeom, {
            stroke: {
                width: rangeSize,
                color: options.color,
                opacity: options.opacity,
                lineCap: options.lineCap
            }
        });
    };

    RadialScale.prototype.rangeSegments = function rangeSegments () {
        var options = this.options;
        var ranges = options.ranges || [];
        var count = ranges.length;
        var segments = [];

        if (count) {
            var min = options.min;
            var max = options.max;
            var defaultColor = options.rangePlaceholderColor;
            segments.push(rangeSegment(min, max, defaultColor));

            for (var i = 0; i < count; i++) {
                var range = getRange(ranges[i], min, max);
                var segmentsCount = segments.length;

                for (var j = 0; j < segmentsCount; j++) {
                    var segment = segments[j];

                    if (segment.from <= range.from && range.from <= segment.to) {
                        segments.push(rangeSegment(range.from, range.to, range.color, range.opacity));

                        if (segment.from <= range.to && range.to <= segment.to) {
                            segments.push(rangeSegment(range.to, segment.to, defaultColor, range.opacity));
                        }

                        segment.to = range.from;

                        break;
                    }
                }
            }
        }

        return segments;
    };

    RadialScale.prototype.getRangeRadius = function getRangeRadius () {
        var ref = this;
        var arc = ref.arc;
        var options = ref.options;
        var rangeSize = options.rangeSize;
        var rangeDistance = options.rangeDistance;
        var majorTickSize = options.majorTicks.size;
        var radius;

        if (options.labels.position === OUTSIDE$1) {
            radius = arc.getRadiusX() - majorTickSize - rangeDistance - rangeSize;
        } else {
            radius = arc.getRadiusX() - rangeSize;
        }

        return radius;
    };

    RadialScale.prototype.renderArc = function renderArc (center, radius) {
        var options = this.options;

        var arc = this.arc = new _progress_kendoDrawing.geometry.Arc(center, {
            radiusX: radius,
            radiusY: radius,
            startAngle: options.startAngle + GEO_ARC_ADJUST_ANGLE,
            endAngle: options.endAngle + GEO_ARC_ADJUST_ANGLE
        });

        return arc;
    };

    RadialScale.prototype.renderTicks = function renderTicks () {
        var ref = this;
        var arc = ref.arc;
        var options = ref.options;
        var tickArc = arc.clone();

        this.majorTickAngles = this.tickAngles(arc, options.majorUnit);
        this.majorTicks = drawTicks(tickArc, this.majorTickAngles, options.majorUnit, options.majorTicks);

        var allTicks = new Group$5();
        allTicks.append(this.majorTicks);

        var majorTickSize = options.majorTicks.size;
        var minorTickSize = options.minorTicks.size;

        this._tickDifference = majorTickSize - minorTickSize;

        if (options.labels.position === OUTSIDE$1) {
            var radius = tickArc.getRadiusX();
            tickArc.setRadiusX(radius - majorTickSize + minorTickSize)
                   .setRadiusY(radius - majorTickSize + minorTickSize);
        }

        this.minorTickAngles = this.normalizeTickAngles(this.tickAngles(arc, options.minorUnit));
        this.minorTicks = drawTicks(tickArc, this.minorTickAngles, options.minorUnit, options.minorTicks);
        allTicks.append(this.minorTicks);

        return allTicks;
    };

    RadialScale.prototype.normalizeTickAngles = function normalizeTickAngles (angles) {
        var options = this.options;
        var skip = options.majorUnit / options.minorUnit;

        for (var i = angles.length - 1; i >= 0; i--) {
            if (i % skip === 0) {
                angles.splice(i, 1);
            }
        }

        return angles;
    };

    RadialScale.prototype.tickAngles = function tickAngles (ring, stepValue) {
        var options = this.options;
        var reverse = options.reverse;
        var range = options.max - options.min;
        var angle = ring.endAngle - ring.startAngle;
        var tickCount = range / stepValue;
        var pos = ring.startAngle;
        var step = angle / tickCount;

        if (reverse) {
            pos += angle;
            step = -step;
        }

        if (angle >= 360 && (options.max % stepValue === 0)) {
            tickCount -= 1;
        }

        var positions = [];
        for (var i = 0; i < tickCount; i++) {
            positions.push(round(pos, COORD_PRECISION));
            pos += step;
        }

        if (round(pos) <= ring.endAngle) {
            positions.push(pos);
        }

        return positions;
    };

    RadialScale.prototype.radius = function radius (value) {
        if (value) {
            this.arc.setRadiusX(value).setRadiusY(value);
            this.repositionTicks(this.majorTicks.children, this.majorTickAngles);
            this.repositionTicks(this.minorTicks.children, this.minorTickAngles, true);
        } else {
            return this.arc.getRadiusX();
        }
    };

    RadialScale.prototype.repositionTicks = function repositionTicks (ticks, tickAngles, minor) {
        var diff = minor ? (this._tickDifference || 0) : 0;
        var tickArc = this.arc;
        var radius = tickArc.getRadiusX();

        if (minor && this.options.labels.position === OUTSIDE$1 && diff !== 0) {
            tickArc = this.arc.clone();
            tickArc.setRadiusX(radius - diff).setRadiusY(radius - diff);
        }

        for (var i = 0; i < ticks.length; i++) {
            var newPoint = tickArc.pointAt(tickAngles[i]);
            var segments = ticks[i].segments;
            var xDiff = newPoint.x - segments[0].anchor().x;
            var yDiff = newPoint.y - segments[0].anchor().y;

            ticks[i].transform(new _progress_kendoDrawing.geometry.transform().translate(xDiff, yDiff));
        }
    };

    return RadialScale;
}(NumericAxis));

setDefaultOptions(RadialScale, {
    min: 0,
    max: 100,

    majorTicks: {
        size: 15,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    minorTicks: {
        size: 10,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    startAngle: -30,
    endAngle: 210,

    labels: {
        position: INSIDE$1,
        padding: 2
    }
});

var RadialPointerAnimation = (function (superclass) {
    function RadialPointerAnimation(element, options) {
        superclass.call(this, element, options);

        var animationOptions = this.options;

        animationOptions.duration = Math.max((Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000, 1);
    }

    if ( superclass ) RadialPointerAnimation.__proto__ = superclass;
    RadialPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    RadialPointerAnimation.prototype.constructor = RadialPointerAnimation;

    RadialPointerAnimation.prototype.step = function step (pos) {
        var options = this.options;
        var angle = interpolateValue(options.oldAngle, options.newAngle, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform().rotate(angle, options.center));
    };

    return RadialPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(RadialPointerAnimation, {
    easing: LINEAR$1,
    duration: ANGULAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(RADIAL_POINTER, RadialPointerAnimation);

var CAP_SIZE = 0.05;
var Circle = _progress_kendoDrawing.drawing.Circle;
var Group$6 = _progress_kendoDrawing.drawing.Group;
var Path$6 = _progress_kendoDrawing.drawing.Path;

var RadialPointer = (function (Pointer$$1) {
    function RadialPointer () {
        Pointer$$1.apply(this, arguments);
    }

    if ( Pointer$$1 ) RadialPointer.__proto__ = Pointer$$1;
    RadialPointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    RadialPointer.prototype.constructor = RadialPointer;

    RadialPointer.prototype.setAngle = function setAngle (angle) {
        this.elements.transform(_progress_kendoDrawing.geometry.transform().rotate(angle, this.center));
    };

    RadialPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var oldAngle = scale.slotAngle(options._oldValue);
        var newAngle = scale.slotAngle(options.value);

        if (options.animation.transitions === false) {
            this.setAngle(newAngle);
        } else {
            new RadialPointerAnimation(this.elements, deepExtend(options.animation, {
                oldAngle: oldAngle,
                newAngle: newAngle
            })).play();
        }
    };

    RadialPointer.prototype.render = function render () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var elements = new Group$6();

        if (options.animation !== false) {
            deepExtend(options.animation, {
                startAngle: 0,
                center: scale.arc.center,
                reverse: scale.options.reverse
            });
        }

        elements.append(this._renderNeedle(), this._renderCap());

        this.elements = elements;
        this.setAngle(DEGREE);

        return elements;
    };

    RadialPointer.prototype.reflow = function reflow (arc) {
        var center = this.center = arc.center;
        var length = limitValue(this.options.length || 1, 0.1, 1.5);
        var radius = this.radius = arc.getRadiusX() * length;
        var capSize = this.capSize = Math.round(radius * this.options.cap.size);

        this.bbox = _progress_kendoDrawing.geometry.Rect.fromPoints(new _progress_kendoDrawing.geometry.Point(center.x - capSize, center.y - capSize),
                                    new _progress_kendoDrawing.geometry.Point(center.x + capSize, center.y + capSize));
    };

    RadialPointer.prototype._renderNeedle = function _renderNeedle () {
        var minorTickSize = this.scale.options.minorTicks.size;
        var center = this.center;
        var needleColor = this.options.color;

        var needlePath = new Path$6({
            fill: { color: needleColor },
            stroke: { color: needleColor, width: DEFAULT_LINE_WIDTH }
        });

        needlePath.moveTo(center.x + this.radius - minorTickSize, center.y)
                  .lineTo(center.x, center.y - (this.capSize / 2))
                  .lineTo(center.x, center.y + (this.capSize / 2))
                  .close();

        return needlePath;
    };

    RadialPointer.prototype._renderCap = function _renderCap () {
        var options = this.options;
        var capColor = options.cap.color || options.color;
        var circle = new _progress_kendoDrawing.geometry.Circle(this.center, this.capSize);

        var cap = new Circle(circle, {
            fill: { color: capColor },
            stroke: { color: capColor }
        });

        return cap;
    };

    return RadialPointer;
}(Pointer));

setDefaultOptions(RadialPointer, {
    cap: {
        size: CAP_SIZE
    },
    arrow: {
        width: 16,
        height: 14
    },
    animation: {
        type: RADIAL_POINTER,
        duration: ANGULAR_SPEED
    }
});

var Group$4 = _progress_kendoDrawing.drawing.Group;

var RadialGauge = (function (Gauge$$1) {
    function RadialGauge () {
        Gauge$$1.apply(this, arguments);
    }

    if ( Gauge$$1 ) RadialGauge.__proto__ = Gauge$$1;
    RadialGauge.prototype = Object.create( Gauge$$1 && Gauge$$1.prototype );
    RadialGauge.prototype.constructor = RadialGauge;

    RadialGauge.prototype.reflow = function reflow (bbox) {
        var this$1 = this;

        var pointers = this.pointers;
        this.scale.reflow(bbox);
        this._initialPlotArea = this.scale.bbox;

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(this$1.scale.arc);
            this$1._initialPlotArea = _progress_kendoDrawing.geometry.Rect.union(this$1._initialPlotArea, pointers[i].bbox);
        }

        this.fitScale(bbox);
        this.alignScale(bbox);
        this._buildVisual(this.gaugeArea, pointers, this.scale);
        this._draw();
    };

    RadialGauge.prototype._buildVisual = function _buildVisual (gaugeArea, pointers, scale) {
        var visuals = this._visuals = new Group$4();

        visuals.append(gaugeArea);
        visuals.append(scale.ticks);
        visuals.append(scale.ranges);
        this._buildPointers(pointers);
        visuals.append(scale.labelElements);
    };

    RadialGauge.prototype._buildPointers = function _buildPointers (pointers) {
        var this$1 = this;

        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            current.render();
            this$1._visuals.append(current.elements);

            current.value(current.options.value);
        }
    };

    RadialGauge.prototype.fitScale = function fitScale (bbox) {
        var this$1 = this;

        var arc = this.scale.arc;
        var plotAreaBox = this._initialPlotArea;
        var step = Math.abs(this.getDiff(plotAreaBox, bbox));
        var min = round(step, COORD_PRECISION);
        var max = round(-step, COORD_PRECISION);
        var minDiff, midDiff, maxDiff, mid, oldDiff;
        var staleFlag = 0;
        var i = 0;

        while (i++ < 100) {
            staleFlag = (oldDiff === maxDiff) ? (staleFlag + 1) : 0;

            if (staleFlag > 5) {
                break;
            }

            if (min !== mid) {
                minDiff = this$1.getPlotBox(min, bbox, arc);
                if (0 <= minDiff && minDiff <= 2) {
                    break;
                }
            }

            if (max !== mid) {
                maxDiff = this$1.getPlotBox(max, bbox, arc);
                if (0 <= maxDiff && maxDiff <= 2) {
                    break;
                }
            }

            if (minDiff > 0 && maxDiff > 0) {
                mid = min * 2;
            } else if (minDiff < 0 && maxDiff < 0) {
                mid = max * 2;
            } else {
                mid = round(((min + max) / 2) || 1, COORD_PRECISION);
            }

            midDiff = this$1.getPlotBox(mid, bbox, arc);
            if (0 <= midDiff && midDiff <= 2) {
                break;
            }

            oldDiff = maxDiff;

            if (midDiff > 0) {
                max = mid;
                maxDiff = midDiff;
            } else {
                min = mid;
                minDiff = midDiff;
            }
        }
    };

    RadialGauge.prototype.getPlotBox = function getPlotBox (step, bbox, arc) {
        var this$1 = this;

        var scale = this.scale;
        var pointers = this.pointers;
        var radius = arc.getRadiusX();
        var scaleArc = arc.clone();

        scaleArc.setRadiusX(radius + step).setRadiusY(radius + step);

        scale.arc = scaleArc;
        scale.reflow(bbox);
        this.plotBbox = scale.bbox;

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(scaleArc);
            this$1.plotBbox = _progress_kendoDrawing.geometry.Rect.union(this$1.plotBbox, pointers[i].bbox);
        }

        return this.getDiff(this.plotBbox, bbox);
    };

    RadialGauge.prototype.getDiff = function getDiff (plotBox, box) {
        return Math.min(box.width() - plotBox.width(), box.height() - plotBox.height());
    };

    RadialGauge.prototype.alignScale = function alignScale (bbox) {
        var this$1 = this;

        var plotBoxCenter = this.plotBbox.center();
        var boxCenter = bbox.center();
        var paddingX = plotBoxCenter.x - boxCenter.x;
        var paddingY = plotBoxCenter.y - boxCenter.y;
        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;

        scale.arc.center.x -= paddingX;
        scale.arc.center.y -= paddingY;

        scale.reflow(bbox);

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(scale.arc);
            this$1.plotBbox = _progress_kendoDrawing.geometry.Rect.union(scale.bbox, pointers[i].bbox);
        }
    };

    RadialGauge.prototype._createModel = function _createModel () {
        var this$1 = this;

        var options = this.options;
        var pointers = options.pointer;
        var scale = this.scale = new RadialScale(options.scale, this.contextService);

        this.pointers = [];

        var pointersArr = isArray(pointers) ? pointers : [ pointers ];
        for (var i = 0; i < pointersArr.length; i++) {
            var current = new RadialPointer(scale, deepExtend({}, pointersArr[i], {
                animation: {
                    transitions: options.transitions
                }
            }));

            this$1.pointers.push(current);
        }
    };

    return RadialGauge;
}(Gauge));

setDefaultOptions(RadialGauge, {
    transitions: true,
    gaugeArea: {
        background: ""
    }
});

var ArcScale = (function (RadialScale$$1) {
    function ArcScale () {
        RadialScale$$1.apply(this, arguments);
    }

    if ( RadialScale$$1 ) ArcScale.__proto__ = RadialScale$$1;
    ArcScale.prototype = Object.create( RadialScale$$1 && RadialScale$$1.prototype );
    ArcScale.prototype.constructor = ArcScale;

    ArcScale.prototype.rangeSegments = function rangeSegments () {
        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var rangePlaceholderColor = ref.rangePlaceholderColor;
        var rangeLineCap = ref.rangeLineCap;

        return [ { from: min, to: max, color: rangePlaceholderColor, lineCap: rangeLineCap } ];
    };

    ArcScale.prototype.hasRanges = function hasRanges () {
        return true;
    };

    ArcScale.prototype.placeholderRangeAngle = function placeholderRangeAngle (angle) {
        var geometry$$1 = this.ranges.children[0].geometry();

        if (this.options.reverse) {
            geometry$$1.setEndAngle(angle);
        } else {
            geometry$$1.setStartAngle(angle);
        }
    };

    ArcScale.prototype.addRange = function addRange (from, to, options) {
        var reverse = this.options.reverse;

        var startAngle = this.slotAngle(reverse ? to : from);
        var endAngle = this.slotAngle(reverse ? from : to);

        var range = this.createRange(startAngle, endAngle, this.getRangeRadius(), options);

        this.ranges.append(range);

        return range;
    };

    return ArcScale;
}(RadialScale));

setDefaultOptions(ArcScale, {
    min: 0,
    max: 100,

    majorTicks: {
        visible: false
    },

    minorTicks: {
        visible: false
    },

    labels: {
        visible: false
    },

    startAngle: 0,
    endAngle: 180,
    rangeLineCap: 'round'
});

var MAX_DURATION = 800;

var RangePointerAnimation = (function (superclass) {
    function RangePointerAnimation(element, options) {
        superclass.call(this, element, options);

        var animationOptions = this.options;
        var duration = (Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000;
        animationOptions.duration = limitValue(duration, ANGULAR_SPEED, MAX_DURATION);

        var startColor = element.elements.options.get("stroke.color");
        var color = element.currentColor();
        if (startColor !== color) {
            this.startColor = new _progress_kendoDrawing.Color(startColor);
            this.color = new _progress_kendoDrawing.Color(color);
        }
    }

    if ( superclass ) RangePointerAnimation.__proto__ = superclass;
    RangePointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    RangePointerAnimation.prototype.constructor = RangePointerAnimation;

    RangePointerAnimation.prototype.step = function step (pos) {
        var ref = this;
        var options = ref.options;
        var startColor = ref.startColor;
        var color = ref.color;
        var angle = interpolateValue(options.oldAngle, options.newAngle, pos);
        this.element.angle(angle);

        if (color) {
            var r = round(interpolateValue(startColor.r, color.r, pos));
            var g = round(interpolateValue(startColor.g, color.g, pos));
            var b = round(interpolateValue(startColor.b, color.b, pos));

            this.element.stroke(new _progress_kendoDrawing.Color(r, g, b).toHex());
        }
    };

    return RangePointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(RangePointerAnimation, {
    easing: LINEAR$1,
    duration: ANGULAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(RADIAL_RANGE_POINTER, RangePointerAnimation);

var RangePointer = (function (Pointer$$1) {
    function RangePointer () {
        Pointer$$1.apply(this, arguments);
    }

    if ( Pointer$$1 ) RangePointer.__proto__ = Pointer$$1;
    RangePointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    RangePointer.prototype.constructor = RangePointer;

    RangePointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var oldAngle = scale.slotAngle(options._oldValue);
        var newAngle = scale.slotAngle(options.value);

        if (this.animation) {
            this.animation.abort();
        }

        if (options.animation.transitions === false) {
            this.angle(newAngle);
            this.stroke(this.currentColor());
        } else {
            this.animation = new RangePointerAnimation(this, deepExtend(options.animation, {
                oldAngle: oldAngle,
                newAngle: newAngle
            }));

            this.animation.play();
        }
    };

    RangePointer.prototype.angle = function angle (value) {
        var geometry$$1 = this.elements.geometry();
        if (this.scale.options.reverse) {
            geometry$$1.setStartAngle(value);
        } else {
            geometry$$1.setEndAngle(value);
        }
        this.scale.placeholderRangeAngle(value);
    };

    RangePointer.prototype.stroke = function stroke (value) {
        this.elements.stroke(value);
    };

    RangePointer.prototype.render = function render () {
        if (this.elements) {
            return;
        }

        var ref = this;
        var scale = ref.scale;
        var options = ref.options;

        if (options.animation !== false) {
            deepExtend(options.animation, {
                startAngle: 0,
                center: scale.arc.center,
                reverse: scale.options.reverse
            });
        }

        this.elements = scale.addRange(scale.options.min, this.options.value, {
            color: this.currentColor(),
            opacity: options.opacity,
            lineCap: scale.options.rangeLineCap
        });
    };

    RangePointer.prototype.currentColor = function currentColor () {
        var ref = this.scale.options;
        var min = ref.min;
        var max = ref.max;
        var ref$1 = this.options;
        var colors = ref$1.colors;
        var color = ref$1.color;
        var value = ref$1.value;
        var currentValue = isNumber(value) ? value : min;

        if (colors) {
            for (var idx = 0; idx < colors.length; idx++) {
                var ref$2 = colors[idx];
                var rangeColor = ref$2.color;
                var from = ref$2.from; if ( from === void 0 ) from = min;
                var to = ref$2.to; if ( to === void 0 ) to = max;

                if (from <= currentValue && currentValue <= to) {
                    return rangeColor;
                }
            }
        }

        return color;
    };

    RangePointer.prototype.reflow = function reflow () {
        this.render();

        this.bbox = this.elements.bbox();
    };

    return RangePointer;
}(Pointer));

setDefaultOptions(RangePointer, {
    animation: {
        type: RADIAL_RANGE_POINTER,
        duration: ANGULAR_SPEED
    }
});

var ArcGauge = (function (RadialGauge$$1) {
    function ArcGauge () {
        RadialGauge$$1.apply(this, arguments);
    }

    if ( RadialGauge$$1 ) ArcGauge.__proto__ = RadialGauge$$1;
    ArcGauge.prototype = Object.create( RadialGauge$$1 && RadialGauge$$1.prototype );
    ArcGauge.prototype.constructor = ArcGauge;

    ArcGauge.prototype._initTheme = function _initTheme (theme) {
        RadialGauge$$1.prototype._initTheme.call(this, theme);

        this.options.color = this.options.color || (this.theme.pointer || {}).color;
    };

    ArcGauge.prototype._createModel = function _createModel () {
        var options = this.options;
        var scale = this.scale = new ArcScale(options.scale, this.contextService);

        var pointer = new RangePointer(scale, deepExtend({}, {
            colors: options.colors,
            color: options.color,
            value: options.value,
            opacity: options.opacity,
            animation: {
                transitions: options.transitions
            }
        }));

        this.pointers = [ pointer ];
    };

    ArcGauge.prototype._buildPointers = function _buildPointers (pointers) {
        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            current.render();

            current.value(current.options.value);
        }
    };

    ArcGauge.prototype._setValueOptions = function _setValueOptions (value) {
        this.options.value = value;
    };

    ArcGauge.prototype.currentColor = function currentColor () {
        var pointer = this.pointers[0];
        if (pointer) {
            return pointer.currentColor();
        }
    };

    ArcGauge.prototype.centerLabelPosition = function centerLabelPosition (width, height) {
        var size = this.getSize();
        var center = this.scale.arc.center;

        var left = center.x - width / 2;
        var top = center.y - height / 2;

        if (width < size.width) {
            var right = left + width;

            left = Math.max(left, 0);

            if (right > size.width) {
                left -= right - size.width;
            }
        }

        if (height < size.height) {
            var bbox = this.scale.bbox;
            var yLimit = bbox.bottomRight().y;
            var bottom = top + height;

            top = Math.max(top, bbox.origin.y);

            if (bottom > yLimit) {
                top -= bottom - yLimit;
            }
        }

        return {
            left: left,
            top: top
        };
    };

    return ArcGauge;
}(RadialGauge));

var defaultStartAngle = 90;

var CircularGauge = (function (ArcGauge$$1) {
    function CircularGauge () {
        ArcGauge$$1.apply(this, arguments);
    }

    if ( ArcGauge$$1 ) CircularGauge.__proto__ = ArcGauge$$1;
    CircularGauge.prototype = Object.create( ArcGauge$$1 && ArcGauge$$1.prototype );
    CircularGauge.prototype.constructor = CircularGauge;

    CircularGauge.prototype._createModel = function _createModel () {
        var scaleOptions = this.options.scale;
        if (typeof scaleOptions.startAngle !== 'number') {
            scaleOptions.startAngle = defaultStartAngle;
        }

        scaleOptions.endAngle = scaleOptions.startAngle + 360;

        ArcGauge$$1.prototype._createModel.call(this);
    };

    return CircularGauge;
}(ArcGauge));

var DEFAULT_QUIET_ZONE_LENGTH = 10;

var Encoding = (function (Class$$1) {
    function Encoding(options) {
        Class$$1.call(this);
        this.setOptions(options);
        this.initProperties();
    }

    if ( Class$$1 ) Encoding.__proto__ = Class$$1;
    Encoding.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Encoding.prototype.constructor = Encoding;

    Encoding.prototype.initProperties = function initProperties () { };

    Encoding.prototype.setOptions = function setOptions (options) {
        this.options = Object.assign({}, this.options, options);
        this.quietZoneLength = this.options.addQuietZone ? 2 * this.options.quietZoneLength : 0;
    };

    Encoding.prototype.encode = function encode (value, width, height) {
        var convertedValue = defined(value) ? String(value) : value;

        this.initValue(convertedValue, width, height);

        if (this.options.addQuietZone) {
            this.addQuietZone();
        }

        this.addData();

        if (this.options.addQuietZone) {
            this.addQuietZone();
        }

        return {
            baseUnit: this.baseUnit,
            pattern: this.pattern
        };
    };

    Encoding.prototype.initValue = function initValue () { };

    Encoding.prototype.addQuietZone = function addQuietZone () {
        this.pattern.push(this.options.quietZoneLength || DEFAULT_QUIET_ZONE_LENGTH);
    };

    Encoding.prototype.addData = function addData () { };

    Encoding.prototype.invalidCharacterError = function invalidCharacterError (character) {
        throw new Error(("Character \"" + character + "\" is not valid for symbology " + (this.name) + "."));
    };

    return Encoding;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Encoding, {
    quietZoneLength: DEFAULT_QUIET_ZONE_LENGTH,
    addQuietZone: true,
    addCheckSum: true
});

var extend = Object.assign;

var Code11 = (function (Encoding$$1) {
    function Code11 () {
        Encoding$$1.apply(this, arguments);
    }

    if ( Encoding$$1 ) Code11.__proto__ = Encoding$$1;
    Code11.prototype = Object.create( Encoding$$1 && Encoding$$1.prototype );
    Code11.prototype.constructor = Code11;

    Code11.prototype.initProperties = function initProperties () {
        Encoding$$1.prototype.initProperties.call(this);

        extend(this, {
            name: "Code 11",
            characterMap: ["111121", "211121", "121121", "221111", "112121", "212111", "122111", "111221", "211211", "211111", "112111"],
            cCheckSumTotal: 10,
            kCheckSumTotal: 9,
            kCheckSumMinLength: 10,
            checkSumMod: 11,
            DASH_VALUE: 10,
            DASH: "-",
            START: "112211",
            STOP: "11221"
        });
    };

    Code11.prototype.initValue = function initValue (value, width) {
        this.pattern = [];
        this.value = value;
        this.width = width;
        this.totalUnits = 0;
    };

    Code11.prototype.addData = function addData () {
        var this$1 = this;

        var value = this.value;

        this.addPattern(this.START);

        for (var i = 0; i < value.length; i++) {
            this$1.addCharacter(value.charAt(i));
        }

        if (this.options.addCheckSum) {
            this.addCheckSum();
        }

        this.addPattern(this.STOP);
        this.setBaseUnit();
    };

    Code11.prototype.setBaseUnit = function setBaseUnit () {
        this.baseUnit = this.width / (this.totalUnits + this.quietZoneLength);
    };

    Code11.prototype.addCheckSum = function addCheckSum () {
        var value = this.value;
        var length = value.length;
        var cValue = this.getWeightedSum(value, length, this.cCheckSumTotal) % this.checkSumMod;

        this.checksum = String(cValue);
        this.addPattern(this.characterMap[cValue]);

        length++;

        if (length >= this.kCheckSumMinLength) {
            var kValue = (cValue + this.getWeightedSum(value, length, this.kCheckSumTotal)) % this.checkSumMod;
            this.checksum += kValue;
            this.addPattern(this.characterMap[kValue]);
        }
    };

    Code11.prototype.getWeightedSum = function getWeightedSum (value, length, total) {
        var this$1 = this;

        var weightedSum = 0;

        for (var i = 0; i < value.length; i++) {
            weightedSum += this$1.weightedValue(this$1.getValue(value.charAt(i)), length, i, total);
        }

        return weightedSum;
    };

    Code11.prototype.weightedValue = function weightedValue (value, length, index, total) {
        var weight = (length - index) % total || total;
        return weight * value;
    };

    Code11.prototype.getValue = function getValue (character) {
        if (!isNaN(character)) {
            return parseInt(character, 10);
        } else if (character !== this.DASH) {
            this.invalidCharacterError(character);
        }

        return this.DASH_VALUE;
    };

    Code11.prototype.addCharacter = function addCharacter (character) {
        var value = this.getValue(character);
        var pattern = this.characterMap[value];

        this.addPattern(pattern);
    };

    Code11.prototype.addPattern = function addPattern (pattern) {
        var this$1 = this;

        var value;

        for (var i = 0; i < pattern.length; i++) {
            value = parseInt(pattern.charAt(i), 10);
            this$1.pattern.push(value);
            this$1.totalUnits += value;
        }
    };

    return Code11;
}(Encoding));

setDefaultOptions(Code11, {
    addCheckSum: true
});

var extend$1 = Object.assign;

var Code39Base = (function (Encoding$$1) {
    function Code39Base () {
        Encoding$$1.apply(this, arguments);
    }

    if ( Encoding$$1 ) Code39Base.__proto__ = Encoding$$1;
    Code39Base.prototype = Object.create( Encoding$$1 && Encoding$$1.prototype );
    Code39Base.prototype.constructor = Code39Base;

    Code39Base.prototype.initProperties = function initProperties () {
        Encoding$$1.prototype.initProperties.call(this);

        extend$1(this, {
            minBaseUnitLength: 0.7
        });
    };

    Code39Base.prototype.addData = function addData () {
        var this$1 = this;

        var value = this.value;

        this.addStart();

        for (var idx = 0; idx < value.length; idx++) {
            this$1.addCharacter(value.charAt(idx));
        }

        if (this.options.addCheckSum) {
            this.pushCheckSum();
        }

        this.addStop();
        this.prepareValues();
    };

    Code39Base.prototype.addCharacter = function addCharacter (character) {
        var characterData = this.characterMap[character];

        if (!characterData) {
            this.invalidCharacterError(character);
        }

        this.addBase(characterData);
    };

    Code39Base.prototype.addBase = function addBase () { };

    return Code39Base;
}(Encoding));

var Code39 = (function (Code39Base) {
    function Code39 () {
        Code39Base.apply(this, arguments);
    }

    if ( Code39Base ) Code39.__proto__ = Code39Base;
    Code39.prototype = Object.create( Code39Base && Code39Base.prototype );
    Code39.prototype.constructor = Code39;

    Code39.prototype.initProperties = function initProperties () {
        Code39Base.prototype.initProperties.call(this);

        extend$1(this, {
            name: "Code 39",
            checkSumMod: 43,
            minRatio: 2.5,
            maxRatio: 3,
            gapWidth: 1,
            splitCharacter: "|",
            patternMappings: {
                "b": "1|",
                "w": "1|",
                "B": "ratio|",
                "W": "ratio|"
            },
            characterMap: {
                "0": { "pattern": "bwbWBwBwb", "value": 0 },
                "1": { "pattern": "BwbWbwbwB", "value": 1 },
                "2": { "pattern": "bwBWbwbwB", "value": 2 },
                "3": { "pattern": "BwBWbwbwb", "value": 3 },
                "4": { "pattern": "bwbWBwbwB", "value": 4 },
                "5": { "pattern": "BwbWBwbwb", "value": 5 },
                "6": { "pattern": "bwBWBwbwb", "value": 6 },
                "7": { "pattern": "bwbWbwBwB", "value": 7 },
                "8": { "pattern": "BwbWbwBwb", "value": 8 },
                "9": { "pattern": "bwBWbwBwb", "value": 9 },
                "A": { "pattern": "BwbwbWbwB", "value": 10 },
                "B": { "pattern": "bwBwbWbwB", "value": 11 },
                "C": { "pattern": "BwBwbWbwb", "value": 12 },
                "D": { "pattern": "bwbwBWbwB", "value": 13 },
                "E": { "pattern": "BwbwBWbwb", "value": 14 },
                "F": { "pattern": "bwBwBWbwb", "value": 15 },
                "G": { "pattern": "bwbwbWBwB", "value": 16 },
                "H": { "pattern": "BwbwbWBwb", "value": 17 },
                "I": { "pattern": "bwBwbWBwb", "value": 18 },
                "J": { "pattern": "bwbwBWBwb", "value": 19 },
                "K": { "pattern": "BwbwbwbWB", "value": 20 },
                "L": { "pattern": "bwBwbwbWB", "value": 21 },
                "M": { "pattern": "BwBwbwbWb", "value": 22 },
                "N": { "pattern": "bwbwBwbWB", "value": 23 },
                "O": { "pattern": "BwbwBwbWb", "value": 24 },
                "P": { "pattern": "bwBwBwbWb", "value": 25 },
                "Q": { "pattern": "bwbwbwBWB", "value": 26 },
                "R": { "pattern": "BwbwbwBWb", "value": 27 },
                "S": { "pattern": "bwBwbwBWb", "value": 28 },
                "T": { "pattern": "bwbwBwBWb", "value": 29 },
                "U": { "pattern": "BWbwbwbwB", "value": 30 },
                "V": { "pattern": "bWBwbwbwB", "value": 31 },
                "W": { "pattern": "BWBwbwbwb", "value": 32 },
                "X": { "pattern": "bWbwBwbwB", "value": 33 },
                "Y": { "pattern": "BWbwBwbwb", "value": 34 },
                "Z": { "pattern": "bWBwBwbwb", "value": 35 },
                "-": { "pattern": "bWbwbwBwB", "value": 36 },
                ".": { "pattern": "BWbwbwBwb", "value": 37 },
                " ": { "pattern": "bWBwbwBwb", "value": 38 },
                "$": { "pattern": "bWbWbWbwb", "value": 39 },
                "/": { "pattern": "bWbWbwbWb", "value": 40 },
                "+": { "pattern": "bWbwbWbWb", "value": 41 },
                "%": { "pattern": "bwbWbWbWb", "value": 42 },
                START: { pattern: "bWbwBwBwb" }
            }
        });
    };

    Code39.prototype.initValue = function initValue (value, width, height) {
        this.width = width;
        this.height = height;
        this.value = value;
        this.dataLength = value.length;
        this.pattern = [];
        this.patternString = "";
    };

    Code39.prototype.prepareValues = function prepareValues () {
        var this$1 = this;

        var minBaseUnit = this.minBaseUnitLength;
        var minRatio = this.minRatio;
        var minHeight = Math.ceil(Math.max(0.15 * this.width, 24));
        var baseUnit;
        var ratio = this.maxRatio;

        if (this.height < minHeight) {
            throw new Error(("Insufficient height for Code39 encoding: the current height is " + (this.height) + "px and the minimum height is " + minHeight + "px."));
        }

        baseUnit = this.getBaseUnit(ratio);

        while (baseUnit < minBaseUnit && ratio > minRatio) {
            ratio = parseFloat((ratio - 0.1).toFixed(1));
            baseUnit = this$1.getBaseUnit(ratio);
        }

        if (baseUnit < minBaseUnit) {
            var minWidth = Math.ceil(this.getBaseWidth(minRatio) * minBaseUnit);
            throw new Error(("Insufficient width for Code39 encoding: the current width is " + (this.width) + "px and the minimum width for value \"" + (this.value) + "\" is " + minWidth + "px."));
        }

        this.ratio = ratio;
        this.baseUnit = baseUnit;
        this.patternString = this.patternString.substring(0, this.patternString.length - 1);
        this.pattern = this.pattern.concat(this.patternString.replace(/ratio/g, ratio).split(this.splitCharacter));
    };

    Code39.prototype.getBaseUnit = function getBaseUnit (ratio) {
        return this.width / this.getBaseWidth(ratio);
    };

    Code39.prototype.getBaseWidth = function getBaseWidth (ratio) {
        var characterLength = 3 * (ratio + 2);
        return this.quietZoneLength + characterLength * (this.dataLength + 2) + this.gapWidth * (this.dataLength + 1);
    };

    Code39.prototype.addStart = function addStart () {
        this.addPattern(this.characterMap.START.pattern);
        this.addCharacterGap();
    };

    Code39.prototype.addBase = function addBase (character) {
        this.addPattern(character.pattern);
        this.addCharacterGap();
    };

    Code39.prototype.addStop = function addStop () {
        this.addPattern(this.characterMap.START.pattern);
    };

    Code39.prototype.addPattern = function addPattern (pattern) {
        var this$1 = this;

        for (var i = 0; i < pattern.length; i++) {
            this$1.patternString += this$1.patternMappings[pattern.charAt(i)];
        }
    };

    Code39.prototype.addCharacterGap = function addCharacterGap () {
        this.patternString += this.gapWidth + this.splitCharacter;
    };

    return Code39;
}(Code39Base));

setDefaultOptions(Code39, {
    addCheckSum: false
});

var Code39ExtendedBase = {
    addCharacter: function addCharacter(character) {
        if (this.characterMap[character]) {
            this.addBase(this.characterMap[character]);
        } else if (character.charCodeAt(0) > 127) {
            this.invalidCharacterError(character);
        } else {
            this.addExtended(character.charCodeAt(0));
        }
    },

    addExtended: function addExtended(code) {
        var this$1 = this;

        var patterns;

        for (var i = 0; i < this.extendedMappings.length; i++) {
            patterns = this$1.extendedMappings[i].call(this$1, code);

            if (patterns) {
                for (var patternIndex = 0; patternIndex < patterns.length; patternIndex++) {
                    var pattern = patterns[patternIndex];
                    this$1.addBase(pattern);
                }

                this$1.dataLength += patterns.length - 1;
                return;
            }
        }
    },

    extendedMappings: [
        function(code) {
            if (97 <= code && code <= 122) {
                return [this.characterMap[this.shiftCharacters[0]], this.characterMap[String.fromCharCode(code - 32)]];
            }
        },
        function(code) {
            if (33 <= code && code <= 58) {
                return [this.characterMap[this.shiftCharacters[1]], this.characterMap[String.fromCharCode(code + 32)]];
            }
        },
        function(code) {
            if (1 <= code && code <= 26) {
                return [this.characterMap[this.shiftCharacters[2]], this.characterMap[String.fromCharCode(code + 64)]];
            }
        },
        function(code) {
            var this$1 = this;

            var result;
            var dataCharacter;

            if (!this.specialAsciiCodes[code]) {
                dataCharacter = Math.floor(code / 32) * 6 + (code - 27) % 32 + 64;
                result = [this.characterMap[this.shiftCharacters[3]], this.characterMap[String.fromCharCode(dataCharacter)]];
            } else {
                result = [];

                for (var i = 0; i < this.specialAsciiCodes[code].length; i++) {
                    result.push(this$1.characterMap[this$1.shiftCharacters[3]]);
                    result.push(this$1.characterMap[this$1.specialAsciiCodes[code][i]]);
                }
            }

            return result;
        }
    ],
    specialAsciiCodes: {
        "0": ["U"],
        "64": ["V"],
        "96": ["W"],
        "127": ["T", "X", "Y", "Z"]
    },
    shiftValuesAsciiCodes: {
        "39": 36,
        "40": 47,
        "41": 43,
        "42": 37
    },
    characterMap: {
        "+": false,
        "/": false,
        "$": false,
        "%": false
    },
    shiftCharacters: ["SHIFT0", "SHIFT1", "SHIFT2", "SHIFT3"]
};

var Code39Extended = (function (Code39$$1) {
    function Code39Extended () {
        Code39$$1.apply(this, arguments);
    }

    if ( Code39$$1 ) Code39Extended.__proto__ = Code39$$1;
    Code39Extended.prototype = Object.create( Code39$$1 && Code39$$1.prototype );
    Code39Extended.prototype.constructor = Code39Extended;

    Code39Extended.prototype.initProperties = function initProperties () {
        Code39$$1.prototype.initProperties.call(this);

        deepExtend(this, Code39ExtendedBase, {
            name: "Code 39 extended",
            characterMap: {
                SHIFT0: { "pattern": "bWbwbWbWb", "value": 41 },
                SHIFT1: { "pattern": "bWbWbwbWb", "value": 40 },
                SHIFT2: { "pattern": "bWbWbWbwb", "value": 39 },
                SHIFT3: { "pattern": "bwbWbWbWb", "value": 42 }
            }
        });
    };

    return Code39Extended;
}(Code39));

var extend$2 = Object.assign;

var Code93 = (function (Code39Base$$1) {
    function Code93 () {
        Code39Base$$1.apply(this, arguments);
    }

    if ( Code39Base$$1 ) Code93.__proto__ = Code39Base$$1;
    Code93.prototype = Object.create( Code39Base$$1 && Code39Base$$1.prototype );
    Code93.prototype.constructor = Code93;

    Code93.prototype.initProperties = function initProperties () {
        Code39Base$$1.prototype.initProperties.call(this);

        extend$2(this, {
            name: "Code 93",
            cCheckSumTotal: 20,
            kCheckSumTotal: 15,
            checkSumMod: 47,
            characterMap: {
                "0": { "pattern": "131112", "value": 0 },
                "1": { "pattern": "111213", "value": 1 },
                "2": { "pattern": "111312", "value": 2 },
                "3": { "pattern": "111411", "value": 3 },
                "4": { "pattern": "121113", "value": 4 },
                "5": { "pattern": "121212", "value": 5 },
                "6": { "pattern": "121311", "value": 6 },
                "7": { "pattern": "111114", "value": 7 },
                "8": { "pattern": "131211", "value": 8 },
                "9": { "pattern": "141111", "value": 9 },
                "A": { "pattern": "211113", "value": 10 },
                "B": { "pattern": "211212", "value": 11 },
                "C": { "pattern": "211311", "value": 12 },
                "D": { "pattern": "221112", "value": 13 },
                "E": { "pattern": "221211", "value": 14 },
                "F": { "pattern": "231111", "value": 15 },
                "G": { "pattern": "112113", "value": 16 },
                "H": { "pattern": "112212", "value": 17 },
                "I": { "pattern": "112311", "value": 18 },
                "J": { "pattern": "122112", "value": 19 },
                "K": { "pattern": "132111", "value": 20 },
                "L": { "pattern": "111123", "value": 21 },
                "M": { "pattern": "111222", "value": 22 },
                "N": { "pattern": "111321", "value": 23 },
                "O": { "pattern": "121122", "value": 24 },
                "P": { "pattern": "131121", "value": 25 },
                "Q": { "pattern": "212112", "value": 26 },
                "R": { "pattern": "212211", "value": 27 },
                "S": { "pattern": "211122", "value": 28 },
                "T": { "pattern": "211221", "value": 29 },
                "U": { "pattern": "221121", "value": 30 },
                "V": { "pattern": "222111", "value": 31 },
                "W": { "pattern": "112122", "value": 32 },
                "X": { "pattern": "112221", "value": 33 },
                "Y": { "pattern": "122121", "value": 34 },
                "Z": { "pattern": "123111", "value": 35 },
                "-": { "pattern": "121131", "value": 36 },
                ".": { "pattern": "311112", "value": 37 },
                " ": { "pattern": "311211", "value": 38 },
                "$": { "pattern": "321111", "value": 39 },
                "/": { "pattern": "112131", "value": 40 },
                "+": { "pattern": "113121", "value": 41 },
                "%": { "pattern": "211131", "value": 42 },
                SHIFT0: { "pattern": "122211", "value": 46 },
                SHIFT1: { "pattern": "311121", "value": 45 },
                SHIFT2: { "pattern": "121221", "value": 43 },
                SHIFT3: { "pattern": "312111", "value": 44 },
                START: { "pattern": "111141" },
                TERMINATION_BAR: "1"
            }
        });
    };

    Code93.prototype.initValue = function initValue (value, width, height) {
        this.value = value;
        this.width = width;
        this.height = height;
        this.pattern = [];
        this.values = [];
        this.dataLength = value.length;
    };

    Code93.prototype.prepareValues = function prepareValues () {
        var minHeight = Math.ceil(Math.max(0.15 * this.width, 24));

        if (this.height < minHeight) {
            throw new Error(("Insufficient height for Code93 encoding: the current height is " + (this.height) + "px, the minimum required height is " + minHeight + "px."));
        }

        this.setBaseUnit();

        if (this.baseUnit < this.minBaseUnitLength) {
            var minWidth = Math.ceil(this.minBaseUnitLength * (this.width / this.baseUnit));
            throw new Error(("Insufficient width for Code93 encoding: the current width is " + (this.width) + "px and the minimum required width for value \"" + (this.value) + "\" is " + minWidth + "px."));
        }
    };

    Code93.prototype.setBaseUnit = function setBaseUnit () {
        var checkSumLength = 2;

        this.baseUnit = this.width / (9 * (this.dataLength + 2 + checkSumLength) + this.quietZoneLength + 1);
    };

    Code93.prototype.addStart = function addStart () {
        var pattern = this.characterMap.START.pattern;
        this.addPattern(pattern);
    };

    Code93.prototype.addStop = function addStop () {
        this.addStart();
        this.pattern.push(this.characterMap.TERMINATION_BAR);
    };

    Code93.prototype.addBase = function addBase (charData) {
        this.addPattern(charData.pattern);
        this.values.push(charData.value);
    };

    Code93.prototype.pushCheckSum = function pushCheckSum () {
        var this$1 = this;

        var checkValues = this._getCheckValues();
        var charData;

        this.checksum = checkValues.join("");

        for (var i = 0; i < checkValues.length; i++) {
            charData = this$1.characterMap[this$1._findCharacterByValue(checkValues[i])];
            this$1.addPattern(charData.pattern);
        }
    };

    Code93.prototype._getCheckValues = function _getCheckValues () {
        var this$1 = this;

        var values = this.values;
        var length = values.length;
        var wightedSum = 0;
        var cValue;
        var kValue;
        var idx;

        for (idx = length - 1; idx >= 0; idx--) {
            wightedSum += this$1.weightedValue(values[idx], length - idx, this$1.cCheckSumTotal);
        }

        cValue = wightedSum % this.checkSumMod;

        wightedSum = this.weightedValue(cValue, 1, this.kCheckSumTotal);

        for (idx = length - 1; idx >= 0; idx--) {
            wightedSum += this$1.weightedValue(values[idx], length - idx + 1, this$1.kCheckSumTotal);
        }

        kValue = wightedSum % this.checkSumMod;
        return [cValue, kValue];
    };

    Code93.prototype._findCharacterByValue = function _findCharacterByValue (value) {
        var this$1 = this;

        for (var character in this.characterMap) {
            if (this$1.characterMap[character].value === value) {
                return character;
            }
        }
    };

    Code93.prototype.weightedValue = function weightedValue (value, index, total) {
        return (index % total || total) * value;
    };

    Code93.prototype.addPattern = function addPattern (pattern) {
        var this$1 = this;

        var value;

        for (var i = 0; i < pattern.length; i++) {
            value = parseInt(pattern.charAt(i), 10);
            this$1.pattern.push(value);
        }
    };

    return Code93;
}(Code39Base));

var Code93Extended = (function (Code93$$1) {
    function Code93Extended () {
        Code93$$1.apply(this, arguments);
    }

    if ( Code93$$1 ) Code93Extended.__proto__ = Code93$$1;
    Code93Extended.prototype = Object.create( Code93$$1 && Code93$$1.prototype );
    Code93Extended.prototype.constructor = Code93Extended;

    Code93Extended.prototype.initProperties = function initProperties () {
        Code93$$1.prototype.initProperties.call(this);

        deepExtend(this, Code39ExtendedBase, {
            name: "Code 93 extended",
            pushCheckSum: function() {
                var this$1 = this;

                var checkValues = this._getCheckValues();
                var value;

                this.checksum = checkValues.join("");

                for (var i = 0; i < checkValues.length; i++) {
                    value = checkValues[i];

                    if (this$1.shiftValuesAsciiCodes[value]) {
                        this$1.addExtended(this$1.shiftValuesAsciiCodes[value]);
                    } else {
                        var characterByValue = this$1._findCharacterByValue(value);
                        this$1.addPattern(this$1.characterMap[characterByValue].pattern);
                    }
                }
            }
        });
    };

    return Code93Extended;
}(Code93));

var numberRegex = /^\d+$/;
var extend$3 = Object.assign;

var Postnet = (function (Encoding$$1) {
    function Postnet () {
        Encoding$$1.apply(this, arguments);
    }

    if ( Encoding$$1 ) Postnet.__proto__ = Encoding$$1;
    Postnet.prototype = Object.create( Encoding$$1 && Encoding$$1.prototype );
    Postnet.prototype.constructor = Postnet;

    Postnet.prototype.initProperties = function initProperties () {
        Encoding$$1.prototype.initProperties.call(this);

        extend$3(this, {
            name: "Postnet",
            START: "2",
            VALID_CODE_LENGTHS: [5, 9, 11],
            DIGIT_SEPARATOR: "-",
            characterMap: ["22111", "11122", "11212", "11221", "12112", "12121", "12211", "21112", "21121", "21211"]
        });
    };

    Postnet.prototype.initValue = function initValue (value, width, height) {
        this.height = height;
        this.width = width;
        this.baseHeight = height / 2;
        this.value = value.replace(new RegExp(this.DIGIT_SEPARATOR, "g"), "");
        this.pattern = [];
        this.validate(this.value);
        this.checkSum = 0;
        this.setBaseUnit();
    };

    Postnet.prototype.addData = function addData () {
        var this$1 = this;

        var value = this.value;

        this.addPattern(this.START);

        for (var i = 0; i < value.length; i++) {
            this$1.addCharacter(value.charAt(i));
        }

        if (this.options.addCheckSum) {
            this.addCheckSum();
        }

        this.addPattern(this.START);
        this.pattern.pop();
    };

    Postnet.prototype.addCharacter = function addCharacter (character) {
        var pattern = this.characterMap[character];
        this.checkSum += parseInt(character, 10);
        this.addPattern(pattern);
    };

    Postnet.prototype.addCheckSum = function addCheckSum () {
        this.checksum = (10 - (this.checkSum % 10)) % 10;
        this.addCharacter(this.checksum);
    };

    Postnet.prototype.setBaseUnit = function setBaseUnit () {
        var startStopLength = 3;

        this.baseUnit = this.width / ((this.value.length + 1) * 10 + startStopLength + this.quietZoneLength);
    };

    Postnet.prototype.validate = function validate (value) {
        if (!numberRegex.test(value)) {
            this.invalidCharacterError(value.match(/[^0-9]/)[0]);
        }

        if (!inArray(value.length, this.VALID_CODE_LENGTHS)) {
            throw new Error("Invalid value length. Valid lengths for the Postnet symbology are " + this.VALID_CODE_LENGTHS.join(",") + ".");
        }
    };

    Postnet.prototype.addPattern = function addPattern (pattern) {
        var this$1 = this;

        var y1;

        for (var i = 0; i < pattern.length; i++) {
            y1 = this$1.height - this$1.baseHeight * pattern.charAt(i);
            this$1.pattern.push({ width: 1, y1: y1, y2: this$1.height });
            this$1.pattern.push(1);
        }
    };

    return Postnet;
}(Encoding));

var numberRegex$1 = /^\d+$/;
var alphanumericRegex = /^[a-z0-9]+$/i;
var extend$4 = Object.assign;

var State128 = (function (Class$$1) {
    function State128(encoding) {
        Class$$1.call(this);
        this.encoding = encoding;
        this.initProperties();
    }

    if ( Class$$1 ) State128.__proto__ = Class$$1;
    State128.prototype = Object.create( Class$$1 && Class$$1.prototype );
    State128.prototype.constructor = State128;

    State128.prototype.initProperties = function initProperties () { };

    State128.prototype.addStart = function addStart () { };

    State128.prototype.is = function is () { };

    State128.prototype.isCode = function isCode () {
        return false;
    };

    State128.prototype.move = function move () { };

    State128.prototype.pushState = function pushState () { };

    return State128;
}(_progress_kendoDrawing.Class));

var State128AB = (function (State128) {
    function State128AB(encoding, states) {
        State128.call(this, encoding);
        this.states = states;
        this._initMoves(states);
    }

    if ( State128 ) State128AB.__proto__ = State128;
    State128AB.prototype = Object.create( State128 && State128.prototype );
    State128AB.prototype.constructor = State128AB;

    State128AB.prototype.initProperties = function initProperties () {
        State128.prototype.initProperties.call(this);

        deepExtend(this, {
            FNC4: "FNC4",
            SHIFT: 98
        });
    };

    State128AB.prototype.addStart = function addStart () {
        this.encoding.addPattern(this.START);
    };

    State128AB.prototype.is = function is (value, index) {
        var code = value.charCodeAt(index);
        return this.isCode(code);
    };

    State128AB.prototype.move = function move (encodingState) {
        var idx = 0;

        while (!this._moves[idx].call(this, encodingState) && idx < this._moves.length) {
            idx++;
        }
    };

    State128AB.prototype.pushState = function pushState (encodingState) {
        var this$1 = this;

        var states = this.states,
            value = encodingState.value,
            maxLength = value.length,
            code;

        if (inArray("C", states)) {
            var numberMatch = value.substr(encodingState.index).match(/\d{4,}/g);

            if (numberMatch) {
                maxLength = value.indexOf(numberMatch[0], encodingState.index);
            }
        }

        while ((code = encodingState.value.charCodeAt(encodingState.index)) >= 0 &&
            this.isCode(code) &&
            encodingState.index < maxLength) {
            this$1.encoding.addPattern(this$1.getValue(code));
            encodingState.index++;
        }
    };

    State128AB.prototype._initMoves = function _initMoves (states) {
        this._moves = [];

        if (inArray(this.FNC4, states)) {
            this._moves.push(this._moveFNC);
        }

        if (inArray(this.shiftKey, states)) {
            this._moves.push(this._shiftState);
        }

        this._moves.push(this._moveState);
    };

    State128AB.prototype._moveFNC = function _moveFNC (encodingState) {
        if (encodingState.fnc) {
            encodingState.fnc = false;
            return encodingState.previousState === this.key;
        }
    };

    State128AB.prototype._shiftState = function _shiftState (encodingState) {
        if (encodingState.previousState === this.shiftKey &&
            (encodingState.index + 1 >= encodingState.value.length ||
                this.encoding[this.shiftKey].is(encodingState.value, encodingState.index + 1))) {
            this.encoding.addPattern(this.SHIFT);
            encodingState.shifted = true;
            return true;
        }
    };

    State128AB.prototype._moveState = function _moveState () {
        this.encoding.addPattern(this.MOVE);
        return true;
    };

    return State128AB;
}(State128));

var states128 = {};

states128.A = (function (State128AB) {
    function State128A () {
        State128AB.apply(this, arguments);
    }

    if ( State128AB ) State128A.__proto__ = State128AB;
    State128A.prototype = Object.create( State128AB && State128AB.prototype );
    State128A.prototype.constructor = State128A;

    State128A.prototype.initProperties = function initProperties () {
        State128AB.prototype.initProperties.call(this);

        extend$4(this, {
            key: "A",
            shiftKey: "B",
            MOVE: 101,
            START: 103
        });
    };

    State128A.prototype.isCode = function isCode (code) {
        return 0 <= code && code < 96;
    };

    State128A.prototype.getValue = function getValue (code) {
        if (code < 32) {
            return code + 64;
        }

        return code - 32;
    };

    return State128A;
}(State128AB));

states128.B = (function (State128AB) {
    function State128B () {
        State128AB.apply(this, arguments);
    }

    if ( State128AB ) State128B.__proto__ = State128AB;
    State128B.prototype = Object.create( State128AB && State128AB.prototype );
    State128B.prototype.constructor = State128B;

    State128B.prototype.initProperties = function initProperties () {
        State128AB.prototype.initProperties.call(this);

        extend$4(this, {
            key: "B",
            shiftKey: "A",
            MOVE: 100,
            START: 104
        });
    };

    State128B.prototype.isCode = function isCode (code) {
        return 32 <= code && code < 128;
    };

    State128B.prototype.getValue = function getValue (code) {
        return code - 32;
    };

    return State128B;
}(State128AB));

states128.C = (function (State128) {
    function State128C () {
        State128.apply(this, arguments);
    }

    if ( State128 ) State128C.__proto__ = State128;
    State128C.prototype = Object.create( State128 && State128.prototype );
    State128C.prototype.constructor = State128C;

    State128C.prototype.initProperties = function initProperties () {
        State128.prototype.initProperties.call(this);

        extend$4(this, {
            key: "C",
            MOVE: 99,
            START: 105
        });
    };

    State128C.prototype.addStart = function addStart () {
        this.encoding.addPattern(this.START);
    };

    State128C.prototype.is = function is (value, index) {
        var next4 = getSubstring(value, index, 4);
        return (index + 4 <= value.length || value.length === 2) && numberRegex$1.test(next4);
    };

    State128C.prototype.move = function move () {
        this.encoding.addPattern(this.MOVE);
    };

    State128C.prototype.pushState = function pushState (encodingState) {
        var this$1 = this;

        var code;

        while ((code = getSubstring(encodingState.value, encodingState.index, 2)) &&
            numberRegex$1.test(code) && code.length === 2) {
            this$1.encoding.addPattern(parseInt(code, 10));
            encodingState.index += 2;
        }
    };

    State128C.prototype.getValue = function getValue (code) {
        return code;
    };

    return State128C;
}(State128));

states128.FNC4 = (function (State128) {
    function State128FNC4(encoding, states) {
        State128.call(this, encoding);
        this._initSubStates(states);
    }

    if ( State128 ) State128FNC4.__proto__ = State128;
    State128FNC4.prototype = Object.create( State128 && State128.prototype );
    State128FNC4.prototype.constructor = State128FNC4;

    State128FNC4.prototype.initProperties = function initProperties () {
        State128.prototype.initProperties.call(this);

        extend$4(this, {
            key: "FNC4",
            dependentStates: ["A", "B"]
        });
    };

    State128FNC4.prototype.addStart = function addStart (encodingState) {
        var code = encodingState.value.charCodeAt(0) - 128,
            subState = this._getSubState(code);

        this.encoding[subState].addStart();
    };

    State128FNC4.prototype.is = function is (value, index) {
        var code = value.charCodeAt(index);
        return this.isCode(code);
    };

    State128FNC4.prototype.isCode = function isCode (code) {
        return 128 <= code && code < 256;
    };

    State128FNC4.prototype.pushState = function pushState (encodingState) {
        var this$1 = this;

        var subState = this._initSubState(encodingState),
            encoding = this.encoding,
            length = subState.value.length;
        var code;

        encodingState.index += length;

        if (length < 3) {
            for (; subState.index < length; subState.index++) {
                code = subState.value.charCodeAt(subState.index);
                subState.state = this$1._getSubState(code);

                if (subState.previousState !== subState.state) {
                    subState.previousState = subState.state;
                    encoding[subState.state].move(subState);
                }

                encoding.addPattern(encoding[subState.state].MOVE);
                encoding.addPattern(encoding[subState.state].getValue(code));
            }
        } else {
            if (subState.state !== subState.previousState) {
                encoding[subState.state].move(subState);
            }

            this._pushStart(subState);
            encoding.pushData(subState, this.subStates);

            if (encodingState.index < encodingState.value.length) {
                this._pushStart(subState);
            }
        }

        encodingState.fnc = true;
        encodingState.state = subState.state;
    };

    State128FNC4.prototype._pushStart = function _pushStart (subState) {
        this.encoding.addPattern(this.encoding[subState.state].MOVE);
        this.encoding.addPattern(this.encoding[subState.state].MOVE);
    };

    State128FNC4.prototype._initSubState = function _initSubState (encodingState) {
        var subState = {
            value: this._getAll(encodingState.value, encodingState.index),
            index: 0
        };

        subState.state = this._getSubState(subState.value.charCodeAt(0));
        subState.previousState = encodingState.previousState === this.key ?
            subState.state :
            encodingState.previousState;

        return subState;
    };

    State128FNC4.prototype._initSubStates = function _initSubStates (states) {
        var this$1 = this;

        this.subStates = [];

        for (var i = 0; i < states.length; i++) {
            if (inArray(states[i], this$1.dependentStates)) {
                this$1.subStates.push(states[i]);
            }
        }
    };

    State128FNC4.prototype._getSubState = function _getSubState (code) {
        var this$1 = this;

        for (var i = 0; i < this.subStates.length; i++) {
            if (this$1.encoding[this$1.subStates[i]].isCode(code)) {
                return this$1.subStates[i];
            }
        }
    };

    State128FNC4.prototype._getAll = function _getAll (value, index) {
        var code;
        var result = "";
        var i = index;

        while ((code = value.charCodeAt(i++)) && this.isCode(code)) {
            result += String.fromCharCode(code - 128);
        }

        return result;
    };

    return State128FNC4;
}(State128));

states128.FNC1 = (function (State128) {
    function States128FNC1(encoding, states) {
        State128.call(this, encoding);
        this.states = states;
    }

    if ( State128 ) States128FNC1.__proto__ = State128;
    States128FNC1.prototype = Object.create( State128 && State128.prototype );
    States128FNC1.prototype.constructor = States128FNC1;

    States128FNC1.prototype.initProperties = function initProperties () {
        State128.prototype.initProperties.call(this);

        extend$4(this, {
            key: "FNC1",
            startState: "C",
            startAI: "(",
            endAI: ")",
            dependentStates: ["C", "B"],
            applicationIdentifiers: {
                "22": { max: 29, type: "alphanumeric" },
                "402": { length: 17 },
                "7004": { max: 4, type: "alphanumeric" },
                "242": { max: 6, type: "alphanumeric" },
                "8020": { max: 25, type: "alphanumeric" },
                "703": { min: 3, max: 30, type: "alphanumeric" },
                "8008": { min: 8, max: 12, type: "alphanumeric" },
                "253": { min: 13, max: 17, type: "alphanumeric" },
                "8003": { min: 14, max: 30, type: "alphanumeric" },
                multiKey: [{
                    ids: ["15", "17", "8005", "8100"],
                    ranges: [
                        [11, 13],
                        [310, 316],
                        [320, 336],
                        [340, 369]
                    ],
                    type: { length: 6 }
                }, {
                    ids: ["240", "241", "250", "251", "400", "401", "403", "7002", "8004", "8007", "8110"],
                    ranges: [[90 - 99]],
                    type: { max: 30, type: "alphanumeric" }
                }, {
                    ids: ["7001"],
                    ranges: [[410, 414]],
                    type: { length: 13 }
                }, {
                    ids: ["10", "21", "254", "420", "8002"],
                    type: { max: 20, type: "alphanumeric" }
                }, {
                    ids: ["00", "8006", "8017", "8018"],
                    type: { length: 18 }
                }, {
                    ids: ["01", "02", "8001"],
                    type: { length: 14 }
                }, {
                    ids: ["422"],
                    ranges: [
                        [424, 426]
                    ],
                    type: { length: 3 }
                }, {
                    ids: ["20", "8102"],
                    type: { length: 2 }
                }, {
                    ids: ["30", "37"],
                    type: { max: 8, type: "alphanumeric" }
                }, {
                    ids: ["390", "392"],
                    type: { max: 15, type: "alphanumeric" }
                }, {
                    ids: ["421", "423"],
                    type: { min: 3, max: 15, type: "alphanumeric" }
                }, {
                    ids: ["391", "393"],
                    type: { min: 3, max: 18, type: "alphanumeric" }
                }, {
                    ids: ["7003", "8101"],
                    type: { length: 10 }
                }]
            },
            START: 102
        });
    };


    States128FNC1.prototype.addStart = function addStart () {
        this.encoding[this.startState].addStart();
    };

    States128FNC1.prototype.is = function is () {
        return inArray(this.key, this.states);
    };

    States128FNC1.prototype.pushState = function pushState (encodingState) {
        var this$1 = this;

        var encoding = this.encoding,
            value = encodingState.value.replace(/\s/g, ""),
            regexSeparators = new RegExp("[" + this.startAI + this.endAI + "]", "g"),
            index = encodingState.index,
            subState = {
                state: this.startState
            },
            current,
            nextStart,
            separatorLength;

        encoding.addPattern(this.START);

        var trueCondition = true;

        while (trueCondition) {
            subState.index = 0;

            separatorLength = value.charAt(index) === this$1.startAI ? 2 : 0;
            current = separatorLength > 0 ? this$1.getBySeparator(value, index) : this$1.getByLength(value, index);

            if (current.ai.length) {
                nextStart = index + separatorLength + current.id.length + current.ai.length;
            } else {
                nextStart = value.indexOf(this$1.startAI, index + 1);

                if (nextStart < 0) {
                    if (index + current.ai.max + current.id.length + separatorLength < value.length) {
                        throw new Error("Separators are required after variable length identifiers");
                    }

                    nextStart = value.length;
                }
            }

            subState.value = value.substring(index, nextStart).replace(regexSeparators, "");
            this$1.validate(current, subState.value);
            encoding.pushData(subState, this$1.dependentStates);

            if (nextStart >= value.length) {
                break;
            }

            index = nextStart;

            if (subState.state !== this$1.startState) {
                encoding[this$1.startState].move(subState);
                subState.state = this$1.startState;
            }

            if (!current.ai.length) {
                encoding.addPattern(this$1.START);
            }
        }

        encodingState.index = encodingState.value.length;
    };

    States128FNC1.prototype.validate = function validate (current, value) {
        var code = value.substr(current.id.length),
            ai = current.ai;

        if (!ai.type && !numberRegex$1.test(code)) {
            throw new Error("Application identifier " + current.id + " is numeric only but contains non numeric character(s).");
        }

        if (ai.type === "alphanumeric" && !alphanumericRegex.test(code)) {
            throw new Error("Application identifier " + current.id + " is alphanumeric only but contains non alphanumeric character(s).");
        }

        if (ai.length && ai.length !== code.length) {
            throw new Error("Application identifier " + current.id + " must be " + ai.length + " characters long.");
        }

        if (ai.min && ai.min > code.length) {
            throw new Error("Application identifier " + current.id + " must be at least " + ai.min + " characters long.");
        }

        if (ai.max && ai.max < code.length) {
            throw new Error("Application identifier " + current.id + " must be at most " + ai.max + " characters long.");
        }
    };

    States128FNC1.prototype.getByLength = function getByLength (value, index) {
        var this$1 = this;

        var id;
        var applicationIdentifier;

        for (var i = 2; i <= 4; i++) {
            id = getSubstring(value, index, i);
            applicationIdentifier = this$1.getApplicationIdentifier(id) || this$1.getApplicationIdentifier(id.substring(0, id.length - 1));
            if (applicationIdentifier) {
                return {
                    id: id,
                    ai: applicationIdentifier
                };
            }
        }
        this.unsupportedAIError(id);
    };

    States128FNC1.prototype.unsupportedAIError = function unsupportedAIError (id) {
        throw new Error("'" + id + "' is not a supported Application Identifier");
    };

    States128FNC1.prototype.getBySeparator = function getBySeparator (value, index) {
        var start = value.indexOf(this.startAI, index),
            end = value.indexOf(this.endAI, start),
            id = value.substring(start + 1, end),
            ai = this.getApplicationIdentifier(id) || this.getApplicationIdentifier(id.substr(id.length - 1));

        if (!ai) {
            this.unsupportedAIError(id);
        }

        return {
            ai: ai,
            id: id
        };
    };

    States128FNC1.prototype.getApplicationIdentifier = function getApplicationIdentifier (id) {
        var applicationIdentifier = this.applicationIdentifiers,
            multiKey = applicationIdentifier.multiKey;

        if (applicationIdentifier[id]) {
            return applicationIdentifier[id];
        }

        for (var i = 0; i < multiKey.length; i++) {
            if (multiKey[i].ids && inArray(id, multiKey[i].ids)) {
                return multiKey[i].type;
            } else if (multiKey[i].ranges) {
                var ranges = multiKey[i].ranges;

                for (var j = 0; j < ranges.length; j++) {
                    if (ranges[j][0] <= id && id <= ranges[j][1]) {
                        return multiKey[i].type;
                    }
                }
            }
        }
    };

    return States128FNC1;
}(State128));

var Code128Base = (function (Encoding$$1) {
    function Code128Base(options) {
        Encoding$$1.call(this, options);
        this._initStates();
    }

    if ( Encoding$$1 ) Code128Base.__proto__ = Encoding$$1;
    Code128Base.prototype = Object.create( Encoding$$1 && Encoding$$1.prototype );
    Code128Base.prototype.constructor = Code128Base;

    Code128Base.prototype.initProperties = function initProperties () {
        Encoding$$1.prototype.initProperties.call(this);

        extend$4(this, {
            characterMap: [
                212222, 222122, 222221, 121223, 121322, 131222, 122213, 122312, 132212, 221213,
                221312, 231212, 112232, 122132, 122231, 113222, 123122, 123221, 223211, 221132,
                221231, 213212, 223112, 312131, 311222, 321122, 321221, 312212, 322112, 322211,
                212123, 212321, 232121, 111323, 131123, 131321, 112313, 132113, 132311, 211313,
                231113, 231311, 112133, 112331, 132131, 113123, 113321, 133121, 313121, 211331,
                231131, 213113, 213311, 213131, 311123, 311321, 331121, 312113, 312311, 332111,
                314111, 221411, 431111, 111224, 111422, 121124, 121421, 141122, 141221, 112214,
                112412, 122114, 122411, 142112, 142211, 241211, 221114, 413111, 241112, 134111,
                111242, 121142, 121241, 114212, 124112, 124211, 411212, 421112, 421211, 212141,
                214121, 412121, 111143, 111341, 131141, 114113, 114311, 411113, 411311, 113141,
                114131, 311141, 411131, 211412, 211214, 211232, 2331112
            ],
            STOP: 106
        });
    };

    Code128Base.prototype._initStates = function _initStates () {
        var this$1 = this;

        for (var i = 0; i < this.states.length; i++) {
            this$1[this$1.states[i]] = new states128[this$1.states[i]](this$1, this$1.states);
        }
    };

    Code128Base.prototype.initValue = function initValue (value, width, height) {
        this.pattern = [];
        this.value = value;
        this.width = width;
        this.height = height;
        this.checkSum = 0;
        this.totalUnits = 0;
        this.index = 0;
        this.position = 1;
    };

    Code128Base.prototype.addData = function addData () {
        var encodingState = {
            value: this.value,
            index: 0,
            state: ""
        };

        if (this.value.length === 0) {
            return;
        }

        encodingState.state =
            encodingState.previousState = this.getNextState(encodingState, this.states);

        this.addStart(encodingState);

        this.pushData(encodingState, this.states);

        this.addCheckSum();
        this.addStop();
        this.setBaseUnit();
    };

    Code128Base.prototype.pushData = function pushData (encodingState, states) {
        var this$1 = this;

        var trueCondition = true;

        while (trueCondition) {
            this$1[encodingState.state].pushState(encodingState);

            if (encodingState.index >= encodingState.value.length) {
                break;
            }

            if (!encodingState.shifted) {
                encodingState.previousState = encodingState.state;
                encodingState.state = this$1.getNextState(encodingState, states);
                this$1[encodingState.state].move(encodingState);
            } else {
                var temp = encodingState.state;
                encodingState.state = encodingState.previousState;
                encodingState.previousState = temp;
                encodingState.shifted = false;
            }
        }
    };

    Code128Base.prototype.addStart = function addStart (encodingState) {
        this[encodingState.state].addStart(encodingState);
        this.position = 1;
    };

    Code128Base.prototype.addCheckSum = function addCheckSum () {
        this.checksum = this.checkSum % 103;
        this.addPattern(this.checksum);
    };

    Code128Base.prototype.addStop = function addStop () {
        this.addPattern(this.STOP);
    };

    Code128Base.prototype.setBaseUnit = function setBaseUnit () {
        this.baseUnit = this.width / (this.totalUnits + this.quietZoneLength);
    };

    Code128Base.prototype.addPattern = function addPattern (code) {
        var this$1 = this;

        var pattern = this.characterMap[code].toString();
        var value;

        for (var i = 0; i < pattern.length; i++) {
            value = parseInt(pattern.charAt(i), 10);
            this$1.pattern.push(value);
            this$1.totalUnits += value;
        }
        this.checkSum += code * this.position++;
    };

    Code128Base.prototype.getNextState = function getNextState (encodingState, states) {
        var this$1 = this;

        for (var i = 0; i < states.length; i++) {
            if (this$1[states[i]].is(encodingState.value, encodingState.index)) {
                return states[i];
            }
        }

        this.invalidCharacterError(encodingState.value.charAt(encodingState.index));
    };

    return Code128Base;
}(Encoding));

var Code128a = (function (Code128Base) {
    function Code128a () {
        Code128Base.apply(this, arguments);
    }

    if ( Code128Base ) Code128a.__proto__ = Code128Base;
    Code128a.prototype = Object.create( Code128Base && Code128Base.prototype );
    Code128a.prototype.constructor = Code128a;

    Code128a.prototype.initProperties = function initProperties () {
        Code128Base.prototype.initProperties.call(this);

        extend$4(this, {
            name: "Code 128 A",
            states: ["A"]
        });
    };

    return Code128a;
}(Code128Base));

var Code128b = (function (Code128Base) {
    function Code128b () {
        Code128Base.apply(this, arguments);
    }

    if ( Code128Base ) Code128b.__proto__ = Code128Base;
    Code128b.prototype = Object.create( Code128Base && Code128Base.prototype );
    Code128b.prototype.constructor = Code128b;

    Code128b.prototype.initProperties = function initProperties () {
        Code128Base.prototype.initProperties.call(this);

        extend$4(this, {
            name: "Code 128 B",
            states: ["B"]
        });
    };

    return Code128b;
}(Code128Base));

var Code128c = (function (Code128Base) {
    function Code128c () {
        Code128Base.apply(this, arguments);
    }

    if ( Code128Base ) Code128c.__proto__ = Code128Base;
    Code128c.prototype = Object.create( Code128Base && Code128Base.prototype );
    Code128c.prototype.constructor = Code128c;

    Code128c.prototype.initProperties = function initProperties () {
        Code128Base.prototype.initProperties.call(this);

        extend$4(this, {
            name: "Code 128 C",
            states: ["C"]
        });
    };

    return Code128c;
}(Code128Base));

var Code128 = (function (Code128Base) {
    function Code128 () {
        Code128Base.apply(this, arguments);
    }

    if ( Code128Base ) Code128.__proto__ = Code128Base;
    Code128.prototype = Object.create( Code128Base && Code128Base.prototype );
    Code128.prototype.constructor = Code128;

    Code128.prototype.initProperties = function initProperties () {
        Code128Base.prototype.initProperties.call(this);

        extend$4(this, {
            name: "Code 128",
            states: ["C", "B", "A", "FNC4"]
        });
    };

    return Code128;
}(Code128Base));

var CodeGS1128 = (function (Code128Base) {
    function CodeGS1128 () {
        Code128Base.apply(this, arguments);
    }

    if ( Code128Base ) CodeGS1128.__proto__ = Code128Base;
    CodeGS1128.prototype = Object.create( Code128Base && Code128Base.prototype );
    CodeGS1128.prototype.constructor = CodeGS1128;

    CodeGS1128.prototype.initProperties = function initProperties () {
        Code128Base.prototype.initProperties.call(this);

        extend$4(this, {
            name: "Code GS1-128",
            states: ["FNC1", "C", "B"]
        });
    };

    return CodeGS1128;
}(Code128Base));

function getSubstring(value, index, count) {
    return value.substring(index, index + count);
}

var extend$5 = Object.assign;

var MsiBase = (function (Encoding$$1) {
    function MsiBase () {
        Encoding$$1.apply(this, arguments);
    }

    if ( Encoding$$1 ) MsiBase.__proto__ = Encoding$$1;
    MsiBase.prototype = Object.create( Encoding$$1 && Encoding$$1.prototype );
    MsiBase.prototype.constructor = MsiBase;

    MsiBase.prototype.initProperties = function initProperties () {
        Encoding$$1.prototype.initProperties.call(this);

        extend$5(this, {
            characterMap: [
                "12121212",
                "12121221",
                "12122112",
                "12122121",
                "12211212",
                "12211221",
                "12212112",
                "12212121",
                "21121212",
                "21121221"
            ],
            START: "21",
            STOP: "121",
            checkSumType: "",
            checkSums: checkSums
        });
    };

    MsiBase.prototype.initValue = function initValue (value, width) {
        this.pattern = [];
        this.value = value;
        this.checkSumLength = 0;
        this.width = width;
    };

    MsiBase.prototype.setBaseUnit = function setBaseUnit () {
        var startStopLength = 7;

        this.baseUnit = this.width /
            (12 * (this.value.length + this.checkSumLength) + this.quietZoneLength + startStopLength);
    };

    MsiBase.prototype.addData = function addData () {
        var this$1 = this;

        var value = this.value;

        this.addPattern(this.START);

        for (var i = 0; i < value.length; i++) {
            this$1.addCharacter(value.charAt(i));
        }

        if (this.options.addCheckSum) {
            this.addCheckSum();
        }

        this.addPattern(this.STOP);
        this.setBaseUnit();
    };

    MsiBase.prototype.addCharacter = function addCharacter (character) {
        var pattern = this.characterMap[character];

        if (!pattern) {
            this.invalidCharacterError(character);
        }

        this.addPattern(pattern);
    };

    MsiBase.prototype.addPattern = function addPattern (pattern) {
        var this$1 = this;

        for (var i = 0; i < pattern.length; i++) {
            this$1.pattern.push(parseInt(pattern.charAt(i), 10));
        }
    };

    MsiBase.prototype.addCheckSum = function addCheckSum () {
        var this$1 = this;

        var checkSumFunction = this.checkSums[this.checkSumType];
        var checkValues = checkSumFunction.call(this.checkSums, this.value);

        this.checksum = checkValues.join("");

        for (var i = 0; i < checkValues.length; i++) {
            this$1.checkSumLength++;
            this$1.addPattern(this$1.characterMap[checkValues[i]]);
        }
    };

    return MsiBase;
}(Encoding));

var MsiMod10 = (function (MsiBase) {
    function MsiMod10 () {
        MsiBase.apply(this, arguments);
    }

    if ( MsiBase ) MsiMod10.__proto__ = MsiBase;
    MsiMod10.prototype = Object.create( MsiBase && MsiBase.prototype );
    MsiMod10.prototype.constructor = MsiMod10;

    MsiMod10.prototype.initProperties = function initProperties () {
        MsiBase.prototype.initProperties.call(this);

        extend$5(this, {
            name: "MSI Modulo10",
            checkSumType: "Modulo10"
        });
    };

    return MsiMod10;
}(MsiBase));

var MsiMod11 = (function (MsiBase) {
    function MsiMod11 () {
        MsiBase.apply(this, arguments);
    }

    if ( MsiBase ) MsiMod11.__proto__ = MsiBase;
    MsiMod11.prototype = Object.create( MsiBase && MsiBase.prototype );
    MsiMod11.prototype.constructor = MsiMod11;

    MsiMod11.prototype.initProperties = function initProperties () {
        MsiBase.prototype.initProperties.call(this);

        extend$5(this, {
            name: "MSI Modulo11",
            checkSumType: "Modulo11"
        });
    };

    return MsiMod11;
}(MsiBase));

var MsiMod1010 = (function (MsiBase) {
    function MsiMod1010 () {
        MsiBase.apply(this, arguments);
    }

    if ( MsiBase ) MsiMod1010.__proto__ = MsiBase;
    MsiMod1010.prototype = Object.create( MsiBase && MsiBase.prototype );
    MsiMod1010.prototype.constructor = MsiMod1010;

    MsiMod1010.prototype.initProperties = function initProperties () {
        MsiBase.prototype.initProperties.call(this);

        extend$5(this, {
            name: "MSI Modulo10 Modulo10",
            checkSumType: "Modulo10Modulo10"
        });
    };

    return MsiMod1010;
}(MsiBase));

var MsiMod1110 = (function (MsiBase) {
    function MsiMod1110 () {
        MsiBase.apply(this, arguments);
    }

    if ( MsiBase ) MsiMod1110.__proto__ = MsiBase;
    MsiMod1110.prototype = Object.create( MsiBase && MsiBase.prototype );
    MsiMod1110.prototype.constructor = MsiMod1110;

    MsiMod1110.prototype.initProperties = function initProperties () {
        MsiBase.prototype.initProperties.call(this);

        extend$5(this, {
            name: "MSI Modulo11 Modulo10",
            checkSumType: "Modulo11Modulo10"
        });
    };

    return MsiMod1110;
}(MsiBase));

var checkSums = {
    Modulo10: function Modulo10(value) {
        var checkValues = [0, ""],
            odd = value.length % 2,
            idx,
            evenSum,
            oddSum;

        for (idx = 0; idx < value.length; idx++) {
            checkValues[(idx + odd) % 2] += parseInt(value.charAt(idx), 10);
        }

        oddSum = checkValues[0];
        evenSum = (checkValues[1] * 2).toString();

        for (idx = 0; idx < evenSum.length; idx++) {
            oddSum += parseInt(evenSum.charAt(idx), 10);
        }

        return [(10 - (oddSum % 10)) % 10];
    },
    Modulo11: function Modulo11(value) {
        var weightedSum = 0,
            mod = 11,
            length = value.length,
            weight,
            checkValue;

        for (var i = 0; i < length; i++) {
            weight = ((length - i) % 6 || 6) + 1;
            weightedSum += weight * value.charAt(i);
        }

        checkValue = (mod - weightedSum % mod) % mod;

        if (checkValue !== 10) {
            return [checkValue];
        }

        return [1, 0];
    },
    Modulo11Modulo10: function Modulo11Modulo10(value) {
        var checkValues = this.Modulo11(value),
            mod11Value;
        mod11Value = value + checkValues[0];

        return checkValues.concat(this.Modulo10(mod11Value));
    },
    Modulo10Modulo10: function Modulo10Modulo10(value) {
        var checkValues = this.Modulo10(value),
            mod10Value;
        mod10Value = value + checkValues[0];

        return checkValues.concat(this.Modulo10(mod10Value));
    }
};

var extend$7 = Object.assign;

var Ean13 = (function (Encoding$$1) {
    function Ean13 () {
        Encoding$$1.apply(this, arguments);
    }

    if ( Encoding$$1 ) Ean13.__proto__ = Encoding$$1;
    Ean13.prototype = Object.create( Encoding$$1 && Encoding$$1.prototype );
    Ean13.prototype.constructor = Ean13;

    Ean13.prototype.initProperties = function initProperties () {
        Encoding$$1.prototype.initProperties.call(this);

        extend$7(this, {
            name: "EAN 13",
            keyTable: [
                '000000',
                '001011',
                '001101',
                '001110',
                '010011',
                '011001',
                '011100',
                '010101',
                '010110',
                '011010'
            ],
            characterMap: {
                digits: [
                    [3, 2, 1, 1],
                    [2, 2, 2, 1],
                    [2, 1, 2, 2],
                    [1, 4, 1, 1],
                    [1, 1, 3, 2],
                    [1, 2, 3, 1],
                    [1, 1, 1, 4],
                    [1, 3, 1, 2],
                    [1, 2, 1, 3],
                    [3, 1, 1, 2]
                ],
                start: [1, 1, 1],
                middle: [1, 1, 1, 1, 1]
            }
        });
    };

    Ean13.prototype.initValue = function initValue (value, width, height) {
        var valueAsString = String(value);

        if (valueAsString.length !== 12 || /\D/.test(valueAsString)) {
            throw new Error('The value of the "EAN13" encoding should be 12 symbols');
        }

        this.pattern = [];
        this.options.height = height;
        this.baseUnit = width / (95 + this.quietZoneLength);
        this.value = valueAsString;
        this.checksum = this.calculateChecksum();
        this.leftKey = valueAsString[0];
        this.leftPart = valueAsString.substr(1, 6);
        this.rightPart = valueAsString.substr(7) + this.checksum;
    };

    Ean13.prototype.addData = function addData () {
        this.addPieces(this.characterMap.start);
        this.addSide(this.leftPart, this.leftKey);
        this.addPieces(this.characterMap.middle);
        this.addSide(this.rightPart);
        this.addPieces(this.characterMap.start);
    };

    Ean13.prototype.addSide = function addSide (leftPart, key) {
        var this$1 = this;

        for (var i = 0; i < leftPart.length; i++) {
            if (key && parseInt(this$1.keyTable[key].charAt(i), 10)) {
                this$1.addPieces(Array.prototype.slice.call(this$1.characterMap.digits[leftPart.charAt(i)]).reverse(), true);
            } else {
                this$1.addPieces(this$1.characterMap.digits[leftPart.charAt(i)], true);
            }
        }
    };

    Ean13.prototype.addPieces = function addPieces (arrToAdd, limitedHeight) {
        var this$1 = this;

        for (var i = 0; i < arrToAdd.length; i++) {
            if (limitedHeight) {
                this$1.pattern.push({
                    y1: 0,
                    y2: this$1.options.height * 0.95,
                    width: arrToAdd[i]
                });
            } else {
                this$1.pattern.push(arrToAdd[i]);
            }
        }
    };

    Ean13.prototype.calculateChecksum = function calculateChecksum () {
        var odd = 0,
            even = 0,
            value = this.value.split("").reverse().join("");

        for (var i = 0; i < value.length; i++) {
            if (i % 2) {
                even += parseInt(value.charAt(i), 10);
            } else {
                odd += parseInt(value.charAt(i), 10);
            }
        }

        var checksum = (10 - ((3 * odd + even) % 10)) % 10;

        return checksum;
    };

    return Ean13;
}(Encoding));

var extend$6 = Object.assign;

var Ean8 = (function (Ean13$$1) {
    function Ean8 () {
        Ean13$$1.apply(this, arguments);
    }

    if ( Ean13$$1 ) Ean8.__proto__ = Ean13$$1;
    Ean8.prototype = Object.create( Ean13$$1 && Ean13$$1.prototype );
    Ean8.prototype.constructor = Ean8;

    Ean8.prototype.initProperties = function initProperties () {
        Ean13$$1.prototype.initProperties.call(this);

        extend$6(this, {
            name: "EAN 8"
        });
    };

    Ean8.prototype.initValue = function initValue (value, width, height) {
        if (value.length !== 7 || /\D/.test(value)) {
            throw new Error('Invalid value provided');
        }

        this.value = value;
        this.options.height = height;
        this.checksum = this.calculateChecksum(this.value);
        this.leftPart = this.value.substr(0, 4);
        this.rightPart = this.value.substr(4) + this.checksum;
        this.pattern = [];
        this.baseUnit = width / (67 + this.quietZoneLength);
    };

    return Ean8;
}(Ean13));

var Encodings = {
    code11: Code11,

    code39: Code39,
    code39extended: Code39Extended,

    code93: Code93,
    code93extended: Code93Extended,

    code128: Code128,
    code128a: Code128a,
    code128b: Code128b,
    code128c: Code128c,

    msimod10: MsiMod10,
    msimod11: MsiMod11,
    msimod1010: MsiMod1010,
    msimod1110: MsiMod1110,

    postnet: Postnet,

    ean8: Ean8,
    ean13: Ean13
};
Encodings["gs1-128"] = CodeGS1128;

function surfaceSize(element, surfaceType) {
    var display = element.style.display;
    if (surfaceType === 'canvas') {
        // The Canvas default size is different from SVG for
        // inline-block containers such as the Barcode and QR Code.
        //
        // Switch to display: block to get same dimensions.
        element.style.display = 'block';
    }

    var size = {
        width: element.clientWidth,
        height: element.clientHeight
    };

    element.style.display = display;

    return size;
}

var DEFAULT_BARCODE_WIDTH = 300;
var DEFAULT_BARCODE_HEIGHT = 100;

var Barcode = (function (Class$$1) {
    function Barcode(element, options, errorHandler) {
        if ( errorHandler === void 0 ) errorHandler = defaultErrorHandler;

        Class$$1.call(this);

        this.options = deepExtend({}, this.options, options);
        this.element = element;
        this.onError = errorHandler;

        this._initElement();
        this._initSurface();
        this._setOptions(options);

        if (options && defined(options.value)) {
            this.redraw();
        }
    }

    if ( Class$$1 ) Barcode.__proto__ = Class$$1;
    Barcode.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Barcode.prototype.constructor = Barcode;

    Barcode.prototype.destroy = function destroy () {
        this._destroySurface();
    };

    Barcode.prototype._initElement = function _initElement () {
        addClass(this.element, "k-barcode");
    };

    Barcode.prototype._initSurface = function _initSurface () {
        var ref = this;
        var options = ref.options;
        var surface = ref.surface;

        if (!surface || surface.options.type !== options.renderAs) {
            this._destroySurface();
            this._initSurfaceElement();
            this.surface = this._createSurface();
        }
    };

    Barcode.prototype._createSurface = function _createSurface () {
        return _progress_kendoDrawing.drawing.Surface.create(this.surfaceElement, {
            type: this.options.renderAs
        });
    };

    Barcode.prototype._destroySurface = function _destroySurface () {
        if (this.surface) {
            this.surface.destroy();
            this.surface = null;
            this._destroySurfaceElement();
        }
    };

    Barcode.prototype._initSurfaceElement = function _initSurfaceElement () {
        if (!this.surfaceElement) {
            this.surfaceElement = document.createElement('div');
            this.surfaceElement.style.position = 'relative';
            this.element.appendChild(this.surfaceElement);
        }
    };

    Barcode.prototype._destroySurfaceElement = function _destroySurfaceElement () {
        if (this.surfaceElement && this.surfaceElement.parentNode) {
            this.surfaceElement.parentNode.removeChild(this.surfaceElement);
            this.surfaceElement = null;
        }
    };

    Barcode.prototype.setOptions = function setOptions (options) {
        this._setOptions(options);
        this._initSurface();
        this.redraw();
    };

    Barcode.prototype.redraw = function redraw () {
        var size = this._getSize();

        this.surface.clear();

        this.surface.setSize({
            width: size.width,
            height: size.height
        });

        this.createVisual();

        this.surface.draw(this.visual);
    };

    Barcode.prototype.getSize = function getSize () {
        return {
            width: this.element.offsetWidth,
            height: this.element.offsetHeight
        };
    };

    Barcode.prototype._resize = function _resize () {
        this.redraw();
    };

    Barcode.prototype.createVisual = function createVisual () {
        this.visual = this._render();
    };

    Barcode.prototype._render = function _render () {
        var options = this.options;
        var value = options.value;
        var textOptions = options.text;
        var textMargin = getSpacing(textOptions.margin);
        var size = this._getSize();
        var border = options.border || {};
        var encoding = this.encoding;
        var contentBox = new Box(0, 0, size.width, size.height).unpad(border.width).unpad(options.padding);
        var barHeight = contentBox.height();
        var encodedValue;
        var textToDisplay;
        var textHeight;
        var visual = new _progress_kendoDrawing.drawing.Group();

        this.contentBox = contentBox;
        visual.append(this._getBackground(size));

        if (textOptions.visible) {
            textHeight = _progress_kendoDrawing.drawing.util.measureText(value, { font: textOptions.font }).height;
            barHeight -= textHeight + textMargin.top + textMargin.bottom;
        }

        try {
            encodedValue = encoding.encode(value, contentBox.width(), barHeight);
        } catch (error) {
            this.onError(error);
            return visual;
        }

        if (textOptions.visible) {
            textToDisplay = value;

            if (options.checksum && defined(encoding.checksum)) {
                textToDisplay += " " + encoding.checksum;
            }

            visual.append(this._getText(textToDisplay));
        }

        this.barHeight = barHeight;
        this._bandsGroup = this._getBands(encodedValue.pattern, encodedValue.baseUnit);
        visual.append(this._bandsGroup);

        return visual;
    };

    Barcode.prototype.exportVisual = function exportVisual () {
        return this._render();
    };

    Barcode.prototype._getSize = function _getSize () {
        var element = this.element;
        var elementSize$$1 = surfaceSize(element, this.options.renderAs);
        var size = new _progress_kendoDrawing.geometry.Size(DEFAULT_BARCODE_WIDTH, DEFAULT_BARCODE_HEIGHT);

        if (elementSize$$1.width > 0) {
            size.width = elementSize$$1.width;
        }

        if (elementSize$$1.height > 0) {
            size.height = elementSize$$1.height;
        }

        if (this.options.width) {
            size.width = this.options.width;
        }

        if (this.options.height) {
            size.height = this.options.height;
        }

        return size;
    };

    Barcode.prototype.value = function value (value) {
        if (!defined(value)) {
            return this.options.value;
        }

        this.options.value = String(value);
        this.redraw();
    };

    Barcode.prototype._getBands = function _getBands (pattern, baseUnit) {
        var this$1 = this;

        var contentBox = this.contentBox;
        var offsetX = contentBox.x1;
        var stepX;
        var patternItem;
        var group = new _progress_kendoDrawing.drawing.Group();

        for (var i = 0; i < pattern.length; i++) {
            patternItem = isObject(pattern[i]) ? pattern[i] : {
                width: pattern[i],
                y1: 0,
                y2: this$1.barHeight
            };

            stepX = patternItem.width * baseUnit;

            if (i % 2) {
                var rect = _progress_kendoDrawing.geometry.Rect.fromPoints(
                    new _progress_kendoDrawing.geometry.Point(offsetX, patternItem.y1 + contentBox.y1),
                    new _progress_kendoDrawing.geometry.Point(offsetX + stepX, patternItem.y2 + contentBox.y1)
                );

                var path = _progress_kendoDrawing.drawing.Path.fromRect(rect, {
                    fill: {
                        color: this$1.options.color
                    },
                    stroke: null
                });

                group.append(path);
            }

            offsetX += stepX;
        }

        return group;
    };

    Barcode.prototype._getBackground = function _getBackground (size) {
        var options = this.options;
        var border = options.border || {};
        var box = new Box(0, 0, size.width, size.height).unpad(border.width / 2);
        var path = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), {
            fill: {
                color: options.background
            },
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType
            }
        });

        return path;
    };

    Barcode.prototype._getText = function _getText (value) {
        var textOptions = this.options.text;
        var text = this._textbox = new TextBox(value, {
            font: textOptions.font,
            color: textOptions.color,
            align: "center",
            vAlign: "bottom",
            margin: textOptions.margin
        });

        text.reflow(this.contentBox);
        text.renderVisual();

        return text.visual;
    };

    Barcode.prototype._setOptions = function _setOptions (options) {
        this.type = (options.type || this.options.type).toLowerCase();

        if (this.type === "upca") {
            this.type = "ean13";
            options.value = '0' + options.value;
        }

        if (this.type === "upce") {
            this.type = "ean8";
            options.value = '0' + options.value;
        }

        if (!Encodings[this.type]) {
            throw new Error(("Encoding '" + (this.type) + "' is not supported."));
        }

        this.encoding = new Encodings[this.type]();

        this.options = deepExtend({}, this.options, options);
    };

    return Barcode;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Barcode, {
    name: "Barcode",
    renderAs: "svg",
    value: "",
    type: "code39",
    checksum: false,
    width: 0,
    height: 0,
    color: "black",
    background: "white",
    text: {
        visible: true,
        font: "16px Consolas, Monaco, Sans Mono, monospace, sans-serif",
        color: "black",
        margin: {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0
        }
    },
    border: {
        width: 0,
        dashType: "solid",
        color: "black"
    },
    padding: {
        top: 0,
        bottom: 0,
        left: 0,
        right: 0
    }
});

var validate$1 = function (encoding, size, prefix) { return function (value) {
    try {
        encoding.encode(
            prefix + value,
            size.width,
            size.height
        );
    } catch (error) {
        return {
            valid: false,
            error: error
        };
    }

    return {
        valid: true
    };
}; };

// A default size for encodings, so the validator can check only the value if no size is provided.
var fallbackSize = { width: 500, height: 100 };

function barcodeValidator(type, size) {
    if ( size === void 0 ) size = fallbackSize;

    if (!type) {
        throw new Error("Please specify barcode type to validate.");
    }

    var resolvedType = type.toLowerCase();
    var prefix = '';
    if (resolvedType === 'upca') {
        resolvedType = 'ean13';
        prefix = '0';
    } else if (resolvedType === 'upce') {
        resolvedType = 'ean8';
        prefix = '0';
    }

    if (!Encodings[resolvedType]) {
        throw new Error(("Encoding '" + type + "' is not supported."));
    }

    var encoding = new Encodings[resolvedType]();
    return validate$1(encoding, size, prefix);
}

var extend$8 = Object.assign;

function splitInto(str, chunkLength) {
    var result = [];
    var idx = 0;

    while (idx < str.length) {
        result.push(str.substring(idx, idx + chunkLength));
        idx += chunkLength;
    }

    return result;
}

function toBitsString(value, length) {
    var bitString = Number(value).toString(2);

    if (bitString.length < length) {
        bitString = new Array(length - bitString.length + 1).join(0) + bitString;
    }

    return bitString;
}

function toDecimal(value) {
    return parseInt(value, 2);
}

var FreeCellVisitor = (function (Class$$1) {
    function FreeCellVisitor(matrix) {
        Class$$1.call(this);

        this.matrix = matrix;
        this.row = matrix.length - 1;
        this.column = matrix.length - 1;
        this.startColumn = this.column;
        this.dir = -1;
        this.c = 0;
    }

    if ( Class$$1 ) FreeCellVisitor.__proto__ = Class$$1;
    FreeCellVisitor.prototype = Object.create( Class$$1 && Class$$1.prototype );
    FreeCellVisitor.prototype.constructor = FreeCellVisitor;

    FreeCellVisitor.prototype.move = function move () {
        this.row += this.dir * this.c;
        this.c ^= 1;
        this.column = this.startColumn - this.c;
    };

    FreeCellVisitor.prototype.getNextCell = function getNextCell () {
        var this$1 = this;

        while (this.matrix[this.row][this.column] !== undefined) {
            this$1.move();

            if (this$1.row < 0 || this$1.row >= this$1.matrix.length) {
                this$1.dir = -this$1.dir;
                this$1.startColumn -= this$1.startColumn !== 8 ? 2 : 3;
                this$1.column = this$1.startColumn;
                this$1.row = this$1.dir < 0 ? this$1.matrix.length - 1 : 0;
            }
        }

        return {
            row: this.row,
            column: this.column
        };
    };

    FreeCellVisitor.prototype.getNextRemainderCell = function getNextRemainderCell () {
        this.move();

        if (this.matrix[this.row][this.column] === undefined) {
            return {
                row: this.row,
                column: this.column
            };
        }
    };

    return FreeCellVisitor;
}(_progress_kendoDrawing.Class));

var EncodingResult = (function (Class$$1) {
    function EncodingResult(dataString, version) {
        Class$$1.call(this);

        this.dataString = dataString;
        this.version = version;
    }

    if ( Class$$1 ) EncodingResult.__proto__ = Class$$1;
    EncodingResult.prototype = Object.create( Class$$1 && Class$$1.prototype );
    EncodingResult.prototype.constructor = EncodingResult;

    return EncodingResult;
}(_progress_kendoDrawing.Class));

var IsoEncoder = (function (Class$$1) {
    function IsoEncoder () {
        Class$$1.apply(this, arguments);
    }

    if ( Class$$1 ) IsoEncoder.__proto__ = Class$$1;
    IsoEncoder.prototype = Object.create( Class$$1 && Class$$1.prototype );
    IsoEncoder.prototype.constructor = IsoEncoder;

    IsoEncoder.prototype.getEncodingResult = function getEncodingResult (inputString, errorCorrectionLevel) {
        var modes = getModes(inputString),
            dataCodewordsCount = getDataCodewordsCount$1(modes),
            version = getVersion(dataCodewordsCount, errorCorrectionLevel),
            dataString = getDataString(modes, version);

        return new EncodingResult(dataString, version);
    };

    return IsoEncoder;
}(_progress_kendoDrawing.Class));

var QRDataMode = (function (Class$$1) {
    function QRDataMode() {
        Class$$1.call(this);

        this.initProperties();
    }

    if ( Class$$1 ) QRDataMode.__proto__ = Class$$1;
    QRDataMode.prototype = Object.create( Class$$1 && Class$$1.prototype );
    QRDataMode.prototype.constructor = QRDataMode;

    QRDataMode.prototype.initProperties = function initProperties () {
        extend$8(this, {
            modeIndicator: "",
            bitsInCharacterCount: []
        });
    };

    QRDataMode.prototype.getVersionIndex = function getVersionIndex (version) {
        if (version < 10) {
            return 0;
        } else if (version > 26) {
            return 2;
        }

        return 1;
    };

    QRDataMode.prototype.getBitsCharacterCount = function getBitsCharacterCount (version) {
        return this.bitsInCharacterCount[this.getVersionIndex(version || 40)];
    };

    QRDataMode.prototype.getModeCountString = function getModeCountString (length, version) {
        return this.modeIndicator + toBitsString(length, this.getBitsCharacterCount(version));
    };

    QRDataMode.prototype.encode = function encode () { };

    QRDataMode.prototype.getStringBitsLength = function getStringBitsLength () { };

    QRDataMode.prototype.getValue = function getValue () { };

    return QRDataMode;
}(_progress_kendoDrawing.Class));

var NumericQRDataMode = (function (QRDataMode$$1) {
    function NumericQRDataMode () {
        QRDataMode$$1.apply(this, arguments);
    }

    if ( QRDataMode$$1 ) NumericQRDataMode.__proto__ = QRDataMode$$1;
    NumericQRDataMode.prototype = Object.create( QRDataMode$$1 && QRDataMode$$1.prototype );
    NumericQRDataMode.prototype.constructor = NumericQRDataMode;

    NumericQRDataMode.prototype.initProperties = function initProperties () {
        QRDataMode$$1.prototype.initProperties.call(this);

        extend$8(this, {
            bitsInCharacterCount: [10, 12, 14],
            modeIndicator: "0001"
        });
    };

    NumericQRDataMode.prototype.getValue = function getValue (character) {
        return parseInt(character, 10);
    };

    NumericQRDataMode.prototype.encode = function encode (str, version) {
        var mode = this,
            parts = splitInto(str, 3),
            result = mode.getModeCountString(str.length, version);
        var i;

        for (i = 0; i < parts.length - 1; i++) {
            result += toBitsString(parts[i], 10);
        }

        return result + toBitsString(parts[i], 1 + 3 * parts[i].length);
    };

    NumericQRDataMode.prototype.getStringBitsLength = function getStringBitsLength (inputLength, version) {
        var mod3 = inputLength % 3;
        return 4 + this.getBitsCharacterCount(version) + 10 * Math.floor(inputLength / 3) + 3 * mod3 + (mod3 === 0 ? 0 : 1);
    };

    return NumericQRDataMode;
}(QRDataMode));

var AlphaNumericQRDataMode = (function (QRDataMode$$1) {
    function AlphaNumericQRDataMode () {
        QRDataMode$$1.apply(this, arguments);
    }

    if ( QRDataMode$$1 ) AlphaNumericQRDataMode.__proto__ = QRDataMode$$1;
    AlphaNumericQRDataMode.prototype = Object.create( QRDataMode$$1 && QRDataMode$$1.prototype );
    AlphaNumericQRDataMode.prototype.constructor = AlphaNumericQRDataMode;

    AlphaNumericQRDataMode.prototype.initProperties = function initProperties () {
        QRDataMode$$1.prototype.initProperties.call(this);

        extend$8(this, {
            characters: {
                "0": 0,
                "1": 1,
                "2": 2,
                "3": 3,
                "4": 4,
                "5": 5,
                "6": 6,
                "7": 7,
                "8": 8,
                "9": 9,
                "A": 10,
                "B": 11,
                "C": 12,
                "D": 13,
                "E": 14,
                "F": 15,
                "G": 16,
                "H": 17,
                "I": 18,
                "J": 19,
                "K": 20,
                "L": 21,
                "M": 22,
                "N": 23,
                "O": 24,
                "P": 25,
                "Q": 26,
                "R": 27,
                "S": 28,
                "T": 29,
                "U": 30,
                "V": 31,
                "W": 32,
                "X": 33,
                "Y": 34,
                "Z": 35,
                " ": 36,
                "$": 37,
                "%": 38,
                "*": 39,
                "+": 40,
                "-": 41,
                ".": 42,
                "/": 43,
                ":": 44
            },
            bitsInCharacterCount: [9, 11, 13],
            modeIndicator: "0010"
        });
    };

    AlphaNumericQRDataMode.prototype.getValue = function getValue (character) {
        return this.characters[character];
    };

    AlphaNumericQRDataMode.prototype.encode = function encode (str, version) {
        var this$1 = this;

        var
            parts = splitInto(str, 2),
            result = this.getModeCountString(str.length, version),
            value;
        var i;

        for (i = 0; i < parts.length - 1; i++) {
            value = 45 * this$1.getValue(parts[i].charAt(0)) + this$1.getValue(parts[i].charAt(1));
            result += toBitsString(value, 11);
        }

        value = parts[i].length === 2 ?
            45 * this.getValue(parts[i].charAt(0)) + this.getValue(parts[i].charAt(1)) :
            this.getValue(parts[i].charAt(0));

        return result + toBitsString(value, 1 + 5 * parts[i].length);
    };

    AlphaNumericQRDataMode.prototype.getStringBitsLength = function getStringBitsLength (inputLength, version) {
        return 4 + this.getBitsCharacterCount(version) + 11 * Math.floor(inputLength / 2) + 6 * (inputLength % 2);
    };

    return AlphaNumericQRDataMode;
}(QRDataMode));

var ByteQRDataMode = (function (QRDataMode$$1) {
    function ByteQRDataMode () {
        QRDataMode$$1.apply(this, arguments);
    }

    if ( QRDataMode$$1 ) ByteQRDataMode.__proto__ = QRDataMode$$1;
    ByteQRDataMode.prototype = Object.create( QRDataMode$$1 && QRDataMode$$1.prototype );
    ByteQRDataMode.prototype.constructor = ByteQRDataMode;

    ByteQRDataMode.prototype.initProperties = function initProperties () {
        QRDataMode$$1.prototype.initProperties.call(this);

        extend$8(this, {
            bitsInCharacterCount: [8, 16, 16],
            modeIndicator: "0100"
        });
    };

    ByteQRDataMode.prototype.getValue = function getValue (character) {
        var code = character.charCodeAt(0);

        if (code <= 127 || (160 <= code && code <= 255)) {
            return code;
        }

        throw new Error(("Unsupported character in QR Code: \"" + character + "\"."));
    };

    ByteQRDataMode.prototype.encode = function encode (str, version) {
        var mode = this,
            result = mode.getModeCountString(str.length, version);

        for (var i = 0; i < str.length; i++) {
            result += toBitsString(mode.getValue(str.charAt(i)), 8);
        }

        return result;
    };

    ByteQRDataMode.prototype.getStringBitsLength = function getStringBitsLength (inputLength, version) {
        return 4 + this.getBitsCharacterCount(version) + 8 * inputLength;
    };

    return ByteQRDataMode;
}(QRDataMode));

var NUMERIC$1 = "numeric";
var ALPHA_NUMERIC$1 = "alphanumeric";
var BYTE$2 = "byte";

var DataModeInstances = {};
DataModeInstances[NUMERIC$1] = new NumericQRDataMode();
DataModeInstances[ALPHA_NUMERIC$1] = new AlphaNumericQRDataMode();
DataModeInstances[BYTE$2] = new ByteQRDataMode();

var BYTE$1 = "byte";

var Utf8Encoder = (function (Class$$1) {
    function Utf8Encoder() {
        Class$$1.call(this);

        this.initProperties();

        this.mode = DataModeInstances[this.encodingMode];
    }

    if ( Class$$1 ) Utf8Encoder.__proto__ = Class$$1;
    Utf8Encoder.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Utf8Encoder.prototype.constructor = Utf8Encoder;

    Utf8Encoder.prototype.initProperties = function initProperties () {
        extend$8(this, {
            encodingMode: BYTE$1,
            utfBOM: "111011111011101110111111",
            initialModeCountStringLength: 20,
            ranges: [128, 2048, 65536, 2097152, 67108864]
        });
    };

    Utf8Encoder.prototype.getEncodingResult = function getEncodingResult (inputString, errorCorrectionLevel) {
        var data = this.encode(inputString),
            dataCodewordsCount = this.getDataCodewordsCount(data),
            version = getVersion(dataCodewordsCount, errorCorrectionLevel),
            dataString = this.mode.getModeCountString(data.length / 8, version) + data;

        return new EncodingResult(dataString, version);
    };

    Utf8Encoder.prototype.getDataCodewordsCount = function getDataCodewordsCount (data) {
        var dataLength = data.length,
            dataCodewordsCount = Math.ceil((this.initialModeCountStringLength + dataLength) / 8);

        return dataCodewordsCount;
    };

    Utf8Encoder.prototype.encode = function encode (str) {
        var this$1 = this;

        var result = this.utfBOM;

        for (var i = 0; i < str.length; i++) {
            result += this$1.encodeCharacter(str.charCodeAt(i));
        }

        return result;
    };

    Utf8Encoder.prototype.encodeCharacter = function encodeCharacter (code) {
        var bytesCount = this.getBytesCount(code),
            bc = bytesCount - 1,
            result = "";

        if (bytesCount === 1) {
            result = toBitsString(code, 8);
        } else {
            var significantOnes = 8 - bytesCount;

            for (var i = 0; i < bc; i++) {
                result = toBitsString(code >> (i * 6) & 63 | 128, 8) + result;
            }

            result = ((code >> bc * 6) | ((255 >> significantOnes) << significantOnes)).toString(2) + result;
        }

        return result;
    };

    Utf8Encoder.prototype.getBytesCount = function getBytesCount (code) {
        var ranges = this.ranges;

        for (var i = 0; i < ranges.length; i++) {
            if (code < ranges[i]) {
                return i + 1;
            }
        }
    };

    return Utf8Encoder;
}(_progress_kendoDrawing.Class));

var VersionsCodewordsInformation = [{
    L: {
        groups: [
            [1, 19]
        ],
        totalDataCodewords: 19,
        errorCodewordsPerBlock: 7
    },
    M: {
        groups: [
            [1, 16]
        ],
        totalDataCodewords: 16,
        errorCodewordsPerBlock: 10
    },
    Q: {
        groups: [
            [1, 13]
        ],
        totalDataCodewords: 13,
        errorCodewordsPerBlock: 13
    },
    H: {
        groups: [
            [1, 9]
        ],
        totalDataCodewords: 9,
        errorCodewordsPerBlock: 17
    }
}, {
    L: {
        groups: [
            [1, 34]
        ],
        totalDataCodewords: 34,
        errorCodewordsPerBlock: 10
    },
    M: {
        groups: [
            [1, 28]
        ],
        totalDataCodewords: 28,
        errorCodewordsPerBlock: 16
    },
    Q: {
        groups: [
            [1, 22]
        ],
        totalDataCodewords: 22,
        errorCodewordsPerBlock: 22
    },
    H: {
        groups: [
            [1, 16]
        ],
        totalDataCodewords: 16,
        errorCodewordsPerBlock: 28
    }
}, {
    L: {
        groups: [
            [1, 55]
        ],
        totalDataCodewords: 55,
        errorCodewordsPerBlock: 15
    },
    M: {
        groups: [
            [1, 44]
        ],
        totalDataCodewords: 44,
        errorCodewordsPerBlock: 26
    },
    Q: {
        groups: [
            [2, 17]
        ],
        totalDataCodewords: 34,
        errorCodewordsPerBlock: 18
    },
    H: {
        groups: [
            [2, 13]
        ],
        totalDataCodewords: 26,
        errorCodewordsPerBlock: 22
    }
}, {
    L: {
        groups: [
            [1, 80]
        ],
        totalDataCodewords: 80,
        errorCodewordsPerBlock: 20
    },
    M: {
        groups: [
            [2, 32]
        ],
        totalDataCodewords: 64,
        errorCodewordsPerBlock: 18
    },
    Q: {
        groups: [
            [2, 24]
        ],
        totalDataCodewords: 48,
        errorCodewordsPerBlock: 26
    },
    H: {
        groups: [
            [4, 9]
        ],
        totalDataCodewords: 36,
        errorCodewordsPerBlock: 16
    }
}, {
    L: {
        groups: [
            [1, 108]
        ],
        totalDataCodewords: 108,
        errorCodewordsPerBlock: 26
    },
    M: {
        groups: [
            [2, 43]
        ],
        totalDataCodewords: 86,
        errorCodewordsPerBlock: 24
    },
    Q: {
        groups: [
            [2, 15],
            [2, 16]
        ],
        totalDataCodewords: 62,
        errorCodewordsPerBlock: 18
    },
    H: {
        groups: [
            [2, 11],
            [2, 12]
        ],
        totalDataCodewords: 46,
        errorCodewordsPerBlock: 22
    }
}, {
    L: {
        groups: [
            [2, 68]
        ],
        totalDataCodewords: 136,
        errorCodewordsPerBlock: 18
    },
    M: {
        groups: [
            [4, 27]
        ],
        totalDataCodewords: 108,
        errorCodewordsPerBlock: 16
    },
    Q: {
        groups: [
            [4, 19]
        ],
        totalDataCodewords: 76,
        errorCodewordsPerBlock: 24
    },
    H: {
        groups: [
            [4, 15]
        ],
        totalDataCodewords: 60,
        errorCodewordsPerBlock: 28
    }
}, {
    L: {
        groups: [
            [2, 78]
        ],
        totalDataCodewords: 156,
        errorCodewordsPerBlock: 20
    },
    M: {
        groups: [
            [4, 31]
        ],
        totalDataCodewords: 124,
        errorCodewordsPerBlock: 18
    },
    Q: {
        groups: [
            [2, 14],
            [4, 15]
        ],
        totalDataCodewords: 88,
        errorCodewordsPerBlock: 18
    },
    H: {
        groups: [
            [4, 13],
            [1, 14]
        ],
        totalDataCodewords: 66,
        errorCodewordsPerBlock: 26
    }
}, {
    L: {
        groups: [
            [2, 97]
        ],
        totalDataCodewords: 194,
        errorCodewordsPerBlock: 24
    },
    M: {
        groups: [
            [2, 38],
            [2, 39]
        ],
        totalDataCodewords: 154,
        errorCodewordsPerBlock: 22
    },
    Q: {
        groups: [
            [4, 18],
            [2, 19]
        ],
        totalDataCodewords: 110,
        errorCodewordsPerBlock: 22
    },
    H: {
        groups: [
            [4, 14],
            [2, 15]
        ],
        totalDataCodewords: 86,
        errorCodewordsPerBlock: 26
    }
}, {
    L: {
        groups: [
            [2, 116]
        ],
        totalDataCodewords: 232,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [3, 36],
            [2, 37]
        ],
        totalDataCodewords: 182,
        errorCodewordsPerBlock: 22
    },
    Q: {
        groups: [
            [4, 16],
            [4, 17]
        ],
        totalDataCodewords: 132,
        errorCodewordsPerBlock: 20
    },
    H: {
        groups: [
            [4, 12],
            [4, 13]
        ],
        totalDataCodewords: 100,
        errorCodewordsPerBlock: 24
    }
}, {
    L: {
        groups: [
            [2, 68],
            [2, 69]
        ],
        totalDataCodewords: 274,
        errorCodewordsPerBlock: 18
    },
    M: {
        groups: [
            [4, 43],
            [1, 44]
        ],
        totalDataCodewords: 216,
        errorCodewordsPerBlock: 26
    },
    Q: {
        groups: [
            [6, 19],
            [2, 20]
        ],
        totalDataCodewords: 154,
        errorCodewordsPerBlock: 24
    },
    H: {
        groups: [
            [6, 15],
            [2, 16]
        ],
        totalDataCodewords: 122,
        errorCodewordsPerBlock: 28
    }
}, {
    L: {
        groups: [
            [4, 81]
        ],
        totalDataCodewords: 324,
        errorCodewordsPerBlock: 20
    },
    M: {
        groups: [
            [1, 50],
            [4, 51]
        ],
        totalDataCodewords: 254,
        errorCodewordsPerBlock: 30
    },
    Q: {
        groups: [
            [4, 22],
            [4, 23]
        ],
        totalDataCodewords: 180,
        errorCodewordsPerBlock: 28
    },
    H: {
        groups: [
            [3, 12],
            [8, 13]
        ],
        totalDataCodewords: 140,
        errorCodewordsPerBlock: 24
    }
}, {
    L: {
        groups: [
            [2, 92],
            [2, 93]
        ],
        totalDataCodewords: 370,
        errorCodewordsPerBlock: 24
    },
    M: {
        groups: [
            [6, 36],
            [2, 37]
        ],
        totalDataCodewords: 290,
        errorCodewordsPerBlock: 22
    },
    Q: {
        groups: [
            [4, 20],
            [6, 21]
        ],
        totalDataCodewords: 206,
        errorCodewordsPerBlock: 26
    },
    H: {
        groups: [
            [7, 14],
            [4, 15]
        ],
        totalDataCodewords: 158,
        errorCodewordsPerBlock: 28
    }
}, {
    L: {
        groups: [
            [4, 107]
        ],
        totalDataCodewords: 428,
        errorCodewordsPerBlock: 26
    },
    M: {
        groups: [
            [8, 37],
            [1, 38]
        ],
        totalDataCodewords: 334,
        errorCodewordsPerBlock: 22
    },
    Q: {
        groups: [
            [8, 20],
            [4, 21]
        ],
        totalDataCodewords: 244,
        errorCodewordsPerBlock: 24
    },
    H: {
        groups: [
            [12, 11],
            [4, 12]
        ],
        totalDataCodewords: 180,
        errorCodewordsPerBlock: 22
    }
}, {
    L: {
        groups: [
            [3, 115],
            [1, 116]
        ],
        totalDataCodewords: 461,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [4, 40],
            [5, 41]
        ],
        totalDataCodewords: 365,
        errorCodewordsPerBlock: 24
    },
    Q: {
        groups: [
            [11, 16],
            [5, 17]
        ],
        totalDataCodewords: 261,
        errorCodewordsPerBlock: 20
    },
    H: {
        groups: [
            [11, 12],
            [5, 13]
        ],
        totalDataCodewords: 197,
        errorCodewordsPerBlock: 24
    }
}, {
    L: {
        groups: [
            [5, 87],
            [1, 88]
        ],
        totalDataCodewords: 523,
        errorCodewordsPerBlock: 22
    },
    M: {
        groups: [
            [5, 41],
            [5, 42]
        ],
        totalDataCodewords: 415,
        errorCodewordsPerBlock: 24
    },
    Q: {
        groups: [
            [5, 24],
            [7, 25]
        ],
        totalDataCodewords: 295,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [11, 12],
            [7, 13]
        ],
        totalDataCodewords: 223,
        errorCodewordsPerBlock: 24
    }
}, {
    L: {
        groups: [
            [5, 98],
            [1, 99]
        ],
        totalDataCodewords: 589,
        errorCodewordsPerBlock: 24
    },
    M: {
        groups: [
            [7, 45],
            [3, 46]
        ],
        totalDataCodewords: 453,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [15, 19],
            [2, 20]
        ],
        totalDataCodewords: 325,
        errorCodewordsPerBlock: 24
    },
    H: {
        groups: [
            [3, 15],
            [13, 16]
        ],
        totalDataCodewords: 253,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [1, 107],
            [5, 108]
        ],
        totalDataCodewords: 647,
        errorCodewordsPerBlock: 28
    },
    M: {
        groups: [
            [10, 46],
            [1, 47]
        ],
        totalDataCodewords: 507,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [1, 22],
            [15, 23]
        ],
        totalDataCodewords: 367,
        errorCodewordsPerBlock: 28
    },
    H: {
        groups: [
            [2, 14],
            [17, 15]
        ],
        totalDataCodewords: 283,
        errorCodewordsPerBlock: 28
    }
}, {
    L: {
        groups: [
            [5, 120],
            [1, 121]
        ],
        totalDataCodewords: 721,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [9, 43],
            [4, 44]
        ],
        totalDataCodewords: 563,
        errorCodewordsPerBlock: 26
    },
    Q: {
        groups: [
            [17, 22],
            [1, 23]
        ],
        totalDataCodewords: 397,
        errorCodewordsPerBlock: 28
    },
    H: {
        groups: [
            [2, 14],
            [19, 15]
        ],
        totalDataCodewords: 313,
        errorCodewordsPerBlock: 28
    }
}, {
    L: {
        groups: [
            [3, 113],
            [4, 114]
        ],
        totalDataCodewords: 795,
        errorCodewordsPerBlock: 28
    },
    M: {
        groups: [
            [3, 44],
            [11, 45]
        ],
        totalDataCodewords: 627,
        errorCodewordsPerBlock: 26
    },
    Q: {
        groups: [
            [17, 21],
            [4, 22]
        ],
        totalDataCodewords: 445,
        errorCodewordsPerBlock: 26
    },
    H: {
        groups: [
            [9, 13],
            [16, 14]
        ],
        totalDataCodewords: 341,
        errorCodewordsPerBlock: 26
    }
}, {
    L: {
        groups: [
            [3, 107],
            [5, 108]
        ],
        totalDataCodewords: 861,
        errorCodewordsPerBlock: 28
    },
    M: {
        groups: [
            [3, 41],
            [13, 42]
        ],
        totalDataCodewords: 669,
        errorCodewordsPerBlock: 26
    },
    Q: {
        groups: [
            [15, 24],
            [5, 25]
        ],
        totalDataCodewords: 485,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [15, 15],
            [10, 16]
        ],
        totalDataCodewords: 385,
        errorCodewordsPerBlock: 28
    }
}, {
    L: {
        groups: [
            [4, 116],
            [4, 117]
        ],
        totalDataCodewords: 932,
        errorCodewordsPerBlock: 28
    },
    M: {
        groups: [
            [17, 42]
        ],
        totalDataCodewords: 714,
        errorCodewordsPerBlock: 26
    },
    Q: {
        groups: [
            [17, 22],
            [6, 23]
        ],
        totalDataCodewords: 512,
        errorCodewordsPerBlock: 28
    },
    H: {
        groups: [
            [19, 16],
            [6, 17]
        ],
        totalDataCodewords: 406,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [2, 111],
            [7, 112]
        ],
        totalDataCodewords: 1006,
        errorCodewordsPerBlock: 28
    },
    M: {
        groups: [
            [17, 46]
        ],
        totalDataCodewords: 782,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [7, 24],
            [16, 25]
        ],
        totalDataCodewords: 568,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [34, 13]
        ],
        totalDataCodewords: 442,
        errorCodewordsPerBlock: 24
    }
}, {
    L: {
        groups: [
            [4, 121],
            [5, 122]
        ],
        totalDataCodewords: 1094,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [4, 47],
            [14, 48]
        ],
        totalDataCodewords: 860,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [11, 24],
            [14, 25]
        ],
        totalDataCodewords: 614,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [16, 15],
            [14, 16]
        ],
        totalDataCodewords: 464,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [6, 117],
            [4, 118]
        ],
        totalDataCodewords: 1174,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [6, 45],
            [14, 46]
        ],
        totalDataCodewords: 914,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [11, 24],
            [16, 25]
        ],
        totalDataCodewords: 664,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [30, 16],
            [2, 17]
        ],
        totalDataCodewords: 514,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [8, 106],
            [4, 107]
        ],
        totalDataCodewords: 1276,
        errorCodewordsPerBlock: 26
    },
    M: {
        groups: [
            [8, 47],
            [13, 48]
        ],
        totalDataCodewords: 1000,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [7, 24],
            [22, 25]
        ],
        totalDataCodewords: 718,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [22, 15],
            [13, 16]
        ],
        totalDataCodewords: 538,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [10, 114],
            [2, 115]
        ],
        totalDataCodewords: 1370,
        errorCodewordsPerBlock: 28
    },
    M: {
        groups: [
            [19, 46],
            [4, 47]
        ],
        totalDataCodewords: 1062,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [28, 22],
            [6, 23]
        ],
        totalDataCodewords: 754,
        errorCodewordsPerBlock: 28
    },
    H: {
        groups: [
            [33, 16],
            [4, 17]
        ],
        totalDataCodewords: 596,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [8, 122],
            [4, 123]
        ],
        totalDataCodewords: 1468,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [22, 45],
            [3, 46]
        ],
        totalDataCodewords: 1128,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [8, 23],
            [26, 24]
        ],
        totalDataCodewords: 808,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [12, 15],
            [28, 16]
        ],
        totalDataCodewords: 628,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [3, 117],
            [10, 118]
        ],
        totalDataCodewords: 1531,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [3, 45],
            [23, 46]
        ],
        totalDataCodewords: 1193,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [4, 24],
            [31, 25]
        ],
        totalDataCodewords: 871,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [11, 15],
            [31, 16]
        ],
        totalDataCodewords: 661,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [7, 116],
            [7, 117]
        ],
        totalDataCodewords: 1631,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [21, 45],
            [7, 46]
        ],
        totalDataCodewords: 1267,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [1, 23],
            [37, 24]
        ],
        totalDataCodewords: 911,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [19, 15],
            [26, 16]
        ],
        totalDataCodewords: 701,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [5, 115],
            [10, 116]
        ],
        totalDataCodewords: 1735,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [19, 47],
            [10, 48]
        ],
        totalDataCodewords: 1373,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [15, 24],
            [25, 25]
        ],
        totalDataCodewords: 985,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [23, 15],
            [25, 16]
        ],
        totalDataCodewords: 745,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [13, 115],
            [3, 116]
        ],
        totalDataCodewords: 1843,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [2, 46],
            [29, 47]
        ],
        totalDataCodewords: 1455,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [42, 24],
            [1, 25]
        ],
        totalDataCodewords: 1033,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [23, 15],
            [28, 16]
        ],
        totalDataCodewords: 793,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [17, 115]
        ],
        totalDataCodewords: 1955,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [10, 46],
            [23, 47]
        ],
        totalDataCodewords: 1541,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [10, 24],
            [35, 25]
        ],
        totalDataCodewords: 1115,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [19, 15],
            [35, 16]
        ],
        totalDataCodewords: 845,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [17, 115],
            [1, 116]
        ],
        totalDataCodewords: 2071,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [14, 46],
            [21, 47]
        ],
        totalDataCodewords: 1631,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [29, 24],
            [19, 25]
        ],
        totalDataCodewords: 1171,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [11, 15],
            [46, 16]
        ],
        totalDataCodewords: 901,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [13, 115],
            [6, 116]
        ],
        totalDataCodewords: 2191,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [14, 46],
            [23, 47]
        ],
        totalDataCodewords: 1725,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [44, 24],
            [7, 25]
        ],
        totalDataCodewords: 1231,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [59, 16],
            [1, 17]
        ],
        totalDataCodewords: 961,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [12, 121],
            [7, 122]
        ],
        totalDataCodewords: 2306,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [12, 47],
            [26, 48]
        ],
        totalDataCodewords: 1812,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [39, 24],
            [14, 25]
        ],
        totalDataCodewords: 1286,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [22, 15],
            [41, 16]
        ],
        totalDataCodewords: 986,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [6, 121],
            [14, 122]
        ],
        totalDataCodewords: 2434,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [6, 47],
            [34, 48]
        ],
        totalDataCodewords: 1914,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [46, 24],
            [10, 25]
        ],
        totalDataCodewords: 1354,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [2, 15],
            [64, 16]
        ],
        totalDataCodewords: 1054,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [17, 122],
            [4, 123]
        ],
        totalDataCodewords: 2566,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [29, 46],
            [14, 47]
        ],
        totalDataCodewords: 1992,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [49, 24],
            [10, 25]
        ],
        totalDataCodewords: 1426,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [24, 15],
            [46, 16]
        ],
        totalDataCodewords: 1096,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [4, 122],
            [18, 123]
        ],
        totalDataCodewords: 2702,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [13, 46],
            [32, 47]
        ],
        totalDataCodewords: 2102,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [48, 24],
            [14, 25]
        ],
        totalDataCodewords: 1502,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [42, 15],
            [32, 16]
        ],
        totalDataCodewords: 1142,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [20, 117],
            [4, 118]
        ],
        totalDataCodewords: 2812,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [40, 47],
            [7, 48]
        ],
        totalDataCodewords: 2216,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [43, 24],
            [22, 25]
        ],
        totalDataCodewords: 1582,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [10, 15],
            [67, 16]
        ],
        totalDataCodewords: 1222,
        errorCodewordsPerBlock: 30
    }
}, {
    L: {
        groups: [
            [19, 118],
            [6, 119]
        ],
        totalDataCodewords: 2956,
        errorCodewordsPerBlock: 30
    },
    M: {
        groups: [
            [18, 47],
            [31, 48]
        ],
        totalDataCodewords: 2334,
        errorCodewordsPerBlock: 28
    },
    Q: {
        groups: [
            [34, 24],
            [34, 25]
        ],
        totalDataCodewords: 1666,
        errorCodewordsPerBlock: 30
    },
    H: {
        groups: [
            [20, 15],
            [61, 16]
        ],
        totalDataCodewords: 1276,
        errorCodewordsPerBlock: 30
    }
}];

var terminator = "0000";
var NUMERIC = "numeric";
var ALPHA_NUMERIC = "alphanumeric";
var BYTE = "byte";
var powersOfTwo = { "1": 0 };
var powersOfTwoResult = { "0": 1 };
var irregularAlignmentPatternsStartDistance = {
        15: 20, 16: 20, 18: 24, 19: 24, 22: 20,
        24: 22, 26: 24, 28: 20, 30: 20, 31: 24,
        32: 28, 33: 24, 36: 18, 37: 22, 39: 20, 40: 24
    };
var finderPattern = [1, 0, 1, 1, 1];
var alignmentPattern = [1, 0, 1];
var errorCorrectionPatterns = { L: "01", M: "00", Q: "11", H: "10" };
var formatMaskPattern = "101010000010010";
var formatGeneratorPolynomial = "10100110111";
var versionGeneratorPolynomial = "1111100100101";
var paddingCodewords = ["11101100", "00010001"];
var finderPatternValue = 93;
var maskPatternConditions = [
        function (row, column) { return (row + column) % 2 === 0; },
        function (row, column) { return row % 2 === 0; },
        function (row, column) { return column % 3 === 0; },
        function (row, column) { return (row + column) % 3 === 0; },
        function (row, column) { return (Math.floor(row / 2) + Math.floor(column / 3)) % 2 === 0; },
        function (row, column) { return ((row * column) % 2) + ((row * column) % 3) === 0; },
        function (row, column) { return (((row * column) % 2) + ((row * column) % 3)) % 2 === 0; },
        function (row, column) { return (((row + column) % 2) + ((row * column) % 3)) % 2 === 0; }
    ];
var numberRegex$2 = /^\d+/;
var alphaPattern = "A-Z0-9 $%*+./:-";
var alphaExclusiveSet = "A-Z $%*+./:-";
var alphaRegex = new RegExp("^[" + alphaExclusiveSet + "]+");
var alphaNumericRegex = new RegExp("^[" + alphaPattern + "]+");
var byteRegex = new RegExp("^[^" + alphaPattern + "]+");
var initMinNumericBeforeAlpha = 8;
var initMinNumericBeforeByte = 5;
var initMinAlphaBeforeByte = 8;
var minNumericBeforeAlpha = 17;
var minNumericBeforeByte = 9;
var minAlphaBeforeByte = 16;

var generatorPolynomials = [[1, 0], [1, 25, 0]];

function fillFunctionCell(matrices, bit, x, y) {
    for (var i = 0; i < matrices.length; i++) {
        matrices[i][x][y] = bit;
    }
}

function fillDataCell(matrices, bit, x, y) {
    for (var i = 0; i < maskPatternConditions.length; i++) {
        matrices[i][x][y] = maskPatternConditions[i](x, y) ? bit ^ 1 : parseInt(bit, 10);
    }
}

function fillData(matrices, blocks) {
    var cellVisitor = new FreeCellVisitor(matrices[0]),
        block,
        codewordIdx,
        cell;

    for (var blockIdx = 0; blockIdx < blocks.length; blockIdx++) {
        block = blocks[blockIdx];
        codewordIdx = 0;

        while (block.length > 0) {
            for (var i = 0; i < block.length; i++) {
                for (var j = 0; j < 8; j++) {
                    cell = cellVisitor.getNextCell();
                    fillDataCell(matrices, block[i][codewordIdx].charAt(j), cell.row, cell.column);
                }
            }

            codewordIdx++;

            while (block[0] && codewordIdx === block[0].length) {
                block.splice(0, 1);
            }
        }
    }

    while ((cell = cellVisitor.getNextRemainderCell())) {
        fillDataCell(matrices, 0, cell.row, cell.column);
    }
}

function padDataString(initialDataString, totalDataCodewords) {
    var dataBitsCount = totalDataCodewords * 8,
        terminatorIndex = 0,
        paddingCodewordIndex = 0;
    var dataString = initialDataString;

    while (dataString.length < dataBitsCount && terminatorIndex < terminator.length) {
        dataString += terminator.charAt(terminatorIndex++);
    }

    if (dataString.length % 8 !== 0) {
        dataString += new Array(9 - dataString.length % 8).join("0");
    }

    while (dataString.length < dataBitsCount) {
        dataString += paddingCodewords[paddingCodewordIndex];
        paddingCodewordIndex ^= 1;
    }

    return dataString;
}

function generatePowersOfTwo() {
    var result;
    var power;

    for (power = 1; power < 255; power++) {
        result = powersOfTwoResult[power - 1] * 2;
        if (result > 255) {
            result = result ^ 285;
        }

        powersOfTwoResult[power] = result;
        powersOfTwo[result] = power;
    }

    result = (powersOfTwoResult[power - 1] * 2) ^ 285;
    powersOfTwoResult[power] = result;
    powersOfTwoResult[-1] = 0;
}

function xorPolynomials(x, y) {
    var result = [],
        idx = x.length - 2;

    for (var i = idx; i >= 0; i--) {
        result[i] = x[i] ^ y[i];
    }

    return result;
}

function multiplyPolynomials(x, y) {
    var result = [];

    for (var i = 0; i < x.length; i++) {
        for (var j = 0; j < y.length; j++) {
            if (result[i + j] === undefined) {
                result[i + j] = (x[i] + (y[j] >= 0 ? y[j] : 0)) % 255;
            } else {
                result[i + j] = powersOfTwo[powersOfTwoResult[result[i + j]] ^ powersOfTwoResult[(x[i] + y[j]) % 255]];
            }
        }
    }

    return result;
}

function generateGeneratorPolynomials() {
    var maxErrorCorrectionCodeWordsCount = 68;

    for (var idx = 2; idx <= maxErrorCorrectionCodeWordsCount; idx++) {
        var firstPolynomial = generatorPolynomials[idx - 1],
            secondPolynomial = [idx, 0];

        generatorPolynomials[idx] = multiplyPolynomials(firstPolynomial, secondPolynomial);
    }
}

//possibly generate on demand
generatePowersOfTwo();
generateGeneratorPolynomials();

function multiplyByConstant(polynomial, power) {
    var result = [],
        idx = polynomial.length - 1;

    do {
        result[idx] = powersOfTwoResult[(polynomial[idx] + power) % 255];
        idx--;
    }
    while (polynomial[idx] !== undefined);

    return result;
}

function generateErrorCodewords(data, errorCodewordsCount) {
    var generator = generatorPolynomials[errorCodewordsCount - 1],
        result = new Array(errorCodewordsCount).concat(data),
        generatorPolynomial = new Array(result.length - generator.length).concat(generator),
        steps = data.length,
        errorCodewords = [],
        divisor,
        idx;

    for (idx = 0; idx < steps; idx++) {
        divisor = multiplyByConstant(generatorPolynomial, powersOfTwo[result[result.length - 1]]);
        generatorPolynomial.splice(0, 1);

        result = xorPolynomials(divisor, result);
    }

    for (idx = result.length - 1; idx >= 0; idx--) {
        errorCodewords[errorCodewordsCount - 1 - idx] = toBitsString(result[idx], 8);
    }

    return errorCodewords;
}

function getBlocks(dataStream, versionCodewordsInformation) {
    var codewordStart = 0,
        dataBlocks = [],
        errorBlocks = [],
        dataBlock,
        versionGroups = versionCodewordsInformation.groups,
        blockCodewordsCount,
        groupBlocksCount,
        messagePolynomial,
        codeword;

    for (var groupIdx = 0; groupIdx < versionGroups.length; groupIdx++) {
        groupBlocksCount = versionGroups[groupIdx][0];

        for (var blockIdx = 0; blockIdx < groupBlocksCount; blockIdx++) {
            blockCodewordsCount = versionGroups[groupIdx][1];
            dataBlock = [];
            messagePolynomial = [];

            for (var codewordIdx = 1; codewordIdx <= blockCodewordsCount; codewordIdx++) {
                codeword = dataStream.substring(codewordStart, codewordStart + 8);
                dataBlock.push(codeword);
                messagePolynomial[blockCodewordsCount - codewordIdx] = toDecimal(codeword);
                codewordStart += 8;
            }

            dataBlocks.push(dataBlock);
            errorBlocks.push(generateErrorCodewords(messagePolynomial,
                versionCodewordsInformation.errorCodewordsPerBlock));
        }
    }
    return [dataBlocks, errorBlocks];
}

function chooseMode(str, minNumericBeforeAlpha, minNumericBeforeByte, minAlphaBeforeByte, previousMode) {
    var numeric = numberRegex$2.exec(str),
        numericMatch = numeric ? numeric[0] : "",
        alpha = alphaRegex.exec(str),
        alphaMatch = alpha ? alpha[0] : "",
        alphaNumeric = alphaNumericRegex.exec(str),
        alphaNumericMatch = alphaNumeric ? alphaNumeric[0] : "",
        mode,
        modeString;

    if (numericMatch &&
        (numericMatch.length >= minNumericBeforeAlpha || str.length === numericMatch.length ||
        (numericMatch.length >= minNumericBeforeByte && !alphaNumericRegex.test(str.charAt(numericMatch.length))))) {
        mode = NUMERIC;
        modeString = numericMatch;
    } else if (alphaNumericMatch && (str.length === alphaNumericMatch.length ||
        alphaNumericMatch.length >= minAlphaBeforeByte || previousMode === ALPHA_NUMERIC)) {
        mode = ALPHA_NUMERIC;
        modeString = numericMatch || alphaMatch;
    } else {
        mode = BYTE;

        if (alphaNumericMatch) {
            modeString = alphaNumericMatch + byteRegex.exec(str.substring(alphaNumericMatch.length))[0];
        } else {
            modeString = byteRegex.exec(str)[0];
        }
    }

    return {
        mode: mode,
        modeString: modeString
    };
}

function getModes(inputString) {
    var modes = [],
        previousMode,
        idx = 0;
    var str = inputString;

    modes.push(chooseMode(str, initMinNumericBeforeAlpha, initMinNumericBeforeByte, initMinAlphaBeforeByte, previousMode));
    previousMode = modes[0].mode;
    str = str.substr(modes[0].modeString.length);

    while (str.length > 0) {
        var nextMode = chooseMode(str, minNumericBeforeAlpha, minNumericBeforeByte, minAlphaBeforeByte, previousMode);

        if (nextMode.mode !== previousMode) {
            previousMode = nextMode.mode;
            modes.push(nextMode);
            idx++;
        } else {
            modes[idx].modeString += nextMode.modeString;
        }

        str = str.substr(nextMode.modeString.length);
    }

    return modes;
}

function getDataCodewordsCount$1(modes) {
    var length = 0,
        mode;

    for (var i = 0; i < modes.length; i++) {
        mode = DataModeInstances[modes[i].mode];
        length += mode.getStringBitsLength(modes[i].modeString.length);
    }

    return Math.ceil(length / 8);
}

function getVersion(dataCodewordsCount, errorCorrectionLevel) {
    var x = 0,
        y = VersionsCodewordsInformation.length - 1,
        version = Math.floor(VersionsCodewordsInformation.length / 2);

    do {
        if (dataCodewordsCount < VersionsCodewordsInformation[version][errorCorrectionLevel].totalDataCodewords) {
            y = version;
        } else {
            x = version;
        }

        version = x + Math.floor((y - x) / 2);
    } while (y - x > 1);

    if (dataCodewordsCount <= VersionsCodewordsInformation[x][errorCorrectionLevel].totalDataCodewords) {
        return version + 1;
    }

    return y + 1;
}

function getDataString(modes, version) {
    var dataString = "",
        mode;

    for (var i = 0; i < modes.length; i++) {
        mode = DataModeInstances[modes[i].mode];
        dataString += mode.encode(modes[i].modeString, version);
    }

    return dataString;
}

//fix case all zeros
function encodeFormatInformation(format) {
    var formatNumber = toDecimal(format),
        encodedString,
        result = "";

    if (formatNumber === 0) {
        return "101010000010010";
    }

    encodedString = encodeBCH(toDecimal(format), formatGeneratorPolynomial, 15);

    for (var i = 0; i < encodedString.length; i++) {
        result += encodedString.charAt(i) ^ formatMaskPattern.charAt(i);
    }

    return result;
}

function encodeBCH(value, generatorPolynomial, codeLength) {
    var generatorNumber = toDecimal(generatorPolynomial),
        polynomialLength = generatorPolynomial.length - 1,
        valueNumber = value << polynomialLength,
        length = codeLength - polynomialLength,
        valueString = toBitsString(value, length),
        result = dividePolynomials(valueNumber, generatorNumber);

    result = valueString + toBitsString(result, polynomialLength);

    return result;
}

function dividePolynomials(numberX, numberY) {
    var yLength = numberY.toString(2).length,
        xLength = numberX.toString(2).length;
    var x = numberX;

    do {
        x ^= numberY << xLength - yLength;
        xLength = x.toString(2).length;
    }
    while (xLength >= yLength);

    return x;
}

function getNumberAt(str, idx) {
    return parseInt(str.charAt(idx), 10);
}

function initMatrices(version) {
    var matrices = [],
        modules = 17 + 4 * version;

    for (var i = 0; i < maskPatternConditions.length; i++) {
        matrices[i] = new Array(modules);

        for (var j = 0; j < modules; j++) {
            matrices[i][j] = new Array(modules);
        }
    }

    return matrices;
}

function addFormatInformation(matrices, formatString) {
    var matrix = matrices[0],
        x,
        y,
        idx = 0,
        length = formatString.length;

    for (x = 0, y = 8; x <= 8; x++) {
        if (x !== 6) {
            fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);
        }
    }

    for (x = 8, y = 7; y >= 0; y--) {
        if (y !== 6) {
            fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);
        }
    }

    idx = 0;

    for (y = matrix.length - 1, x = 8; y >= matrix.length - 8; y--) {
        fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);
    }

    fillFunctionCell(matrices, 1, matrix.length - 8, 8);

    for (x = matrix.length - 7, y = 8; x < matrix.length; x++) {
        fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);
    }
}

function encodeVersionInformation(version) {
    return encodeBCH(version, versionGeneratorPolynomial, 18);
}

function addVersionInformation(matrices, dataString) {
    var matrix = matrices[0],
        modules = matrix.length,
        x1 = 0,
        y1 = modules - 11,
        x2 = modules - 11,
        y2 = 0,
        quotient,
        mod,
        value;

    for (var idx = 0; idx < dataString.length; idx++) {
        quotient = Math.floor(idx / 3);
        mod = idx % 3;
        value = getNumberAt(dataString, dataString.length - idx - 1);

        fillFunctionCell(matrices, value, x1 + quotient, y1 + mod);
        fillFunctionCell(matrices, value, x2 + mod, y2 + quotient);
    }
}

function addCentricPattern(matrices, pattern, x, y) {
    var size = pattern.length + 2,
        length = pattern.length + 1,
        value;

    for (var i = 0; i < pattern.length; i++) {
        for (var j = i; j < size - i; j++) {
            value = pattern[i];

            fillFunctionCell(matrices, value, x + j, y + i);
            fillFunctionCell(matrices, value, x + i, y + j);
            fillFunctionCell(matrices, value, x + length - j, y + length - i);
            fillFunctionCell(matrices, value, x + length - i, y + length - j);
        }
    }
}

function addFinderSeparator(matrices, direction, x, y) {
    var nextX = x,
        nextY = y,
        matrix = matrices[0];

    do {
        fillFunctionCell(matrices, 0, nextX, y);
        fillFunctionCell(matrices, 0, x, nextY);
        nextX += direction[0];
        nextY += direction[1];
    }
    while (nextX >= 0 && nextX < matrix.length);
}

function addFinderPatterns(matrices) {
    var modules = matrices[0].length;

    addCentricPattern(matrices, finderPattern, 0, 0);
    addFinderSeparator(matrices, [-1, -1], 7, 7);
    addCentricPattern(matrices, finderPattern, modules - 7, 0);
    addFinderSeparator(matrices, [1, -1], modules - 8, 7);
    addCentricPattern(matrices, finderPattern, 0, modules - 7);
    addFinderSeparator(matrices, [-1, 1], 7, modules - 8);
}

function addAlignmentPatterns(matrices, version) {
    if (version < 2) {
        return;
    }

    var matrix = matrices[0],
        modules = matrix.length,
        pointsCount = Math.floor(version / 7),
        points = [6],
        startDistance,
        distance,
        idx = 0;

    if ((startDistance = irregularAlignmentPatternsStartDistance[version])) {
        distance = (modules - 13 - startDistance) / pointsCount;
    } else {
        startDistance = distance = (modules - 13) / (pointsCount + 1);
    }

    points.push(points[idx++] + startDistance);

    while ((points[idx] + distance) < modules) {
        points.push(points[idx++] + distance);
    }

    for (var i = 0; i < points.length; i++) {
        for (var j = 0; j < points.length; j++) {
            if (matrix[points[i]][points[j]] === undefined) {
                addCentricPattern(matrices, alignmentPattern, points[i] - 2, points[j] - 2);
            }
        }
    }
}

function addTimingFunctions(matrices) {
    var row = 6,
        column = 6,
        value = 1,
        modules = matrices[0].length;

    for (var i = 8; i < modules - 8; i++) {
        fillFunctionCell(matrices, value, row, i);
        fillFunctionCell(matrices, value, i, column);
        value ^= 1;
    }
}

function scoreMaskMatrixes(matrices) {
    var scores = [],
        previousBits = [],
        darkModules = [],
        patterns = [],
        adjacentSameBits = [],
        matrix,
        i,
        row = 0,
        column = 1,
        modulesLength = matrices[0].length;

    for (i = 0; i < matrices.length; i++) {
        scores[i] = 0;
        darkModules[i] = 0;
        adjacentSameBits[i] = [0, 0];
        patterns[i] = [0, 0];
        previousBits[i] = [];
    }

    for (var rowIndex = 0; rowIndex < modulesLength; rowIndex++) {
        for (var columnIndex = 0; columnIndex < modulesLength; columnIndex++) {
            for (var matrixIndex = 0; matrixIndex < matrices.length; matrixIndex++) {
                matrix = matrices[matrixIndex];
                darkModules[matrixIndex] += parseInt(matrix[rowIndex][columnIndex], 10);

                if (previousBits[matrixIndex][row] === matrix[rowIndex][columnIndex] &&
                    rowIndex + 1 < modulesLength &&
                    columnIndex - 1 >= 0 &&
                    matrix[rowIndex + 1][columnIndex] === previousBits[matrixIndex][row] &&
                    matrix[rowIndex + 1][columnIndex - 1] === previousBits[matrixIndex][row]) {
                    scores[matrixIndex] += 3;
                }

                scoreFinderPatternOccurance(matrixIndex, patterns, scores, row, matrix[rowIndex][columnIndex]);
                scoreFinderPatternOccurance(matrixIndex, patterns, scores, column, matrix[columnIndex][rowIndex]);
                scoreAdjacentSameBits(matrixIndex, scores, previousBits, matrix[rowIndex][columnIndex], adjacentSameBits, row);
                scoreAdjacentSameBits(matrixIndex, scores, previousBits, matrix[columnIndex][rowIndex], adjacentSameBits, column);
            }
        }
    }

    var total = modulesLength * modulesLength,
        minIdx,
        min = Number.MAX_VALUE;

    for (i = 0; i < scores.length; i++) {
        scores[i] += calculateDarkModulesRatioScore(darkModules[i], total);

        if (scores[i] < min) {
            min = scores[i];
            minIdx = i;
        }
    }

    return minIdx;
}

function scoreFinderPatternOccurance(idx, patterns, scores, rowColumn, bit) {
    patterns[idx][rowColumn] = ((patterns[idx][rowColumn] << 1) ^ bit) % 128;

    if (patterns[idx][rowColumn] === finderPatternValue) {
        scores[idx] += 40;
    }
}

function scoreAdjacentSameBits(idx, scores, previousBits, bit, adjacentBits, rowColumn) {
    if (previousBits[idx][rowColumn] === bit) {
        adjacentBits[idx][rowColumn]++;
    } else {
        previousBits[idx][rowColumn] = bit;

        if (adjacentBits[idx][rowColumn] >= 5) {
            scores[idx] += 3 + adjacentBits[idx][rowColumn] - 5;
        }

        adjacentBits[idx][rowColumn] = 1;
    }
}

function calculateDarkModulesRatioScore(darkModules, total) {
    var percent = Math.floor((darkModules / total) * 100),
        mod5 = percent % 5,
        previous = Math.abs(percent - mod5 - 50),
        next = Math.abs(percent + 5 - mod5 - 50),
        score = 10 * Math.min(previous / 5, next / 5);

    return score;
}

function createQRCodeDataEncoder(encoding) {
    if (encoding && encoding.toLowerCase().indexOf("utf_8") >= 0) {
        return new Utf8Encoder();
    }

    return new IsoEncoder();
}

function encodeData(inputString, errorCorrectionLevel, encoding) {
    var encoder = createQRCodeDataEncoder(encoding),
        encodingResult = encoder.getEncodingResult(inputString, errorCorrectionLevel),
        version = encodingResult.version,
        versionInformation = VersionsCodewordsInformation[version - 1][errorCorrectionLevel],
        dataString = padDataString(encodingResult.dataString, versionInformation.totalDataCodewords),
        blocks = getBlocks(dataString, versionInformation),
        matrices = initMatrices(version);

    addFinderPatterns(matrices);
    addAlignmentPatterns(matrices, version);
    addTimingFunctions(matrices);

    if (version >= 7) {
        addVersionInformation(matrices, toBitsString(0, 18));
    }

    addFormatInformation(matrices, toBitsString(0, 15));
    fillData(matrices, blocks);

    var minIdx = scoreMaskMatrixes(matrices),
        optimalMatrix = matrices[minIdx];

    if (version >= 7) {
        addVersionInformation([optimalMatrix], encodeVersionInformation(version));
    }

    var formatString = errorCorrectionPatterns[errorCorrectionLevel] + toBitsString(minIdx, 3);
    addFormatInformation([optimalMatrix], encodeFormatInformation(formatString));

    return optimalMatrix;
}

var round$1$1 = Math.round;
var crossPattern = [[0, 1], [1, 1], [1, 2], [2, 2], [2, 1], [3, 1], [3, 0], [2, 0], [2, -1], [1, -1], [1, 0]];
var squarePattern = [[0, 1], [1, 1], [1, 0]];

var QRCodeDefaults = {
    DEFAULT_SIZE: 200,
    QUIET_ZONE_LENGTH: 4,
    DEFAULT_ERROR_CORRECTION_LEVEL: "L",
    DEFAULT_BACKGROUND: "#fff",
    DEFAULT_DARK_MODULE_COLOR: "#000",
    MIN_BASE_UNIT_SIZE: 1,
    DEFAULT_LOGO_SIZE: 7
};

var QRCode = (function (Class$$1) {
    function QRCode(element, options, errorHandler) {
        if ( errorHandler === void 0 ) errorHandler = defaultErrorHandler;

        Class$$1.call(this);

        this.options = deepExtend({}, this.options, options);
        this.element = element;
        this.wrapper = this.element;
        this.onError = errorHandler;

        this._initElement();
        this._initSurface();

        this.setOptions(options);
    }

    if ( Class$$1 ) QRCode.__proto__ = Class$$1;
    QRCode.prototype = Object.create( Class$$1 && Class$$1.prototype );
    QRCode.prototype.constructor = QRCode;

    QRCode.prototype.destroy = function destroy () {
        this._destroySurface();
    };

    QRCode.prototype._initElement = function _initElement () {
        addClass(this.element, "k-qrcode");
    };

    QRCode.prototype._initSurface = function _initSurface () {
        var ref = this;
        var options = ref.options;
        var surface = ref.surface;

        if (!surface || surface.options.type !== options.renderAs) {
            this._destroySurface();
            this._initSurfaceElement();
            this.surface = this._createSurface();
        }
    };

    QRCode.prototype._createSurface = function _createSurface () {
        return _progress_kendoDrawing.drawing.Surface.create(this.surfaceElement, {
            type: this.options.renderAs
        });
    };

    QRCode.prototype._destroySurface = function _destroySurface () {
        if (this.surface) {
            this.surface.destroy();
            this.surface = null;
            this._destroySurfaceElement();
        }
    };

    QRCode.prototype._initSurfaceElement = function _initSurfaceElement () {
        if (!this.surfaceElement) {
            this.surfaceElement = document.createElement('div');
            this.surfaceElement.style.position = "relative";
            this.element.appendChild(this.surfaceElement);
        }
    };

    QRCode.prototype._destroySurfaceElement = function _destroySurfaceElement () {
        if (this.surfaceElement && this.surfaceElement.parentNode) {
            this.surfaceElement.parentNode.removeChild(this.surfaceElement);
            this.surfaceElement = null;
        }
    };

    QRCode.prototype.redraw = function redraw () {
        var size = this._getSize();

        this.surface.clear();

        this.surface.setSize({
            width: size,
            height: size
        });

        this.createVisual();

        this.surface.draw(this.visual);
    };

    QRCode.prototype.getSize = function getSize () {
        var element = this.element;
        var elementWidth = element.clientWidth;
        var elementHeight = element.clientHeight;
        var size = { width: 0, height: 0 };

        if (elementWidth > 0) {
            size.width = elementWidth;
        }

        if (elementHeight) {
            size.height = elementHeight;
        }

        return size;
    };

    QRCode.prototype._resize = function _resize () {
        this.redraw();
    };

    QRCode.prototype.createVisual = function createVisual () {
        this.visual = this._render();
    };

    QRCode.prototype.exportVisual = function exportVisual () {
        return this._render();
    };

    QRCode.prototype._render = function _render () {
        var value = this._value,
            baseUnit,
            border = this.options.border || {},
            padding = this.options.padding || 0,
            borderWidth = border.width || 0,
            quietZoneSize,
            matrix,
            size,
            dataSize,
            contentSize;

        border.width = borderWidth;

        var visual = new _progress_kendoDrawing.drawing.Group();

        try {
            if (value) {
                matrix = encodeData(value, this.options.errorCorrection, this.options.encoding);
                size = this._getSize();
                contentSize = size - 2 * (borderWidth + padding);
                baseUnit = this._calculateBaseUnit(contentSize, matrix.length);
                dataSize = matrix.length * baseUnit;
                quietZoneSize = borderWidth + padding + (contentSize - dataSize) / 2;

                visual.append(this._renderBackground(size, border));
                visual.append(this._renderMatrix(matrix, baseUnit, quietZoneSize));

                if (this._hasCustomLogo()) {
                    visual.append(this._renderLogo(size, baseUnit));
                } else if (this._isSwiss()) {
                    visual.append(this._renderSwissCode(size, baseUnit));
                }
            }
        } catch (error) {
            this.onError(error);
        }

        return visual;
    };

    QRCode.prototype._renderLogo = function _renderLogo (qrSize, baseUnit) {
        var image;
        var imageRect;
        var center = round$1$1(qrSize / 2);
        var logoSize = this._getLogoSize(baseUnit * QRCodeDefaults.DEFAULT_LOGO_SIZE);
        var logoUrl = this.options.overlay.imageUrl;
        var position = {
            x: center - logoSize.width / 2,
            y: center - logoSize.height / 2
        };

        imageRect = new _progress_kendoDrawing.geometry.Rect(
            new _progress_kendoDrawing.geometry.Point(position.x, position.y),
            new _progress_kendoDrawing.geometry.Size(logoSize.width, logoSize.height)
        );

        image = new _progress_kendoDrawing.drawing.Image(logoUrl, imageRect);

        return image;
    };

    QRCode.prototype._renderSwissCode = function _renderSwissCode (qrSize, baseUnit) {
        var logoSize = this._getLogoSize(baseUnit * QRCodeDefaults.DEFAULT_LOGO_SIZE);
        logoSize = Math.max(logoSize.width, logoSize.height);
        var crossSize = logoSize / 4;
        var crossOffset = crossSize / 2;
        var center = qrSize / 2;
        var start = {};
        var visual = new _progress_kendoDrawing.drawing.Group();

        start.x = start.y = Math.ceil(center - baseUnit - logoSize / 2);
        visual.append(this._renderShape(start, Math.ceil(logoSize + baseUnit * 2), squarePattern, "#fff"));

        start.x = start.y = center - logoSize / 2;
        visual.append(this._renderShape(start, logoSize, squarePattern, this.options.color));

        start.x = center + crossOffset - logoSize / 2;
        start.y = center + crossOffset + crossSize - logoSize / 2;
        visual.append(this._renderShape(start, crossSize, crossPattern, "#fff"));

        return visual;
    };

    QRCode.prototype._renderShape = function _renderShape (start, step, pattern, color) {
        var path = new _progress_kendoDrawing.drawing.MultiPath({
            fill: {
                color: color
            },
            stroke: null
        });

        path.moveTo(start.x, start.y);

        for (var i = 0; i < pattern.length; i++) {
            path.lineTo(start.x + step * pattern[i][0], start.y + step * pattern[i][1]);
        }

        path.close();

        return path;
    };

    QRCode.prototype._getSize = function _getSize () {
        var size;

        if (this.options.size) {
            size = parseInt(this.options.size, 10);
        } else {
            var element = this.element;
            var elementSize$$1 = surfaceSize(element, this.options.renderAs);
            var min = Math.min(elementSize$$1.width, elementSize$$1.height);

            if (min > 0) {
                size = min;
            } else {
                size = QRCodeDefaults.DEFAULT_SIZE;
            }
        }

        return size;
    };

    QRCode.prototype._calculateBaseUnit = function _calculateBaseUnit (size, matrixSize) {
        var baseUnit = Math.floor(size / matrixSize);

        if (baseUnit < QRCodeDefaults.MIN_BASE_UNIT_SIZE) {
            var minSize = Math.ceil(matrixSize * QRCodeDefaults.MIN_BASE_UNIT_SIZE);
            this.onError(new Error(
                ("Insufficient size for QR Code: the current size is " + size + "px and the minimum size is " + minSize + "px.")
            ));
        } else if (baseUnit * matrixSize >= size &&
            baseUnit - 1 >= QRCodeDefaults.MIN_BASE_UNIT_SIZE) {
            baseUnit--;
        }

        return baseUnit;
    };

    QRCode.prototype._renderMatrix = function _renderMatrix (matrix, baseUnit, quietZoneSize) {
        var path = new _progress_kendoDrawing.drawing.MultiPath({
            fill: {
                color: this.options.color
            },
            stroke: null
        });

        for (var row = 0; row < matrix.length; row++) {
            var y = quietZoneSize + row * baseUnit;
            var column = 0;

            while (column < matrix.length) {
                while (matrix[row][column] === 0 && column < matrix.length) {
                    column++;
                }

                if (column < matrix.length) {
                    var x = column;
                    while (matrix[row][column] === 1) {
                        column++;
                    }

                    var x1 = round$1$1(quietZoneSize + x * baseUnit);
                    var y1 = round$1$1(y);
                    var x2 = round$1$1(quietZoneSize + column * baseUnit);
                    var y2 = round$1$1(y + baseUnit);

                    path.moveTo(x1, y1)
                        .lineTo(x1, y2)
                        .lineTo(x2, y2)
                        .lineTo(x2, y1)
                        .close();
                }
            }
        }

        return path;
    };

    QRCode.prototype._renderBackground = function _renderBackground (size, border) {
        var box = new Box(0, 0, size, size).unpad(border.width / 2);
        var background = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), {
            fill: {
                color: this.options.background
            },
            stroke: {
                color: border.color,
                width: border.width
            }
        });

        return background;
    };

    QRCode.prototype.setOptions = function setOptions (options) {
        var newOptions = options || {};
        this.options = extend$8(this.options, newOptions);

        if (options.value !== undefined) {
            this._value = String(this.options.value);
        }

        this._initSurface();
        this.redraw();
    };

    QRCode.prototype.value = function value (value) {
        if (value === undefined) {
            return this._value;
        }

        this._value = String(value);

        this.redraw();
    };

    QRCode.prototype._hasCustomLogo = function _hasCustomLogo () {
        return Boolean(this.options.overlay.imageUrl);
    };

    QRCode.prototype._isSwiss = function _isSwiss () {
        return this.options.overlay.type === "swiss";
    };

    QRCode.prototype._getLogoSize = function _getLogoSize (defautLogoSize) {
        var width = this.options.overlay.width;
        var height = this.options.overlay.height;

        if (!width && !height) {
            width = height = defautLogoSize;
        } else if (width && !height) {
            height = width;
        } else if (!width && height) {
            width = height;
        }

        return {
            width: width,
            height: height
        };
    };

    return QRCode;
}(_progress_kendoDrawing.Class));

setDefaultOptions(QRCode, {
    name: "QRCode",
    renderAs: "svg",
    encoding: "ISO_8859_1",
    value: "",
    errorCorrection: QRCodeDefaults.DEFAULT_ERROR_CORRECTION_LEVEL,
    background: QRCodeDefaults.DEFAULT_BACKGROUND,
    color: QRCodeDefaults.DEFAULT_DARK_MODULE_COLOR,
    size: "",
    padding: 0,
    border: {
        color: "",
        width: 0
    },
    overlay: {
        type: "image",
        imageUrl: "",
        width: 0,
        height: 0
    }
});

var ISO = 'ISO_8859_1';

function qrcodeValidator(encoding) {
    if ( encoding === void 0 ) encoding = ISO;

    return function(value) {
        try {
            encodeData(value, 'L', encoding);
        } catch (error) {
            return {
                valid: false,
                error: error
            };
        }

        return {
            valid: true
        };
    };
}

// Coordinate reference system
// World Geodetic System of 1984
var WGS84$1 = {
    a: 6378137,                 // Semi-major radius
    b: 6356752.314245179,       // Semi-minor radius
    f: 0.0033528106647474805,   // Flattening
    e: 0.08181919084262149      // Eccentricity
};

// Geographic coordinate systems use a spheroid to calculate positions on the earth.
// A datum defines the position of the spheroid relative to the center of the earth
// it provides a frame of reference for measuring locations on the surface of the earth
// and defines the origin and orientation of latitude and longitude lines.
var datums = {
    WGS84: WGS84$1
};

function toSquare(value) {
    return value * value;
}


var math$2 = Math;
var abs = math$2.abs;
var atan$1 = math$2.atan;
var atan2 = math$2.atan2;
var cos = math$2.cos;
var sin$1 = math$2.sin;
var tan$1 = math$2.tan;

var Location = (function (Class$$1) {
    function Location(lat, lng) {
        Class$$1.call(this);

        this.initProperties();

        if (arguments.length === 1) {
            this.lat = lat[0];
            this.lng = lat[1];
        } else {
            this.lat = lat;
            this.lng = lng;
        }
    }

    if ( Class$$1 ) Location.__proto__ = Class$$1;
    Location.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Location.prototype.constructor = Location;

    Location.prototype.initProperties = function initProperties () {
        deepExtend(this, {
            DISTANCE_ITERATIONS: 100,
            DISTANCE_CONVERGENCE: 1e-12,
            DISTANCE_PRECISION: 2,
            FORMAT: '{0:N6}{1:N6}'
        });
    };

    Location.prototype.toArray = function toArray () {
        return [
            this.lat,
            this.lng
        ];
    };

    Location.prototype.equals = function equals (loc) {
        return loc && loc.lat === this.lat && loc.lng === this.lng;
    };

    Location.prototype.clone = function clone () {
        return new Location(this.lat, this.lng);
    };

    Location.prototype.round = function round$1 (precision) {
        this.lng = round(this.lng, precision);
        this.lat = round(this.lat, precision);
        return this;
    };

    Location.prototype.wrap = function wrap () {
        this.lng = this.lng % 180;
        this.lat = this.lat % 90;
        return this;
    };

    Location.prototype.distanceTo = function distanceTo (dest, datum) {
        return this.greatCircleTo(dest, datum).distance;
    };

    Location.prototype.destination = function destination (distance, initialBearing, initialDatum) {
        var bearing = rad(initialBearing);
        var datum = initialDatum || datums.WGS84;
        var fromLat = rad(this.lat);
        var fromLng = rad(this.lng);
        var dToR = distance / datum.a;
        var lat = math$2.asin(sin$1(fromLat) * cos(dToR) + cos(fromLat) * sin$1(dToR) * cos(bearing));
        var lng = fromLng + atan2(sin$1(bearing) * sin$1(dToR) * cos(fromLat), cos(dToR) - sin$1(fromLat) * sin$1(lat));

        return new Location(deg(lat), deg(lng));
    };

    Location.prototype.greatCircleTo = function greatCircleTo (initialDest, initialDatum) {
        var this$1 = this;

        var dest = Location.create(dest);
        var datum = initialDatum || datums.WGS84;

        if (!dest || this.clone().round(8).equals(dest.clone().round(8))) {
            return {
                distance: 0,
                azimuthFrom: 0,
                azimuthTo: 0
            };
        }

        // See http://en.wikipedia.org/wiki/Vincenty's_formulae#Notation
        // o == sigma
        // A == alpha

        var a = datum.a;
        var b = datum.b;
        var f = datum.f;
        var L = rad(dest.lng - this.lng);
        var U1 = atan$1((1 - f) * tan$1(rad(this.lat)));
        var sinU1 = sin$1(U1);
        var cosU1 = cos(U1);
        var U2 = atan$1((1 - f) * tan$1(rad(dest.lat)));
        var sinU2 = sin$1(U2);
        var cosU2 = cos(U2);
        var lambda = L;
        var prevLambda;
        var i = this.DISTANCE_ITERATIONS;
        var converged = false;
        var sinLambda;
        var cosLambda;
        var sino;
        var cosA2;
        var coso;
        var cos2om;
        var sigma;

        while (!converged && i-- > 0) {
            sinLambda = sin$1(lambda);
            cosLambda = cos(lambda);
            sino = math$2.sqrt(toSquare(cosU2 * sinLambda) + toSquare(cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));
            coso = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;
            sigma = atan2(sino, coso);

            var sinA = cosU1 * cosU2 * sinLambda / sino;
            cosA2 = 1 - toSquare(sinA);
            cos2om = 0;

            if (cosA2 !== 0) {
                cos2om = coso - 2 * sinU1 * sinU2 / cosA2;
            }

            prevLambda = lambda;
            var C = f / 16 * cosA2 * (4 + f * (4 - 3 * cosA2));
            lambda = L + (1 - C) * f * sinA * (sigma + C * sino * (cos2om + C * coso * (-1 + 2 * toSquare(cos2om))));
            converged = abs(lambda - prevLambda) <= this$1.DISTANCE_CONVERGENCE;
        }

        var u2 = cosA2 * (toSquare(a) - toSquare(b)) / toSquare(b);
        var A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));
        var B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));
        var deltao = B * sino * (cos2om + B / 4 * (coso * (-1 + 2 * toSquare(cos2om)) - B / 6 * cos2om * (-3 + 4 * toSquare(sino)) * (-3 + 4 * toSquare(cos2om))));

        var azimuthFrom = atan2(cosU2 * sinLambda, cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);
        var azimuthTo = atan2(cosU1 * sinLambda, -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);

        return {
            distance: round(b * A * (sigma - deltao), this.DISTANCE_PRECISION),
            azimuthFrom: deg(azimuthFrom),
            azimuthTo: deg(azimuthTo)
        };
    };

    // IE < 9 doesn't allow to override toString on definition
    Location.prototype.toString = function toString () {
        // return kendo.format(this.FORMAT, this.lat, this.lng);
        return String(this.lat) + "," + String(this.lng);
    };

    Location.fromLngLat = function fromLngLat (lngAndLat) {
        return new Location(lngAndLat[1], lngAndLat[0]);
    };

    Location.fromLatLng = function fromLatLng (lngAndLat) {
        return new Location(lngAndLat[0], lngAndLat[1]);
    };

    Location.create = function create (a, b) {
        if (defined(a)) {
            if (a instanceof Location) {
                return a.clone();
            } else if (arguments.length === 1 && a.length === 2) {
                return Location.fromLatLng(a);
            }

            return new Location(a, b);
        }
    };

    return Location;
}(_progress_kendoDrawing.Class));

var math$1 = Math;
var atan = math$1.atan;
var exp = math$1.exp;
var pow$1 = math$1.pow;
var sin = math$1.sin;
var log$1 = math$1.log;
var tan = math$1.tan;
var Point$5 = _progress_kendoDrawing.geometry.Point;

var PI = math$1.PI;
var PI_DIV_2 = PI / 2;
var PI_DIV_4 = PI / 4;
var DEG_TO_RAD = PI / 180;

var WGS84 = datums.WGS84;

// WGS 84 / World Mercator
var Mercator = (function (Class$$1) {
    function Mercator(options) {
        Class$$1.call(this);
        this.initProperties();
        this._initOptions(options);
    }

    if ( Class$$1 ) Mercator.__proto__ = Class$$1;
    Mercator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Mercator.prototype.constructor = Mercator;

    Mercator.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    Mercator.prototype.initProperties = function initProperties () {
        // super.initProperties();

        deepExtend(this, {
            MAX_LNG: 180,
            MAX_LAT: 85.0840590501,
            INVERSE_ITERATIONS: 15,
            INVERSE_CONVERGENCE: 1e-12
        });
    };

    Mercator.prototype.forward = function forward (loc, clamp) {
        var proj = this,
            options = proj.options,
            datum = options.datum,
            r = datum.a,
            lng0 = options.centralMeridian,
            lat = limitValue(loc.lat, -proj.MAX_LAT, proj.MAX_LAT),
            lng = clamp ? limitValue(loc.lng, -proj.MAX_LNG, proj.MAX_LNG) : loc.lng,
            x = rad(lng - lng0) * r,
            y = proj._projectLat(lat);
        return new Point$5(x, y);
    };
    Mercator.prototype._projectLat = function _projectLat (lat) {
        var datum = this.options.datum,
            ecc = datum.e,
            r = datum.a,
            y = rad(lat),
            ts = tan(PI_DIV_4 + y / 2),
            con = ecc * sin(y),
            p = pow$1((1 - con) / (1 + con), ecc / 2);

        // See: http://en.wikipedia.org/wiki/Mercator_projection#Generalization_to_the_ellipsoid
        return r * log$1(ts * p);
    };
    Mercator.prototype.inverse = function inverse (point, clamp) {
        var proj = this,
            options = proj.options,
            datum = options.datum,
            r = datum.a,
            lng0 = options.centralMeridian,
            lng = point.x / (DEG_TO_RAD * r) + lng0,
            lat = limitValue(proj._inverseY(point.y), -proj.MAX_LAT, proj.MAX_LAT);
        if (clamp) {
            lng = limitValue(lng, -proj.MAX_LNG, proj.MAX_LNG);
        }
        return new Location(lat, lng);
    };
    Mercator.prototype._inverseY = function _inverseY (y) {
        var proj = this,
            datum = proj.options.datum,
            r = datum.a,
            ecc = datum.e,
            ecch = ecc / 2,
            ts = exp(-y / r),
            phi = PI_DIV_2 - 2 * atan(ts),
            i;
        for (i = 0; i <= proj.INVERSE_ITERATIONS; i++) {
            var con = ecc * sin(phi),
                p = pow$1((1 - con) / (1 + con), ecch),
                dphi = PI_DIV_2 - 2 * atan(ts * p) - phi;
            phi += dphi;
            if (math$1.abs(dphi) <= proj.INVERSE_CONVERGENCE) {
                break;
            }
        }
        return deg(phi);
    };

    return Mercator;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Mercator, {
    centralMeridian: 0,
    datum: WGS84
});


// WGS 84 / Pseudo-Mercator
// Used by Google Maps, Bing, OSM, etc.
// Spherical projection of ellipsoidal coordinates.
var SphericalMercator = (function (Mercator) {
    function SphericalMercator () {
        Mercator.apply(this, arguments);
    }

    if ( Mercator ) SphericalMercator.__proto__ = Mercator;
    SphericalMercator.prototype = Object.create( Mercator && Mercator.prototype );
    SphericalMercator.prototype.constructor = SphericalMercator;

    SphericalMercator.prototype.initProperties = function initProperties () {
        Mercator.prototype.initProperties.call(this);

        deepExtend(this, {
            MAX_LAT: 85.0511287798
        });
    };

    SphericalMercator.prototype._projectLat = function _projectLat (lat) {
        var r = this.options.datum.a,
            y = rad(lat),
            ts = tan(PI_DIV_4 + y / 2);
        return r * log$1(ts);
    };

    SphericalMercator.prototype._inverseY = function _inverseY (y) {
        var r = this.options.datum.a,
            ts = exp(-y / r);
        return deg(PI_DIV_2 - 2 * atan(ts));
    };

    return SphericalMercator;
}(Mercator));

var Equirectangular = (function (Class$$1) {
    function Equirectangular () {
        Class$$1.apply(this, arguments);
    }

    if ( Class$$1 ) Equirectangular.__proto__ = Class$$1;
    Equirectangular.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Equirectangular.prototype.constructor = Equirectangular;

    Equirectangular.prototype.forward = function forward (loc) {
        return new Point$5(loc.lng, loc.lat);
    };
    Equirectangular.prototype.inverse = function inverse (point) {
        return new Location(point.y, point.x);
    };

    return Equirectangular;
}(_progress_kendoDrawing.Class));

// This is the projected coordinate system used for rendering maps in Google Maps, OpenStreetMap, etc
// Unit: metre
// Geodetic CRS: WGS 84
// Scope: Certain Web mapping and visualisation applications. It is not a recognised geodetic system: for that see ellipsoidal Mercator CRS code 3395 (WGS 84 / World Mercator).
// Remarks: Uses spherical development of ellipsoidal coordinates. Relative to WGS 84 / World Mercator (CRS code 3395) errors of 0.7 percent in scale and differences in northing of up to 43km in the map (equivalent to 21km on the ground) may arise.
// Area of use: World between 85.06S and 85.06N.
// Coordinate system: Cartesian 2D CS. Axes: easting, northing (X,Y). Orientations: east, north. UoM: m.
// https://epsg.io/3857
var EPSG3857 = (function (Class$$1) {
    function EPSG3857() {
        Class$$1.call(this);
        var crs = this,
            proj = crs._proj = new SphericalMercator();
        var c = this.c = 2 * PI * proj.options.datum.a;

        // transfrom matrix
        // Scale circumference to 1, mirror Y and shift origin to top left
        this._tm = _progress_kendoDrawing.geometry.transform().translate(0.5, 0.5).scale(1 / c, -1 / c);

        // Inverse transform matrix
        this._itm = _progress_kendoDrawing.geometry.transform().scale(c, -c).translate(-0.5, -0.5);
    }

    if ( Class$$1 ) EPSG3857.__proto__ = Class$$1;
    EPSG3857.prototype = Object.create( Class$$1 && Class$$1.prototype );
    EPSG3857.prototype.constructor = EPSG3857;

    // Location <-> Point (screen coordinates for a given scale)
    EPSG3857.prototype.toPoint = function toPoint (loc, scale, clamp) {
        var point = this._proj.forward(loc, clamp);
        return point.transform(this._tm).scale(scale || 1);
    };
    EPSG3857.prototype.toLocation = function toLocation (point, scale, clamp) {
        var newPoint = point.clone().scale(1 / (scale || 1)).transform(this._itm);
        return this._proj.inverse(newPoint, clamp);
    };

    return EPSG3857;
}(_progress_kendoDrawing.Class));

// Unit: metre
// Geodetic CRS: WGS 84
// Scope: Very small scale mapping.
// Remarks: Euro-centric view of world excluding polar areas.
// Area of use: World between 80S and 84N.
// Coordinate system: Cartesian 2D CS. Axes: easting, northing (E,N). Orientations: east, north. UoM: m.
// https://epsg.io/3395


// Unit: degree
// Geodetic CRS: WGS 84
// Scope: Horizontal component of 3D system. Used by the GPS satellite navigation system and for NATO military geodetic surveying.
// Area of use: World.
// Coordinate system: Ellipsoidal 2D CS. Axes: latitude, longitude. Orientations: north, east. UoM: degree
// https://epsg.io/4326

/* eslint-disable arrow-body-style */

var defineProperty = Object.defineProperty;



var convertToHtml = function (html) {
    var div = document.createElement("div");
    div.innerHTML = html;
    return div.firstChild;
};

var appendHtml = function (html, element) {
    var div = document.createElement('div');
    div.innerHTML = html;

    // use childNodes instead of children
    // to cover text nodes as well
    while (div.childNodes.length > 0) {
        element.appendChild(div.childNodes[0]);
    }
};

var removeChildren = function (element) {
    while (element.firstChild) {
        element.removeChild(element.firstChild);
    }
};

var prepend = function (element, originElement) {
    originElement.insertBefore(element, originElement.firstChild);
};

var wrapInner = function (parent, wrapper) {
    parent.appendChild(wrapper);

    while (parent.firstChild !== wrapper) {
        wrapper.appendChild(parent.firstChild);
    }
};

var toHyphens = function (str) {
    var result = str.replace(/([a-z][A-Z])/g, function(g) {
        return g.charAt(0) + '-' + g.charAt(1).toLowerCase();
    });

    return result;
};

var toPixels = function (value) {
    var result;

    if (value && String(value).endsWith("px")) {
        result = value;
    } else {
        result = String(value) + "px";
    }

    return result;
};

var detectOS = function (ua) {
    var os = false, minorVersion, match = [],
        // notAndroidPhone = !/mobile safari/i.test(ua),
        agentRxs = {
            wp: /(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,
            fire: /(Silk)\/(\d+)\.(\d+(\.\d+)?)/,
            android: /(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,
            iphone: /(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,
            ipad: /(iPad).*OS\s+(\d+)[\._]([\d_]+)/,
            meego: /(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,
            webos: /(webOS)\/(\d+)\.(\d+(\.\d+)?)/,
            blackberry: /(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,
            playbook: /(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,
            windows: /(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,
            tizen: /(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,
            sailfish: /(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,
            ffos: /(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/
        },
        osRxs = {
            ios: /^i(phone|pad|pod)$/i,
            android: /^android|fire$/i,
            blackberry: /^blackberry|playbook/i,
            windows: /windows/,
            wp: /wp/,
            flat: /sailfish|ffos|tizen/i,
            meego: /meego/
        },
        formFactorRxs = {
            tablet: /playbook|ipad|fire/i
        },
        browserRxs = {
            omini: /Opera\sMini/i,
            omobile: /Opera\sMobi/i,
            firefox: /Firefox|Fennec/i,
            mobilesafari: /version\/.*safari/i,
            ie: /MSIE|Windows\sPhone/i,
            chrome: /chrome|crios/i,
            webkit: /webkit/i
        };

    for (var agent in agentRxs) {
        if (agentRxs.hasOwnProperty(agent)) {
            match = ua.match(agentRxs[agent]);
            if (match) {
                if (agent === "windows" && "plugins" in navigator) { return false; } // Break if not Metro/Mobile Windows

                os = {};
                os.device = agent;
                os.tablet = testRegex(agent, formFactorRxs, false);
                os.browser = testRegex(ua, browserRxs, "default");
                os.name = testRegex(agent, osRxs);
                os[os.name] = true;
                os.majorVersion = match[2];
                os.minorVersion = (match[3] || "0").replace("_", ".");
                minorVersion = os.minorVersion.replace(".", "").substr(0, 2);
                os.flatVersion = os.majorVersion + minorVersion + (new Array(3 - (minorVersion.length < 3 ? minorVersion.length : 2)).join("0"));


                break;
            }
        }
    }

    return os;
};

function testRegex(agent, regexes, dflt) {
    for (var regex in regexes) {
        if (regexes.hasOwnProperty(regex) && regexes[regex].test(agent)) {
            return regex;
        }
    }
    return dflt !== undefined ? dflt : agent;
}

var hasNativeScrolling = function (userAgent) {
    var os = detectOS(userAgent);
    return os.ios || os.android;
};

var detectBrowser = function (userAgent) {
    var browser = false,
        match = [],
        browserRxs = {
            edge: /(edge)[ \/]([\w.]+)/i,
            webkit: /(chrome|crios)[ \/]([\w.]+)/i,
            safari: /(webkit)[ \/]([\w.]+)/i,
            opera: /(opera)(?:.*version|)[ \/]([\w.]+)/i,
            msie: /(msie\s|trident.*? rv:)([\w.]+)/i,
            mozilla: /(mozilla)(?:.*? rv:([\w.]+)|)/i
        };

    for (var agent in browserRxs) {
        if (browserRxs.hasOwnProperty(agent)) {
            match = userAgent.match(browserRxs[agent]);

            if (match) {
                browser = {};
                browser[agent] = true;
                browser[match[1].toLowerCase().split(" ")[0].split("/")[0]] = true;
                browser.version = parseInt(document.documentMode || match[2], 10);

                break;
            }
        }
    }

    return browser;
};

var getEventMap = function () {
    var eventMap = {
        down: "touchstart mousedown",
        move: "mousemove touchmove",
        up: "mouseup touchend touchcancel",
        cancel: "mouseleave touchcancel"
    };

    var support$$1 = getSupportedFeatures();

    if (support$$1.touch && (support$$1.mobileOS.ios || support$$1.mobileOS.android)) {
        eventMap = {
            down: "touchstart",
            move: "touchmove",
            up: "touchend touchcancel",
            cancel: "touchcancel"
        };
    } else if (support$$1.pointers) {
        eventMap = {
            down: "pointerdown",
            move: "pointermove",
            up: "pointerup",
            cancel: "pointercancel pointerleave"
        };
    } else if (support$$1.msPointers) {
        eventMap = {
            down: "MSPointerDown",
            move: "MSPointerMove",
            up: "MSPointerUp",
            cancel: "MSPointerCancel MSPointerLeave"
        };
    }

    return eventMap;
};

var getSupportedFeatures = function () {
    var os = detectOS(navigator.userAgent);
    var browser = detectBrowser(navigator.userAgent);

    var chrome = browser.chrome,
        mobileChrome = browser.crios,
        mozilla = browser.mozilla,
        safari = browser.safari;

    var support$$1 = {};

    support$$1.mobileOS = os;
    support$$1.touch = "ontouchstart" in window;
    support$$1.pointers = !chrome && !mobileChrome && !mozilla && !safari && window.PointerEvent;
    support$$1.msPointers = !chrome && window.MSPointerEvent;
    support$$1.mouseAndTouchPresent = support$$1.touch && !(support$$1.mobileOS.ios || support$$1.mobileOS.android);
    support$$1.eventCapture = document.documentElement.addEventListener;

    var table = document.createElement("table");

    var transitions = support$$1.transitions = false,
        transforms = support$$1.transforms = false;

    var STRING = "string";

    ["Moz", "webkit", "O", "ms"].forEach(function(prefix) {
        var hasTransitions = typeof table.style[prefix + "Transition"] === STRING;

        if (hasTransitions || typeof table.style[prefix + "Transform"] === STRING) {
            var lowPrefix = prefix.toLowerCase();

            transforms = {
                css: (lowPrefix !== "ms") ? "-" + lowPrefix + "-" : "",
                prefix: prefix,
                event: (lowPrefix === "o" || lowPrefix === "webkit") ? lowPrefix : ""
            };

            if (hasTransitions) {
                transitions = transforms;
                transitions.event = transitions.event ? transitions.event + "TransitionEnd" : "transitionend";
            }

            return false;
        }
    });

    table = null;

    support$$1.transforms = transforms;
    support$$1.transitions = transitions;

    support$$1.delayedClick = function() {
        // only the mobile devices with touch events do this.
        if (support$$1.touch) {
            // All iOS devices so far (by the time I am writing this, iOS 9.0.2 is the latest),
            // delay their click events.
            if (support$$1.mobileOS.ios) {
                return true;
            }

            if (support$$1.mobileOS.android) {

                if (!support$$1.browser.chrome) { // older webkits and webviews delay the click
                    return true;
                }

                // from here on, we deal with Chrome on Android.
                if (support$$1.browser.version < 32) {
                    return false;
                }

                // Chrome 32+ does conditional fast clicks if the view port is not user scalable.
                var meta = document.querySelector("meta[name=viewport]");
                var contentAttr = meta ? meta.getAttribute("content") : "";
                return !contentAttr.match(/user-scalable=no/i);
            }
        }

        return false;
    };

    return support$$1;
};

var ownsElement = function (parent, element) {
    if (!element) {
        return false;
    }

    var node = element.parentNode;

    while (node !== null) {
        if (node === parent) {
            return true;
        }

        node = node.parentNode;
    }

    return false;
};

var contains$1 = function (parent, element) {
    return parent === element || ownsElement(parent, element);
};

var proxy = function (method, context) {
    return method.bind(context);
};

function isString$1(value) {
    return typeof(value) === "string";
}

var on = function (element, events, filter, handler, useCapture) {
    addEventListeners(element, events, filter, handler, useCapture);
};

var addEventListeners = function (element, events, filter, handler, useCapture) {
    var eventNames = isArray(events) ? events : (events || "").split(" ");

    eventNames.forEach(function(eventName) {
        addEventListener(element, eventName, filter, handler, useCapture);
    });
};

var addEventListener = function (element, event, filter, handler, useCapture) {
    var eventHandler = handler;
    var eventFilter;

    if (filter && isFunction(filter) && !handler) {
        eventHandler = filter;
    } else if (filter && isString$1(filter) && isFunction(eventHandler)) {
        eventFilter = filter;
    }

    element.addEventListener(event, function(e) {
        var closestMatchingTarget = e.target ? e.target.closest(eventFilter) : null;

        if (!eventFilter ||
            (eventFilter && e.target && closestMatchingTarget)) {
            var currentTarget = eventFilter ? closestMatchingTarget : e.currentTarget;

            // reassign the property as it is a getters only
            defineProperty(e, "currentTarget", { value: currentTarget });
            // keep a reference to the top-level target
            defineProperty(e, "delegateTarget", { value: element });

            eventHandler(e);
        }
    }, Boolean(useCapture));
};

var off = function (element, events, filter, handler, useCapture) {
    removeEventListeners(element, events, filter, handler, useCapture);
};

var removeEventListeners = function (element, events, handler, useCapture) {
    var eventNames = isArray(events) ? events : (events || "").split(" ");

    eventNames.forEach(function(eventName) {
        removeEventListener(element, eventName, handler, useCapture);
    });
};

var removeEventListener = function (element, event, handler, useCapture) {
    element.removeEventListener(event, handler, Boolean(useCapture));
};

var applyEventMap = function (events) {
    var eventMap = getEventMap(navigator.userAgent);
    function queryEventMap(e) {
        return eventMap[e] || e;
    }

    var eventRegEx = /([^ ]+)/g;
    var appliedEvents = events.replace(eventRegEx, queryEventMap);

    return appliedEvents;
};

var setDefaultEvents = function (type, events) {
    var proto = type.prototype;

    if (proto.events) {
        events.forEach(function (event) {
            if (proto.events.indexOf(event) < 0) {
                proto.events.push(event);
            }
        });
    } else {
        proto.events = events;
    }
};

var wheelDeltaY = function (jQueryEvent) {
    var e = jQueryEvent.originalEvent || jQueryEvent;
    var deltaY = e.wheelDeltaY;
    var delta;

    if (e.wheelDelta) { // Webkit and IE
        if (deltaY === undefined || deltaY) { // IE does not have deltaY, thus always scroll (horizontal scrolling is treated as vertical)
            delta = e.wheelDelta;
        }
    } else if (e.detail && e.axis === e.VERTICAL_AXIS) { // Firefox and Opera
        delta = (-e.detail) * 10;
    }

    return delta;
};



var now = function () {
    return Number(new Date());
};

var noop = function () {};

/* eslint-enable arrow-body-style */

var STRING$1 = "string";
var FUNCTION = "function";

var preventDefault$1 = function() {
    this._defaultPrevented = true;
};

var isDefaultPrevented = function() {
    return this._defaultPrevented === true;
};

var Observable = (function (Class$$1) {
    function Observable() {
        Class$$1.call(this);
        this._events = {};
    }

    if ( Class$$1 ) Observable.__proto__ = Class$$1;
    Observable.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Observable.prototype.constructor = Observable;

    Observable.prototype.destroy = function destroy () {
        this.unbind();
    };

    Observable.prototype.bind = function bind (event, handlers, one) {
        var that = this,
            idx,
            eventNames = typeof event === STRING$1 ? [event] : event || [],
            length,
            original,
            handler,
            handlersIsFunction = typeof handlers === FUNCTION,
            events;

        if (handlers === undefined) {
            for (idx in event) {
                that.bind(idx, event[idx]);
            }

            return that;
        }

        /* eslint-disable no-loop-func */
        var loop = function (  ) {
            var eventName = eventNames[idx];

            handler = handlersIsFunction ? handlers : handlers[eventName];

            if (handler) {
                if (one) {
                    original = handler;
                    handler = function() {
                        that.unbind(eventName, handler);
                        original.apply(that, arguments);
                    };

                    handler.original = original;
                }

                events = that._events[eventName] = that._events[eventName] || [];
                events.push(handler);
            }
        };

        for (idx = 0, length = eventNames.length; idx < length; idx++) loop(  );
        /* eslint-enable no-loop-func */

        return that;
    };

    Observable.prototype.one = function one (eventNames, handlers) {
        return this.bind(eventNames, handlers, true);
    };

    Observable.prototype.first = function first (eventName, handlers) {
        var that = this,
            idx,
            eventNames = typeof eventName === STRING$1 ? [eventName] : eventName,
            length,
            handler,
            handlersIsFunction = typeof handlers === FUNCTION,
            events;

        for (idx = 0, length = eventNames.length; idx < length; idx++) {
            var eventName$1 = eventNames[idx];

            handler = handlersIsFunction ? handlers : handlers[eventName$1];

            if (handler) {
                events = that._events[eventName$1] = that._events[eventName$1] || [];
                events.unshift(handler);
            }
        }

        return that;
    };

    Observable.prototype.trigger = function trigger (eventName, eventArgs) {
        var that = this,
            events = that._events[eventName],
            idx,
            length;

        if (events) {
            var e = eventArgs || {};

            e.sender = that;

            e._defaultPrevented = false;

            e.preventDefault = preventDefault$1;

            e.isDefaultPrevented = isDefaultPrevented;

            events = events.slice();

            for (idx = 0, length = events.length; idx < length; idx++) {
                events[idx].call(that, e);
            }

            return e._defaultPrevented === true;
        }

        return false;
    };

    Observable.prototype.unbind = function unbind (eventName, handler) {
        var that = this,
            events = that._events[eventName],
            idx;

        if (eventName === undefined) {
            that._events = {};
        } else if (events) {
            if (handler) {
                for (idx = events.length - 1; idx >= 0; idx--) {
                    if (events[idx] === handler || events[idx].original === handler) {
                        events.splice(idx, 1);
                    }
                }
            } else {
                that._events[eventName] = [];
            }
        }

        return that;
    };

    Observable.prototype._setEvents = function _setEvents (options) {
        var this$1 = this;

        var length = (this.events || []).length;

        for (var idx = 0; idx < length; idx ++) {
            var e = this$1.events[idx];

            if (this$1.options[e] && options[e]) {
                this$1.unbind(e, this$1.options[e]);

                if (this$1._events && this$1._events[e]) {
                    delete this$1._events[e];
                }
            }
        }

        this.bind(this.events, options);
    };

    return Observable;
}(_progress_kendoDrawing.Class));

var template = TemplateService.compile;

var Attribution = (function (Observable$$1) {
    function Attribution(element, options) {
        Observable$$1.call(this);
        this.element = element;

        this._initOptions(options);
        this.items = [];

        addClass(this.element, 'k-widget k-attribution');
    }

    if ( Observable$$1 ) Attribution.__proto__ = Observable$$1;
    Attribution.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    Attribution.prototype.constructor = Attribution;

    Attribution.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    Attribution.prototype.filter = function filter (extent, zoom) {
        this._extent = extent;
        this._zoom = zoom;
        this._render();
    };

    Attribution.prototype.add = function add (item) {
        var newItem = item;

        if (defined(item)) {
            if (typeof item === 'string') {
                newItem = {
                    text: item
                };
            }

            this.items.push(newItem);
            this._render();
        }
    };

    Attribution.prototype.remove = function remove (text) {
        var this$1 = this;

        var result = [];

        for (var i = 0; i < this.items.length; i++) {
            var item = this$1.items[i];

            if (item.text !== text) {
                result.push(item);
            }
        }

        this.items = result;
        this._render();
    };

    Attribution.prototype.clear = function clear () {
        this.items = [];
        removeChildren(this.element);
    };

    Attribution.prototype._render = function _render () {
        var this$1 = this;

        var result = [];
        var itemTemplate = template(this.options.itemTemplate);

        for (var i = 0; i < this.items.length; i++) {
            var item = this$1.items[i];
            var text = this$1._itemText(item);

            if (text !== '') {
                result.push(itemTemplate({
                    text: text
                }));
            }
        }

        if (result.length > 0) {
            removeChildren(this.element);

            var html = result.join(this.options.separator);
            appendHtml(html, this.element);

            this.showElement();
        } else {
            this.hideElement();
        }
    };

    Attribution.prototype.hideElement = function hideElement () {
        this.element.style.display = "none";
    };

    Attribution.prototype.showElement = function showElement () {
        this.element.style.display = "";
    };

    Attribution.prototype._itemText = function _itemText (item) {
        var text = '';
        var inZoomLevel = this._inZoomLevel(item.minZoom, item.maxZoom);
        var inArea = this._inArea(item.extent);

        if (inZoomLevel && inArea) {
            text += item.text;
        }

        return text;
    };

    Attribution.prototype._inZoomLevel = function _inZoomLevel (min, max) {
        var result = true;
        var newMin = valueOrDefault(min, -Number.MAX_VALUE);
        var newMax = valueOrDefault(max, Number.MAX_VALUE);

        result = this._zoom > newMin && this._zoom < newMax;
        return result;
    };

    Attribution.prototype._inArea = function _inArea (area) {
        var result = true;

        if (area) {
            result = area.contains(this._extent);
        }

        return result;
    };

    return Attribution;
}(Observable));

setDefaultOptions(Attribution, {
    name: 'Attribution',
    separator: '&nbsp;|&nbsp;',
    itemTemplate: '#= text #'
});

var PAN = "pan";

var directionsMap = {
    up: {
        className: "k-navigator-n",
        iconClass: "k-i-arrow-n"
    },
    down: {
        className: "k-navigator-s",
        iconClass: "k-i-arrow-s"
    },
    right: {
        className: "k-navigator-e",
        iconClass: "k-i-arrow-e"
    },
    left: {
        className: "k-navigator-w",
        iconClass: "k-i-arrow-w"
    }
};

function createButton(direction) {
    var html =
        '<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button ' +
            directionsMap[direction].className +
            '" aria-label="move ' + direction + '">' +
            '<span class="k-icon ' + directionsMap[direction].iconClass + '" />' +
        '</button>';

    return convertToHtml(html);
}

var Navigator$2 = (function (Observable$$1) {
    function Navigator(element, options) {
        Observable$$1.call(this);

        this.element = element;
        this._initOptions(options);

        var navigateUpButton = createButton("up");
        var navigateRightlButton = createButton("right");
        var navigateDownButton = createButton("down");
        var navigateLeftButton = createButton("left");

        this.element.appendChild(navigateUpButton);
        this.element.appendChild(navigateRightlButton);
        this.element.appendChild(navigateDownButton);
        this.element.appendChild(navigateLeftButton);

        addClass(this.element, 'k-widget k-navigator');

        on(this.element, "click", ".k-button", proxy(this._click, this));

        var parentElement = this.element.parentNode.closest("[data-role]");

        this._keyroot = parentElement ? parentElement : this.element;
        this._tabindex(this._keyroot);

        this._keydownHandler = proxy(this._keydown, this);
        on(this._keyroot, "keydown", this._keydownHandler);
    }

    if ( Observable$$1 ) Navigator.__proto__ = Observable$$1;
    Navigator.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    Navigator.prototype.constructor = Navigator;

    Navigator.prototype.destroy = function destroy () {
        this.dispose();
    };

    // originates from the kendo.jquery version
    Navigator.prototype.dispose = function dispose () {
        off(this._keyroot, "keydown", this._keydownHandler);
    };

    Navigator.prototype._tabindex = function _tabindex (target) {
        var targetElement = target || this.wrapper || this.element;

        var element = this.element,
            TABINDEX = "tabindex",
            tabindex = targetElement.getAttribute(TABINDEX) || element.getAttribute(TABINDEX);

        element.removeAttribute(TABINDEX);

        targetElement.setAttribute(TABINDEX, !isNaN(tabindex) ? tabindex : 0);
    };

    Navigator.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    Navigator.prototype._pan = function _pan (x, y) {
        var panStep = this.options.panStep;

        this.trigger(PAN, {
            x: x * panStep,
            y: y * panStep
        });
    };

    Navigator.prototype._click = function _click (e) {
        var x = 0;
        var y = 0;
        var button = e.currentTarget;

        if (button.matches('.k-navigator-n')) {
            y = 1;
        } else if (button.matches('.k-navigator-s')) {
            y = -1;
        } else if (button.matches('.k-navigator-e')) {
            x = 1;
        } else if (button.matches('.k-navigator-w')) {
            x = -1;
        }

        this._pan(x, y);

        e.preventDefault();
    };

    /* eslint-disable indent */
    Navigator.prototype._keydown = function _keydown (e) {
        switch (e.which) {
            case keys.UP:
                this._pan(0, 1);
                e.preventDefault();
                break;
            case keys.DOWN:
                this._pan(0, -1);
                e.preventDefault();
                break;
            case keys.RIGHT:
                this._pan(1, 0);
                e.preventDefault();
                break;
            case keys.LEFT:
                this._pan(-1, 0);
                e.preventDefault();
                break;
            default:
                break;
        }
    };

    return Navigator;
}(Observable));

setDefaultOptions(Navigator$2, {
    name: 'Navigator',
    panStep: 1
});


setDefaultEvents(Navigator$2, [
    PAN
]);

function createButton$1(direction, iconClass) {
    var html =
        '<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-' + direction +
            '" title="zoom-' + direction +
            '" aria-label="zoom-' + direction + '">' +
            '<span class="k-icon ' + iconClass + '">' + '</span>' +
        '</button>';

    return convertToHtml(html);
}

var PLUS = 187;
var MINUS = 189;
var FF_PLUS = 61;
var FF_MINUS = 173;
var CHANGE = "change";

var ZoomControl = (function (Observable$$1) {
    function ZoomControl(element, options) {
        Observable$$1.call(this);
        this.element = element;
        this._initOptions(options);

        var zoomInButton = createButton$1('in', 'k-i-plus');
        var zoomOutButton = createButton$1('out', 'k-i-minus');

        this.element.appendChild(zoomInButton);
        this.element.appendChild(zoomOutButton);

        addClass(this.element, 'k-widget k-zoom-control k-button-group k-group-horizontal');

        this._clickHandler = this._click.bind(this);
        on(this.element, "click", ".k-button", this._clickHandler);

        var parentElement = this.element.parentNode.closest("[data-role]");

        this._keyroot = parentElement ? parentElement : this.element;

        this._tabindex(this._keyroot);

        this._keydownHandler = this._keydown.bind(this);
        on(this._keyroot, "keydown", this._keydownHandler);
    }

    if ( Observable$$1 ) ZoomControl.__proto__ = Observable$$1;
    ZoomControl.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    ZoomControl.prototype.constructor = ZoomControl;

    ZoomControl.prototype.destroy = function destroy () {
        if (this.element) {
            off(this.element, "click", this._clickHandler);
        }

        if (this._keyroot) {
            off(this._keyroot, 'keydown', this._keydownHandler);
        }
    };

    ZoomControl.prototype._tabindex = function _tabindex (target) {
        var targetElement = target || this.wrapper || this.element;

        var element = this.element,
            TABINDEX = "tabindex",
            tabindex = targetElement.getAttribute(TABINDEX) || element.getAttribute(TABINDEX);

        element.removeAttribute(TABINDEX);

        targetElement.setAttribute(TABINDEX, !isNaN(tabindex) ? tabindex : 0);
    };

    ZoomControl.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    ZoomControl.prototype._change = function _change (direction) {
        var zoomStep = this.options.zoomStep;
        this.trigger(CHANGE, { delta: direction * zoomStep });
    };

    ZoomControl.prototype._click = function _click (e) {
        var button = e.currentTarget;
        var direction = 1;

        if (hasClasses(button, 'k-zoom-out')) {
            direction = -1;
        }

        this._change(direction);
        e.preventDefault();
    };

    /* eslint-disable indent */
    ZoomControl.prototype._keydown = function _keydown (e) {
        switch (e.which) {
            case keys.NUMPAD_PLUS:
            case PLUS:
            case FF_PLUS:
                this._change(1);
                break;
            case keys.NUMPAD_MINUS:
            case MINUS:
            case FF_MINUS:
                this._change(-1);
                break;
            default:
                break;
        }
    };

    return ZoomControl;
}(Observable));

setDefaultOptions(ZoomControl, {
    name: 'ZoomControl',
    zoomStep: 1
});

setDefaultEvents(ZoomControl, [
    CHANGE
]);

var math$3 = Math;
var max = math$3.max;
var min$1 = math$3.min;

var Extent = (function (Class$$1) {
    function Extent(initialNw, initialSe) {
        Class$$1.call(this);
        var nw = Location.create(initialNw);
        var se = Location.create(initialSe);

        if (nw.lng + 180 > se.lng + 180 && nw.lat + 90 < se.lat + 90) {
            this.se = nw;
            this.nw = se;
        } else {
            this.se = se;
            this.nw = nw;
        }
    }

    if ( Class$$1 ) Extent.__proto__ = Class$$1;
    Extent.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Extent.prototype.constructor = Extent;

    var staticAccessors = { World: {} };

    Extent.prototype.contains = function contains (loc) {
        var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);

        return loc &&
            lng + 180 >= nw.lng + 180 && lng + 180 <= se.lng + 180 &&
            lat + 90 >= se.lat + 90 && lat + 90 <= nw.lat + 90;
    };

    Extent.prototype.center = function center () {
        var nw = this.nw;
        var se = this.se;
        var lng = nw.lng + (se.lng - nw.lng) / 2;
        var lat = nw.lat + (se.lat - nw.lat) / 2;

        return new Location(lat, lng);
    };

    Extent.prototype.containsAny = function containsAny (locs) {
        var this$1 = this;

        var result = false;

        for (var i = 0; i < locs.length; i++) {
            result = result || this$1.contains(locs[i]);
        }

        return result;
    };

    Extent.prototype.include = function include (loc) {
        var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);

        nw.lng = min$1(nw.lng, lng);
        nw.lat = max(nw.lat, lat);
        se.lng = max(se.lng, lng);
        se.lat = min$1(se.lat, lat);
    };

    Extent.prototype.includeAll = function includeAll (locs) {
        var this$1 = this;

        for (var i = 0; i < locs.length; i++) {
            this$1.include(locs[i]);
        }
    };

    Extent.prototype.edges = function edges () {
        var nw = this.nw, se = this.se;

        return {
            nw: this.nw,
            ne: new Location(nw.lat, se.lng),
            se: this.se,
            sw: new Location(se.lat, nw.lng)
        };
    };

    Extent.prototype.toArray = function toArray () {
        var nw = this.nw, se = this.se;

        return [
            nw,
            new Location(nw.lat, se.lng),
            se,
            new Location(se.lat, nw.lng)
        ];
    };

    Extent.prototype.overlaps = function overlaps (extent) {
        return this.containsAny(extent.toArray()) ||
            extent.containsAny(this.toArray());
    };

    Extent.create = function create (a, b) {
        if (a instanceof Extent) {
            return a;
        } else if (a && b) {
            return new Extent(a, b);
        } else if (a && a.length === 4 && !b) {
            return new Extent([
                a[0],
                a[1]
            ], [
                a[2],
                a[3]
            ]);
        }
    };

    staticAccessors.World.get = function () {
        return new Extent([ 90, -180 ], [ -90, 180 ]);
    };

    Object.defineProperties( Extent, staticAccessors );

    return Extent;
}(_progress_kendoDrawing.Class));

var Layer = (function (Class$$1) {
    function Layer(map$$1, options) {
        Class$$1.call(this);

        this.support = getSupportedFeatures();

        this._initOptions(options);
        this.map = map$$1;

        var element = document.createElement("div");
        addClass(element, "k-layer");
        element.style.zIndex = this.options.zIndex;
        element.style.opacity = this.options.opacity;

        this.element = element;

        map$$1.scrollElement.appendChild(this.element);

        this._beforeReset = this._beforeReset.bind(this);
        this._reset = this._reset.bind(this);
        this._resize = this._resize.bind(this);
        this._panEnd = this._panEnd.bind(this);

        this._activate();
        this._updateAttribution();
    }

    if ( Class$$1 ) Layer.__proto__ = Class$$1;
    Layer.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Layer.prototype.constructor = Layer;

    Layer.prototype.destroy = function destroy () {
        this._deactivate();
    };

    Layer.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    Layer.prototype.show = function show () {
        this.reset();
        this._activate();
        this._applyExtent(true);
    };

    Layer.prototype.hide = function hide () {
        this._deactivate();
        this._setVisibility(false);
    };

    Layer.prototype.reset = function reset () {
        this._beforeReset();
        this._reset();
    };

    Layer.prototype._reset = function _reset () {
        this._applyExtent();
    };

    Layer.prototype._beforeReset = function _beforeReset () {

    };

    Layer.prototype._resize = function _resize () {

    };

    Layer.prototype._panEnd = function _panEnd () {
        this._applyExtent();
    };

    Layer.prototype._applyExtent = function _applyExtent () {
        var options = this.options;
        var zoom = this.map.zoom();
        var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;
        var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;
        var extent = Extent.create(options.extent);
        var inside = !extent || extent.overlaps(this.map.extent());

        this._setVisibility(matchMinZoom && matchMaxZoom && inside);
    };

    Layer.prototype._setVisibility = function _setVisibility (visible) {
        this.element.style.display = visible ? '' : 'none';
    };

    Layer.prototype._activate = function _activate () {
        var map$$1 = this.map;

        this._deactivate();

        map$$1.bind('beforeReset', this._beforeReset);
        map$$1.bind('reset', this._reset);
        map$$1.bind('resize', this._resize);
        map$$1.bind('panEnd', this._panEnd);
    };

    Layer.prototype._deactivate = function _deactivate () {
        var map$$1 = this.map;

        map$$1.unbind('beforeReset', this._beforeReset);
        map$$1.unbind('reset', this._reset);
        map$$1.unbind('resize', this._resize);
        map$$1.unbind('panEnd', this._panEnd);
    };

    Layer.prototype._updateAttribution = function _updateAttribution () {
        var attribution = this.map.attribution;

        if (attribution) {
            attribution.add(this.options.attribution);
        }
    };

    Layer.prototype._readData = function _readData () {
        var data = this.options.data || [];
        return data;
    };

    Layer.prototype._hasData = function _hasData () {
        return this._data && this._data.length > 0;
    };

    return Layer;
}(_progress_kendoDrawing.Class));

var math$4 = Math;
var template$1 = TemplateService.compile;
var Point$6 = _progress_kendoDrawing.geometry.Point;

function roundPoint(point) {
    return new Point$6(round(point.x), round(point.y));
}

function renderSize(size) {
    var newSize = size;

    if (typeof(size) !== "string") {
        newSize += "px";
    }

    return newSize;
}

var TileLayer = (function (Layer$$1) {
    function TileLayer(map$$1, options) {
        Layer$$1.call(this, map$$1, options);

        if (typeof this.options.subdomains === 'string') {
            this.options.subdomains = this.options.subdomains.split('');
        }

        var viewType = this._viewType();
        this._view = new viewType(this.element, this.options);
    }

    if ( Layer$$1 ) TileLayer.__proto__ = Layer$$1;
    TileLayer.prototype = Object.create( Layer$$1 && Layer$$1.prototype );
    TileLayer.prototype.constructor = TileLayer;

    TileLayer.prototype.destroy = function destroy () {
        Layer$$1.prototype.destroy.call(this);
        this._view.destroy();
        this._view = null;
    };

    TileLayer.prototype._beforeReset = function _beforeReset () {
        var map$$1 = this.map;
        var origin = map$$1.locationToLayer(map$$1.extent().nw).round();
        this._view.viewOrigin(origin);
    };

    TileLayer.prototype._reset = function _reset () {
        Layer$$1.prototype._reset.call(this);
        this._updateView();
        this._view.reset();
    };

    TileLayer.prototype._viewType = function _viewType () {
        return TileView;
    };

    TileLayer.prototype._activate = function _activate () {
        Layer$$1.prototype._activate.call(this);

        if (!this.support.mobileOS) {
            if (!this._pan) {
                this._pan = _progress_kendoDrawing.throttle(this._render.bind(this), 100);
            }

            this.map.bind('pan', this._pan);
        }
    };

    TileLayer.prototype._deactivate = function _deactivate () {
        Layer$$1.prototype._deactivate.call(this);

        if (this._pan) {
            this.map.unbind('pan', this._pan);
        }
    };

    TileLayer.prototype._updateView = function _updateView () {
        var view = this._view,
            map$$1 = this.map,
            extent = map$$1.extent(),
            extentToPoint = {
                nw: map$$1.locationToLayer(extent.nw).round(),
                se: map$$1.locationToLayer(extent.se).round()
            };

        view.center(map$$1.locationToLayer(map$$1.center()));
        view.extent(extentToPoint);
        view.zoom(map$$1.zoom());
    };

    TileLayer.prototype._resize = function _resize () {
        this._render();
    };

    TileLayer.prototype._panEnd = function _panEnd (e) {
        Layer$$1.prototype._panEnd.call(this, e);
        this._render();
    };

    TileLayer.prototype._render = function _render () {
        this._updateView();
        this._view.render();
    };

    return TileLayer;
}(Layer));

setDefaultOptions(TileLayer, {
    tileSize: 256,
    subdomains: ['a', 'b', 'c'],
    urlTemplate: '',
    zIndex: 1
});

var TileView = (function (Class$$1) {
    function TileView(element, options) {
        Class$$1.call(this);
        this.element = element;
        this._initOptions(options);
        this.pool = new TilePool();
    }

    if ( Class$$1 ) TileView.__proto__ = Class$$1;
    TileView.prototype = Object.create( Class$$1 && Class$$1.prototype );
    TileView.prototype.constructor = TileView;

    TileView.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    TileView.prototype.center = function center (center) {
        this._center = center;
    };

    TileView.prototype.extent = function extent (extent) {
        this._extent = extent;
    };

    TileView.prototype.viewOrigin = function viewOrigin (origin) {
        this._viewOrigin = origin;
    };

    TileView.prototype.zoom = function zoom (zoom) {
        this._zoom = zoom;
    };

    TileView.prototype.pointToTileIndex = function pointToTileIndex (point) {
        return new Point$6(math$4.floor(point.x / this.options.tileSize), math$4.floor(point.y / this.options.tileSize));
    };

    TileView.prototype.tileCount = function tileCount () {
        var size = this.size(),
            firstTileIndex = this.pointToTileIndex(this._extent.nw),
            nw = this._extent.nw,
            point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);

        return {
            x: math$4.ceil((math$4.abs(point.x) + size.width) / this.options.tileSize),
            y: math$4.ceil((math$4.abs(point.y) + size.height) / this.options.tileSize)
        };
    };

    TileView.prototype.size = function size () {
        var nw = this._extent.nw,
            se = this._extent.se,
            diff = se.clone().translate(-nw.x, -nw.y);

        return {
            width: diff.x,
            height: diff.y
        };
    };

    TileView.prototype.indexToPoint = function indexToPoint (index) {
        var x = index.x,
            y = index.y;

        return new Point$6(x * this.options.tileSize, y * this.options.tileSize);
    };

    TileView.prototype.subdomainText = function subdomainText () {
        var subdomains = this.options.subdomains;
        return subdomains[this.subdomainIndex++ % subdomains.length];
    };

    TileView.prototype.destroy = function destroy () {
        removeChildren(this.element);
        this.pool.empty();
    };

    TileView.prototype.reset = function reset () {
        this.pool.reset();
        this.subdomainIndex = 0;
        this.render();
    };

    TileView.prototype.render = function render () {
        var this$1 = this;

        var size = this.tileCount(),
            firstTileIndex = this.pointToTileIndex(this._extent.nw),
            tile, x, y;

        for (x = 0; x < size.x; x++) {
            for (y = 0; y < size.y; y++) {
                tile = this$1.createTile({
                    x: firstTileIndex.x + x,
                    y: firstTileIndex.y + y
                });

                if (!tile.visible) {
                    tile.show();
                }
            }
        }
    };

    TileView.prototype.createTile = function createTile (currentIndex) {
        var options = this.tileOptions(currentIndex);
        var tile = this.pool.get(this._center, options);

        if (!tile.element.parentNode) {
            this.element.append(tile.element);
        }

        return tile;
    };

    TileView.prototype.tileOptions = function tileOptions (currentIndex) {
        var index = this.wrapIndex(currentIndex),
            point = this.indexToPoint(currentIndex),
            origin = this._viewOrigin,
            offset = point.clone().translate(-origin.x, -origin.y);

        return {
            index: index,
            currentIndex: currentIndex,
            point: point,
            offset: roundPoint(offset),
            zoom: this._zoom,
            size: this.options.tileSize,
            subdomain: this.subdomainText(),
            urlTemplate: this.options.urlTemplate,
            errorUrlTemplate: this.options.errorUrlTemplate
        };
    };

    TileView.prototype.wrapIndex = function wrapIndex (index) {
        var boundary = math$4.pow(2, this._zoom);

        return {
            x: this.wrapValue(index.x, boundary),
            y: limitValue(index.y, 0, boundary - 1)
        };
    };

    TileView.prototype.wrapValue = function wrapValue (value, boundary) {
        var remainder = math$4.abs(value) % boundary;
        var wrappedValue = value;

        if (value >= 0) {
            wrappedValue = remainder;
        } else {
            wrappedValue = boundary - (remainder === 0 ? boundary : remainder);
        }

        return wrappedValue;
    };

    return TileView;
}(_progress_kendoDrawing.Class));

var ImageTile = (function (Class$$1) {
    function ImageTile(id, options) {
        Class$$1.call(this);
        this.id = id;
        this.visible = true;
        this._initOptions(options);
        this.createElement();
        this.show();
    }

    if ( Class$$1 ) ImageTile.__proto__ = Class$$1;
    ImageTile.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ImageTile.prototype.constructor = ImageTile;

    ImageTile.prototype.destroy = function destroy () {
        var element = this.element;
        var parentNode = element ? element.parentNode : null;

        if (element) {
            if (parentNode) {
                parentNode.removeChild(element);
            }

            this.element = null;
        }
    };

    ImageTile.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    ImageTile.prototype.createElement = function createElement () {
        var el = document.createElement("img");
        addClass(el, "k-layer");
        el.style.position = "absolute";
        el.style.display = "block";
        el.style.width = this.options.size;
        el.style.height = this.options.size;

        this.element = el;

        // todo
        // add on error handler

        // this.element =
        // $('<img style=\'position: absolute; display: block;\' alt=\'\' />')
        // .css({
        //     width: this.options.size,
        //     height: this.options.size
        // })
        // .on('error', proxy(function(e) {
        //     if (this.errorUrl()) {
        //         e.target.setAttribute('src', this.errorUrl());
        //     } else {
        //         e.target.removeAttribute('src');
        //     }
        // }, this));
    };

    ImageTile.prototype.show = function show () {
        var element = this.element;
        element.style.top = renderSize(this.options.offset.y);
        element.style.left = renderSize(this.options.offset.x);

        var url = this.url();

        if (url) {
            element.setAttribute('src', url);
        }

        element.style.visibility = 'visible';
        this.visible = true;
    };

    ImageTile.prototype.hide = function hide () {
        this.element.style.visibility = 'hidden';
        this.visible = false;
    };

    ImageTile.prototype.url = function url () {
        var urlResult = template$1(this.options.urlTemplate);
        return urlResult(this.urlOptions());
    };

    ImageTile.prototype.errorUrl = function errorUrl () {
        var urlResult = template$1(this.options.errorUrlTemplate);
        return urlResult(this.urlOptions());
    };

    ImageTile.prototype.urlOptions = function urlOptions () {
        var options = this.options;

        return {
            zoom: options.zoom,
            subdomain: options.subdomain,
            z: options.zoom,
            x: options.index.x,
            y: options.index.y,
            s: options.subdomain,
            quadkey: options.quadkey,
            q: options.quadkey,
            culture: options.culture,
            c: options.culture
        };
    };

    return ImageTile;
}(_progress_kendoDrawing.Class));

setDefaultOptions(ImageTile, {
    urlTemplate: '',
    errorUrlTemplate: ''
});

var TilePool = (function (Class$$1) {
    function TilePool() {
        Class$$1.call(this);
        this._items = [];
    }

    if ( Class$$1 ) TilePool.__proto__ = Class$$1;
    TilePool.prototype = Object.create( Class$$1 && Class$$1.prototype );
    TilePool.prototype.constructor = TilePool;

    TilePool.prototype.get = function get (center, options) {
        if (this._items.length >= this.options.maxSize) {
            this._remove(center);
        }

        return this._create(options);
    };

    TilePool.prototype.empty = function empty () {
        var items = this._items;

        for (var i = 0; i < items.length; i++) {
            items[i].destroy();
        }

        this._items = [];
    };

    TilePool.prototype.reset = function reset () {
        var items = this._items;

        for (var i = 0; i < items.length; i++) {
            items[i].hide();
        }
    };

    TilePool.prototype._create = function _create (options) {
        var items = this._items;
        var tile;
        var id = hashKey(options.point.toString() + options.offset.toString() + options.zoom + options.urlTemplate);

        for (var i = 0; i < items.length; i++) {
            if (items[i].id === id) {
                tile = items[i];
                break;
            }
        }

        if (tile) {
            tile.show();
        } else {
            tile = new ImageTile(id, options);
            this._items.push(tile);
        }

        return tile;
    };

    TilePool.prototype._remove = function _remove (center) {
        var items = this._items;
        var maxDist = -1;
        var index = -1;

        for (var i = 0; i < items.length; i++) {
            var dist = items[i].options.point.distanceTo(center);

            if (dist > maxDist && !items[i].visible) {
                index = i;
                maxDist = dist;
            }
        }

        if (index !== -1) {
            items[index].destroy();
            items.splice(index, 1);
        }
    };

    return TilePool;
}(_progress_kendoDrawing.Class));

setDefaultOptions(TilePool, {
    maxSize: 100
});

var extend$10 = Object.assign;

var CHANGE$1 = 'change';

var TapCapture = (function (Observable$$1) {
    function TapCapture(element, options) {
        Observable$$1.call(this);
        var that = this,
            domElement = element[0] || element;

        that.capture = false;

        var eventMap = getEventMap(navigator.userAgent);

        if (domElement.addEventListener) {
            eventMap.down.split(' ').forEach(function(event) {
                domElement.addEventListener(event, proxy(that._press, that), true);
            });
            eventMap.up.split(' ').forEach(function(event) {
                domElement.addEventListener(event, proxy(that._release, that), true);
            });
        } else {
            eventMap.down.split(' ').forEach(function(event) {
                domElement.attachEvent(event, proxy(that._press, that));
            });
            eventMap.up.split(' ').forEach(function(event) {
                domElement.attachEvent(event, proxy(that._release, that));
            });
        }

        that.bind([
            'press',
            'release'
        ], options || {});
    }

    if ( Observable$$1 ) TapCapture.__proto__ = Observable$$1;
    TapCapture.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    TapCapture.prototype.constructor = TapCapture;

    TapCapture.prototype.captureNext = function captureNext () {
        this.capture = true;
    };

    TapCapture.prototype.cancelCapture = function cancelCapture () {
        this.capture = false;
    };

    TapCapture.prototype._press = function _press (e) {
        var that = this;

        that.trigger('press');

        if (that.capture) {
            e.preventDefault();
        }
    };

    TapCapture.prototype._release = function _release (e) {
        var that = this;

        that.trigger('release');

        if (that.capture) {
            e.preventDefault();
            that.cancelCapture();
        }
    };

    return TapCapture;
}(Observable));

var PaneDimension = (function (Observable$$1) {
    function PaneDimension(options) {
        Observable$$1.call(this);
        var that = this;
        that.forcedEnabled = false;
        extend$10(that, options);
        that.scale = 1;

        if (that.horizontal) {
            that.measure = 'offsetWidth';
            that.scrollSize = 'scrollWidth';
            that.axis = 'x';
        } else {
            that.measure = 'offsetHeight';
            that.scrollSize = 'scrollHeight';
            that.axis = 'y';
        }
    }

    if ( Observable$$1 ) PaneDimension.__proto__ = Observable$$1;
    PaneDimension.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    PaneDimension.prototype.constructor = PaneDimension;

    PaneDimension.prototype.makeVirtual = function makeVirtual () {
        extend$10(this, {
            virtual: true,
            forcedEnabled: true,
            _virtualMin: 0,
            _virtualMax: 0
        });
    };

    PaneDimension.prototype.virtualSize = function virtualSize (min, max) {
        if (this._virtualMin !== min || this._virtualMax !== max) {
            this._virtualMin = min;
            this._virtualMax = max;
            this.update();
        }
    };

    PaneDimension.prototype.outOfBounds = function outOfBounds (offset) {
        return offset > this.max || offset < this.min;
    };

    PaneDimension.prototype.forceEnabled = function forceEnabled () {
        this.forcedEnabled = true;
    };

    PaneDimension.prototype.getSize = function getSize () {
        return this.container[this.measure];
    };

    PaneDimension.prototype.getTotal = function getTotal () {
        return this.element[this.scrollSize];
    };

    PaneDimension.prototype.rescale = function rescale (scale) {
        this.scale = scale;
    };

    PaneDimension.prototype.update = function update (silent) {
        var that = this,
            total = that.virtual ? that._virtualMax : that.getTotal(),
            scaledTotal = total * that.scale,
            size = that.getSize();

        if (total === 0 && !that.forcedEnabled) {
            return;
        }

        that.max = that.virtual ? -that._virtualMin : 0;
        that.size = size;
        that.total = scaledTotal;
        that.min = Math.min(that.max, size - scaledTotal);
        that.minScale = size / total;
        that.centerOffset = (scaledTotal - size) / 2;
        that.enabled = that.forcedEnabled || scaledTotal > size;

        if (!silent) {
            that.trigger(CHANGE$1, that);
        }
    };

    return PaneDimension;
}(Observable));

var PaneDimensions = (function (Observable$$1) {
    function PaneDimensions(options) {
        Observable$$1.call(this);
        var that = this;

        that.x = new PaneDimension(extend$10({
            horizontal: true
        }, options));

        that.y = new PaneDimension(extend$10({
            horizontal: false
        }, options));

        that.container = options.container;
        that.forcedMinScale = options.minScale;
        that.maxScale = options.maxScale || 100;
        that.bind(CHANGE$1, options);
    }

    if ( Observable$$1 ) PaneDimensions.__proto__ = Observable$$1;
    PaneDimensions.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    PaneDimensions.prototype.constructor = PaneDimensions;

    PaneDimensions.prototype.rescale = function rescale (newScale) {
        this.x.rescale(newScale);
        this.y.rescale(newScale);
        this.refresh();
    };

    PaneDimensions.prototype.centerCoordinates = function centerCoordinates () {
        return {
            x: Math.min(0, -this.x.centerOffset),
            y: Math.min(0, -this.y.centerOffset)
        };
    };

    PaneDimensions.prototype.refresh = function refresh () {
        var that = this;
        that.x.update();
        that.y.update();
        that.enabled = that.x.enabled || that.y.enabled;
        that.minScale = that.forcedMinScale || Math.min(that.x.minScale, that.y.minScale);
        that.fitScale = Math.max(that.x.minScale, that.y.minScale);
        that.trigger(CHANGE$1);
    };

    return PaneDimensions;
}(Observable));

var PaneAxis = (function (Observable$$1) {
    function PaneAxis(options) {
        Observable$$1.call(this);
        extend$10(this, options);
    }

    if ( Observable$$1 ) PaneAxis.__proto__ = Observable$$1;
    PaneAxis.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    PaneAxis.prototype.constructor = PaneAxis;

    PaneAxis.prototype.outOfBounds = function outOfBounds () {
        return this.dimension.outOfBounds(this.movable[this.axis]);
    };

    PaneAxis.prototype.dragMove = function dragMove (delta) {
        var that = this,
            dimension = that.dimension,
            axis = that.axis,
            movable = that.movable,
            position = movable[axis] + delta;

        if (!dimension.enabled) {
            return;
        }

        var dragDelta = delta;

        if (position < dimension.min && delta < 0 || position > dimension.max && delta > 0) {
            dragDelta *= that.resistance;
        }

        movable.translateAxis(axis, dragDelta);
        that.trigger(CHANGE$1, that);
    };

    return PaneAxis;
}(Observable));

var Pane$2 = (function (Class$$1) {
    function Pane(options) {
        Class$$1.call(this);

        var that = this,
            x, y,
            resistance,
            movable;

        extend$10(that, {
            elastic: true
        }, options);

        resistance = that.elastic ? 0.5 : 0;
        movable = that.movable;

        that.x = x = new PaneAxis({
            axis: 'x',
            dimension: that.dimensions.x,
            resistance: resistance,
            movable: movable
        });

        that.y = y = new PaneAxis({
            axis: 'y',
            dimension: that.dimensions.y,
            resistance: resistance,
            movable: movable
        });

        that.userEvents.bind([
            'press',
            'move',
            'end',
            'gesturestart',
            'gesturechange'
        ], {
            gesturestart: function gesturestart(e) {
                that.gesture = e;

                that.offset = elementOffset(that.dimensions.container);
            },
            press: function press(e) {
                var closestAnchor = e.event.target.closest('a');

                if (closestAnchor && closestAnchor.matches('[data-navigate-on-press=true]')) {
                    e.sender.cancel();
                }
            },
            gesturechange: function gesturechange(e) {
                var previousGesture = that.gesture,
                    previousCenter = previousGesture.center,
                    center = e.center,
                    scaleDelta = e.distance / previousGesture.distance,
                    minScale = that.dimensions.minScale,
                    maxScale = that.dimensions.maxScale,
                    coordinates;
                if (movable.scale <= minScale && scaleDelta < 1) {
                    scaleDelta += (1 - scaleDelta) * 0.8;
                }

                if (movable.scale * scaleDelta >= maxScale) {
                    scaleDelta = maxScale / movable.scale;
                }

                var offsetX = movable.x + that.offset.left,
                    offsetY = movable.y + that.offset.top;
                coordinates = {
                    x: (offsetX - previousCenter.x) * scaleDelta + center.x - offsetX,
                    y: (offsetY - previousCenter.y) * scaleDelta + center.y - offsetY
                };

                movable.scaleWith(scaleDelta);

                x.dragMove(coordinates.x);
                y.dragMove(coordinates.y);

                that.dimensions.rescale(movable.scale);
                that.gesture = e;

                e.preventDefault();
            },
            move: function move(e) {
                if (e.event.target.tagName.match(/textarea|input/i)) {
                    return;
                }

                if (x.dimension.enabled || y.dimension.enabled) {
                    x.dragMove(e.x.delta);
                    y.dragMove(e.y.delta);
                    e.preventDefault();
                } else {
                    e.touch.skip();
                }
            },
            end: function end(e) {
                e.preventDefault();
            }
        });
    }

    if ( Class$$1 ) Pane.__proto__ = Class$$1;
    Pane.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Pane.prototype.constructor = Pane;

    return Pane;
}(_progress_kendoDrawing.Class));

var translate$1$1 = function(x, y, scale) {
    return 'translate3d(' + x + 'px,' + y + 'px,0) scale(' + scale + ')';
};

var Movable = (function (Observable$$1) {
    function Movable(element) {
        Observable$$1.call(this);

        var that = this;

        that.support = getSupportedFeatures();
        this.transformStyle = this.support.transitions.prefix + 'Transform';
        that.element = element;
        that.element.style.webkitTransformOrigin = 'left top';
        that.x = 0;
        that.y = 0;
        that.scale = 1;

        var coordinates = translate$1$1(that.x, that.y, that.scale);
        that.element.style[this.transformStyle] = coordinates;

        that._saveCoordinates(coordinates);
    }

    if ( Observable$$1 ) Movable.__proto__ = Observable$$1;
    Movable.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    Movable.prototype.constructor = Movable;

    Movable.prototype.translateAxis = function translateAxis (axis, by) {
        this[axis] += by;
        this.refresh();
    };

    Movable.prototype.scaleTo = function scaleTo (scale) {
        this.scale = scale;
        this.refresh();
    };

    Movable.prototype.scaleWith = function scaleWith (scaleDelta) {
        this.scale *= scaleDelta;
        this.refresh();
    };

    Movable.prototype.translate = function translate$1 (coordinates) {
        this.x += coordinates.x;
        this.y += coordinates.y;
        this.refresh();
    };

    Movable.prototype.moveAxis = function moveAxis (axis, value) {
        this[axis] = value;
        this.refresh();
    };

    Movable.prototype.moveTo = function moveTo (coordinates) {
        extend$10(this, coordinates);
        this.refresh();
    };

    Movable.prototype.refresh = function refresh () {
        var that = this,
            x = that.x,
            y = that.y,
            newCoordinates;

        if (that.round) {
            x = Math.round(x);
            y = Math.round(y);
        }

        newCoordinates = translate$1$1(x, y, that.scale);

        if (newCoordinates !== that.coordinates) {
            that.element.style[this.transformStyle] = newCoordinates;

            that._saveCoordinates(newCoordinates);
            that.trigger(CHANGE$1);
        }
    };

    Movable.prototype._saveCoordinates = function _saveCoordinates (coordinates) {
        this.coordinates = coordinates;
    };

    return Movable;
}(Observable));

var Group$7 = _progress_kendoDrawing.drawing.Group;

var ShapeLayer = (function (Layer$$1) {
    function ShapeLayer(map$$1, options) {
        Layer$$1.call(this, map$$1, options);

        this._pan = proxy(this._pan, this);

        this.surface = _progress_kendoDrawing.drawing.Surface.create(this.element, {
            width: map$$1.scrollElement.clientWidth,
            height: map$$1.scrollElement.clientHeight
        });

        this._initRoot();
        this.movable = new Movable(this.surface.element);
        this._markers = [];

        this._click = this._handler('shapeClick');
        this.surface.bind('click', this._click);
        this._mouseenter = this._handler('shapeMouseEnter');
        this.surface.bind('mouseenter', this._mouseenter);
        this._mouseleave = this._handler('shapeMouseLeave');
        this.surface.bind('mouseleave', this._mouseleave);
    }

    if ( Layer$$1 ) ShapeLayer.__proto__ = Layer$$1;
    ShapeLayer.prototype = Object.create( Layer$$1 && Layer$$1.prototype );
    ShapeLayer.prototype.constructor = ShapeLayer;

    ShapeLayer.prototype.destroy = function destroy () {
        Layer$$1.prototype.destroy.call(this);

        this.surface.destroy();
    };

    ShapeLayer.prototype._reset = function _reset () {
        Layer$$1.prototype._reset.call(this);

        this._translateSurface();

        this._data = this._readData();

        if (this._hasData()) {
            this._load(this._data);
        }
    };

    ShapeLayer.prototype._initRoot = function _initRoot () {
        this._root = new Group$7();
        this.surface.draw(this._root);
    };

    ShapeLayer.prototype._beforeReset = function _beforeReset () {
        this.surface.clear();
        this._initRoot();
    };

    ShapeLayer.prototype._resize = function _resize () {
        this.surface.size(this.map.size());
    };

    ShapeLayer.prototype._readData = function _readData () {
        var data = Layer$$1.prototype._readData.call(this);

        if (data.type === "FeatureCollection") {
            return data.features;
        }

        if (data.type === "GeometryCollection") {
            return data.geometries;
        }

        return data;
    };

    ShapeLayer.prototype._load = function _load (data) {
        var this$1 = this;

        this._data = data;
        this._clearMarkers();

        if (!this._loader) {
            this._loader = new GeoJsonLoader(this.map, this.options.style, this);
        }

        var container = new Group$7();

        for (var i = 0; i < data.length; i++) {
            var shape = this$1._loader.parse(data[i]);

            if (shape) {
                container.append(shape);
            }
        }

        this._root.clear();
        this._root.append(container);
    };

    ShapeLayer.prototype.shapeCreated = function shapeCreated (shape) {
        var cancelled = false;

        // the GeoJSON loader builds "Point" type as a circle
        // use the circle shape type as and indicator for rendering a marker
        // keep the behavior under a setting as this is supported by kendo jQuery Map
        // but we opted out of this in blazor
        if (shape instanceof _progress_kendoDrawing.drawing.Circle && this.map.options.renderPointsAsMarkers) {
            cancelled = defined(this._createMarker(shape));
        }

        if (!cancelled) {
            var args = {
                layer: this,
                shape: shape
            };

            cancelled = this.map.trigger('shapeCreated', args);
        }

        return cancelled;
    };

    ShapeLayer.prototype.featureCreated = function featureCreated (e) {
        e.layer = this;
        this.map.trigger('shapeFeatureCreated', e);
    };

    ShapeLayer.prototype._createMarker = function _createMarker (shape) {
        var marker = this.map.markers.bind({
            location: shape.location
        }, shape.dataItem);

        if (marker) {
            this._markers.push(marker);
        }

        return marker;
    };

    ShapeLayer.prototype._clearMarkers = function _clearMarkers () {
        var this$1 = this;

        for (var i = 0; i < this._markers.length; i++) {
            this$1.map.markers.remove(this$1._markers[i]);
        }

        this._markers = [];
    };

    ShapeLayer.prototype._pan = function _pan () {
        if (!this._panning) {
            this._panning = true;
            this.surface.suspendTracking();
        }
    };

    ShapeLayer.prototype._panEnd = function _panEnd (e) {
        Layer$$1.prototype._panEnd.call(this, e);
        this._translateSurface();
        this.surface.resumeTracking();
        this._panning = false;
    };

    ShapeLayer.prototype._translateSurface = function _translateSurface () {
        var map$$1 = this.map;
        var nw = map$$1.locationToView(map$$1.extent().nw);

        if (this.surface.translate) {
            this.surface.translate(nw);
            this.movable.moveTo({
                x: nw.x,
                y: nw.y
            });
        }
    };

    ShapeLayer.prototype._handler = function _handler (event) {
        var layer = this;

        return function(e) {
            if (e.element) {
                var args = {
                    layer: layer,
                    layerIndex: (layer.map.layers || []).indexOf(layer),
                    shape: e.element,
                    shapeIndex: (layer._data || []).indexOf(e.element.dataItem),
                    originalEvent: e.originalEvent
                };

                layer.map.trigger(event, args);
            }
        };
    };

    ShapeLayer.prototype._activate = function _activate () {
        Layer$$1.prototype._activate.call(this);
        this._panHandler = proxy(this._pan, this);
        this.map.bind('pan', this.panHandler);
    };

    ShapeLayer.prototype._deactivate = function _deactivate () {
        Layer$$1.prototype._deactivate.call(this);
        this.map.unbind('pan', this._panHandler);
    };

    return ShapeLayer;
}(Layer));

setDefaultOptions(ShapeLayer, {
    autoBind: true,
    zIndex: 100
});

var GeoJsonLoader = (function (Class$$1) {
    function GeoJsonLoader(locator, defaultStyle, observer) {
        Class$$1.call(this);
        this.observer = observer;
        this.locator = locator;
        this.style = defaultStyle;
    }

    if ( Class$$1 ) GeoJsonLoader.__proto__ = Class$$1;
    GeoJsonLoader.prototype = Object.create( Class$$1 && Class$$1.prototype );
    GeoJsonLoader.prototype.constructor = GeoJsonLoader;

    GeoJsonLoader.prototype.parse = function parse (item) {
        var root = new Group$7();
        var unwrap = true;

        if (item.type === 'Feature') {
            unwrap = false;
            this._loadGeometryTo(root, item.geometry, item);
            this._featureCreated(root, item);
        } else {
            this._loadGeometryTo(root, item, item);
        }

        if (unwrap && root.children.length < 2) {
            root = root.children[0];
        }

        return root;
    };

    GeoJsonLoader.prototype._shapeCreated = function _shapeCreated (shape) {
        var cancelled = false;

        if (this.observer && this.observer.shapeCreated) {
            cancelled = this.observer.shapeCreated(shape);
        }

        return cancelled;
    };

    GeoJsonLoader.prototype._featureCreated = function _featureCreated (group, dataItem) {
        if (this.observer && this.observer.featureCreated) {
            this.observer.featureCreated({
                group: group,
                dataItem: dataItem,
                properties: dataItem.properties
            });
        }
    };

    /* eslint-disable indent */
    GeoJsonLoader.prototype._loadGeometryTo = function _loadGeometryTo (container, geometry$$1, dataItem) {
        var this$1 = this;

        var coords = geometry$$1.coordinates;
        var i;
        var path;

        switch (geometry$$1.type) {
            case 'LineString':
                path = this._loadPolygon(container, [coords], dataItem);
                this._setLineFill(path);
                break;
            case 'MultiLineString':
                for (i = 0; i < coords.length; i++) {
                    path = this$1._loadPolygon(container, [coords[i]], dataItem);
                    this$1._setLineFill(path);
                }
                break;
            case 'Polygon':
                this._loadPolygon(container, coords, dataItem);
                break;
            case 'MultiPolygon':
                for (i = 0; i < coords.length; i++) {
                    this$1._loadPolygon(container, coords[i], dataItem);
                }
                break;
            case 'Point':
                this._loadPoint(container, coords, dataItem);
                break;
            case 'MultiPoint':
                for (i = 0; i < coords.length; i++) {
                    this$1._loadPoint(container, coords[i], dataItem);
                }
                break;
            default:
                break;
        }
    };
    /* eslint-disable indent */

    GeoJsonLoader.prototype._setLineFill = function _setLineFill (path) {
        var segments = path.segments;

        if (segments.length < 4 || !segments[0].anchor().equals(last(segments).anchor())) {
            path.options.fill = null;
        }
    };

    GeoJsonLoader.prototype._loadShape = function _loadShape (container, shape) {
        if (!this._shapeCreated(shape)) {
            container.append(shape);
        }

        return shape;
    };

    GeoJsonLoader.prototype._loadPolygon = function _loadPolygon (container, rings, dataItem) {
        var shape = this._buildPolygon(rings);
        shape.dataItem = dataItem;
        return this._loadShape(container, shape);
    };

    GeoJsonLoader.prototype._buildPolygon = function _buildPolygon (rings) {
        var this$1 = this;

        var type = rings.length > 1 ? _progress_kendoDrawing.drawing.MultiPath : _progress_kendoDrawing.drawing.Path;
        var path = new type(this.style);

        for (var i = 0; i < rings.length; i++) {
            for (var j = 0; j < rings[i].length; j++) {
                var point = this$1.locator.locationToView(Location.fromLngLat(rings[i][j]));
                if (j === 0) {
                    path.moveTo(point.x, point.y);
                } else {
                    path.lineTo(point.x, point.y);
                }
            }
        }

        return path;
    };

    GeoJsonLoader.prototype._loadPoint = function _loadPoint (container, coords, dataItem) {
        var location = Location.fromLngLat(coords);
        var point = this.locator.locationToView(location);
        var circle = new _progress_kendoDrawing.geometry.Circle(point, 10);
        var shape = new _progress_kendoDrawing.drawing.Circle(circle, this.style);

        shape.dataItem = dataItem;
        shape.location = location;

        return this._loadShape(container, shape);
    };

    return GeoJsonLoader;
}(_progress_kendoDrawing.Class));

var BubbleLayer = (function (ShapeLayer$$1) {
    function BubbleLayer () {
        ShapeLayer$$1.apply(this, arguments);
    }

    if ( ShapeLayer$$1 ) BubbleLayer.__proto__ = ShapeLayer$$1;
    BubbleLayer.prototype = Object.create( ShapeLayer$$1 && ShapeLayer$$1.prototype );
    BubbleLayer.prototype.constructor = BubbleLayer;

    BubbleLayer.prototype._readData = function _readData () {
        var data = this.options.data || [];
        return data;
    };

    BubbleLayer.prototype._load = function _load (data) {
        var this$1 = this;

        this._data = data;
        this.surface.clear();

        if (data.length === 0) {
            return;
        }

        var options = this.options;
        var getValue = getter(options.valueField);

        var newData = data.slice(0);
        newData.sort(function(a, b) {
            return getValue(b) - getValue(a);
        });

        var scaleType = this._scaleType();
        var scale;
        var getLocation = getter(this.options.locationField);

        for (var i = 0; i < newData.length; i++) {
            var dataItem = newData[i];
            var location = getLocation(dataItem);
            var value = getValue(dataItem);

            if (defined(location) && defined(value)) {
                if (!scale) {
                    scale = new scaleType([
                        0,
                        value
                    ], [
                        options.minSize,
                        options.maxSize
                    ]);
                }

                location = Location.create(location);

                var center = this$1.map.locationToView(location);
                var size = scale.map(value);
                var symbol = this$1._createSymbol({
                    center: center,
                    size: size,
                    style: options.style,
                    dataItem: dataItem,
                    location: location
                });

                symbol.dataItem = dataItem;
                symbol.location = location;
                symbol.value = value;

                this$1._drawSymbol(symbol);
            }
        }
    };

    BubbleLayer.prototype._scaleType = function _scaleType () {
        var scale = this.options.scale;

        if (isFunction(scale)) {
            return scale;
        }

        return Scales[scale];
    };

    BubbleLayer.prototype._createSymbol = function _createSymbol (args) {
        var symbol = this.options.symbol;

        if (!isFunction(symbol)) {
            symbol = Symbols[symbol];
        }

        return symbol(args);
    };

    BubbleLayer.prototype._drawSymbol = function _drawSymbol (shape) {
        var args = {
            layer: this,
            shape: shape
        };

        var cancelled = this.map.trigger('shapeCreated', args);

        if (!cancelled) {
            this.surface.draw(shape);
        }
    };

    return BubbleLayer;
}(ShapeLayer));

setDefaultOptions(BubbleLayer, {
    // autoBind: true,
    locationField: 'location',
    valueField: 'value',
    minSize: 0,
    maxSize: 100,
    scale: 'sqrt',
    symbol: 'circle',
    // ensure bubble layers are displayed over tile and shape layers
    zIndex: 200
});

var SqrtScale = (function (Class$$1) {
    function SqrtScale(domain, range) {
        Class$$1.call(this);

        this._domain = domain;
        this._range = range;

        var domainRange = Math.sqrt(domain[1]) - Math.sqrt(domain[0]);
        var outputRange = range[1] - range[0];

        this._ratio = outputRange / domainRange;
    }

    if ( Class$$1 ) SqrtScale.__proto__ = Class$$1;
    SqrtScale.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SqrtScale.prototype.constructor = SqrtScale;

    SqrtScale.prototype.map = function map (value) {
        var rel = (Math.sqrt(value) - Math.sqrt(this._domain[0])) * this._ratio;
        return this._range[0] + rel;
    };

    return SqrtScale;
}(_progress_kendoDrawing.Class));

var Scales = {
    sqrt: SqrtScale
};

var Symbols = {
    circle: function(args) {
        var geo = new _progress_kendoDrawing.geometry.Circle(args.center, args.size / 2);
        return new _progress_kendoDrawing.drawing.Circle(geo, args.style);
    },

    square: function(args) {
        var path = new _progress_kendoDrawing.drawing.Path(args.style);
        var halfSize = args.size / 2;
        var center = args.center;
        path.moveTo(center.x - halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y + halfSize).lineTo(center.x - halfSize, center.y + halfSize).close();
        return path;
    }
};

var CLICK = "click";
var MOUSE_ENTER = "mouseenter";
var MOUSE_LEAVE = "mouseleave";

var extend$11 = Object.assign;
var MARKER_CLASS = ".k-marker";

var MarkerLayer = (function (Layer$$1) {
    function MarkerLayer(map$$1, options) {
        Layer$$1.call(this, map$$1, options);

        this._markerClickHandler = proxy(this._markerClick, this);
        on(this.element, CLICK, MARKER_CLASS, this._markerClickHandler);

        this.items = [];

        this._load(this._readData());
    }

    if ( Layer$$1 ) MarkerLayer.__proto__ = Layer$$1;
    MarkerLayer.prototype = Object.create( Layer$$1 && Layer$$1.prototype );
    MarkerLayer.prototype.constructor = MarkerLayer;

    MarkerLayer.prototype.destroy = function destroy () {
        Layer$$1.prototype.destroy.call(this);
        off(this.element, CLICK, this._markerClickHandler);
        this.clear();
    };

    MarkerLayer.prototype.add = function add (args) {
        var this$1 = this;

        if (isArray(args)) {
            for (var i = 0; i < args.length; i++) {
                this$1._addOne(args[i]);
            }
        } else {
            return this._addOne(args);
        }
    };

    MarkerLayer.prototype.remove = function remove (marker) {
        marker.destroy();
        var index = (this.items || []).indexOf(marker);

        if (index > -1) {
            this.items.splice(index, 1);
        }
    };

    MarkerLayer.prototype.clear = function clear () {
        var this$1 = this;

        for (var i = 0; i < this.items.length; i++) {
            this$1.items[i].destroy();
        }

        this.items = [];
    };

    MarkerLayer.prototype.update = function update (marker) {
        var location = marker.location();

        if (location) {
            marker.showAt(this.map.locationToView(location));

            var args = {
                marker: marker,
                layer: this
            };

            this.map.trigger('markerActivate', args);
        }
    };

    MarkerLayer.prototype._reset = function _reset () {
        var this$1 = this;

        Layer$$1.prototype._reset.call(this);

        var items = this.items;

        for (var i = 0; i < items.length; i++) {
            this$1.update(items[i]);
        }
    };

    MarkerLayer.prototype.bind = function bind (options, dataItem) {
        var marker = Marker.create(options, this.options);
        marker.dataItem = dataItem;

        var args = {
            marker: marker,
            layer: this
        };

        var cancelled = this.map.trigger('markerCreated', args);

        if (!cancelled) {
            this.add(marker);
            return marker;
        }
    };

    MarkerLayer.prototype._addOne = function _addOne (arg) {
        var marker = Marker.create(arg, this.options);
        marker.addTo(this);
        return marker;
    };

    MarkerLayer.prototype._readData = function _readData () {
        var data = this.options.data || [];
        return data;
    };

    MarkerLayer.prototype._load = function _load (data) {
        var this$1 = this;

        this._data = data;
        this.clear();

        var getLocation = getter(this.options.locationField);
        var getTitle = getter(this.options.titleField);

        for (var i = 0; i < data.length; i++) {
            var dataItem = data[i];

            this$1.bind({
                location: getLocation(dataItem),
                title: getTitle(dataItem)
            }, dataItem);
        }
    };

    MarkerLayer.prototype._markerClick = function _markerClick (e) {
        var layers = this.map.layers || [];
        var marker = e.target._kendoNode;

        var args = {
            // marker: $(e.target).data('kendoMarker'),
            // marker: e.target.getAttribute("data-kendoMarker"),
            layer: this,
            layerIndex: layers.indexOf(this),
            marker: marker,
            markerIndex: (this.items || []).indexOf(marker),
            originalEvent: e
        };

        this.map.trigger('markerClick', args);
    };

    MarkerLayer.prototype._markerMouseEnter = function _markerMouseEnter (e) {
        var args = this._createMarkerEventArgs(e);
        this.map.trigger("markerMouseEnter", args);
    };

    MarkerLayer.prototype._markerMouseLeave = function _markerMouseLeave (e) {
        var args = this._createMarkerEventArgs(e);
        this.map.trigger("markerMouseLeave", args);
    };

    MarkerLayer.prototype._createMarkerEventArgs = function _createMarkerEventArgs (e) {
        var marker = e.marker;

        var args = extend$11({}, {
            layer: this,
            layerIndex: this.map.layers.indexOf(this),
            marker: marker,
            markerIndex: (this.items || []).indexOf(marker)
        }, e);

        return args;
    };

    return MarkerLayer;
}(Layer));

setDefaultOptions(MarkerLayer, {
    zIndex: 1000,
    autoBind: true,
    locationField: 'location',
    titleField: 'title'
});

var Marker = (function (Class$$1) {
    function Marker(options) {
        Class$$1.call(this);
        this.options = options || {};
    }

    if ( Class$$1 ) Marker.__proto__ = Class$$1;
    Marker.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Marker.prototype.constructor = Marker;

    Marker.prototype.destroy = function destroy () {
        this.layer = null;
        this.unbindEvents();
        this.hide();
    };

    Marker.prototype.addTo = function addTo (parent) {
        this.layer = parent.markers || parent;
        this.layer.items.push(this);
        this.layer.update(this);
    };

    Marker.prototype.location = function location (value) {
        if (value) {
            this.options.location = Location.create(value).toArray();

            if (this.layer) {
                this.layer.update(this);
            }

            return this;
        }

        return Location.create(this.options.location);
    };

    Marker.prototype.showAt = function showAt (point) {
        this.render();

        this.element.style.left = toPixels(Math.round(point.x));
        this.element.style.top = toPixels(Math.round(point.y));

        if (this.tooltip && this.tooltip.popup) {
            this.tooltip.popup._position();
        }
    };

    Marker.prototype.hide = function hide () {
        if (this.element) {
            this.element.remove();
            this.element = null;
        }
        if (this.tooltip) {
            this.tooltip.destroy();
            this.tooltip = null;
        }
    };

    Marker.prototype.bindEvents = function bindEvents () {
        if (!this.element) {
            return;
        }

        this._mouseEnterHandler = proxy(this._mouseEnter, this);
        on(this.element, MOUSE_ENTER, MARKER_CLASS, this._mouseEnterHandler);
        this._mouseLeaveHandler = proxy(this._mouseLeave, this);
        on(this.element, MOUSE_LEAVE, MARKER_CLASS, this._mouseLeaveHandler);
    };

    Marker.prototype.unbindEvents = function unbindEvents () {
        if (!this.element) {
            return;
        }

        off(this.element, MOUSE_ENTER, this._mouseEnterHandler);
        off(this.element, MOUSE_LEAVE, this._mouseLeaveHandler);
    };

    Marker.prototype.render = function render () {
        if (!this.element) {
            var options = this.options;
            var layer = this.layer;

            var element = document.createElement('span');
            addClass(element, 'k-marker k-icon k-i-marker-' + toHyphens(options.shape || 'pin'));

            element.setAttribute("title", options.title);

            var attributes = options.attributes || {};
            Object.keys(attributes).forEach(function(key) {
                element.setAttributett(key, attributes[key]);
            });

            element._kendoNode = this;
            element.style.zIndex = options.zIndex;

            this.element = element;

            if (layer) {
                layer.element.appendChild(this.element);
            }

            this.bindEvents();

            this.renderTooltip();
        }
    };

    Marker.prototype._mouseEnter = function _mouseEnter (e) {
        var args = this._createEventArgs(e);
        this.layer._markerMouseEnter(args);
    };

    Marker.prototype._mouseLeave = function _mouseLeave (e) {
        var args = this._createEventArgs(e);
        this.layer._markerMouseLeave(args);
    };

    Marker.prototype._createEventArgs = function _createEventArgs (e) {
        var args = {
            marker: this,
            originalEvent: e
        };

        return args;
    };

    Marker.prototype.renderTooltip = function renderTooltip () {
    };

    Marker.create = function create (arg, defaults) {
        if (arg instanceof Marker) {
            return arg;
        }

        return new Marker(deepExtend({}, defaults, arg));
    };

    return Marker;
}(_progress_kendoDrawing.Class));

var extend$13 = Object.assign;

function animationFrame(callback) {
    window.requestAnimationFrame(callback);
}

var Animation = (function (Class$$1) {
    function Animation() {
        Class$$1.call(this);
        var that = this;

        that._tickProxy = proxy(that._tick, that);
        that._started = false;
    }

    if ( Class$$1 ) Animation.__proto__ = Class$$1;
    Animation.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Animation.prototype.constructor = Animation;

    Animation.prototype.tick = function tick () { };
    Animation.prototype.done = function done () { };
    Animation.prototype.onEnd = function onEnd () { };
    Animation.prototype.onCancel = function onCancel () { };

    Animation.prototype.start = function start () {
        if (!this.enabled()) {
            return;
        }

        if (!this.done()) {
            this._started = true;
            animationFrame(this._tickProxy);
        } else {
            this.onEnd();
        }
    };

    Animation.prototype.enabled = function enabled () {
        return true;
    };

    Animation.prototype.cancel = function cancel () {
        this._started = false;
        this.onCancel();
    };

    Animation.prototype._tick = function _tick () {
        var that = this;

        if (!that._started) {
            return;
        }

        that.tick();

        if (!that.done()) {
            animationFrame(that._tickProxy);
        } else {
            that._started = false;
            that.onEnd();
        }
    };

    return Animation;
}(_progress_kendoDrawing.Class));

var Transition = (function (Animation) {
    function Transition(options) {
        Animation.call(this);
        extend$13(this, options);
    }

    if ( Animation ) Transition.__proto__ = Animation;
    Transition.prototype = Object.create( Animation && Animation.prototype );
    Transition.prototype.constructor = Transition;

    Transition.prototype.done = function done () {
        return this.timePassed() >= this.duration;
    };

    Transition.prototype.timePassed = function timePassed () {
        return Math.min(this.duration, now() - this.startDate);
    };

    Transition.prototype.moveTo = function moveTo (options) {
        var that = this,
            movable = that.movable;

        that.initial = movable[that.axis];
        that.delta = options.location - that.initial;
        that.duration = typeof options.duration === 'number' ? options.duration : 300;
        that.tick = that._easeProxy(options.ease);
        that.startDate = now();
        that.start();
    };

    Transition.prototype._easeProxy = function _easeProxy (ease) {
        var that = this;

        return function() {
            that.movable.moveAxis(that.axis, ease(that.timePassed(), that.initial, that.delta, that.duration));
        };
    };

    Transition.easeOutExpo = function easeOutExpo (t, b, c, d) {
        return t === d ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;
    };

    return Transition;
}(Animation));

var extend$14 = Object.assign;

var preventDefault$2 = function (e) {
    e.preventDefault();
};

var DEFAULT_MIN_HOLD = 800;
var CLICK_DELAY = 300;
var DEFAULT_THRESHOLD = 0;
var PRESS = 'press';
var HOLD = 'hold';
var SELECT$1 = 'select';
var START$1 = 'start';
var MOVE = 'move';
var END$1 = 'end';
var CANCEL = 'cancel';
var TAP = 'tap';
var DOUBLETAP = 'doubleTap';
var RELEASE = 'release';
var GESTURESTART = 'gesturestart';
var GESTURECHANGE = 'gesturechange';
var GESTUREEND = 'gestureend';
var GESTURETAP = 'gesturetap';

var THRESHOLD = {
    'api': 0,
    'touch': 0,
    'mouse': 9,
    'pointer': 9
};

function touchDelta(touch1, touch2) {
    var x1 = touch1.x.location,
        y1 = touch1.y.location,
        x2 = touch2.x.location,
        y2 = touch2.y.location,
        dx = x1 - x2,
        dy = y1 - y2;

    return {
        center: {
            x: (x1 + x2) / 2,
            y: (y1 + y2) / 2
        },
        distance: Math.sqrt(dx * dx + dy * dy)
    };
}

function getTouches(e) {
    var support$$1 = getSupportedFeatures();
    var touches = [],
        originalEvent = e.originalEvent || e,
        currentTarget = e.currentTarget,
        idx = 0,
        length, changedTouches, touch;

    if (e.api) {
        touches.push({
            id: 2,
            event: e,
            target: e.target,
            currentTarget: e.target,
            location: e,
            type: 'api'
        });
    } else if (e.type.match(/touch/)) {
        changedTouches = originalEvent ? originalEvent.changedTouches : [];

        for (length = changedTouches.length; idx < length; idx++) {
            touch = changedTouches[idx];
            touches.push({
                location: touch,
                event: e,
                target: touch.target,
                currentTarget: currentTarget,
                id: touch.identifier,
                type: 'touch'
            });
        }
    } else if (support$$1.pointers || support$$1.msPointers) {
        touches.push({
            location: originalEvent,
            event: e,
            target: e.target,
            currentTarget: currentTarget,
            id: originalEvent.pointerId,
            type: 'pointer'
        });
    } else {
        touches.push({
            id: 1,
            event: e,
            target: e.target,
            currentTarget: currentTarget,
            location: e,
            type: 'mouse'
        });
    }

    return touches;
}
var TouchAxis = (function (Class$$1) {
    function TouchAxis(axis, location) {
        Class$$1.call(this);
        var that = this;

        that.support = getSupportedFeatures();
        that.invalidZeroEvents = this.support.mobileOS && this.support.mobileOS.android;
        that.axis = axis;
        that._updateLocationData(location);
        that.startLocation = that.location;
        that.velocity = that.delta = 0;
        that.timeStamp = now();
    }

    if ( Class$$1 ) TouchAxis.__proto__ = Class$$1;
    TouchAxis.prototype = Object.create( Class$$1 && Class$$1.prototype );
    TouchAxis.prototype.constructor = TouchAxis;

    TouchAxis.prototype.move = function move (location) {
        var that = this,
            offset = location['page' + that.axis],
            timeStamp = now(),
            timeDelta = timeStamp - that.timeStamp || 1;

        if (!offset && this.invalidZeroEvents) {
            return;
        }

        that.delta = offset - that.location;
        that._updateLocationData(location);
        that.initialDelta = offset - that.startLocation;
        that.velocity = that.delta / timeDelta;
        that.timeStamp = timeStamp;
    };

    TouchAxis.prototype._updateLocationData = function _updateLocationData (location) {
        var that = this,
            axis = that.axis;

        that.location = location['page' + axis];
        that.client = location['client' + axis];
        that.screen = location['screen' + axis];
    };

    return TouchAxis;
}(_progress_kendoDrawing.Class));

var Touch = (function (Class$$1) {
    function Touch(userEvents, target, touchInfo) {
        Class$$1.call(this);

        extend$14(this, {
            x: new TouchAxis('X', touchInfo.location),
            y: new TouchAxis('Y', touchInfo.location),
            type: touchInfo.type,
            useClickAsTap: userEvents.useClickAsTap,
            threshold: userEvents.threshold || THRESHOLD[touchInfo.type],
            userEvents: userEvents,
            target: target,
            currentTarget: touchInfo.currentTarget,
            initialTouch: touchInfo.target,
            id: touchInfo.id,
            pressEvent: touchInfo,
            _clicks: userEvents._clicks,
            supportDoubleTap: userEvents.supportDoubleTap,
            _moved: false,
            _finished: false
        });
    }

    if ( Class$$1 ) Touch.__proto__ = Class$$1;
    Touch.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Touch.prototype.constructor = Touch;

    Touch.prototype.press = function press () {
        // this._holdTimeout = setTimeout($.proxy(this, '_hold'), this.userEvents.minHold);
        this._holdTimeout = setTimeout(proxy(this._hold, this), this.userEvents.minHold);
        this._trigger(PRESS, this.pressEvent);
    };

    Touch.prototype._tap = function _tap (touchInfo) {
        var that = this;

        that.userEvents._clicks++;

        if (that.userEvents._clicks === 1) {
            that._clickTimeout = setTimeout(function() {
                if (that.userEvents._clicks === 1) {
                    that._trigger(TAP, touchInfo);
                } else {
                    that._trigger(DOUBLETAP, touchInfo);
                }

                that.userEvents._clicks = 0;
            }, CLICK_DELAY);
        }
    };

    Touch.prototype._hold = function _hold () {
        this._trigger(HOLD, this.pressEvent);
    };

    /* eslint-disable consistent-return */
    Touch.prototype.move = function move (touchInfo) {
        var that = this;
        var preventMove = touchInfo.type !== 'api' && that.userEvents._shouldNotMove;

        if (that._finished || preventMove) {
            return;
        }

        that.x.move(touchInfo.location);
        that.y.move(touchInfo.location);

        if (!that._moved) {
            if (that._withinIgnoreThreshold()) {
                return;
            }

            if (!UserEvents.current || UserEvents.current === that.userEvents) {
                that._start(touchInfo);
            } else {
                return that.dispose();
            }
        }

        if (!that._finished) {
            that._trigger(MOVE, touchInfo);
        }
    };
    /* eslint-enable consistent-return */

    Touch.prototype.end = function end (touchInfo) {
        this.endTime = now();

        if (this._finished) {
            return;
        }

        this._finished = true;
        this._trigger(RELEASE, touchInfo);

        if (this._moved) {
            this._trigger(END$1, touchInfo);
        } else {
            if (!this.useClickAsTap) {
                if (this.supportDoubleTap) {
                    this._tap(touchInfo);
                } else {
                    this._trigger(TAP, touchInfo);
                }
            }
        }

        clearTimeout(this._holdTimeout);
        this.dispose();
    };

    Touch.prototype.dispose = function dispose () {
        var userEvents = this.userEvents,
            activeTouches = userEvents.touches || [];

        this._finished = true;
        this.pressEvent = null;

        clearTimeout(this._holdTimeout);
        // activeTouches.splice($.inArray(this, activeTouches), 1);
        var activeTouchIndex = activeTouches.indexOf(this);
        activeTouches.splice(activeTouchIndex, 1);
    };

    Touch.prototype.skip = function skip () {
        this.dispose();
    };

    Touch.prototype.cancel = function cancel () {
        this.dispose();
    };

    Touch.prototype.isMoved = function isMoved () {
        return this._moved;
    };

    Touch.prototype._start = function _start (touchInfo) {
        clearTimeout(this._holdTimeout);
        this.startTime = now();
        this._moved = true;
        this._trigger(START$1, touchInfo);
    };

    Touch.prototype._trigger = function _trigger (name, touchInfo) {
        var that = this,
            jQueryEvent = touchInfo.event,
            data = {
                touch: that,
                x: that.x,
                y: that.y,
                target: that.target,
                event: jQueryEvent
            };
        if (that.userEvents.notify(name, data)) {
            jQueryEvent.preventDefault();
        }
    };

    Touch.prototype._withinIgnoreThreshold = function _withinIgnoreThreshold () {
        var xDelta = this.x.initialDelta,
            yDelta = this.y.initialDelta;
        return Math.sqrt(xDelta * xDelta + yDelta * yDelta) <= this.threshold;
    };

    return Touch;
}(_progress_kendoDrawing.Class));

function withEachUpEvent(callback) {
    var eventMap = getEventMap(navigator.userAgent);
    var downEvents = eventMap.up.split(' '),
        idx = 0,
        length = downEvents.length;

    for (; idx < length; idx++) {
        callback(downEvents[idx]);
    }
}

var UserEvents = (function (Observable$$1) {
    function UserEvents(element, options) {
        Observable$$1.call(this);
        var that = this;
        var filter;

        var support$$1 = getSupportedFeatures();
        this.support = support$$1;

        /* eslint-disable no-param-reassign */
        options = options || {};
        /* eslint-enable no-param-reassign */
        this.options = options;

        filter = that.filter = options.filter;
        that.threshold = options.threshold || DEFAULT_THRESHOLD;
        that.minHold = options.minHold || DEFAULT_MIN_HOLD;
        that.touches = [];
        that._maxTouches = options.multiTouch ? 2 : 1;
        that.allowSelection = options.allowSelection;
        that.captureUpIfMoved = options.captureUpIfMoved;
        that.useClickAsTap = !options.fastTap && !support$$1.delayedClick();
        that._clicks = 0;
        that.supportDoubleTap = options.supportDoubleTap;

        var enableGlobalSurface = !support$$1.touch || support$$1.mouseAndTouchPresent;

        extend$14(that, {
            element: element,
            surface: options.global && enableGlobalSurface ?
                element.ownerDocument.documentElement :
                options.surface || element,
            stopPropagation: options.stopPropagation,
            pressed: false
        });

        this._surfaceMoveHandler = proxy(this._move, this);
        on(that.surface, applyEventMap('move'), this._surfaceMoveHandler);

        this._surfaceEndHandler = proxy(this._end, this);
        on(that.surface, applyEventMap('up cancel'), this._surfaceEndHandler);

        this._elementStartHandler = proxy(this._start, this);
        on(element, applyEventMap('down'), filter, this._elementStartHandler);

        if (that.useClickAsTap) {
            this._elementClickHandler = proxy(this._click, this);
            on(element, applyEventMap('click'), filter, this._elementClickHandler);
        }

        if (support$$1.pointers || support$$1.msPointers) {
            if (support$$1.browser.version < 11) {
                var defaultAction = 'pinch-zoom double-tap-zoom';

                element.style['-ms-touch-action'] =
                    options.touchAction && options.touchAction !== 'none' ?
                        defaultAction + ' ' + options.touchAction :
                        defaultAction;

            } else {
                element.style['touch-action'] = options.touchAction || 'none';
            }
        }
        if (options.preventDragEvent) {
            this._elementDragStartHandler = preventDefault$2;
            on(element, applyEventMap('dragstart'), this._elementDragStartHandler);
        }

        // element.on(kendo.applyEventMap('mousedown'), filter, {
        //     root: element
        // } '_select');

        // todo: use root
        this._elementSelectHandler = proxy(this._select, this);
        on(element, applyEventMap('mousedown'), filter, this._elementSelectHandler);

        if (that.captureUpIfMoved && support$$1.eventCapture) {
            var surfaceElement = that.surface,
                preventIfMovingProxy = proxy(that.preventIfMoving, that);

            withEachUpEvent(function(eventName) {
                surfaceElement.addEventListener(eventName, preventIfMovingProxy, true);
            });
        }

        that.bind([
            PRESS,
            HOLD,
            TAP,
            DOUBLETAP,
            START$1,
            MOVE,
            END$1,
            RELEASE,
            CANCEL,
            GESTURESTART,
            GESTURECHANGE,
            GESTUREEND,
            GESTURETAP,
            SELECT$1
        ], options);
    }

    if ( Observable$$1 ) UserEvents.__proto__ = Observable$$1;
    UserEvents.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    UserEvents.prototype.constructor = UserEvents;

    UserEvents.prototype.preventIfMoving = function preventIfMoving (e) {
        if (this._isMoved()) {
            e.preventDefault();
        }
    };

    UserEvents.prototype.destroy = function destroy () {
        var that = this;
        var options = this.options;
        var element = this.element;

        if (that._destroyed) {
            return;
        }

        that._destroyed = true;

        if (that.captureUpIfMoved && this.support.eventCapture) {
            var surfaceElement = that.surface;
            withEachUpEvent(function(eventName) {
                surfaceElement.removeEventListener(eventName, that.preventIfMoving);
            });
        }

        off(that.surface, applyEventMap('move'), this._surfaceMoveHandler);
        off(that.surface, applyEventMap('up cancel'), this._surfaceEndHandler);

        off(element, applyEventMap('down'), this._elementStartHandler);

        if (that.useClickAsTap) {
            off(element, applyEventMap('click'), this._elementClickHandler);
        }

        if (options.preventDragEvent) {
            off(element, applyEventMap('dragstart'), this._elementDragStartHandler);
        }

        off(element, applyEventMap('mousedown'), this._elementSelectHandler);

        that._disposeAll();
        that.unbind();

        delete that.surface;
        delete that.element;
        delete that.currentTarget;
    };

    UserEvents.prototype.capture = function capture () {
        UserEvents.current = this;
    };

    UserEvents.prototype.cancel = function cancel () {
        this._disposeAll();
        this.trigger(CANCEL);
    };

    /* eslint-disable indent */
    UserEvents.prototype.notify = function notify (event, data) {
        var that = this,
            touches = that.touches;
        var eventName = event;

        if (this._isMultiTouch()) {
            switch (eventName) {
                case MOVE:
                    eventName = GESTURECHANGE;
                    break;
                case END$1:
                    eventName = GESTUREEND;
                    break;
                case TAP:
                    eventName = GESTURETAP;
                    break;
                default:
                    break;
            }

            extend$14(data, {
                touches: touches
            }, touchDelta(touches[0], touches[1]));
        }

        return this.trigger(eventName, extend$14(data, {
            type: eventName
        }));
    };
    /* eslint-enable indent */

    UserEvents.prototype.press = function press (x, y, target) {
        this._apiCall('_start', x, y, target);
    };

    UserEvents.prototype.move = function move (x, y) {
        this._apiCall('_move', x, y);
    };

    UserEvents.prototype.end = function end (x, y) {
        this._apiCall('_end', x, y);
    };

    UserEvents.prototype._isMultiTouch = function _isMultiTouch () {
        return this.touches.length > 1;
    };

    UserEvents.prototype._maxTouchesReached = function _maxTouchesReached () {
        return this.touches.length >= this._maxTouches;
    };

    UserEvents.prototype._disposeAll = function _disposeAll () {
        var touches = this.touches;
        while (touches.length > 0) {
            touches.pop().dispose();
        }
    };

    UserEvents.prototype._isMoved = function _isMoved () {
        return grep(this.touches, function(touch) {
            return touch.isMoved();
        }).length;
    };

    UserEvents.prototype._select = function _select (e) {
        if (!this.allowSelection || this.trigger(SELECT$1, { event: e })) {
            e.preventDefault();
        }
    };

    UserEvents.prototype._start = function _start (e) {
        var that = this,
            idx = 0,
            filter = that.filter,
            target,
            touches = getTouches(e),
            length = touches.length,
            touch,
            which = e.which;

        if (which && which > 1 || that._maxTouchesReached()) {
            return;
        }

        UserEvents.current = null;
        that.currentTarget = e.currentTarget;

        if (that.stopPropagation) {
            e.stopPropagation();
        }

        for (; idx < length; idx++) {
            if (that._maxTouchesReached()) {
                break;
            }

            touch = touches[idx];

            if (filter) {
                target = touch.currentTarget;
            } else {
                target = that.element;
            }

            if (target && target.length === 0) {
                continue;
            }

            touch = new Touch(that, target, touch);
            that.touches.push(touch);
            touch.press();

            if (that._isMultiTouch()) {
                that.notify('gesturestart', {});
            }
        }
    };

    UserEvents.prototype._move = function _move (e) {
        this._eachTouch('move', e);
    };

    UserEvents.prototype._end = function _end (e) {
        this._eachTouch('end', e);
    };

    UserEvents.prototype._click = function _click (e) {
        var data = {
            touch: {
                initialTouch: e.target,
                target: e.currentTarget,
                endTime: now(),
                x: {
                    location: e.pageX,
                    client: e.clientX
                },
                y: {
                    location: e.pageY,
                    client: e.clientY
                }
            },
            x: e.pageX,
            y: e.pageY,
            target: e.currentTarget,
            event: e,
            type: 'tap'
        };

        if (this.trigger('tap', data)) {
            e.preventDefault();
        }
    };

    UserEvents.prototype._eachTouch = function _eachTouch (methodName, e) {
        var that = this,
            dict = {},
            touches = getTouches(e),
            activeTouches = that.touches,
            idx,
            touch,
            touchInfo,
            matchingTouch;

        for (idx = 0; idx < activeTouches.length; idx++) {
            touch = activeTouches[idx];
            dict[touch.id] = touch;
        }

        for (idx = 0; idx < touches.length; idx++) {
            touchInfo = touches[idx];
            matchingTouch = dict[touchInfo.id];

            if (matchingTouch) {
                matchingTouch[methodName](touchInfo);
            }
        }
    };

    UserEvents.prototype._apiCall = function _apiCall (type, x, y, target) {
        this[type]({
            api: true,
            pageX: x,
            pageY: y,
            clientX: x,
            clientY: y,
            target: target || this.element,
            stopPropagation: noop,
            preventDefault: noop
        });
    };

    UserEvents.defaultThreshold = function defaultThreshold (value) {
        DEFAULT_THRESHOLD = value;
    };

    UserEvents.minHold = function minHold (value) {
        DEFAULT_MIN_HOLD = value;
    };

    return UserEvents;
}(Observable));

// todo: extract to a separate place

var extend$12 = Object.assign;
var abs$1 = Math.abs;
var SNAPBACK_DURATION = 500;
var SCROLLBAR_OPACITY = 0.7;
var FRICTION$1 = 0.96;
var VELOCITY_MULTIPLIER$1 = 10;
var MAX_VELOCITY = 55;
var OUT_OF_BOUNDS_FRICTION = 0.5;
var ANIMATED_SCROLLER_PRECISION = 5;
var PULL = 'pull';
var CHANGE$2 = 'change';
var RESIZE = 'resize';
var SCROLL = 'scroll';
var MOUSE_WHEEL_ID = 2;

var ZoomSnapBack = (function (Animation$$1) {
    function ZoomSnapBack(options) {
        Animation$$1.call(this, options);
        var that = this;
        extend$12(that, options);
        that.userEvents.bind('gestureend', that.start.bind(this));
        that.tapCapture.bind('press', that.cancel.bind(this));
    }

    if ( Animation$$1 ) ZoomSnapBack.__proto__ = Animation$$1;
    ZoomSnapBack.prototype = Object.create( Animation$$1 && Animation$$1.prototype );
    ZoomSnapBack.prototype.constructor = ZoomSnapBack;

    ZoomSnapBack.prototype.enabled = function enabled () {
        return this.movable.scale < this.dimensions.minScale;
    };

    ZoomSnapBack.prototype.done = function done () {
        return this.dimensions.minScale - this.movable.scale < 0.01;
    };

    ZoomSnapBack.prototype.tick = function tick () {
        var movable = this.movable;
        movable.scaleWith(1.1);
        this.dimensions.rescale(movable.scale);
    };

    ZoomSnapBack.prototype.onEnd = function onEnd () {
        var movable = this.movable;
        movable.scaleTo(this.dimensions.minScale);
        this.dimensions.rescale(movable.scale);
    };

    return ZoomSnapBack;
}(Animation));

var DragInertia = (function (Animation$$1) {
    function DragInertia(options) {
        Animation$$1.call(this);
        var that = this;

        extend$12(that, options, {
            transition: new Transition({
                axis: options.axis,
                movable: options.movable,
                onEnd: function onEnd() {
                    that._end();
                }
            })
        });

        that.tapCapture.bind('press', function() {
            that.cancel();
        });

        that.userEvents.bind('end', proxy(that.start, that));
        that.userEvents.bind('gestureend', proxy(that.start, that));
        that.userEvents.bind('tap', proxy(that.onEnd, that));
    }

    if ( Animation$$1 ) DragInertia.__proto__ = Animation$$1;
    DragInertia.prototype = Object.create( Animation$$1 && Animation$$1.prototype );
    DragInertia.prototype.constructor = DragInertia;

    DragInertia.prototype.onCancel = function onCancel () {
        this.transition.cancel();
    };

    DragInertia.prototype.freeze = function freeze (location) {
        var that = this;
        that.cancel();
        that._moveTo(location);
    };

    DragInertia.prototype.onEnd = function onEnd () {
        var that = this;
        if (that.paneAxis.outOfBounds()) {
            that._snapBack();
        } else {
            that._end();
        }
    };

    DragInertia.prototype.done = function done () {
        return abs$1(this.velocity) < 1;
    };

    DragInertia.prototype.start = function start (e) {
        var that = this,
            velocity;
        if (!that.dimension.enabled) {
            return;
        }
        if (that.paneAxis.outOfBounds()) {
            if (that.transition._started) {
                that.transition.cancel();
                that.velocity = Math.min(e.touch[that.axis].velocity * that.velocityMultiplier, MAX_VELOCITY);
                Animation$$1.prototype.start.call(this);
            } else {
                that._snapBack();
            }
        } else {
            velocity = e.touch.id === MOUSE_WHEEL_ID ? 0 : e.touch[that.axis].velocity;
            that.velocity = Math.max(Math.min(velocity * that.velocityMultiplier, MAX_VELOCITY), -MAX_VELOCITY);
            that.tapCapture.captureNext();
            Animation$$1.prototype.start.call(this);
        }
    };

    DragInertia.prototype.tick = function tick () {
        var that = this,
            dimension = that.dimension,
            friction = that.paneAxis.outOfBounds() ? OUT_OF_BOUNDS_FRICTION : that.friction,
            delta = that.velocity *= friction,
            location = that.movable[that.axis] + delta;

        if (!that.elastic && dimension.outOfBounds(location)) {
            location = Math.max(Math.min(location, dimension.max), dimension.min);
            that.velocity = 0;
        }

        that.movable.moveAxis(that.axis, location);
    };

    DragInertia.prototype._end = function _end () {
        this.tapCapture.cancelCapture();
        this.end();
    };

    DragInertia.prototype._snapBack = function _snapBack () {
        var that = this,
            dimension = that.dimension,
            snapBack = that.movable[that.axis] > dimension.max ? dimension.max : dimension.min;

        that._moveTo(snapBack);
    };

    DragInertia.prototype._moveTo = function _moveTo (location) {
        this.transition.moveTo({
            location: location,
            duration: SNAPBACK_DURATION,
            ease: Transition.easeOutExpo
        });
    };

    return DragInertia;
}(Animation));

var AnimatedScroller = (function (Animation$$1) {
    function AnimatedScroller(options) {
        Animation$$1.call(this, options);
        var that = this;

        extend$12(that, options, {
            origin: {},
            destination: {},
            offset: {}
        });
    }

    if ( Animation$$1 ) AnimatedScroller.__proto__ = Animation$$1;
    AnimatedScroller.prototype = Object.create( Animation$$1 && Animation$$1.prototype );
    AnimatedScroller.prototype.constructor = AnimatedScroller;

    AnimatedScroller.prototype.tick = function tick () {
        this._updateCoordinates();
        this.moveTo(this.origin);
    };

    AnimatedScroller.prototype.done = function done () {
        return abs$1(this.offset.y) < ANIMATED_SCROLLER_PRECISION && abs$1(this.offset.x) < ANIMATED_SCROLLER_PRECISION;
    };

    AnimatedScroller.prototype.onEnd = function onEnd () {
        this.moveTo(this.destination);
        if (this.callback) {
            this.callback.call();
        }
    };

    AnimatedScroller.prototype.setCoordinates = function setCoordinates (from, to) {
        this.offset = {};
        this.origin = from;
        this.destination = to;
    };

    /* eslint-disable no-param-reassign */
    AnimatedScroller.prototype.setCallback = function setCallback (callback) {
        if (callback && isFunction(callback)) {
            this.callback = callback;
        } else {
            callback = undefined;
        }
    };
    /* eslint-enable no-param-reassign */

    AnimatedScroller.prototype._updateCoordinates = function _updateCoordinates () {
        this.offset = {
            x: (this.destination.x - this.origin.x) / 4,
            y: (this.destination.y - this.origin.y) / 4
        };
        this.origin = {
            y: this.origin.y + this.offset.y,
            x: this.origin.x + this.offset.x
        };
    };

    return AnimatedScroller;
}(Animation));

var ScrollBar = (function (Class$$1) {
    function ScrollBar(options) {
        Class$$1.call(this);
        var that = this,
            horizontal = options.axis === 'x';

        var orientation = (horizontal ? 'horizontal' : 'vertical');
        var element = convertToHtml('<div class="km-touch-scrollbar km-' + orientation + '-scrollbar" />');

        extend$12(that, options, {
            element: element,
            elementSize: 0,
            movable: new Movable(element),
            scrollMovable: options.movable,
            alwaysVisible: options.alwaysVisible,
            size: horizontal ? 'width' : 'height'
        });

        that.scrollMovable.bind(CHANGE$2, that.refresh.bind(that));

        that.container.appendChild(element);

        if (options.alwaysVisible) {
            that.show();
        }
    }

    if ( Class$$1 ) ScrollBar.__proto__ = Class$$1;
    ScrollBar.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ScrollBar.prototype.constructor = ScrollBar;

    ScrollBar.prototype.refresh = function refresh () {
        var that = this,
            axis = that.axis,
            dimension = that.dimension,
            paneSize = dimension.size,
            scrollMovable = that.scrollMovable,
            sizeRatio = paneSize / dimension.total,
            position = Math.round(-scrollMovable[axis] * sizeRatio),
            size = Math.round(paneSize * sizeRatio);
        if (sizeRatio >= 1) {
            this.element.style.display = "none";
        } else {
            this.element.style.display = "";
        }
        if (position + size > paneSize) {
            size = paneSize - position;
        } else if (position < 0) {
            size += position;
            position = 0;
        }
        if (that.elementSize !== size) {
            that.element.style[that.size] = size + 'px';
            that.elementSize = size;
        }
        that.movable.moveAxis(axis, position);
    };

    ScrollBar.prototype.show = function show () {
        this.element.style.opacity = SCROLLBAR_OPACITY;
        this.element.style.visibility = "visible";
    };

    ScrollBar.prototype.hide = function hide () {
        if (!this.alwaysVisible) {
            this.element.style.opacity = 0;
        }
    };

    return ScrollBar;
}(_progress_kendoDrawing.Class));

// export class Scroller extends Class {
var Scroller = (function (Observable$$1) {
    function Scroller(element, options) {
        Observable$$1.call(this);
        var that = this;
        this.element = element;

        this._initOptions(options);

        var hasScrolling = hasNativeScrolling(navigator.userAgent);
        that._native = that.options.useNative && hasScrolling;
        var scrollHeader = convertToHtml('<div class="km-scroll-header"/>');

        if (that._native) {
            addClass(element, 'km-native-scroller');
            prepend(scrollHeader, element);

            extend$12(that, {
                scrollElement: element,
                fixedContainer: element.children[0]
            });

            return;
        }

        element.style.overflow = "hidden";
        addClass(element, 'km-scroll-wrapper');

        var scrollContainer = convertToHtml('<div class="km-scroll-container"/>');
        wrapInner(element, scrollContainer);
        prepend(scrollHeader, element);

        var inner = element.children[1],
            tapCapture = new TapCapture(element),
            movable = new Movable(inner),

            dimensions = new PaneDimensions({
                element: inner,
                container: element,
                forcedEnabled: that.options.zoom
            }),
            avoidScrolling = this.options.avoidScrolling,

            userEvents = new UserEvents(element, {
                touchAction: 'pan-y',
                fastTap: true,
                allowSelection: true,
                preventDragEvent: true,
                captureUpIfMoved: true,
                multiTouch: that.options.zoom,
                supportDoubleTap: that.options.supportDoubleTap,
                start: function start(e) {
                    dimensions.refresh();
                    var velocityX = abs$1(e.x.velocity),
                        velocityY = abs$1(e.y.velocity),
                        horizontalSwipe = velocityX * 2 >= velocityY,
                        originatedFromFixedContainer = contains$1(that.fixedContainer, e.event.target),
                        verticalSwipe = velocityY * 2 >= velocityX;
                    if (!originatedFromFixedContainer && !avoidScrolling(e) && that.enabled && (dimensions.x.enabled && horizontalSwipe || dimensions.y.enabled && verticalSwipe)) {
                        userEvents.capture();
                    } else {
                        userEvents.cancel();
                    }
                }
            }),

            pane = new Pane$2({
                movable: movable,
                dimensions: dimensions,
                userEvents: userEvents,
                elastic: that.options.elastic
            }),

            zoomSnapBack = new ZoomSnapBack({
                movable: movable,
                dimensions: dimensions,
                userEvents: userEvents,
                tapCapture: tapCapture
            }),

            animatedScroller = new AnimatedScroller({
                moveTo: function moveTo(coordinates) {
                    that.scrollTo(coordinates.x, coordinates.y);
                }
            });

        movable.bind(CHANGE$2, function() {
            that.scrollTop = -movable.y;
            that.scrollLeft = -movable.x;
            that.trigger(SCROLL, {
                scrollTop: that.scrollTop,
                scrollLeft: that.scrollLeft
            });
        });

        if (that.options.mousewheelScrolling) {
            this._wheelScrollHandler = this._wheelScroll.bind(this);
            on(element, 'DOMMouseScroll mousewheel', this._wheelScrollHandler);
        }

        extend$12(that, {
            movable: movable,
            dimensions: dimensions,
            zoomSnapBack: zoomSnapBack,
            animatedScroller: animatedScroller,
            userEvents: userEvents,
            pane: pane,
            tapCapture: tapCapture,
            pulled: false,
            enabled: true,
            scrollElement: inner,
            scrollTop: 0,
            scrollLeft: 0,
            fixedContainer: element.children[0]
        });

        that._initAxis('x');
        that._initAxis('y');

        that._wheelEnd = function() {
            that._wheel = false;
            that.userEvents.end(0, that._wheelY);
        };

        dimensions.refresh();

        if (that.options.pullToRefresh) {
            that._initPullToRefresh();
        }
    }

    if ( Observable$$1 ) Scroller.__proto__ = Observable$$1;
    Scroller.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    Scroller.prototype.constructor = Scroller;

    Scroller.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    Scroller.prototype._wheelScroll = function _wheelScroll (e) {
        if (e.ctrlKey) {
            return;
        }
        if (!this._wheel) {
            this._wheel = true;
            this._wheelY = 0;
            this.userEvents.press(0, this._wheelY);
        }

        clearTimeout(this._wheelTimeout);
        this._wheelTimeout = setTimeout(this._wheelEnd, 50);
        var delta = wheelDeltaY(e);

        if (delta) {
            this._wheelY += delta;
            this.userEvents.move(0, this._wheelY);
        }

        e.preventDefault();
    };

    Scroller.prototype.makeVirtual = function makeVirtual () {
        this.dimensions.y.makeVirtual();
    };

    Scroller.prototype.virtualSize = function virtualSize (min, max) {
        this.dimensions.y.virtualSize(min, max);
    };

    Scroller.prototype.height = function height () {
        return this.dimensions.y.size;
    };

    Scroller.prototype.scrollHeight = function scrollHeight () {
        return this.scrollElement.scrollHeight;
    };

    Scroller.prototype.scrollWidth = function scrollWidth () {
        return this.scrollElement.scrollWidth;
    };

    Scroller.prototype._resize = function _resize () {
        if (!this._native) {
            this.contentResized();
        }
    };

    Scroller.prototype.setOptions = function setOptions (options) {
        var that = this;

        this._initOptions(options);

        if (options.pullToRefresh) {
            that._initPullToRefresh();
        }
    };

    Scroller.prototype.reset = function reset () {
        if (this._native) {
            this.scrollElement.scrollTop(0);
        } else {
            this.movable.moveTo({
                x: 0,
                y: 0
            });
            this._scale(1);
        }
    };

    Scroller.prototype.contentResized = function contentResized () {
        this.dimensions.refresh();
        if (this.pane.x.outOfBounds()) {
            this.movable.moveAxis('x', this.dimensions.x.min);
        }
        if (this.pane.y.outOfBounds()) {
            this.movable.moveAxis('y', this.dimensions.y.min);
        }
    };

    Scroller.prototype.zoomOut = function zoomOut () {
        var dimensions = this.dimensions;
        dimensions.refresh();
        this._scale(dimensions.fitScale);
        this.movable.moveTo(dimensions.centerCoordinates());
    };

    Scroller.prototype.enable = function enable () {
        this.enabled = true;
    };

    Scroller.prototype.disable = function disable () {
        this.enabled = false;
    };

    Scroller.prototype.scrollTo = function scrollTo (x, y) {
        if (this._native) {
            this.scrollElement.scrollLeft(abs$1(x));
            this.scrollElement.scrollTop(abs$1(y));
        } else {
            this.dimensions.refresh();
            this.movable.moveTo({
                x: x,
                y: y
            });
        }
    };

    Scroller.prototype.animatedScrollTo = function animatedScrollTo (x, y, callback) {
        var from, to;
        if (this._native) {
            this.scrollTo(x, y);
        } else {
            from = {
                x: this.movable.x,
                y: this.movable.y
            };
            to = {
                x: x,
                y: y
            };
            this.animatedScroller.setCoordinates(from, to);
            this.animatedScroller.setCallback(callback);
            this.animatedScroller.start();
        }
    };

    // kept for API compatibility, not used
    Scroller.prototype.pullHandled = function pullHandled () {
        // let that = this;

        // removeClass(that.refreshHint, SCROLLER_REFRESH_CLASS);
        // that.hintContainer.innerHTML = that.pullTemplate({}));

        // that.yinertia.onEnd();
        // that.xinertia.onEnd();
        // that.userEvents.cancel();
    };

    Scroller.prototype.destroy = function destroy () {
        var element = this.element;

        off(element, 'DOMMouseScroll mousewheel', this._wheelScrollHandler);

        if (this.userEvents) {
            this.userEvents.destroy();
        }
    };

    Scroller.prototype._scale = function _scale (scale) {
        this.dimensions.rescale(scale);
        this.movable.scaleTo(scale);
    };

    Scroller.prototype._initPullToRefresh = function _initPullToRefresh () {
    };

    // kept for API compatibility, not used
    Scroller.prototype._dragEnd = function _dragEnd () {
        // let that = this;

        // if (!that.pulled) {
        //     return;
        // }

        // that.pulled = false;

        // removeClass(that.refreshHint, SCROLLER_RELEASE_CLASS);
        // addClass(that.refreshHint, SCROLLER_REFRESH_CLASS);

        // that.hintContainer.innerHTML = that.refreshTemplate({});

        // that.yinertia.freeze(that.options.pullOffset / 2);
        // that.trigger('pull');
    };

    // kept for API compatibility, not used
    Scroller.prototype._paneChange = function _paneChange () {
        // let that = this;
        // if (that.movable.y / OUT_OF_BOUNDS_FRICTION > that.options.pullOffset) {
        //     if (!that.pulled) {
        //         that.pulled = true;
        //         that.refreshHint.removeClass(SCROLLER_REFRESH_CLASS).addClass(SCROLLER_RELEASE_CLASS);
        //         that.hintContainer.html(that.releaseTemplate({}));
        //         that.hintContainer.html(that.releaseTemplate({}));
        //     }
        // } else if (that.pulled) {
        //     that.pulled = false;
        //     that.refreshHint.removeClass(SCROLLER_RELEASE_CLASS);
        //     that.hintContainer.html(that.pullTemplate({}));
        // }
    };

    Scroller.prototype._initAxis = function _initAxis (axis) {
        var that = this,
            movable = that.movable,
            dimension = that.dimensions[axis],
            tapCapture = that.tapCapture,
            paneAxis = that.pane[axis],
            scrollBar = new ScrollBar({
                axis: axis,
                movable: movable,
                dimension: dimension,
                container: that.element,
                alwaysVisible: that.options.visibleScrollHints
            });

        dimension.bind(CHANGE$2, function() {
            scrollBar.refresh();
        });

        paneAxis.bind(CHANGE$2, function() {
            scrollBar.show();
        });

        that[axis + 'inertia'] = new DragInertia({
            axis: axis,
            paneAxis: paneAxis,
            movable: movable,
            tapCapture: tapCapture,
            userEvents: that.userEvents,
            dimension: dimension,
            elastic: that.options.elastic,
            friction: that.options.friction || FRICTION$1,
            velocityMultiplier: that.options.velocityMultiplier || VELOCITY_MULTIPLIER$1,
            end: function end() {
                scrollBar.hide();
                that.trigger('scrollEnd', {
                    axis: axis,
                    scrollTop: that.scrollTop,
                    scrollLeft: that.scrollLeft
                });
            }
        });
    };

    return Scroller;
}(Observable));

setDefaultOptions(Scroller, {
    name: 'Scroller',
    zoom: false,
    pullOffset: 140,
    visibleScrollHints: false,
    elastic: true,
    useNative: false,
    mousewheelScrolling: true,
    avoidScrolling: function avoidScrolling() {
        return false;
    },
    pullToRefresh: false,
    messages: {
        pullTemplate: 'Pull to refresh',
        releaseTemplate: 'Release to refresh',
        refreshTemplate: 'Refreshing'
    }
});

setDefaultEvents(Scroller, [
    PULL,
    SCROLL,
    RESIZE
]);

var MapService = function MapService(widget, context) {
    if ( context === void 0 ) context = {};

    this.sender = context.sender || widget;
    this.widget = widget;
    this.rtl = Boolean(context.rtl);
};

MapService.prototype.notify = function notify (name, args) {
    if (this.widget) {
        this.widget.trigger(name, args);
    }
};

var math = Math;
var min = math.min;
var pow = math.pow;
var Point$4 = _progress_kendoDrawing.geometry.Point;
var MARKER = "marker";
var LOCATION = "location";
var FRICTION = 0.9;
var FRICTION_MOBILE = 0.93;
var MOUSEWHEEL$1 = 'DOMMouseScroll mousewheel';
var VELOCITY_MULTIPLIER = 5;
var DEFAULT_ZOOM_RATE = 1;

var layersMap = {
    bubble: BubbleLayer,
    shape: ShapeLayer,
    tile: TileLayer
};
layersMap[MARKER] = MarkerLayer;

function renderPos(pos) {
    var result = [];

    if (pos) {
        var parts = toHyphens(pos).split("-");

        for (var i = 0; i < parts.length; i++) {
            result.push("k-pos-" + parts[i]);
        }
    }

    return result.join(" ");
}

var Map = (function (Observable$$1) {
    function Map(element, options, themeOptions, context) {
        if ( options === void 0 ) options = {};
        if ( themeOptions === void 0 ) themeOptions = {};
        if ( context === void 0 ) context = {};

        Observable$$1.call(this);


        this._init(element, options, themeOptions, context);
    }

    if ( Observable$$1 ) Map.__proto__ = Observable$$1;
    Map.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    Map.prototype.constructor = Map;

    Map.prototype.destroy = function destroy () {
        var this$1 = this;

        this.scroller.destroy();

        if (this.navigator) {
            this.navigator.destroy();
        }
        if (this.attribution) {
            this.attribution.destroy();
        }
        if (this.zoomControl) {
            this.zoomControl.destroy();
        }

        if (isArray(this.markers)) {
            this.markers.forEach(function (markerLayer) {
                markerLayer.destroy();
            });
        } else {
            this.markers.destroy();
        }

        for (var i = 0; i < this.layers.length; i++) {
            this$1.layers[i].destroy();
        }

        off(this.element, MOUSEWHEEL$1, this._mousewheelHandler);

        Observable$$1.prototype.destroy.call(this);
    };

    Map.prototype._init = function _init (element, options, themeOptions, context) {
        if ( options === void 0 ) options = {};
        if ( themeOptions === void 0 ) themeOptions = {};
        if ( context === void 0 ) context = {};

        this.support = getSupportedFeatures();
        this.context = context;

        this.initObserver(context);
        this.initServices(context);

        this._initOptions(options);
        this._setEvents(options);
        this.crs = new EPSG3857();

        this._initElement(element);

        this._viewOrigin = this._getOrigin();

        this._initScroller();
        this._initMarkers();
        this._initControls();
        this._initLayers();
        this._reset();

        this._mousewheelHandler = this._mousewheel.bind(this);
        on(this.element, MOUSEWHEEL$1, this._mousewheelHandler);
    };

    Map.prototype._initOptions = function _initOptions (options) {
        this.options = deepExtend({}, this.options, options);
    };

    Map.prototype._initElement = function _initElement (element) {
        this.element = element;

        addClass(element, "k-map");
        element.style.position = "relative";
        element.setAttribute("data-role", "map");
        removeChildren(element);

        var div = convertToHtml("<div />");
        this.element.appendChild(div);
    };

    Map.prototype.initServices = function initServices (context) {
        if ( context === void 0 ) context = {};

        this.widgetService = new MapService(this, context);
    };

    Map.prototype.initObserver = function initObserver (context) {
        if ( context === void 0 ) context = {};

        this.observers = [];
        this.addObserver(context.observer);
    };

    Map.prototype.addObserver = function addObserver (observer) {
        if (observer) {
            this.observers.push(observer);
        }
    };

    Map.prototype.removeObserver = function removeObserver (observer) {
        var index = this.observers.indexOf(observer);

        if (index >= 0) {
            this.observers.splice(index, 1);
        }
    };

    Map.prototype.requiresHandlers = function requiresHandlers (eventNames) {
        var observers = this.observers;

        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].requiresHandlers(eventNames)) {
                return true;
            }
        }
    };

    Map.prototype.trigger = function trigger (name, args) {
        if ( args === void 0 ) args = {};

        args.sender = this;

        var observers = this.observers;
        var isDefaultPrevented = false;

        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].trigger(name, args)) {
                isDefaultPrevented = true;
            }
        }

        if (!isDefaultPrevented) {
            Observable$$1.prototype.trigger.call(this, name, args);
        }

        return isDefaultPrevented;
    };

    Map.prototype._notifyObserver = function _notifyObserver (name, args) {
        if ( args === void 0 ) args = {};

        args.sender = this;

        var observers = this.observers;
        var isDefaultPrevented = false;

        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].trigger(name, args)) {
                isDefaultPrevented = true;
            }
        }

        return isDefaultPrevented;
    };

    Map.prototype.zoom = function zoom (level) {
        var options = this.options;
        var result;

        if (defined(level)) {
            var zoomLevel = math.round(limitValue(level, options.minZoom, options.maxZoom));

            if (options.zoom !== zoomLevel) {
                options.zoom = zoomLevel;
                this._reset();
            }
            result = this;
        } else {
            result = options.zoom;
        }

        return result;
    };

    Map.prototype.center = function center (center) {
        var result;

        if (center) {
            this.options.center = Location.create(center).toArray();
            this._reset();
            result = this;
        } else {
            result = Location.create(this.options.center);
        }

        return result;
    };

    Map.prototype.extent = function extent (extent) {
        var result;

        if (extent) {
            this._setExtent(extent);
            result = this;
        } else {
            result = this._getExtent();
        }

        return result;
    };

    Map.prototype.setOptions = function setOptions (options) {
        if ( options === void 0 ) options = {};

        var element = this.element;

        this.destroy();
        removeChildren(element);
        this._init(element, options, {}, this.context);

        this._reset();
    };

    Map.prototype.locationToLayer = function locationToLayer (location, zoom) {
        var clamp = !this.options.wraparound;
        var locationObject = Location.create(location);

        return this.crs.toPoint(locationObject, this._layerSize(zoom), clamp);
    };

    Map.prototype.layerToLocation = function layerToLocation (point, zoom) {
        var clamp = !this.options.wraparound;
        var pointObject = Point$4.create(point);

        return this.crs.toLocation(pointObject, this._layerSize(zoom), clamp);
    };

    Map.prototype.locationToView = function locationToView (location) {
        var locationObject = Location.create(location);
        var origin = this.locationToLayer(this._viewOrigin);
        var point = this.locationToLayer(locationObject);

        return point.translateWith(origin.scale(-1));
    };

    Map.prototype.viewToLocation = function viewToLocation (point, zoom) {
        var origin = this.locationToLayer(this._getOrigin(), zoom);
        var pointObject = Point$4.create(point);
        var pointResult = pointObject.clone().translateWith(origin);

        return this.layerToLocation(pointResult, zoom);
    };

    Map.prototype.eventOffset = function eventOffset (e) {
        var x;
        var y;
        var offset = elementOffset(this.element);

        if ((e.x && e.x[LOCATION]) || (e.y && e.y[LOCATION])) {
            x = e.x[LOCATION] - offset.left;
            y = e.y[LOCATION] - offset.top;
        } else {
            var event = e.originalEvent || e;
            x = valueOrDefault(event.pageX, event.clientX) - offset.left;
            y = valueOrDefault(event.pageY, event.clientY) - offset.top;
        }

        var point = new _progress_kendoDrawing.geometry.Point(x, y);

        return point;
    };

    Map.prototype.eventToView = function eventToView (e) {
        var cursor = this.eventOffset(e);
        return this.locationToView(this.viewToLocation(cursor));
    };

    Map.prototype.eventToLayer = function eventToLayer (e) {
        return this.locationToLayer(this.eventToLocation(e));
    };

    Map.prototype.eventToLocation = function eventToLocation (e) {
        var cursor = this.eventOffset(e);
        return this.viewToLocation(cursor);
    };

    Map.prototype.viewSize = function viewSize () {
        var element = this.element;
        var scale = this._layerSize();
        var width = element.clientWidth;

        if (!this.options.wraparound) {
            width = min(scale, width);
        }

        return {
            width: width,
            height: min(scale, element.clientHeight)
        };
    };

    Map.prototype.exportVisual = function exportVisual () {
        this._reset();
        return false;
    };

    Map.prototype._setOrigin = function _setOrigin (origin, zoom) {
        var size = this.viewSize(),
            topLeft;

        var originLocation = this._origin = Location.create(origin);
        topLeft = this.locationToLayer(originLocation, zoom);
        topLeft.x += size.width / 2;
        topLeft.y += size.height / 2;
        this.options.center = this.layerToLocation(topLeft, zoom).toArray();

        return this;
    };

    Map.prototype._getOrigin = function _getOrigin (invalidate) {
        var size = this.viewSize(),
            topLeft;

        if (invalidate || !this._origin) {
            topLeft = this.locationToLayer(this.center());
            topLeft.x -= size.width / 2;
            topLeft.y -= size.height / 2;
            this._origin = this.layerToLocation(topLeft);
        }

        return this._origin;
    };

    Map.prototype._setExtent = function _setExtent (newExtent) {
        var this$1 = this;

        var raw = Extent.create(newExtent);
        var se = raw.se.clone();

        if (this.options.wraparound && se.lng < 0 && newExtent.nw.lng > 0) {
            se.lng = 180 + (180 + se.lng);
        }

        var extent = new Extent(raw.nw, se);
        this.center(extent.center());
        var width = this.element.clientWidth;
        var height = this.element.clientHeight;
        var zoom;

        for (zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {
            var topLeft = this$1.locationToLayer(extent.nw, zoom);
            var bottomRight = this$1.locationToLayer(extent.se, zoom);
            var layerWidth = math.abs(bottomRight.x - topLeft.x);
            var layerHeight = math.abs(bottomRight.y - topLeft.y);

            if (layerWidth <= width && layerHeight <= height) {
                break;
            }
        }

        this.zoom(zoom);
    };

    Map.prototype._getExtent = function _getExtent () {
        var nw = this._getOrigin();
        var bottomRight = this.locationToLayer(nw);
        var size = this.viewSize();

        bottomRight.x += size.width;
        bottomRight.y += size.height;

        var se = this.layerToLocation(bottomRight);

        return new Extent(nw, se);
    };

    Map.prototype._zoomAround = function _zoomAround (pivot, level) {
        this._setOrigin(this.layerToLocation(pivot, level), level);
        this.zoom(level);
    };

    Map.prototype._initControls = function _initControls () {
        var controls = this.options.controls;
        if (controls.attribution) {
            this._createAttribution(controls.attribution);
        }

        if (!this.support.mobileOS) {
            if (controls.navigator) {
                this._createNavigator(controls.navigator);
            }

            if (controls.zoom) {
                this._createZoomControl(controls.zoom);
            }
        }
    };

    Map.prototype._createControlElement = function _createControlElement (options, defaultPosition) {
        var pos = options.position || defaultPosition;
        var posSelector = '.' + renderPos(pos).replace(' ', '.');
        var wrap = this.element.querySelector('.k-map-controls' + posSelector) || [];

        if (wrap.length === 0) {
            var div$1 = document.createElement("div");
            addClass(div$1, 'k-map-controls ' + renderPos(pos));
            wrap = div$1;
            this.element.appendChild(wrap);
        }

        var div = document.createElement("div");

        wrap.appendChild(div);

        return div;
    };

    Map.prototype._createAttribution = function _createAttribution (options) {
        var element = this._createControlElement(options, 'bottomRight');
        this.attribution = new Attribution(element, options);
    };

    Map.prototype._createNavigator = function _createNavigator (options) {
        var element = this._createControlElement(options, 'topLeft');
        var navigator = this.navigator = new Navigator$2(element, options);

        this._navigatorPan = this._navigatorPan.bind(this);
        navigator.bind('pan', this._navigatorPan);

        this._navigatorCenter = this._navigatorCenter.bind(this);
        navigator.bind('center', this._navigatorCenter);
    };

    Map.prototype._navigatorPan = function _navigatorPan (e) {
        var scroller = this.scroller;
        var x = scroller.scrollLeft + e.x;
        var y = scroller.scrollTop - e.y;
        var bounds = this._virtualSize;
        var width = this.element.clientWidth;
        var height = this.element.clientHeight;

        // TODO: Move limits to scroller
        x = limitValue(x, bounds.x.min, bounds.x.max - width);
        y = limitValue(y, bounds.y.min, bounds.y.max - height);

        this.scroller.one('scroll', proxy(this._scrollEnd, this));

        this.scroller.scrollTo(-x, -y);
    };

    Map.prototype._navigatorCenter = function _navigatorCenter () {
        this.center(this.options.center);
    };

    Map.prototype._createZoomControl = function _createZoomControl (options) {
        var element = this._createControlElement(options, 'topLeft');
        var zoomControl = this.zoomControl = new ZoomControl(element, options);

        this._zoomControlChange = this._zoomControlChange.bind(this);
        zoomControl.bind('change', this._zoomControlChange);
    };

    Map.prototype._zoomControlChange = function _zoomControlChange (e) {
        if (!this.trigger('zoomStart', { originalEvent: e })) {
            this.zoom(this.zoom() + e.delta);

            this.trigger('zoomEnd', {
                originalEvent: e
            });
        }
    };

    Map.prototype._initScroller = function _initScroller () {
        var friction = this.support.mobileOS ? FRICTION_MOBILE : FRICTION;
        var zoomable = this.options.zoomable !== false;
        var scroller = this.scroller = new Scroller(this.element.children[0], {
            friction: friction,
            velocityMultiplier: VELOCITY_MULTIPLIER,
            zoom: zoomable,
            mousewheelScrolling: false,
            supportDoubleTap: true
        });

        scroller.bind('scroll', proxy(this._scroll, this));
        scroller.bind('scrollEnd', proxy(this._scrollEnd, this));

        scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));
        scroller.userEvents.bind('gestureend', proxy(this._scale, this));
        scroller.userEvents.bind('doubleTap', proxy(this._doubleTap, this));
        scroller.userEvents.bind('tap', proxy(this._tap, this));

        this.scrollElement = scroller.scrollElement;
    };

    Map.prototype._initLayers = function _initLayers () {
        var this$1 = this;

        var defs = this.options.layers,
            layers = this.layers = [];

        for (var i = 0; i < defs.length; i++) {
            var options = defs[i];

            var layer = this$1._createLayer(options);
            layers.push(layer);
        }
    };

    Map.prototype._createLayer = function _createLayer (options) {
        var type = options.type || 'shape';
        var layerDefaults = this.options.layerDefaults[type];
        var layerOptions = type === MARKER ?
            deepExtend({}, this.options.markerDefaults, options) :
            deepExtend({}, layerDefaults, options);

        var layerConstructor = layersMap[type];
        var layer = new layerConstructor(this, layerOptions);

        if (type === MARKER) {
            this.markers = layer;
        }

        return layer;
    };

    /* eslint-disable arrow-body-style */
    Map.prototype._initMarkers = function _initMarkers () {
        var markerLayers = (this.options.layers || []).filter(function (x) {
            return x && x.type === MARKER;
        });

        if (markerLayers.length > 0) {
            // render the markers from options.layers
            // instead of options.markers
            return;
        }

        this.markers = new MarkerLayer(this, this.options.markerDefaults);
        this.markers.add(this.options.markers);
    };
    /* eslint-enable arrow-body-style */

    Map.prototype._scroll = function _scroll (e) {
        var origin = this.locationToLayer(this._viewOrigin).round();
        var movable = e.sender.movable;
        var offset = new _progress_kendoDrawing.geometry.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);

        origin.x += offset.x;
        origin.y += offset.y;
        this._scrollOffset = offset;

        this._setOrigin(this.layerToLocation(origin));

        this.trigger('pan', {
            originalEvent: e,
            origin: this._getOrigin(),
            center: this.center()
        });
    };

    Map.prototype._scrollEnd = function _scrollEnd (e) {
        if (!this._scrollOffset || !this._panComplete()) {
            return;
        }

        this._scrollOffset = null;
        this._panEndTimestamp = now();

        this.trigger('panEnd', {
            originalEvent: e,
            origin: this._getOrigin(),
            center: this.center()
        });
    };

    Map.prototype._panComplete = function _panComplete () {
        return now() - (this._panEndTimestamp || 0) > 50;
    };

    Map.prototype._scaleStart = function _scaleStart (e) {
        if (this.trigger('zoomStart', { originalEvent: e })) {
            var touch = e.touches[1];

            if (touch) {
                touch.cancel();
            }
        }
    };

    Map.prototype._scale = function _scale (e) {
        var scale = this.scroller.movable.scale;
        var zoom = this._scaleToZoom(scale);
        var gestureCenter = new _progress_kendoDrawing.geometry.Point(e.center.x, e.center.y);
        var centerLocation = this.viewToLocation(gestureCenter, zoom);
        var centerPoint = this.locationToLayer(centerLocation, zoom);
        var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);

        this._zoomAround(originPoint, zoom);

        this.trigger('zoomEnd', {
            originalEvent: e
        });
    };

    Map.prototype._scaleToZoom = function _scaleToZoom (scaleDelta) {
        var scale = this._layerSize() * scaleDelta;
        var tiles = scale / this.options.minSize;
        var zoom = math.log(tiles) / math.log(2);

        return math.round(zoom);
    };

    Map.prototype._reset = function _reset () {
        if (this.attribution) {
            this.attribution.filter(this.center(), this.zoom());
        }

        this._viewOrigin = this._getOrigin(true);

        this._resetScroller();

        this.trigger('beforeReset');
        this.trigger('reset');
    };

    Map.prototype._resetScroller = function _resetScroller () {
        var scroller = this.scroller;
        var x = scroller.dimensions.x;
        var y = scroller.dimensions.y;
        var scale = this._layerSize();
        var nw = this.extent().nw;
        var topLeft = this.locationToLayer(nw).round();

        scroller.movable.round = true;
        scroller.reset();
        scroller.userEvents.cancel();

        var zoom = this.zoom();

        scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);
        scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);

        var xBounds = {
            min: -topLeft.x,
            max: scale - topLeft.x
        };

        var yBounds = {
            min: -topLeft.y,
            max: scale - topLeft.y
        };

        if (this.options.wraparound) {
            xBounds.max = 20 * scale;
            xBounds.min = -xBounds.max;
        }

        if (this.options.pannable === false) {
            var viewSize = this.viewSize();
            xBounds.min = yBounds.min = 0;
            xBounds.max = viewSize.width;
            yBounds.max = viewSize.height;
        }

        x.makeVirtual();
        y.makeVirtual();

        x.virtualSize(xBounds.min, xBounds.max);
        y.virtualSize(yBounds.min, yBounds.max);

        this._virtualSize = {
            x: xBounds,
            y: yBounds
        };
    };

    // kept for API compatibility, not used
    Map.prototype._renderLayers = function _renderLayers () {
    };

    Map.prototype._layerSize = function _layerSize (zoom) {
        var newZoom = valueOrDefault(zoom, this.options.zoom);
        return this.options.minSize * pow(2, newZoom);
    };

    Map.prototype._tap = function _tap (e) {
        if (!this._panComplete()) {
            return;
        }

        var cursor = this.eventOffset(e);

        this.trigger('click', {
            originalEvent: e,
            location: this.viewToLocation(cursor)
        });
    };

    Map.prototype._doubleTap = function _doubleTap (e) {
        var options = this.options;

        if (options.zoomable !== false) {
            if (!this.trigger('zoomStart', { originalEvent: e })) {
                var toZoom = this.zoom() + DEFAULT_ZOOM_RATE;
                var cursor = this.eventOffset(e);
                var location = this.viewToLocation(cursor);
                var postZoom = this.locationToLayer(location, toZoom);
                var origin = postZoom.translate(-cursor.x, -cursor.y);

                this._zoomAround(origin, toZoom);

                this.trigger('zoomEnd', {
                    originalEvent: e
                });
            }
        }
    };

    Map.prototype._mousewheel = function _mousewheel (e) {
        e.preventDefault();
        var delta = mousewheelDelta(e) > 0 ? -1 : 1;
        var options = this.options;
        var fromZoom = this.zoom();
        var toZoom = limitValue(fromZoom + delta, options.minZoom, options.maxZoom);

        if (options.zoomable !== false && toZoom !== fromZoom) {
            if (!this.trigger('zoomStart', { originalEvent: e })) {
                var cursor = this.eventOffset(e);
                var location = this.viewToLocation(cursor);
                var postZoom = this.locationToLayer(location, toZoom);
                var origin = postZoom.translate(-cursor.x, -cursor.y);

                this._zoomAround(origin, toZoom);

                this.trigger('zoomEnd', {
                    originalEvent: e
                });
            }
        }
    };

    return Map;
}(Observable));

setDefaultOptions(Map, {
    name: 'Map',
    controls: {
        attribution: true,
        navigator: {
            panStep: 100
        },
        zoom: true
    },
    layers: [],
    layerDefaults: {
        shape: {
            style: {
                fill: {
                    color: '#fff'
                },
                stroke: {
                    color: '#aaa',
                    width: 0.5
                }
            }
        },
        bubble: {
            style: {
                fill: {
                    color: '#fff',
                    opacity: 0.5
                },
                stroke: {
                    color: '#aaa',
                    width: 0.5
                }
            }
        },
        marker: {
            shape: 'pinTarget',
            tooltip: {
                position: 'top'
            }
        }
    },
    center: [
        0,
        0
    ],
    zoom: 3,
    minSize: 256,
    minZoom: 1,
    maxZoom: 19,
    markers: [],
    markerDefaults: {
        shape: 'pinTarget',
        tooltip: {
            position: 'top'
        }
    },
    wraparound: true,
    // If set to true, GeoJSON layer "Point" features will be rendered as markers.
    // Otherwise, the points will be rendered as circles.
    // Defaults to `true` for KUI/jQuery, `false` everywhere else.
    renderPointsAsMarkers: false
});

setDefaultEvents(Map, [
    'beforeReset',
    'click',
    'markerActivate',
    'markerClick',
    'markerCreated',

    // Events for implementing custom tooltips.
    'markerMouseEnter',
    'markerMouseLeave',

    'pan',
    'panEnd',
    'reset',
    'shapeClick',
    'shapeCreated',
    'shapeFeatureCreated',
    'shapeMouseEnter',
    'shapeMouseLeave',
    'zoomEnd',
    'zoomStart'
]);

var BAR_GAP = 1.5;
var BAR_SPACING = 0.4;
var BLACK$1 = '#000';
var SANS = 'Arial, Helvetica, sans-serif';
var SANS11 = "11px " + SANS;
var SANS12 = '12px ' + SANS;
var SANS16 = '16px ' + SANS;
var TRANSPARENT = 'transparent';
var WHITE$1 = '#fff';

var notes = function () { return ({
    icon: {
        border: {
            width: 1
        }
    },
    label: {
        font: SANS12,
        padding: 3
    },
    line: {
        length: 10,
        width: 2
    },
    visible: true
}); };

var axisDefaults = function () { return ({
    labels: {
        font: SANS12
    },
    notes: notes(),
    title: {
        font: SANS16,
        margin: 5
    }
}); };

var areaSeries = function () { return ({
    highlight: {
        markers: {
            border: {}
        }
    },
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.4
}); };

var rangeAreaSeries = function () { return ({
    highlight: {
        markers: {
            border: {}
        }
    },
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.4
}); };

var barSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var boxPlotSeries = function () { return ({
    outliersField: "",
    meanField: "",
    border: {
        _brightness: 0.8,
        width: 1
    },
    downColor: WHITE$1,
    gap: 1,
    highlight: {
        border: {
            opacity: 1,
            width: 2
        },
        whiskers: {
            width: 3
        },
        mean: {
            width: 2
        },
        median: {
            width: 2
        }
    },
    mean: {
        width: 2
    },
    median: {
        width: 2
    },
    spacing: 0.3,
    whiskers: {
        width: 2
    }
}); };

var bubbleSeries = function () { return ({
    border: {
        width: 0
    },
    labels: {
        background: TRANSPARENT
    },
    opacity: 0.6
}); };

var bulletSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING,
    target: {
        color: "#ff0000"
    }
}); };

var candlestickSeries = function () { return ({
    border: {
        _brightness: 0.8,
        width: 1
    },
    downColor: WHITE$1,
    gap: 1,
    highlight: {
        border: {
            opacity: 1,
            width: 2
        },
        line: {
            width: 2
        }
    },
    line: {
        color: BLACK$1,
        width: 1
    },
    spacing: 0.3
}); };

var columnSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var donutSeries = function () { return ({
    margin: 1
}); };

var lineSeries = function () { return ({
    width: 2
}); };

var ohlcSeries = function () { return ({
    gap: 1,
    highlight: {
        line: {
            opacity: 1,
            width: 3
        }
    },
    line: {
        width: 1
    },
    spacing: 0.3
}); };

var radarAreaSeries = function () { return ({
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.5
}); };

var radarLineSeries = function () { return ({
    markers: {
        visible: false
    },
    width: 2
}); };

var rangeBarSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var rangeColumnSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var scatterLineSeries = function () { return ({
    width: 1
}); };

var waterfallSeries = function () { return ({
    gap: 0.5,
    line: {
        color: BLACK$1,
        width: 1
    },
    spacing: BAR_SPACING
}); };

var pieSeries = function () { return ({
    labels: {
        background: '',
        color: '',
        padding: {
            top: 5,
            bottom: 5,
            left: 7,
            right: 7
        }
    }
}); };

var funnelSeries = function () { return ({
    labels: {
        background: '',
        color: '',
        padding: {
            top: 5,
            bottom: 5,
            left: 7,
            right: 7
        }
    }
}); };

var heatmapSeries = function () { return ({
    labels: {
        color: '',
        background: TRANSPARENT,
        visible: true
    },
    highlight: {
        border: {
            width: 0
        }
    }
}); };

var seriesDefaults = function (options) { return ({
    visible: true,
    labels: {
        font: SANS11
    },
    overlay: options.gradients ? {} : {
        gradient: "none"
    },
    area: areaSeries(),
    rangeArea: rangeAreaSeries(),
    verticalRangeArea: rangeAreaSeries(),
    bar: barSeries(),
    boxPlot: boxPlotSeries(),
    bubble: bubbleSeries(),
    bullet: bulletSeries(),
    candlestick: candlestickSeries(),
    column: columnSeries(),
    heatmap: heatmapSeries(),
    pie: pieSeries(),
    donut: donutSeries(),
    funnel: funnelSeries(),
    horizontalWaterfall: waterfallSeries(),
    line: lineSeries(),
    notes: notes(),
    ohlc: ohlcSeries(),
    radarArea: radarAreaSeries(),
    radarLine: radarLineSeries(),
    polarArea: radarAreaSeries(),
    polarLine: radarLineSeries(),
    rangeBar: rangeBarSeries(),
    rangeColumn: rangeColumnSeries(),
    scatterLine: scatterLineSeries(),
    verticalArea: areaSeries(),
    verticalBoxPlot: boxPlotSeries(),
    verticalBullet: bulletSeries(),
    verticalLine: lineSeries(),
    waterfall: waterfallSeries()
}); };

var title = function () { return ({
    font: SANS16
}); };

var legend = function () { return ({
    labels: {
        font: SANS12
    }
}); };

var baseTheme = function (options) {
    if ( options === void 0 ) options = {};

    return ({
    axisDefaults: axisDefaults(),
    categoryAxis: {
        majorGridLines: {
            visible: true
        }
    },
    navigator: {
        pane: {
            height: 90,
            margin: {
                top: 10
            }
        }
    },
    seriesDefaults: seriesDefaults(options),
    title: title(),
    legend: legend()
});
};

exports.chartBaseTheme = baseTheme;
exports.autoMajorUnit = autoMajorUnit;
exports.Point = Point;
exports.Box = Box;
exports.Ring = Ring;
exports.Sector = Sector;
exports.ShapeBuilder = ShapeBuilder;
exports.ShapeElement = ShapeElement;
exports.ChartElement = ChartElement;
exports.BoxElement = BoxElement;
exports.RootElement = RootElement;
exports.FloatElement = FloatElement;
exports.Text = Text;
exports.TextBox = TextBox;
exports.Title = Title;
exports.AxisLabel = AxisLabel;
exports.Axis = Axis;
exports.Note = Note;
exports.CategoryAxis = CategoryAxis;
exports.DateCategoryAxis = DateCategoryAxis;
exports.DateValueAxis = DateValueAxis;
exports.NumericAxis = NumericAxis;
exports.LogarithmicAxis = LogarithmicAxis;
exports.PolarAxis = PolarAxis;
exports.RadarCategoryAxis = RadarCategoryAxis;
exports.RadarNumericAxis = RadarNumericAxis;
exports.RadarLogarithmicAxis = RadarLogarithmicAxis;
exports.CurveProcessor = CurveProcessor;
exports.Gradients = GRADIENTS;
exports.rectToBox = rectToBox;
exports.Aggregates = Aggregates;
exports.AreaChart = AreaChart;
exports.AreaSegment = AreaSegment;
exports.AxisGroupRangeTracker = AxisGroupRangeTracker;
exports.Bar = Bar;
exports.BarChart = BarChart;
exports.BarLabel = BarLabel;
exports.BoxPlotChart = BoxPlotChart;
exports.BoxPlot = BoxPlot;
exports.BubbleChart = BubbleChart;
exports.Bullet = Bullet;
exports.BulletChart = BulletChart;
exports.CandlestickChart = CandlestickChart;
exports.Candlestick = Candlestick;
exports.CategoricalChart = CategoricalChart;
exports.CategoricalErrorBar = CategoricalErrorBar;
exports.CategoricalPlotArea = CategoricalPlotArea;
exports.Chart = Chart;
exports.ChartContainer = ChartContainer;
exports.ClipAnimation = ClipAnimation;
exports.ClusterLayout = ClusterLayout;
exports.Crosshair = Crosshair;
exports.CrosshairTooltip = CrosshairTooltip;
exports.DefaultAggregates = DefaultAggregates;
exports.DonutChart = DonutChart;
exports.DonutPlotArea = DonutPlotArea;
exports.DonutSegment = DonutSegment;
exports.ErrorBarBase = ErrorBarBase;
exports.ErrorRangeCalculator = ErrorRangeCalculator;
exports.Highlight = Highlight;
exports.SharedTooltip = SharedTooltip;
exports.Legend = Legend;
exports.LegendItem = LegendItem;
exports.LegendLayout = LegendLayout;
exports.LineChart = LineChart;
exports.LinePoint = LinePoint;
exports.LineSegment = LineSegment;
exports.Pane = Pane;
exports.PieAnimation = PieAnimation;
exports.PieChart = PieChart;
exports.PieChartMixin = PieChartMixin;
exports.PiePlotArea = PiePlotArea;
exports.PieSegment = PieSegment;
exports.PlotAreaBase = PlotAreaBase;
exports.PlotAreaEventsMixin = PlotAreaEventsMixin;
exports.PlotAreaFactory = PlotAreaFactory;
exports.PointEventsMixin = PointEventsMixin;
exports.RangeBar = RangeBar;
exports.RangeBarChart = RangeBarChart;
exports.RangeAreaPoint = RangeAreaPoint;
exports.RangeAreaChart = RangeAreaChart;
exports.ScatterChart = ScatterChart;
exports.ScatterErrorBar = ScatterErrorBar;
exports.ScatterLineChart = ScatterLineChart;
exports.Selection = Selection;
exports.SeriesAggregator = SeriesAggregator;
exports.SeriesBinder = SeriesBinder;
exports.SplineSegment = SplineSegment;
exports.SplineAreaSegment = SplineAreaSegment;
exports.StackWrap = StackWrap;
exports.Tooltip = Tooltip;
exports.OHLCChart = OHLCChart;
exports.OHLCPoint = OHLCPoint;
exports.WaterfallChart = WaterfallChart;
exports.WaterfallSegment = WaterfallSegment;
exports.XYPlotArea = XYPlotArea;
exports.MousewheelZoom = MousewheelZoom;
exports.ZoomSelection = ZoomSelection;
exports.Pannable = Pannable;
exports.ChartAxis = ChartAxis;
exports.ChartPane = ChartPane;
exports.ChartPlotArea = ChartPlotArea;
exports.findAxisByName = findAxisByName;
exports.anyHasZIndex = anyHasZIndex;
exports.appendIfNotNull = appendIfNotNull;
exports.areNumbers = areNumbers;
exports.bindSegments = bindSegments;
exports.categoriesCount = categoriesCount$1;
exports.countNumbers = countNumbers;
exports.equalsIgnoreCase = equalsIgnoreCase;
exports.evalOptions = evalOptions;
exports.filterSeriesByType = filterSeriesByType;
exports.getDateField = getDateField;
exports.getField = getField;
exports.hasGradientOverlay = hasGradientOverlay;
exports.hasValue = hasValue;
exports.isDateAxis = isDateAxis;
exports.segmentVisible = segmentVisible;
exports.singleItemOrArray = singleItemOrArray;
exports.createOutOfRangePoints = createOutOfRangePoints;
exports.ChartService = ChartService;
exports.DomEventsBuilder = DomEventsBuilder;
exports.FormatService = FormatService;
exports.IntlService = IntlService;
exports.TemplateService = TemplateService;
exports.Sparkline = Sparkline;
exports.constants = constants;
exports.Navigator = Navigator;
exports.NavigatorHint = NavigatorHint;
exports.StockChart = StockChart;
exports.Gauge = Gauge;
exports.LinearGauge = LinearGauge;
exports.LinearPointer = LinearPointer;
exports.ArrowLinearPointer = ArrowLinearPointer;
exports.BarLinearPointer = BarLinearPointer;
exports.LinearScale = LinearScale;
exports.RadialGauge = RadialGauge;
exports.RadialPointer = RadialPointer;
exports.RadialScale = RadialScale;
exports.ArcGauge = ArcGauge;
exports.RangePointer = RangePointer;
exports.ArcScale = ArcScale;
exports.CircularGauge = CircularGauge;
exports.Barcode = Barcode;
exports.barcodeValidator = barcodeValidator;
exports.QRCode = QRCode;
exports.qrcodeValidator = qrcodeValidator;
exports.Map = Map;
exports.addClass = addClass;
exports.removeClass = removeClass;
exports.alignPathToPixel = alignPathToPixel;
exports.clockwise = clockwise;
exports.convertableToNumber = convertableToNumber;
exports.deepExtend = deepExtend;
exports.elementStyles = elementStyles;
exports.getSpacing = getSpacing;
exports.getTemplate = getTemplate;
exports.getter = getter;
exports.grep = grep;
exports.hasClasses = hasClasses;
exports.HashMap = HashMap;
exports.inArray = inArray;
exports.interpolateValue = interpolateValue;
exports.InstanceObserver = InstanceObserver;
exports.isArray = isArray;
exports.isFunction = isFunction;
exports.isNumber = isNumber;
exports.isObject = isObject;
exports.isString = isString;
exports.map = map$1;
exports.mousewheelDelta = mousewheelDelta;
exports.FontLoader = FontLoader;
exports.setDefaultOptions = setDefaultOptions;
exports.sparseArrayLimits = sparseArrayLimits;
exports.styleValue = styleValue;
exports.find = find;
exports.elementScale = elementScale;
exports.autoTextColor = autoTextColor;
exports.createHashSet = createHashSet;
exports.defaultErrorHandler = defaultErrorHandler;
exports.keys = keys;
exports.append = append$1;
exports.bindEvents = bindEvents$1$1;
exports.Class = _progress_kendoDrawing.Class;
exports.defined = defined;
exports.deg = deg;
exports.elementOffset = elementOffset;
exports.elementSize = elementSize$1;
exports.eventCoordinates = eventCoordinates;
exports.eventElement = eventElement;
exports.hashKey = hashKey;
exports.last = last;
exports.limitValue = limitValue;
exports.logToConsole = _progress_kendoDrawing.logToConsole;
exports.objectKey = objectKey;
exports.rad = rad;
exports.round = round;
exports.unbindEvents = unbindEvents$1;
exports.valueOrDefault = valueOrDefault;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vY29uc3RhbnRzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9pcy1hcnJheS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vYWRkLWNsYXNzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9yZW1vdmUtY2xhc3MuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2FsaWduLXBhdGgtdG8tcGl4ZWwuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2Nsb2Nrd2lzZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vaXMtbnVtYmVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9pcy1zdHJpbmcuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2NvbnZlcnRhYmxlLXRvLW51bWJlci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vaXMtZnVuY3Rpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2RlZXAtZXh0ZW5kLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9pcy1vYmplY3QuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL3N0eWxlLXZhbHVlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9lbGVtZW50LXN0eWxlcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vZ2V0LXNwYWNpbmcuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvc2VydmljZXMvdGVtcGxhdGUtc2VydmljZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vZ2V0LXRlbXBsYXRlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9nZXR0ZXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2dyZXAuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2hhcy1jbGFzc2VzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9oYXNoLW1hcC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vaW4tYXJyYXkuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2ludGVycG9sYXRlLXZhbHVlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9pbnN0YW5jZS1vYnNlcnZlci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vbWFwLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9tb3VzZXdoZWVsLWRlbHRhLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2RyYXdpbmctdXRpbHMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2ZvbnQtbG9hZGVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9zZXQtZGVmYXVsdC1vcHRpb25zLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9zcGFyc2UtYXJyYXktbGltaXRzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9maW5kLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9lbGVtZW50LXNjYWxlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9hdXRvLXRleHQtY29sb3IuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2NyZWF0ZS1oYXNoLXNldC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vZGVmYXVsdC1lcnJvci1oYW5kbGVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9rZXlzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvYXV0by1tYWpvci11bml0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvcG9pbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9ib3guanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9yaW5nLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvc2VjdG9yLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvc2hhcGUtYnVpbGRlci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2NoYXJ0LWVsZW1lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9ib3gtZWxlbWVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3NoYXBlLWVsZW1lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9ncmFkaWVudHMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS91dGlscy9ib3gtZGlmZi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3Jvb3QtZWxlbWVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2Zsb2F0LWVsZW1lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS90ZXh0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvcmVjdC10by1ib3guanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS90ZXh0LWJveC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3RpdGxlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvYXhpcy1sYWJlbC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL25vdGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvc2VydmljZXMvaW50bC1zZXJ2aWNlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL3NlcnZpY2VzL2Zvcm1hdC1zZXJ2aWNlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL3NlcnZpY2VzL2NoYXJ0LXNlcnZpY2UuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvc2VydmljZXMvZG9tLWV2ZW50cy1idWlsZGVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvY3JlYXRlLWF4aXMtdGljay5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3V0aWxzL2NyZWF0ZS1heGlzLWdyaWQtbGluZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2F4aXMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9jb25zdGFudHMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9hYnNvbHV0ZS1kYXRlLWRpZmYuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9hZGQtdGlja3MuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy90by1kYXRlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvc3RhcnQtb2Ytd2Vlay5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL2FkZC1kdXJhdGlvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL2Zsb29yLWRhdGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9jZWlsLWRhdGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9kYXRlLWNvbXBhcmVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvZGF0ZS1kaWZmLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvdG8tdGltZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL2RhdGUtZXF1YWxzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvZGF0ZS1pbmRleC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL2R1cmF0aW9uLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvcGFyc2UtZGF0ZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL3BhcnNlLWRhdGVzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvZmlyc3QtZGF5LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvY2F0ZWdvcnktYXhpcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2NvbnN0YW50cy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2RhdGUtY2F0ZWdvcnktYXhpcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3V0aWxzL2F1dG8tYXhpcy1taW4uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS91dGlscy9hdXRvLWF4aXMtbWF4LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvZmxvb3IuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS91dGlscy9jZWlsLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvbGltaXQtY29vcmRpbmF0ZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL251bWVyaWMtYXhpcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2RhdGUtdmFsdWUtYXhpcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2xvZ2FyaXRobWljLWF4aXMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9taXhpbnMvZ3JpZC1saW5lcy1taXhpbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3JhZGFyLWNhdGVnb3J5LWF4aXMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9wb2xhci1heGlzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NvcmUvbWl4aW5zL3JhZGFyLW51bWVyaWMtYXhpcy1taXhpbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3JhZGFyLW51bWVyaWMtYXhpcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3JhZGFyLWxvZ2FyaXRobWljLWF4aXMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9jdXJ2ZS1wcm9jZXNzb3IuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXBpLWVsZW1lbnRzL2NoYXJ0LWF4aXMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXBpLWVsZW1lbnRzL2ZpbmQtYXhpcy1ieS1uYW1lLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FwaS1lbGVtZW50cy9jaGFydC1wYW5lLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FwaS1lbGVtZW50cy9jaGFydC1wbG90YXJlYS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9jb3VudC1udW1iZXJzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FnZ3JlZ2F0ZXMvYWdncmVnYXRlcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9nZXQtZmllbGQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvc2VyaWVzLWJpbmRlci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9lcnJvci1iYXJzL2Vycm9yLXJhbmdlLWNhbGN1bGF0b3IuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvY29uc3RhbnRzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Vycm9yLWJhcnMvZXJyb3ItYmFyLWJhc2UuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvZXJyb3ItYmFycy9jYXRlZ29yaWNhbC1lcnJvci1iYXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvZXZhbC1vcHRpb25zLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2NhdGVnb3JpZXMtY291bnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvY2F0ZWdvcmljYWwtY2hhcnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9taXhpbnMvbm90ZS1taXhpbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9saW5lLWNoYXJ0L2xpbmUtcG9pbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGluZS1jaGFydC9saW5lLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGluZS1jaGFydC9zdGVwLWxpbmUtbWl4aW4uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGluZS1jaGFydC9zdGVwLWxpbmUtc2VnbWVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9saW5lLWNoYXJ0L3NwbGluZS1zZWdtZW50LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L21peGlucy9saW5lLWNoYXJ0LW1peGluLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FuaW1hdGlvbnMvY2xpcC1hbmltYXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvYW55LWhhcy16LWluZGV4LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L21peGlucy9jbGlwLWFuaW1hdGlvbi1taXhpbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9saW5lLWNoYXJ0L2xpbmUtY2hhcnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXJlYS1jaGFydC9hcmVhLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXJlYS1jaGFydC9zdGVwLWFyZWEtc2VnbWVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9hcmVhLWNoYXJ0L3NwbGluZS1hcmVhLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXJlYS1jaGFydC9hcmVhLWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2F4aXMtZ3JvdXAtcmFuZ2UtdHJhY2tlci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9iYXItY2hhcnQvYmFyLWxhYmVsLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2hhcy1ncmFkaWVudC1vdmVybGF5LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Jhci1jaGFydC9iYXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGF5b3V0L3V0aWxzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2xheW91dC9jbHVzdGVyLWxheW91dC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9sYXlvdXQvc3RhY2std3JhcC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9iYXItY2hhcnQvYmFyLWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2FyZS1udW1iZXJzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2JveC1wbG90LWNoYXJ0L2JveC1wbG90LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2JveC1wbG90LWNoYXJ0L3ZlcnRpY2FsLWJveC1wbG90LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2JveC1wbG90LWNoYXJ0L2JveC1wbG90LWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Vycm9yLWJhcnMvc2NhdHRlci1lcnJvci1iYXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvaGFzLXZhbHVlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItY2hhcnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYnViYmxlLWNoYXJ0L2J1YmJsZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9idWJibGUtY2hhcnQvYnViYmxlLWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2J1bGxldC1jaGFydC90YXJnZXQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYnVsbGV0LWNoYXJ0L2J1bGxldC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9idWxsZXQtY2hhcnQvYnVsbGV0LWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Rvb2x0aXAvYmFzZS10b29sdGlwLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Nyb3NzaGFpci9jcm9zc2hhaXItdG9vbHRpcC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9jcm9zc2hhaXIvY3Jvc3NoYWlyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2NoYXJ0LWNvbnRhaW5lci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wYW5lLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2FwcGVuZC1pZi1ub3QtbnVsbC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9zZWdtZW50LXZpc2libGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvYmluZC1zZWdtZW50cy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9lcXVhbHMtaWdub3JlLWNhc2UuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvZmlsdGVyLXNlcmllcy1ieS10eXBlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2dldC1kYXRlLWZpZWxkLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2lzLWRhdGUtYXhpcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9zaW5nbGUtaXRlbS1vci1hcnJheS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9jcmVhdGUtb3V0LW9mLXJhbmdlLXBvaW50cy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS9wbG90YXJlYS1iYXNlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L21peGlucy9wbG90YXJlYS1ldmVudHMtbWl4aW4uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYWdncmVnYXRlcy9zZXJpZXMtYWdncmVnYXRvci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9hZ2dyZWdhdGVzL2RlZmF1bHQtYWdncmVnYXRlcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYW5nZS1iYXItY2hhcnQvcmFuZ2UtYmFyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhbmdlLWJhci1jaGFydC9yYW5nZS1iYXItY2hhcnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcmFuZ2UtYXJlYS1jaGFydC9yYW5nZS1saW5lLXBvaW50LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhbmdlLWFyZWEtY2hhcnQvcmFuZ2UtYXJlYS1wb2ludC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYW5nZS1hcmVhLWNoYXJ0L3JhbmdlLWFyZWEtc2VnbWVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYW5nZS1hcmVhLWNoYXJ0L3NwbGluZS1yYW5nZS1hcmVhLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcmFuZ2UtYXJlYS1jaGFydC9zdGVwLXJhbmdlLWFyZWEtc2VnbWVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYW5nZS1hcmVhLWNoYXJ0L3JhbmdlLWFyZWEtY2hhcnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvb2hsYy1jaGFydC9vaGxjLXBvaW50LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L29obGMtY2hhcnQvb2hsYy1jaGFydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC93YXRlcmZhbGwtY2hhcnQvd2F0ZXJmYWxsLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvd2F0ZXJmYWxsLWNoYXJ0L3dhdGVyZmFsbC1jaGFydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS9jYXRlZ29yaWNhbC1wbG90YXJlYS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9oaWdobGlnaHQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGFuLWFuZC16b29tL2FjY2VwdC1rZXkuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGFuLWFuZC16b29tL3RvLWNoYXJ0LWF4aXMtcmFuZ2VzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bhbi1hbmQtem9vbS9wYW5uYWJsZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wYW4tYW5kLXpvb20vem9vbS1zZWxlY3Rpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGFuLWFuZC16b29tL21vdXNld2hlZWwtem9vbS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9sZWdlbmQvbGVnZW5kLWxheW91dC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9sZWdlbmQvbGVnZW5kLWl0ZW0uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGVnZW5kL2xlZ2VuZC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS9wbG90YXJlYS1mYWN0b3J5LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3NlbGVjdGlvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC90b29sdGlwL3Rvb2x0aXAuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdG9vbHRpcC9zaGFyZWQtdG9vbHRpcC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9hbmltYXRpb25zL2Jhci1jaGFydC1hbmltYXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYW5pbWF0aW9ucy9idWJibGUtYW5pbWF0aW9uLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FuaW1hdGlvbnMvZmFkZS1pbi1hbmltYXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYW5pbWF0aW9ucy9waWUtYW5pbWF0aW9uLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItbGluZS1jaGFydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS94eS1wbG90YXJlYS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9waWUtY2hhcnQvcGllLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbWl4aW5zL3BpZS1jaGFydC1taXhpbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9waWUtY2hhcnQvcGllLWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bsb3RhcmVhL3BpZS1wbG90YXJlYS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9kb251dC1jaGFydC9kb251dC1zZWdtZW50LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2RvbnV0LWNoYXJ0L2RvbnV0LWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bsb3RhcmVhL2RvbnV0LXBsb3RhcmVhLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bsb3RhcmVhL3BvbGFyLXBsb3RhcmVhLWJhc2UuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcG9sYXItc2NhdHRlci1jaGFydC9wb2xhci1zY2F0dGVyLWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3BvbGFyLWxpbmUtY2hhcnQvcG9sYXItbGluZS1jaGFydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wb2xhci1hcmVhLWNoYXJ0L3NwbGluZS1wb2xhci1hcmVhLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcG9sYXItYXJlYS1jaGFydC9wb2xhci1hcmVhLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcG9sYXItYXJlYS1jaGFydC9wb2xhci1hcmVhLWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bsb3RhcmVhL3BvbGFyLXBsb3RhcmVhLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhZGFyLWxpbmUtY2hhcnQvcmFkYXItbGluZS1jaGFydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYWRhci1hcmVhLWNoYXJ0L3NwbGluZS1yYWRhci1hcmVhLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcmFkYXItYXJlYS1jaGFydC9yYWRhci1hcmVhLXNlZ21lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcmFkYXItYXJlYS1jaGFydC9yYWRhci1hcmVhLWNoYXJ0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhZGFyLWJhci1jaGFydC9yYWRhci1zZWdtZW50LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2xheW91dC9yYWRhci1jbHVzdGVyLWxheW91dC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9sYXlvdXQvcmFkYXItc3RhY2stbGF5b3V0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhZGFyLWJhci1jaGFydC9yYWRhci1iYXItY2hhcnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGxvdGFyZWEvcmFkYXItcGxvdGFyZWEuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvZnVubmVsLWNoYXJ0L2Z1bm5lbC1zZWdtZW50LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Z1bm5lbC1jaGFydC9mdW5uZWwtY2hhcnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGxvdGFyZWEvZnVubmVsLXBsb3RhcmVhLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2hlYXRtYXAtY2hhcnQvY29sb3Itc2NhbGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvaGVhdG1hcC1jaGFydC9oZWF0bWFwLXBvaW50LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2hlYXRtYXAtY2hhcnQvaGVhdG1hcC1jaGFydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS9oZWF0bWFwLXBsb3RhcmVhLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JlZ2lzdGVyLWNoYXJ0cy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9jaGFydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9zcGFya2xpbmUvc2hhcmVkLXRvb2x0aXAuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvc3BhcmtsaW5lL3NwYXJrbGluZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9zdG9jay9mYWRlLW91dC1hbmltYXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvc3RvY2svbmF2aWdhdG9yLWhpbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvc3RvY2svY29uc3RhbnRzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL3N0b2NrL25hdmlnYXRvci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9zdG9jay9zdG9jay1jaGFydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvY29uc3RhbnRzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy91dGlscy9wYWQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3V0aWxzL2J1aWxkLWxhYmVsLWVsZW1lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3V0aWxzL2dldC1yYW5nZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvdXRpbHMvdW5wYWQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2dhdWdlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy9saW5lYXIvbGluZWFyLXNjYWxlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy9wb2ludGVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy9saW5lYXIvbGluZWFyLXBvaW50ZXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2xpbmVhci9hcnJvdy1saW5lYXItcG9pbnRlci1hbmltYXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2xpbmVhci9hcnJvdy1saW5lYXItcG9pbnRlci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvbGluZWFyL2Jhci1saW5lYXItcG9pbnRlci1hbmltYXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2xpbmVhci9iYXItbGluZWFyLXBvaW50ZXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2xpbmVhci9saW5lYXItZ2F1Z2UuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3JhZGlhbC9yYWRpYWwtc2NhbGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3JhZGlhbC9yYWRpYWwtcG9pbnRlci1hbmltYXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3JhZGlhbC9yYWRpYWwtcG9pbnRlci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvcmFkaWFsL3JhZGlhbC1nYXVnZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvYXJjL2FyYy1zY2FsZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvYXJjL3JhbmdlLXBvaW50ZXItYW5pbWF0aW9uLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy9hcmMvcmFuZ2UtcG9pbnRlci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvYXJjL2FyYy1nYXVnZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvY2lyY3VsYXIvY2lyY3VsYXItZ2F1Z2UuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvYmFyY29kZS9lbmNvZGluZ3MvZW5jb2RpbmcuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvYmFyY29kZS9lbmNvZGluZ3MvY29kZTExLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2JhcmNvZGUvZW5jb2RpbmdzL2NvZGUzOS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9iYXJjb2RlL2VuY29kaW5ncy9jb2RlMzktZXh0ZW5kZWQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvYmFyY29kZS9lbmNvZGluZ3MvY29kZTkzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2JhcmNvZGUvZW5jb2RpbmdzL2NvZGU5My1leHRlbmRlZC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9iYXJjb2RlL2VuY29kaW5ncy9wb3N0bmV0LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2JhcmNvZGUvZW5jb2RpbmdzL2NvZGUxMjguanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvYmFyY29kZS9lbmNvZGluZ3MvbXNpLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2JhcmNvZGUvZW5jb2RpbmdzL2VhbjEzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL2JhcmNvZGUvZW5jb2RpbmdzL2VhbjguanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvYmFyY29kZS9lbmNvZGluZ3MvbWFpbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9iYXJjb2RlL3N1cmZhY2Utc2l6ZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9iYXJjb2RlL2JhcmNvZGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvYmFyY29kZS9iYXJjb2RlLXZhbGlkYXRvci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9xcmNvZGUvdXRpbHMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvcXJjb2RlL2VuY29kaW5ncy9mcmVlLWNlbGwtdmlzaXRvci5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9xcmNvZGUvZW5jb2RpbmdzL2VuY29kaW5nLXJlc3VsdC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9xcmNvZGUvZW5jb2RpbmdzL2VuY29kZXJzL2lzby1lbmNvZGVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL3FyY29kZS9lbmNvZGluZ3MvZGF0YS1tb2Rlcy9xci1kYXRhLW1vZGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvcXJjb2RlL2VuY29kaW5ncy9kYXRhLW1vZGVzL251bWVyaWMtZGF0YS1tb2RlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL3FyY29kZS9lbmNvZGluZ3MvZGF0YS1tb2Rlcy9hbHBoYS1udW1lcmljLWRhdGEtbW9kZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9xcmNvZGUvZW5jb2RpbmdzL2RhdGEtbW9kZXMvYnl0ZS1kYXRhLW1vZGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvcXJjb2RlL2VuY29kaW5ncy9kYXRhLW1vZGVzL2RhdGEtbW9kZS1pbnN0YW5jZXMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvcXJjb2RlL2VuY29kaW5ncy9lbmNvZGVycy91dGY4LWVuY29kZXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvcXJjb2RlL2VuY29kaW5ncy92ZXJzaW9uLWNvZGV3b3Jkcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9xcmNvZGUvZW5jb2RpbmdzL2VuY29kaW5nLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL3FyY29kZS9xcmNvZGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvcXJjb2RlL3FyY29kZS12YWxpZGF0b3IuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL2RhdHVtcy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9tYXAvbG9jYXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL2Nycy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9tYXAvdXRpbHMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL3Njcm9sbGVyL29ic2VydmFibGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL2F0dHJpYnV0aW9uLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL21hcC9uYXZpZ2F0b3IuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL3pvb20uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL2V4dGVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9tYXAvbGF5ZXJzL2xheWVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL21hcC9sYXllcnMvdGlsZS5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9tYXAvc2Nyb2xsZXIvZHJhZ2dhYmxlLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL21hcC9sYXllcnMvc2hhcGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL2xheWVycy9idWJibGUuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL2xheWVycy9tYXJrZXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL3Njcm9sbGVyL2Z4LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLWNoYXJ0cy9rZW5kby1jaGFydHMvc3JjL21hcC9zY3JvbGxlci91c2VyLWV2ZW50cy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9tYXAvc2Nyb2xsZXIvc2Nyb2xsZXIuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvc2VydmljZXMvbWFwLXNlcnZpY2UuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tY2hhcnRzL2tlbmRvLWNoYXJ0cy9zcmMvbWFwL21hcC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1jaGFydHMva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9iYXNlLXRoZW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBBUkMgPSBcImFyY1wiO1xuZXhwb3J0IGNvbnN0IEFYSVNfTEFCRUxfQ0xJQ0sgPSBcImF4aXNMYWJlbENsaWNrXCI7XG5leHBvcnQgY29uc3QgQkxBQ0sgPSBcIiMwMDBcIjtcbmV4cG9ydCBjb25zdCBCT1RUT00gPSBcImJvdHRvbVwiO1xuZXhwb3J0IGNvbnN0IENFTlRFUiA9IFwiY2VudGVyXCI7XG5leHBvcnQgY29uc3QgQ0lSQ0xFID0gXCJjaXJjbGVcIjtcbmV4cG9ydCBjb25zdCBDT09SRF9QUkVDSVNJT04gPSAzO1xuZXhwb3J0IGNvbnN0IENST1NTID0gXCJjcm9zc1wiO1xuZXhwb3J0IGNvbnN0IERBVEUgPSBcImRhdGVcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZPTlQgPSBcIjEycHggc2Fucy1zZXJpZlwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfSEVJR0hUID0gNDAwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUFJFQ0lTSU9OID0gMTA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9XSURUSCA9IDYwMDtcbmV4cG9ydCBjb25zdCBFTkQgPSBcImVuZFwiO1xuZXhwb3J0IGNvbnN0IEZPUk1BVF9SRUdFWCA9IC9cXHtcXGQrOj8vO1xuZXhwb3J0IGNvbnN0IEhFSUdIVCA9IFwiaGVpZ2h0XCI7XG5leHBvcnQgY29uc3QgSElHSExJR0hUX1pJTkRFWCA9IDEwMDtcbmV4cG9ydCBjb25zdCBJTlNJREUgPSBcImluc2lkZVwiO1xuZXhwb3J0IGNvbnN0IExFRlQgPSBcImxlZnRcIjtcbmV4cG9ydCBjb25zdCBNQVhfVkFMVUUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuZXhwb3J0IGNvbnN0IE1JTl9WQUxVRSA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xuZXhwb3J0IGNvbnN0IE5PTkUgPSBcIm5vbmVcIjtcbmV4cG9ydCBjb25zdCBOT1RFX0NMSUNLID0gXCJub3RlQ2xpY2tcIjtcbmV4cG9ydCBjb25zdCBOT1RFX0hPVkVSID0gXCJub3RlSG92ZXJcIjtcbmV4cG9ydCBjb25zdCBOT1RFX0xFQVZFID0gXCJub3RlTGVhdmVcIjtcbmV4cG9ydCBjb25zdCBPQkpFQ1QgPSBcIm9iamVjdFwiO1xuZXhwb3J0IGNvbnN0IE9VVFNJREUgPSBcIm91dHNpZGVcIjtcbmV4cG9ydCBjb25zdCBSSUdIVCA9IFwicmlnaHRcIjtcbmV4cG9ydCBjb25zdCBST1VOREVEX1JFQ1QgPSBcInJvdW5kZWRSZWN0XCI7XG5leHBvcnQgY29uc3QgU1RBUlQgPSBcInN0YXJ0XCI7XG5leHBvcnQgY29uc3QgU1RSSU5HID0gXCJzdHJpbmdcIjtcbmV4cG9ydCBjb25zdCBUT1AgPSBcInRvcFwiO1xuZXhwb3J0IGNvbnN0IFRSSUFOR0xFID0gXCJ0cmlhbmdsZVwiO1xuZXhwb3J0IGNvbnN0IFZBTFVFID0gXCJ2YWx1ZVwiO1xuZXhwb3J0IGNvbnN0IFdISVRFID0gXCIjZmZmXCI7XG5leHBvcnQgY29uc3QgV0lEVEggPSBcIndpZHRoXCI7XG5leHBvcnQgY29uc3QgWCA9IFwieFwiO1xuZXhwb3J0IGNvbnN0IFkgPSBcInlcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFUklFU19PUEFDSVRZID0gMTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59IiwiaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pcy1hcnJheSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMpIHtcbiAgICBjb25zdCBjbGFzc0FycmF5ID0gaXNBcnJheShjbGFzc2VzKSA/IGNsYXNzZXMgOiBbIGNsYXNzZXMgXTtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNsYXNzQXJyYXkubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSBjbGFzc0FycmF5W2lkeF07XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzTmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSBcIiBcIiArIGNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCBTUEFDRV9SRUdFWCA9IC9cXHMrL2c7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuY2xhc3NOYW1lKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShjbGFzc05hbWUsIFwiXCIpLnJlcGxhY2UoU1BBQ0VfUkVHRVgsIFwiIFwiKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxpZ25QYXRoVG9QaXhlbChwYXRoKSB7XG4gICAgbGV0IG9mZnNldCA9IDAuNTtcbiAgICBpZiAocGF0aC5vcHRpb25zLnN0cm9rZSAmJiBkcmF3aW5nLnV0aWwuZGVmaW5lZChwYXRoLm9wdGlvbnMuc3Ryb2tlLndpZHRoKSkge1xuICAgICAgICBpZiAocGF0aC5vcHRpb25zLnN0cm9rZS53aWR0aCAlIDIgPT09IDApIHtcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGguc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGF0aC5zZWdtZW50c1tpXS5hbmNob3IoKS5yb3VuZCgwKS50cmFuc2xhdGUob2Zmc2V0LCBvZmZzZXQpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsb2Nrd2lzZShhbmdsZTEsIGFuZ2xlMikge1xuICAgIC8vIFRydWUgaWYgYW5nbGUyIGlzIGNsb2Nrd2lzZSBvZiBhbmdsZTFcbiAgICAvLyBhc3N1bWluZyBhbmdsZXMgZ3JvdyBpbiBjbG9jay13aXNlIGRpcmVjdGlvblxuICAgIC8vIChhcyBpbiB0aGUgcGllIGFuZCByYWRhciBjaGFydHMpXG4gICAgcmV0dXJuIC1hbmdsZTEueCAqIGFuZ2xlMi55ICsgYW5nbGUxLnkgKiBhbmdsZTIueCA8IDA7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmICFpc05hTih2YWx1ZSk7XG59IiwiaW1wb3J0IHsgU1RSSU5HIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFNUUklORztcbn0iLCJpbXBvcnQgaXNOdW1iZXIgZnJvbSAnLi9pcy1udW1iZXInO1xuaW1wb3J0IGlzU3RyaW5nIGZyb20gJy4vaXMtc3RyaW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29udmVydGFibGVUb051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgfHwgKGlzU3RyaW5nKHZhbHVlKSAmJiBpc0Zpbml0ZSh2YWx1ZSkpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCI7XG59IiwiaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi9pcy1mdW5jdGlvbic7XG5cbmNvbnN0IE9CSkVDVCA9IFwib2JqZWN0XCI7XG5jb25zdCBVTkRFRklORUQgPSBcInVuZGVmaW5lZFwiO1xuXG5mdW5jdGlvbiBkZWVwRXh0ZW5kT25lKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcblxuICAgIGZvciAobGV0IHByb3BlcnR5IGluIHNvdXJjZSkge1xuICAgICAgICBsZXQgcHJvcFZhbHVlID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICAgICAgbGV0IHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcblxuICAgICAgICBsZXQgcHJvcEluaXQ7XG4gICAgICAgIGlmIChwcm9wVHlwZSA9PT0gT0JKRUNUICYmIHByb3BWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvcEluaXQgPSBwcm9wVmFsdWUuY29uc3RydWN0b3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wSW5pdCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcEluaXQgJiYgcHJvcEluaXQgIT09IEFycmF5KSB7XG5cbiAgICAgICAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gbmV3IERhdGUocHJvcFZhbHVlLmdldFRpbWUoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocHJvcFZhbHVlLmNsb25lKSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IHByb3BWYWx1ZS5jbG9uZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZGVzdFByb3AgPSBkZXN0aW5hdGlvbltwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZGVzdFByb3ApID09PSBPQkpFQ1QpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gZGVzdFByb3AgfHwge307XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZXBFeHRlbmRPbmUoZGVzdGluYXRpb25bcHJvcGVydHldLCBwcm9wVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BUeXBlICE9PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IHByb3BWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVlcEV4dGVuZChkZXN0aW5hdGlvbikge1xuICAgIGNvbnN0IGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRlZXBFeHRlbmRPbmUoZGVzdGluYXRpb24sIGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcbn0iLCJpbXBvcnQgaXNOdW1iZXIgZnJvbSAnLi9pcy1udW1iZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdHlsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgKyBcInB4XCI7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn0iLCJpbXBvcnQgaXNPYmplY3QgZnJvbSAnLi9pcy1vYmplY3QnO1xuaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pcy1hcnJheSc7XG5pbXBvcnQgaXNTdHJpbmcgZnJvbSAnLi9pcy1zdHJpbmcnO1xuaW1wb3J0IHN0eWxlVmFsdWUgZnJvbSAnLi9zdHlsZS12YWx1ZSc7XG5cbmNvbnN0IFNJWkVfU1RZTEVTX1JFR0VYID0gL3dpZHRofGhlaWdodHx0b3B8bGVmdHxib3R0b218cmlnaHQvaTtcblxuZnVuY3Rpb24gaXNTaXplRmllbGQoZmllbGQpIHtcbiAgICByZXR1cm4gU0laRV9TVFlMRVNfUkVHRVgudGVzdChmaWVsZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsZW1lbnRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgY29uc3Qgc3R5bGVzQXJyYXkgPSBpc1N0cmluZyhzdHlsZXMpID8gWyBzdHlsZXMgXSA6IHN0eWxlcztcblxuICAgIGlmIChpc0FycmF5KHN0eWxlc0FycmF5KSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzdHlsZXNBcnJheS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBsZXQgZmllbGQgPSBzdHlsZXNBcnJheVtpZHhdO1xuICAgICAgICAgICAgcmVzdWx0W2ZpZWxkXSA9IGlzU2l6ZUZpZWxkKGZpZWxkKSA/IHBhcnNlRmxvYXQoc3R5bGVbZmllbGRdKSA6IHN0eWxlW2ZpZWxkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChzdHlsZXMpKSB7XG4gICAgICAgIGZvciAobGV0IGZpZWxkIGluIHN0eWxlcykge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtmaWVsZF0gPSBzdHlsZVZhbHVlKHN0eWxlc1tmaWVsZF0pO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IFRPUCwgQk9UVE9NLCBMRUZULCBSSUdIVCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0U3BhY2luZyh2YWx1ZSwgZGVmYXVsdFNwYWNpbmcgPSAwKSB7XG4gICAgY29uc3Qgc3BhY2luZyA9IHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH07XG5cbiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBzcGFjaW5nW1RPUF0gPSBzcGFjaW5nW1JJR0hUXSA9IHNwYWNpbmdbQk9UVE9NXSA9IHNwYWNpbmdbTEVGVF0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzcGFjaW5nW1RPUF0gPSB2YWx1ZVtUT1BdIHx8IGRlZmF1bHRTcGFjaW5nO1xuICAgICAgICBzcGFjaW5nW1JJR0hUXSA9IHZhbHVlW1JJR0hUXSB8fCBkZWZhdWx0U3BhY2luZztcbiAgICAgICAgc3BhY2luZ1tCT1RUT01dID0gdmFsdWVbQk9UVE9NXSB8fCBkZWZhdWx0U3BhY2luZztcbiAgICAgICAgc3BhY2luZ1tMRUZUXSA9IHZhbHVlW0xFRlRdIHx8IGRlZmF1bHRTcGFjaW5nO1xuICAgIH1cblxuICAgIHJldHVybiBzcGFjaW5nO1xufSIsImxldCBjdXJyZW50ID0ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59O1xuXG5jbGFzcyBUZW1wbGF0ZVNlcnZpY2Uge1xuICAgIHN0YXRpYyByZWdpc3Rlcih1c2VySW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgY3VycmVudCA9IHVzZXJJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgY29tcGlsZSh0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudC5jb21waWxlKHRlbXBsYXRlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRlbXBsYXRlU2VydmljZTtcbiIsImltcG9ydCBUZW1wbGF0ZVNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvdGVtcGxhdGUtc2VydmljZSc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuL2lzLWZ1bmN0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VGVtcGxhdGUob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHRlbXBsYXRlO1xuICAgIGlmIChvcHRpb25zLnRlbXBsYXRlKSB7XG4gICAgICAgIG9wdGlvbnMudGVtcGxhdGUgPSB0ZW1wbGF0ZSA9IFRlbXBsYXRlU2VydmljZS5jb21waWxlKG9wdGlvbnMudGVtcGxhdGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmNvbnRlbnQpKSB7XG4gICAgICAgIHRlbXBsYXRlID0gb3B0aW9ucy5jb250ZW50O1xuICAgIH1cblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbn1cbiIsImltcG9ydCB7IGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmNvbnN0IEZJRUxEX1JFR0VYID0gL1xcWyg/OihcXGQrKXxbJ1wiXSguKj8pWydcIl0pXFxdfCgoPzooPyFcXFsuKj9cXF18XFwuKS4pKykvZztcbmNvbnN0IGdldHRlckNhY2hlID0ge307XG5cbmdldHRlckNhY2hlWyd1bmRlZmluZWQnXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXR0ZXIoZmllbGQpIHtcbiAgICBpZiAoZ2V0dGVyQ2FjaGVbZmllbGRdKSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXJDYWNoZVtmaWVsZF07XG4gICAgfVxuXG4gICAgY29uc3QgZmllbGRzID0gW107XG4gICAgZmllbGQucmVwbGFjZShGSUVMRF9SRUdFWCwgZnVuY3Rpb24obWF0Y2gsIGluZGV4LCBpbmRleEFjY2Vzc29yLCBmaWVsZCkge1xuICAgICAgICBmaWVsZHMucHVzaChkcmF3aW5nLnV0aWwuZGVmaW5lZChpbmRleCkgPyBpbmRleCA6IChpbmRleEFjY2Vzc29yIHx8IGZpZWxkKSk7XG4gICAgfSk7XG5cbiAgICBnZXR0ZXJDYWNoZVtmaWVsZF0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG9iajtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZmllbGRzLmxlbmd0aCAmJiByZXN1bHQ7IGlkeCsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbZmllbGRzW2lkeF1dO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGdldHRlckNhY2hlW2ZpZWxkXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBncmVwKGFycmF5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhhcnJheVtpZHhdKSkge1xuICAgICAgICAgICAgcmVzdWx0IC5wdXNoKGFycmF5W2lkeF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYXNDbGFzc2VzKGVsZW1lbnQsIGNsYXNzTmFtZXMpIHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBjbGFzc05hbWVzLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbmFtZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YobmFtZXNbaWR4XSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIYXNoTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbWFwID0ge307XG4gICAgfVxuXG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcFt0aGlzLl9rZXkobmFtZSldO1xuICAgIH1cblxuICAgIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tYXBbdGhpcy5fa2V5KG5hbWUpXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIF9rZXkobmFtZSkge1xuICAgICAgICByZXR1cm4gbmFtZSBpbnN0YW5jZW9mIERhdGUgPyBuYW1lLmdldFRpbWUoKSA6IG5hbWU7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluQXJyYXkodmFsdWUsIGFycmF5KSB7XG4gICAgaWYgKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gICAgfVxufSIsImltcG9ydCB7IGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBDT09SRF9QUkVDSVNJT04gfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGludGVycG9sYXRlVmFsdWUoc3RhcnQsIGVuZCwgcHJvZ3Jlc3MpIHtcbiAgICByZXR1cm4gZHJhd2luZy51dGlsLnJvdW5kKHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIHByb2dyZXNzLCBDT09SRF9QUkVDSVNJT04pO1xufSIsImltcG9ydCBkZWVwRXh0ZW5kIGZyb20gJy4vZGVlcC1leHRlbmQnO1xuXG5jb25zdCBUUklHR0VSID0gJ3RyaWdnZXInO1xuXG5jbGFzcyBJbnN0YW5jZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihvYnNlcnZlciwgaGFuZGxlcnMpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLmhhbmRsZXJNYXAgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLmhhbmRsZXJNYXAsIGhhbmRsZXJzKTtcbiAgICB9XG5cbiAgICB0cmlnZ2VyKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgY29uc3QgeyBvYnNlcnZlciwgaGFuZGxlck1hcCB9ID0gdGhpcztcbiAgICAgICAgbGV0IGlzRGVmYXVsdFByZXZlbnRlZDtcbiAgICAgICAgaWYgKGhhbmRsZXJNYXBbbmFtZV0pIHtcbiAgICAgICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IHRoaXMuY2FsbE9ic2VydmVyKGhhbmRsZXJNYXBbbmFtZV0sIGFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKG9ic2VydmVyW1RSSUdHRVJdKSB7XG4gICAgICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQgPSB0aGlzLmNhbGxPYnNlcnZlcihUUklHR0VSLCBuYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc0RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgY2FsbE9ic2VydmVyKGZuTmFtZSwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5vYnNlcnZlcltmbk5hbWVdLmFwcGx5KHRoaXMub2JzZXJ2ZXIsIGFyZ3MpO1xuICAgIH1cblxuICAgIHJlcXVpcmVzSGFuZGxlcnMobmFtZXMpIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIucmVxdWlyZXNIYW5kbGVycykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXIucmVxdWlyZXNIYW5kbGVycyhuYW1lcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBuYW1lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVyTWFwW25hbWVzW2lkeF1dKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlT2JzZXJ2ZXI7IiwiaW1wb3J0IHsgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwKGFycmF5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNhbGxiYWNrKGFycmF5W2lkeF0pO1xuICAgICAgICBpZiAoZHJhd2luZy51dGlsLmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgeyBzdXBwb3J0IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5jb25zdCBicm93c2VyID0gc3VwcG9ydC5icm93c2VyIHx8IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtb3VzZXdoZWVsRGVsdGEoZSkge1xuICAgIGxldCBkZWx0YSA9IDA7XG5cbiAgICBpZiAoZS53aGVlbERlbHRhKSB7XG4gICAgICAgIGRlbHRhID0gLWUud2hlZWxEZWx0YSAvIDEyMDtcblxuICAgICAgICBpZiAoYnJvd3Nlci53ZWJraXQpIHtcbiAgICAgICAgICAgIC8vIFdlYmtpdCBicm93c2VycyBzY2FsZSB0aGUgZGVsdGEgYnkgdHdpY2UgdGhlIGRldmljZSByZXNvbHV0aW9uLlxuICAgICAgICAgICAgLy8gUG9zc2libHkgcmVsYXRlZCB0byBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk2MzM5XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gTG93IGRldmljZSByZXNvbHV0aW9ucyAoZS5nLiB6b29tLW91dCB0byAzMCUpIGFsc28gYmVoYXZlIHN0cmFuZ2VseS5cbiAgICAgICAgICAgIGRlbHRhID0gZGVsdGEgLyAoMiAqIE1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCAwLjYyNSkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChlLmRldGFpbCkge1xuICAgICAgICBkZWx0YSA9IGUuZGV0YWlsIC8gMztcbiAgICB9XG5cbiAgICBkZWx0YSA9IGRlbHRhID4gMCA/IE1hdGguY2VpbChkZWx0YSkgOiBNYXRoLmZsb29yKGRlbHRhKTtcblxuICAgIHJldHVybiBkZWx0YTtcbn1cbiIsImltcG9ydCB7XG4gICAgZHJhd2luZyxcbiAgICBDbGFzcyxcbiAgICBsb2dUb0NvbnNvbGVcbn0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5jb25zdCB7XG4gICAgYXBwZW5kLFxuICAgIGJpbmRFdmVudHMsXG4gICAgZGVmaW5lZCxcbiAgICBkZWcsXG4gICAgZWxlbWVudE9mZnNldCxcbiAgICBlbGVtZW50U2l6ZSxcbiAgICBldmVudENvb3JkaW5hdGVzLFxuICAgIGV2ZW50RWxlbWVudCxcbiAgICBoYXNoS2V5LFxuICAgIGxhc3QsXG4gICAgbGltaXRWYWx1ZSxcbiAgICBvYmplY3RLZXksXG4gICAgcmFkLFxuICAgIHJvdW5kLFxuICAgIHVuYmluZEV2ZW50cyxcbiAgICB2YWx1ZU9yRGVmYXVsdFxufSA9IGRyYXdpbmcudXRpbDtcblxuZXhwb3J0IHtcbiAgICBhcHBlbmQsXG4gICAgYmluZEV2ZW50cyxcbiAgICBDbGFzcyxcbiAgICBkZWZpbmVkLFxuICAgIGRlZyxcbiAgICBlbGVtZW50T2Zmc2V0LFxuICAgIGVsZW1lbnRTaXplLFxuICAgIGV2ZW50Q29vcmRpbmF0ZXMsXG4gICAgZXZlbnRFbGVtZW50LFxuICAgIGhhc2hLZXksXG4gICAgbGFzdCxcbiAgICBsaW1pdFZhbHVlLFxuICAgIGxvZ1RvQ29uc29sZSxcbiAgICBvYmplY3RLZXksXG4gICAgcmFkLFxuICAgIHJvdW5kLFxuICAgIHVuYmluZEV2ZW50cyxcbiAgICB2YWx1ZU9yRGVmYXVsdFxufTtcbiIsImltcG9ydCB7IGxvZ1RvQ29uc29sZSB9IGZyb20gJy4uL2RyYXdpbmctdXRpbHMnO1xuXG5jbGFzcyBGb250TG9hZGVyIHtcbiAgICBzdGF0aWMgZmV0Y2hGb250cyhvcHRpb25zLCBmb250cywgc3RhdGUgPSB7IGRlcHRoOiAwIH0pIHtcbiAgICAgICAgY29uc3QgTUFYX0RFUFRIID0gNTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgc3RhdGUuZGVwdGggPiBNQVhfREVQVEggfHwgIWRvY3VtZW50LmZvbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcImRhdGFTb3VyY2VcIiB8fCBrZXlbMF0gPT09IFwiJFwiIHx8ICF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJmb250XCIpIHtcbiAgICAgICAgICAgICAgICBmb250cy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGVwdGgrKztcbiAgICAgICAgICAgICAgICBGb250TG9hZGVyLmZldGNoRm9udHModmFsdWUsIGZvbnRzLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGVwdGgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGxvYWRGb250cyhmb250cywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHByb21pc2VzID0gW107XG5cbiAgICAgICAgaWYgKGZvbnRzLmxlbmd0aCA+IDAgJiYgZG9jdW1lbnQuZm9udHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXMgPSBmb250cy5tYXAoZnVuY3Rpb24oZm9udCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZm9udHMubG9hZChmb250KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBTaWxlbmNlIGZvbnQtbG9hZGluZyBlcnJvcnNcbiAgICAgICAgICAgICAgICBsb2dUb0NvbnNvbGUoZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGNhbGxiYWNrLCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHByZWxvYWRGb250cyhvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBmb250cyA9IFtdO1xuICAgICAgICBGb250TG9hZGVyLmZldGNoRm9udHMob3B0aW9ucywgZm9udHMpO1xuXG4gICAgICAgIEZvbnRMb2FkZXIubG9hZEZvbnRzKGZvbnRzLCBjYWxsYmFjayk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb250TG9hZGVyOyIsImltcG9ydCBkZWVwRXh0ZW5kIGZyb20gJy4vZGVlcC1leHRlbmQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXREZWZhdWx0T3B0aW9ucyh0eXBlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcHJvdG8gPSB0eXBlLnByb3RvdHlwZTtcbiAgICBpZiAocHJvdG8ub3B0aW9ucykge1xuICAgICAgICBwcm90by5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgcHJvdG8ub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvdG8ub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxufSIsImltcG9ydCB7IE1JTl9WQUxVRSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzcGFyc2VBcnJheUxpbWl0cyhhcnIpIHtcbiAgICBsZXQgbWluID0gTUFYX1ZBTFVFO1xuICAgIGxldCBtYXggPSBNSU5fVkFMVUU7XG5cbiAgICBmb3IgKGxldCBpZHggPSAwLCBsZW5ndGggPSBhcnIubGVuZ3RoOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXJyW2lkeF07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiBpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgdmFsdWUpO1xuICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBtaW46IG1pbiA9PT0gTUFYX1ZBTFVFID8gdW5kZWZpbmVkIDogbWluLFxuICAgICAgICBtYXg6IG1heCA9PT0gTUlOX1ZBTFVFID8gdW5kZWZpbmVkIDogbWF4XG4gICAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaW5kKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShpdGVtLCBpLCBhcnJheSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2VvbWV0cnkgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmNvbnN0IE1hdHJpeCA9IGdlb21ldHJ5Lk1hdHJpeDtcbmNvbnN0IG1hdHJpeFJlZ2V4cCA9IC9tYXRyaXhcXCgoLiopXFwpLztcblxuZnVuY3Rpb24gcGFyc2VNYXRyaXgobWF0cml4U3RyaW5nKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBtYXRyaXhTdHJpbmcubWF0Y2gobWF0cml4UmVnZXhwKTtcbiAgICBpZiAobWF0Y2ggPT09IG51bGwgfHwgbWF0Y2gubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgIHJldHVybiBNYXRyaXgudW5pdCgpO1xuICAgIH1cblxuICAgIGNvbnN0IG1lbWJlcnMgPSBtYXRjaFsxXS5zcGxpdCgnLCcpLm1hcCh4ID0+IHBhcnNlRmxvYXQoeCkpO1xuICAgIHJldHVybiBuZXcgTWF0cml4KC4uLm1lbWJlcnMpO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1NYXRyaXgoZWxlbWVudCkge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkudHJhbnNmb3JtO1xuXG4gICAgaWYgKHRyYW5zZm9ybSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiBNYXRyaXgudW5pdCgpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU1hdHJpeCh0cmFuc2Zvcm0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGVtZW50U2NhbGUoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gTWF0cml4LnVuaXQoKTtcbiAgICB9XG5cbiAgICBsZXQgbWF0cml4ID0gdHJhbnNmb3JtTWF0cml4KGVsZW1lbnQpO1xuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBjb25zdCBwYXJlbnRNYXRyaXggPSB0cmFuc2Zvcm1NYXRyaXgocGFyZW50KTtcbiAgICAgICAgbWF0cml4ID0gbWF0cml4Lm11bHRpcGx5Q29weShwYXJlbnRNYXRyaXgpO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG5cbiAgICBtYXRyaXguYiA9IG1hdHJpeC5jID0gbWF0cml4LmUgPSBtYXRyaXguZiA9IDA7XG4gICAgcmV0dXJuIG1hdHJpeDtcbn1cbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgV0hJVEUsIEJMQUNLIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5mdW5jdGlvbiBhdXRvVGV4dENvbG9yKGNvbG9yKSB7XG4gICAgY29uc3QgaXNEYXJrID0gbmV3IENvbG9yKGNvbG9yKS5pc0RhcmsoKTtcbiAgICBpZiAoaXNEYXJrKSB7XG4gICAgICAgIHJldHVybiBXSElURTtcbiAgICB9XG5cbiAgICByZXR1cm4gQkxBQ0s7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGF1dG9UZXh0Q29sb3I7XG4iLCJjb25zdCBERUxFVEVEID0ge307XG5cbmNsYXNzIExlZ2FjeVNldCB7XG4gICAgY29uc3RydWN0b3IodmFsdWVzKSB7XG4gICAgICAgIHRoaXMuX2luZGV4ID0ge307XG4gICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcyA/IHZhbHVlcy5zbGljZSgwKSA6IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9pbmRleFt0aGlzLl92YWx1ZXNbaV1dID0gaTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSBERUxFVEVEKTtcbiAgICB9XG5cbiAgICBoYXModmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4W3ZhbHVlXSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGFkZCh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5faW5kZXhbdmFsdWVdID0gdGhpcy5fdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlbGV0ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2luZGV4W3ZhbHVlXTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSBERUxFVEVEO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2luZGV4W3ZhbHVlXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9pbmRleCA9IHt9O1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGg7XG4gICAgfVxufVxuXG5jbGFzcyBTZXRXcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZXMpIHtcbiAgICAgICAgdGhpcy5fc2V0ID0gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH1cblxuICAgIHZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fc2V0KTtcbiAgICB9XG5cbiAgICBoYXModmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldC5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIGFkZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zZXQuYWRkKHZhbHVlKTtcbiAgICB9XG5cbiAgICBkZWxldGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2V0LmRlbGV0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX3NldC5jbGVhcigpO1xuICAgIH1cblxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0LnNpemU7XG4gICAgfVxufVxuXG4vLyBUT0RPOiBEcm9wIExlZ2FjeVNldCB3aGVuIHJlbW92aW5nIHN1cHBvcnQgZm9yIElFMTBcbmxldCBzdXBwb3J0c1NldCA9ICgpID0+IHtcbiAgICBsZXQgc3VwcG9ydGVkID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIFNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KFsxXSk7XG4gICAgICAgIHN1cHBvcnRlZCA9IHNldC5oYXMoMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUhhc2hTZXQodmFsdWVzKSB7XG4gICAgaWYgKHN1cHBvcnRzU2V0KCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXRXcmFwcGVyKHZhbHVlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBMZWdhY3lTZXQodmFsdWVzKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbn1cbiIsImxldCBrZXlzID0ge1xuICAgIElOU0VSVDogNDUsXG4gICAgREVMRVRFOiA0NixcbiAgICBCQUNLU1BBQ0U6IDgsXG4gICAgVEFCOiA5LFxuICAgIEVOVEVSOiAxMyxcbiAgICBFU0M6IDI3LFxuICAgIExFRlQ6IDM3LFxuICAgIFVQOiAzOCxcbiAgICBSSUdIVDogMzksXG4gICAgRE9XTjogNDAsXG4gICAgRU5EOiAzNSxcbiAgICBIT01FOiAzNixcbiAgICBTUEFDRUJBUjogMzIsXG4gICAgUEFHRVVQOiAzMyxcbiAgICBQQUdFRE9XTjogMzQsXG4gICAgRjI6IDExMyxcbiAgICBGMTA6IDEyMSxcbiAgICBGMTI6IDEyMyxcbiAgICBOVU1QQURfUExVUzogMTA3LFxuICAgIE5VTVBBRF9NSU5VUzogMTA5LFxuICAgIE5VTVBBRF9ET1Q6IDExMFxufTtcblxuZXhwb3J0IGRlZmF1bHQga2V5cztcbiIsImltcG9ydCB7IERFRkFVTFRfUFJFQ0lTSU9OIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dG9NYWpvclVuaXQobWluLCBtYXgpIHtcbiAgICBsZXQgZGlmZiA9IHJvdW5kKG1heCAtIG1pbiwgREVGQVVMVF9QUkVDSVNJT04gLSAxKTtcblxuICAgIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgIGlmIChtYXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwLjE7XG4gICAgICAgIH1cblxuICAgICAgICBkaWZmID0gTWF0aC5hYnMobWF4KTtcbiAgICB9XG5cbiAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKE1hdGgubG9nKGRpZmYpIC8gTWF0aC5sb2coMTApKSk7XG4gICAgY29uc3QgcmVsYXRpdmVWYWx1ZSA9IHJvdW5kKChkaWZmIC8gc2NhbGUpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgbGV0IHNjYWxlTXVsdGlwbGllciA9IDE7XG5cbiAgICBpZiAocmVsYXRpdmVWYWx1ZSA8IDEuOTA0NzYyKSB7XG4gICAgICAgIHNjYWxlTXVsdGlwbGllciA9IDAuMjtcbiAgICB9IGVsc2UgaWYgKHJlbGF0aXZlVmFsdWUgPCA0Ljc2MTkwNCkge1xuICAgICAgICBzY2FsZU11bHRpcGxpZXIgPSAwLjU7XG4gICAgfSBlbHNlIGlmIChyZWxhdGl2ZVZhbHVlIDwgOS41MjM4MDkpIHtcbiAgICAgICAgc2NhbGVNdWx0aXBsaWVyID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzY2FsZU11bHRpcGxpZXIgPSAyO1xuICAgIH1cblxuICAgIHJldHVybiByb3VuZChzY2FsZSAqIHNjYWxlTXVsdGlwbGllciwgREVGQVVMVF9QUkVDSVNJT04pO1xufSIsImltcG9ydCB7IENPT1JEX1BSRUNJU0lPTiB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIHJhZCwgcm91bmQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBQb2ludCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy54ID0geCB8fCAwO1xuICAgICAgICB0aGlzLnkgPSB5IHx8IDA7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIGVxdWFscyhwb2ludCkge1xuICAgICAgICByZXR1cm4gcG9pbnQgJiYgdGhpcy54ID09PSBwb2ludC54ICYmIHRoaXMueSA9PT0gcG9pbnQueTtcbiAgICB9XG5cbiAgICByb3RhdGUoY2VudGVyLCBkZWdyZWVzKSB7XG4gICAgICAgIGNvbnN0IHRoZXRhID0gcmFkKGRlZ3JlZXMpO1xuICAgICAgICBjb25zdCBjb3NUID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgICBjb25zdCBzaW5UID0gTWF0aC5zaW4odGhldGEpO1xuICAgICAgICBjb25zdCB7IHg6IGN4LCB5OiBjeSB9ID0gY2VudGVyO1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy54ID0gcm91bmQoXG4gICAgICAgICAgICBjeCArICh4IC0gY3gpICogY29zVCArICh5IC0gY3kpICogc2luVCxcbiAgICAgICAgICAgIENPT1JEX1BSRUNJU0lPTlxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMueSA9IHJvdW5kKFxuICAgICAgICAgICAgY3kgKyAoeSAtIGN5KSAqIGNvc1QgLSAoeCAtIGN4KSAqIHNpblQsXG4gICAgICAgICAgICBDT09SRF9QUkVDSVNJT05cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtdWx0aXBseShhKSB7XG5cbiAgICAgICAgdGhpcy54ICo9IGE7XG4gICAgICAgIHRoaXMueSAqPSBhO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGRpc3RhbmNlVG8ocG9pbnQpIHtcbiAgICAgICAgY29uc3QgZHggPSB0aGlzLnggLSBwb2ludC54O1xuICAgICAgICBjb25zdCBkeSA9IHRoaXMueSAtIHBvaW50Lnk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uQ2lyY2xlKGNlbnRlciwgYW5nbGUsIHJhZGl1cykge1xuICAgICAgICBjb25zdCByYWRpYW5zID0gcmFkKGFuZ2xlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgY2VudGVyLnggLSByYWRpdXMgKiBNYXRoLmNvcyhyYWRpYW5zKSxcbiAgICAgICAgICAgIGNlbnRlci55IC0gcmFkaXVzICogTWF0aC5zaW4ocmFkaWFucylcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuXG5pbXBvcnQgeyBYLCBZLCBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIENFTlRFUiwgV0lEVEgsIEhFSUdIVCB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQsIGdldFNwYWNpbmcsIGluQXJyYXksIGlzQXJyYXksIHJhZCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEJveCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMueDEgPSB4MSB8fCAwO1xuICAgICAgICB0aGlzLnkxID0geTEgfHwgMDtcbiAgICAgICAgdGhpcy54MiA9IHgyIHx8IDA7XG4gICAgICAgIHRoaXMueTIgPSB5MiB8fCAwO1xuICAgIH1cblxuICAgIGVxdWFscyhib3gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueDEgPT09IGJveC54MSAmJiB0aGlzLngyID09PSBib3gueDIgJiZcbiAgICAgICAgICAgIHRoaXMueTEgPT09IGJveC55MSAmJiB0aGlzLnkyID09PSBib3gueTI7XG4gICAgfVxuXG4gICAgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLngyIC0gdGhpcy54MTtcbiAgICB9XG5cbiAgICBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnkyIC0gdGhpcy55MTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoZHgsIGR5KSB7XG4gICAgICAgIHRoaXMueDEgKz0gZHg7XG4gICAgICAgIHRoaXMueDIgKz0gZHg7XG4gICAgICAgIHRoaXMueTEgKz0gZHk7XG4gICAgICAgIHRoaXMueTIgKz0gZHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbW92ZSh4LCB5KSB7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aCgpO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKHgpKSB7XG4gICAgICAgICAgICB0aGlzLngxID0geDtcbiAgICAgICAgICAgIHRoaXMueDIgPSB0aGlzLngxICsgd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmaW5lZCh5KSkge1xuICAgICAgICAgICAgdGhpcy55MSA9IHk7XG4gICAgICAgICAgICB0aGlzLnkyID0gdGhpcy55MSArIGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHdyYXAodGFyZ2V0Qm94KSB7XG4gICAgICAgIHRoaXMueDEgPSBNYXRoLm1pbih0aGlzLngxLCB0YXJnZXRCb3gueDEpO1xuICAgICAgICB0aGlzLnkxID0gTWF0aC5taW4odGhpcy55MSwgdGFyZ2V0Qm94LnkxKTtcbiAgICAgICAgdGhpcy54MiA9IE1hdGgubWF4KHRoaXMueDIsIHRhcmdldEJveC54Mik7XG4gICAgICAgIHRoaXMueTIgPSBNYXRoLm1heCh0aGlzLnkyLCB0YXJnZXRCb3gueTIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHdyYXBQb2ludChwb2ludCkge1xuICAgICAgICBjb25zdCBhcnJheVBvaW50ID0gaXNBcnJheShwb2ludCk7XG4gICAgICAgIGNvbnN0IHggPSBhcnJheVBvaW50ID8gcG9pbnRbMF0gOiBwb2ludC54O1xuICAgICAgICBjb25zdCB5ID0gYXJyYXlQb2ludCA/IHBvaW50WzFdIDogcG9pbnQueTtcbiAgICAgICAgdGhpcy53cmFwKG5ldyBCb3goeCwgeSwgeCwgeSkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNuYXBUbyh0YXJnZXRCb3gsIGF4aXMpIHtcblxuICAgICAgICBpZiAoYXhpcyA9PT0gWCB8fCAhYXhpcykge1xuICAgICAgICAgICAgdGhpcy54MSA9IHRhcmdldEJveC54MTtcbiAgICAgICAgICAgIHRoaXMueDIgPSB0YXJnZXRCb3gueDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gWSB8fCAhYXhpcykge1xuICAgICAgICAgICAgdGhpcy55MSA9IHRhcmdldEJveC55MTtcbiAgICAgICAgICAgIHRoaXMueTIgPSB0YXJnZXRCb3gueTI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhbGlnblRvKHRhcmdldEJveCwgYW5jaG9yKSB7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aCgpO1xuICAgICAgICBjb25zdCBheGlzID0gYW5jaG9yID09PSBUT1AgfHwgYW5jaG9yID09PSBCT1RUT00gPyBZIDogWDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gYXhpcyA9PT0gWSA/IGhlaWdodCA6IHdpZHRoO1xuXG4gICAgICAgIGlmIChhbmNob3IgPT09IENFTlRFUikge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2VudGVyID0gdGFyZ2V0Qm94LmNlbnRlcigpO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXIoKTtcblxuICAgICAgICAgICAgdGhpcy54MSArPSB0YXJnZXRDZW50ZXIueCAtIGNlbnRlci54O1xuICAgICAgICAgICAgdGhpcy55MSArPSB0YXJnZXRDZW50ZXIueSAtIGNlbnRlci55O1xuICAgICAgICB9IGVsc2UgaWYgKGFuY2hvciA9PT0gVE9QIHx8IGFuY2hvciA9PT0gTEVGVCkge1xuICAgICAgICAgICAgdGhpc1theGlzICsgMV0gPSB0YXJnZXRCb3hbYXhpcyArIDFdIC0gb2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1theGlzICsgMV0gPSB0YXJnZXRCb3hbYXhpcyArIDJdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy54MiA9IHRoaXMueDEgKyB3aWR0aDtcbiAgICAgICAgdGhpcy55MiA9IHRoaXMueTEgKyBoZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2hyaW5rKGR3LCBkaCkge1xuXG4gICAgICAgIHRoaXMueDIgLT0gZHc7XG4gICAgICAgIHRoaXMueTIgLT0gZGg7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZXhwYW5kKGR3LCBkaCkge1xuICAgICAgICB0aGlzLnNocmluaygtZHcsIC1kaCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHBhZChwYWRkaW5nKSB7XG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSBnZXRTcGFjaW5nKHBhZGRpbmcpO1xuXG4gICAgICAgIHRoaXMueDEgLT0gc3BhY2luZy5sZWZ0O1xuICAgICAgICB0aGlzLngyICs9IHNwYWNpbmcucmlnaHQ7XG4gICAgICAgIHRoaXMueTEgLT0gc3BhY2luZy50b3A7XG4gICAgICAgIHRoaXMueTIgKz0gc3BhY2luZy5ib3R0b207XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdW5wYWQocGFkZGluZykge1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gZ2V0U3BhY2luZyhwYWRkaW5nKTtcblxuICAgICAgICBzcGFjaW5nLmxlZnQgPSAtc3BhY2luZy5sZWZ0O1xuICAgICAgICBzcGFjaW5nLnRvcCA9IC1zcGFjaW5nLnRvcDtcbiAgICAgICAgc3BhY2luZy5yaWdodCA9IC1zcGFjaW5nLnJpZ2h0O1xuICAgICAgICBzcGFjaW5nLmJvdHRvbSA9IC1zcGFjaW5nLmJvdHRvbTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wYWQoc3BhY2luZyk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQm94KHRoaXMueDEsIHRoaXMueTEsIHRoaXMueDIsIHRoaXMueTIpO1xuICAgIH1cblxuICAgIGNlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgIHRoaXMueDEgKyB0aGlzLndpZHRoKCkgLyAyLFxuICAgICAgICAgICAgdGhpcy55MSArIHRoaXMuaGVpZ2h0KCkgLyAyXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY29udGFpbnNQb2ludChwb2ludCkge1xuXG4gICAgICAgIHJldHVybiBwb2ludC54ID49IHRoaXMueDEgJiYgcG9pbnQueCA8PSB0aGlzLngyICYmXG4gICAgICAgICAgICAgICBwb2ludC55ID49IHRoaXMueTEgJiYgcG9pbnQueSA8PSB0aGlzLnkyO1xuICAgIH1cblxuICAgIHBvaW50cygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLngxLCB0aGlzLnkxKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLngyLCB0aGlzLnkxKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLngyLCB0aGlzLnkyKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLngxLCB0aGlzLnkyKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldEhhc2goKSB7XG4gICAgICAgIHJldHVybiBbIHRoaXMueDEsIHRoaXMueTEsIHRoaXMueDIsIHRoaXMueTIgXS5qb2luKFwiLFwiKTtcbiAgICB9XG5cbiAgICBvdmVybGFwcyhib3gpIHtcbiAgICAgICAgcmV0dXJuICEoYm94LnkyIDwgdGhpcy55MSB8fCB0aGlzLnkyIDwgYm94LnkxIHx8IGJveC54MiA8IHRoaXMueDEgfHwgdGhpcy54MiA8IGJveC54MSk7XG4gICAgfVxuXG4gICAgcm90YXRlKHJvdGF0aW9uKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMud2lkdGgoKTtcbiAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMuaGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IHsgeDogY3gsIHk6IGN5IH0gPSB0aGlzLmNlbnRlcigpO1xuXG4gICAgICAgIGNvbnN0IHIxID0gcm90YXRlUG9pbnQoMCwgMCwgY3gsIGN5LCByb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHIyID0gcm90YXRlUG9pbnQod2lkdGgsIDAsIGN4LCBjeSwgcm90YXRpb24pO1xuICAgICAgICBjb25zdCByMyA9IHJvdGF0ZVBvaW50KHdpZHRoLCBoZWlnaHQsIGN4LCBjeSwgcm90YXRpb24pO1xuICAgICAgICBjb25zdCByNCA9IHJvdGF0ZVBvaW50KDAsIGhlaWdodCwgY3gsIGN5LCByb3RhdGlvbik7XG5cbiAgICAgICAgd2lkdGggPSBNYXRoLm1heChyMS54LCByMi54LCByMy54LCByNC54KSAtIE1hdGgubWluKHIxLngsIHIyLngsIHIzLngsIHI0LngpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLm1heChyMS55LCByMi55LCByMy55LCByNC55KSAtIE1hdGgubWluKHIxLnksIHIyLnksIHIzLnksIHI0LnkpO1xuXG4gICAgICAgIHRoaXMueDIgPSB0aGlzLngxICsgd2lkdGg7XG4gICAgICAgIHRoaXMueTIgPSB0aGlzLnkxICsgaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvUmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBnZW9tLlJlY3QoWyB0aGlzLngxLCB0aGlzLnkxIF0sIFsgdGhpcy53aWR0aCgpLCB0aGlzLmhlaWdodCgpIF0pO1xuICAgIH1cblxuICAgIGhhc1NpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoKCkgIT09IDAgJiYgdGhpcy5oZWlnaHQoKSAhPT0gMDtcbiAgICB9XG5cbiAgICBhbGlnbih0YXJnZXRCb3gsIGF4aXMsIGFsaWdubWVudCkge1xuICAgICAgICBjb25zdCBjMSA9IGF4aXMgKyAxO1xuICAgICAgICBjb25zdCBjMiA9IGF4aXMgKyAyO1xuICAgICAgICBjb25zdCBzaXplRnVuYyA9IGF4aXMgPT09IFggPyBXSURUSCA6IEhFSUdIVDtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXNbc2l6ZUZ1bmNdKCk7XG5cbiAgICAgICAgaWYgKGluQXJyYXkoYWxpZ25tZW50LCBbIExFRlQsIFRPUCBdKSkge1xuICAgICAgICAgICAgdGhpc1tjMV0gPSB0YXJnZXRCb3hbYzFdO1xuICAgICAgICAgICAgdGhpc1tjMl0gPSB0aGlzW2MxXSArIHNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5BcnJheShhbGlnbm1lbnQsIFsgUklHSFQsIEJPVFRPTSBdKSkge1xuICAgICAgICAgICAgdGhpc1tjMl0gPSB0YXJnZXRCb3hbYzJdO1xuICAgICAgICAgICAgdGhpc1tjMV0gPSB0aGlzW2MyXSAtIHNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAoYWxpZ25tZW50ID09PSBDRU5URVIpIHtcbiAgICAgICAgICAgIHRoaXNbYzFdID0gdGFyZ2V0Qm94W2MxXSArICh0YXJnZXRCb3hbc2l6ZUZ1bmNdKCkgLSBzaXplKSAvIDI7XG4gICAgICAgICAgICB0aGlzW2MyXSA9IHRoaXNbYzFdICsgc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcm90YXRlUG9pbnQoeCwgeSwgY3gsIGN5LCBhbmdsZSkge1xuICAgIGNvbnN0IHRoZXRhID0gcmFkKGFuZ2xlKTtcblxuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIGN4ICsgKHggLSBjeCkgKiBNYXRoLmNvcyh0aGV0YSkgKyAoeSAtIGN5KSAqIE1hdGguc2luKHRoZXRhKSxcbiAgICAgICAgY3kgLSAoeCAtIGN4KSAqIE1hdGguc2luKHRoZXRhKSArICh5IC0gY3kpICogTWF0aC5jb3ModGhldGEpXG4gICAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQm94O1xuIiwiaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9wb2ludCc7XG5pbXBvcnQgeyBDT09SRF9QUkVDSVNJT04sIE1BWF9WQUxVRSwgTUlOX1ZBTFVFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgY2xvY2t3aXNlLCByYWQsIHJvdW5kIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUmluZyBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKGNlbnRlciwgaW5uZXJSYWRpdXMsIHJhZGl1cywgc3RhcnRBbmdsZSwgYW5nbGUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgdGhpcy5zdGFydEFuZ2xlID0gc3RhcnRBbmdsZTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJpbmcodGhpcy5jZW50ZXIsIHRoaXMuaW5uZXJSYWRpdXMsIHRoaXMucmFkaXVzLCB0aGlzLnN0YXJ0QW5nbGUsIHRoaXMuYW5nbGUpO1xuICAgIH1cblxuICAgIG1pZGRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRBbmdsZSArIHRoaXMuYW5nbGUgLyAyO1xuICAgIH1cblxuICAgIHNldFJhZGl1cyhuZXdSYWRpdXMsIGlubmVyUmFkaXVzKSB7XG4gICAgICAgIGlmIChpbm5lclJhZGl1cykge1xuICAgICAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IG5ld1JhZGl1cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmFkaXVzID0gbmV3UmFkaXVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogUmVtb3ZlIGFuZCByZXBsYWNlIHdpdGggUG9pbnQub25DaXJjbGVcbiAgICBwb2ludChhbmdsZSwgaW5uZXJSYWRpdXMpIHtcbiAgICAgICAgY29uc3QgcmFkaWFuQW5nbGUgPSByYWQoYW5nbGUpO1xuICAgICAgICBjb25zdCBheCA9IE1hdGguY29zKHJhZGlhbkFuZ2xlKTtcbiAgICAgICAgY29uc3QgYXkgPSBNYXRoLnNpbihyYWRpYW5BbmdsZSk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGlubmVyUmFkaXVzID8gdGhpcy5pbm5lclJhZGl1cyA6IHRoaXMucmFkaXVzO1xuICAgICAgICBjb25zdCB4ID0gcm91bmQodGhpcy5jZW50ZXIueCAtIChheCAqIHJhZGl1cyksIENPT1JEX1BSRUNJU0lPTik7XG4gICAgICAgIGNvbnN0IHkgPSByb3VuZCh0aGlzLmNlbnRlci55IC0gKGF5ICogcmFkaXVzKSwgQ09PUkRfUFJFQ0lTSU9OKTtcblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpO1xuICAgIH1cblxuICAgIGFkamFjZW50Qm94KGRpc3RhbmNlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHRoaXMuY2xvbmUoKS5leHBhbmQoZGlzdGFuY2UpO1xuICAgICAgICBjb25zdCBtaWRBbmRsZSA9IHNlY3Rvci5taWRkbGUoKTtcbiAgICAgICAgY29uc3QgbWlkUG9pbnQgPSBzZWN0b3IucG9pbnQobWlkQW5kbGUpO1xuICAgICAgICBjb25zdCBodyA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgaGggPSBoZWlnaHQgLyAyO1xuICAgICAgICBjb25zdCBzYSA9IE1hdGguc2luKHJhZChtaWRBbmRsZSkpO1xuICAgICAgICBjb25zdCBjYSA9IE1hdGguY29zKHJhZChtaWRBbmRsZSkpO1xuICAgICAgICBsZXQgeCA9IG1pZFBvaW50LnggLSBodztcbiAgICAgICAgbGV0IHkgPSBtaWRQb2ludC55IC0gaGg7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHNhKSA8IDAuOSkge1xuICAgICAgICAgICAgeCArPSBodyAqIC1jYSAvIE1hdGguYWJzKGNhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLmFicyhjYSkgPCAwLjkpIHtcbiAgICAgICAgICAgIHkgKz0gaGggKiAtc2EgLyBNYXRoLmFicyhzYSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEJveCh4LCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xuICAgIH1cblxuICAgIGNvbnRhaW5zUG9pbnQocCkge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlcjtcbiAgICAgICAgY29uc3QgaW5uZXJSYWRpdXMgPSB0aGlzLmlubmVyUmFkaXVzO1xuICAgICAgICBjb25zdCByYWRpdXMgPSB0aGlzLnJhZGl1cztcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSB0aGlzLnN0YXJ0QW5nbGUgKyB0aGlzLmFuZ2xlO1xuICAgICAgICBjb25zdCBkeCA9IHAueCAtIGNlbnRlci54O1xuICAgICAgICBjb25zdCBkeSA9IHAueSAtIGNlbnRlci55O1xuICAgICAgICBjb25zdCB2ZWN0b3IgPSBuZXcgUG9pbnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IHRoaXMucG9pbnQoc3RhcnRBbmdsZSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0VmVjdG9yID0gbmV3IFBvaW50KHN0YXJ0UG9pbnQueCAtIGNlbnRlci54LCBzdGFydFBvaW50LnkgLSBjZW50ZXIueSk7XG4gICAgICAgIGNvbnN0IGVuZFBvaW50ID0gdGhpcy5wb2ludChlbmRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGVuZFZlY3RvciA9IG5ldyBQb2ludChlbmRQb2ludC54IC0gY2VudGVyLngsIGVuZFBvaW50LnkgLSBjZW50ZXIueSk7XG4gICAgICAgIGNvbnN0IGRpc3QgPSByb3VuZChkeCAqIGR4ICsgZHkgKiBkeSwgQ09PUkRfUFJFQ0lTSU9OKTtcblxuICAgICAgICByZXR1cm4gKHN0YXJ0VmVjdG9yLmVxdWFscyh2ZWN0b3IpIHx8IGNsb2Nrd2lzZShzdGFydFZlY3RvciwgdmVjdG9yKSkgJiZcbiAgICAgICAgICAgICAgICFjbG9ja3dpc2UoZW5kVmVjdG9yLCB2ZWN0b3IpICYmXG4gICAgICAgICAgICAgICBkaXN0ID49IGlubmVyUmFkaXVzICogaW5uZXJSYWRpdXMgJiYgZGlzdCA8PSByYWRpdXMgKiByYWRpdXM7XG4gICAgfVxuXG4gICAgZ2V0QkJveCgpIHtcbiAgICAgICAgY29uc3QgYm94ID0gbmV3IEJveChNQVhfVkFMVUUsIE1BWF9WQUxVRSwgTUlOX1ZBTFVFLCBNSU5fVkFMVUUpO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gcm91bmQodGhpcy5zdGFydEFuZ2xlICUgMzYwKTtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSByb3VuZCgoc3RhcnRBbmdsZSArIHRoaXMuYW5nbGUpICUgMzYwKTtcbiAgICAgICAgY29uc3QgaW5uZXJSYWRpdXMgPSB0aGlzLmlubmVyUmFkaXVzO1xuICAgICAgICBjb25zdCBhbGxBbmdsZXMgPSBbIDAsIDkwLCAxODAsIDI3MCwgc3RhcnRBbmdsZSwgZW5kQW5nbGUgXS5zb3J0KG51bWVyaWNDb21wYXJlcik7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGVJbmRleCA9IGFsbEFuZ2xlcy5pbmRleE9mKHN0YXJ0QW5nbGUpO1xuICAgICAgICBjb25zdCBlbmRBbmdsZUluZGV4ID0gYWxsQW5nbGVzLmluZGV4T2YoZW5kQW5nbGUpO1xuICAgICAgICBsZXQgYW5nbGVzO1xuXG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgYW5nbGVzID0gYWxsQW5nbGVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN0YXJ0QW5nbGVJbmRleCA8IGVuZEFuZ2xlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBhbmdsZXMgPSBhbGxBbmdsZXMuc2xpY2Uoc3RhcnRBbmdsZUluZGV4LCBlbmRBbmdsZUluZGV4ICsgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuZ2xlcyA9IFtdLmNvbmNhdChcbiAgICAgICAgICAgICAgICAgICAgYWxsQW5nbGVzLnNsaWNlKDAsIGVuZEFuZ2xlSW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgYWxsQW5nbGVzLnNsaWNlKHN0YXJ0QW5nbGVJbmRleCwgYWxsQW5nbGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IHRoaXMucG9pbnQoYW5nbGVzW2ldKTtcbiAgICAgICAgICAgIGJveC53cmFwUG9pbnQocG9pbnQpO1xuICAgICAgICAgICAgYm94LndyYXBQb2ludChwb2ludCwgaW5uZXJSYWRpdXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbm5lclJhZGl1cykge1xuICAgICAgICAgICAgYm94LndyYXBQb2ludCh0aGlzLmNlbnRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm94O1xuICAgIH1cblxuICAgIGV4cGFuZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhZGl1cyArPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBudW1lcmljQ29tcGFyZXIoYSwgYikge1xuICAgIHJldHVybiBhIC0gYjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmluZzsiLCJpbXBvcnQgUmluZyBmcm9tICcuL3JpbmcnO1xuXG5jbGFzcyBTZWN0b3IgZXh0ZW5kcyBSaW5nIHtcbiAgICBjb25zdHJ1Y3RvcihjZW50ZXIsIHJhZGl1cywgc3RhcnRBbmdsZSwgYW5nbGUpIHtcbiAgICAgICAgc3VwZXIoY2VudGVyLCAwLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGFuZ2xlKTtcbiAgICB9XG5cbiAgICBleHBhbmQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmV4cGFuZCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VjdG9yKHRoaXMuY2VudGVyLCB0aGlzLnJhZGl1cywgdGhpcy5zdGFydEFuZ2xlLCB0aGlzLmFuZ2xlKTtcbiAgICB9XG5cbiAgICBzZXRSYWRpdXMobmV3UmFkaXVzKSB7XG4gICAgICAgIHRoaXMucmFkaXVzID0gbmV3UmFkaXVzO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdG9yOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20sIGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY29uc3QgRElSRUNUSU9OX0FOR0xFID0gMC4wMDE7IC8vYW55IHZhbHVlIHRoYXQgd2lsbCBtYWtlIHRoZSBlbmRBbmdsZSBiaWdnZXIgdGhhbiB0aGUgc3RhcnQgYW5nbGUgd2lsbCB3b3JrIGhlcmUuXG5cbmNsYXNzIFNoYXBlQnVpbGRlciBleHRlbmRzIENsYXNzIHtcbiAgICBjcmVhdGVSaW5nKHNlY3Rvciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gc2VjdG9yLnN0YXJ0QW5nbGUgKyAxODA7XG4gICAgICAgIGxldCBlbmRBbmdsZSA9IHNlY3Rvci5hbmdsZSArIHN0YXJ0QW5nbGU7XG5cbiAgICAgICAgLy9yZXF1aXJlZCBpbiBvcmRlciB0byBhdm9pZCByZXZlcnNpbmcgdGhlIGFyYyBkaXJlY3Rpb24gaW4gY2FzZXMgbGlrZSAwLjAwMDAwMDAwMDAwMDAwMSArIDEwMCA9PT0gMTAwXG4gICAgICAgIGlmIChzZWN0b3IuYW5nbGUgPiAwICYmIHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBlbmRBbmdsZSArPSBESVJFQ1RJT05fQU5HTEU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgZ2VvbS5Qb2ludChzZWN0b3IuY2VudGVyLngsIHNlY3Rvci5jZW50ZXIueSk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgubWF4KHNlY3Rvci5yYWRpdXMsIDApO1xuICAgICAgICBjb25zdCBpbm5lclJhZGl1cyA9IE1hdGgubWF4KHNlY3Rvci5pbm5lclJhZGl1cywgMCk7XG4gICAgICAgIGNvbnN0IGFyYyA9IG5ldyBnZW9tLkFyYyhjZW50ZXIsIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGUsXG4gICAgICAgICAgICByYWRpdXNYOiByYWRpdXMsXG4gICAgICAgICAgICByYWRpdXNZOiByYWRpdXNcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkcmF3LlBhdGguZnJvbUFyYyhhcmMsIG9wdGlvbnMpLmNsb3NlKCk7XG5cbiAgICAgICAgaWYgKGlubmVyUmFkaXVzKSB7XG4gICAgICAgICAgICBhcmMucmFkaXVzWCA9IGFyYy5yYWRpdXNZID0gaW5uZXJSYWRpdXM7XG4gICAgICAgICAgICBjb25zdCBpbm5lckVuZCA9IGFyYy5wb2ludEF0KGVuZEFuZ2xlKTtcbiAgICAgICAgICAgIHBhdGgubGluZVRvKGlubmVyRW5kLngsIGlubmVyRW5kLnkpO1xuICAgICAgICAgICAgcGF0aC5hcmMoZW5kQW5nbGUsIHN0YXJ0QW5nbGUsIGlubmVyUmFkaXVzLCBpbm5lclJhZGl1cywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXRoLmxpbmVUbyhjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxufVxuXG5TaGFwZUJ1aWxkZXIuY3VycmVudCA9IG5ldyBTaGFwZUJ1aWxkZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgU2hhcGVCdWlsZGVyOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgV0hJVEUgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIENoYXJ0RWxlbWVudCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgdGhpcy5pbml0VXNlck9wdGlvbnMob3B0aW9ucykpO1xuICAgIH1cblxuICAgIGluaXRVc2VyT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBsZXQgYm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50Q2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGN1cnJlbnRDaGlsZC5yZWZsb3codGFyZ2V0Qm94KTtcblxuICAgICAgICAgICAgYm94ID0gYm94ID8gYm94LndyYXAoY3VycmVudENoaWxkLmJveCkgOiBjdXJyZW50Q2hpbGQuYm94LmNsb25lKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJveCA9IGJveCB8fCB0YXJnZXRCb3g7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuXG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Um9vdCgpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5nZXRSb290KCkgOiBudWxsO1xuICAgIH1cblxuICAgIGdldFNlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgc2VydmljZSA9IHRoaXMuZ2V0U2VydmljZSgpO1xuICAgICAgICBpZiAoc2VydmljZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2Uuc2VuZGVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U2VydmljZSgpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzO1xuICAgICAgICB3aGlsZSAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2hhcnRTZXJ2aWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlQ2hpbGRyZW4oZHgsIGR5KSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY2hpbGRyZW5Db3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0uYm94LnRyYW5zbGF0ZShkeCwgZHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwZW5kKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goaXRlbSk7XG4gICAgICAgICAgICBpdGVtLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgdGhpcy5hZGRWaXN1YWwoKTtcblxuICAgICAgICB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDb21wbGV0ZSgpO1xuICAgIH1cblxuICAgIGFkZFZpc3VhbCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5jaGFydEVsZW1lbnQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRWaXN1YWwodGhpcy52aXN1YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyQ2hpbGRyZW4oKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltpXS5yZW5kZXJWaXN1YWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB6SW5kZXg6IHRoaXMub3B0aW9ucy56SW5kZXgsXG4gICAgICAgICAgICB2aXNpYmxlOiB2YWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudmlzaWJsZSwgdHJ1ZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy52aXN1YWwgJiYgdGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBkcmF3LkFuaW1hdGlvbi5jcmVhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWwsIHRoaXMub3B0aW9ucy5hbmltYXRpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRWaXN1YWwoY2hpbGRWaXN1YWwpIHtcbiAgICAgICAgaWYgKCFjaGlsZFZpc3VhbC5jaGFydEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNoaWxkVmlzdWFsLmNoYXJ0RWxlbWVudCA9IHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGRWaXN1YWwub3B0aW9ucy5ub2NsaXApIHtcbiAgICAgICAgICAgIHRoaXMuY2xpcFJvb3QoKS52aXN1YWwuYXBwZW5kKGNoaWxkVmlzdWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChkZWZpbmVkKGNoaWxkVmlzdWFsLm9wdGlvbnMuekluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy5zdGFja1Jvb3QoKS5zdGFja1Zpc3VhbChjaGlsZFZpc3VhbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1N0YWNrUm9vdCkge1xuICAgICAgICAgICAgdGhpcy5zdGFja1Zpc3VhbChjaGlsZFZpc3VhbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy52aXN1YWwpIHtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChjaGlsZFZpc3VhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBbGxvdyBjaGFydCBlbGVtZW50cyB3aXRob3V0IHZpc3VhbHMgdG9cbiAgICAgICAgICAgIC8vIHBhc3MgdGhyb3VnaCBjaGlsZCB2aXN1YWxzXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRWaXN1YWwoY2hpbGRWaXN1YWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xpcFJvb3QoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNsaXBSb290KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGFja1Jvb3QoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LnN0YWNrUm9vdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhY2tWaXN1YWwoY2hpbGRWaXN1YWwpIHtcbiAgICAgICAgY29uc3QgekluZGV4ID0gY2hpbGRWaXN1YWwub3B0aW9ucy56SW5kZXggfHwgMDtcbiAgICAgICAgY29uc3QgdmlzdWFscyA9IHRoaXMudmlzdWFsLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2aXN1YWxzLmxlbmd0aDtcbiAgICAgICAgbGV0IHBvcztcblxuICAgICAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHtcbiAgICAgICAgICAgIGxldCBzaWJsaW5nID0gdmlzdWFsc1twb3NdO1xuICAgICAgICAgICAgbGV0IGhlcmUgPSB2YWx1ZU9yRGVmYXVsdChzaWJsaW5nLm9wdGlvbnMuekluZGV4LCAwKTtcbiAgICAgICAgICAgIGlmIChoZXJlID4gekluZGV4KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc3VhbC5pbnNlcnQocG9zLCBjaGlsZFZpc3VhbCk7XG4gICAgfVxuXG4gICAgdHJhdmVyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChjaGlsZC50cmF2ZXJzZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnRyYXZlcnNlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3Nlc3QobWF0Y2gpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzO1xuICAgICAgICBsZXQgbWF0Y2hlZCA9IGZhbHNlO1xuXG4gICAgICAgIHdoaWxlIChlbGVtZW50ICYmICFtYXRjaGVkKSB7XG4gICAgICAgICAgICBtYXRjaGVkID0gbWF0Y2goZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmICghbWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckNvbXBsZXRlKCkge31cblxuICAgIGhhc0hpZ2hsaWdodCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9ICh0aGlzLm9wdGlvbnMgfHwge30pLmhpZ2hsaWdodDtcbiAgICAgICAgcmV0dXJuICEoIXRoaXMuY3JlYXRlSGlnaGxpZ2h0IHx8IChvcHRpb25zICYmIG9wdGlvbnMudmlzaWJsZSA9PT0gZmFsc2UpKTtcbiAgICB9XG5cbiAgICB0b2dnbGVIaWdobGlnaHQoc2hvdywgb3BhY2l0eSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gKHRoaXMub3B0aW9ucyB8fCB7fSkuaGlnaGxpZ2h0IHx8IHt9O1xuICAgICAgICBjb25zdCBjdXN0b21WaXN1YWwgPSBvcHRpb25zLnZpc3VhbDtcbiAgICAgICAgbGV0IGhpZ2hsaWdodCA9IHRoaXMuX2hpZ2hsaWdodDtcblxuICAgICAgICBpZiAoIWhpZ2hsaWdodCkge1xuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eSB8fCAwLjJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5IHx8IDAuMlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChjdXN0b21WaXN1YWwpIHtcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQgPSB0aGlzLl9oaWdobGlnaHQgPSBjdXN0b21WaXN1YWwoXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5oaWdobGlnaHRWaXN1YWxBcmdzKCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4gdGhpcy5jcmVhdGVIaWdobGlnaHQoaGlnaGxpZ2h0T3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuZ2V0U2VuZGVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5wZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVubmluZ1RvdGFsOiB0aGlzLnJ1bm5pbmdUb3RhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0aGlzLnRvdGFsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgICAgIGlmICghaGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZ2hsaWdodCA9IHRoaXMuX2hpZ2hsaWdodCA9IHRoaXMuY3JlYXRlSGlnaGxpZ2h0KGhpZ2hsaWdodE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWRlZmluZWQoaGlnaGxpZ2h0Lm9wdGlvbnMuekluZGV4KSkge1xuICAgICAgICAgICAgICAgIGhpZ2hsaWdodC5vcHRpb25zLnpJbmRleCA9IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMuekluZGV4LCB0aGlzLm9wdGlvbnMuekluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hcHBlbmRWaXN1YWwoaGlnaGxpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhpZ2hsaWdodC52aXNpYmxlKHNob3cpO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyYWRpZW50T3ZlcmxheShlbGVtZW50LCBvcHRpb25zLCBncmFkaWVudE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IG5ldyBkcmF3LlBhdGgoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJub25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWxsOiB0aGlzLmNyZWF0ZUdyYWRpZW50KGdyYWRpZW50T3B0aW9ucyksXG4gICAgICAgICAgICBjbG9zZWQ6IGVsZW1lbnQub3B0aW9ucy5jbG9zZWRcbiAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgIG92ZXJsYXkuc2VnbWVudHMuZWxlbWVudHMoZWxlbWVudC5zZWdtZW50cy5lbGVtZW50cygpKTtcblxuICAgICAgICByZXR1cm4gb3ZlcmxheTtcbiAgICB9XG5cbiAgICBjcmVhdGVHcmFkaWVudChvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNyZWF0ZUdyYWRpZW50KG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3VwcG9ydHNQb2ludEluYWN0aXZlT3BhY2l0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG5DaGFydEVsZW1lbnQucHJvdG90eXBlLm9wdGlvbnMgPSB7IH07XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0RWxlbWVudDtcbiIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IENoYXJ0RWxlbWVudCBmcm9tICcuL2NoYXJ0LWVsZW1lbnQnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCB7IEJMQUNLLCBMRUZULCBUT1AsIFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldFNwYWNpbmcsIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEJveEVsZW1lbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm1hcmdpbiA9IGdldFNwYWNpbmcodGhpcy5vcHRpb25zLm1hcmdpbik7XG4gICAgICAgIHRoaXMub3B0aW9ucy5wYWRkaW5nID0gZ2V0U3BhY2luZyh0aGlzLm9wdGlvbnMucGFkZGluZyk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHNocmlua1RvRml0IH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBoYXNTZXRTaXplID0gd2lkdGggJiYgaGVpZ2h0O1xuICAgICAgICBjb25zdCBtYXJnaW4gPSBvcHRpb25zLm1hcmdpbjtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IG9wdGlvbnMucGFkZGluZztcbiAgICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSBvcHRpb25zLmJvcmRlci53aWR0aDtcbiAgICAgICAgbGV0IGJveDtcblxuICAgICAgICBjb25zdCByZWZsb3dQYWRkaW5nQm94ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbGlnbih0YXJnZXRCb3gsIFgsIG9wdGlvbnMuYWxpZ24pO1xuICAgICAgICAgICAgdGhpcy5hbGlnbih0YXJnZXRCb3gsIFksIG9wdGlvbnMudkFsaWduKTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ0JveCA9IGJveC5jbG9uZSgpLnVucGFkKG1hcmdpbikudW5wYWQoYm9yZGVyV2lkdGgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBjb250ZW50Qm94ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG4gICAgICAgIGlmIChoYXNTZXRTaXplKSB7XG4gICAgICAgICAgICBjb250ZW50Qm94LngyID0gY29udGVudEJveC54MSArIHdpZHRoO1xuICAgICAgICAgICAgY29udGVudEJveC55MiA9IGNvbnRlbnRCb3gueTEgKyBoZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hyaW5rVG9GaXQpIHtcbiAgICAgICAgICAgIGNvbnRlbnRCb3gudW5wYWQobWFyZ2luKS51bnBhZChib3JkZXJXaWR0aCkudW5wYWQocGFkZGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZWZsb3coY29udGVudEJveCk7XG5cbiAgICAgICAgaWYgKGhhc1NldFNpemUpIHtcbiAgICAgICAgICAgIGJveCA9IHRoaXMuYm94ID0gbmV3IEJveCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJveCA9IHRoaXMuYm94O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNocmlua1RvRml0ICYmIGhhc1NldFNpemUpIHtcbiAgICAgICAgICAgIHJlZmxvd1BhZGRpbmdCb3goKTtcbiAgICAgICAgICAgIGNvbnRlbnRCb3ggPSB0aGlzLmNvbnRlbnRCb3ggPSB0aGlzLnBhZGRpbmdCb3guY2xvbmUoKS51bnBhZChwYWRkaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnRCb3ggPSB0aGlzLmNvbnRlbnRCb3ggPSBib3guY2xvbmUoKTtcbiAgICAgICAgICAgIGJveC5wYWQocGFkZGluZykucGFkKGJvcmRlcldpZHRoKS5wYWQobWFyZ2luKTtcbiAgICAgICAgICAgIHJlZmxvd1BhZGRpbmdCb3goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhbnNsYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgICBib3gueDEgLSBjb250ZW50Qm94LngxICsgbWFyZ2luLmxlZnQgKyBib3JkZXJXaWR0aCArIHBhZGRpbmcubGVmdCxcbiAgICAgICAgICAgIGJveC55MSAtIGNvbnRlbnRCb3gueTEgKyBtYXJnaW4udG9wICsgYm9yZGVyV2lkdGggKyBwYWRkaW5nLnRvcFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGl0ZW0ucmVmbG93KGl0ZW0uYm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsaWduKHRhcmdldEJveCwgYXhpcywgYWxpZ25tZW50KSB7XG4gICAgICAgIHRoaXMuYm94LmFsaWduKHRhcmdldEJveCwgYXhpcywgYWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICBoYXNCb3goKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmJvcmRlci53aWR0aCB8fCBvcHRpb25zLmJhY2tncm91bmQ7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy52aXNpYmxlICYmIHRoaXMuaGFzQm94KCkpIHtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChkcmF3LlBhdGguZnJvbVJlY3QoXG4gICAgICAgICAgICAgICAgdGhpcy5wYWRkaW5nQm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3R5bGUoKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2aXN1YWxTdHlsZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYm9yZGVyID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB2YWx1ZU9yRGVmYXVsdChib3JkZXIub3BhY2l0eSwgb3B0aW9ucy5vcGFjaXR5KSxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3Vyc29yOiBvcHRpb25zLmN1cnNvclxuICAgICAgICB9O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQm94RWxlbWVudCwge1xuICAgIGFsaWduOiBMRUZULFxuICAgIHZBbGlnbjogVE9QLFxuICAgIG1hcmdpbjoge30sXG4gICAgcGFkZGluZzoge30sXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIGJhY2tncm91bmQ6IFwiXCIsXG4gICAgc2hyaW5rVG9GaXQ6IGZhbHNlLFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQm94RWxlbWVudDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgQ0VOVEVSLCBDSVJDTEUsIENPT1JEX1BSRUNJU0lPTiwgQ1JPU1MsIFJPVU5ERURfUkVDVCwgVFJJQU5HTEUgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vZHJhd2luZy11dGlscyc7XG5pbXBvcnQgQm94RWxlbWVudCBmcm9tICcuL2JveC1lbGVtZW50JztcblxuY2xhc3MgU2hhcGVFbGVtZW50IGV4dGVuZHMgQm94RWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBwb2ludERhdGEpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5wb2ludERhdGEgPSBwb2ludERhdGE7XG4gICAgfVxuXG4gICAgZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBwYWRkaW5nQm94OiBib3ggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcm90YXRpb24gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gYm94LndpZHRoKCkgLyAyO1xuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gYm94LmhlaWdodCgpIC8gMjtcblxuICAgICAgICBpZiAoIW9wdGlvbnMudmlzaWJsZSB8fCAhdGhpcy5oYXNCb3goKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMudmlzdWFsU3R5bGUoKTtcbiAgICAgICAgbGV0IGVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IENJUkNMRSkge1xuICAgICAgICAgICAgZWxlbWVudCA9IG5ldyBkcmF3LkNpcmNsZShcbiAgICAgICAgICAgICAgICBuZXcgZ2VvbS5DaXJjbGUoW1xuICAgICAgICAgICAgICAgICAgICByb3VuZChib3gueDEgKyBoYWxmV2lkdGgsIENPT1JEX1BSRUNJU0lPTiksXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kKGJveC55MSArIGhhbGZIZWlnaHQsIENPT1JEX1BSRUNJU0lPTilcbiAgICAgICAgICAgICAgICBdLCBNYXRoLm1pbihoYWxmV2lkdGgsIGhhbGZIZWlnaHQpKSxcbiAgICAgICAgICAgICAgICBzdHlsZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBUUklBTkdMRSkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKFtcbiAgICAgICAgICAgICAgICBbIGJveC54MSArIGhhbGZXaWR0aCwgYm94LnkxIF0sXG4gICAgICAgICAgICAgICAgWyBib3gueDEsIGJveC55MiBdLFxuICAgICAgICAgICAgICAgIFsgYm94LngyLCBib3gueTIgXVxuICAgICAgICAgICAgXSwgc3R5bGUpLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gQ1JPU1MpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBuZXcgZHJhdy5NdWx0aVBhdGgoc3R5bGUpO1xuXG4gICAgICAgICAgICBlbGVtZW50Lm1vdmVUbyhib3gueDEsIGJveC55MSkubGluZVRvKGJveC54MiwgYm94LnkyKTtcbiAgICAgICAgICAgIGVsZW1lbnQubW92ZVRvKGJveC54MSwgYm94LnkyKS5saW5lVG8oYm94LngyLCBib3gueTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGJveC50b1JlY3QoKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBST1VOREVEX1JFQ1QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmJvcmRlclJhZGl1cywgcmVjdC53aWR0aCgpIC8gNSk7XG4gICAgICAgICAgICAgICAgcmVjdC5zZXRDb3JuZXJSYWRpdXMoYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxlbWVudCA9IGRyYXcuUGF0aC5mcm9tUmVjdChyZWN0LCBzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgIGVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgICAgICAucm90YXRlKC1yb3RhdGlvbiwgWyBjZW50ZXIueCwgY2VudGVyLnkgXSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50Lm9wdGlvbnMuekluZGV4ID0gb3B0aW9ucy56SW5kZXg7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tVmlzdWFsID0gdGhpcy5vcHRpb25zLnZpc3VhbDtcbiAgICAgICAgY29uc3QgcG9pbnREYXRhID0gdGhpcy5wb2ludERhdGEgfHwge307XG4gICAgICAgIGxldCB2aXN1YWw7XG5cbiAgICAgICAgaWYgKGN1c3RvbVZpc3VhbCkge1xuICAgICAgICAgICAgdmlzdWFsID0gY3VzdG9tVmlzdWFsKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcG9pbnREYXRhLnZhbHVlLFxuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBwb2ludERhdGEuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgIHNlcmllczogcG9pbnREYXRhLnNlcmllcyxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogcG9pbnREYXRhLmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIHJlY3Q6IHRoaXMucGFkZGluZ0JveC50b1JlY3QoKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLnZpc3VhbE9wdGlvbnMoKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHRoaXMuZ2V0RWxlbWVudCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpc3VhbCA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZpc3VhbDtcbiAgICB9XG5cbiAgICB2aXN1YWxPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9yZGVyOiBvcHRpb25zLmJvcmRlcixcbiAgICAgICAgICAgIG1hcmdpbjogb3B0aW9ucy5tYXJnaW4sXG4gICAgICAgICAgICBwYWRkaW5nOiBvcHRpb25zLnBhZGRpbmcsXG4gICAgICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGUsXG4gICAgICAgICAgICBzaXplOiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgdmlzaWJsZTogb3B0aW9ucy52aXNpYmxlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICB0aGlzLnZpc3VhbCA9IHRoaXMuY3JlYXRlRWxlbWVudCgpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoU2hhcGVFbGVtZW50LCB7XG4gICAgdHlwZTogQ0lSQ0xFLFxuICAgIGFsaWduOiBDRU5URVIsXG4gICAgdkFsaWduOiBDRU5URVJcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTaGFwZUVsZW1lbnQ7XG4iLCJpbXBvcnQgeyBXSElURSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5jb25zdCBMSU5FQVIgPSBcImxpbmVhclwiO1xuY29uc3QgUkFESUFMID0gXCJyYWRpYWxcIjtcblxuY29uc3QgR1JBRElFTlRTID0ge1xuICAgIGdsYXNzOiB7XG4gICAgICAgIHR5cGU6IExJTkVBUixcbiAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgIHN0b3BzOiBbIHtcbiAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjI1LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSBdXG4gICAgfSxcbiAgICBzaGFycEJldmVsOiB7XG4gICAgICAgIHR5cGU6IFJBRElBTCxcbiAgICAgICAgc3RvcHM6IFsge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC41NVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuNjUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC45NSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMjVcbiAgICAgICAgfSBdXG4gICAgfSxcbiAgICByb3VuZGVkQmV2ZWw6IHtcbiAgICAgICAgdHlwZTogUkFESUFMLFxuICAgICAgICBzdG9wczogWyB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuMzMsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjA2XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC44MyxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuOTUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0gXVxuICAgIH0sXG4gICAgcm91bmRlZEdsYXNzOiB7XG4gICAgICAgIHR5cGU6IFJBRElBTCxcbiAgICAgICAgc3VwcG9ydFZNTDogZmFsc2UsXG4gICAgICAgIHN0b3BzOiBbIHtcbiAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjNcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjk5LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9IF1cbiAgICB9LFxuICAgIHNoYXJwR2xhc3M6IHtcbiAgICAgICAgdHlwZTogUkFESUFMLFxuICAgICAgICBzdXBwb3J0Vk1MOiBmYWxzZSxcbiAgICAgICAgc3RvcHM6IFsge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4yXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC4xNSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMTVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjE3LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zNVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuODUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjA1XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC44NyxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMTVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjk5LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9IF1cbiAgICB9LFxuICAgIGJ1YmJsZVNoYWRvdzoge1xuICAgICAgICB0eXBlOiBSQURJQUwsXG4gICAgICAgIGNlbnRlcjogWyAwLjUsIDAuNSBdLFxuICAgICAgICByYWRpdXM6IDAuNVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdSQURJRU5UUzsiLCJpbXBvcnQgQm94IGZyb20gJy4uL2JveCc7XG5pbXBvcnQgeyBncmVwIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYm94RGlmZihyLCBzKSB7XG4gICAgaWYgKHIueDEgPT09IHMueDEgJiYgci55MSA9PT0gcy55MSAmJiByLngyID09PSBzLngyICYmIHIueTIgPT09IHMueTIpIHtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgY29uc3QgYSA9IE1hdGgubWluKHIueDEsIHMueDEpO1xuICAgIGNvbnN0IGIgPSBNYXRoLm1heChyLngxLCBzLngxKTtcbiAgICBjb25zdCBjID0gTWF0aC5taW4oci54Miwgcy54Mik7XG4gICAgY29uc3QgZCA9IE1hdGgubWF4KHIueDIsIHMueDIpO1xuICAgIGNvbnN0IGUgPSBNYXRoLm1pbihyLnkxLCBzLnkxKTtcbiAgICBjb25zdCBmID0gTWF0aC5tYXgoci55MSwgcy55MSk7XG4gICAgY29uc3QgZyA9IE1hdGgubWluKHIueTIsIHMueTIpO1xuICAgIGNvbnN0IGggPSBNYXRoLm1heChyLnkyLCBzLnkyKTtcbiAgICBjb25zdCBib3hlcyA9IFtdO1xuXG4gICAgLy8gWCA9IGludGVyc2VjdGlvbiwgMC03ID0gcG9zc2libGUgZGlmZmVyZW5jZSBhcmVhc1xuICAgIC8vIGggKy0rLSstK1xuICAgIC8vIC4gfDV8Nnw3fFxuICAgIC8vIGcgKy0rLSstK1xuICAgIC8vIC4gfDN8WHw0fFxuICAgIC8vIGYgKy0rLSstK1xuICAgIC8vIC4gfDB8MXwyfFxuICAgIC8vIGUgKy0rLSstK1xuICAgIC8vIC4gYSBiIGMgZFxuXG4gICAgLy8gd2UnbGwgYWx3YXlzIGhhdmUgcmVjdGFuZ2xlcyAxLCAzLCA0IGFuZCA2XG4gICAgYm94ZXNbMF0gPSBuZXcgQm94KGIsIGUsIGMsIGYpO1xuICAgIGJveGVzWzFdID0gbmV3IEJveChhLCBmLCBiLCBnKTtcbiAgICBib3hlc1syXSA9IG5ldyBCb3goYywgZiwgZCwgZyk7XG4gICAgYm94ZXNbM10gPSBuZXcgQm94KGIsIGcsIGMsIGgpO1xuXG4gICAgLy8gZGVjaWRlIHdoaWNoIGNvcm5lcnNcbiAgICBpZiAoci54MSA9PT0gYSAmJiByLnkxID09PSBlIHx8IHMueDEgPT09IGEgJiYgcy55MSA9PT0gZSkgeyAvLyBjb3JuZXJzIDAgYW5kIDdcbiAgICAgICAgYm94ZXNbNF0gPSBuZXcgQm94KGEsIGUsIGIsIGYpO1xuICAgICAgICBib3hlc1s1XSA9IG5ldyBCb3goYywgZywgZCwgaCk7XG4gICAgfSBlbHNlIHsgLy8gY29ybmVycyAyIGFuZCA1XG4gICAgICAgIGJveGVzWzRdID0gbmV3IEJveChjLCBlLCBkLCBmKTtcbiAgICAgICAgYm94ZXNbNV0gPSBuZXcgQm94KGEsIGcsIGIsIGgpO1xuICAgIH1cblxuICAgIHJldHVybiBncmVwKGJveGVzLCBmdW5jdGlvbihib3gpIHtcbiAgICAgICAgcmV0dXJuIGJveC5oZWlnaHQoKSA+IDAgJiYgYm94LndpZHRoKCkgPiAwO1xuICAgIH0pWzBdO1xufSIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IENoYXJ0RWxlbWVudCBmcm9tICcuL2NoYXJ0LWVsZW1lbnQnO1xuaW1wb3J0IEdSQURJRU5UUyBmcm9tICcuL2dyYWRpZW50cyc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IGJveERpZmYgZnJvbSAnLi91dGlscy9ib3gtZGlmZic7XG5cbmltcG9ydCB7IERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hULCBXSElURSwgQkxBQ0sgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldFNwYWNpbmcsIG9iamVjdEtleSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBSb290RWxlbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICBjb25zdCByb290T3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcm9vdE9wdGlvbnMud2lkdGggPSBwYXJzZUludChyb290T3B0aW9ucy53aWR0aCwgMTApO1xuICAgICAgICByb290T3B0aW9ucy5oZWlnaHQgPSBwYXJzZUludChyb290T3B0aW9ucy5oZWlnaHQsIDEwKTtcblxuICAgICAgICB0aGlzLmdyYWRpZW50cyA9IHt9O1xuICAgIH1cblxuICAgIHJlZmxvdygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjaGlsZHJlbiB9ID0gdGhpcztcbiAgICAgICAgbGV0IGN1cnJlbnRCb3ggPSBuZXcgQm94KDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLmJveCA9IGN1cnJlbnRCb3gudW5wYWQob3B0aW9ucy5tYXJnaW4pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnJlZmxvdyhjdXJyZW50Qm94KTtcbiAgICAgICAgICAgIGN1cnJlbnRCb3ggPSBib3hEaWZmKGN1cnJlbnRCb3gsIGNoaWxkcmVuW2ldLmJveCkgfHwgbmV3IEJveCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICB0aGlzLnZpc3VhbCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQmFja2dyb3VuZCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhY2tncm91bmQoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IG9wdGlvbnMuYm9yZGVyIHx8IHt9O1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmJveC5jbG9uZSgpLnBhZChvcHRpb25zLm1hcmdpbikudW5wYWQoYm9yZGVyLndpZHRoKTtcblxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gZHJhdy5QYXRoLmZyb21SZWN0KGJveC50b1JlY3QoKSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci53aWR0aCA/IGJvcmRlci5jb2xvciA6IFwiXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgekluZGV4OiAtMTBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGJhY2tncm91bmQpO1xuICAgIH1cblxuICAgIGdldFJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyYWRpZW50KG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ3JhZGllbnRzID0gdGhpcy5ncmFkaWVudHM7XG4gICAgICAgIGNvbnN0IGhhc2hDb2RlID0gb2JqZWN0S2V5KG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBncmFkaWVudCA9IEdSQURJRU5UU1tvcHRpb25zLmdyYWRpZW50XTtcbiAgICAgICAgbGV0IGRyYXdpbmdHcmFkaWVudDtcblxuICAgICAgICBpZiAoZ3JhZGllbnRzW2hhc2hDb2RlXSkge1xuICAgICAgICAgICAgZHJhd2luZ0dyYWRpZW50ID0gZ3JhZGllbnRzW2hhc2hDb2RlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGdyYWRpZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChncmFkaWVudC50eXBlID09PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICAgICAgZHJhd2luZ0dyYWRpZW50ID0gbmV3IGRyYXcuTGluZWFyR3JhZGllbnQoZ3JhZGllbnRPcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5uZXJSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRPcHRpb25zLnN0b3BzID0gaW5uZXJSYWRpYWxTdG9wcyhncmFkaWVudE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkcmF3aW5nR3JhZGllbnQgPSBuZXcgZHJhdy5SYWRpYWxHcmFkaWVudChncmFkaWVudE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGRyYXdpbmdHcmFkaWVudC5zdXBwb3J0Vk1MID0gZ3JhZGllbnQuc3VwcG9ydFZNTCAhPT0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFkaWVudHNbaGFzaENvZGVdID0gZHJhd2luZ0dyYWRpZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRyYXdpbmdHcmFkaWVudDtcbiAgICB9XG5cbiAgICBjbGVhbkdyYWRpZW50cygpIHtcbiAgICAgICAgY29uc3QgZ3JhZGllbnRzID0gdGhpcy5ncmFkaWVudHM7XG4gICAgICAgIGZvciAobGV0IGhhc2hDb2RlIGluIGdyYWRpZW50cykge1xuICAgICAgICAgICAgZ3JhZGllbnRzW2hhc2hDb2RlXS5fb2JzZXJ2ZXJzID0gW107Ly9hZGQgY2xlYXIgb2JzZXJ2ZXJzIG1ldGhvZCBpbiBkcmF3aW5nIE9ic2VydmVyc01peGluXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaXplKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4gbmV3IEJveCgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSb290RWxlbWVudCwge1xuICAgIHdpZHRoOiBERUZBVUxUX1dJRFRILFxuICAgIGhlaWdodDogREVGQVVMVF9IRUlHSFQsXG4gICAgYmFja2dyb3VuZDogV0hJVEUsXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIG1hcmdpbjogZ2V0U3BhY2luZyg1KSxcbiAgICB6SW5kZXg6IC0yXG59KTtcblxuZnVuY3Rpb24gaW5uZXJSYWRpYWxTdG9wcyhvcHRpb25zKSB7XG4gICAgY29uc3Qgc3RvcHMgPSBvcHRpb25zLnN0b3BzO1xuICAgIGNvbnN0IHVzZWRTcGFjZSA9ICgob3B0aW9ucy5pbm5lclJhZGl1cyAvIG9wdGlvbnMucmFkaXVzKSAqIDEwMCk7XG4gICAgY29uc3QgbGVuZ3RoID0gc3RvcHMubGVuZ3RoO1xuICAgIGNvbnN0IGN1cnJlbnRTdG9wcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY3VycmVudFN0b3AgPSBPYmplY3QuYXNzaWduKHt9LCBzdG9wc1tpXSk7XG4gICAgICAgIGN1cnJlbnRTdG9wLm9mZnNldCA9IChjdXJyZW50U3RvcC5vZmZzZXQgKiAoMTAwIC0gdXNlZFNwYWNlKSArIHVzZWRTcGFjZSkgLyAxMDA7XG4gICAgICAgIGN1cnJlbnRTdG9wcy5wdXNoKGN1cnJlbnRTdG9wKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudFN0b3BzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSb290RWxlbWVudDsiLCJpbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgWCwgWSwgV0lEVEgsIEhFSUdIVCwgUklHSFQsIEJPVFRPTSwgQ0VOVEVSIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBGbG9hdEVsZW1lbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2luaXREaXJlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBfaW5pdERpcmVjdGlvbigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBBeGlzID0gWDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudEF4aXMgPSBZO1xuICAgICAgICAgICAgdGhpcy5ncm91cFNpemVGaWVsZCA9IFdJRFRIO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50U2l6ZUZpZWxkID0gSEVJR0hUO1xuICAgICAgICAgICAgdGhpcy5ncm91cFNwYWNpbmcgPSBvcHRpb25zLnNwYWNpbmc7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRTcGFjaW5nID0gb3B0aW9ucy52U3BhY2luZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBBeGlzID0gWTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudEF4aXMgPSBYO1xuICAgICAgICAgICAgdGhpcy5ncm91cFNpemVGaWVsZCA9IEhFSUdIVDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFNpemVGaWVsZCA9IFdJRFRIO1xuICAgICAgICAgICAgdGhpcy5ncm91cFNwYWNpbmcgPSBvcHRpb25zLnZTcGFjaW5nO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50U3BhY2luZyA9IG9wdGlvbnMuc3BhY2luZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgdGhpcy5ib3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcbiAgICAgICAgdGhpcy5yZWZsb3dDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIHJlZmxvd0NoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCB7IGJveCwgZWxlbWVudEF4aXMsIGdyb3VwQXhpcywgZWxlbWVudFNpemVGaWVsZCwgZ3JvdXBTaXplRmllbGQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgZ3JvdXBzLCBncm91cHNTaXplLCBtYXhHcm91cEVsZW1lbnRzU2l6ZSB9ID0gdGhpcy5ncm91cE9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzQ291bnQgPSBncm91cHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBncm91cHNTdGFydCA9IGJveFtncm91cEF4aXMgKyAxXSArIHRoaXMuYWxpZ25TdGFydChncm91cHNTaXplLCBib3hbZ3JvdXBTaXplRmllbGRdKCkpO1xuXG4gICAgICAgIGlmIChncm91cHNDb3VudCkge1xuICAgICAgICAgICAgbGV0IGdyb3VwU3RhcnQgPSBncm91cHNTdGFydDtcblxuICAgICAgICAgICAgZm9yIChsZXQgZ3JvdXBJZHggPSAwOyBncm91cElkeCA8IGdyb3Vwc0NvdW50OyBncm91cElkeCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gZ3JvdXBzW2dyb3VwSWR4XTtcbiAgICAgICAgICAgICAgICBsZXQgZ3JvdXBFbGVtZW50cyA9IGdyb3VwLmdyb3VwRWxlbWVudHM7XG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRTdGFydCA9IGJveFtlbGVtZW50QXhpcyArIDFdO1xuICAgICAgICAgICAgICAgIGxldCBncm91cEVsZW1lbnRzQ291bnQgPSBncm91cEVsZW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGdyb3VwRWxlbWVudHNDb3VudDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBncm91cEVsZW1lbnRzW2lkeF07XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemUoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBncm91cEVsZW1lbnRTdGFydCA9IGdyb3VwU3RhcnQgKyB0aGlzLmFsaWduU3RhcnQoZWxlbWVudFNpemVbZ3JvdXBTaXplRmllbGRdLCBncm91cC5ncm91cFNpemUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50Qm94ID0gbmV3IEJveCgpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Qm94W2dyb3VwQXhpcyArIDFdID0gZ3JvdXBFbGVtZW50U3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRCb3hbZ3JvdXBBeGlzICsgMl0gPSBncm91cEVsZW1lbnRTdGFydCArIGVsZW1lbnRTaXplW2dyb3VwU2l6ZUZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEJveFtlbGVtZW50QXhpcyArIDFdID0gZWxlbWVudFN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Qm94W2VsZW1lbnRBeGlzICsgMl0gPSBlbGVtZW50U3RhcnQgKyBlbGVtZW50U2l6ZVtlbGVtZW50U2l6ZUZpZWxkXTtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlZmxvdyhlbGVtZW50Qm94KTtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50U3RhcnQgKz0gZWxlbWVudFNpemVbZWxlbWVudFNpemVGaWVsZF0gKyB0aGlzLmVsZW1lbnRTcGFjaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cFN0YXJ0ICs9IGdyb3VwLmdyb3VwU2l6ZSArIHRoaXMuZ3JvdXBTcGFjaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm94W2dyb3VwQXhpcyArIDFdID0gZ3JvdXBzU3RhcnQ7XG4gICAgICAgICAgICBib3hbZ3JvdXBBeGlzICsgMl0gPSBncm91cHNTdGFydCArIGdyb3Vwc1NpemU7XG4gICAgICAgICAgICBib3hbZWxlbWVudEF4aXMgKyAyXSA9IGJveFtlbGVtZW50QXhpcyArIDFdICsgbWF4R3JvdXBFbGVtZW50c1NpemU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbGlnblN0YXJ0KHNpemUsIG1heFNpemUpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgY29uc3QgYWxpZ24gPSB0aGlzLm9wdGlvbnMuYWxpZ247XG4gICAgICAgIGlmIChhbGlnbiA9PT0gUklHSFQgfHwgYWxpZ24gPT09IEJPVFRPTSkge1xuICAgICAgICAgICAgc3RhcnQgPSBtYXhTaXplIC0gc2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICBzdGFydCA9IChtYXhTaXplIC0gc2l6ZSkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydDtcbiAgICB9XG5cbiAgICBncm91cE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHsgYm94LCBjaGlsZHJlbiwgZWxlbWVudFNpemVGaWVsZCwgZ3JvdXBTaXplRmllbGQsIGVsZW1lbnRTcGFjaW5nLCBncm91cFNwYWNpbmcgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1heFNpemUgPSByb3VuZChib3hbZWxlbWVudFNpemVGaWVsZF0oKSk7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuXG4gICAgICAgIGxldCBncm91cFNpemUgPSAwO1xuICAgICAgICBsZXQgZ3JvdXBFbGVtZW50c1NpemUgPSAwO1xuICAgICAgICBsZXQgZ3JvdXBzU2l6ZSA9IDA7XG4gICAgICAgIGxldCBtYXhHcm91cEVsZW1lbnRzU2l6ZSA9IDA7XG4gICAgICAgIGxldCBncm91cEVsZW1lbnRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2hpbGRyZW5Db3VudDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gY2hpbGRyZW5baWR4XTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5ib3gpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlZmxvdyhib3gpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53cmFwICYmIHJvdW5kKGdyb3VwRWxlbWVudHNTaXplICsgZWxlbWVudFNwYWNpbmcgKyBlbGVtZW50U2l6ZVtlbGVtZW50U2l6ZUZpZWxkXSkgPiBtYXhTaXplKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBncm91cEVsZW1lbnRzOiBncm91cEVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBncm91cFNpemU6IGdyb3VwU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50c1NpemU6IGdyb3VwRWxlbWVudHNTaXplXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWF4R3JvdXBFbGVtZW50c1NpemUgPSBNYXRoLm1heChtYXhHcm91cEVsZW1lbnRzU2l6ZSwgZ3JvdXBFbGVtZW50c1NpemUpO1xuICAgICAgICAgICAgICAgIGdyb3Vwc1NpemUgKz0gZ3JvdXBTcGFjaW5nICsgZ3JvdXBTaXplO1xuICAgICAgICAgICAgICAgIGdyb3VwU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50c1NpemUgPSAwO1xuICAgICAgICAgICAgICAgIGdyb3VwRWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyb3VwU2l6ZSA9IE1hdGgubWF4KGdyb3VwU2l6ZSwgZWxlbWVudFNpemVbZ3JvdXBTaXplRmllbGRdKTtcbiAgICAgICAgICAgIGlmIChncm91cEVsZW1lbnRzU2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICBncm91cEVsZW1lbnRzU2l6ZSArPSBlbGVtZW50U3BhY2luZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyb3VwRWxlbWVudHNTaXplICs9IGVsZW1lbnRTaXplW2VsZW1lbnRTaXplRmllbGRdO1xuICAgICAgICAgICAgZ3JvdXBFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBFbGVtZW50czogZ3JvdXBFbGVtZW50cyxcbiAgICAgICAgICAgIGdyb3VwU2l6ZTogZ3JvdXBTaXplLFxuICAgICAgICAgICAgZ3JvdXBFbGVtZW50c1NpemU6IGdyb3VwRWxlbWVudHNTaXplXG4gICAgICAgIH0pO1xuICAgICAgICBtYXhHcm91cEVsZW1lbnRzU2l6ZSA9IE1hdGgubWF4KG1heEdyb3VwRWxlbWVudHNTaXplLCBncm91cEVsZW1lbnRzU2l6ZSk7XG4gICAgICAgIGdyb3Vwc1NpemUgKz0gZ3JvdXBTaXplO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBncm91cHM6IGdyb3VwcyxcbiAgICAgICAgICAgIGdyb3Vwc1NpemU6IGdyb3Vwc1NpemUsXG4gICAgICAgICAgICBtYXhHcm91cEVsZW1lbnRzU2l6ZTogbWF4R3JvdXBFbGVtZW50c1NpemVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBlbGVtZW50U2l6ZShlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogZWxlbWVudC5ib3gud2lkdGgoKSxcbiAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5ib3guaGVpZ2h0KClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7fVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhGbG9hdEVsZW1lbnQsIHtcbiAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICB3cmFwOiB0cnVlLFxuICAgIHZTcGFjaW5nOiAwLFxuICAgIHNwYWNpbmc6IDBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBGbG9hdEVsZW1lbnQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgREVGQVVMVF9GT05ULCBCTEFDSyB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBEcmF3aW5nVGV4dCA9IGRyYXcuVGV4dDtcblxuY2xhc3MgVGV4dCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHNpemVcbiAgICAgICAgdGhpcy5yZWZsb3cobmV3IEJveCgpKTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNpemUgPSBvcHRpb25zLnNpemUgPSBkcmF3LnV0aWwubWVhc3VyZVRleHQodGhpcy5jb250ZW50LCB7IGZvbnQ6IG9wdGlvbnMuZm9udCB9KTtcblxuICAgICAgICB0aGlzLmJhc2VsaW5lID0gc2l6ZS5iYXNlbGluZTtcblxuICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3godGFyZ2V0Qm94LngxLCB0YXJnZXRCb3gueTEsXG4gICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngxICsgc2l6ZS53aWR0aCwgdGFyZ2V0Qm94LnkxICsgc2l6ZS5oZWlnaHQpO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBmb250LCBjb2xvciwgb3BhY2l0eSwgY3Vyc29yIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgRHJhd2luZ1RleHQodGhpcy5jb250ZW50LCB0aGlzLmJveC50b1JlY3QoKS50b3BMZWZ0KCksIHtcbiAgICAgICAgICAgIGZvbnQ6IGZvbnQsXG4gICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjb2xvciwgb3BhY2l0eTogb3BhY2l0eSB9LFxuICAgICAgICAgICAgY3Vyc29yOiBjdXJzb3JcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhUZXh0LCB7XG4gICAgZm9udDogREVGQVVMVF9GT05ULFxuICAgIGNvbG9yOiBCTEFDS1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRleHQ7XG4iLCJpbXBvcnQgQm94IGZyb20gJy4uL2JveCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlY3RUb0JveChyZWN0KSB7XG4gICAgY29uc3Qgb3JpZ2luID0gcmVjdC5vcmlnaW47XG4gICAgY29uc3QgYm90dG9tUmlnaHQgPSByZWN0LmJvdHRvbVJpZ2h0KCk7XG5cbiAgICByZXR1cm4gbmV3IEJveChvcmlnaW4ueCwgb3JpZ2luLnksIGJvdHRvbVJpZ2h0LngsIGJvdHRvbVJpZ2h0LnkpO1xufSIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IEJveEVsZW1lbnQgZnJvbSAnLi9ib3gtZWxlbWVudCc7XG5pbXBvcnQgRmxvYXRFbGVtZW50IGZyb20gJy4vZmxvYXQtZWxlbWVudCc7XG5pbXBvcnQgVGV4dCBmcm9tICcuL3RleHQnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCByZWN0VG9Cb3ggZnJvbSAnLi91dGlscy9yZWN0LXRvLWJveCc7XG5cbmltcG9ydCB7IGdldFNwYWNpbmcsIGRlZXBFeHRlbmQsIGRlZmluZWQgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5jb25zdCBST1dTX1NQTElUX1JFR0VYID0gL1xcbi9tO1xuXG5jbGFzcyBUZXh0Qm94IGV4dGVuZHMgQm94RWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50LCBvcHRpb25zLCBkYXRhKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIHRoaXMuX2luaXRDb250YWluZXIoKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5fYXV0b1JlZmxvdyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVmbG93KG5ldyBCb3goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdENvbnRhaW5lcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgcm93cyA9IFN0cmluZyh0aGlzLmNvbnRlbnQpLnNwbGl0KFJPV1NfU1BMSVRfUkVHRVgpO1xuICAgICAgICBjb25zdCBmbG9hdEVsZW1lbnQgPSBuZXcgRmxvYXRFbGVtZW50KHsgdmVydGljYWw6IHRydWUsIGFsaWduOiBvcHRpb25zLmFsaWduLCB3cmFwOiBmYWxzZSB9KTtcbiAgICAgICAgY29uc3QgdGV4dE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHsgfSwgb3B0aW9ucywgeyBvcGFjaXR5OiAxLCBhbmltYXRpb246IG51bGwgfSk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBmbG9hdEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuYXBwZW5kKGZsb2F0RWxlbWVudCk7XG5cbiAgICAgICAgZm9yIChsZXQgcm93SWR4ID0gMDsgcm93SWR4IDwgcm93cy5sZW5ndGg7IHJvd0lkeCsrKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IG5ldyBUZXh0KHJvd3Nbcm93SWR4XS50cmltKCksIHRleHRPcHRpb25zKTtcbiAgICAgICAgICAgIGZsb2F0RWxlbWVudC5hcHBlbmQodGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZpc3VhbEZuID0gb3B0aW9ucy52aXN1YWw7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm9wdGlvbnMuYWxpZ24gPSBvcHRpb25zLmFsaWduO1xuXG4gICAgICAgIGlmICh2aXN1YWxGbiAmJiAhdGhpcy5fYm94UmVmbG93KSB7XG4gICAgICAgICAgICBsZXQgdmlzdWFsQm94ID0gdGFyZ2V0Qm94O1xuICAgICAgICAgICAgaWYgKCF2aXN1YWxCb3guaGFzU2l6ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94UmVmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmxvdyh2aXN1YWxCb3gpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JveFJlZmxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZpc3VhbEJveCA9IHRoaXMuYm94O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmlzdWFsID0gdGhpcy52aXN1YWwgPSB2aXN1YWxGbih0aGlzLnZpc3VhbENvbnRleHQodmlzdWFsQm94KSk7XG5cbiAgICAgICAgICAgIGlmICh2aXN1YWwpIHtcbiAgICAgICAgICAgICAgICB2aXN1YWxCb3ggPSByZWN0VG9Cb3godmlzdWFsLmNsaXBwZWRCQm94KCkgfHwgbmV3IGdlb20uUmVjdCgpKTtcblxuICAgICAgICAgICAgICAgIHZpc3VhbC5vcHRpb25zLnpJbmRleCA9IG9wdGlvbnMuekluZGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJveCA9IHRoaXMuY29udGVudEJveCA9IHRoaXMucGFkZGluZ0JveCA9IHZpc3VhbEJveDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJlZmxvdyh0YXJnZXRCb3gpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmdpbiA9IGdldFNwYWNpbmcob3B0aW9ucy5tYXJnaW4pO1xuICAgICAgICAgICAgICAgIGxldCBib3ggPSB0aGlzLmJveC51bnBhZChtYXJnaW4pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRCb3ggPSB0YXJnZXRCb3g7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3JtYWxCb3ggPSBib3guY2xvbmUoKTtcblxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMucm90YXRlKCk7XG4gICAgICAgICAgICAgICAgYm94LnRyYW5zbGF0ZShtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCwgbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVkQm94ID0gYm94LmNsb25lKCk7XG5cbiAgICAgICAgICAgICAgICBib3gucGFkKG1hcmdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMucm90YXRpb25UcmFuc2Zvcm0oKSxcbiAgICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXgsXG4gICAgICAgICAgICBub2NsaXA6IG9wdGlvbnMubm9jbGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmhhc0JveCgpKSB7XG4gICAgICAgICAgICBjb25zdCBib3ggPSBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5wYWRkaW5nQm94LnRvUmVjdCgpLCB0aGlzLnZpc3VhbFN0eWxlKCkpO1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmlzdWFsKSB7XG4gICAgICAgICAgICBjb25zdCB2aXN1YWwgPSB0aGlzLnZpc3VhbDtcbiAgICAgICAgICAgIGlmICh2aXN1YWwgJiYgIWRlZmluZWQodmlzdWFsLm9wdGlvbnMubm9jbGlwKSkge1xuICAgICAgICAgICAgICAgIHZpc3VhbC5vcHRpb25zLm5vY2xpcCA9IHRoaXMub3B0aW9ucy5ub2NsaXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZFZpc3VhbCgpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmlzdWFsQ29udGV4dCh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgICAgIHRleHQ6IHRoaXMuY29udGVudCxcbiAgICAgICAgICAgIHJlY3Q6IHRhcmdldEJveC50b1JlY3QoKSxcbiAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JveFJlZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3hSZWZsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREZWZhdWx0VmlzdWFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cblxuICAgIGdldERlZmF1bHRWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlVmlzdWFsKCk7XG4gICAgICAgIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcbiAgICAgICAgY29uc3QgdmlzdWFsID0gdGhpcy52aXN1YWw7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnZpc3VhbDtcbiAgICAgICAgcmV0dXJuIHZpc3VhbDtcbiAgICB9XG5cbiAgICByb3RhdGUoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHRoaXMuYm94LnJvdGF0ZShvcHRpb25zLnJvdGF0aW9uKTtcbiAgICAgICAgdGhpcy5hbGlnbih0aGlzLnRhcmdldEJveCwgWCwgb3B0aW9ucy5hbGlnbik7XG4gICAgICAgIHRoaXMuYWxpZ24odGhpcy50YXJnZXRCb3gsIFksIG9wdGlvbnMudkFsaWduKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94O1xuICAgIH1cblxuICAgIHJvdGF0aW9uVHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbjtcbiAgICAgICAgaWYgKCFyb3RhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHg6IGN4LCB5OiBjeSB9ID0gdGhpcy5ub3JtYWxCb3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGJveENlbnRlciA9IHRoaXMucm90YXRlZEJveC5jZW50ZXIoKTtcblxuICAgICAgICByZXR1cm4gZ2VvbS50cmFuc2Zvcm0oKVxuICAgICAgICAgICAgICAgICAgIC50cmFuc2xhdGUoYm94Q2VudGVyLnggLSBjeCwgYm94Q2VudGVyLnkgLSBjeSlcbiAgICAgICAgICAgICAgICAgICAucm90YXRlKHJvdGF0aW9uLCBbIGN4LCBjeSBdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRCb3g7IiwiaW1wb3J0IENoYXJ0RWxlbWVudCBmcm9tICcuL2NoYXJ0LWVsZW1lbnQnO1xuaW1wb3J0IFRleHRCb3ggZnJvbSAnLi90ZXh0LWJveCc7XG5cbmltcG9ydCB7IFgsIEJMQUNLLCBUT1AsIENFTlRFUiB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0U3BhY2luZywgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBUaXRsZSBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmFwcGVuZChcbiAgICAgICAgICAgIG5ldyBUZXh0Qm94KHRoaXMub3B0aW9ucy50ZXh0LCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICB2QWxpZ246IHRoaXMub3B0aW9ucy5wb3NpdGlvblxuICAgICAgICAgICAgfSkpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBzdXBlci5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgdGhpcy5ib3guc25hcFRvKHRhcmdldEJveCwgWCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGJ1aWxkVGl0bGUob3B0aW9ucywgcGFyZW50LCBkZWZhdWx0T3B0aW9ucykge1xuICAgICAgICBsZXQgdGl0bGVPcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRpdGxlT3B0aW9ucyA9IHsgdGV4dDogb3B0aW9ucyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGl0bGVPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHZpc2libGU6IHRydWUgfSwgZGVmYXVsdE9wdGlvbnMsIHRpdGxlT3B0aW9ucyk7XG5cbiAgICAgICAgbGV0IHRpdGxlO1xuICAgICAgICBpZiAodGl0bGVPcHRpb25zICYmIHRpdGxlT3B0aW9ucy52aXNpYmxlICYmIHRpdGxlT3B0aW9ucy50ZXh0KSB7XG4gICAgICAgICAgICB0aXRsZSA9IG5ldyBUaXRsZSh0aXRsZU9wdGlvbnMpO1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZCh0aXRsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhUaXRsZSwge1xuICAgIGNvbG9yOiBCTEFDSyxcbiAgICBwb3NpdGlvbjogVE9QLFxuICAgIGFsaWduOiBDRU5URVIsXG4gICAgbWFyZ2luOiBnZXRTcGFjaW5nKDUpLFxuICAgIHBhZGRpbmc6IGdldFNwYWNpbmcoNSlcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBUaXRsZTsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgVGV4dEJveCBmcm9tICcuL3RleHQtYm94JztcbmltcG9ydCBCb3ggZnJvbSAnLi9ib3gnO1xuXG5pbXBvcnQgcmVjdFRvQm94IGZyb20gJy4vdXRpbHMvcmVjdC10by1ib3gnO1xuXG5pbXBvcnQgeyBBWElTX0xBQkVMX0NMSUNLLCBDRU5URVIsIFRPUCwgQk9UVE9NLCBMRUZULCBERUZBVUxUX1BSRUNJU0lPTiwgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBldmVudEVsZW1lbnQsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEF4aXNMYWJlbCBleHRlbmRzIFRleHRCb3gge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCB0ZXh0LCBpbmRleCwgZGF0YUl0ZW0sIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodGV4dCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuZGF0YUl0ZW0gPSBkYXRhSXRlbTtcbiAgICAgICAgdGhpcy5yZWZsb3cobmV3IEJveCgpKTtcbiAgICB9XG5cbiAgICB2aXN1YWxDb250ZXh0KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gc3VwZXIudmlzdWFsQ29udGV4dCh0YXJnZXRCb3gpO1xuXG4gICAgICAgIGNvbnRleHQudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICBjb250ZXh0LmRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbTtcbiAgICAgICAgY29udGV4dC5mb3JtYXQgPSB0aGlzLm9wdGlvbnMuZm9ybWF0O1xuICAgICAgICBjb250ZXh0LmN1bHR1cmUgPSB0aGlzLm9wdGlvbnMuY3VsdHVyZTtcblxuICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG5cbiAgICBjbGljayh3aWRnZXQsIGUpIHtcblxuICAgICAgICB3aWRnZXQudHJpZ2dlcihBWElTX0xBQkVMX0NMSUNLLCB7XG4gICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCxcbiAgICAgICAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxuICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICBheGlzOiB0aGlzLnBhcmVudC5vcHRpb25zXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbGlnblJvdGF0aW9uICE9PSBDRU5URVIpIHtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHRoaXMubm9ybWFsQm94LnRvUmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5yb3RhdGlvblRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICB0aGlzLmJveCA9IHJlY3RUb0JveChib3guYmJveCh0cmFuc2Zvcm0ubWF0cml4KCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJvdGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYm94O1xuICAgIH1cblxuICAgIHJvdGF0aW9uVHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IG9wdGlvbnMucm90YXRpb247XG4gICAgICAgIGlmICghcm90YXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYWxpZ25Sb3RhdGlvbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIucm90YXRpb25UcmFuc2Zvcm0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uTWF0cml4ID0gZ2VvbS50cmFuc2Zvcm0oKS5yb3RhdGUocm90YXRpb24pLm1hdHJpeCgpO1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLm5vcm1hbEJveC50b1JlY3QoKTtcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMudGFyZ2V0Qm94LnRvUmVjdCgpO1xuXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uT3JpZ2luID0gb3B0aW9ucy5yb3RhdGlvbk9yaWdpbiB8fCBUT1A7XG4gICAgICAgIGNvbnN0IGFsaWduQXhpcyA9IHJvdGF0aW9uT3JpZ2luID09PSBUT1AgfHwgcm90YXRpb25PcmlnaW4gPT09IEJPVFRPTSA/IFggOiBZO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUF4aXMgPSByb3RhdGlvbk9yaWdpbiA9PT0gVE9QIHx8IHJvdGF0aW9uT3JpZ2luID09PSBCT1RUT00gPyBZIDogWDtcbiAgICAgICAgY29uc3QgYXhpc0FuY2hvciA9IHJvdGF0aW9uT3JpZ2luID09PSBUT1AgfHwgcm90YXRpb25PcmlnaW4gPT09IExFRlQgPyByZWN0Lm9yaWdpbiA6IHJlY3QuYm90dG9tUmlnaHQoKTtcblxuICAgICAgICBjb25zdCB0b3BMZWZ0ID0gYm94LnRvcExlZnQoKS50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgY29uc3QgdG9wUmlnaHQgPSBib3gudG9wUmlnaHQoKS50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBib3guYm90dG9tUmlnaHQoKS50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgY29uc3QgYm90dG9tTGVmdCA9IGJveC5ib3R0b21MZWZ0KCkudHJhbnNmb3JtQ29weShyb3RhdGlvbk1hdHJpeCk7XG4gICAgICAgIGNvbnN0IHJvdGF0ZWRCb3ggPSBnZW9tLlJlY3QuZnJvbVBvaW50cyh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tUmlnaHQsIGJvdHRvbUxlZnQpO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZSA9IHtcbiAgICAgICAgICAgIFtkaXN0YW5jZUF4aXNdOiByZWN0Lm9yaWdpbltkaXN0YW5jZUF4aXNdIC0gcm90YXRlZEJveC5vcmlnaW5bZGlzdGFuY2VBeGlzXVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTGVmdCA9IE1hdGguYWJzKHRvcExlZnRbZGlzdGFuY2VBeGlzXSArIHRyYW5zbGF0ZVtkaXN0YW5jZUF4aXNdIC0gYXhpc0FuY2hvcltkaXN0YW5jZUF4aXNdKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VSaWdodCA9IE1hdGguYWJzKHRvcFJpZ2h0W2Rpc3RhbmNlQXhpc10gKyB0cmFuc2xhdGVbZGlzdGFuY2VBeGlzXSAtIGF4aXNBbmNob3JbZGlzdGFuY2VBeGlzXSk7XG5cbiAgICAgICAgbGV0IGFsaWduU3RhcnQsIGFsaWduRW5kO1xuXG4gICAgICAgIGlmIChyb3VuZChkaXN0YW5jZUxlZnQsIERFRkFVTFRfUFJFQ0lTSU9OKSA9PT0gcm91bmQoZGlzdGFuY2VSaWdodCwgREVGQVVMVF9QUkVDSVNJT04pKSB7XG4gICAgICAgICAgICBhbGlnblN0YXJ0ID0gdG9wTGVmdDtcbiAgICAgICAgICAgIGFsaWduRW5kID0gdG9wUmlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VSaWdodCA8IGRpc3RhbmNlTGVmdCkge1xuICAgICAgICAgICAgYWxpZ25TdGFydCA9IHRvcFJpZ2h0O1xuICAgICAgICAgICAgYWxpZ25FbmQgPSBib3R0b21SaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsaWduU3RhcnQgPSB0b3BMZWZ0O1xuICAgICAgICAgICAgYWxpZ25FbmQgPSBib3R0b21MZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWxpZ25DZW50ZXIgPSBhbGlnblN0YXJ0W2FsaWduQXhpc10gKyAoYWxpZ25FbmRbYWxpZ25BeGlzXSAtIGFsaWduU3RhcnRbYWxpZ25BeGlzXSkgLyAyO1xuICAgICAgICB0cmFuc2xhdGVbYWxpZ25BeGlzXSA9IHJlY3QuY2VudGVyKClbYWxpZ25BeGlzXSAtIGFsaWduQ2VudGVyO1xuXG4gICAgICAgIHJldHVybiBnZW9tLnRyYW5zZm9ybSgpXG4gICAgICAgICAgICAudHJhbnNsYXRlKHRyYW5zbGF0ZS54LCB0cmFuc2xhdGUueSlcbiAgICAgICAgICAgIC5yb3RhdGUocm90YXRpb24pO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQXhpc0xhYmVsLCB7XG4gICAgX2F1dG9SZWZsb3c6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpc0xhYmVsO1xuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQm94RWxlbWVudCBmcm9tICcuL2JveC1lbGVtZW50JztcbmltcG9ydCBUZXh0Qm94IGZyb20gJy4vdGV4dC1ib3gnO1xuaW1wb3J0IFNoYXBlRWxlbWVudCBmcm9tICcuL3NoYXBlLWVsZW1lbnQnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCB7IENJUkNMRSwgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hULCBDRU5URVIsIElOU0lERSwgT1VUU0lERSwgTk9URV9DTElDSywgTk9URV9IT1ZFUiwgTk9URV9MRUFWRSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCwgZGVmaW5lZCwgZGVlcEV4dGVuZCwgZXZlbnRFbGVtZW50LCBnZXRUZW1wbGF0ZSwgaW5BcnJheSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBERUZBVUxUX0lDT05fU0laRSA9IDc7XG5jb25zdCBERUZBVUxUX0xBQkVMX0NPTE9SID0gXCIjZmZmXCI7XG5cbmNsYXNzIE5vdGUgZXh0ZW5kcyBCb3hFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIG9wdGlvbnMsIGNoYXJ0U2VydmljZSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmZpZWxkcyA9IGZpZWxkcztcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBjaGFydFNlcnZpY2U7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgeyBsYWJlbCwgaWNvbiB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IG5ldyBCb3goKTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQWxpYXMgPSAoKSA9PiB0aGlzO1xuICAgICAgICAgICAgbGV0IHNpemUgPSBpY29uLnNpemU7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IHRoaXMuZmllbGRzLnRleHQ7XG4gICAgICAgICAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgICAgICAgICAgaWYgKGRlZmluZWQobGFiZWwpICYmIGxhYmVsLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlVGVtcGxhdGUgPSBnZXRUZW1wbGF0ZShsYWJlbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vdGVUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gbm90ZVRlbXBsYXRlKHRoaXMuZmllbGRzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhYmVsLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8obGFiZWwuZm9ybWF0LCB0ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxhYmVsLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmNvbG9yID0gbGFiZWwucG9zaXRpb24gPT09IElOU0lERSA/IERFRkFVTFRfTEFCRUxfQ09MT1IgOiBpY29uLmJhY2tncm91bmQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbCA9IG5ldyBUZXh0Qm94KHRleHQsIGRlZXBFeHRlbmQoe30sIGxhYmVsKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbC5hbGlhc0ZvciA9IGNoaWxkQWxpYXM7XG5cbiAgICAgICAgICAgICAgICBpZiAobGFiZWwucG9zaXRpb24gPT09IElOU0lERSAmJiAhZGVmaW5lZChzaXplKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWNvbi50eXBlID09PSBDSVJDTEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLm1heCh0aGlzLmxhYmVsLmJveC53aWR0aCgpLCB0aGlzLmxhYmVsLmJveC5oZWlnaHQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMubGFiZWwuYm94LndpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmxhYmVsLmJveC5oZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBib3gud3JhcCh0aGlzLmxhYmVsLmJveCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpY29uLndpZHRoID0gd2lkdGggfHwgc2l6ZSB8fCBERUZBVUxUX0lDT05fU0laRTtcbiAgICAgICAgICAgIGljb24uaGVpZ2h0ID0gaGVpZ2h0IHx8IHNpemUgfHwgREVGQVVMVF9JQ09OX1NJWkU7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBTaGFwZUVsZW1lbnQoZGVlcEV4dGVuZCh7fSwgaWNvbikpO1xuICAgICAgICAgICAgbWFya2VyLmFsaWFzRm9yID0gY2hpbGRBbGlhcztcblxuICAgICAgICAgICAgdGhpcy5tYXJrZXIgPSBtYXJrZXI7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChtYXJrZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXJrZXIucmVmbG93KG5ldyBCb3goKSk7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXJCb3ggPSBib3gud3JhcChtYXJrZXIuYm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsYWJlbCwgbWFya2VyLCB3cmFwcGVyQm94IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0YXJnZXRCb3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IG9wdGlvbnMubGluZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gb3B0aW9ucy5wb3NpdGlvbjtcblxuICAgICAgICAvLyBUT0RPOiBSZXZpZXdcbiAgICAgICAgaWYgKG9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgbGV0IGxpbmVTdGFydCwgYm94LCBjb250ZW50Qm94O1xuXG4gICAgICAgICAgICBpZiAoaW5BcnJheShwb3NpdGlvbiwgWyBMRUZULCBSSUdIVCBdKSkge1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50Qm94ID0gd3JhcHBlckJveC5hbGlnblRvKHRhcmdldEJveCwgcG9zaXRpb24pLnRyYW5zbGF0ZSgtbGVuZ3RoLCB0YXJnZXRCb3guY2VudGVyKCkueSAtIHdyYXBwZXJCb3guY2VudGVyKCkueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSBbIHRhcmdldEJveC54MSwgY2VudGVyLnkgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBjb250ZW50Qm94LngyLCBjZW50ZXIueSBdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gY29udGVudEJveC5jbG9uZSgpLndyYXBQb2ludChsaW5lU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEJveCA9IHdyYXBwZXJCb3guYWxpZ25Ubyh0YXJnZXRCb3gsIHBvc2l0aW9uKS50cmFuc2xhdGUobGVuZ3RoLCB0YXJnZXRCb3guY2VudGVyKCkueSAtIHdyYXBwZXJCb3guY2VudGVyKCkueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSBbIHRhcmdldEJveC54MiwgY2VudGVyLnkgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBjb250ZW50Qm94LngxLCBjZW50ZXIueSBdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gY29udGVudEJveC5jbG9uZSgpLndyYXBQb2ludChsaW5lU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IEJPVFRPTSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50Qm94ID0gd3JhcHBlckJveC5hbGlnblRvKHRhcmdldEJveCwgcG9zaXRpb24pLnRyYW5zbGF0ZSh0YXJnZXRCb3guY2VudGVyKCkueCAtIHdyYXBwZXJCb3guY2VudGVyKCkueCwgbGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5saW5lLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IFsgY2VudGVyLngsIHRhcmdldEJveC55MiBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lUG9pbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIGNlbnRlci54LCBjb250ZW50Qm94LnkxIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBjb250ZW50Qm94LmNsb25lKCkud3JhcFBvaW50KGxpbmVTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50Qm94ID0gd3JhcHBlckJveC5hbGlnblRvKHRhcmdldEJveCwgcG9zaXRpb24pLnRyYW5zbGF0ZSh0YXJnZXRCb3guY2VudGVyKCkueCAtIHdyYXBwZXJCb3guY2VudGVyKCkueCwgLWxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSBbIGNlbnRlci54LCB0YXJnZXRCb3gueTEgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBjZW50ZXIueCwgY29udGVudEJveC55MiBdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gY29udGVudEJveC5jbG9uZSgpLndyYXBQb2ludChsaW5lU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLnJlZmxvdyhjb250ZW50Qm94KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KGNvbnRlbnRCb3gpO1xuICAgICAgICAgICAgICAgIGlmIChtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGFiZWwucG9zaXRpb24gPT09IE9VVFNJREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLmJveC5hbGlnblRvKG1hcmtlci5ib3gsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5yZWZsb3cobGFiZWwuYm94KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29udGVudEJveCA9IGNvbnRlbnRCb3g7XG4gICAgICAgICAgICB0aGlzLnRhcmdldEJveCA9IHRhcmdldEJveDtcbiAgICAgICAgICAgIHRoaXMuYm94ID0gYm94IHx8IGNvbnRlbnRCb3g7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuICAgICAgICB0aGlzLnZpc3VhbC5vcHRpb25zLm5vY2xpcCA9IHRoaXMub3B0aW9ucy5ub2NsaXA7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxpbmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY3VzdG9tVmlzdWFsID0gb3B0aW9ucy52aXN1YWw7XG4gICAgICAgIGlmIChvcHRpb25zLnZpc2libGUgJiYgY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbCA9IGN1c3RvbVZpc3VhbChPYmplY3QuYXNzaWduKHRoaXMuZmllbGRzLCB7XG4gICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgIHJlY3Q6IHRoaXMudGFyZ2V0Qm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG9wdGlvbnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogb3B0aW9ucy5pY29uLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9ucy5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogb3B0aW9ucy5saW5lLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogb3B0aW9ucy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogb3B0aW9ucy52aXNpYmxlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVWaXN1YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VmlzdWFsID0gdGhpcy52aXN1YWw7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZpc3VhbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWaXN1YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdGhpcy5hZGRWaXN1YWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5saW5lO1xuXG4gICAgICAgIGlmICh0aGlzLmxpbmVQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBkcmF3LlBhdGguZnJvbVBvaW50cyh0aGlzLmxpbmVQb2ludHMsIHtcbiAgICAgICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5kYXNoVHlwZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhbGlnblBhdGhUb1BpeGVsKHBhdGgpO1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHBhdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xpY2sod2lkZ2V0LCBlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmV2ZW50QXJncyhlKTtcblxuICAgICAgICBpZiAoIXdpZGdldC50cmlnZ2VyKE5PVEVfQ0xJQ0ssIGFyZ3MpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvdmVyKHdpZGdldCwgZSkge1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5ldmVudEFyZ3MoZSk7XG5cbiAgICAgICAgaWYgKCF3aWRnZXQudHJpZ2dlcihOT1RFX0hPVkVSLCBhcmdzKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3V0KHdpZGdldCwgZSkge1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5ldmVudEFyZ3MoZSk7XG5cbiAgICAgICAgd2lkZ2V0LnRyaWdnZXIoTk9URV9MRUFWRSwgYXJncyk7XG4gICAgfVxuXG4gICAgZXZlbnRBcmdzKGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLmZpZWxkcywge1xuICAgICAgICAgICAgZWxlbWVudDogZXZlbnRFbGVtZW50KGUpLFxuICAgICAgICAgICAgdGV4dDogZGVmaW5lZChvcHRpb25zLmxhYmVsKSA/IG9wdGlvbnMubGFiZWwudGV4dCA6IFwiXCIsXG4gICAgICAgICAgICB2aXN1YWw6IHRoaXMudmlzdWFsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTm90ZSwge1xuICAgIGljb246IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgdHlwZTogQ0lSQ0xFXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgICBwb3NpdGlvbjogSU5TSURFLFxuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBhbGlnbjogQ0VOVEVSLFxuICAgICAgICB2QWxpZ246IENFTlRFUlxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIHBvc2l0aW9uOiBUT1AsXG4gICAgekluZGV4OiAyXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTm90ZTsiLCJjb25zdCBkZWZhdWx0SW1wbGVtZW50YXRpb24gPSB7XG4gICAgZm9ybWF0OiAoZm9ybWF0LCB2YWx1ZSkgPT4gdmFsdWUsXG5cbiAgICB0b1N0cmluZzogKHZhbHVlKSA9PiB2YWx1ZSxcblxuICAgIHBhcnNlRGF0ZTogKHZhbHVlKSA9PiBuZXcgRGF0ZSh2YWx1ZSksXG5cbiAgICBmaXJzdERheTogKCkgPT4gMFxufTtcblxubGV0IGN1cnJlbnQgPSBkZWZhdWx0SW1wbGVtZW50YXRpb247XG5cbmNsYXNzIEludGxTZXJ2aWNlIHtcbiAgICBzdGF0aWMgcmVnaXN0ZXIodXNlckltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgIGN1cnJlbnQgPSB1c2VySW1wbGVtZW50YXRpb247XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBpbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRsU2VydmljZTtcbiIsImltcG9ydCBJbnRsU2VydmljZSBmcm9tICcuL2ludGwtc2VydmljZSc7XG5pbXBvcnQgeyBGT1JNQVRfUkVHRVggfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY29uc3QgRk9STUFUX1JFUExBQ0VfUkVHRVggPSAvXFx7KFxcZCspKDpbXlxcfV0rKT9cXH0vZztcblxuY2xhc3MgRm9ybWF0U2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoaW50bFNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5faW50bFNlcnZpY2UgPSBpbnRsU2VydmljZTtcbiAgICB9XG5cbiAgICBnZXQgaW50bCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGxTZXJ2aWNlIHx8IEludGxTZXJ2aWNlLmltcGxlbWVudGF0aW9uO1xuICAgIH1cblxuICAgIHNldCBpbnRsKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ludGxTZXJ2aWNlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgYXV0byhmb3JtYXRTdHJpbmcsIC4uLnZhbHVlcykge1xuICAgICAgICBjb25zdCBpbnRsID0gdGhpcy5pbnRsO1xuXG4gICAgICAgIGlmIChpc1N0cmluZyhmb3JtYXRTdHJpbmcpICYmIGZvcm1hdFN0cmluZy5tYXRjaChGT1JNQVRfUkVHRVgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50bC5mb3JtYXQoZm9ybWF0U3RyaW5nLCAuLi52YWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGludGwudG9TdHJpbmcodmFsdWVzWzBdLCBmb3JtYXRTdHJpbmcpO1xuICAgIH1cblxuICAgIGxvY2FsZUF1dG8oZm9ybWF0U3RyaW5nLCB2YWx1ZXMsIGxvY2FsZSkge1xuICAgICAgICBjb25zdCBpbnRsID0gdGhpcy5pbnRsO1xuICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgIGlmIChpc1N0cmluZyhmb3JtYXRTdHJpbmcpICYmIGZvcm1hdFN0cmluZy5tYXRjaChGT1JNQVRfUkVHRVgpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmb3JtYXRTdHJpbmcucmVwbGFjZShGT1JNQVRfUkVQTEFDRV9SRUdFWCwgZnVuY3Rpb24obWF0Y2gsIGluZGV4LCBwbGFjZWhvbGRlckZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHZhbHVlc1twYXJzZUludChpbmRleCwgMTApXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBpbnRsLnRvU3RyaW5nKHZhbHVlLCBwbGFjZWhvbGRlckZvcm1hdCA/IHBsYWNlaG9sZGVyRm9ybWF0LnN1YnN0cmluZygxKSA6IFwiXCIsIGxvY2FsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGludGwudG9TdHJpbmcodmFsdWVzWzBdLCBmb3JtYXRTdHJpbmcsIGxvY2FsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybWF0U2VydmljZTsiLCJpbXBvcnQgSW50bFNlcnZpY2UgZnJvbSAnLi9pbnRsLXNlcnZpY2UnO1xuaW1wb3J0IEZvcm1hdFNlcnZpY2UgZnJvbSAnLi9mb3JtYXQtc2VydmljZSc7XG5cbmNsYXNzIENoYXJ0U2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoY2hhcnQsIGNvbnRleHQgPSB7fSkge1xuICAgICAgICB0aGlzLl9pbnRsU2VydmljZSA9IGNvbnRleHQuaW50bFNlcnZpY2U7XG4gICAgICAgIHRoaXMuc2VuZGVyID0gY29udGV4dC5zZW5kZXIgfHwgY2hhcnQ7XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gbmV3IEZvcm1hdFNlcnZpY2UoY29udGV4dC5pbnRsU2VydmljZSk7XG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgdGhpcy5ydGwgPSBCb29sZWFuKGNvbnRleHQucnRsKTtcbiAgICB9XG5cbiAgICBnZXQgaW50bCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGxTZXJ2aWNlIHx8IEludGxTZXJ2aWNlLmltcGxlbWVudGF0aW9uO1xuICAgIH1cblxuICAgIHNldCBpbnRsKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ludGxTZXJ2aWNlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZm9ybWF0LmludGwgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBub3RpZnkobmFtZSwgYXJncykge1xuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xuICAgICAgICAgICAgdGhpcy5jaGFydC50cmlnZ2VyKG5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNQYW5uYWJsZShheGlzKSB7XG4gICAgICAgIGNvbnN0IHBhbm5hYmxlID0gKCh0aGlzLmNoYXJ0IHx8IHt9KS5vcHRpb25zIHx8IHt9KS5wYW5uYWJsZTtcbiAgICAgICAgcmV0dXJuIHBhbm5hYmxlICYmIHBhbm5hYmxlLmxvY2sgIT09IGF4aXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGFydFNlcnZpY2U7IiwibGV0IGN1cnJlbnQ7XG5cbmNsYXNzIERvbUV2ZW50c0J1aWxkZXIge1xuICAgIHN0YXRpYyByZWdpc3Rlcih1c2VySW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgY3VycmVudCA9IHVzZXJJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKGVsZW1lbnQsIGV2ZW50cykge1xuICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQuY3JlYXRlKGVsZW1lbnQsIGV2ZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERvbUV2ZW50c0J1aWxkZXI7XG4iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IGFsaWduUGF0aFRvUGl4ZWwgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVBeGlzVGljayhvcHRpb25zLCB0aWNrT3B0aW9ucykge1xuICAgIGNvbnN0IHsgdGlja1gsIHRpY2tZLCBwb3NpdGlvbiB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IHRpY2sgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICB3aWR0aDogdGlja09wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICBjb2xvcjogdGlja09wdGlvbnMuY29sb3JcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgdGljay5tb3ZlVG8odGlja1gsIHBvc2l0aW9uKVxuICAgICAgICAgICAgLmxpbmVUbyh0aWNrWCArIHRpY2tPcHRpb25zLnNpemUsIHBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aWNrLm1vdmVUbyhwb3NpdGlvbiwgdGlja1kpXG4gICAgICAgICAgICAubGluZVRvKHBvc2l0aW9uLCB0aWNrWSArIHRpY2tPcHRpb25zLnNpemUpO1xuICAgIH1cblxuICAgIGFsaWduUGF0aFRvUGl4ZWwodGljayk7XG5cbiAgICByZXR1cm4gdGljaztcbn1cbiIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUF4aXNHcmlkTGluZShvcHRpb25zLCBncmlkTGluZSkge1xuICAgIGNvbnN0IHsgbGluZVN0YXJ0LCBsaW5lRW5kLCBwb3NpdGlvbiB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IGxpbmUgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICB3aWR0aDogZ3JpZExpbmUud2lkdGgsXG4gICAgICAgICAgICBjb2xvcjogZ3JpZExpbmUuY29sb3IsXG4gICAgICAgICAgICBkYXNoVHlwZTogZ3JpZExpbmUuZGFzaFR5cGVcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgbGluZS5tb3ZlVG8obGluZVN0YXJ0LCBwb3NpdGlvbilcbiAgICAgICAgICAgIC5saW5lVG8obGluZUVuZCwgcG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmUubW92ZVRvKHBvc2l0aW9uLCBsaW5lU3RhcnQpXG4gICAgICAgICAgICAubGluZVRvKHBvc2l0aW9uLCBsaW5lRW5kKTtcbiAgICB9XG5cbiAgICBhbGlnblBhdGhUb1BpeGVsKGxpbmUpO1xuXG4gICAgcmV0dXJuIGxpbmU7XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgVGV4dEJveCBmcm9tICcuL3RleHQtYm94JztcbmltcG9ydCBBeGlzTGFiZWwgZnJvbSAnLi9heGlzLWxhYmVsJztcbmltcG9ydCBOb3RlIGZyb20gJy4vbm90ZSc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcbmltcG9ydCB7IENoYXJ0U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzJztcblxuaW1wb3J0IGNyZWF0ZUF4aXNUaWNrIGZyb20gJy4vdXRpbHMvY3JlYXRlLWF4aXMtdGljayc7XG5pbXBvcnQgY3JlYXRlQXhpc0dyaWRMaW5lIGZyb20gJy4vdXRpbHMvY3JlYXRlLWF4aXMtZ3JpZC1saW5lJztcblxuaW1wb3J0IHsgTk9ORSwgQkxBQ0ssIENFTlRFUiwgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hULCBPVVRTSURFLCBYLCBZLCBXSURUSCwgSEVJR0hUIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWVwRXh0ZW5kLCBnZXRUZW1wbGF0ZSwgZ3JlcCwgZGVmaW5lZCwgaXNPYmplY3QsIGluQXJyYXksIGxpbWl0VmFsdWUsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEF4aXMgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGNoYXJ0U2VydmljZSA9IG5ldyBDaGFydFNlcnZpY2UoKSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IGNoYXJ0U2VydmljZTtcblxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICAgICAgICBtYWpvclRpY2tTaXplOiAwLFxuICAgICAgICAgICAgICAgIG1pbm9yVGlja1NpemU6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm1pbm9yVGlja3MgPSBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLmxpbmUuY29sb3IsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5vcHRpb25zLmxpbmUud2lkdGgsXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLm9wdGlvbnMubWlub3JUaWNrVHlwZSAhPT0gTk9ORVxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWlub3JUaWNrcywge1xuICAgICAgICAgICAgc2l6ZTogdGhpcy5vcHRpb25zLm1pbm9yVGlja1NpemUsXG4gICAgICAgICAgICBhbGlnbjogdGhpcy5vcHRpb25zLm1pbm9yVGlja1R5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm1ham9yVGlja3MgPSBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLmxpbmUuY29sb3IsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5vcHRpb25zLmxpbmUud2lkdGgsXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLm9wdGlvbnMubWFqb3JUaWNrVHlwZSAhPT0gTk9ORVxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWFqb3JUaWNrcywge1xuICAgICAgICAgICAgc2l6ZTogdGhpcy5vcHRpb25zLm1ham9yVGlja1NpemUsXG4gICAgICAgICAgICBhbGlnbjogdGhpcy5vcHRpb25zLm1ham9yVGlja1R5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pbml0RmllbGRzKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuX2RlZmVyTGFiZWxzKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxhYmVscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jcmVhdGVUaXRsZSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZU5vdGVzKCk7XG4gICAgfVxuXG4gICAgaW5pdEZpZWxkcygpIHtcbiAgICB9XG5cbiAgICAvLyBhYnN0cmFjdCBsYWJlbHNDb3VudCgpOiBOdW1iZXJcbiAgICAvLyBhYnN0cmFjdCBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIG9wdGlvbnMpOiBBeGlzTGFiZWxcblxuICAgIGxhYmVsc1JhbmdlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiB0aGlzLm9wdGlvbnMubGFiZWxzLnNraXAsXG4gICAgICAgICAgICBtYXg6IHRoaXMubGFiZWxzQ291bnQoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG5vcm1hbGl6ZUxhYmVsUm90YXRpb24obGFiZWxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gbGFiZWxPcHRpb25zLnJvdGF0aW9uO1xuXG4gICAgICAgIGlmIChpc09iamVjdChyb3RhdGlvbikpIHtcbiAgICAgICAgICAgIGxhYmVsT3B0aW9ucy5hbGlnblJvdGF0aW9uID0gcm90YXRpb24uYWxpZ247XG4gICAgICAgICAgICBsYWJlbE9wdGlvbnMucm90YXRpb24gPSByb3RhdGlvbi5hbmdsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVscygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYWxpZ24gPSBvcHRpb25zLnZlcnRpY2FsID8gUklHSFQgOiBDRU5URVI7XG4gICAgICAgIGNvbnN0IGxhYmVsT3B0aW9ucyA9IGRlZXBFeHRlbmQoeyB9LCBvcHRpb25zLmxhYmVscywge1xuICAgICAgICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGgubWF4KDEsIGxhYmVsT3B0aW9ucy5zdGVwKTtcblxuICAgICAgICB0aGlzLmNsZWFyTGFiZWxzKCk7XG5cbiAgICAgICAgaWYgKGxhYmVsT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZUxhYmVsUm90YXRpb24obGFiZWxPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChsYWJlbE9wdGlvbnMucm90YXRpb24gPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxPcHRpb25zLnJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF1dG9Sb3RhdGVMYWJlbHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMubGFiZWxzUmFuZ2UoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IHJhbmdlLm1pbjsgaWR4IDwgcmFuZ2UubWF4OyBpZHggKz0gc3RlcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsQ29udGV4dCA9IHsgaW5kZXg6IGlkeCwgY291bnQ6IHJhbmdlLm1heCB9O1xuICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IHRoaXMuY3JlYXRlQXhpc0xhYmVsKGlkeCwgbGFiZWxPcHRpb25zLCBsYWJlbENvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZChsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFiZWxzLnB1c2gobGFiZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyTGFiZWxzKCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gZ3JlcCh0aGlzLmNoaWxkcmVuLCBjaGlsZCA9PiAhKGNoaWxkIGluc3RhbmNlb2YgQXhpc0xhYmVsKSk7XG4gICAgICAgIHRoaXMubGFiZWxzID0gW107XG4gICAgfVxuXG4gICAgY2xlYXJUaXRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBncmVwKHRoaXMuY2hpbGRyZW4sIGNoaWxkID0+IGNoaWxkICE9PSB0aGlzLnRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jbGVhckxhYmVscygpO1xuICAgICAgICB0aGlzLmNsZWFyVGl0bGUoKTtcbiAgICB9XG5cbiAgICBsaW5lQm94KCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGJveCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBtaXJyb3IgPSBvcHRpb25zLmxhYmVscy5taXJyb3I7XG4gICAgICAgIGNvbnN0IGF4aXNYID0gbWlycm9yID8gYm94LngxIDogYm94LngyO1xuICAgICAgICBjb25zdCBheGlzWSA9IG1pcnJvciA/IGJveC55MiA6IGJveC55MTtcbiAgICAgICAgY29uc3QgbGluZVdpZHRoID0gb3B0aW9ucy5saW5lLndpZHRoIHx8IDA7XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsID9cbiAgICAgICAgICAgIG5ldyBCb3goYXhpc1gsIGJveC55MSwgYXhpc1gsIGJveC55MiAtIGxpbmVXaWR0aCkgOlxuICAgICAgICAgICAgbmV3IEJveChib3gueDEsIGF4aXNZLCBib3gueDIgLSBsaW5lV2lkdGgsIGF4aXNZKTtcbiAgICB9XG5cbiAgICBjcmVhdGVUaXRsZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdGl0bGVPcHRpb25zID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICByb3RhdGlvbjogb3B0aW9ucy52ZXJ0aWNhbCA/IC05MCA6IDAsXG4gICAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgICAgdmlzdWFsU2l6ZTogdHJ1ZVxuICAgICAgICB9LCBvcHRpb25zLnRpdGxlKTtcblxuICAgICAgICBpZiAodGl0bGVPcHRpb25zLnZpc2libGUgJiYgdGl0bGVPcHRpb25zLnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gbmV3IFRleHRCb3godGl0bGVPcHRpb25zLnRleHQsIHRpdGxlT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aXRsZSk7XG4gICAgICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVOb3RlcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgbm90ZXMgPSBvcHRpb25zLm5vdGVzO1xuICAgICAgICBjb25zdCBpdGVtcyA9IG5vdGVzLmRhdGEgfHwgW107XG5cbiAgICAgICAgdGhpcy5ub3RlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkZWVwRXh0ZW5kKHt9LCBub3RlcywgaXRlbXNbaV0pO1xuICAgICAgICAgICAgaXRlbS52YWx1ZSA9IHRoaXMucGFyc2VOb3RlVmFsdWUoaXRlbS52YWx1ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5vdGUgPSBuZXcgTm90ZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUsXG4gICAgICAgICAgICAgICAgdGV4dDogaXRlbS5sYWJlbC50ZXh0LFxuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBpdGVtXG4gICAgICAgICAgICB9LCBpdGVtLCB0aGlzLmNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgICAgIGlmIChub3RlLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGlmIChkZWZpbmVkKG5vdGUub3B0aW9ucy5wb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudmVydGljYWwgJiYgIWluQXJyYXkobm90ZS5vcHRpb25zLnBvc2l0aW9uLCBbIExFRlQsIFJJR0hUIF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlLm9wdGlvbnMucG9zaXRpb24gPSBvcHRpb25zLnJldmVyc2UgPyBMRUZUIDogUklHSFQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMudmVydGljYWwgJiYgIWluQXJyYXkobm90ZS5vcHRpb25zLnBvc2l0aW9uLCBbIFRPUCwgQk9UVE9NIF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlLm9wdGlvbnMucG9zaXRpb24gPSBvcHRpb25zLnJldmVyc2UgPyBCT1RUT00gOiBUT1A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5vcHRpb25zLnBvc2l0aW9uID0gb3B0aW9ucy5yZXZlcnNlID8gTEVGVCA6IFJJR0hUO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5vcHRpb25zLnBvc2l0aW9uID0gb3B0aW9ucy5yZXZlcnNlID8gQk9UVE9NIDogVE9QO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKG5vdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMubm90ZXMucHVzaChub3RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcnNlTm90ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUGxvdEJhbmRzKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJhY2tncm91bmQoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVMaW5lKCk7XG4gICAgfVxuXG4gICAgZ3JpZExpbmVzVmlzdWFsKCkge1xuICAgICAgICBsZXQgZ3JpZExpbmVzID0gdGhpcy5fZ3JpZExpbmVzO1xuICAgICAgICBpZiAoIWdyaWRMaW5lcykge1xuICAgICAgICAgICAgZ3JpZExpbmVzID0gdGhpcy5fZ3JpZExpbmVzID0gbmV3IGRyYXcuR3JvdXAoe1xuICAgICAgICAgICAgICAgIHpJbmRleDogLTJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRWaXN1YWwodGhpcy5fZ3JpZExpbmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmlkTGluZXM7XG4gICAgfVxuXG4gICAgY3JlYXRlVGlja3MobGluZUdyb3VwKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbWlycm9yID0gb3B0aW9ucy5sYWJlbHMubWlycm9yO1xuICAgICAgICBjb25zdCBtYWpvclVuaXQgPSBvcHRpb25zLm1ham9yVGlja3MudmlzaWJsZSA/IG9wdGlvbnMubWFqb3JVbml0IDogMDtcbiAgICAgICAgY29uc3QgdGlja0xpbmVPcHRpb25zID0ge1xuICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgLy8gX2FsaWduTGluZXM6IG9wdGlvbnMuX2FsaWduTGluZXMsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy52ZXJ0aWNhbFxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlcih0aWNrUG9zaXRpb25zLCB0aWNrT3B0aW9ucywgc2tpcFVuaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGlja1Bvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gTWF0aC5tYXgoMSwgdGlja09wdGlvbnMuc3RlcCk7XG5cbiAgICAgICAgICAgIGlmICh0aWNrT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRpY2tPcHRpb25zLnNraXA7IGkgPCBjb3VudDsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZpbmVkKHNraXBVbml0KSAmJiAoaSAlIHNraXBVbml0ID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aWNrTGluZU9wdGlvbnMudGlja1ggPSBtaXJyb3IgPyBsaW5lQm94LngyIDogbGluZUJveC54MiAtIHRpY2tPcHRpb25zLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tMaW5lT3B0aW9ucy50aWNrWSA9IG1pcnJvciA/IGxpbmVCb3gueTEgLSB0aWNrT3B0aW9ucy5zaXplIDogbGluZUJveC55MTtcbiAgICAgICAgICAgICAgICAgICAgdGlja0xpbmVPcHRpb25zLnBvc2l0aW9uID0gdGlja1Bvc2l0aW9uc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICBsaW5lR3JvdXAuYXBwZW5kKGNyZWF0ZUF4aXNUaWNrKHRpY2tMaW5lT3B0aW9ucywgdGlja09wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXIodGhpcy5nZXRNYWpvclRpY2tQb3NpdGlvbnMoKSwgb3B0aW9ucy5tYWpvclRpY2tzKTtcbiAgICAgICAgcmVuZGVyKHRoaXMuZ2V0TWlub3JUaWNrUG9zaXRpb25zKCksIG9wdGlvbnMubWlub3JUaWNrcywgbWFqb3JVbml0IC8gb3B0aW9ucy5taW5vclVuaXQpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmUoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBvcHRpb25zLmxpbmU7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcblxuICAgICAgICBpZiAobGluZS53aWR0aCA+IDAgJiYgbGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gbmV3IGRyYXcuUGF0aCh7XG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBsaW5lLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogbGluZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGFzaFR5cGU6IGxpbmUuZGFzaFR5cGVcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKiBUT0RPXG4gICAgICAgICAgICAgICAgekluZGV4OiBsaW5lLnpJbmRleCxcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBhdGgubW92ZVRvKGxpbmVCb3gueDEsIGxpbmVCb3gueTEpXG4gICAgICAgICAgICAgICAgLmxpbmVUbyhsaW5lQm94LngyLCBsaW5lQm94LnkyKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuX2FsaWduTGluZXMpIHtcbiAgICAgICAgICAgICAgICBhbGlnblBhdGhUb1BpeGVsKHBhdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuX2xpbmVHcm91cCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG4gICAgICAgICAgICBncm91cC5hcHBlbmQocGF0aCk7XG5cbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChncm91cCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRpY2tzKGdyb3VwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEFjdHVhbFRpY2tTaXplKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgdGlja1NpemUgPSAwO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1ham9yVGlja3MudmlzaWJsZSAmJiBvcHRpb25zLm1pbm9yVGlja3MudmlzaWJsZSkge1xuICAgICAgICAgICAgdGlja1NpemUgPSBNYXRoLm1heChvcHRpb25zLm1ham9yVGlja3Muc2l6ZSwgb3B0aW9ucy5taW5vclRpY2tzLnNpemUpO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMubWFqb3JUaWNrcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aWNrU2l6ZSA9IG9wdGlvbnMubWFqb3JUaWNrcy5zaXplO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMubWlub3JUaWNrcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aWNrU2l6ZSA9IG9wdGlvbnMubWlub3JUaWNrcy5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpY2tTaXplO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhY2tncm91bmQoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgYm94IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gb3B0aW9ucy5iYWNrZ3JvdW5kO1xuXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kUGF0aCA9IGRyYXcuUGF0aC5mcm9tUmVjdChib3gudG9SZWN0KCksIHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodGhpcy5fYmFja2dyb3VuZFBhdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUGxvdEJhbmRzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwbG90QmFuZHMgPSBvcHRpb25zLnBsb3RCYW5kcyB8fCBbXTtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cbiAgICAgICAgaWYgKHBsb3RCYW5kcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5fcGxvdGJhbmRHcm91cCA9IG5ldyBkcmF3Lkdyb3VwKHtcbiAgICAgICAgICAgIHpJbmRleDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYWx0QXhpcyA9IGdyZXAodGhpcy5wYW5lLmF4ZXMsIGF4aXMgPT4gYXhpcy5vcHRpb25zLnZlcnRpY2FsICE9PSB0aGlzLm9wdGlvbnMudmVydGljYWwpWzBdO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBsb3RCYW5kcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHBsb3RCYW5kc1tpZHhdO1xuICAgICAgICAgICAgbGV0IHNsb3RYLCBzbG90WTtcbiAgICAgICAgICAgIGxldCBsYWJlbE9wdGlvbnMgPSBpdGVtLmxhYmVsO1xuICAgICAgICAgICAgbGV0IGxhYmVsO1xuXG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBzbG90WCA9IChhbHRBeGlzIHx8IHBsb3RBcmVhLmF4aXNYKS5saW5lQm94KCk7XG4gICAgICAgICAgICAgICAgc2xvdFkgPSB0aGlzLmdldFNsb3QoaXRlbS5mcm9tLCBpdGVtLnRvLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2xvdFggPSB0aGlzLmdldFNsb3QoaXRlbS5mcm9tLCBpdGVtLnRvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzbG90WSA9IChhbHRBeGlzIHx8IHBsb3RBcmVhLmF4aXNZKS5saW5lQm94KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYWJlbE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBsYWJlbE9wdGlvbnMudkFsaWduID0gbGFiZWxPcHRpb25zLnBvc2l0aW9uIHx8IExFRlQ7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLmNyZWF0ZVBsb3RCYW5kTGFiZWwoXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJveChcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3RYLngxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xvdFkueTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG90WC54MixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3RZLnkyXG4gICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzbG90WC53aWR0aCgpICE9PSAwICYmIHNsb3RZLmhlaWdodCgpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFuZFJlY3QgPSBuZXcgZ2VvbS5SZWN0KFxuICAgICAgICAgICAgICAgICAgICBbIHNsb3RYLngxLCBzbG90WS55MSBdLFxuICAgICAgICAgICAgICAgICAgICBbIHNsb3RYLndpZHRoKCksIHNsb3RZLmhlaWdodCgpIF1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tUmVjdChiYW5kUmVjdCwge1xuICAgICAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXRlbS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGl0ZW0ub3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZChwYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKGxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGVuZFZpc3VhbChncm91cCk7XG4gICAgfVxuXG4gICAgY3JlYXRlUGxvdEJhbmRMYWJlbChsYWJlbCwgaXRlbSwgYm94KSB7XG5cbiAgICAgICAgaWYgKGxhYmVsLnZpc2libGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0ZXh0ID0gbGFiZWwudGV4dDtcbiAgICAgICAgbGV0IHRleHRib3g7XG5cbiAgICAgICAgaWYgKGRlZmluZWQobGFiZWwpICYmIGxhYmVsLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsVGVtcGxhdGUgPSBnZXRUZW1wbGF0ZShsYWJlbCk7XG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBsYWJlbFRlbXBsYXRlKHsgdGV4dDogdGV4dCwgaXRlbTogaXRlbSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWwuZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGxhYmVsLmZvcm1hdCwgdGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbGFiZWwuY29sb3IpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC5jb2xvciA9IHRoaXMub3B0aW9ucy5sYWJlbHMuY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0Ym94ID0gbmV3IFRleHRCb3godGV4dCwgbGFiZWwpO1xuICAgICAgICB0ZXh0Ym94LnJlZmxvdyhib3gpO1xuICAgICAgICB0ZXh0Ym94LnJlbmRlclZpc3VhbCgpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0Ym94LnZpc3VhbDtcbiAgICB9XG5cbiAgICBjcmVhdGVHcmlkTGluZXMoYWx0QXhpcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IG1pbm9yR3JpZExpbmVzLCBtYWpvckdyaWRMaW5lcywgbWlub3JVbml0LCB2ZXJ0aWNhbCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYXhpc0xpbmVWaXNpYmxlID0gYWx0QXhpcy5vcHRpb25zLmxpbmUudmlzaWJsZTtcbiAgICAgICAgY29uc3QgbWFqb3JVbml0ID0gbWFqb3JHcmlkTGluZXMudmlzaWJsZSA/IG9wdGlvbnMubWFqb3JVbml0IDogMDtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IGFsdEF4aXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBsaW5lUG9zID0gbGluZUJveFt2ZXJ0aWNhbCA/IFwieTFcIiA6IFwieDFcIl07XG4gICAgICAgIGNvbnN0IGxpbmVPcHRpb25zID0ge1xuICAgICAgICAgICAgbGluZVN0YXJ0OiBsaW5lQm94W3ZlcnRpY2FsID8gXCJ4MVwiIDogXCJ5MVwiXSxcbiAgICAgICAgICAgIGxpbmVFbmQ6IGxpbmVCb3hbdmVydGljYWwgPyBcIngyXCIgOiBcInkyXCJdLFxuICAgICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1ham9yVGlja3MgPSBbXTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmdyaWRMaW5lc1Zpc3VhbCgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlcih0aWNrUG9zaXRpb25zLCBncmlkTGluZSwgc2tpcFVuaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGlja1Bvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gTWF0aC5tYXgoMSwgZ3JpZExpbmUuc3RlcCk7XG5cbiAgICAgICAgICAgIGlmIChncmlkTGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGdyaWRMaW5lLnNraXA7IGkgPCBjb3VudDsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSByb3VuZCh0aWNrUG9zaXRpb25zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbkFycmF5KHBvcywgbWFqb3JUaWNrcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICUgc2tpcFVuaXQgIT09IDAgJiYgKCFheGlzTGluZVZpc2libGUgfHwgbGluZVBvcyAhPT0gcG9zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVPcHRpb25zLnBvc2l0aW9uID0gcG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlQXhpc0dyaWRMaW5lKGxpbmVPcHRpb25zLCBncmlkTGluZSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFqb3JUaWNrcy5wdXNoKHBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXIodGhpcy5nZXRNYWpvclRpY2tQb3NpdGlvbnMoKSwgbWFqb3JHcmlkTGluZXMpO1xuICAgICAgICByZW5kZXIodGhpcy5nZXRNaW5vclRpY2tQb3NpdGlvbnMoKSwgbWlub3JHcmlkTGluZXMsIG1ham9yVW5pdCAvIG1pbm9yVW5pdCk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgbGFiZWxzLCB0aXRsZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBjb3VudCA9IGxhYmVscy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNpemVGbiA9IHZlcnRpY2FsID8gV0lEVEggOiBIRUlHSFQ7XG4gICAgICAgIGNvbnN0IHRpdGxlU2l6ZSA9IHRpdGxlID8gdGl0bGUuYm94W3NpemVGbl0oKSA6IDA7XG4gICAgICAgIGNvbnN0IHNwYWNlID0gdGhpcy5nZXRBY3R1YWxUaWNrU2l6ZSgpICsgb3B0aW9ucy5tYXJnaW4gKyB0aXRsZVNpemU7XG4gICAgICAgIGNvbnN0IHJvb3RCb3ggPSAodGhpcy5nZXRSb290KCkgfHwge30pLmJveCB8fCBib3g7XG4gICAgICAgIGNvbnN0IGJveFNpemUgPSByb290Qm94W3NpemVGbl0oKTtcbiAgICAgICAgbGV0IG1heExhYmVsU2l6ZSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGFiZWxTaXplID0gbGFiZWxzW2ldLmJveFtzaXplRm5dKCk7XG4gICAgICAgICAgICBpZiAobGFiZWxTaXplICsgc3BhY2UgPD0gYm94U2l6ZSkge1xuICAgICAgICAgICAgICAgIG1heExhYmVsU2l6ZSA9IE1hdGgubWF4KG1heExhYmVsU2l6ZSwgbGFiZWxTaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgIGJveC54MSwgYm94LnkxLFxuICAgICAgICAgICAgICAgIGJveC54MSArIG1heExhYmVsU2l6ZSArIHNwYWNlLCBib3gueTJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgYm94LngxLCBib3gueTEsXG4gICAgICAgICAgICAgICAgYm94LngyLCBib3gueTEgKyBtYXhMYWJlbFNpemUgKyBzcGFjZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXJyYW5nZVRpdGxlKCk7XG4gICAgICAgIHRoaXMuYXJyYW5nZUxhYmVscygpO1xuICAgICAgICB0aGlzLmFycmFuZ2VOb3RlcygpO1xuICAgIH1cblxuICAgIGdldExhYmVsc1RpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ham9yVGlja1Bvc2l0aW9ucygpO1xuICAgIH1cblxuICAgIGxhYmVsVGlja0luZGV4KGxhYmVsKSB7XG4gICAgICAgIHJldHVybiBsYWJlbC5pbmRleDtcbiAgICB9XG5cbiAgICBhcnJhbmdlTGFiZWxzKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxhYmVscyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbGFiZWxzQmV0d2VlblRpY2tzID0gdGhpcy5sYWJlbHNCZXR3ZWVuVGlja3MoKTtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBtaXJyb3IgPSBvcHRpb25zLmxhYmVscy5taXJyb3I7XG4gICAgICAgIGNvbnN0IHRpY2tQb3NpdGlvbnMgPSB0aGlzLmdldExhYmVsc1RpY2tQb3NpdGlvbnMoKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsYWJlbHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBsYWJlbHNbaWR4XTtcbiAgICAgICAgICAgIGNvbnN0IHRpY2tJeCA9IHRoaXMubGFiZWxUaWNrSW5kZXgobGFiZWwpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxTaXplID0gdmVydGljYWwgPyBsYWJlbC5ib3guaGVpZ2h0KCkgOiBsYWJlbC5ib3gud2lkdGgoKTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGlja1Bvc2l0aW9uID0gdGlja1Bvc2l0aW9uc1t0aWNrSXhdO1xuICAgICAgICAgICAgY29uc3QgbmV4dFRpY2tQb3NpdGlvbiA9IHRpY2tQb3NpdGlvbnNbdGlja0l4ICsgMV07XG4gICAgICAgICAgICBsZXQgcG9zaXRpb25TdGFydCwgcG9zaXRpb25FbmQ7XG5cbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbHNCZXR3ZWVuVGlja3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWlkZGxlID0gZmlyc3RUaWNrUG9zaXRpb24gKyAobmV4dFRpY2tQb3NpdGlvbiAtIGZpcnN0VGlja1Bvc2l0aW9uKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uU3RhcnQgPSBtaWRkbGUgLSAobGFiZWxTaXplIC8gMik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25TdGFydCA9IGZpcnN0VGlja1Bvc2l0aW9uIC0gKGxhYmVsU2l6ZSAvIDIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBvc2l0aW9uRW5kID0gcG9zaXRpb25TdGFydDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsc0JldHdlZW5UaWNrcykge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblN0YXJ0ID0gZmlyc3RUaWNrUG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uRW5kID0gbmV4dFRpY2tQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblN0YXJ0ID0gZmlyc3RUaWNrUG9zaXRpb24gLSAobGFiZWxTaXplIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uRW5kID0gcG9zaXRpb25TdGFydCArIGxhYmVsU2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25MYWJlbChsYWJlbCwgbWlycm9yLCBwb3NpdGlvblN0YXJ0LCBwb3NpdGlvbkVuZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb3NpdGlvbkxhYmVsKGxhYmVsLCBtaXJyb3IsIHBvc2l0aW9uU3RhcnQsIHBvc2l0aW9uRW5kID0gcG9zaXRpb25TdGFydCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbGFiZWxPZmZzZXQgPSB0aGlzLmdldEFjdHVhbFRpY2tTaXplKCkgKyBvcHRpb25zLm1hcmdpbjtcbiAgICAgICAgbGV0IGxhYmVsQm94O1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgbGV0IGxhYmVsWCA9IGxpbmVCb3gueDI7XG5cbiAgICAgICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICAgICAgICBsYWJlbFggKz0gbGFiZWxPZmZzZXQ7XG4gICAgICAgICAgICAgICAgbGFiZWwub3B0aW9ucy5yb3RhdGlvbk9yaWdpbiA9IExFRlQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhYmVsWCAtPSBsYWJlbE9mZnNldCArIGxhYmVsLmJveC53aWR0aCgpO1xuICAgICAgICAgICAgICAgIGxhYmVsLm9wdGlvbnMucm90YXRpb25PcmlnaW4gPSBSSUdIVDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFiZWxCb3ggPSBsYWJlbC5ib3gubW92ZShsYWJlbFgsIHBvc2l0aW9uU3RhcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGxhYmVsWSA9IGxpbmVCb3gueTE7XG5cbiAgICAgICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICAgICAgICBsYWJlbFkgLT0gbGFiZWxPZmZzZXQgKyBsYWJlbC5ib3guaGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgbGFiZWwub3B0aW9ucy5yb3RhdGlvbk9yaWdpbiA9IEJPVFRPTTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWxZICs9IGxhYmVsT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGxhYmVsLm9wdGlvbnMucm90YXRpb25PcmlnaW4gPSBUT1A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxhYmVsQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICBwb3NpdGlvblN0YXJ0LCBsYWJlbFksXG4gICAgICAgICAgICAgICAgcG9zaXRpb25FbmQsIGxhYmVsWSArIGxhYmVsLmJveC5oZWlnaHQoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhYmVsLnJlZmxvdyhsYWJlbEJveCk7XG4gICAgfVxuXG4gICAgYXV0b1JvdGF0ZUxhYmVsQW5nbGUobGFiZWxCb3gsIHNsb3RXaWR0aCkge1xuICAgICAgICBpZiAobGFiZWxCb3gud2lkdGgoKSA8IHNsb3RXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGFiZWxCb3guaGVpZ2h0KCkgPiBzbG90V2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybiAtOTA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTQ1O1xuICAgIH1cblxuICAgIGF1dG9Sb3RhdGVMYWJlbHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG9Sb3RhdGVMYWJlbHMgfHwgdGhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aWNrUG9zaXRpb25zID0gdGhpcy5nZXRNYWpvclRpY2tQb3NpdGlvbnMoKTtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5taW4obGFiZWxzLmxlbmd0aCwgdGlja1Bvc2l0aW9ucy5sZW5ndGggLSAxKTtcbiAgICAgICAgbGV0IGFuZ2xlID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsaW1pdDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5hYnModGlja1Bvc2l0aW9uc1tpZHggKyAxXSAtIHRpY2tQb3NpdGlvbnNbaWR4XSk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbEJveCA9IGxhYmVsc1tpZHhdLmJveDtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsQW5nbGUgPSB0aGlzLmF1dG9Sb3RhdGVMYWJlbEFuZ2xlKGxhYmVsQm94LCB3aWR0aCk7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbEFuZ2xlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBsYWJlbEFuZ2xlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5nbGUgPT09IC05MCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFuZ2xlICE9PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsYWJlbHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGxhYmVsc1tpZHhdLm9wdGlvbnMucm90YXRpb24gPSBhbmdsZTtcbiAgICAgICAgICAgICAgICBsYWJlbHNbaWR4XS5yZWZsb3cobmV3IEJveCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcnJhbmdlVGl0bGUoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgdGl0bGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1pcnJvciA9IG9wdGlvbnMubGFiZWxzLm1pcnJvcjtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuXG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgdGl0bGUub3B0aW9ucy5hbGlnbiA9IG1pcnJvciA/IFJJR0hUIDogTEVGVDtcbiAgICAgICAgICAgICAgICB0aXRsZS5vcHRpb25zLnZBbGlnbiA9IHRpdGxlLm9wdGlvbnMucG9zaXRpb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpdGxlLm9wdGlvbnMuYWxpZ24gPSB0aXRsZS5vcHRpb25zLnBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIHRpdGxlLm9wdGlvbnMudkFsaWduID0gbWlycm9yID8gVE9QIDogQk9UVE9NO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aXRsZS5yZWZsb3codGhpcy5ib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXJyYW5nZU5vdGVzKCkge1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB0aGlzLm5vdGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm5vdGVzW2lkeF07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGl0ZW0ub3B0aW9ucy52YWx1ZTtcbiAgICAgICAgICAgIGxldCBzbG90O1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG91bGRSZW5kZXJOb3RlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnNob3coKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzbG90ID0gdGhpcy5ub3RlU2xvdCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW0uaGlkZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtLnJlZmxvdyhzbG90IHx8IHRoaXMubGluZUJveCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5vdGVTbG90KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNsb3QodmFsdWUpO1xuICAgIH1cblxuICAgIGFsaWduVG8oc2Vjb25kQXhpcykge1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gc2Vjb25kQXhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBwb3MgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuXG4gICAgICAgIHRoaXMuYm94LnNuYXBUbyhsaW5lQm94LCBwb3MpO1xuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIHRoaXMuYm94LnNocmluaygwLCB0aGlzLmxpbmVCb3goKS5oZWlnaHQoKSAtIGxpbmVCb3guaGVpZ2h0KCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ib3guc2hyaW5rKHRoaXMubGluZUJveCgpLndpZHRoKCkgLSBsaW5lQm94LndpZHRoKCksIDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm94W3BvcyArIDFdIC09IHRoaXMubGluZUJveCgpW3BvcyArIDFdIC0gbGluZUJveFtwb3MgKyAxXTtcbiAgICAgICAgdGhpcy5ib3hbcG9zICsgMl0gLT0gdGhpcy5saW5lQm94KClbcG9zICsgMl0gLSBsaW5lQm94W3BvcyArIDJdO1xuICAgIH1cblxuICAgIGF4aXNMYWJlbFRleHQodmFsdWUsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICAgICAgbGV0IHRleHQ7XG4gICAgICAgIGNvbnN0IHRtcGwgPSBnZXRUZW1wbGF0ZShvcHRpb25zKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdFRleHQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmxvY2FsZUF1dG8oXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5mb3JtYXQsIFsgdmFsdWUgXSwgb3B0aW9ucy5jdWx0dXJlXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0bXBsKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZUNvbnRleHQgPSBPYmplY3QuYXNzaWduKHt9LCBjb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgZ2V0IHRleHQoKSB7IHJldHVybiBkZWZhdWx0VGV4dCgpOyB9LFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogb3B0aW9ucy5mb3JtYXQsXG4gICAgICAgICAgICAgICAgY3VsdHVyZTogb3B0aW9ucy5jdWx0dXJlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGV4dCA9IHRtcGwodGVtcGxhdGVDb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHQgPSBkZWZhdWx0VGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgc2xvdChmcm9tICwgdG8sIGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3QoZnJvbSwgdG8sIGxpbWl0KTtcbiAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBzbG90LnRvUmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGVudEJveCgpIHtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3guY2xvbmUoKTtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5sYWJlbHM7XG4gICAgICAgIGlmIChsYWJlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFydFNlcnZpY2UuaXNQYW5uYWJsZShheGlzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMubWF4TGFiZWxPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBib3hbYXhpcyArIDFdIC09IG9mZnNldC5zdGFydDtcbiAgICAgICAgICAgICAgICBib3hbYXhpcyArIDJdICs9IG9mZnNldC5lbmQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbHNbMF0ub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJveC53cmFwKGxhYmVsc1swXS5ib3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGFiZWwgPSBsYWJlbHNbbGFiZWxzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0TGFiZWwub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJveC53cmFwKGxhc3RMYWJlbC5ib3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3g7XG4gICAgfVxuXG4gICAgbWF4TGFiZWxPZmZzZXQoKSB7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIHJldmVyc2UgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGFiZWxzQmV0d2VlblRpY2tzID0gdGhpcy5sYWJlbHNCZXR3ZWVuVGlja3MoKTtcbiAgICAgICAgY29uc3QgdGlja1Bvc2l0aW9ucyA9IHRoaXMuZ2V0TGFiZWxzVGlja1Bvc2l0aW9ucygpO1xuICAgICAgICBjb25zdCBvZmZzZXRGaWVsZCA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMubGFiZWxzO1xuICAgICAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gcmV2ZXJzZSA/IDEgOiAwO1xuICAgICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IHJldmVyc2UgPyAwIDogMTtcbiAgICAgICAgbGV0IG1heFN0YXJ0T2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IG1heEVuZE9mZnNldCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGFiZWxzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGFiZWxzW2lkeF07XG4gICAgICAgICAgICBjb25zdCB0aWNrSXggPSB0aGlzLmxhYmVsVGlja0luZGV4KGxhYmVsKTtcbiAgICAgICAgICAgIGxldCBzdGFydFRpY2ssIGVuZFRpY2s7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbHNCZXR3ZWVuVGlja3MpIHtcbiAgICAgICAgICAgICAgICBzdGFydFRpY2sgPSB0aWNrUG9zaXRpb25zW3RpY2tJeCArIHN0YXJ0UG9zaXRpb25dO1xuICAgICAgICAgICAgICAgIGVuZFRpY2sgPSB0aWNrUG9zaXRpb25zW3RpY2tJeCArIGVuZFBvc2l0aW9uXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnRUaWNrID0gZW5kVGljayA9IHRpY2tQb3NpdGlvbnNbdGlja0l4XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF4U3RhcnRPZmZzZXQgPSBNYXRoLm1heChtYXhTdGFydE9mZnNldCwgc3RhcnRUaWNrIC0gbGFiZWwuYm94W29mZnNldEZpZWxkICsgMV0pO1xuICAgICAgICAgICAgbWF4RW5kT2Zmc2V0ID0gTWF0aC5tYXgobWF4RW5kT2Zmc2V0LCBsYWJlbC5ib3hbb2Zmc2V0RmllbGQgKyAyXSAtIGVuZFRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiBtYXhTdGFydE9mZnNldCxcbiAgICAgICAgICAgIGVuZDogbWF4RW5kT2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGltaXRSYW5nZShmcm9tLCB0bywgbWluLCBtYXgsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmICgoZnJvbSA8IG1pbiAmJiBvZmZzZXQgPCAwICYmICghZGVmaW5lZChvcHRpb25zLm1pbikgfHwgb3B0aW9ucy5taW4gPD0gbWluKSkgfHwgKG1heCA8IHRvICYmIG9mZnNldCA+IDAgJiYgKCFkZWZpbmVkKG9wdGlvbnMubWF4KSB8fCBtYXggPD0gb3B0aW9ucy5tYXgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRvIDwgbWluICYmIG9mZnNldCA+IDApIHx8IChtYXggPCBmcm9tICYmIG9mZnNldCA8IDApKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogZnJvbSxcbiAgICAgICAgICAgICAgICBtYXg6IHRvXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmFuZ2VTaXplID0gdG8gLSBmcm9tO1xuICAgICAgICBsZXQgbWluVmFsdWUgPSBmcm9tO1xuICAgICAgICBsZXQgbWF4VmFsdWUgPSB0bztcblxuICAgICAgICBpZiAoZnJvbSA8IG1pbiAmJiBvZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICBtaW5WYWx1ZSA9IGxpbWl0VmFsdWUoZnJvbSwgbWluLCBtYXgpO1xuICAgICAgICAgICAgbWF4VmFsdWUgPSBsaW1pdFZhbHVlKGZyb20gKyByYW5nZVNpemUsIG1pbiArIHJhbmdlU2l6ZSwgbWF4KTtcbiAgICAgICAgfSBlbHNlIGlmICh0byA+IG1heCAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICBtYXhWYWx1ZSA9IGxpbWl0VmFsdWUodG8sIG1pbiwgbWF4KTtcbiAgICAgICAgICAgIG1pblZhbHVlID0gbGltaXRWYWx1ZSh0byAtIHJhbmdlU2l6ZSwgbWluLCBtYXggLSByYW5nZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluVmFsdWUsXG4gICAgICAgICAgICBtYXg6IG1heFZhbHVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5zZXJpZXNNaW4sXG4gICAgICAgICAgICBtYXg6IHRoaXMuc2VyaWVzTWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGluZURpcigpIHtcbiAgICAgICAgLypcbiAgICAgICAgICogQXhpcyBsaW5lIGRpcmVjdGlvbjpcbiAgICAgICAgICogICAqIFZlcnRpY2FsOiB1cC5cbiAgICAgICAgICogICAqIEhvcml6b250YWw6IHJpZ2h0LlxuICAgICAgICAgKi9cblxuICAgICAgICBjb25zdCB7IHZlcnRpY2FsLCByZXZlcnNlIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiAodmVydGljYWwgPyAtMSA6IDEpICogKHJldmVyc2UgPyAtMSA6IDEpO1xuICAgIH1cblxuICAgIGxpbmVJbmZvKCkge1xuICAgICAgICBjb25zdCB7IHZlcnRpY2FsIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbGluZVNpemUgPSB2ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBheGlzRGlyID0gdGhpcy5saW5lRGlyKCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0RWRnZSA9IGF4aXNEaXIgPT09IDEgPyAxIDogMjtcbiAgICAgICAgY29uc3QgYXhpc09yaWdpbiA9IGF4aXMgKyBzdGFydEVkZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbGluZUJveFtheGlzT3JpZ2luXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXhpcyxcbiAgICAgICAgICAgIGF4aXNPcmlnaW4sXG4gICAgICAgICAgICBheGlzRGlyLFxuICAgICAgICAgICAgbGluZUJveCxcbiAgICAgICAgICAgIGxpbmVTaXplLFxuICAgICAgICAgICAgbGluZVN0YXJ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcG9pbnRPZmZzZXQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgeyBheGlzLCBheGlzRGlyLCBheGlzT3JpZ2luLCBsaW5lQm94LCBsaW5lU2l6ZSB9ID0gdGhpcy5saW5lSW5mbygpO1xuICAgICAgICBjb25zdCByZWxhdGl2ZSA9IGF4aXNEaXIgPiAwID8gcG9pbnRbYXhpc10gLSBsaW5lQm94W2F4aXNPcmlnaW5dIDogbGluZUJveFtheGlzT3JpZ2luXSAtIHBvaW50W2F4aXNdO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSByZWxhdGl2ZSAvIGxpbmVTaXplO1xuXG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZXMgdGhlIGF4aXMgcmFuZ2UgY2hhbmdlIChkZWx0YSkgZm9yIGEgZ2l2ZW4gc2NhbGUgZmFjdG9yLlxuICAgIC8vIFRoZSBkZWx0YSBpcyBzdWJ0cmFjdGVkIGZyb20gdGhlIGF4aXMgcmFuZ2U6XG4gICAgLy8gICAqIGRlbHRhID4gMCByZWR1Y2VzIHRoZSBheGlzIHJhbmdlICh6b29tLWluKVxuICAgIC8vICAgKiBkZWx0YSA8IDAgZXhwYW5kcyB0aGUgYXhpcyByYW5nZSAoem9vbS1vdXQpXG4gICAgc2NhbGVUb0RlbHRhKHJhd1NjYWxlLCByYW5nZSkge1xuICAgICAgICAvLyBTY2FsZSA+PSAxIHdvdWxkIHJlc3VsdCBpbiBheGlzIHJhbmdlIG9mIDAuXG4gICAgICAgIC8vIFNjYWxlIDw9IC0xIHdvdWxkIHJldmVyc2UgdGhlIHNjYWxlIGRpcmVjdGlvbi5cbiAgICAgICAgY29uc3QgTUFYX1NDQUxFID0gMC45OTk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gbGltaXRWYWx1ZShyYXdTY2FsZSwgLU1BWF9TQ0FMRSwgTUFYX1NDQUxFKTtcblxuICAgICAgICBsZXQgZGVsdGE7XG4gICAgICAgIGlmIChzY2FsZSA+IDApIHtcbiAgICAgICAgICAgIGRlbHRhID0gcmFuZ2UgKiBNYXRoLm1pbigxLCBzY2FsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWx0YSA9IHJhbmdlIC0gKHJhbmdlIC8gKDEgKyBzY2FsZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlbHRhO1xuICAgIH1cblxuICAgIGxhYmVsc0JldHdlZW5UaWNrcygpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLm9wdGlvbnMuanVzdGlmaWVkO1xuICAgIH1cblxuICAgIC8vYWRkIGxlZ2FjeSBmaWVsZHMgdG8gdGhlIG9wdGlvbnMgdGhhdCBhcmUgbm8gbG9uZ2VyIGdlbmVyYXRlZCBieSBkZWZhdWx0XG4gICAgcHJlcGFyZVVzZXJPcHRpb25zKCkge1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQXhpcywge1xuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgbWlycm9yOiBmYWxzZSxcbiAgICAgICAgc3RlcDogMSxcbiAgICAgICAgc2tpcDogMFxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBwb3NpdGlvbjogQ0VOVEVSXG4gICAgfSxcbiAgICBtYWpvclRpY2tzOiB7XG4gICAgICAgIGFsaWduOiBPVVRTSURFLFxuICAgICAgICBzaXplOiA0LFxuICAgICAgICBza2lwOiAwLFxuICAgICAgICBzdGVwOiAxXG4gICAgfSxcbiAgICBtaW5vclRpY2tzOiB7XG4gICAgICAgIGFsaWduOiBPVVRTSURFLFxuICAgICAgICBzaXplOiAzLFxuICAgICAgICBza2lwOiAwLFxuICAgICAgICBzdGVwOiAxXG4gICAgfSxcbiAgICBheGlzQ3Jvc3NpbmdWYWx1ZTogMCxcbiAgICBtYWpvclRpY2tUeXBlOiBPVVRTSURFLFxuICAgIG1pbm9yVGlja1R5cGU6IE5PTkUsXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgc2tpcDogMCxcbiAgICAgICAgc3RlcDogMVxuICAgIH0sXG4gICAgbWlub3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHNraXA6IDAsXG4gICAgICAgIHN0ZXA6IDFcbiAgICB9LFxuICAgIC8vIFRPRE86IE1vdmUgdG8gbGluZSBvciBsYWJlbHMgb3B0aW9uc1xuICAgIG1hcmdpbjogNSxcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIHJldmVyc2U6IGZhbHNlLFxuICAgIGp1c3RpZmllZDogdHJ1ZSxcbiAgICBub3Rlczoge1xuICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgdGV4dDogXCJcIlxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9hbGlnbkxpbmVzOiB0cnVlLFxuICAgIF9kZWZlckxhYmVsczogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlzO1xuIiwiZXhwb3J0IGNvbnN0IE1JTExJU0VDT05EUyA9IFwibWlsbGlzZWNvbmRzXCI7XG5leHBvcnQgY29uc3QgU0VDT05EUyA9IFwic2Vjb25kc1wiO1xuZXhwb3J0IGNvbnN0IE1JTlVURVMgPSBcIm1pbnV0ZXNcIjtcbmV4cG9ydCBjb25zdCBIT1VSUyA9IFwiaG91cnNcIjtcbmV4cG9ydCBjb25zdCBEQVlTID0gXCJkYXlzXCI7XG5leHBvcnQgY29uc3QgV0VFS1MgPSBcIndlZWtzXCI7XG5leHBvcnQgY29uc3QgTU9OVEhTID0gXCJtb250aHNcIjtcbmV4cG9ydCBjb25zdCBZRUFSUyA9IFwieWVhcnNcIjtcblxuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX01JTExJU0VDT05EID0gMTtcbmV4cG9ydCBjb25zdCBUSU1FX1BFUl9TRUNPTkQgPSAxMDAwO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX01JTlVURSA9IDYwICogVElNRV9QRVJfU0VDT05EO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX0hPVVIgPSA2MCAqIFRJTUVfUEVSX01JTlVURTtcbmV4cG9ydCBjb25zdCBUSU1FX1BFUl9EQVkgPSAyNCAqIFRJTUVfUEVSX0hPVVI7XG5leHBvcnQgY29uc3QgVElNRV9QRVJfV0VFSyA9IDcgKiBUSU1FX1BFUl9EQVk7XG5leHBvcnQgY29uc3QgVElNRV9QRVJfTU9OVEggPSAzMSAqIFRJTUVfUEVSX0RBWTtcbmV4cG9ydCBjb25zdCBUSU1FX1BFUl9ZRUFSID0gMzY1ICogVElNRV9QRVJfREFZO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX1VOSVQgPSB7XG4gICAgXCJ5ZWFyc1wiOiBUSU1FX1BFUl9ZRUFSLFxuICAgIFwibW9udGhzXCI6IFRJTUVfUEVSX01PTlRILFxuICAgIFwid2Vla3NcIjogVElNRV9QRVJfV0VFSyxcbiAgICBcImRheXNcIjogVElNRV9QRVJfREFZLFxuICAgIFwiaG91cnNcIjogVElNRV9QRVJfSE9VUixcbiAgICBcIm1pbnV0ZXNcIjogVElNRV9QRVJfTUlOVVRFLFxuICAgIFwic2Vjb25kc1wiOiBUSU1FX1BFUl9TRUNPTkQsXG4gICAgXCJtaWxsaXNlY29uZHNcIjogVElNRV9QRVJfTUlMTElTRUNPTkRcbn07XG5cbiIsImltcG9ydCB7IFRJTUVfUEVSX01JTlVURSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWJzb2x1dGVEYXRlRGlmZihhLCBiKSB7XG4gICAgY29uc3QgZGlmZiA9IGEuZ2V0VGltZSgpIC0gYjtcbiAgICBjb25zdCBvZmZzZXREaWZmID0gYS5nZXRUaW1lem9uZU9mZnNldCgpIC0gYi5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgcmV0dXJuIGRpZmYgLSAob2Zmc2V0RGlmZiAqIFRJTUVfUEVSX01JTlVURSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVGlja3MoZGF0ZSwgdGlja3MpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyB0aWNrcyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9EYXRlKHZhbHVlKSB7XG4gICAgbGV0IHJlc3VsdDtcblxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICByZXN1bHQgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgeyBUSU1FX1BFUl9EQVkgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgYWRkVGlja3MgZnJvbSAnLi9hZGQtdGlja3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mV2VlayhkYXRlLCB3ZWVrU3RhcnREYXkgPSAwKSB7XG4gICAgbGV0IGRheXNUb1N1YnRyYWN0ID0gMDtcbiAgICBsZXQgZGF5ID0gZGF0ZS5nZXREYXkoKTtcblxuICAgIGlmICghaXNOYU4oZGF5KSkge1xuICAgICAgICB3aGlsZSAoZGF5ICE9PSB3ZWVrU3RhcnREYXkpIHtcbiAgICAgICAgICAgIGlmIChkYXkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkYXkgPSA2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXktLTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF5c1RvU3VidHJhY3QrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhZGRUaWNrcyhkYXRlLCAtZGF5c1RvU3VidHJhY3QgKiBUSU1FX1BFUl9EQVkpO1xufSIsImltcG9ydCB7IE1JTExJU0VDT05EUywgU0VDT05EUywgTUlOVVRFUywgSE9VUlMsIERBWVMsIFdFRUtTLCBNT05USFMsIFlFQVJTLFxuICAgIFRJTUVfUEVSX1NFQ09ORCwgVElNRV9QRVJfTUlOVVRFLCBUSU1FX1BFUl9IT1VSIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGFkZFRpY2tzIGZyb20gJy4vYWRkLXRpY2tzJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcbmltcG9ydCBzdGFydE9mV2VlayBmcm9tICcuL3N0YXJ0LW9mLXdlZWsnO1xuXG5mdW5jdGlvbiBhZGp1c3REU1QoZGF0ZSwgaG91cnMpIHtcbiAgICBpZiAoaG91cnMgPT09IDAgJiYgZGF0ZS5nZXRIb3VycygpID09PSAyMykge1xuICAgICAgICBkYXRlLnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSArIDIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFkZEhvdXJzKGRhdGUsIGhvdXJzKSB7XG4gICAgY29uc3Qgcm91bmRlZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcblxuICAgIHJvdW5kZWREYXRlLnNldE1pbnV0ZXMoMCwgMCwgMCk7XG5cbiAgICBjb25zdCB0ekRpZmYgPSAoZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gcm91bmRlZERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSkgKiBUSU1FX1BFUl9NSU5VVEU7XG5cbiAgICByZXR1cm4gYWRkVGlja3Mocm91bmRlZERhdGUsIHR6RGlmZiArIGhvdXJzICogVElNRV9QRVJfSE9VUik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZER1cmF0aW9uKGRhdGVWYWx1ZSwgdmFsdWUsIHVuaXQsIHdlZWtTdGFydERheSkge1xuICAgIGxldCByZXN1bHQgPSBkYXRlVmFsdWU7XG5cbiAgICBpZiAoZGF0ZVZhbHVlKSB7XG4gICAgICAgIGxldCBkYXRlID0gdG9EYXRlKGRhdGVWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuXG4gICAgICAgIGlmICh1bml0ID09PSBZRUFSUykge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpICsgdmFsdWUsIDAsIDEpO1xuICAgICAgICAgICAgYWRqdXN0RFNUKHJlc3VsdCwgMCk7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gTU9OVEhTKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIHZhbHVlLCAxKTtcbiAgICAgICAgICAgIGFkanVzdERTVChyZXN1bHQsIGhvdXJzKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBXRUVLUykge1xuICAgICAgICAgICAgcmVzdWx0ID0gYWRkRHVyYXRpb24oc3RhcnRPZldlZWsoZGF0ZSwgd2Vla1N0YXJ0RGF5KSwgdmFsdWUgKiA3LCBEQVlTKTtcbiAgICAgICAgICAgIGFkanVzdERTVChyZXN1bHQsIGhvdXJzKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBEQVlTKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkgKyB2YWx1ZSk7XG4gICAgICAgICAgICBhZGp1c3REU1QocmVzdWx0LCBob3Vycyk7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gSE9VUlMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZEhvdXJzKGRhdGUsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBNSU5VVEVTKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhZGRUaWNrcyhkYXRlLCB2YWx1ZSAqIFRJTUVfUEVSX01JTlVURSk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuZ2V0U2Vjb25kcygpID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRTZWNvbmRzKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT09IFNFQ09ORFMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZFRpY2tzKGRhdGUsIHZhbHVlICogVElNRV9QRVJfU0VDT05EKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBNSUxMSVNFQ09ORFMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZFRpY2tzKGRhdGUsIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1bml0ICE9PSBNSUxMSVNFQ09ORFMgJiYgcmVzdWx0LmdldE1pbGxpc2Vjb25kcygpID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnNldE1pbGxpc2Vjb25kcygwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59IiwiaW1wb3J0IGFkZER1cmF0aW9uIGZyb20gJy4vYWRkLWR1cmF0aW9uJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmxvb3JEYXRlKGRhdGUsIHVuaXQsIHdlZWtTdGFydERheSkge1xuICAgIHJldHVybiBhZGREdXJhdGlvbih0b0RhdGUoZGF0ZSksIDAsIHVuaXQsIHdlZWtTdGFydERheSk7XG59IiwiaW1wb3J0IGZsb29yRGF0ZSBmcm9tICcuL2Zsb29yLWRhdGUnO1xuaW1wb3J0IGFkZER1cmF0aW9uIGZyb20gJy4vYWRkLWR1cmF0aW9uJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2VpbERhdGUoZGF0ZVZhbHVlLCB1bml0LCB3ZWVrU3RhcnREYXkpIHtcbiAgICBjb25zdCBkYXRlID0gdG9EYXRlKGRhdGVWYWx1ZSk7XG5cbiAgICBpZiAoZGF0ZSAmJiBmbG9vckRhdGUoZGF0ZSwgdW5pdCwgd2Vla1N0YXJ0RGF5KS5nZXRUaW1lKCkgPT09IGRhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIHJldHVybiBhZGREdXJhdGlvbihkYXRlLCAxLCB1bml0LCB3ZWVrU3RhcnREYXkpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRhdGVDb21wYXJlcihhLCBiKSB7XG4gICAgaWYgKGEgJiYgYikge1xuICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgLSBiLmdldFRpbWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGF0ZURpZmYoYSwgYikge1xuICAgIHJldHVybiBhLmdldFRpbWUoKSAtIGI7XG59IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgdG9EYXRlIGZyb20gJy4vdG8tZGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvVGltZSh2YWx1ZSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHZhbHVlLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRvVGltZSh2YWx1ZVtpZHhdKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvRGF0ZSh2YWx1ZSkuZ2V0VGltZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgdG9UaW1lIGZyb20gJy4vdG8tdGltZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRhdGVFcXVhbHMoYSwgYikge1xuICAgIGlmIChhICYmIGIpIHtcbiAgICAgICAgcmV0dXJuIHRvVGltZShhKSA9PT0gdG9UaW1lKGIpO1xuICAgIH1cblxuICAgIHJldHVybiBhID09PSBiO1xufSIsImltcG9ydCB7IERBWVMsIFdFRUtTLCBNT05USFMsIFlFQVJTLCBUSU1FX1BFUl9VTklUIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGRhdGVEaWZmIGZyb20gJy4vZGF0ZS1kaWZmJztcbmltcG9ydCBhYnNvbHV0ZURhdGVEaWZmIGZyb20gJy4vYWJzb2x1dGUtZGF0ZS1kaWZmJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcblxuZnVuY3Rpb24gdGltZUluZGV4KGRhdGUsIHN0YXJ0LCBiYXNlVW5pdCkge1xuICAgIHJldHVybiBhYnNvbHV0ZURhdGVEaWZmKGRhdGUsIHN0YXJ0KSAvIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkYXRlSW5kZXgodmFsdWUsIHN0YXJ0LCBiYXNlVW5pdCwgYmFzZVVuaXRTdGVwKSB7XG4gICAgY29uc3QgZGF0ZSA9IHRvRGF0ZSh2YWx1ZSk7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gdG9EYXRlKHN0YXJ0KTtcbiAgICBsZXQgaW5kZXg7XG5cbiAgICBpZiAoYmFzZVVuaXQgPT09IE1PTlRIUykge1xuICAgICAgICBpbmRleCA9IChkYXRlLmdldE1vbnRoKCkgLSBzdGFydERhdGUuZ2V0TW9udGgoKSArIChkYXRlLmdldEZ1bGxZZWFyKCkgLSBzdGFydERhdGUuZ2V0RnVsbFllYXIoKSkgKiAxMikgK1xuICAgICAgICAgICAgdGltZUluZGV4KGRhdGUsIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpKSwgREFZUykgLyBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcbiAgICB9IGVsc2UgaWYgKGJhc2VVbml0ID09PSBZRUFSUykge1xuICAgICAgICBpbmRleCA9IGRhdGUuZ2V0RnVsbFllYXIoKSAtIHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpICsgZGF0ZUluZGV4KGRhdGUsIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCksIE1PTlRIUywgMSkgLyAxMjtcbiAgICB9IGVsc2UgaWYgKGJhc2VVbml0ID09PSBEQVlTIHx8IGJhc2VVbml0ID09PSBXRUVLUykge1xuICAgICAgICBpbmRleCA9IHRpbWVJbmRleChkYXRlLCBzdGFydERhdGUsIGJhc2VVbml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IGRhdGVEaWZmKGRhdGUsIHN0YXJ0KSAvIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdO1xuICAgIH1cblxuICAgIHJldHVybiBpbmRleCAvIGJhc2VVbml0U3RlcDtcbn1cblxuIiwiaW1wb3J0IHsgREFZUywgTU9OVEhTLCBZRUFSUywgVElNRV9QRVJfREFZLCBUSU1FX1BFUl9VTklUIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGRhdGVEaWZmIGZyb20gJy4vZGF0ZS1kaWZmJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZHVyYXRpb24oYSwgYiwgdW5pdCkge1xuICAgIGxldCBkaWZmO1xuXG4gICAgaWYgKHVuaXQgPT09IFlFQVJTKSB7XG4gICAgICAgIGRpZmYgPSBiLmdldEZ1bGxZZWFyKCkgLSBhLmdldEZ1bGxZZWFyKCk7XG4gICAgfSBlbHNlIGlmICh1bml0ID09PSBNT05USFMpIHtcbiAgICAgICAgZGlmZiA9IGR1cmF0aW9uKGEsIGIsIFlFQVJTKSAqIDEyICsgYi5nZXRNb250aCgpIC0gYS5nZXRNb250aCgpO1xuICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gREFZUykge1xuICAgICAgICBkaWZmID0gTWF0aC5mbG9vcihkYXRlRGlmZihiLCBhKSAvIFRJTUVfUEVSX0RBWSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGlmZiA9IE1hdGguZmxvb3IoZGF0ZURpZmYoYiwgYSkgLyBUSU1FX1BFUl9VTklUW3VuaXRdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlmZjtcbn0iLCJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgdG9EYXRlIGZyb20gJy4vdG8tZGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlRGF0ZShpbnRsU2VydmljZSwgZGF0ZSkge1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKGlzU3RyaW5nKGRhdGUpKSB7XG4gICAgICAgIHJlc3VsdCA9IGludGxTZXJ2aWNlLnBhcnNlRGF0ZShkYXRlKSB8fCB0b0RhdGUoZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdG9EYXRlKGRhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHBhcnNlRGF0ZSBmcm9tICcuL3BhcnNlLWRhdGUnO1xuXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VEYXRlcyhpbnRsU2VydmljZSwgZGF0ZXMpIHtcbiAgICBpZiAoaXNBcnJheShkYXRlcykpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGRhdGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlRGF0ZShpbnRsU2VydmljZSwgZGF0ZXNbaWR4XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBkYXRlcyk7XG59IiwiaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaXJzdERheShvcHRpb25zLCBpbnRsU2VydmljZSkge1xuICAgIGlmIChpc051bWJlcihvcHRpb25zLndlZWtTdGFydERheSkpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMud2Vla1N0YXJ0RGF5O1xuICAgIH1cblxuICAgIGlmIChpbnRsU2VydmljZSAmJiBpbnRsU2VydmljZS5maXJzdERheSkge1xuICAgICAgICByZXR1cm4gaW50bFNlcnZpY2UuZmlyc3REYXkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cbiIsImltcG9ydCBBeGlzIGZyb20gJy4vYXhpcyc7XG5pbXBvcnQgQXhpc0xhYmVsIGZyb20gJy4vYXhpcy1sYWJlbCc7XG5cbmltcG9ydCB7IEJMQUNLLCBDT09SRF9QUkVDSVNJT04sIERFRkFVTFRfUFJFQ0lTSU9OLCBYLCBZIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWZpbmVkLCBpc051bWJlciwgbGFzdCwgbGltaXRWYWx1ZSwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCwgSGFzaE1hcCB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyBkYXRlRXF1YWxzIH0gZnJvbSAnLi4vZGF0ZS11dGlscyc7XG5cbmNvbnN0IE1JTl9DQVRFR09SWV9QT0lOVFNfUkFOR0UgPSAwLjAxO1xuY29uc3QgTUlOX0NBVEVHT1JZX1JBTkdFID0gMC4xO1xuXG5mdW5jdGlvbiBpbmRleE9mKHZhbHVlLCBhcnIpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChkYXRlRXF1YWxzKGFycltpZHhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIuaW5kZXhPZih2YWx1ZSk7XG59XG5cbmNsYXNzIENhdGVnb3J5QXhpcyBleHRlbmRzIEF4aXMge1xuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMuX3RpY2tzID0ge307XG4gICAgfVxuXG4gICAgY2F0ZWdvcmllc0hhc2goKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBjb3B5ID0gbmV3IENhdGVnb3J5QXhpcyhPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXM6IHRoaXMub3B0aW9ucy5zcmNDYXRlZ29yaWVzXG4gICAgICAgIH0pLCB0aGlzLmNoYXJ0U2VydmljZSk7XG4gICAgICAgIGNvcHkuY3JlYXRlTGFiZWxzKCk7XG5cbiAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfVxuXG4gICAgaW5pdFVzZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IG9wdGlvbnMuY2F0ZWdvcmllcyB8fCBbXTtcbiAgICAgICAgY29uc3QgZGVmaW5lZE1pbiA9IGRlZmluZWQob3B0aW9ucy5taW4pO1xuICAgICAgICBjb25zdCBkZWZpbmVkTWF4ID0gZGVmaW5lZChvcHRpb25zLm1heCk7XG4gICAgICAgIG9wdGlvbnMuc3JjQ2F0ZWdvcmllcyA9IG9wdGlvbnMuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG5cbiAgICAgICAgaWYgKChkZWZpbmVkTWluIHx8IGRlZmluZWRNYXgpICYmIGNhdGVnb3JpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSBkZWZpbmVkTWluID8gTWF0aC5mbG9vcihvcHRpb25zLm1pbikgOiAwO1xuICAgICAgICAgICAgbGV0IG1heDtcblxuICAgICAgICAgICAgaWYgKGRlZmluZWRNYXgpIHtcbiAgICAgICAgICAgICAgICBtYXggPSBvcHRpb25zLmp1c3RpZmllZCA/IE1hdGguZmxvb3Iob3B0aW9ucy5tYXgpICsgMSA6IE1hdGguY2VpbChvcHRpb25zLm1heCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1heCA9IGNhdGVnb3JpZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb25zLmNhdGVnb3JpZXMgPSBvcHRpb25zLmNhdGVnb3JpZXMuc2xpY2UobWluLCBtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgcmFuZ2VJbmRpY2VzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBvcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoIHx8IDE7XG4gICAgICAgIGNvbnN0IG1pbiA9IGlzTnVtYmVyKG9wdGlvbnMubWluKSA/IG9wdGlvbnMubWluICUgMSA6IDA7XG4gICAgICAgIGxldCBtYXg7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMubWF4KSAmJiBvcHRpb25zLm1heCAlIDEgIT09IDAgJiYgb3B0aW9ucy5tYXggPCB0aGlzLnRvdGFsUmFuZ2UoKS5tYXgpIHtcbiAgICAgICAgICAgIG1heCA9IGxlbmd0aCAtICgxIC0gb3B0aW9ucy5tYXggJSAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1heCA9IGxlbmd0aCAtIChvcHRpb25zLmp1c3RpZmllZCA/IDEgOiAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdG90YWxSYW5nZUluZGljZXMobGltaXQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IG1pbiA9IGlzTnVtYmVyKG9wdGlvbnMubWluKSA/IG9wdGlvbnMubWluIDogMDtcbiAgICAgICAgbGV0IG1heDtcblxuICAgICAgICBpZiAoaXNOdW1iZXIob3B0aW9ucy5tYXgpKSB7XG4gICAgICAgICAgICBtYXggPSBvcHRpb25zLm1heDtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihvcHRpb25zLm1pbikpIHtcbiAgICAgICAgICAgIG1heCA9IG1pbiArIG9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXggPSB0aGlzLnRvdGFsUmFuZ2UoKS5tYXggfHwgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaW1pdCkge1xuICAgICAgICAgICAgY29uc3QgdG90YWxSYW5nZSA9IHRoaXMudG90YWxSYW5nZSgpO1xuICAgICAgICAgICAgbWluID0gbGltaXRWYWx1ZShtaW4sIDAsIHRvdGFsUmFuZ2UubWF4KTtcbiAgICAgICAgICAgIG1heCA9IGxpbWl0VmFsdWUobWF4LCAwLCB0b3RhbFJhbmdlLm1heCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJhbmdlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBtaW4gPSBpc051bWJlcihvcHRpb25zLm1pbikgPyBvcHRpb25zLm1pbiA6IDA7XG4gICAgICAgIGNvbnN0IG1heCA9IGlzTnVtYmVyKG9wdGlvbnMubWF4KSA/IG9wdGlvbnMubWF4IDogdGhpcy50b3RhbFJhbmdlKCkubWF4O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcm91bmRlZFJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZSgpO1xuICAgIH1cblxuICAgIHRvdGFsUmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiB7IG1pbjogMCwgbWF4OiBNYXRoLm1heCh0aGlzLl9zZXJpZXNNYXggfHwgMCwgb3B0aW9ucy5zcmNDYXRlZ29yaWVzLmxlbmd0aCkgLSAob3B0aW9ucy5qdXN0aWZpZWQgPyAxIDogMCkgfTtcbiAgICB9XG5cbiAgICBzY2FsZU9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHRoaXMucmFuZ2VJbmRpY2VzKCk7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2l6ZSAvICgobWF4IC0gbWluKSB8fCAxKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NhbGU6IHNjYWxlICogKHRoaXMub3B0aW9ucy5yZXZlcnNlID8gLTEgOiAxKSxcbiAgICAgICAgICAgIGJveDogbGluZUJveCxcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhcnJhbmdlTGFiZWxzKCkge1xuICAgICAgICBzdXBlci5hcnJhbmdlTGFiZWxzKCk7XG4gICAgICAgIHRoaXMuaGlkZU91dE9mUmFuZ2VMYWJlbHMoKTtcbiAgICB9XG5cbiAgICBoaWRlT3V0T2ZSYW5nZUxhYmVscygpIHtcbiAgICAgICAgY29uc3QgeyBib3gsIGxhYmVscyB9ID0gdGhpcztcblxuICAgICAgICBpZiAobGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBib3hbdmFsdWVBeGlzICsgMV07XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBib3hbdmFsdWVBeGlzICsgMl07XG4gICAgICAgICAgICBjb25zdCBmaXJzdExhYmVsID0gbGFiZWxzWzBdO1xuICAgICAgICAgICAgY29uc3QgbGFzdExhYmVsID0gbGFzdChsYWJlbHMpO1xuXG4gICAgICAgICAgICBpZiAoZmlyc3RMYWJlbC5ib3hbdmFsdWVBeGlzICsgMV0gPiBlbmQgfHwgZmlyc3RMYWJlbC5ib3hbdmFsdWVBeGlzICsgMl0gPCBzdGFydCkge1xuICAgICAgICAgICAgICAgIGZpcnN0TGFiZWwub3B0aW9ucy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdExhYmVsLmJveFt2YWx1ZUF4aXMgKyAxXSA+IGVuZCB8fCBsYXN0TGFiZWwuYm94W3ZhbHVlQXhpcyArIDJdIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBsYXN0TGFiZWwub3B0aW9ucy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRNYWpvclRpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpY2tzKCkubWFqb3JUaWNrcztcbiAgICB9XG5cbiAgICBnZXRNaW5vclRpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpY2tzKCkubWlub3JUaWNrcztcbiAgICB9XG5cbiAgICBnZXRMYWJlbHNUaWNrUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrcygpLmxhYmVsVGlja3M7XG4gICAgfVxuXG4gICAgdGlja0luZGljZXMoc3RlcFNpemUpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gdGhpcy5yYW5nZUluZGljZXMoKTtcbiAgICAgICAgY29uc3QgbGltaXQgPSBNYXRoLmNlaWwobWF4KTtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBNYXRoLmZsb29yKG1pbik7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBbXTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudCA8PSBsaW1pdCkge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgY3VycmVudCArPSBzdGVwU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRpY2VzO1xuICAgIH1cblxuICAgIGdldFRpY2tQb3NpdGlvbnMoc3RlcFNpemUpIHtcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgcmV2ZXJzZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBib3gsIG1pbiB9ID0gdGhpcy5zY2FsZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgcG9zID0gYm94Wyh2ZXJ0aWNhbCA/IFkgOiBYKSArIChyZXZlcnNlID8gMiA6IDEpXTtcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IHRoaXMudGlja0luZGljZXMoc3RlcFNpemUpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBpbmRpY2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHBvcyArIHJvdW5kKHNjYWxlICogKGluZGljZXNbaWR4XSAtIG1pbiksIENPT1JEX1BSRUNJU0lPTikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgICB9XG5cbiAgICBnZXRUaWNrcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl90aWNrcztcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnJhbmdlSW5kaWNlcygpO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBsaW5lQm94LmdldEhhc2goKSArIHJhbmdlLm1pbiArIFwiLFwiICsgcmFuZ2UubWF4ICsgb3B0aW9ucy5yZXZlcnNlICsgb3B0aW9ucy5qdXN0aWZpZWQ7XG5cbiAgICAgICAgaWYgKGNhY2hlLl9oYXNoICE9PSBoYXNoKSB7XG4gICAgICAgICAgICBjb25zdCBoYXNNaW5vciA9IG9wdGlvbnMubWlub3JUaWNrcy52aXNpYmxlIHx8IG9wdGlvbnMubWlub3JHcmlkTGluZXMudmlzaWJsZTtcbiAgICAgICAgICAgIGNhY2hlLl9oYXNoID0gaGFzaDtcbiAgICAgICAgICAgIGNhY2hlLmxhYmVsVGlja3MgPSB0aGlzLmdldFRpY2tQb3NpdGlvbnMoMSk7XG4gICAgICAgICAgICBjYWNoZS5tYWpvclRpY2tzID0gdGhpcy5maWx0ZXJPdXRPZlJhbmdlUG9zaXRpb25zKGNhY2hlLmxhYmVsVGlja3MsIGxpbmVCb3gpO1xuICAgICAgICAgICAgY2FjaGUubWlub3JUaWNrcyA9IGhhc01pbm9yID8gdGhpcy5maWx0ZXJPdXRPZlJhbmdlUG9zaXRpb25zKHRoaXMuZ2V0VGlja1Bvc2l0aW9ucygwLjUpLCBsaW5lQm94KSA6IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH1cblxuICAgIGZpbHRlck91dE9mUmFuZ2VQb3NpdGlvbnMocG9zaXRpb25zLCBsaW5lQm94KSB7XG4gICAgICAgIGlmICghcG9zaXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLm9wdGlvbnMudmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgaW5SYW5nZSA9IChwb3NpdGlvbikgPT4gbGluZUJveFtheGlzICsgMV0gPD0gcG9zaXRpb24gJiYgcG9zaXRpb24gPD0gbGluZUJveFtheGlzICsgMl07XG5cbiAgICAgICAgY29uc3QgZW5kID0gcG9zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBzdGFydEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKCFpblJhbmdlKHBvc2l0aW9uc1tzdGFydEluZGV4XSkgJiYgc3RhcnRJbmRleCA8PSBlbmQpIHtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbmRJbmRleCA9IGVuZDtcblxuICAgICAgICB3aGlsZSAoIWluUmFuZ2UocG9zaXRpb25zW2VuZEluZGV4XSkgJiYgZW5kSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgZW5kSW5kZXgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnMuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXggKyAxKTtcbiAgICB9XG5cbiAgICBsaW5lSW5mbygpIHtcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgcmV2ZXJzZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGxpbmVTaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBheGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgYXhpc0RpciA9IHJldmVyc2UgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHN0YXJ0RWRnZSA9IGF4aXNEaXIgPT09IDEgPyAxIDogMjtcbiAgICAgICAgY29uc3QgYXhpc09yaWdpbiA9IGF4aXMgKyBzdGFydEVkZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbGluZUJveFtheGlzT3JpZ2luXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXhpcyxcbiAgICAgICAgICAgIGF4aXNPcmlnaW4sXG4gICAgICAgICAgICBheGlzRGlyLFxuICAgICAgICAgICAgbGluZUJveCxcbiAgICAgICAgICAgIGxpbmVTaXplLFxuICAgICAgICAgICAgbGluZVN0YXJ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGluZURpcigpIHtcbiAgICAgICAgLypcbiAgICAgICAgICogIENhdGVnb3J5IGF4aXMgbGluZSBkaXJlY3Rpb246XG4gICAgICAgICAqICAgICogVmVydGljYWw6IGRvd24uXG4gICAgICAgICAqICAgICogSG9yaXpvbnRhbDogcmlnaHQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIGNvbnN0IHsgcmV2ZXJzZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4gcmV2ZXJzZSA/IC0xIDogMTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBSZW5hbWUgdG8gc2xvdEJveCwgdmFsdWVTbG90LCBzbG90QnlJbmRleD9cbiAgICBnZXRTbG90KGZyb20sIHRvLCBsaW1pdCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHJldmVyc2UsIGp1c3RpZmllZCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgYm94LCBtaW4gfSA9IHRoaXMuc2NhbGVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IHsgYXhpczogdmFsdWVBeGlzLCBsaW5lU3RhcnQgfSA9IHRoaXMubGluZUluZm8oKTtcblxuICAgICAgICBjb25zdCBzbG90Qm94ID0gYm94LmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNpbmdsZVNsb3QgPSAhZGVmaW5lZCh0byk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSB2YWx1ZU9yRGVmYXVsdChmcm9tLCAwKTtcbiAgICAgICAgbGV0IGVuZCA9IHZhbHVlT3JEZWZhdWx0KHRvLCBzdGFydCk7XG4gICAgICAgIGVuZCA9IE1hdGgubWF4KGVuZCAtIDEsIHN0YXJ0KTtcblxuICAgICAgICAvLyBGaXhlcyB0cmFuc2llbnQgYnVnIGNhdXNlZCBieSBpT1MgNi4wIEpJVFxuICAgICAgICAvLyAob25lIGNhbiBuZXZlciBiZSB0b28gc3VyZSlcbiAgICAgICAgZW5kID0gTWF0aC5tYXgoc3RhcnQsIGVuZCk7XG5cbiAgICAgICAgbGV0IHAxID0gbGluZVN0YXJ0ICsgKHN0YXJ0IC0gbWluKSAqIHNjYWxlO1xuICAgICAgICBsZXQgcDIgPSBsaW5lU3RhcnQgKyAoZW5kICsgMSAtIG1pbikgKiBzY2FsZTtcblxuICAgICAgICBpZiAoc2luZ2xlU2xvdCAmJiBqdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIHAyID0gcDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgICAgIHAxID0gbGltaXRWYWx1ZShwMSwgYm94W3ZhbHVlQXhpcyArIDFdLCBib3hbdmFsdWVBeGlzICsgMl0pO1xuICAgICAgICAgICAgcDIgPSBsaW1pdFZhbHVlKHAyLCBib3hbdmFsdWVBeGlzICsgMV0sIGJveFt2YWx1ZUF4aXMgKyAyXSk7XG4gICAgICAgIH1cblxuICAgICAgICBzbG90Qm94W3ZhbHVlQXhpcyArIDFdID0gcmV2ZXJzZSA/IHAyIDogcDE7XG4gICAgICAgIHNsb3RCb3hbdmFsdWVBeGlzICsgMl0gPSByZXZlcnNlID8gcDEgOiBwMjtcblxuICAgICAgICByZXR1cm4gc2xvdEJveDtcbiAgICB9XG5cbiAgICBsaW1pdFNsb3Qoc2xvdCkge1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBsaW1pdHRlZFNsb3QgPSBzbG90LmNsb25lKCk7XG5cbiAgICAgICAgbGltaXR0ZWRTbG90W3ZhbHVlQXhpcyArIDFdID0gbGltaXRWYWx1ZShzbG90W3ZhbHVlQXhpcyArIDFdLCBsaW5lQm94W3ZhbHVlQXhpcyArIDFdLCBsaW5lQm94W3ZhbHVlQXhpcyArIDJdKTtcbiAgICAgICAgbGltaXR0ZWRTbG90W3ZhbHVlQXhpcyArIDJdID0gbGltaXRWYWx1ZShzbG90W3ZhbHVlQXhpcyArIDJdLCBsaW5lQm94W3ZhbHVlQXhpcyArIDFdLCBsaW5lQm94W3ZhbHVlQXhpcyArIDJdKTtcblxuICAgICAgICByZXR1cm4gbGltaXR0ZWRTbG90O1xuICAgIH1cblxuICAgIHNsb3QoZnJvbSwgdG8sIGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IE1hdGguZmxvb3IodGhpcy5vcHRpb25zLm1pbiB8fCAwKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gZnJvbTtcbiAgICAgICAgbGV0IGVuZCA9IHRvO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5jYXRlZ29yeUluZGV4KHN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihzdGFydCkpIHtcbiAgICAgICAgICAgIHN0YXJ0IC09IG1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZW5kID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLmNhdGVnb3J5SW5kZXgoZW5kKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihlbmQpKSB7XG4gICAgICAgICAgICBlbmQgLT0gbWluO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLnNsb3Qoc3RhcnQsIGVuZCwgbGltaXQpO1xuICAgIH1cblxuICAgIHBvaW50Q2F0ZWdvcnlJbmRleChwb2ludCkge1xuICAgICAgICBjb25zdCB7IHJldmVyc2UsIGp1c3RpZmllZCwgdmVydGljYWwgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgYm94LCBtaW4sIG1heCB9ID0gdGhpcy5zY2FsZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHJldmVyc2UgPyBtYXggOiBtaW47XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydCA9IGJveFt2YWx1ZUF4aXMgKyAxXTtcbiAgICAgICAgY29uc3QgbGluZUVuZCA9IGJveFt2YWx1ZUF4aXMgKyAyXTtcbiAgICAgICAgY29uc3QgcG9zID0gcG9pbnRbdmFsdWVBeGlzXTtcblxuICAgICAgICBpZiAocG9zIDwgbGluZVN0YXJ0IHx8IHBvcyA+IGxpbmVFbmQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlID0gc3RhcnRWYWx1ZSArIChwb3MgLSBsaW5lU3RhcnQpIC8gc2NhbGU7XG4gICAgICAgIGNvbnN0IGRpZmYgPSB2YWx1ZSAlIDE7XG5cbiAgICAgICAgaWYgKGp1c3RpZmllZCkge1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChkaWZmID09PSAwICYmIHZhbHVlID4gMCkge1xuICAgICAgICAgICAgdmFsdWUtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXRDYXRlZ29yeShwb2ludCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucG9pbnRDYXRlZ29yeUluZGV4KHBvaW50KTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jYXRlZ29yaWVzW2luZGV4XTtcbiAgICB9XG5cbiAgICBjYXRlZ29yeUluZGV4KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsSW5kZXgodmFsdWUpIC0gTWF0aC5mbG9vcih0aGlzLm9wdGlvbnMubWluIHx8IDApO1xuICAgIH1cblxuICAgIGNhdGVnb3J5QXQoaW5kZXgsIHRvdGFsKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuICh0b3RhbCA/IG9wdGlvbnMuc3JjQ2F0ZWdvcmllcyA6IG9wdGlvbnMuY2F0ZWdvcmllcylbaW5kZXhdO1xuICAgIH1cblxuICAgIGNhdGVnb3JpZXNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcyB8fCBbXSkubGVuZ3RoO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZVJhbmdlKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMudmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCByYW5nZSA9IG9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2l6ZSAvIHJhbmdlO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSByb3VuZChkZWx0YSAvIHNjYWxlLCBERUZBVUxUX1BSRUNJU0lPTik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogb2Zmc2V0LFxuICAgICAgICAgICAgbWF4OiByYW5nZSArIG9mZnNldFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNjYWxlUmFuZ2Uoc2NhbGUsIGN1cnNvcikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGguYWJzKHRoaXMucG9pbnRPZmZzZXQoY3Vyc29yKSk7XG4gICAgICAgIGNvbnN0IHJhbmdlSW5kaWNlcyA9IHRoaXMudG90YWxSYW5nZUluZGljZXMoKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSByYW5nZUluZGljZXMubWF4IC0gcmFuZ2VJbmRpY2VzLm1pbjtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0aGlzLnNjYWxlVG9EZWx0YShzY2FsZSwgcmFuZ2UpO1xuICAgICAgICBjb25zdCBtaW5EZWx0YSA9IHBvc2l0aW9uICogZGVsdGE7XG4gICAgICAgIGNvbnN0IG1heERlbHRhID0gKDEgLSBwb3NpdGlvbikgKiBkZWx0YTtcbiAgICAgICAgY29uc3QgbWluID0gcmFuZ2VJbmRpY2VzLm1pbiArIG1pbkRlbHRhO1xuICAgICAgICBsZXQgbWF4ID0gcmFuZ2VJbmRpY2VzLm1heCAtIG1heERlbHRhO1xuXG4gICAgICAgIGlmIChtYXggLSBtaW4gPCBNSU5fQ0FURUdPUllfUkFOR0UpIHtcbiAgICAgICAgICAgIG1heCA9IG1pbiArIE1JTl9DQVRFR09SWV9SQU5HRTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgem9vbVJhbmdlKHNjYWxlLCBjdXJzb3IpIHtcbiAgICAgICAgY29uc3QgeyBtaW46IHRvdGFsTWluLCBtYXg6IHRvdGFsTWF4IH0gPSB0aGlzLnRvdGFsUmFuZ2UoKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnNjYWxlUmFuZ2Uoc2NhbGUsIGN1cnNvcik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbGltaXRWYWx1ZShyYW5nZS5taW4sIHRvdGFsTWluLCB0b3RhbE1heCksXG4gICAgICAgICAgICBtYXg6IGxpbWl0VmFsdWUocmFuZ2UubWF4LCB0b3RhbE1pbiwgdG90YWxNYXgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGFiZWxzQ291bnQoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVsc1JhbmdlID0gdGhpcy5sYWJlbHNSYW5nZSgpO1xuXG4gICAgICAgIHJldHVybiBsYWJlbHNSYW5nZS5tYXggLSBsYWJlbHNSYW5nZS5taW47XG4gICAgfVxuXG4gICAgbGFiZWxzUmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsganVzdGlmaWVkLCBsYWJlbHM6IGxhYmVsT3B0aW9ucyB9ID0gb3B0aW9ucztcbiAgICAgICAgbGV0IHsgbWluLCBtYXggfSA9IHRoaXMudG90YWxSYW5nZUluZGljZXModHJ1ZSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5mbG9vcihtaW4pO1xuXG4gICAgICAgIGlmICghanVzdGlmaWVkKSB7XG4gICAgICAgICAgICBtaW4gPSBNYXRoLmZsb29yKG1pbik7XG4gICAgICAgICAgICBtYXggPSBNYXRoLmNlaWwobWF4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNraXA7XG5cbiAgICAgICAgaWYgKG1pbiA+IGxhYmVsT3B0aW9ucy5za2lwKSB7XG4gICAgICAgICAgICBza2lwID0gbGFiZWxPcHRpb25zLnNraXAgKyBsYWJlbE9wdGlvbnMuc3RlcCAqIE1hdGguY2VpbCgobWluIC0gbGFiZWxPcHRpb25zLnNraXApIC8gbGFiZWxPcHRpb25zLnN0ZXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2tpcCA9IGxhYmVsT3B0aW9ucy5za2lwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogc2tpcCAtIHN0YXJ0LFxuICAgICAgICAgICAgbWF4OiAob3B0aW9ucy5jYXRlZ29yaWVzLmxlbmd0aCA/IG1heCArIChqdXN0aWZpZWQgPyAxIDogMCkgOiAwKSAtIHN0YXJ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY3JlYXRlQXhpc0xhYmVsKGluZGV4LCBsYWJlbE9wdGlvbnMsIGxhYmVsQ29udGV4dCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IG9wdGlvbnMuZGF0YUl0ZW1zID8gb3B0aW9ucy5kYXRhSXRlbXNbaW5kZXhdIDogbnVsbDtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmNhdGVnb3JpZXNbaW5kZXhdLCBcIlwiKTtcblxuICAgICAgICBsYWJlbENvbnRleHQuZGF0YUl0ZW0gPSBkYXRhSXRlbTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYXhpc0xhYmVsVGV4dChjYXRlZ29yeSwgbGFiZWxPcHRpb25zLCBsYWJlbENvbnRleHQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXhpc0xhYmVsKGNhdGVnb3J5LCB0ZXh0LCBpbmRleCwgZGF0YUl0ZW0sIGxhYmVsT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc2hvdWxkUmVuZGVyTm90ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudG90YWxSYW5nZUluZGljZXMoKTtcblxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihyYW5nZS5taW4pIDw9IHZhbHVlICYmIHZhbHVlIDw9IE1hdGguY2VpbChyYW5nZS5tYXgpO1xuICAgIH1cblxuICAgIG5vdGVTbG90KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdmFsdWUgLSBNYXRoLmZsb29yKG9wdGlvbnMubWluIHx8IDApO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbG90KGluZGV4KTtcbiAgICB9XG5cbiAgICBhcnJhbmdlTm90ZXMoKSB7XG4gICAgICAgIHN1cGVyLmFycmFuZ2VOb3RlcygpO1xuICAgICAgICB0aGlzLmhpZGVPdXRPZlJhbmdlTm90ZXMoKTtcbiAgICB9XG5cbiAgICBoaWRlT3V0T2ZSYW5nZU5vdGVzKCkge1xuICAgICAgICBjb25zdCB7IG5vdGVzLCBib3ggfSA9IHRoaXM7XG4gICAgICAgIGlmIChub3RlcyAmJiBub3Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBib3hbdmFsdWVBeGlzICsgMV07XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBib3hbdmFsdWVBeGlzICsgMl07XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG5vdGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlID0gbm90ZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBpZiAobm90ZS5ib3ggJiYgKGVuZCA8IG5vdGUuYm94W3ZhbHVlQXhpcyArIDFdIHx8IG5vdGUuYm94W3ZhbHVlQXhpcyArIDJdIDwgc3RhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGUuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhbihkZWx0YSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudG90YWxSYW5nZUluZGljZXModHJ1ZSk7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUgfSA9IHRoaXMuc2NhbGVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHJvdW5kKGRlbHRhIC8gc2NhbGUsIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICAgICAgY29uc3QgdG90YWxSYW5nZSA9IHRoaXMudG90YWxSYW5nZSgpO1xuICAgICAgICBjb25zdCBtaW4gPSByYW5nZS5taW4gKyBvZmZzZXQ7XG4gICAgICAgIGNvbnN0IG1heCA9IHJhbmdlLm1heCArIG9mZnNldDtcblxuICAgICAgICByZXR1cm4gdGhpcy5saW1pdFJhbmdlKG1pbiwgbWF4LCAwLCB0b3RhbFJhbmdlLm1heCwgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICBwb2ludHNSYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IHsgcmV2ZXJzZSwgdmVydGljYWwgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnRvdGFsUmFuZ2VJbmRpY2VzKHRydWUpO1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBib3ggfSA9IHRoaXMuc2NhbGVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydCA9IGJveFt2YWx1ZUF4aXMgKyAocmV2ZXJzZSA/IDIgOiAxKV07XG5cbiAgICAgICAgY29uc3QgZGlmZlN0YXJ0ID0gc3RhcnRbdmFsdWVBeGlzXSAtIGxpbmVTdGFydDtcbiAgICAgICAgY29uc3QgZGlmZkVuZCA9IGVuZFt2YWx1ZUF4aXNdIC0gbGluZVN0YXJ0O1xuXG4gICAgICAgIGNvbnN0IG1pbiA9IHJhbmdlLm1pbiArIGRpZmZTdGFydCAvIHNjYWxlO1xuICAgICAgICBjb25zdCBtYXggPSByYW5nZS5taW4gKyBkaWZmRW5kIC8gc2NhbGU7XG4gICAgICAgIGNvbnN0IHJhbmdlTWluID0gTWF0aC5taW4obWluLCBtYXgpO1xuICAgICAgICBjb25zdCByYW5nZU1heCA9IE1hdGgubWF4KG1pbiwgbWF4KTtcblxuICAgICAgICBpZiAocmFuZ2VNYXggLSByYW5nZU1pbiA+PSBNSU5fQ0FURUdPUllfUE9JTlRTX1JBTkdFKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogcmFuZ2VNaW4sXG4gICAgICAgICAgICAgICAgbWF4OiByYW5nZU1heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlKCk7XG4gICAgfVxuXG4gICAgdG90YWxJbmRleCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2NhdGVnb3JpZXNNYXAgP1xuICAgICAgICAgICAgdGhpcy5fY2F0ZWdvcmllc01hcC5nZXQodmFsdWUpIDogaW5kZXhPZih2YWx1ZSwgb3B0aW9ucy5zcmNDYXRlZ29yaWVzKTtcblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgY3VycmVudFJhbmdlSW5kaWNlcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IG1pbiA9IDA7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMubWluKSkge1xuICAgICAgICAgICAgbWluID0gTWF0aC5mbG9vcihvcHRpb25zLm1pbik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF4O1xuICAgICAgICBpZiAoaXNOdW1iZXIob3B0aW9ucy5tYXgpKSB7XG4gICAgICAgICAgICBtYXggPSBvcHRpb25zLmp1c3RpZmllZCA/IE1hdGguZmxvb3Iob3B0aW9ucy5tYXgpIDogTWF0aC5jZWlsKG9wdGlvbnMubWF4KSAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXggPSB0aGlzLnRvdGFsQ291bnQoKSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG1hcENhdGVnb3JpZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2F0ZWdvcmllc01hcCkge1xuICAgICAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fY2F0ZWdvcmllc01hcCA9IG5ldyBIYXNoTWFwKCk7XG4gICAgICAgICAgICBjb25zdCBzcmNDYXRlZ29yaWVzID0gdGhpcy5vcHRpb25zLnNyY0NhdGVnb3JpZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzcmNDYXRlZ29yaWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0KHNyY0NhdGVnb3JpZXNbaWR4XSwgaWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvdGFsQ291bnQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMuc3JjQ2F0ZWdvcmllcy5sZW5ndGgsIHRoaXMuX3Nlcmllc01heCB8fCAwKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENhdGVnb3J5QXhpcywge1xuICAgIHR5cGU6IFwiY2F0ZWdvcnlcIixcbiAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0tcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICB6SW5kZXg6IDFcbiAgICB9LFxuICAgIGp1c3RpZmllZDogZmFsc2UsXG4gICAgX2RlZmVyTGFiZWxzOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcnlBeGlzO1xuIiwiY29uc3QgQ09PUkRJTkFURV9MSU1JVCA9IDMwMDAwMDtcblxuY29uc3QgRGF0ZUxhYmVsRm9ybWF0cyA9IHtcbiAgICBtaWxsaXNlY29uZHM6IFwiSEg6bW06c3MuZmZmXCIsXG4gICAgc2Vjb25kczogXCJISDptbTpzc1wiLFxuICAgIG1pbnV0ZXM6IFwiSEg6bW1cIixcbiAgICBob3VyczogXCJISDptbVwiLFxuICAgIGRheXM6IFwiTS9kXCIsXG4gICAgd2Vla3M6IFwiTS9kXCIsXG4gICAgbW9udGhzOiBcIk1NTSAneXlcIixcbiAgICB5ZWFyczogXCJ5eXl5XCJcbn07XG5cbmNvbnN0IFpFUk9fVEhSRVNIT0xEID0gMC4yO1xuXG5leHBvcnQge1xuICAgIENPT1JESU5BVEVfTElNSVQsIERhdGVMYWJlbEZvcm1hdHMsIFpFUk9fVEhSRVNIT0xEXG59OyIsImltcG9ydCBDYXRlZ29yeUF4aXMgZnJvbSAnLi9jYXRlZ29yeS1heGlzJztcbmltcG9ydCBBeGlzTGFiZWwgZnJvbSAnLi9heGlzLWxhYmVsJztcbmltcG9ydCBCb3ggZnJvbSAnLi9ib3gnO1xuXG5pbXBvcnQgeyBDRU5URVIsIERBVEUsIERFRkFVTFRfUFJFQ0lTSU9OLCBNQVhfVkFMVUUsIE9CSkVDVCwgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgaW5BcnJheSwgbGFzdCwgbGltaXRWYWx1ZSwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zLCBzcGFyc2VBcnJheUxpbWl0cyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmltcG9ydCB7IE1JTExJU0VDT05EUywgU0VDT05EUywgTUlOVVRFUywgSE9VUlMsIERBWVMsIFdFRUtTLCBNT05USFMsIFlFQVJTLFxuICAgIFRJTUVfUEVSX01JTlVURSwgVElNRV9QRVJfSE9VUiwgVElNRV9QRVJfREFZLCBUSU1FX1BFUl9XRUVLLFxuICAgIFRJTUVfUEVSX01PTlRILCBUSU1FX1BFUl9ZRUFSLCBUSU1FX1BFUl9VTklUIH0gZnJvbSAnLi4vZGF0ZS11dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGF0ZUNvbXBhcmVyLCB0b0RhdGUsIGFkZFRpY2tzLCBhZGREdXJhdGlvbiwgZGF0ZURpZmYsIGFic29sdXRlRGF0ZURpZmYsXG4gICAgZGF0ZUluZGV4LCBkYXRlRXF1YWxzLCB0b1RpbWUsIHBhcnNlRGF0ZSwgcGFyc2VEYXRlcywgZmlyc3REYXkgfSBmcm9tICcuLi9kYXRlLXV0aWxzJztcblxuaW1wb3J0IHsgRGF0ZUxhYmVsRm9ybWF0cyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuY29uc3QgQVVUTyA9IFwiYXV0b1wiO1xuY29uc3QgQkFTRV9VTklUUyA9IFtcbiAgICBNSUxMSVNFQ09ORFMsIFNFQ09ORFMsIE1JTlVURVMsIEhPVVJTLCBEQVlTLCBXRUVLUywgTU9OVEhTLCBZRUFSU1xuXTtcbmNvbnN0IEZJVCA9IFwiZml0XCI7XG5cblxuZnVuY3Rpb24gY2F0ZWdvcnlSYW5nZShjYXRlZ29yaWVzKSB7XG4gICAgbGV0IHJhbmdlID0gY2F0ZWdvcmllcy5fcmFuZ2U7XG4gICAgaWYgKCFyYW5nZSkge1xuICAgICAgICByYW5nZSA9IGNhdGVnb3JpZXMuX3JhbmdlID0gc3BhcnNlQXJyYXlMaW1pdHMoY2F0ZWdvcmllcyk7XG4gICAgICAgIHJhbmdlLm1pbiA9IHRvRGF0ZShyYW5nZS5taW4pO1xuICAgICAgICByYW5nZS5tYXggPSB0b0RhdGUocmFuZ2UubWF4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2U7XG59XG5cbmNsYXNzIEVtcHR5RGF0ZVJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgZGlzcGxheUluZGljZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBkaXNwbGF5UmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB0b3RhbCgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB2YWx1ZUluZGV4KCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdG90YWxJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHZhbHVlc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICB0b3RhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBkYXRlQXQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuY2xhc3MgRGF0ZVJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydCwgZW5kLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMuYmFzZVVuaXRTdGVwID0gb3B0aW9ucy5iYXNlVW5pdFN0ZXAgfHwgMTtcblxuICAgICAgICBjb25zdCB7IHJvdW5kVG9CYXNlVW5pdCwganVzdGlmaWVkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIHRoaXMuc3RhcnQgPSBhZGREdXJhdGlvbihzdGFydCwgMCwgb3B0aW9ucy5iYXNlVW5pdCwgb3B0aW9ucy53ZWVrU3RhcnREYXkpO1xuICAgICAgICBjb25zdCBsb3dlckVuZCA9IHRoaXMucm91bmRUb1RvdGFsU3RlcChlbmQpO1xuICAgICAgICBjb25zdCBleHBhbmRFbmQgPSAhanVzdGlmaWVkICYmIGRhdGVFcXVhbHMoZW5kLCBsb3dlckVuZCkgJiYgIW9wdGlvbnMuanVzdGlmeUVuZDtcblxuICAgICAgICB0aGlzLmVuZCA9IHRoaXMucm91bmRUb1RvdGFsU3RlcChlbmQsICFqdXN0aWZpZWQsIGV4cGFuZEVuZCA/IDEgOiAwKTtcblxuICAgICAgICBjb25zdCBtaW4gPSBvcHRpb25zLm1pbiB8fCBzdGFydDtcbiAgICAgICAgdGhpcy52YWx1ZVN0YXJ0ID0gdGhpcy5yb3VuZFRvVG90YWxTdGVwKG1pbik7XG4gICAgICAgIHRoaXMuZGlzcGxheVN0YXJ0ID0gcm91bmRUb0Jhc2VVbml0ID8gdGhpcy52YWx1ZVN0YXJ0IDogbWluO1xuXG4gICAgICAgIGNvbnN0IG1heCA9IG9wdGlvbnMubWF4O1xuICAgICAgICBpZiAoIW1heCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUVuZCA9IGxvd2VyRW5kO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RW5kID0gcm91bmRUb0Jhc2VVbml0IHx8IGV4cGFuZEVuZCA/IHRoaXMuZW5kIDogZW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9ICFqdXN0aWZpZWQgJiYgZGF0ZUVxdWFscyhtYXgsIHRoaXMucm91bmRUb1RvdGFsU3RlcChtYXgpKSA/IC0xIDogMDtcbiAgICAgICAgICAgIHRoaXMudmFsdWVFbmQgPSB0aGlzLnJvdW5kVG9Ub3RhbFN0ZXAobWF4LCBmYWxzZSwgbmV4dCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlFbmQgPSByb3VuZFRvQmFzZVVuaXQgPyB0aGlzLnJvdW5kVG9Ub3RhbFN0ZXAobWF4LCAhanVzdGlmaWVkKSA6IG9wdGlvbnMubWF4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWVFbmQgPCB0aGlzLnZhbHVlU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVFbmQgPSB0aGlzLnZhbHVlU3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheUVuZCA8PSB0aGlzLmRpc3BsYXlTdGFydCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RW5kID0gdGhpcy5yb3VuZFRvVG90YWxTdGVwKHRoaXMuZGlzcGxheVN0YXJ0LCBmYWxzZSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNwbGF5UmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRoaXMuZGlzcGxheVN0YXJ0LFxuICAgICAgICAgICAgbWF4OiB0aGlzLmRpc3BsYXlFbmRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBkaXNwbGF5SW5kaWNlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbmRpY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgICAgICBjb25zdCB7IGJhc2VVbml0LCBiYXNlVW5pdFN0ZXAgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgICAgIGNvbnN0IG1pbklkeCA9IGRhdGVJbmRleCh0aGlzLmRpc3BsYXlTdGFydCwgdGhpcy52YWx1ZVN0YXJ0LCBiYXNlVW5pdCwgYmFzZVVuaXRTdGVwKTtcbiAgICAgICAgICAgIGNvbnN0IG1heElkeCA9IGRhdGVJbmRleCh0aGlzLmRpc3BsYXlFbmQsIHRoaXMudmFsdWVTdGFydCwgYmFzZVVuaXQsIGJhc2VVbml0U3RlcCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSB7IG1pbjogbWluSWR4LCBtYXg6IG1heElkeCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGljZXM7XG4gICAgfVxuXG4gICAgdG90YWwoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRoaXMuc3RhcnQsXG4gICAgICAgICAgICBtYXg6IHRoaXMuZW5kXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdG90YWxDb3VudCgpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMudG90YWxJbmRleCh0aGlzLmVuZCk7XG5cbiAgICAgICAgcmV0dXJuIGxhc3QgKyAodGhpcy5vcHRpb25zLmp1c3RpZmllZCA/IDEgOiAwKTtcbiAgICB9XG5cbiAgICB2YWx1ZVJhbmdlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiB0aGlzLnZhbHVlU3RhcnQsXG4gICAgICAgICAgICBtYXg6IHRoaXMudmFsdWVFbmRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YWx1ZUluZGV4KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKGRhdGVJbmRleCh2YWx1ZSwgdGhpcy52YWx1ZVN0YXJ0LCBvcHRpb25zLmJhc2VVbml0LCBvcHRpb25zLmJhc2VVbml0U3RlcCkpO1xuICAgIH1cblxuICAgIHRvdGFsSW5kZXgodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZGF0ZUluZGV4KHZhbHVlLCB0aGlzLnN0YXJ0LCBvcHRpb25zLmJhc2VVbml0LCBvcHRpb25zLmJhc2VVbml0U3RlcCkpO1xuICAgIH1cblxuICAgIGRhdGVJbmRleCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4gZGF0ZUluZGV4KHZhbHVlLCB0aGlzLnZhbHVlU3RhcnQsIG9wdGlvbnMuYmFzZVVuaXQsIG9wdGlvbnMuYmFzZVVuaXRTdGVwKTtcbiAgICB9XG5cbiAgICB2YWx1ZXNDb3VudCgpIHtcbiAgICAgICAgY29uc3QgbWF4SWR4ID0gdGhpcy52YWx1ZUluZGV4KHRoaXMudmFsdWVFbmQpO1xuXG4gICAgICAgIHJldHVybiBtYXhJZHggKyAxO1xuICAgIH1cblxuICAgIHZhbHVlcygpIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICAgICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudmFsdWVSYW5nZSgpO1xuICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGRhdGUgPSByYW5nZS5taW47IGRhdGUgPD0gcmFuZ2UubWF4Oykge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGRhdGUpO1xuICAgICAgICAgICAgICAgIGRhdGUgPSBhZGREdXJhdGlvbihkYXRlLCBvcHRpb25zLmJhc2VVbml0U3RlcCwgb3B0aW9ucy5iYXNlVW5pdCwgb3B0aW9ucy53ZWVrU3RhcnREYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICBkYXRlQXQoaW5kZXgsIHRvdGFsKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIGFkZER1cmF0aW9uKHRvdGFsID8gdGhpcy5zdGFydCA6IHRoaXMudmFsdWVTdGFydCwgb3B0aW9ucy5iYXNlVW5pdFN0ZXAgKiBpbmRleCwgb3B0aW9ucy5iYXNlVW5pdCwgb3B0aW9ucy53ZWVrU3RhcnREYXkpO1xuICAgIH1cblxuICAgIHJvdW5kVG9Ub3RhbFN0ZXAodmFsdWUsIHVwcGVyLCBuZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgYmFzZVVuaXQsIGJhc2VVbml0U3RlcCwgd2Vla1N0YXJ0RGF5IH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5zdGFydDtcblxuICAgICAgICBjb25zdCBzdGVwID0gZGF0ZUluZGV4KHZhbHVlLCBzdGFydCwgYmFzZVVuaXQsIGJhc2VVbml0U3RlcCk7XG4gICAgICAgIGxldCByb3VuZGVkU3RlcCA9IHVwcGVyID8gTWF0aC5jZWlsKHN0ZXApIDogTWF0aC5mbG9vcihzdGVwKTtcblxuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgcm91bmRlZFN0ZXAgKz0gbmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhZGREdXJhdGlvbihzdGFydCwgcm91bmRlZFN0ZXAgKiBiYXNlVW5pdFN0ZXAsIGJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBhdXRvQmFzZVVuaXQob3B0aW9ucywgc3RhcnRVbml0LCBzdGFydFN0ZXApIHtcbiAgICBjb25zdCBjYXRlZ29yeUxpbWl0cyA9IGNhdGVnb3J5UmFuZ2Uob3B0aW9ucy5jYXRlZ29yaWVzKTtcbiAgICBjb25zdCBzcGFuID0gKG9wdGlvbnMubWF4IHx8IGNhdGVnb3J5TGltaXRzLm1heCkgLSAob3B0aW9ucy5taW4gfHwgY2F0ZWdvcnlMaW1pdHMubWluKTtcbiAgICBjb25zdCB7IGF1dG9CYXNlVW5pdFN0ZXBzLCBtYXhEYXRlR3JvdXBzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGF1dG9Vbml0ID0gb3B0aW9ucy5iYXNlVW5pdCA9PT0gRklUO1xuICAgIGxldCBhdXRvVW5pdEl4ID0gc3RhcnRVbml0ID8gQkFTRV9VTklUUy5pbmRleE9mKHN0YXJ0VW5pdCkgOiAwO1xuICAgIGxldCBiYXNlVW5pdCA9IGF1dG9Vbml0ID8gQkFTRV9VTklUU1thdXRvVW5pdEl4KytdIDogb3B0aW9ucy5iYXNlVW5pdDtcbiAgICBsZXQgdW5pdHMgPSBzcGFuIC8gVElNRV9QRVJfVU5JVFtiYXNlVW5pdF07XG4gICAgbGV0IHRvdGFsVW5pdHMgPSB1bml0cztcbiAgICBsZXQgdW5pdFN0ZXBzLCBzdGVwLCBuZXh0U3RlcDtcblxuICAgIHdoaWxlICghc3RlcCB8fCB1bml0cyA+PSBtYXhEYXRlR3JvdXBzKSB7XG4gICAgICAgIHVuaXRTdGVwcyA9IHVuaXRTdGVwcyB8fCBhdXRvQmFzZVVuaXRTdGVwc1tiYXNlVW5pdF0uc2xpY2UoMCk7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbmV4dFN0ZXAgPSB1bml0U3RlcHMuc2hpZnQoKTtcbiAgICAgICAgfSB3aGlsZSAobmV4dFN0ZXAgJiYgc3RhcnRVbml0ID09PSBiYXNlVW5pdCAmJiBuZXh0U3RlcCA8IHN0YXJ0U3RlcCk7XG5cbiAgICAgICAgaWYgKG5leHRTdGVwKSB7XG4gICAgICAgICAgICBzdGVwID0gbmV4dFN0ZXA7XG4gICAgICAgICAgICB1bml0cyA9IHRvdGFsVW5pdHMgLyBzdGVwO1xuICAgICAgICB9IGVsc2UgaWYgKGJhc2VVbml0ID09PSBsYXN0KEJBU0VfVU5JVFMpKSB7XG4gICAgICAgICAgICBzdGVwID0gTWF0aC5jZWlsKHRvdGFsVW5pdHMgLyBtYXhEYXRlR3JvdXBzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKGF1dG9Vbml0KSB7XG4gICAgICAgICAgICBiYXNlVW5pdCA9IEJBU0VfVU5JVFNbYXV0b1VuaXRJeCsrXSB8fCBsYXN0KEJBU0VfVU5JVFMpO1xuICAgICAgICAgICAgdG90YWxVbml0cyA9IHNwYW4gLyBUSU1FX1BFUl9VTklUW2Jhc2VVbml0XTtcbiAgICAgICAgICAgIHVuaXRTdGVwcyA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodW5pdHMgPiBtYXhEYXRlR3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgc3RlcCA9IE1hdGguY2VpbCh0b3RhbFVuaXRzIC8gbWF4RGF0ZUdyb3Vwcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnMuYmFzZVVuaXRTdGVwID0gc3RlcDtcbiAgICBvcHRpb25zLmJhc2VVbml0ID0gYmFzZVVuaXQ7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRCYXNlVW5pdChvcHRpb25zKSB7XG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IG9wdGlvbnMuY2F0ZWdvcmllcztcbiAgICBjb25zdCBjb3VudCA9IGRlZmluZWQoY2F0ZWdvcmllcykgPyBjYXRlZ29yaWVzLmxlbmd0aCA6IDA7XG4gICAgbGV0IG1pbkRpZmYgPSBNQVhfVkFMVUU7XG4gICAgbGV0IGxhc3RDYXRlZ29yeSwgdW5pdDtcblxuICAgIGZvciAobGV0IGNhdGVnb3J5SXggPSAwOyBjYXRlZ29yeUl4IDwgY291bnQ7IGNhdGVnb3J5SXgrKykge1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3JpZXNbY2F0ZWdvcnlJeF07XG5cbiAgICAgICAgaWYgKGNhdGVnb3J5ICYmIGxhc3RDYXRlZ29yeSkge1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IGFic29sdXRlRGF0ZURpZmYoY2F0ZWdvcnksIGxhc3RDYXRlZ29yeSk7XG4gICAgICAgICAgICBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgICAgICAgICBtaW5EaWZmID0gTWF0aC5taW4obWluRGlmZiwgZGlmZik7XG5cbiAgICAgICAgICAgICAgICBpZiAobWluRGlmZiA+PSBUSU1FX1BFUl9ZRUFSKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBZRUFSUztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkRpZmYgPj0gVElNRV9QRVJfTU9OVEggLSBUSU1FX1BFUl9EQVkgKiAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBNT05USFM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5EaWZmID49IFRJTUVfUEVSX1dFRUspIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IFdFRUtTO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWluRGlmZiA+PSBUSU1FX1BFUl9EQVkpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IERBWVM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5EaWZmID49IFRJTUVfUEVSX0hPVVIpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IEhPVVJTO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWluRGlmZiA+PSBUSU1FX1BFUl9NSU5VVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IE1JTlVURVM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IFNFQ09ORFM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGFzdENhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5iYXNlVW5pdCA9IHVuaXQgfHwgREFZUztcbn1cblxuZnVuY3Rpb24gaW5pdFVuaXQob3B0aW9ucykge1xuICAgIGNvbnN0IGJhc2VVbml0ID0gKG9wdGlvbnMuYmFzZVVuaXQgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCB1c2VEZWZhdWx0ID0gYmFzZVVuaXQgIT09IEZJVCAmJiAhaW5BcnJheShiYXNlVW5pdCwgQkFTRV9VTklUUyk7XG5cbiAgICBpZiAodXNlRGVmYXVsdCkge1xuICAgICAgICBkZWZhdWx0QmFzZVVuaXQob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKGJhc2VVbml0ID09PSBGSVQgfHwgb3B0aW9ucy5iYXNlVW5pdFN0ZXAgPT09IEFVVE8pIHtcbiAgICAgICAgYXV0b0Jhc2VVbml0KG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zO1xufVxuXG5jbGFzcyBEYXRlQ2F0ZWdvcnlBeGlzIGV4dGVuZHMgQ2F0ZWdvcnlBeGlzIHtcblxuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBjb3B5ID0gbmV3IERhdGVDYXRlZ29yeUF4aXMoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgdGhpcy5jaGFydFNlcnZpY2UpO1xuICAgICAgICBjb3B5LmNyZWF0ZUxhYmVscygpO1xuXG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH1cblxuICAgIGNhdGVnb3JpZXNIYXNoKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuZGF0YVJhbmdlLnRvdGFsKCkubWluO1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmJhc2VVbml0ICsgdGhpcy5vcHRpb25zLmJhc2VVbml0U3RlcCArIHN0YXJ0O1xuICAgIH1cblxuICAgIGluaXRVc2VyT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRGaWVsZHMoKTtcblxuICAgICAgICBjb25zdCBjaGFydFNlcnZpY2UgPSB0aGlzLmNoYXJ0U2VydmljZTtcbiAgICAgICAgY29uc3QgaW50bFNlcnZpY2UgPSBjaGFydFNlcnZpY2UuaW50bDtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBvcHRpb25zLmNhdGVnb3JpZXMgfHwgW107XG4gICAgICAgIGlmICghY2F0ZWdvcmllcy5fcGFyc2VkKSB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzID0gcGFyc2VEYXRlcyhpbnRsU2VydmljZSwgY2F0ZWdvcmllcyk7XG4gICAgICAgICAgICBjYXRlZ29yaWVzLl9wYXJzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgcm91bmRUb0Jhc2VVbml0OiB0cnVlXG4gICAgICAgIH0sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsXG4gICAgICAgICAgICBtaW46IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgb3B0aW9ucy5taW4pLFxuICAgICAgICAgICAgbWF4OiBwYXJzZURhdGUoaW50bFNlcnZpY2UsIG9wdGlvbnMubWF4KSxcbiAgICAgICAgICAgIHdlZWtTdGFydERheTogZmlyc3REYXkob3B0aW9ucywgaW50bFNlcnZpY2UpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjaGFydFNlcnZpY2UucGFubmluZyAmJiBjaGFydFNlcnZpY2UuaXNQYW5uYWJsZShvcHRpb25zLnZlcnRpY2FsID8gWSA6IFgpKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJvdW5kVG9CYXNlVW5pdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy51c2VyU2V0QmFzZVVuaXQgPSBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdCB8fCBvcHRpb25zLmJhc2VVbml0O1xuICAgICAgICBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdFN0ZXAgPSBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdFN0ZXAgfHwgb3B0aW9ucy5iYXNlVW5pdFN0ZXA7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucy5zcmNDYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcblxuICAgICAgICBpZiAoY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IGNhdGVnb3J5UmFuZ2UoY2F0ZWdvcmllcyk7XG4gICAgICAgICAgICBjb25zdCBtYXhEaXZpc2lvbnMgPSBvcHRpb25zLm1heERpdmlzaW9ucztcblxuICAgICAgICAgICAgdGhpcy5kYXRhUmFuZ2UgPSBuZXcgRGF0ZVJhbmdlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCBpbml0VW5pdChvcHRpb25zKSk7XG5cbiAgICAgICAgICAgIGlmIChtYXhEaXZpc2lvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhUmFuZ2UgPSB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRpdmlzaW9uT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICAgICAganVzdGlmaWVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByb3VuZFRvQmFzZVVuaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBiYXNlVW5pdDogJ2ZpdCcsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogZGF0YVJhbmdlLm1pbixcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBkYXRhUmFuZ2UubWF4LFxuICAgICAgICAgICAgICAgICAgICBtYXhEYXRlR3JvdXBzOiBtYXhEaXZpc2lvbnNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFSYW5nZU9wdGlvbnMgPSB0aGlzLmRhdGFSYW5nZS5vcHRpb25zO1xuXG4gICAgICAgICAgICAgICAgYXV0b0Jhc2VVbml0KGRpdmlzaW9uT3B0aW9ucywgZGF0YVJhbmdlT3B0aW9ucy5iYXNlVW5pdCwgZGF0YVJhbmdlT3B0aW9ucy5iYXNlVW5pdFN0ZXApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXZpc2lvblJhbmdlID0gbmV3IERhdGVSYW5nZShyYW5nZS5taW4sIHJhbmdlLm1heCwgZGl2aXNpb25PcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXZpc2lvblJhbmdlID0gdGhpcy5kYXRhUmFuZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYmFzZVVuaXQgPSBvcHRpb25zLmJhc2VVbml0IHx8IERBWVM7XG4gICAgICAgICAgICB0aGlzLmRhdGFSYW5nZSA9IHRoaXMuZGl2aXNpb25SYW5nZSA9IG5ldyBFbXB0eURhdGVSYW5nZShvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmFuZ2VMYWJlbHMgPSBbXTtcbiAgICB9XG5cbiAgICB0aWNrSW5kaWNlcyhzdGVwU2l6ZSkge1xuICAgICAgICBjb25zdCB7IGRhdGFSYW5nZSwgZGl2aXNpb25SYW5nZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWVzQ291bnQgPSBkaXZpc2lvblJhbmdlLnZhbHVlc0NvdW50KCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubWF4RGl2aXNpb25zIHx8ICF2YWx1ZXNDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnRpY2tJbmRpY2VzKHN0ZXBTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBbXTtcbiAgICAgICAgbGV0IHZhbHVlcyA9IGRpdmlzaW9uUmFuZ2UudmFsdWVzKCk7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmp1c3RpZmllZCkge1xuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdChkaXZpc2lvblJhbmdlLmRhdGVBdCh2YWx1ZXNDb3VudCkpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gMC41Oy8vYWxpZ24gdGlja3MgdG8gdGhlIGNlbnRlciBvZiBub3QganVzdGlmaWVkIGNhdGVnb3JpZXNcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHZhbHVlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2goZGF0YVJhbmdlLmRhdGVJbmRleCh2YWx1ZXNbaWR4XSkgKyBvZmZzZXQpO1xuICAgICAgICAgICAgaWYgKHN0ZXBTaXplICE9PSAxICYmIGlkeCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IGluZGljZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnNwbGljZShpZHgsIDAsIGluZGljZXNbbGFzdCAtIDFdICsgKGluZGljZXNbbGFzdF0gLSBpbmRpY2VzW2xhc3QgLSAxXSkgKiBzdGVwU2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kaWNlcztcbiAgICB9XG5cbiAgICBzaG91bGRSZW5kZXJOb3RlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5yYW5nZSgpO1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gdGhpcy5vcHRpb25zLmNhdGVnb3JpZXMgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGRhdGVDb21wYXJlcih2YWx1ZSwgcmFuZ2UubWluKSA+PSAwICYmIGRhdGVDb21wYXJlcih2YWx1ZSwgcmFuZ2UubWF4KSA8PSAwICYmIGNhdGVnb3JpZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIHBhcnNlTm90ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZURhdGUodGhpcy5jaGFydFNlcnZpY2UuaW50bCwgdmFsdWUpO1xuICAgIH1cblxuICAgIG5vdGVTbG90KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNsb3QodmFsdWUpO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZVJhbmdlKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgYmFzZVVuaXQsIHdlZWtTdGFydERheSwgdmVydGljYWwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5yYW5nZSgpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHNpemUgLyAocmFuZ2UubWF4IC0gcmFuZ2UubWluKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcm91bmQoZGVsdGEgLyBzY2FsZSwgREVGQVVMVF9QUkVDSVNJT04pO1xuXG4gICAgICAgIGlmIChyYW5nZS5taW4gJiYgcmFuZ2UubWF4KSB7XG4gICAgICAgICAgICBjb25zdCBmcm9tID0gYWRkVGlja3Mob3B0aW9ucy5taW4gfHwgcmFuZ2UubWluLCBvZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgdG8gPSBhZGRUaWNrcyhvcHRpb25zLm1heCB8fCByYW5nZS5tYXgsIG9mZnNldCk7XG5cbiAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIG1pbjogYWRkRHVyYXRpb24oZnJvbSwgMCwgYmFzZVVuaXQsIHdlZWtTdGFydERheSksXG4gICAgICAgICAgICAgICAgbWF4OiBhZGREdXJhdGlvbih0bywgMCwgYmFzZVVuaXQsIHdlZWtTdGFydERheSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgfVxuXG4gICAgbGFiZWxzUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRoaXMub3B0aW9ucy5sYWJlbHMuc2tpcCxcbiAgICAgICAgICAgIG1heDogdGhpcy5kaXZpc2lvblJhbmdlLnZhbHVlc0NvdW50KClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwYW4oZGVsdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMudmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcbiAgICAgICAgY29uc3QgdG90YWxMaW1pdHMgPSB0aGlzLmRhdGFSYW5nZS50b3RhbCgpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHNpemUgLyAobWF4IC0gbWluKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcm91bmQoZGVsdGEgLyBzY2FsZSwgREVGQVVMVF9QUkVDSVNJT04pICogKG9wdGlvbnMucmV2ZXJzZSA/IC0xIDogMSk7XG4gICAgICAgIGNvbnN0IGZyb20gPSBhZGRUaWNrcyhtaW4sIG9mZnNldCk7XG4gICAgICAgIGNvbnN0IHRvID0gYWRkVGlja3MobWF4LCBvZmZzZXQpO1xuXG4gICAgICAgIGNvbnN0IHBhblJhbmdlID0gdGhpcy5saW1pdFJhbmdlKHRvVGltZShmcm9tKSwgdG9UaW1lKHRvKSwgdG9UaW1lKHRvdGFsTGltaXRzLm1pbiksIHRvVGltZSh0b3RhbExpbWl0cy5tYXgpLCBvZmZzZXQpO1xuXG4gICAgICAgIGlmIChwYW5SYW5nZSkge1xuICAgICAgICAgICAgcGFuUmFuZ2UubWluID0gdG9EYXRlKHBhblJhbmdlLm1pbik7XG4gICAgICAgICAgICBwYW5SYW5nZS5tYXggPSB0b0RhdGUocGFuUmFuZ2UubWF4KTtcbiAgICAgICAgICAgIHBhblJhbmdlLmJhc2VVbml0ID0gb3B0aW9ucy5iYXNlVW5pdDtcbiAgICAgICAgICAgIHBhblJhbmdlLmJhc2VVbml0U3RlcCA9IG9wdGlvbnMuYmFzZVVuaXRTdGVwIHx8IDE7XG4gICAgICAgICAgICBwYW5SYW5nZS51c2VyU2V0QmFzZVVuaXQgPSBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdDtcbiAgICAgICAgICAgIHBhblJhbmdlLnVzZXJTZXRCYXNlVW5pdFN0ZXAgPSBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdFN0ZXA7XG5cbiAgICAgICAgICAgIHJldHVybiBwYW5SYW5nZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50c1JhbmdlID0gc3VwZXIucG9pbnRzUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIGNvbnN0IGRhdGVzUmFuZ2UgPSB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcbiAgICAgICAgY29uc3QgaW5kaWNlc1JhbmdlID0gdGhpcy5kYXRhUmFuZ2UuZGlzcGxheUluZGljZXMoKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBkYXRlRGlmZihkYXRlc1JhbmdlLm1heCwgZGF0ZXNSYW5nZS5taW4pIC8gKGluZGljZXNSYW5nZS5tYXggLSBpbmRpY2VzUmFuZ2UubWluKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBjb25zdCBtaW4gPSBhZGRUaWNrcyhkYXRlc1JhbmdlLm1pbiwgcG9pbnRzUmFuZ2UubWluICogc2NhbGUpO1xuICAgICAgICBjb25zdCBtYXggPSBhZGRUaWNrcyhkYXRlc1JhbmdlLm1pbiwgcG9pbnRzUmFuZ2UubWF4ICogc2NhbGUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgICAgYmFzZVVuaXQ6IG9wdGlvbnMudXNlclNldEJhc2VVbml0IHx8IG9wdGlvbnMuYmFzZVVuaXQsXG4gICAgICAgICAgICBiYXNlVW5pdFN0ZXA6IG9wdGlvbnMudXNlclNldEJhc2VVbml0U3RlcCB8fCBvcHRpb25zLmJhc2VVbml0U3RlcFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNjYWxlUmFuZ2Uoc2NhbGUsIGN1cnNvcikge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGZpdCA9IG9wdGlvbnMudXNlclNldEJhc2VVbml0ID09PSBGSVQ7XG4gICAgICAgIGNvbnN0IHRvdGFsTGltaXRzID0gdGhpcy5kYXRhUmFuZ2UudG90YWwoKTtcbiAgICAgICAgY29uc3QgeyBtaW46IHJhbmdlTWluLCBtYXg6IHJhbmdlTWF4IH0gPSB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGguYWJzKHRoaXMucG9pbnRPZmZzZXQoY3Vyc29yKSk7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gcmFuZ2VNYXggLSByYW5nZU1pbjtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0aGlzLnNjYWxlVG9EZWx0YShzY2FsZSwgcmFuZ2UpO1xuICAgICAgICBjb25zdCBtaW5EZWx0YSA9IE1hdGgucm91bmQocG9zaXRpb24gKiBkZWx0YSk7XG4gICAgICAgIGNvbnN0IG1heERlbHRhID0gTWF0aC5yb3VuZCgoMSAtIHBvc2l0aW9uKSAqIGRlbHRhKTtcblxuICAgICAgICBsZXQgeyBiYXNlVW5pdCB9ID0gdGhpcy5kYXRhUmFuZ2Uub3B0aW9ucztcbiAgICAgICAgbGV0IG1pbiA9IG5ldyBEYXRlKHJhbmdlTWluLmdldFRpbWUoKSArIG1pbkRlbHRhKTtcbiAgICAgICAgbGV0IG1heCA9IG5ldyBEYXRlKHJhbmdlTWF4LmdldFRpbWUoKSAtIG1heERlbHRhKTtcblxuICAgICAgICBpZiAoZml0KSB7XG4gICAgICAgICAgICBjb25zdCB7IGF1dG9CYXNlVW5pdFN0ZXBzLCBtYXhEYXRlR3JvdXBzIH0gPSBvcHRpb25zO1xuXG4gICAgICAgICAgICBjb25zdCBtYXhEaWZmID0gbGFzdChhdXRvQmFzZVVuaXRTdGVwc1tiYXNlVW5pdF0pICogbWF4RGF0ZUdyb3VwcyAqIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VEaWZmID0gZGF0ZURpZmYocmFuZ2VNYXgsIHJhbmdlTWluKTtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBkYXRlRGlmZihtYXgsIG1pbik7XG4gICAgICAgICAgICBsZXQgYmFzZVVuaXRJbmRleCA9IEJBU0VfVU5JVFMuaW5kZXhPZihiYXNlVW5pdCk7XG4gICAgICAgICAgICBsZXQgYXV0b0Jhc2VVbml0U3RlcCwgdGlja3M7XG5cbiAgICAgICAgICAgIGlmIChkaWZmIDwgVElNRV9QRVJfVU5JVFtiYXNlVW5pdF0gJiYgYmFzZVVuaXQgIT09IE1JTExJU0VDT05EUykge1xuICAgICAgICAgICAgICAgIGJhc2VVbml0ID0gQkFTRV9VTklUU1tiYXNlVW5pdEluZGV4IC0gMV07XG4gICAgICAgICAgICAgICAgYXV0b0Jhc2VVbml0U3RlcCA9IGxhc3QoYXV0b0Jhc2VVbml0U3RlcHNbYmFzZVVuaXRdKTtcbiAgICAgICAgICAgICAgICB0aWNrcyA9IChyYW5nZURpZmYgLSAobWF4RGF0ZUdyb3VwcyAtIDEpICogYXV0b0Jhc2VVbml0U3RlcCAqIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdKSAvIDI7XG4gICAgICAgICAgICAgICAgbWluID0gYWRkVGlja3MocmFuZ2VNaW4sIHRpY2tzKTtcbiAgICAgICAgICAgICAgICBtYXggPSBhZGRUaWNrcyhyYW5nZU1heCwgLXRpY2tzKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWZmID4gbWF4RGlmZiAmJiBiYXNlVW5pdCAhPT0gWUVBUlMpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RlcEluZGV4ID0gMDtcblxuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVuaXRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVW5pdCA9IEJBU0VfVU5JVFNbYmFzZVVuaXRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIHN0ZXBJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tzID0gMiAqIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvQmFzZVVuaXRTdGVwID0gYXV0b0Jhc2VVbml0U3RlcHNbYmFzZVVuaXRdW3N0ZXBJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoc3RlcEluZGV4IDwgYXV0b0Jhc2VVbml0U3RlcHNbYmFzZVVuaXRdLmxlbmd0aCAmJiB0aWNrcyAqIGF1dG9CYXNlVW5pdFN0ZXAgPCByYW5nZURpZmYpO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKGJhc2VVbml0ICE9PSBZRUFSUyAmJiB0aWNrcyAqIGF1dG9CYXNlVW5pdFN0ZXAgPCByYW5nZURpZmYpO1xuXG4gICAgICAgICAgICAgICAgdGlja3MgPSAodGlja3MgKiBhdXRvQmFzZVVuaXRTdGVwIC0gcmFuZ2VEaWZmKSAvIDI7XG4gICAgICAgICAgICAgICAgaWYgKHRpY2tzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtaW4gPSBhZGRUaWNrcyhyYW5nZU1pbiwgLXRpY2tzKTtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gYWRkVGlja3MocmFuZ2VNYXgsIHRpY2tzKTtcbiAgICAgICAgICAgICAgICAgICAgbWluID0gYWRkVGlja3MobWluLCBsaW1pdFZhbHVlKG1heCwgdG90YWxMaW1pdHMubWluLCB0b3RhbExpbWl0cy5tYXgpIC0gbWF4KTtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gYWRkVGlja3MobWF4LCBsaW1pdFZhbHVlKG1pbiwgdG90YWxMaW1pdHMubWluLCB0b3RhbExpbWl0cy5tYXgpIC0gbWluKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWluICYmIG1heCAmJiBkYXRlRGlmZihtYXgsIG1pbikgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgICAgICAgIGJhc2VVbml0OiBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdCB8fCBvcHRpb25zLmJhc2VVbml0LFxuICAgICAgICAgICAgICAgIGJhc2VVbml0U3RlcDogb3B0aW9ucy51c2VyU2V0QmFzZVVuaXRTdGVwIHx8IG9wdGlvbnMuYmFzZVVuaXRTdGVwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgem9vbVJhbmdlKHNjYWxlLCBjdXJzb3IpIHtcbiAgICAgICAgY29uc3QgdG90YWxMaW1pdHMgPSB0aGlzLmRhdGFSYW5nZS50b3RhbCgpO1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuc2NhbGVSYW5nZShzY2FsZSwgY3Vyc29yKTtcblxuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS5taW4gPCB0b3RhbExpbWl0cy5taW4pIHtcbiAgICAgICAgICAgICAgICByYW5nZS5taW4gPSB0b3RhbExpbWl0cy5taW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmFuZ2UubWF4ID4gdG90YWxMaW1pdHMubWF4KSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UubWF4ID0gdG90YWxMaW1pdHMubWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH1cblxuICAgIHJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UuZGlzcGxheVJhbmdlKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGFiZWxzKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVMYWJlbHMoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSYW5nZUxhYmVscygpO1xuICAgIH1cblxuICAgIGNsZWFyTGFiZWxzKCkge1xuICAgICAgICBzdXBlci5jbGVhckxhYmVscygpO1xuICAgICAgICB0aGlzLnJhbmdlTGFiZWxzID0gW107XG4gICAgfVxuXG4gICAgYXJyYW5nZUxhYmVscygpIHtcbiAgICAgICAgdGhpcy5hcnJhbmdlUmFuZ2VMYWJlbHMoKTtcbiAgICAgICAgc3VwZXIuYXJyYW5nZUxhYmVscygpO1xuICAgIH1cblxuICAgIGFycmFuZ2VSYW5nZUxhYmVscygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCByYW5nZUxhYmVscyB9ID0gdGhpcztcbiAgICAgICAgaWYgKHJhbmdlTGFiZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IG1pcnJvciA9IG9wdGlvbnMucmFuZ2VMYWJlbHMubWlycm9yIHx8IG9wdGlvbnMubGFiZWxzLm1pcnJvcjtcblxuICAgICAgICBjb25zdCBmaXJzdExhYmVsID0gcmFuZ2VMYWJlbHNbMF07XG4gICAgICAgIGlmIChmaXJzdExhYmVsKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHZlcnRpY2FsID8gbGluZUJveC55MSAtIChmaXJzdExhYmVsLmJveC5oZWlnaHQoKSAvIDIpIDogbGluZUJveC54MTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25MYWJlbChmaXJzdExhYmVsLCBtaXJyb3IsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhc3RMYWJlbCA9IHJhbmdlTGFiZWxzWzFdO1xuICAgICAgICBpZiAobGFzdExhYmVsKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHZlcnRpY2FsID8gbGluZUJveC55MiAtIChsYXN0TGFiZWwuYm94LmhlaWdodCgpIC8gMikgOiBsaW5lQm94LngyO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbkxhYmVsKGxhc3RMYWJlbCwgbWlycm9yLCBwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhdXRvUm90YXRlTGFiZWxzKCkge1xuICAgICAgICBzdXBlci5hdXRvUm90YXRlTGFiZWxzKCk7XG4gICAgICAgIHRoaXMuYXV0b1JvdGF0ZVJhbmdlTGFiZWxzKCk7XG4gICAgfVxuXG4gICAgaGlkZU91dE9mUmFuZ2VMYWJlbHMoKSB7XG4gICAgICAgIHN1cGVyLmhpZGVPdXRPZlJhbmdlTGFiZWxzKCk7XG4gICAgICAgIHRoaXMuaGlkZU92ZXJsYXBwaW5nTGFiZWxzKCk7XG4gICAgfVxuXG4gICAgaGlkZU92ZXJsYXBwaW5nTGFiZWxzKCkge1xuICAgICAgICBjb25zdCB7IHJhbmdlTGFiZWxzLCBsYWJlbHMgfSA9IHRoaXM7XG4gICAgICAgIGlmIChyYW5nZUxhYmVscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsaXAocmFuZ2VMYWJlbCwgbGFiZWwpIHtcbiAgICAgICAgICAgIGlmICghbGFiZWwub3B0aW9ucy52aXNpYmxlIHx8IGxhYmVsLmJveC5vdmVybGFwcyhyYW5nZUxhYmVsLmJveCkpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC5vcHRpb25zLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RSYW5nZUxhYmVsID0gcmFuZ2VMYWJlbHNbMF07XG4gICAgICAgIGlmIChmaXJzdFJhbmdlTGFiZWwgJiYgZmlyc3RSYW5nZUxhYmVsLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdmVybGFwcyA9IGNsaXAoZmlyc3RSYW5nZUxhYmVsLCBsYWJlbHNbaV0pO1xuICAgICAgICAgICAgICAgIGlmICghb3ZlcmxhcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdFJhbmdlTGFiZWwgPSByYW5nZUxhYmVsc1sxXTtcbiAgICAgICAgaWYgKGxhc3RSYW5nZUxhYmVsICYmIGxhc3RSYW5nZUxhYmVsLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGxhYmVscy5sZW5ndGggLSAxOyBpID4gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmxhcHMgPSBjbGlwKGxhc3RSYW5nZUxhYmVsLCBsYWJlbHNbaV0pO1xuICAgICAgICAgICAgICAgIGlmICghb3ZlcmxhcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGVudEJveCgpIHtcbiAgICAgICAgY29uc3QgYm94ID0gc3VwZXIuY29udGVudEJveCgpO1xuICAgICAgICBjb25zdCByYW5nZUxhYmVscyA9IHRoaXMucmFuZ2VMYWJlbHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZUxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSByYW5nZUxhYmVsc1tpXTtcbiAgICAgICAgICAgIGlmIChsYWJlbC5vcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBib3gud3JhcChsYWJlbC5ib3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJveDtcbiAgICB9XG5cbiAgICBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIGxhYmVsT3B0aW9ucywgbGFiZWxDb250ZXh0ID0ge30pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBvcHRpb25zLmRhdGFJdGVtcyAmJiAhb3B0aW9ucy5tYXhEaXZpc2lvbnMgPyBvcHRpb25zLmRhdGFJdGVtc1tpbmRleF0gOiBudWxsO1xuICAgICAgICBjb25zdCBkYXRlID0gdGhpcy5kaXZpc2lvblJhbmdlLmRhdGVBdChpbmRleCk7XG4gICAgICAgIGNvbnN0IHVuaXRGb3JtYXQgPSBsYWJlbE9wdGlvbnMuZGF0ZUZvcm1hdHNbdGhpcy5kaXZpc2lvblJhbmdlLm9wdGlvbnMuYmFzZVVuaXRdO1xuXG4gICAgICAgIGxhYmVsT3B0aW9ucy5mb3JtYXQgPSBsYWJlbE9wdGlvbnMuZm9ybWF0IHx8IHVuaXRGb3JtYXQ7XG4gICAgICAgIGxhYmVsQ29udGV4dC5kYXRhSXRlbSA9IGRhdGFJdGVtO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmF4aXNMYWJlbFRleHQoZGF0ZSwgbGFiZWxPcHRpb25zLCBsYWJlbENvbnRleHQpO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBeGlzTGFiZWwoZGF0ZSwgdGV4dCwgaW5kZXgsIGRhdGFJdGVtLCBsYWJlbE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUmFuZ2VMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IHsgZGlzcGxheVN0YXJ0LCBkaXNwbGF5RW5kIH0gPSB0aGlzLmRpdmlzaW9uUmFuZ2U7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxhYmVsT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMubGFiZWxzLCBvcHRpb25zLnJhbmdlTGFiZWxzLCB7XG4gICAgICAgICAgICBhbGlnbjogQ0VOVEVSLFxuICAgICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobGFiZWxPcHRpb25zLnZpc2libGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubm9ybWFsaXplTGFiZWxSb3RhdGlvbihsYWJlbE9wdGlvbnMpO1xuICAgICAgICBsYWJlbE9wdGlvbnMuYWxpZ25Sb3RhdGlvbiA9IENFTlRFUjtcblxuICAgICAgICBpZiAobGFiZWxPcHRpb25zLnJvdGF0aW9uID09PSBcImF1dG9cIikge1xuICAgICAgICAgICAgbGFiZWxPcHRpb25zLnJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIG9wdGlvbnMuYXV0b1JvdGF0ZVJhbmdlTGFiZWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVuaXRGb3JtYXQgPSBsYWJlbE9wdGlvbnMuZGF0ZUZvcm1hdHNbdGhpcy5kaXZpc2lvblJhbmdlLm9wdGlvbnMuYmFzZVVuaXRdO1xuICAgICAgICBsYWJlbE9wdGlvbnMuZm9ybWF0ID0gbGFiZWxPcHRpb25zLmZvcm1hdCB8fCB1bml0Rm9ybWF0O1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZUxhYmVsID0gKGluZGV4LCBkYXRlLCB0ZXh0KSA9PiB7XG4gICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gbmV3IEF4aXNMYWJlbChkYXRlLCB0ZXh0LCBpbmRleCwgbnVsbCwgbGFiZWxPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZChsYWJlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5nZUxhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzdGFydFRleHQgPSB0aGlzLmF4aXNMYWJlbFRleHQoZGlzcGxheVN0YXJ0LCBsYWJlbE9wdGlvbnMsIHsgaW5kZXg6IDAsIGNvdW50OiAyIH0pO1xuICAgICAgICBjcmVhdGVMYWJlbCgwLCBkaXNwbGF5U3RhcnQsIHN0YXJ0VGV4dCk7XG5cbiAgICAgICAgY29uc3QgZW5kVGV4dCA9IHRoaXMuYXhpc0xhYmVsVGV4dChkaXNwbGF5RW5kLCBsYWJlbE9wdGlvbnMsIHsgaW5kZXg6IDEsIGNvdW50OiAyIH0pO1xuICAgICAgICBjcmVhdGVMYWJlbCgxLCBkaXNwbGF5RW5kLCBlbmRUZXh0KTtcbiAgICB9XG5cbiAgICBhdXRvUm90YXRlUmFuZ2VMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMucmFuZ2VMYWJlbHM7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG9Sb3RhdGVSYW5nZUxhYmVscyB8fCB0aGlzLm9wdGlvbnMudmVydGljYWwgfHwgbGFiZWxzLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm90YXRlTGFiZWwgPSAobGFiZWwsIHRpY2tQb3NpdGlvbnMsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGguYWJzKHRpY2tQb3NpdGlvbnNbaW5kZXggKyAxXSAtIHRpY2tQb3NpdGlvbnNbaW5kZXhdKSAqIDI7XG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IHRoaXMuYXV0b1JvdGF0ZUxhYmVsQW5nbGUobGFiZWwuYm94LCB3aWR0aCk7XG4gICAgICAgICAgICBpZiAoYW5nbGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBsYWJlbC5vcHRpb25zLnJvdGF0aW9uID0gYW5nbGU7XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3goKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdGlja1Bvc2l0aW9ucyA9IHRoaXMuZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCk7XG4gICAgICAgIHJvdGF0ZUxhYmVsKGxhYmVsc1swXSwgdGlja1Bvc2l0aW9ucywgMCk7XG4gICAgICAgIHJvdGF0ZUxhYmVsKGxhYmVsc1sxXSwgdGlja1Bvc2l0aW9ucywgdGlja1Bvc2l0aW9ucy5sZW5ndGggLSAyKTtcbiAgICB9XG5cbiAgICBjYXRlZ29yeUluZGV4KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS52YWx1ZUluZGV4KHZhbHVlKTtcbiAgICB9XG5cbiAgICBzbG90KGZyb20sIHRvLCBsaW1pdCkge1xuICAgICAgICBjb25zdCBkYXRlUmFuZ2UgPSB0aGlzLmRhdGFSYW5nZTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gZnJvbTtcbiAgICAgICAgbGV0IGVuZCA9IHRvO1xuXG4gICAgICAgIGlmIChzdGFydCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gZGF0ZVJhbmdlLmRhdGVJbmRleChzdGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgZW5kID0gZGF0ZVJhbmdlLmRhdGVJbmRleChlbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuZ2V0U2xvdChzdGFydCwgZW5kLCBsaW1pdCk7XG4gICAgICAgIGlmIChzbG90KSB7XG4gICAgICAgICAgICByZXR1cm4gc2xvdC50b1JlY3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFNsb3QoYSwgYiwgbGltaXQpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gYTtcbiAgICAgICAgbGV0IGVuZCA9IGI7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gT0JKRUNUKSB7XG4gICAgICAgICAgICBzdGFydCA9IHRoaXMuY2F0ZWdvcnlJbmRleChzdGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGVuZCA9PT0gT0JKRUNUKSB7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLmNhdGVnb3J5SW5kZXgoZW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5nZXRTbG90KHN0YXJ0LCBlbmQsIGxpbWl0KTtcbiAgICB9XG5cbiAgICB2YWx1ZVJhbmdlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCByYW5nZSA9IGNhdGVnb3J5UmFuZ2Uob3B0aW9ucy5zcmNDYXRlZ29yaWVzKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiB0b0RhdGUocmFuZ2UubWluKSxcbiAgICAgICAgICAgIG1heDogdG9EYXRlKHJhbmdlLm1heClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjYXRlZ29yeUF0KGluZGV4LCB0b3RhbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UuZGF0ZUF0KGluZGV4LCB0b3RhbCk7XG4gICAgfVxuXG4gICAgY2F0ZWdvcmllc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UudmFsdWVzQ291bnQoKTtcbiAgICB9XG5cbiAgICByYW5nZUluZGljZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5SW5kaWNlcygpO1xuICAgIH1cblxuICAgIGxhYmVsc0JldHdlZW5UaWNrcygpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmRpdmlzaW9uUmFuZ2Uub3B0aW9ucy5qdXN0aWZpZWQ7XG4gICAgfVxuXG4gICAgcHJlcGFyZVVzZXJPcHRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucy5jYXRlZ29yaWVzID0gdGhpcy5kYXRhUmFuZ2UudmFsdWVzKCk7XG4gICAgfVxuXG4gICAgZ2V0Q2F0ZWdvcnkocG9pbnQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBvaW50Q2F0ZWdvcnlJbmRleChwb2ludCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS5kYXRlQXQoaW5kZXgpO1xuICAgIH1cblxuICAgIHRvdGFsSW5kZXgodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLnRvdGFsSW5kZXgodmFsdWUpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSYW5nZUluZGljZXMoKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5kYXRhUmFuZ2UudmFsdWVSYW5nZSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiB0aGlzLmRhdGFSYW5nZS50b3RhbEluZGV4KHJhbmdlLm1pbiksXG4gICAgICAgICAgICBtYXg6IHRoaXMuZGF0YVJhbmdlLnRvdGFsSW5kZXgocmFuZ2UubWF4KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvdGFsUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS50b3RhbCgpO1xuICAgIH1cblxuICAgIHRvdGFsQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS50b3RhbENvdW50KCk7XG4gICAgfVxuXG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLm9wdGlvbnMuc3JjQ2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgcm91bmRlZFJhbmdlKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJvdW5kVG9CYXNlVW5pdCAhPT0gZmFsc2UgfHwgdGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBkYXRlc1JhbmdlID0gY2F0ZWdvcnlSYW5nZShvcHRpb25zLnNyY0NhdGVnb3JpZXMpO1xuXG4gICAgICAgIGNvbnN0IGRhdGVSYW5nZSA9IG5ldyBEYXRlUmFuZ2UoZGF0ZXNSYW5nZS5taW4sIGRhdGVzUmFuZ2UubWF4LCBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICBqdXN0aWZpZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcm91bmRUb0Jhc2VVbml0OiB0cnVlLFxuICAgICAgICAgICAganVzdGlmeUVuZDogb3B0aW9ucy5qdXN0aWZpZWRcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBkYXRlUmFuZ2UuZGlzcGxheVJhbmdlKCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhEYXRlQ2F0ZWdvcnlBeGlzLCB7XG4gICAgdHlwZTogREFURSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZGF0ZUZvcm1hdHM6IERhdGVMYWJlbEZvcm1hdHNcbiAgICB9LFxuICAgIHJhbmdlTGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRvQmFzZVVuaXRTdGVwczoge1xuICAgICAgICBtaWxsaXNlY29uZHM6IFsgMSwgMTAsIDEwMCBdLFxuICAgICAgICBzZWNvbmRzOiBbIDEsIDIsIDUsIDE1LCAzMCBdLFxuICAgICAgICBtaW51dGVzOiBbIDEsIDIsIDUsIDE1LCAzMCBdLFxuICAgICAgICBob3VyczogWyAxLCAyLCAzIF0sXG4gICAgICAgIGRheXM6IFsgMSwgMiwgMyBdLFxuICAgICAgICB3ZWVrczogWyAxLCAyIF0sXG4gICAgICAgIG1vbnRoczogWyAxLCAyLCAzLCA2IF0sXG4gICAgICAgIHllYXJzOiBbIDEsIDIsIDMsIDUsIDEwLCAyNSwgNTAgXVxuICAgIH0sXG4gICAgbWF4RGF0ZUdyb3VwczogMTBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBEYXRlQ2F0ZWdvcnlBeGlzO1xuIiwiaW1wb3J0IHsgWkVST19USFJFU0hPTEQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRvQXhpc01pbihtaW4sIG1heCwgbmFycm93KSB7XG4gICAgaWYgKCFtaW4gJiYgIW1heCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBsZXQgYXhpc01pbjtcblxuICAgIGlmIChtaW4gPj0gMCAmJiBtYXggPj0gMCkge1xuICAgICAgICBjb25zdCBtaW5WYWx1ZSA9IG1pbiA9PT0gbWF4ID8gMCA6IG1pbjtcblxuICAgICAgICBsZXQgZGlmZiA9IChtYXggLSBtaW5WYWx1ZSkgLyBtYXg7XG4gICAgICAgIGlmIChuYXJyb3cgPT09IGZhbHNlIHx8ICghbmFycm93ICYmIGRpZmYgPiBaRVJPX1RIUkVTSE9MRCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYXhpc01pbiA9IE1hdGgubWF4KDAsIG1pblZhbHVlIC0gKChtYXggLSBtaW5WYWx1ZSkgLyAyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXhpc01pbiA9IG1pbjtcbiAgICB9XG5cbiAgICByZXR1cm4gYXhpc01pbjtcbn1cbiIsImltcG9ydCB7IFpFUk9fVEhSRVNIT0xEIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0b0F4aXNNYXgobWluLCBtYXgsIG5hcnJvdykge1xuICAgIGlmICghbWluICYmICFtYXgpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgbGV0IGF4aXNNYXg7XG5cbiAgICBpZiAobWluIDw9IDAgJiYgbWF4IDw9IDApIHtcbiAgICAgICAgY29uc3QgbWF4VmFsdWUgPSBtaW4gPT09IG1heCA/IDAgOiBtYXg7XG5cbiAgICAgICAgbGV0IGRpZmYgPSBNYXRoLmFicygobWF4VmFsdWUgLSBtaW4pIC8gbWF4VmFsdWUpO1xuICAgICAgICBpZiAobmFycm93ID09PSBmYWxzZSB8fCAoIW5hcnJvdyAmJiBkaWZmID4gWkVST19USFJFU0hPTEQpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF4aXNNYXggPSBNYXRoLm1pbigwLCBtYXhWYWx1ZSAtICgobWluIC0gbWF4VmFsdWUpIC8gMikpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGF4aXNNYXggPSBtYXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF4aXNNYXg7XG59IiwiaW1wb3J0IHsgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmxvb3IodmFsdWUsIHN0ZXApIHtcbiAgICByZXR1cm4gcm91bmQoTWF0aC5mbG9vcih2YWx1ZSAvIHN0ZXApICogc3RlcCwgREVGQVVMVF9QUkVDSVNJT04pO1xufVxuIiwiaW1wb3J0IHsgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2VpbCh2YWx1ZSwgc3RlcCkge1xuICAgIHJldHVybiByb3VuZChNYXRoLmNlaWwodmFsdWUgLyBzdGVwKSAqIHN0ZXAsIERFRkFVTFRfUFJFQ0lTSU9OKTtcbn0iLCJpbXBvcnQgeyBDT09SRElOQVRFX0xJTUlUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGltaXRDb29yZGluYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHZhbHVlLCBDT09SRElOQVRFX0xJTUlUKSwgLUNPT1JESU5BVEVfTElNSVQpO1xufSIsIlxuaW1wb3J0IEF4aXMgZnJvbSAnLi9heGlzJztcbmltcG9ydCBBeGlzTGFiZWwgZnJvbSAnLi9heGlzLWxhYmVsJztcbmltcG9ydCBCb3ggZnJvbSAnLi9ib3gnO1xuXG5pbXBvcnQgeyBCTEFDSywgREVGQVVMVF9QUkVDSVNJT04sIENPT1JEX1BSRUNJU0lPTiB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgbGltaXRWYWx1ZSwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmltcG9ydCBhdXRvTWFqb3JVbml0IGZyb20gJy4vdXRpbHMvYXV0by1tYWpvci11bml0JztcbmltcG9ydCBhdXRvQXhpc01pbiBmcm9tICcuL3V0aWxzL2F1dG8tYXhpcy1taW4nO1xuaW1wb3J0IGF1dG9BeGlzTWF4IGZyb20gJy4vdXRpbHMvYXV0by1heGlzLW1heCc7XG5pbXBvcnQgZmxvb3IgZnJvbSAnLi91dGlscy9mbG9vcic7XG5pbXBvcnQgY2VpbCBmcm9tICcuL3V0aWxzL2NlaWwnO1xuaW1wb3J0IGxpbWl0Q29vcmRpbmF0ZSBmcm9tICcuL3V0aWxzL2xpbWl0LWNvb3JkaW5hdGUnO1xuXG5jb25zdCBNSU5fVkFMVUVfUkFOR0UgPSBNYXRoLnBvdygxMCwgLURFRkFVTFRfUFJFQ0lTSU9OICsgMSk7XG5cbmNsYXNzIE51bWVyaWNBeGlzIGV4dGVuZHMgQXhpcyB7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXJpZXNNaW4sIHNlcmllc01heCwgb3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHNlcmllc01pbjogc2VyaWVzTWluLFxuICAgICAgICAgICAgc2VyaWVzTWF4OiBzZXJpZXNNYXhcbiAgICAgICAgfSksIGNoYXJ0U2VydmljZSk7XG4gICAgfVxuXG4gICAgaW5pdFVzZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXV0b09wdGlvbnMgPSBhdXRvQXhpc09wdGlvbnMob3B0aW9ucy5zZXJpZXNNaW4sIG9wdGlvbnMuc2VyaWVzTWF4LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50b3RhbE9wdGlvbnMgPSB0b3RhbEF4aXNPcHRpb25zKGF1dG9PcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gYXhpc09wdGlvbnMoYXV0b09wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMudG90YWxNaW4gPSB0aGlzLnRvdGFsT3B0aW9ucy5taW47XG4gICAgICAgIHRoaXMudG90YWxNYXggPSB0aGlzLnRvdGFsT3B0aW9ucy5tYXg7XG4gICAgICAgIHRoaXMudG90YWxNYWpvclVuaXQgPSB0aGlzLnRvdGFsT3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgICAgIHRoaXMuc2VyaWVzTWluID0gdGhpcy5vcHRpb25zLnNlcmllc01pbjtcbiAgICAgICAgdGhpcy5zZXJpZXNNYXggPSB0aGlzLm9wdGlvbnMuc2VyaWVzTWF4O1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IE51bWVyaWNBeGlzKFxuICAgICAgICAgICAgdGhpcy5zZXJpZXNNaW4sXG4gICAgICAgICAgICB0aGlzLnNlcmllc01heCxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksXG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN0YXJ0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJhbmdlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4geyBtaW46IG9wdGlvbnMubWluLCBtYXg6IG9wdGlvbnMubWF4IH07XG4gICAgfVxuXG4gICAgZ2V0RGl2aXNpb25zKHN0ZXBWYWx1ZSkge1xuICAgICAgICBpZiAoc3RlcFZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gb3B0aW9ucy5tYXggLSBvcHRpb25zLm1pbjtcblxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihyb3VuZChyYW5nZSAvIHN0ZXBWYWx1ZSwgQ09PUkRfUFJFQ0lTSU9OKSkgKyAxO1xuICAgIH1cblxuICAgIGdldFRpY2tQb3NpdGlvbnModW5pdCwgc2tpcFVuaXQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBheGlzRGlyLCBheGlzT3JpZ2luLCBsaW5lQm94LCBsaW5lU2l6ZSB9ID0gdGhpcy5saW5lSW5mbygpO1xuICAgICAgICBjb25zdCByYW5nZSA9IG9wdGlvbnMubWF4IC0gb3B0aW9ucy5taW47XG4gICAgICAgIGNvbnN0IHNjYWxlID0gbGluZVNpemUgLyByYW5nZTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IHVuaXQgKiBzY2FsZTtcbiAgICAgICAgY29uc3QgZGl2aXNpb25zID0gdGhpcy5nZXREaXZpc2lvbnModW5pdCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgcG9zID0gbGluZUJveFtheGlzT3JpZ2luXTtcbiAgICAgICAgbGV0IHNraXBTdGVwID0gMDtcblxuICAgICAgICBpZiAoc2tpcFVuaXQpIHtcbiAgICAgICAgICAgIHNraXBTdGVwID0gc2tpcFVuaXQgLyB1bml0O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGl2aXNpb25zOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKGlkeCAlIHNraXBTdGVwICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocm91bmQocG9zLCBDT09SRF9QUkVDSVNJT04pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zID0gcG9zICsgc3RlcCAqIGF4aXNEaXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH1cblxuICAgIGdldE1ham9yVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICBnZXRNaW5vclRpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpY2tQb3NpdGlvbnModGhpcy5vcHRpb25zLm1pbm9yVW5pdCk7XG4gICAgfVxuXG4gICAgZ2V0U2xvdChhLCBiLCBsaW1pdCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgYXhpcywgYXhpc0RpciwgbGluZUJveCwgbGluZVNpemUsIGxpbmVTdGFydCB9ID0gdGhpcy5saW5lSW5mbygpO1xuICAgICAgICBjb25zdCBzdGVwID0gYXhpc0RpciAqIChsaW5lU2l6ZSAvIChvcHRpb25zLm1heCAtIG9wdGlvbnMubWluKSk7XG5cbiAgICAgICAgbGV0IHN0YXJ0ID0gdmFsdWVPckRlZmF1bHQoYSwgYiB8fCAwKTtcbiAgICAgICAgbGV0IGVuZCA9IHZhbHVlT3JEZWZhdWx0KGIsIGEgfHwgMCk7XG5cbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgICBzdGFydCA9IGxpbWl0VmFsdWUoc3RhcnQsIG9wdGlvbnMubWluLCBvcHRpb25zLm1heCk7XG4gICAgICAgICAgICBlbmQgPSBsaW1pdFZhbHVlKGVuZCwgb3B0aW9ucy5taW4sIG9wdGlvbnMubWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHAxID0gTWF0aC5taW4oc3RhcnQsIGVuZCkgLSBvcHRpb25zLm1pbjtcbiAgICAgICAgY29uc3QgcDIgPSBNYXRoLm1heChzdGFydCwgZW5kKSAtIG9wdGlvbnMubWluO1xuXG4gICAgICAgIGNvbnN0IHNsb3RCb3ggPSBuZXcgQm94KGxpbmVCb3gueDEsIGxpbmVCb3gueTEsIGxpbmVCb3gueDEsIGxpbmVCb3gueTEpO1xuICAgICAgICBzbG90Qm94W2F4aXMgKyAxXSA9IGxpbWl0Q29vcmRpbmF0ZShsaW5lU3RhcnQgKyBzdGVwICogKGF4aXNEaXIgPiAwID8gcDEgOiBwMikpO1xuICAgICAgICBzbG90Qm94W2F4aXMgKyAyXSA9IGxpbWl0Q29vcmRpbmF0ZShsaW5lU3RhcnQgKyBzdGVwICogKGF4aXNEaXIgPiAwID8gcDIgOiBwMSkpO1xuXG4gICAgICAgIHJldHVybiBzbG90Qm94O1xuICAgIH1cblxuICAgIGdldFZhbHVlKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1heCA9IE51bWJlcihvcHRpb25zLm1heCk7XG4gICAgICAgIGNvbnN0IG1pbiA9IE51bWJlcihvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMucG9pbnRPZmZzZXQocG9pbnQpO1xuICAgICAgICBjb25zdCB2YWx1ZU9mZnNldCA9IG9mZnNldCAqIChtYXggLSBtaW4pO1xuXG4gICAgICAgIGlmIChvZmZzZXQgPCAwIHx8IG9mZnNldCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBtaW4gKyB2YWx1ZU9mZnNldDtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHZhbHVlLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgcmV2ZXJzZSwgbWF4LCBtaW4gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgbGluZVNpemUgfSA9IHRoaXMubGluZUluZm8oKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBtYXggLSBtaW47XG4gICAgICAgIGNvbnN0IHNjYWxlID0gbGluZVNpemUgLyByYW5nZTtcbiAgICAgICAgbGV0IG9mZnNldCA9IHJvdW5kKGRlbHRhIC8gc2NhbGUsIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuICAgICAgICBpZiAoKHZlcnRpY2FsIHx8IHJldmVyc2UpICYmICEodmVydGljYWwgJiYgcmV2ZXJzZSApKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluICsgb2Zmc2V0LFxuICAgICAgICAgICAgbWF4OiBtYXggKyBvZmZzZXQsXG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxhYmVsc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREaXZpc2lvbnModGhpcy5vcHRpb25zLm1ham9yVW5pdCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQXhpc0xhYmVsKGluZGV4LCBsYWJlbE9wdGlvbnMsIGxhYmVsQ29udGV4dCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJvdW5kKG9wdGlvbnMubWluICsgKGluZGV4ICogb3B0aW9ucy5tYWpvclVuaXQpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmF4aXNMYWJlbFRleHQodmFsdWUsIGxhYmVsT3B0aW9ucywgbGFiZWxDb250ZXh0KTtcblxuICAgICAgICByZXR1cm4gbmV3IEF4aXNMYWJlbCh2YWx1ZSwgdGV4dCwgaW5kZXgsIG51bGwsIGxhYmVsT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc2hvdWxkUmVuZGVyTm90ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMucmFuZ2UoKTtcbiAgICAgICAgcmV0dXJuIHJhbmdlLm1pbiA8PSB2YWx1ZSAmJiB2YWx1ZSA8PSByYW5nZS5tYXg7XG4gICAgfVxuXG4gICAgcGFuKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy50cmFuc2xhdGVSYW5nZShkZWx0YSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbWl0UmFuZ2UocmFuZ2UubWluLCByYW5nZS5tYXgsIHRoaXMudG90YWxNaW4sIHRoaXMudG90YWxNYXgsIHJhbmdlLm9mZnNldCk7XG4gICAgfVxuXG4gICAgcG9pbnRzUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgICBjb25zdCBzdGFydFZhbHVlID0gdGhpcy5nZXRWYWx1ZShzdGFydCk7XG4gICAgICAgIGNvbnN0IGVuZFZhbHVlID0gdGhpcy5nZXRWYWx1ZShlbmQpO1xuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHN0YXJ0VmFsdWUsIGVuZFZhbHVlKTtcblxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkUmFuZ2UobWluLCBtYXgpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2NhbGVSYW5nZShzY2FsZSwgY3Vyc29yKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5hYnModGhpcy5wb2ludE9mZnNldChjdXJzb3IpKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLm9wdGlvbnMubWF4IC0gdGhpcy5vcHRpb25zLm1pbjtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0aGlzLnNjYWxlVG9EZWx0YShzY2FsZSwgcmFuZ2UpO1xuICAgICAgICBjb25zdCBtaW5EZWx0YSA9IHBvc2l0aW9uICogZGVsdGE7XG4gICAgICAgIGNvbnN0IG1heERlbHRhID0gKDEgLSBwb3NpdGlvbikgKiBkZWx0YTtcbiAgICAgICAgY29uc3QgbWluID0gcm91bmQodGhpcy5vcHRpb25zLm1pbiArIG1pbkRlbHRhLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgICAgIGxldCBtYXggPSByb3VuZCh0aGlzLm9wdGlvbnMubWF4IC0gbWF4RGVsdGEsIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuICAgICAgICBpZiAobWF4IC0gbWluIDwgTUlOX1ZBTFVFX1JBTkdFKSB7XG4gICAgICAgICAgICBtYXggPSBtaW4gKyBNSU5fVkFMVUVfUkFOR0U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHpvb21SYW5nZShzY2FsZSwgY3Vyc29yKSB7XG4gICAgICAgIGNvbnN0IHsgdG90YWxNaW4sIHRvdGFsTWF4IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuc2NhbGVSYW5nZShzY2FsZSwgY3Vyc29yKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBsaW1pdFZhbHVlKHJhbmdlLm1pbiwgdG90YWxNaW4sIHRvdGFsTWF4KSxcbiAgICAgICAgICAgIG1heDogbGltaXRWYWx1ZShyYW5nZS5tYXgsIHRvdGFsTWluLCB0b3RhbE1heCksXG4gICAgICAgICAgICBuYXJyb3dSYW5nZTogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpc1ZhbGlkUmFuZ2UobWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIG1heCAtIG1pbiA+IE1JTl9WQUxVRV9SQU5HRTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGF1dG9BeGlzT3B0aW9ucyhzZXJpZXNNaW4sIHNlcmllc01heCwgb3B0aW9ucykge1xuICAgIGNvbnN0IG5hcnJvd1JhbmdlID0gb3B0aW9ucy5uYXJyb3dSYW5nZTtcblxuICAgIGxldCBhdXRvTWluID0gYXV0b0F4aXNNaW4oc2VyaWVzTWluLCBzZXJpZXNNYXgsIG5hcnJvd1JhbmdlKTtcbiAgICBsZXQgYXV0b01heCA9IGF1dG9BeGlzTWF4KHNlcmllc01pbiwgc2VyaWVzTWF4LCBuYXJyb3dSYW5nZSk7XG5cbiAgICBjb25zdCBtYWpvclVuaXQgPSBhdXRvTWFqb3JVbml0KGF1dG9NaW4sIGF1dG9NYXgpO1xuICAgIGNvbnN0IGF1dG9PcHRpb25zID0ge1xuICAgICAgICBtYWpvclVuaXQ6IG1ham9yVW5pdFxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucy5yb3VuZFRvTWFqb3JVbml0ICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAoYXV0b01pbiA8IDAgJiYgcmVtYWluZGVyQ2xvc2UoYXV0b01pbiwgbWFqb3JVbml0LCAxIC8gMykpIHtcbiAgICAgICAgICAgIGF1dG9NaW4gLT0gbWFqb3JVbml0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF1dG9NYXggPiAwICYmIHJlbWFpbmRlckNsb3NlKGF1dG9NYXgsIG1ham9yVW5pdCwgMSAvIDMpKSB7XG4gICAgICAgICAgICBhdXRvTWF4ICs9IG1ham9yVW5pdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF1dG9PcHRpb25zLm1pbiA9IGZsb29yKGF1dG9NaW4sIG1ham9yVW5pdCk7XG4gICAgYXV0b09wdGlvbnMubWF4ID0gY2VpbChhdXRvTWF4LCBtYWpvclVuaXQpO1xuXG4gICAgcmV0dXJuIGF1dG9PcHRpb25zO1xufVxuXG5mdW5jdGlvbiB0b3RhbEF4aXNPcHRpb25zKGF1dG9PcHRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWluOiBkZWZpbmVkKG9wdGlvbnMubWluKSA/IE1hdGgubWluKGF1dG9PcHRpb25zLm1pbiwgb3B0aW9ucy5taW4pIDogYXV0b09wdGlvbnMubWluLFxuICAgICAgICBtYXg6IGRlZmluZWQob3B0aW9ucy5tYXgpID8gTWF0aC5tYXgoYXV0b09wdGlvbnMubWF4LCBvcHRpb25zLm1heCkgOiBhdXRvT3B0aW9ucy5tYXgsXG4gICAgICAgIG1ham9yVW5pdDogYXV0b09wdGlvbnMubWFqb3JVbml0XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY2xlYXJOdWxsVmFsdWVzKG9wdGlvbnMsIGZpZWxkcykge1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGZpZWxkcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZmllbGRzW2lkeF07XG4gICAgICAgIGlmIChvcHRpb25zW2ZpZWxkXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgb3B0aW9uc1tmaWVsZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGF4aXNPcHRpb25zKGF1dG9PcHRpb25zLCB1c2VyT3B0aW9ucykge1xuICAgIGxldCBvcHRpb25zID0gdXNlck9wdGlvbnM7XG4gICAgbGV0IHVzZXJTZXRNaW4sIHVzZXJTZXRNYXg7XG5cbiAgICBpZiAodXNlck9wdGlvbnMpIHtcbiAgICAgICAgY2xlYXJOdWxsVmFsdWVzKHVzZXJPcHRpb25zLCBbICdtaW4nLCAnbWF4JyBdKTtcblxuICAgICAgICB1c2VyU2V0TWluID0gZGVmaW5lZCh1c2VyT3B0aW9ucy5taW4pO1xuICAgICAgICB1c2VyU2V0TWF4ID0gZGVmaW5lZCh1c2VyT3B0aW9ucy5tYXgpO1xuXG4gICAgICAgIGNvbnN0IHVzZXJTZXRMaW1pdHMgPSB1c2VyU2V0TWluIHx8IHVzZXJTZXRNYXg7XG5cbiAgICAgICAgaWYgKHVzZXJTZXRMaW1pdHMpIHtcbiAgICAgICAgICAgIGlmICh1c2VyT3B0aW9ucy5taW4gPT09IHVzZXJPcHRpb25zLm1heCkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VyT3B0aW9ucy5taW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJPcHRpb25zLm1pbiA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlck9wdGlvbnMubWF4ID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXNlck9wdGlvbnMubWFqb3JVbml0KSB7XG4gICAgICAgICAgICBhdXRvT3B0aW9ucy5taW4gPSBmbG9vcihhdXRvT3B0aW9ucy5taW4sIHVzZXJPcHRpb25zLm1ham9yVW5pdCk7XG4gICAgICAgICAgICBhdXRvT3B0aW9ucy5tYXggPSBjZWlsKGF1dG9PcHRpb25zLm1heCwgdXNlck9wdGlvbnMubWFqb3JVbml0KTtcbiAgICAgICAgfSBlbHNlIGlmICh1c2VyU2V0TGltaXRzKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gZGVlcEV4dGVuZChhdXRvT3B0aW9ucywgdXNlck9wdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgYW4gYXV0byBtYWpvciB1bml0IGFmdGVyIG1pbi9tYXggaGF2ZSBiZWVuIHNldFxuICAgICAgICAgICAgYXV0b09wdGlvbnMubWFqb3JVbml0ID0gYXV0b01ham9yVW5pdChvcHRpb25zLm1pbiwgb3B0aW9ucy5tYXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXV0b09wdGlvbnMubWlub3JVbml0ID0gKG9wdGlvbnMubWFqb3JVbml0IHx8IGF1dG9PcHRpb25zLm1ham9yVW5pdCkgLyA1O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gZGVlcEV4dGVuZChhdXRvT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgaWYgKHJlc3VsdC5taW4gPj0gcmVzdWx0Lm1heCkge1xuICAgICAgICBpZiAodXNlclNldE1pbiAmJiAhdXNlclNldE1heCkge1xuICAgICAgICAgICAgcmVzdWx0Lm1heCA9IHJlc3VsdC5taW4gKyByZXN1bHQubWFqb3JVbml0O1xuICAgICAgICB9IGVsc2UgaWYgKCF1c2VyU2V0TWluICYmIHVzZXJTZXRNYXgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5taW4gPSByZXN1bHQubWF4IC0gcmVzdWx0Lm1ham9yVW5pdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHJlbWFpbmRlckNsb3NlKHZhbHVlLCBkaXZpc29yLCByYXRpbykge1xuICAgIGNvbnN0IHJlbWFpbmRlciA9IHJvdW5kKE1hdGguYWJzKHZhbHVlICUgZGl2aXNvciksIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICBjb25zdCB0aHJlc2hvbGQgPSBkaXZpc29yICogKDEgLSByYXRpbyk7XG5cbiAgICByZXR1cm4gcmVtYWluZGVyID09PSAwIHx8IHJlbWFpbmRlciA+IHRocmVzaG9sZDtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTnVtZXJpY0F4aXMsIHtcbiAgICB0eXBlOiBcIm51bWVyaWNcIixcbiAgICBtaW46IDAsXG4gICAgbWF4OiAxLFxuICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0tcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICBmb3JtYXQ6IFwiIy4jIyMjIyMjIyMjIyMjIyMjIyMjI1wiXG4gICAgfSxcbiAgICB6SW5kZXg6IDFcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBOdW1lcmljQXhpcztcbiIsImltcG9ydCBBeGlzIGZyb20gJy4vYXhpcyc7XG5pbXBvcnQgTnVtZXJpY0F4aXMgZnJvbSAnLi9udW1lcmljLWF4aXMnO1xuaW1wb3J0IEF4aXNMYWJlbCBmcm9tICcuL2F4aXMtbGFiZWwnO1xuaW1wb3J0IHsgRGF0ZUxhYmVsRm9ybWF0cyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgQkxBQ0ssIERBVEUsIENPT1JEX1BSRUNJU0lPTiwgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBsaW1pdFZhbHVlLCByb3VuZCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmltcG9ydCBhdXRvTWFqb3JVbml0IGZyb20gJy4vdXRpbHMvYXV0by1tYWpvci11bml0JztcbmltcG9ydCBjZWlsIGZyb20gJy4vdXRpbHMvY2VpbCc7XG5cbmltcG9ydCB7IHRvRGF0ZSwgdG9UaW1lLCBmbG9vckRhdGUsIGNlaWxEYXRlLCBkdXJhdGlvbiwgYWRkRHVyYXRpb24sIGFkZFRpY2tzLCBkYXRlRGlmZiwgYWJzb2x1dGVEYXRlRGlmZiwgZGF0ZUNvbXBhcmVyLCBwYXJzZURhdGUsIHBhcnNlRGF0ZXMsIGZpcnN0RGF5IH0gZnJvbSAnLi4vZGF0ZS11dGlscyc7XG5pbXBvcnQgeyBIT1VSUywgREFZUywgV0VFS1MsIE1PTlRIUywgWUVBUlMsIFRJTUVfUEVSX0RBWSwgVElNRV9QRVJfV0VFSywgVElNRV9QRVJfTU9OVEgsIFRJTUVfUEVSX1lFQVIsIFRJTUVfUEVSX1VOSVQgfSBmcm9tICcuLi9kYXRlLXV0aWxzL2NvbnN0YW50cyc7XG5cbmNvbnN0IE1JTl9WQUxVRV9SQU5HRSA9IDEwMDA7XG5cbmNsYXNzIERhdGVWYWx1ZUF4aXMgZXh0ZW5kcyBBeGlzIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJpZXNNaW4sIHNlcmllc01heCwgYXhpc09wdGlvbnMsIGNoYXJ0U2VydmljZSkge1xuICAgICAgICBjb25zdCBtaW4gPSB0b0RhdGUoc2VyaWVzTWluKTtcbiAgICAgICAgY29uc3QgbWF4ID0gdG9EYXRlKHNlcmllc01heCk7XG5cbiAgICAgICAgY29uc3QgaW50bFNlcnZpY2UgPSBjaGFydFNlcnZpY2UuaW50bDtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBheGlzT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IGRlZXBFeHRlbmQob3B0aW9ucyB8fCB7fSwge1xuICAgICAgICAgICAgbWluOiBwYXJzZURhdGUoaW50bFNlcnZpY2UsIG9wdGlvbnMubWluKSxcbiAgICAgICAgICAgIG1heDogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLm1heCksXG4gICAgICAgICAgICBheGlzQ3Jvc3NpbmdWYWx1ZTogcGFyc2VEYXRlcyhpbnRsU2VydmljZSwgb3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZXMgfHwgb3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZSksXG4gICAgICAgICAgICB3ZWVrU3RhcnREYXk6IGZpcnN0RGF5KG9wdGlvbnMsIGludGxTZXJ2aWNlKVxuICAgICAgICB9KTtcbiAgICAgICAgb3B0aW9ucyA9IGFwcGx5RGVmYXVsdHMobWluLCBtYXgsIG9wdGlvbnMpO1xuXG4gICAgICAgIHN1cGVyKG9wdGlvbnMsIGNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgdGhpcy5pbnRsU2VydmljZSA9IGludGxTZXJ2aWNlO1xuICAgICAgICB0aGlzLnNlcmllc01pbiA9IG1pbjtcbiAgICAgICAgdGhpcy5zZXJpZXNNYXggPSBtYXg7XG5cbiAgICAgICAgY29uc3Qgd2Vla1N0YXJ0RGF5ID0gb3B0aW9ucy53ZWVrU3RhcnREYXkgfHwgMDtcbiAgICAgICAgdGhpcy50b3RhbE1pbiA9IHRvVGltZShmbG9vckRhdGUodG9UaW1lKG1pbikgLSAxLCBvcHRpb25zLmJhc2VVbml0LCB3ZWVrU3RhcnREYXkpKTtcbiAgICAgICAgdGhpcy50b3RhbE1heCA9IHRvVGltZShjZWlsRGF0ZSh0b1RpbWUobWF4KSArIDEsIG9wdGlvbnMuYmFzZVVuaXQsIHdlZWtTdGFydERheSkpO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGVWYWx1ZUF4aXModGhpcy5zZXJpZXNNaW4sIHRoaXMuc2VyaWVzTWF4LCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMpLCB0aGlzLmNoYXJ0U2VydmljZSk7XG4gICAgfVxuXG4gICAgcmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiB7IG1pbjogb3B0aW9ucy5taW4sIG1heDogb3B0aW9ucy5tYXggfTtcbiAgICB9XG5cbiAgICBnZXREaXZpc2lvbnMoc3RlcFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoXG4gICAgICAgICAgICBkdXJhdGlvbihvcHRpb25zLm1pbiwgb3B0aW9ucy5tYXgsIG9wdGlvbnMuYmFzZVVuaXQpIC8gc3RlcFZhbHVlICsgMVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFRpY2tQb3NpdGlvbnMoc3RlcCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IGF4aXNEaXI6IGRpciwgbGluZVNpemUsIGxpbmVTdGFydDogc3RhcnQgfSA9IHRoaXMubGluZUluZm8oKTtcbiAgICAgICAgY29uc3QgZGl2aXNpb25zID0gdGhpcy5nZXREaXZpc2lvbnMoc3RlcCk7XG4gICAgICAgIGNvbnN0IHRpbWVSYW5nZSA9IGRhdGVEaWZmKG9wdGlvbnMubWF4LCBvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gbGluZVNpemUgLyB0aW1lUmFuZ2U7XG4gICAgICAgIGNvbnN0IHdlZWtTdGFydERheSA9IG9wdGlvbnMud2Vla1N0YXJ0RGF5IHx8IDA7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gWyBzdGFydCBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGRpdmlzaW9uczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gYWRkRHVyYXRpb24ob3B0aW9ucy5taW4sIGkgKiBzdGVwLCBvcHRpb25zLmJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gc3RhcnQgKyBkYXRlRGlmZihkYXRlLCBvcHRpb25zLm1pbikgKiBzY2FsZSAqIGRpcjtcblxuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocm91bmQocG9zLCBDT09SRF9QUkVDSVNJT04pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrUG9zaXRpb25zKHRoaXMub3B0aW9ucy5tYWpvclVuaXQpO1xuICAgIH1cblxuICAgIGdldE1pbm9yVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyh0aGlzLm9wdGlvbnMubWlub3JVbml0KTtcbiAgICB9XG5cbiAgICBnZXRTbG90KGEsIGIsIGxpbWl0KSB7XG4gICAgICAgIHJldHVybiBOdW1lcmljQXhpcy5wcm90b3R5cGUuZ2V0U2xvdC5jYWxsKFxuICAgICAgICAgICAgdGhpcywgcGFyc2VEYXRlKHRoaXMuaW50bFNlcnZpY2UsIGEpLCBwYXJzZURhdGUodGhpcy5pbnRsU2VydmljZSwgYiksIGxpbWl0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUocG9pbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBOdW1lcmljQXhpcy5wcm90b3R5cGUuZ2V0VmFsdWUuY2FsbCh0aGlzLCBwb2ludCk7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsID8gdG9EYXRlKHZhbHVlKSA6IG51bGw7XG4gICAgfVxuXG4gICAgbGFiZWxzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpdmlzaW9ucyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIGxhYmVsT3B0aW9ucywgbGFiZWxDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGluZGV4ICogb3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgICAgIGNvbnN0IHdlZWtTdGFydERheSA9IG9wdGlvbnMud2Vla1N0YXJ0RGF5IHx8IDA7XG4gICAgICAgIGxldCBkYXRlID0gb3B0aW9ucy5taW47XG5cbiAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgICAgICAgIGRhdGUgPSBhZGREdXJhdGlvbihkYXRlLCBvZmZzZXQsIG9wdGlvbnMuYmFzZVVuaXQsIHdlZWtTdGFydERheSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1bml0Rm9ybWF0ID0gbGFiZWxPcHRpb25zLmRhdGVGb3JtYXRzW29wdGlvbnMuYmFzZVVuaXRdO1xuICAgICAgICBsYWJlbE9wdGlvbnMuZm9ybWF0ID0gbGFiZWxPcHRpb25zLmZvcm1hdCB8fCB1bml0Rm9ybWF0O1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmF4aXNMYWJlbFRleHQoZGF0ZSwgbGFiZWxPcHRpb25zLCBsYWJlbENvbnRleHQpO1xuICAgICAgICByZXR1cm4gbmV3IEF4aXNMYWJlbChkYXRlLCB0ZXh0LCBpbmRleCwgbnVsbCwgbGFiZWxPcHRpb25zKTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGVSYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIHJldmVyc2UgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNpemUgPSB2ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5yYW5nZSgpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHNpemUgLyBkYXRlRGlmZihyYW5nZS5tYXgsIHJhbmdlLm1pbik7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IHJvdW5kKGRlbHRhIC8gc2NhbGUsIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICAgICAgaWYgKCh2ZXJ0aWNhbCB8fCByZXZlcnNlKSAmJiAhKHZlcnRpY2FsICYmIHJldmVyc2UgKSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmcm9tID0gYWRkVGlja3Mob3B0aW9ucy5taW4sIG9mZnNldCk7XG4gICAgICAgIGxldCB0byA9IGFkZFRpY2tzKG9wdGlvbnMubWF4LCBvZmZzZXQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IGZyb20sXG4gICAgICAgICAgICBtYXg6IHRvLFxuICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzaG91bGRSZW5kZXJOb3RlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5yYW5nZSgpO1xuXG4gICAgICAgIHJldHVybiBkYXRlQ29tcGFyZXIodmFsdWUsIHJhbmdlLm1pbikgPj0gMCAmJiBkYXRlQ29tcGFyZXIodmFsdWUsIHJhbmdlLm1heCkgPD0gMDtcbiAgICB9XG5cbiAgICBwYW4oZGVsdGEpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnRyYW5zbGF0ZVJhbmdlKGRlbHRhLCB0cnVlKTtcbiAgICAgICAgY29uc3QgbGltaXR0ZWRSYW5nZSA9IHRoaXMubGltaXRSYW5nZSh0b1RpbWUocmFuZ2UubWluKSwgdG9UaW1lKHJhbmdlLm1heCksIHRoaXMudG90YWxNaW4sIHRoaXMudG90YWxNYXgsIHJhbmdlLm9mZnNldCk7XG5cbiAgICAgICAgaWYgKGxpbWl0dGVkUmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWluOiB0b0RhdGUobGltaXR0ZWRSYW5nZS5taW4pLFxuICAgICAgICAgICAgICAgIG1heDogdG9EYXRlKGxpbWl0dGVkUmFuZ2UubWF4KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoc3RhcnQpO1xuICAgICAgICBjb25zdCBlbmRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoZW5kKTtcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4oc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdG9EYXRlKG1pbiksXG4gICAgICAgICAgICBtYXg6IHRvRGF0ZShtYXgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2NhbGVSYW5nZShzY2FsZSwgY3Vyc29yKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5hYnModGhpcy5wb2ludE9mZnNldChjdXJzb3IpKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLm9wdGlvbnMubWF4IC0gdGhpcy5vcHRpb25zLm1pbjtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0aGlzLnNjYWxlVG9EZWx0YShzY2FsZSwgcmFuZ2UpO1xuICAgICAgICBjb25zdCBtaW5EZWx0YSA9IHBvc2l0aW9uICogZGVsdGE7XG4gICAgICAgIGNvbnN0IG1heERlbHRhID0gKDEgLSBwb3NpdGlvbikgKiBkZWx0YTtcbiAgICAgICAgY29uc3QgbWluID0gdG9EYXRlKHRvVGltZSh0aGlzLm9wdGlvbnMubWluKSArIG1pbkRlbHRhKTtcbiAgICAgICAgbGV0IG1heCA9IHRvRGF0ZSh0b1RpbWUodGhpcy5vcHRpb25zLm1heCkgLSBtYXhEZWx0YSk7XG5cbiAgICAgICAgaWYgKG1heCAtIG1pbiA8IE1JTl9WQUxVRV9SQU5HRSkge1xuICAgICAgICAgICAgbWF4ID0gdG9EYXRlKHRvVGltZShtaW4pICsgTUlOX1ZBTFVFX1JBTkdFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgem9vbVJhbmdlKHNjYWxlLCBjdXJzb3IpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnNjYWxlUmFuZ2Uoc2NhbGUsIGN1cnNvcik7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRvRGF0ZShsaW1pdFZhbHVlKHRvVGltZShyYW5nZS5taW4pLCB0aGlzLnRvdGFsTWluLCB0aGlzLnRvdGFsTWF4KSk7XG4gICAgICAgIGNvbnN0IG1heCA9IHRvRGF0ZShsaW1pdFZhbHVlKHRvVGltZShyYW5nZS5tYXgpLCB0aGlzLnRvdGFsTWluLCB0aGlzLnRvdGFsTWF4KSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbixcbiAgICAgICAgICAgIG1heFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdGltZVVuaXRzKGRlbHRhKSB7XG4gICAgbGV0IHVuaXQgPSBIT1VSUztcblxuICAgIGlmIChkZWx0YSA+PSBUSU1FX1BFUl9ZRUFSKSB7XG4gICAgICAgIHVuaXQgPSBZRUFSUztcbiAgICB9IGVsc2UgaWYgKGRlbHRhID49IFRJTUVfUEVSX01PTlRIKSB7XG4gICAgICAgIHVuaXQgPSBNT05USFM7XG4gICAgfSBlbHNlIGlmIChkZWx0YSA+PSBUSU1FX1BFUl9XRUVLKSB7XG4gICAgICAgIHVuaXQgPSBXRUVLUztcbiAgICB9IGVsc2UgaWYgKGRlbHRhID49IFRJTUVfUEVSX0RBWSkge1xuICAgICAgICB1bml0ID0gREFZUztcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pdDtcbn1cblxuZnVuY3Rpb24gYXBwbHlEZWZhdWx0cyhzZXJpZXNNaW4sIHNlcmllc01heCwgb3B0aW9ucykge1xuICAgIGNvbnN0IG1pbiA9IG9wdGlvbnMubWluIHx8IHNlcmllc01pbjtcbiAgICBjb25zdCBtYXggPSBvcHRpb25zLm1heCB8fCBzZXJpZXNNYXg7XG4gICAgY29uc3QgYmFzZVVuaXQgPSBvcHRpb25zLmJhc2VVbml0IHx8IChtYXggJiYgbWluID8gdGltZVVuaXRzKGFic29sdXRlRGF0ZURpZmYobWF4LCBtaW4pKSA6IEhPVVJTKTtcbiAgICBjb25zdCBiYXNlVW5pdFRpbWUgPSBUSU1FX1BFUl9VTklUW2Jhc2VVbml0XTtcbiAgICBjb25zdCB3ZWVrU3RhcnREYXkgPSBvcHRpb25zLndlZWtTdGFydERheSB8fCAwO1xuICAgIGNvbnN0IGF1dG9NaW4gPSBmbG9vckRhdGUodG9UaW1lKG1pbikgLSAxLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KSB8fCB0b0RhdGUobWF4KTtcbiAgICBjb25zdCBhdXRvTWF4ID0gY2VpbERhdGUodG9UaW1lKG1heCkgKyAxLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICBjb25zdCB1c2VyTWFqb3JVbml0ID0gb3B0aW9ucy5tYWpvclVuaXQgPyBvcHRpb25zLm1ham9yVW5pdCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtYWpvclVuaXQgPSB1c2VyTWFqb3JVbml0IHx8IGNlaWwoXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvTWFqb3JVbml0KGF1dG9NaW4uZ2V0VGltZSgpLCBhdXRvTWF4LmdldFRpbWUoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVW5pdFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKSAvIGJhc2VVbml0VGltZTtcbiAgICBjb25zdCBhY3R1YWxVbml0cyA9IGR1cmF0aW9uKGF1dG9NaW4sIGF1dG9NYXgsIGJhc2VVbml0KTtcbiAgICBjb25zdCB0b3RhbFVuaXRzID0gY2VpbChhY3R1YWxVbml0cywgbWFqb3JVbml0KTtcbiAgICBjb25zdCB1bml0c1RvQWRkID0gdG90YWxVbml0cyAtIGFjdHVhbFVuaXRzO1xuICAgIGNvbnN0IGhlYWQgPSBNYXRoLmZsb29yKHVuaXRzVG9BZGQgLyAyKTtcbiAgICBjb25zdCB0YWlsID0gdW5pdHNUb0FkZCAtIGhlYWQ7XG5cbiAgICBpZiAoIW9wdGlvbnMuYmFzZVVuaXQpIHtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuYmFzZVVuaXQ7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5iYXNlVW5pdCA9IG9wdGlvbnMuYmFzZVVuaXQgfHwgYmFzZVVuaXQ7XG4gICAgb3B0aW9ucy5taW4gPSBvcHRpb25zLm1pbiB8fCBhZGREdXJhdGlvbihhdXRvTWluLCAtaGVhZCwgYmFzZVVuaXQsIHdlZWtTdGFydERheSk7XG4gICAgb3B0aW9ucy5tYXggPSBvcHRpb25zLm1heCB8fCBhZGREdXJhdGlvbihhdXRvTWF4LCB0YWlsLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICBvcHRpb25zLm1pbm9yVW5pdCA9IG9wdGlvbnMubWlub3JVbml0IHx8IG1ham9yVW5pdCAvIDU7XG4gICAgb3B0aW9ucy5tYWpvclVuaXQgPSBtYWpvclVuaXQ7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRGF0ZVZhbHVlQXhpcywge1xuICAgIHR5cGU6IERBVEUsXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNvbG9yOiBCTEFDS1xuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGRhdGVGb3JtYXRzOiBEYXRlTGFiZWxGb3JtYXRzXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IERhdGVWYWx1ZUF4aXM7XG4iLCJcbmltcG9ydCBBeGlzIGZyb20gJy4vYXhpcyc7XG5pbXBvcnQgQXhpc0xhYmVsIGZyb20gJy4vYXhpcy1sYWJlbCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IGNyZWF0ZUF4aXNUaWNrIGZyb20gJy4vdXRpbHMvY3JlYXRlLWF4aXMtdGljayc7XG5pbXBvcnQgY3JlYXRlQXhpc0dyaWRMaW5lIGZyb20gJy4vdXRpbHMvY3JlYXRlLWF4aXMtZ3JpZC1saW5lJztcbmltcG9ydCBsaW1pdENvb3JkaW5hdGUgZnJvbSAnLi91dGlscy9saW1pdC1jb29yZGluYXRlJztcblxuaW1wb3J0IHsgREVGQVVMVF9QUkVDSVNJT04sIEJMQUNLIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBpbkFycmF5LCBsaW1pdFZhbHVlLCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vY29tbW9uJztcblxuY29uc3QgREVGQVVMVF9NQUpPUl9VTklUID0gMTA7XG5jb25zdCBNSU5fVkFMVUVfUkFOR0UgPSAxZS02O1xuXG5jbGFzcyBMb2dhcml0aG1pY0F4aXMgZXh0ZW5kcyBBeGlzIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJpZXNNaW4sIHNlcmllc01heCwgb3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG5cbiAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSBkZWVwRXh0ZW5kKHsgbWFqb3JVbml0OiBERUZBVUxUX01BSk9SX1VOSVQsIG1pbjogc2VyaWVzTWluLCBtYXg6IHNlcmllc01heCB9LCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgYmFzZSA9IGF4aXNPcHRpb25zLm1ham9yVW5pdDtcbiAgICAgICAgY29uc3QgYXV0b01heCA9IGF1dG9BeGlzTWF4KHNlcmllc01heCwgYmFzZSk7XG4gICAgICAgIGNvbnN0IGF1dG9NaW4gPSBhdXRvQXhpc01pbihzZXJpZXNNaW4sIHNlcmllc01heCwgYXhpc09wdGlvbnMpO1xuICAgICAgICBjb25zdCByYW5nZSA9IGluaXRSYW5nZShhdXRvTWluLCBhdXRvTWF4LCBheGlzT3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgYXhpc09wdGlvbnMubWF4ID0gcmFuZ2UubWF4O1xuICAgICAgICBheGlzT3B0aW9ucy5taW4gPSByYW5nZS5taW47XG4gICAgICAgIGF4aXNPcHRpb25zLm1pbm9yVW5pdCA9IG9wdGlvbnMubWlub3JVbml0IHx8IHJvdW5kKGJhc2UgLSAxLCBERUZBVUxUX1BSRUNJU0lPTik7XG5cbiAgICAgICAgc3VwZXIoYXhpc09wdGlvbnMsIGNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgdGhpcy50b3RhbE1pbiA9IGRlZmluZWQob3B0aW9ucy5taW4pID8gTWF0aC5taW4oYXV0b01pbiwgb3B0aW9ucy5taW4pIDogYXV0b01pbjtcbiAgICAgICAgdGhpcy50b3RhbE1heCA9IGRlZmluZWQob3B0aW9ucy5tYXgpID8gTWF0aC5tYXgoYXV0b01heCwgb3B0aW9ucy5tYXgpIDogYXV0b01heDtcbiAgICAgICAgdGhpcy5sb2dNaW4gPSByb3VuZChsb2cocmFuZ2UubWluLCBiYXNlKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgICAgICB0aGlzLmxvZ01heCA9IHJvdW5kKGxvZyhyYW5nZS5tYXgsIGJhc2UpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgICAgIHRoaXMuc2VyaWVzTWluID0gc2VyaWVzTWluO1xuICAgICAgICB0aGlzLnNlcmllc01heCA9IHNlcmllc01heDtcblxuICAgICAgICB0aGlzLmNyZWF0ZUxhYmVscygpO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IExvZ2FyaXRobWljQXhpcyhcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzTWluLFxuICAgICAgICAgICAgdGhpcy5zZXJpZXNNYXgsXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMpLFxuICAgICAgICAgICAgdGhpcy5jaGFydFNlcnZpY2VcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGFydFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLm1pbjtcbiAgICB9XG5cbiAgICBnZXRTbG90KGEsIGIsIGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgbG9nTWluLCBsb2dNYXggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgbWFqb3JVbml0OiBiYXNlLCBtaW4sIG1heCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBheGlzLCBheGlzRGlyLCBsaW5lQm94LCBsaW5lU2l6ZSwgbGluZVN0YXJ0IH0gPSB0aGlzLmxpbmVJbmZvKCk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBheGlzRGlyICogKGxpbmVTaXplIC8gKGxvZ01heCAtIGxvZ01pbikpO1xuICAgICAgICBsZXQgc3RhcnQgPSB2YWx1ZU9yRGVmYXVsdChhLCBiIHx8IDEpO1xuICAgICAgICBsZXQgZW5kID0gdmFsdWVPckRlZmF1bHQoYiwgYSB8fCAxKTtcblxuICAgICAgICBpZiAoc3RhcnQgPD0gMCB8fCBlbmQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gbGltaXRWYWx1ZShzdGFydCwgbWluLCBtYXgpO1xuICAgICAgICAgICAgZW5kID0gbGltaXRWYWx1ZShlbmQsIG1pbiwgbWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0ID0gbG9nKHN0YXJ0LCBiYXNlKTtcbiAgICAgICAgZW5kID0gbG9nKGVuZCwgYmFzZSk7XG5cbiAgICAgICAgY29uc3QgcDEgPSBNYXRoLm1pbihzdGFydCwgZW5kKSAtIGxvZ01pbjtcbiAgICAgICAgY29uc3QgcDIgPSBNYXRoLm1heChzdGFydCwgZW5kKSAtIGxvZ01pbjtcblxuICAgICAgICBjb25zdCBzbG90Qm94ID0gbmV3IEJveChsaW5lQm94LngxLCBsaW5lQm94LnkxLCBsaW5lQm94LngxLCBsaW5lQm94LnkxKTtcbiAgICAgICAgc2xvdEJveFtheGlzICsgMV0gPSBsaW1pdENvb3JkaW5hdGUobGluZVN0YXJ0ICsgc3RlcCAqIChheGlzRGlyID4gMCA/IHAxIDogcDIpKTtcbiAgICAgICAgc2xvdEJveFtheGlzICsgMl0gPSBsaW1pdENvb3JkaW5hdGUobGluZVN0YXJ0ICsgc3RlcCAqIChheGlzRGlyID4gMCA/IHAyIDogcDEpKTtcblxuICAgICAgICByZXR1cm4gc2xvdEJveDtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZShwb2ludCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxvZ01pbiwgbG9nTWF4IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG1ham9yVW5pdDogYmFzZSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBheGlzLCBheGlzRGlyLCBsaW5lU3RhcnQsIGxpbmVTaXplIH0gPSB0aGlzLmxpbmVJbmZvKCk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSAoKGxvZ01heCAtIGxvZ01pbikgLyBsaW5lU2l6ZSk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGF4aXNEaXIgKiAocG9pbnRbYXhpc10gLSBsaW5lU3RhcnQpO1xuICAgICAgICBjb25zdCB2YWx1ZU9mZnNldCA9IG9mZnNldCAqIHN0ZXA7XG5cbiAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgb2Zmc2V0ID4gbGluZVNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBsb2dNaW4gKyB2YWx1ZU9mZnNldDtcblxuICAgICAgICByZXR1cm4gcm91bmQoTWF0aC5wb3coYmFzZSwgdmFsdWUpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgfVxuXG4gICAgcmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiB7IG1pbjogb3B0aW9ucy5taW4sIG1heDogb3B0aW9ucy5tYXggfTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGVSYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxvZ01pbiwgbG9nTWF4IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHJldmVyc2UsIHZlcnRpY2FsLCBtYWpvclVuaXQ6IGJhc2UgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBzaXplIC8gKGxvZ01heCAtIGxvZ01pbik7XG4gICAgICAgIGxldCBvZmZzZXQgPSByb3VuZChkZWx0YSAvIHNjYWxlLCBERUZBVUxUX1BSRUNJU0lPTik7XG5cbiAgICAgICAgaWYgKCh2ZXJ0aWNhbCB8fCByZXZlcnNlKSAmJiAhKHZlcnRpY2FsICYmIHJldmVyc2UgKSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IE1hdGgucG93KGJhc2UsIGxvZ01pbiArIG9mZnNldCksXG4gICAgICAgICAgICBtYXg6IE1hdGgucG93KGJhc2UsIGxvZ01heCArIG9mZnNldCksXG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxhYmVsc0NvdW50KCkge1xuICAgICAgICBjb25zdCBmbG9vck1heCA9IE1hdGguZmxvb3IodGhpcy5sb2dNYXgpO1xuICAgICAgICBjb25zdCBjb3VudCA9IE1hdGguZmxvb3IoZmxvb3JNYXggLSB0aGlzLmxvZ01pbikgKyAxO1xuXG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG5cbiAgICBnZXRNYWpvclRpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gW107XG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZU1ham9yVGlja3NQb3NpdGlvbnMoKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICB0aWNrcy5wdXNoKHBvc2l0aW9uKTtcbiAgICAgICAgfSwgeyBzdGVwOiAxLCBza2lwOiAwIH0pO1xuXG4gICAgICAgIHJldHVybiB0aWNrcztcbiAgICB9XG5cbiAgICBjcmVhdGVUaWNrcyhsaW5lR3JvdXApIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBtYWpvclRpY2tzLCBtaW5vclRpY2tzLCB2ZXJ0aWNhbCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgbWlycm9yID0gb3B0aW9ucy5sYWJlbHMubWlycm9yO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gW107XG4gICAgICAgIGNvbnN0IHRpY2tMaW5lT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgICAgIC8vIF9hbGlnbkxpbmVzOiBvcHRpb25zLl9hbGlnbkxpbmVzLFxuICAgICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsXG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyKHRpY2tQb3NpdGlvbiwgdGlja09wdGlvbnMpIHtcbiAgICAgICAgICAgIHRpY2tMaW5lT3B0aW9ucy50aWNrWCA9IG1pcnJvciA/IGxpbmVCb3gueDIgOiBsaW5lQm94LngyIC0gdGlja09wdGlvbnMuc2l6ZTtcbiAgICAgICAgICAgIHRpY2tMaW5lT3B0aW9ucy50aWNrWSA9IG1pcnJvciA/IGxpbmVCb3gueTEgLSB0aWNrT3B0aW9ucy5zaXplIDogbGluZUJveC55MTtcbiAgICAgICAgICAgIHRpY2tMaW5lT3B0aW9ucy5wb3NpdGlvbiA9IHRpY2tQb3NpdGlvbjtcblxuICAgICAgICAgICAgbGluZUdyb3VwLmFwcGVuZChjcmVhdGVBeGlzVGljayh0aWNrTGluZU9wdGlvbnMsIHRpY2tPcHRpb25zKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFqb3JUaWNrcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYXZlcnNlTWFqb3JUaWNrc1Bvc2l0aW9ucyhyZW5kZXIsIG1ham9yVGlja3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pbm9yVGlja3MudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy50cmF2ZXJzZU1pbm9yVGlja3NQb3NpdGlvbnMocmVuZGVyLCBtaW5vclRpY2tzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aWNrcztcbiAgICB9XG5cbiAgICBjcmVhdGVHcmlkTGluZXMoYWx0QXhpcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IG1pbm9yR3JpZExpbmVzLCBtYWpvckdyaWRMaW5lcywgdmVydGljYWwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSBhbHRBeGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbGluZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBsaW5lU3RhcnQ6IGxpbmVCb3hbdmVydGljYWwgPyBcIngxXCIgOiBcInkxXCJdLFxuICAgICAgICAgICAgbGluZUVuZDogbGluZUJveFt2ZXJ0aWNhbCA/IFwieDJcIiA6IFwieTJcIl0sXG4gICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWFqb3JUaWNrcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ3JpZExpbmVzVmlzdWFsKCk7XG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlcih0aWNrUG9zaXRpb24sIGdyaWRMaW5lKSB7XG4gICAgICAgICAgICBpZiAoIWluQXJyYXkodGlja1Bvc2l0aW9uLCBtYWpvclRpY2tzKSkge1xuICAgICAgICAgICAgICAgIGxpbmVPcHRpb25zLnBvc2l0aW9uID0gdGlja1Bvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlQXhpc0dyaWRMaW5lKGxpbmVPcHRpb25zLCBncmlkTGluZSkpO1xuXG4gICAgICAgICAgICAgICAgbWFqb3JUaWNrcy5wdXNoKHRpY2tQb3NpdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFqb3JHcmlkTGluZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy50cmF2ZXJzZU1ham9yVGlja3NQb3NpdGlvbnMocmVuZGVyLCBtYWpvckdyaWRMaW5lcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWlub3JHcmlkTGluZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy50cmF2ZXJzZU1pbm9yVGlja3NQb3NpdGlvbnMocmVuZGVyLCBtaW5vckdyaWRMaW5lcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIHRyYXZlcnNlTWFqb3JUaWNrc1Bvc2l0aW9ucyhjYWxsYmFjaywgdGlja09wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBsaW5lU3RhcnQsIHN0ZXAgfSA9IHRoaXMubGluZUluZm8oKTtcbiAgICAgICAgY29uc3QgeyBsb2dNaW4sIGxvZ01heCB9ID0gdGhpcztcblxuICAgICAgICBmb3IgKGxldCBwb3dlciA9IE1hdGguY2VpbChsb2dNaW4pICsgdGlja09wdGlvbnMuc2tpcDsgcG93ZXIgPD0gbG9nTWF4OyBwb3dlciArPSB0aWNrT3B0aW9ucy5zdGVwKSB7XG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSByb3VuZChsaW5lU3RhcnQgKyBzdGVwICogKHBvd2VyIC0gbG9nTWluKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgICAgICAgICAgY2FsbGJhY2socG9zaXRpb24sIHRpY2tPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyYXZlcnNlTWlub3JUaWNrc1Bvc2l0aW9ucyhjYWxsYmFjaywgdGlja09wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCwgbWlub3JVbml0LCBtYWpvclVuaXQ6IGJhc2UgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBsaW5lU3RhcnQsIHN0ZXAgfSA9IHRoaXMubGluZUluZm8oKTtcbiAgICAgICAgY29uc3QgeyBsb2dNaW4sIGxvZ01heCB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBNYXRoLmZsb29yKGxvZ01pbik7XG5cbiAgICAgICAgZm9yIChsZXQgcG93ZXIgPSBzdGFydDsgcG93ZXIgPCBsb2dNYXg7IHBvd2VyKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbm9yT3B0aW9ucyA9IHRoaXMuX21pbm9ySW50ZXJ2YWxPcHRpb25zKHBvd2VyKTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IHRpY2tPcHRpb25zLnNraXA7IGlkeCA8IG1pbm9yVW5pdDsgaWR4ICs9IHRpY2tPcHRpb25zLnN0ZXApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG1pbm9yT3B0aW9ucy52YWx1ZSArIGlkeCAqIG1pbm9yT3B0aW9ucy5taW5vclN0ZXA7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPj0gbWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gcm91bmQobGluZVN0YXJ0ICsgc3RlcCAqIChsb2codmFsdWUsIGJhc2UpIC0gbG9nTWluKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhwb3NpdGlvbiwgdGlja09wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUF4aXNMYWJlbChpbmRleCwgbGFiZWxPcHRpb25zLCBsYWJlbENvbnRleHQpIHtcbiAgICAgICAgY29uc3QgcG93ZXIgPSBNYXRoLmNlaWwodGhpcy5sb2dNaW4gKyBpbmRleCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gTWF0aC5wb3codGhpcy5vcHRpb25zLm1ham9yVW5pdCwgcG93ZXIpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5heGlzTGFiZWxUZXh0KHZhbHVlLCBsYWJlbE9wdGlvbnMsIGxhYmVsQ29udGV4dCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBeGlzTGFiZWwodmFsdWUsIHRleHQsIGluZGV4LCBudWxsLCBsYWJlbE9wdGlvbnMpO1xuICAgIH1cblxuICAgIHNob3VsZFJlbmRlck5vdGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnJhbmdlKCk7XG4gICAgICAgIHJldHVybiByYW5nZS5taW4gPD0gdmFsdWUgJiYgdmFsdWUgPD0gcmFuZ2UubWF4O1xuICAgIH1cblxuICAgIHBhbihkZWx0YSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudHJhbnNsYXRlUmFuZ2UoZGVsdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5saW1pdFJhbmdlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCB0aGlzLnRvdGFsTWluLCB0aGlzLnRvdGFsTWF4LCByYW5nZS5vZmZzZXQpO1xuICAgIH1cblxuICAgIHBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoc3RhcnQpO1xuICAgICAgICBjb25zdCBlbmRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoZW5kKTtcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4oc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzY2FsZVJhbmdlKHNjYWxlLCBjdXJzb3IpIHtcbiAgICAgICAgY29uc3QgeyBtYWpvclVuaXQ6IGJhc2UgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbG9nTWluID0gbG9nKHRoaXMub3B0aW9ucy5taW4sIGJhc2UpO1xuICAgICAgICBjb25zdCBsb2dNYXggPSBsb2codGhpcy5vcHRpb25zLm1heCwgYmFzZSk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5hYnModGhpcy5wb2ludE9mZnNldChjdXJzb3IpKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBsb2dNYXggLSBsb2dNaW47XG4gICAgICAgIGNvbnN0IGRlbHRhID0gdGhpcy5zY2FsZVRvRGVsdGEoc2NhbGUsIHJhbmdlKTtcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5wb3coYmFzZSwgbG9nTWluICsgcG9zaXRpb24gKiBkZWx0YSk7XG4gICAgICAgIGxldCBtYXggPSBNYXRoLnBvdyhiYXNlLCBsb2dNYXggLSAoMSAtIHBvc2l0aW9uKSAqIGRlbHRhKTtcblxuICAgICAgICBpZiAobWF4IC0gbWluIDwgTUlOX1ZBTFVFX1JBTkdFKSB7XG4gICAgICAgICAgICBtYXggPSBtaW4gKyBNSU5fVkFMVUVfUkFOR0U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHpvb21SYW5nZShzY2FsZSwgY3Vyc29yKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5zY2FsZVJhbmdlKHNjYWxlLCBjdXJzb3IpO1xuICAgICAgICBjb25zdCB7IHRvdGFsTWluLCB0b3RhbE1heCB9ID0gdGhpcztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBsaW1pdFZhbHVlKHJhbmdlLm1pbiwgdG90YWxNaW4sIHRvdGFsTWF4KSxcbiAgICAgICAgICAgIG1heDogbGltaXRWYWx1ZShyYW5nZS5tYXgsIHRvdGFsTWluLCB0b3RhbE1heClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfbWlub3JJbnRlcnZhbE9wdGlvbnMocG93ZXIpIHtcbiAgICAgICAgY29uc3QgeyBtaW5vclVuaXQsIG1ham9yVW5pdDogYmFzZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgucG93KGJhc2UsIHBvd2VyKTtcbiAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gTWF0aC5wb3coYmFzZSwgcG93ZXIgKyAxKTtcbiAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IG5leHRWYWx1ZSAtIHZhbHVlO1xuICAgICAgICBjb25zdCBtaW5vclN0ZXAgPSBkaWZmZXJlbmNlIC8gbWlub3JVbml0O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBtaW5vclN0ZXA6IG1pbm9yU3RlcFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxpbmVJbmZvKCkge1xuICAgICAgICBjb25zdCBpbmZvID0gc3VwZXIubGluZUluZm8oKTtcbiAgICAgICAgaW5mby5zdGVwID0gaW5mby5heGlzRGlyICogKGluZm8ubGluZVNpemUgLyAodGhpcy5sb2dNYXggLSB0aGlzLmxvZ01pbikpO1xuXG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdFJhbmdlKGF1dG9NaW4sIGF1dG9NYXgsIGF4aXNPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgbGV0IHsgbWluLCBtYXggfSA9IGF4aXNPcHRpb25zO1xuXG4gICAgaWYgKGRlZmluZWQoYXhpc09wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWUpICYmIGF4aXNPcHRpb25zLmF4aXNDcm9zc2luZ1ZhbHVlIDw9IDApIHtcbiAgICAgICAgdGhyb3dOZWdhdGl2ZVZhbHVlc0Vycm9yKCk7XG4gICAgfVxuXG4gICAgaWYgKCFkZWZpbmVkKG9wdGlvbnMubWF4KSkge1xuICAgICAgICBtYXggPSBhdXRvTWF4O1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tYXggPD0gMCkge1xuICAgICAgICB0aHJvd05lZ2F0aXZlVmFsdWVzRXJyb3IoKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlZmluZWQob3B0aW9ucy5taW4pKSB7XG4gICAgICAgIG1pbiA9IGF1dG9NaW47XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLm1pbiA8PSAwKSB7XG4gICAgICAgIHRocm93TmVnYXRpdmVWYWx1ZXNFcnJvcigpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogbWluLFxuICAgICAgICBtYXg6IG1heFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGF1dG9BeGlzTWluKG1pbiwgbWF4LCBvcHRpb25zKSB7XG4gICAgY29uc3QgYmFzZSA9IG9wdGlvbnMubWFqb3JVbml0O1xuICAgIGxldCBhdXRvTWluID0gbWluO1xuICAgIGlmIChtaW4gPD0gMCkge1xuICAgICAgICBhdXRvTWluID0gbWF4IDw9IDEgPyBNYXRoLnBvdyhiYXNlLCAtMikgOiAxO1xuICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMubmFycm93UmFuZ2UpIHtcbiAgICAgICAgYXV0b01pbiA9IE1hdGgucG93KGJhc2UsIE1hdGguZmxvb3IobG9nKG1pbiwgYmFzZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGF1dG9NaW47XG59XG5cbmZ1bmN0aW9uIGF1dG9BeGlzTWF4KG1heCwgYmFzZSkge1xuICAgIGNvbnN0IGxvZ01heFJlbWFpbmRlciA9IHJvdW5kKGxvZyhtYXgsIGJhc2UpLCBERUZBVUxUX1BSRUNJU0lPTikgJSAxO1xuICAgIGxldCBhdXRvTWF4O1xuICAgIGlmIChtYXggPD0gMCkge1xuICAgICAgICBhdXRvTWF4ID0gYmFzZTtcbiAgICB9IGVsc2UgaWYgKGxvZ01heFJlbWFpbmRlciAhPT0gMCAmJiAobG9nTWF4UmVtYWluZGVyIDwgMC4zIHx8IGxvZ01heFJlbWFpbmRlciA+IDAuOSkpIHtcbiAgICAgICAgYXV0b01heCA9IE1hdGgucG93KGJhc2UsIGxvZyhtYXgsIGJhc2UpICsgMC4yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhdXRvTWF4ID0gTWF0aC5wb3coYmFzZSwgTWF0aC5jZWlsKGxvZyhtYXgsIGJhc2UpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF1dG9NYXg7XG59XG5cbmZ1bmN0aW9uIHRocm93TmVnYXRpdmVWYWx1ZXNFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb24gcG9zaXRpdmUgdmFsdWVzIGNhbm5vdCBiZSB1c2VkIGZvciBhIGxvZ2FyaXRobWljIGF4aXNcIik7XG59XG5cbmZ1bmN0aW9uIGxvZyh4LCBiYXNlKSB7XG4gICAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5sb2coYmFzZSk7XG59XG5cbnNldERlZmF1bHRPcHRpb25zKExvZ2FyaXRobWljQXhpcywge1xuICAgIHR5cGU6IFwibG9nXCIsXG4gICAgbWFqb3JVbml0OiBERUZBVUxUX01BSk9SX1VOSVQsXG4gICAgbWlub3JVbml0OiAxLFxuICAgIGF4aXNDcm9zc2luZ1ZhbHVlOiAxLFxuICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0tcbiAgICB9LFxuICAgIHpJbmRleDogMSxcbiAgICBfZGVmZXJMYWJlbHM6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBMb2dhcml0aG1pY0F4aXM7XG4iLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tLCBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IGFwcGVuZCwgbWFwIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgR3JpZExpbmVzTWl4aW4gPSB7XG4gICAgY3JlYXRlR3JpZExpbmVzOiBmdW5jdGlvbihhbHRBeGlzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGguYWJzKHRoaXMuYm94LmNlbnRlcigpLnkgLSBhbHRBeGlzLmxpbmVCb3goKS55MSk7XG4gICAgICAgIGxldCBncmlkTGluZXMgPSBbXTtcbiAgICAgICAgbGV0IHNraXBNYWpvciA9IGZhbHNlO1xuICAgICAgICBsZXQgbWFqb3JBbmdsZXMsIG1pbm9yQW5nbGVzO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1ham9yR3JpZExpbmVzLnZpc2libGUpIHtcbiAgICAgICAgICAgIG1ham9yQW5nbGVzID0gdGhpcy5tYWpvckdyaWRMaW5lQW5nbGVzKGFsdEF4aXMpO1xuICAgICAgICAgICAgc2tpcE1ham9yID0gdHJ1ZTtcblxuICAgICAgICAgICAgZ3JpZExpbmVzID0gdGhpcy5yZW5kZXJNYWpvckdyaWRMaW5lcyhcbiAgICAgICAgICAgICAgICBtYWpvckFuZ2xlcywgcmFkaXVzLCBvcHRpb25zLm1ham9yR3JpZExpbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWlub3JHcmlkTGluZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgbWlub3JBbmdsZXMgPSB0aGlzLm1pbm9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcywgc2tpcE1ham9yKTtcblxuICAgICAgICAgICAgYXBwZW5kKGdyaWRMaW5lcywgdGhpcy5yZW5kZXJNaW5vckdyaWRMaW5lcyhcbiAgICAgICAgICAgICAgICBtaW5vckFuZ2xlcywgcmFkaXVzLCBvcHRpb25zLm1pbm9yR3JpZExpbmVzLCBhbHRBeGlzLCBza2lwTWFqb3JcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyaWRMaW5lcztcbiAgICB9LFxuXG4gICAgcmVuZGVyTWFqb3JHcmlkTGluZXM6IGZ1bmN0aW9uKGFuZ2xlcywgcmFkaXVzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckdyaWRMaW5lcyhhbmdsZXMsIHJhZGl1cywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIHJlbmRlck1pbm9yR3JpZExpbmVzOiBmdW5jdGlvbihhbmdsZXMsIHJhZGl1cywgb3B0aW9ucywgYWx0QXhpcywgc2tpcE1ham9yKSB7XG4gICAgICAgIGNvbnN0IHJhZGl1c0NhbGxiYWNrID0gdGhpcy5yYWRpdXNDYWxsYmFjayAmJiB0aGlzLnJhZGl1c0NhbGxiYWNrKHJhZGl1cywgYWx0QXhpcywgc2tpcE1ham9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyR3JpZExpbmVzKGFuZ2xlcywgcmFkaXVzLCBvcHRpb25zLCByYWRpdXNDYWxsYmFjayk7XG4gICAgfSxcblxuICAgIHJlbmRlckdyaWRMaW5lczogZnVuY3Rpb24oYW5nbGVzLCByYWRpdXMsIG9wdGlvbnMsIHJhZGl1c0NhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gbmV3IGdlb20uQ2lyY2xlKFsgY2VudGVyLngsIGNlbnRlci55IF0sIHJhZGl1cyk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ3JpZExpbmVzVmlzdWFsKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgICAgIGlmIChyYWRpdXNDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNpcmNsZS5yYWRpdXMgPSByYWRpdXNDYWxsYmFjayhhbmdsZXNbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lLm1vdmVUbyhjaXJjbGUuY2VudGVyKVxuICAgICAgICAgICAgICAgIC5saW5lVG8oY2lyY2xlLnBvaW50QXQoYW5nbGVzW2ldICsgMTgwKSk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQobGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgIH0sXG5cbiAgICBncmlkTGluZUFuZ2xlczogZnVuY3Rpb24oYWx0QXhpcywgc2l6ZSwgc2tpcCwgc3RlcCwgc2tpcEFuZ2xlcykge1xuICAgICAgICBjb25zdCBkaXZzID0gdGhpcy5pbnRlcnZhbHMoc2l6ZSwgc2tpcCwgc3RlcCwgc2tpcEFuZ2xlcyk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhbHRBeGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFsdEF4aXNWaXNpYmxlID0gb3B0aW9ucy52aXNpYmxlICYmIChvcHRpb25zLmxpbmUgfHwge30pLnZpc2libGUgIT09IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBtYXAoZGl2cywgKGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFscGhhID0gdGhpcy5pbnRlcnZhbEFuZ2xlKGQpO1xuXG4gICAgICAgICAgICBpZiAoIWFsdEF4aXNWaXNpYmxlIHx8IGFscGhhICE9PSA5MCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhbHBoYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgR3JpZExpbmVzTWl4aW47IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSwgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgR3JpZExpbmVzTWl4aW4gZnJvbSAnLi9taXhpbnMvZ3JpZC1saW5lcy1taXhpbic7XG5pbXBvcnQgQ2F0ZWdvcnlBeGlzIGZyb20gJy4vY2F0ZWdvcnktYXhpcyc7XG5pbXBvcnQgU2hhcGVCdWlsZGVyIGZyb20gJy4vc2hhcGUtYnVpbGRlcic7XG5pbXBvcnQgUmluZyBmcm9tICcuL3JpbmcnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCB7IENPT1JEX1BSRUNJU0lPTiwgQVJDIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBnZXRTcGFjaW5nLCBpbkFycmF5LCBsaW1pdFZhbHVlLCBtYXAsIHJhZCwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUmFkYXJDYXRlZ29yeUF4aXMgZXh0ZW5kcyBDYXRlZ29yeUF4aXMge1xuICAgIHJhbmdlKCkge1xuICAgICAgICByZXR1cm4geyBtaW46IDAsIG1heDogdGhpcy5vcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoIH07XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICB0aGlzLmJveCA9IGJveDtcbiAgICAgICAgdGhpcy5yZWZsb3dMYWJlbHMoKTtcbiAgICB9XG5cbiAgICBsaW5lQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgcmVmbG93TGFiZWxzKCkge1xuICAgICAgICBjb25zdCB7IGxhYmVscywgb3B0aW9uczogeyBsYWJlbHM6IGxhYmVsT3B0aW9ucyB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBza2lwID0gbGFiZWxPcHRpb25zLnNraXAgfHwgMDtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGxhYmVsT3B0aW9ucy5zdGVwIHx8IDE7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVCb3ggPSBuZXcgQm94KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxhYmVsc1tpXS5yZWZsb3cobWVhc3VyZUJveCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbEJveCA9IGxhYmVsc1tpXS5ib3g7XG5cbiAgICAgICAgICAgIGxhYmVsc1tpXS5yZWZsb3codGhpcy5nZXRTbG90KHNraXAgKyBpICogc3RlcCkuYWRqYWNlbnRCb3goXG4gICAgICAgICAgICAgICAgMCwgbGFiZWxCb3gud2lkdGgoKSwgbGFiZWxCb3guaGVpZ2h0KClcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW50ZXJ2YWxzKHNpemUsIHNraXBPcHRpb24sIHN0ZXBPcHRpb24sIHNraXBBbmdsZXMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gb3B0aW9ucy5jYXRlZ29yaWVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZGl2Q291bnQgPSBjYXRlZ29yaWVzIC8gc2l6ZSB8fCAxO1xuICAgICAgICBjb25zdCBkaXZBbmdsZSA9IDM2MCAvIGRpdkNvdW50O1xuICAgICAgICBjb25zdCBza2lwID0gc2tpcE9wdGlvbiB8fCAwO1xuICAgICAgICBjb25zdCBzdGVwID0gc3RlcE9wdGlvbiB8fCAxO1xuICAgICAgICBjb25zdCBkaXZzID0gW107XG4gICAgICAgIGxldCBhbmdsZSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHNraXA7IGkgPCBkaXZDb3VudDsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAzNjAgLSBpICogZGl2QW5nbGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuZ2xlID0gaSAqIGRpdkFuZ2xlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhbmdsZSA9IHJvdW5kKGFuZ2xlLCBDT09SRF9QUkVDSVNJT04pICUgMzYwO1xuXG4gICAgICAgICAgICBpZiAoIShza2lwQW5nbGVzICYmIGluQXJyYXkoYW5nbGUsIHNraXBBbmdsZXMpKSkge1xuICAgICAgICAgICAgICAgIGRpdnMucHVzaChhbmdsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGl2cztcbiAgICB9XG5cbiAgICBtYWpvckludGVydmFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxzKDEpO1xuICAgIH1cblxuICAgIG1pbm9ySW50ZXJ2YWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHMoMC41KTtcbiAgICB9XG5cbiAgICBpbnRlcnZhbEFuZ2xlKGludGVydmFsKSB7XG4gICAgICAgIHJldHVybiAoMzYwICsgaW50ZXJ2YWwgKyB0aGlzLm9wdGlvbnMuc3RhcnRBbmdsZSkgJSAzNjA7XG4gICAgfVxuXG4gICAgbWFqb3JBbmdsZXMoKSB7XG4gICAgICAgIHJldHVybiBtYXAodGhpcy5tYWpvckludGVydmFscygpLCAoaW50ZXJ2YWwpID0+IHRoaXMuaW50ZXJ2YWxBbmdsZShpbnRlcnZhbCkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmUoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBtYWpvckdyaWRMaW5lQW5nbGVzKGFsdEF4aXMpIHtcbiAgICAgICAgY29uc3QgbWFqb3JHcmlkTGluZXMgPSB0aGlzLm9wdGlvbnMubWFqb3JHcmlkTGluZXM7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWRMaW5lQW5nbGVzKGFsdEF4aXMsIDEsIG1ham9yR3JpZExpbmVzLnNraXAsIG1ham9yR3JpZExpbmVzLnN0ZXApO1xuICAgIH1cblxuICAgIG1pbm9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcywgc2tpcE1ham9yKSB7XG4gICAgICAgIGNvbnN0IHsgbWlub3JHcmlkTGluZXMsIG1ham9yR3JpZExpbmVzIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1ham9yR3JpZExpbmVBbmdsZXMgPSBza2lwTWFqb3IgPyB0aGlzLmludGVydmFscygxLCBtYWpvckdyaWRMaW5lcy5za2lwLCBtYWpvckdyaWRMaW5lcy5zdGVwKSA6IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZExpbmVBbmdsZXMoYWx0QXhpcywgMC41LCBtaW5vckdyaWRMaW5lcy5za2lwLCBtaW5vckdyaWRMaW5lcy5zdGVwLCBtYWpvckdyaWRMaW5lQW5nbGVzKTtcbiAgICB9XG5cbiAgICByYWRpdXNDYWxsYmFjayhyYWRpdXMsIGFsdEF4aXMsIHNraXBNYWpvcikge1xuICAgICAgICBpZiAoYWx0QXhpcy5vcHRpb25zLnR5cGUgIT09IEFSQykge1xuICAgICAgICAgICAgY29uc3QgbWlub3JBbmdsZSA9IHJhZCgzNjAgLyAodGhpcy5vcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoICogMikpO1xuICAgICAgICAgICAgY29uc3QgbWlub3JSYWRpdXMgPSBNYXRoLmNvcyhtaW5vckFuZ2xlKSAqIHJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IG1ham9yQW5nbGVzID0gdGhpcy5tYWpvckFuZ2xlcygpO1xuXG4gICAgICAgICAgICBjb25zdCByYWRpdXNDYWxsYmFjayA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFza2lwTWFqb3IgJiYgaW5BcnJheShhbmdsZSwgbWFqb3JBbmdsZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByYWRpdXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pbm9yUmFkaXVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByYWRpdXNDYWxsYmFjaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVBsb3RCYW5kcygpIHtcbiAgICAgICAgY29uc3QgcGxvdEJhbmRzID0gdGhpcy5vcHRpb25zLnBsb3RCYW5kcyB8fCBbXTtcblxuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuX3Bsb3RiYW5kR3JvdXAgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB6SW5kZXg6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxvdEJhbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiYW5kID0gcGxvdEJhbmRzW2ldO1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMucGxvdEJhbmRTbG90KGJhbmQpO1xuICAgICAgICAgICAgY29uc3Qgc2luZ2xlU2xvdCA9IHRoaXMuZ2V0U2xvdChiYW5kLmZyb20pO1xuXG4gICAgICAgICAgICBjb25zdCBoZWFkID0gYmFuZC5mcm9tIC0gTWF0aC5mbG9vcihiYW5kLmZyb20pO1xuICAgICAgICAgICAgc2xvdC5zdGFydEFuZ2xlICs9IGhlYWQgKiBzaW5nbGVTbG90LmFuZ2xlO1xuXG4gICAgICAgICAgICBjb25zdCB0YWlsID0gTWF0aC5jZWlsKGJhbmQudG8pIC0gYmFuZC50bztcbiAgICAgICAgICAgIHNsb3QuYW5nbGUgLT0gKHRhaWwgKyBoZWFkKSAqIHNpbmdsZVNsb3QuYW5nbGU7XG5cbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSBTaGFwZUJ1aWxkZXIuY3VycmVudC5jcmVhdGVSaW5nKHNsb3QsIHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBiYW5kLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBiYW5kLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBiYW5kLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZChyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKGdyb3VwKTtcbiAgICB9XG5cbiAgICBwbG90QmFuZFNsb3QoYmFuZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbG90KGJhbmQuZnJvbSwgYmFuZC50byAtIDEpO1xuICAgIH1cblxuICAgIGdldFNsb3QoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QganVzdGlmaWVkID0gb3B0aW9ucy5qdXN0aWZpZWQ7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94O1xuICAgICAgICBjb25zdCBkaXZzID0gdGhpcy5tYWpvckFuZ2xlcygpO1xuICAgICAgICBjb25zdCB0b3RhbERpdnMgPSBkaXZzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc2xvdEFuZ2xlID0gMzYwIC8gdG90YWxEaXZzO1xuICAgICAgICBsZXQgZnJvbVZhbHVlID0gZnJvbTtcblxuICAgICAgICBpZiAob3B0aW9ucy5yZXZlcnNlICYmICFqdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IChmcm9tVmFsdWUgKyAxKSAlIHRvdGFsRGl2cztcbiAgICAgICAgfVxuXG4gICAgICAgIGZyb21WYWx1ZSA9IGxpbWl0VmFsdWUoTWF0aC5mbG9vcihmcm9tVmFsdWUpLCAwLCB0b3RhbERpdnMgLSAxKTtcbiAgICAgICAgbGV0IHNsb3RTdGFydCA9IGRpdnNbZnJvbVZhbHVlXTtcblxuICAgICAgICBpZiAoanVzdGlmaWVkKSB7XG4gICAgICAgICAgICBzbG90U3RhcnQgPSBzbG90U3RhcnQgLSBzbG90QW5nbGUgLyAyO1xuXG4gICAgICAgICAgICBpZiAoc2xvdFN0YXJ0IDwgMCkge1xuICAgICAgICAgICAgICAgIHNsb3RTdGFydCArPSAzNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b1ZhbHVlID0gbGltaXRWYWx1ZShNYXRoLmNlaWwodG8gfHwgZnJvbVZhbHVlKSwgZnJvbVZhbHVlLCB0b3RhbERpdnMgLSAxKTtcbiAgICAgICAgY29uc3Qgc2xvdHMgPSB0b1ZhbHVlIC0gZnJvbVZhbHVlICsgMTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBzbG90QW5nbGUgKiBzbG90cztcblxuICAgICAgICByZXR1cm4gbmV3IFJpbmcoYm94LmNlbnRlcigpLCAwLCBib3guaGVpZ2h0KCkgLyAyLCBzbG90U3RhcnQsIGFuZ2xlKTtcbiAgICB9XG5cbiAgICBzbG90KGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3QoZnJvbSwgdG8pO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gc2xvdC5zdGFydEFuZ2xlICsgMTgwO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBzbG90LmFuZ2xlO1xuXG4gICAgICAgIHJldHVybiBuZXcgZ2VvbS5BcmMoWyBzbG90LmNlbnRlci54LCBzbG90LmNlbnRlci55IF0sIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGUsXG4gICAgICAgICAgICByYWRpdXNYOiBzbG90LnJhZGl1cyxcbiAgICAgICAgICAgIHJhZGl1c1k6IHNsb3QucmFkaXVzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvaW50Q2F0ZWdvcnlJbmRleChwb2ludCkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgICAgIGxldCBpbmRleCA9IG51bGw7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuZ2V0U2xvdChpKTtcbiAgICAgICAgICAgIGlmIChzbG90LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkYXJDYXRlZ29yeUF4aXMsIHtcbiAgICBzdGFydEFuZ2xlOiA5MCxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgbWFyZ2luOiBnZXRTcGFjaW5nKDEwKVxuICAgIH0sXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG4gICAganVzdGlmaWVkOiB0cnVlXG59KTtcbmRlZXBFeHRlbmQoUmFkYXJDYXRlZ29yeUF4aXMucHJvdG90eXBlLCBHcmlkTGluZXNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyQ2F0ZWdvcnlBeGlzOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCBHcmlkTGluZXNNaXhpbiBmcm9tICcuL21peGlucy9ncmlkLWxpbmVzLW1peGluJztcbmltcG9ydCBSYWRhckNhdGVnb3J5QXhpcyBmcm9tICcuL3JhZGFyLWNhdGVnb3J5LWF4aXMnO1xuaW1wb3J0IE51bWVyaWNBeGlzIGZyb20gJy4vbnVtZXJpYy1heGlzJztcbmltcG9ydCBBeGlzIGZyb20gJy4vYXhpcyc7XG5pbXBvcnQgUmluZyBmcm9tICcuL3JpbmcnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCB7IEJMQUNLIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWcsIGdldFNwYWNpbmcsIGluQXJyYXksIGxpbWl0VmFsdWUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUG9sYXJBeGlzIGV4dGVuZHMgQXhpcyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMsIGNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgY29uc3QgaW5zdGFuY2VPcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGluc3RhbmNlT3B0aW9ucy5taW5vclVuaXQgPSBpbnN0YW5jZU9wdGlvbnMubWlub3JVbml0IHx8IGluc3RhbmNlT3B0aW9ucy5tYWpvclVuaXQgLyAyO1xuICAgIH1cblxuICAgIGdldERpdmlzaW9ucyhzdGVwVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE51bWVyaWNBeGlzLnByb3RvdHlwZS5nZXREaXZpc2lvbnMuY2FsbCh0aGlzLCBzdGVwVmFsdWUpIC0gMTtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIHRoaXMuYm94ID0gYm94O1xuICAgICAgICB0aGlzLnJlZmxvd0xhYmVscygpO1xuICAgIH1cblxuICAgIHJlZmxvd0xhYmVscygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsYWJlbHMsIG9wdGlvbnM6IHsgbGFiZWxzOiBsYWJlbE9wdGlvbnMgfSB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc2tpcCA9IGxhYmVsT3B0aW9ucy5za2lwIHx8IDA7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBsYWJlbE9wdGlvbnMuc3RlcCB8fCAxO1xuXG4gICAgICAgIGNvbnN0IG1lYXN1cmVCb3ggPSBuZXcgQm94KCk7XG4gICAgICAgIGNvbnN0IGRpdnMgPSB0aGlzLmludGVydmFscyhvcHRpb25zLm1ham9yVW5pdCwgc2tpcCwgc3RlcCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxhYmVsc1tpXS5yZWZsb3cobWVhc3VyZUJveCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbEJveCA9IGxhYmVsc1tpXS5ib3g7XG5cbiAgICAgICAgICAgIGxhYmVsc1tpXS5yZWZsb3codGhpcy5nZXRTbG90KGRpdnNbaV0pLmFkamFjZW50Qm94KDAsIGxhYmVsQm94LndpZHRoKCksIGxhYmVsQm94LmhlaWdodCgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsaW5lQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgaW50ZXJ2YWxzKHNpemUsIHNraXBPcHRpb24sIHN0ZXBPcHRpb24sIHNraXBBbmdsZXMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLm9wdGlvbnMubWluO1xuICAgICAgICBjb25zdCBkaXZpc2lvbnMgPSB0aGlzLmdldERpdmlzaW9ucyhzaXplKTtcbiAgICAgICAgY29uc3QgZGl2cyA9IFtdO1xuICAgICAgICBjb25zdCBza2lwID0gc2tpcE9wdGlvbiB8fCAwO1xuICAgICAgICBjb25zdCBzdGVwID0gc3RlcE9wdGlvbiB8fCAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBza2lwOyBpIDwgZGl2aXNpb25zOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSAoMzYwICsgbWluICsgaSAqIHNpemUpICUgMzYwO1xuICAgICAgICAgICAgaWYgKCEoc2tpcEFuZ2xlcyAmJiBpbkFycmF5KGN1cnJlbnQsIHNraXBBbmdsZXMpKSkge1xuICAgICAgICAgICAgICAgIGRpdnMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkaXZzO1xuICAgIH1cblxuICAgIG1ham9ySW50ZXJ2YWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHModGhpcy5vcHRpb25zLm1ham9yVW5pdCk7XG4gICAgfVxuXG4gICAgbWlub3JJbnRlcnZhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVydmFscyh0aGlzLm9wdGlvbnMubWlub3JVbml0KTtcbiAgICB9XG5cbiAgICBpbnRlcnZhbEFuZ2xlKGkpIHtcbiAgICAgICAgcmV0dXJuICg1NDAgLSBpIC0gdGhpcy5vcHRpb25zLnN0YXJ0QW5nbGUpICUgMzYwO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmUoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBtYWpvckdyaWRMaW5lQW5nbGVzKGFsdEF4aXMpIHtcbiAgICAgICAgY29uc3QgbWFqb3JHcmlkTGluZXMgPSB0aGlzLm9wdGlvbnMubWFqb3JHcmlkTGluZXM7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWRMaW5lQW5nbGVzKGFsdEF4aXMsIHRoaXMub3B0aW9ucy5tYWpvclVuaXQsIG1ham9yR3JpZExpbmVzLnNraXAsIG1ham9yR3JpZExpbmVzLnN0ZXApO1xuICAgIH1cblxuICAgIG1pbm9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcywgc2tpcE1ham9yKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgbWlub3JHcmlkTGluZXMsIG1ham9yR3JpZExpbmVzIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBtYWpvckdyaWRMaW5lQW5nbGVzID0gc2tpcE1ham9yID8gdGhpcy5pbnRlcnZhbHMob3B0aW9ucy5tYWpvclVuaXQsIG1ham9yR3JpZExpbmVzLnNraXAsIG1ham9yR3JpZExpbmVzLnN0ZXApIDogbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5ncmlkTGluZUFuZ2xlcyhhbHRBeGlzLCBvcHRpb25zLm1pbm9yVW5pdCwgbWlub3JHcmlkTGluZXMuc2tpcCwgbWlub3JHcmlkTGluZXMuc3RlcCwgbWFqb3JHcmlkTGluZUFuZ2xlcyk7XG4gICAgfVxuXG4gICAgcGxvdEJhbmRTbG90KGJhbmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2xvdChiYW5kLmZyb20sIGJhbmQudG8pO1xuICAgIH1cblxuICAgIGdldFNsb3QoYSwgYikge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGJveCB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IG9wdGlvbnMuc3RhcnRBbmdsZTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gbGltaXRWYWx1ZShhLCBvcHRpb25zLm1pbiwgb3B0aW9ucy5tYXgpO1xuICAgICAgICBsZXQgZW5kID0gbGltaXRWYWx1ZShiIHx8IHN0YXJ0LCBzdGFydCwgb3B0aW9ucy5tYXgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgIHN0YXJ0ICo9IC0xO1xuICAgICAgICAgICAgZW5kICo9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnQgPSAoNTQwIC0gc3RhcnQgLSBzdGFydEFuZ2xlKSAlIDM2MDtcbiAgICAgICAgZW5kID0gKDU0MCAtIGVuZCAtIHN0YXJ0QW5nbGUpICUgMzYwO1xuXG4gICAgICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gc3RhcnQ7XG4gICAgICAgICAgICBzdGFydCA9IGVuZDtcbiAgICAgICAgICAgIGVuZCA9IHRtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUmluZyhib3guY2VudGVyKCksIDAsIGJveC5oZWlnaHQoKSAvIDIsIHN0YXJ0LCBlbmQgLSBzdGFydCk7XG4gICAgfVxuXG4gICAgc2xvdChmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3RhcnQgPSAzNjAgLSBvcHRpb25zLnN0YXJ0QW5nbGU7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3QoZnJvbSwgdG8pO1xuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihmcm9tLCB0byk7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHN0YXJ0QW5nbGUsIGVuZEFuZ2xlO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgPSBtaW47XG4gICAgICAgICAgICBlbmRBbmdsZSA9IG1heDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgPSAzNjAgLSBtYXg7XG4gICAgICAgICAgICBlbmRBbmdsZSA9IDM2MCAtIG1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0QW5nbGUgPSAoc3RhcnRBbmdsZSArIHN0YXJ0KSAlIDM2MDtcbiAgICAgICAgZW5kQW5nbGUgPSAoZW5kQW5nbGUgKyBzdGFydCkgJSAzNjA7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBnZW9tLkFyYyhbIHNsb3QuY2VudGVyLngsIHNsb3QuY2VudGVyLnkgXSwge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgICAgIHJhZGl1c1g6IHNsb3QucmFkaXVzLFxuICAgICAgICAgICAgcmFkaXVzWTogc2xvdC5yYWRpdXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUocG9pbnQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGNlbnRlci54O1xuICAgICAgICBjb25zdCBkeSA9IHBvaW50LnkgLSBjZW50ZXIueTtcbiAgICAgICAgbGV0IHRoZXRhID0gTWF0aC5yb3VuZChkZWcoTWF0aC5hdGFuMihkeSwgZHgpKSk7XG4gICAgICAgIGxldCBzdGFydCA9IG9wdGlvbnMuc3RhcnRBbmdsZTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgICAgICAgdGhldGEgKj0gLTE7XG4gICAgICAgICAgICBzdGFydCAqPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhldGEgKyBzdGFydCArIDM2MCkgJSAzNjA7XG4gICAgfVxuXG4gICAgdmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogTWF0aC5QSSAqIDJcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBvbGFyQXhpcywge1xuICAgIHR5cGU6IFwicG9sYXJcIixcbiAgICBzdGFydEFuZ2xlOiAwLFxuICAgIHJldmVyc2U6IGZhbHNlLFxuICAgIG1ham9yVW5pdDogNjAsXG4gICAgbWluOiAwLFxuICAgIG1heDogMzYwLFxuICAgIGxhYmVsczoge1xuICAgICAgICBtYXJnaW46IGdldFNwYWNpbmcoMTApXG4gICAgfSxcbiAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBtaW5vckdyaWRMaW5lczoge1xuICAgICAgICBjb2xvcjogXCIjYWFhXCJcbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChQb2xhckF4aXMucHJvdG90eXBlLCBHcmlkTGluZXNNaXhpbiwge1xuICAgIGNyZWF0ZVBsb3RCYW5kczogUmFkYXJDYXRlZ29yeUF4aXMucHJvdG90eXBlLmNyZWF0ZVBsb3RCYW5kcyxcbiAgICBtYWpvckFuZ2xlczogUmFkYXJDYXRlZ29yeUF4aXMucHJvdG90eXBlLm1ham9yQW5nbGVzLFxuICAgIHJhbmdlOiBOdW1lcmljQXhpcy5wcm90b3R5cGUucmFuZ2UsXG4gICAgbGFiZWxzQ291bnQ6IE51bWVyaWNBeGlzLnByb3RvdHlwZS5sYWJlbHNDb3VudCxcbiAgICBjcmVhdGVBeGlzTGFiZWw6IE51bWVyaWNBeGlzLnByb3RvdHlwZS5jcmVhdGVBeGlzTGFiZWxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2xhckF4aXM7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSwgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgU2hhcGVCdWlsZGVyIGZyb20gJy4uL3NoYXBlLWJ1aWxkZXInO1xuaW1wb3J0IFJpbmcgZnJvbSAnLi4vcmluZyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vcG9pbnQnO1xuXG5pbXBvcnQgeyBBUkMgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFwcGVuZCwgZGVnLCByYWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBSYWRhck51bWVyaWNBeGlzTWl4aW4gPSB7XG4gICAgb3B0aW9uczoge1xuICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVBsb3RCYW5kczogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgbWFqb3JHcmlkTGluZXM6IHsgdHlwZSB9LCBwbG90QmFuZHMgPSBbXSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBhbHRBeGlzID0gdGhpcy5wbG90QXJlYS5wb2xhckF4aXM7XG4gICAgICAgIGNvbnN0IG1ham9yQW5nbGVzID0gYWx0QXhpcy5tYWpvckFuZ2xlcygpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBhbHRBeGlzLmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9wbG90YmFuZEdyb3VwID0gbmV3IGRyYXcuR3JvdXAoe1xuICAgICAgICAgICAgekluZGV4OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsb3RCYW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYmFuZCA9IHBsb3RCYW5kc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGJhbmRTdHlsZSA9IHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBiYW5kLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBiYW5kLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBiYW5kLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5nZXRTbG90KGJhbmQuZnJvbSwgYmFuZC50bywgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCByaW5nID0gbmV3IFJpbmcoY2VudGVyLCBjZW50ZXIueSAtIHNsb3QueTIsIGNlbnRlci55IC0gc2xvdC55MSwgMCwgMzYwKTtcblxuICAgICAgICAgICAgbGV0IHNoYXBlO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IEFSQykge1xuICAgICAgICAgICAgICAgIHNoYXBlID0gU2hhcGVCdWlsZGVyLmN1cnJlbnQuY3JlYXRlUmluZyhyaW5nLCBiYW5kU3R5bGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaGFwZSA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMucGxvdEJhbmRQb2ludHMocmluZywgbWFqb3JBbmdsZXMpLCBiYW5kU3R5bGUpLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZChzaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGVuZFZpc3VhbChncm91cCk7XG4gICAgfSxcblxuICAgIHBsb3RCYW5kUG9pbnRzOiBmdW5jdGlvbihyaW5nLCBhbmdsZXMpIHtcbiAgICAgICAgY29uc3QgaW5uZXJQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3Qgb3V0ZXJQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gWyByaW5nLmNlbnRlci54LCByaW5nLmNlbnRlci55IF07XG4gICAgICAgIGNvbnN0IGlubmVyQ2lyY2xlID0gbmV3IGdlb20uQ2lyY2xlKGNlbnRlciwgcmluZy5pbm5lclJhZGl1cyk7XG4gICAgICAgIGNvbnN0IG91dGVyQ2lyY2xlID0gbmV3IGdlb20uQ2lyY2xlKGNlbnRlciwgcmluZy5yYWRpdXMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbm5lclBvaW50cy5wdXNoKGlubmVyQ2lyY2xlLnBvaW50QXQoYW5nbGVzW2ldICsgMTgwKSk7XG4gICAgICAgICAgICBvdXRlclBvaW50cy5wdXNoKG91dGVyQ2lyY2xlLnBvaW50QXQoYW5nbGVzW2ldICsgMTgwKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbm5lclBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIGlubmVyUG9pbnRzLnB1c2goaW5uZXJQb2ludHNbMF0pO1xuICAgICAgICBvdXRlclBvaW50cy5wdXNoKG91dGVyUG9pbnRzWzBdKTtcblxuICAgICAgICByZXR1cm4gb3V0ZXJQb2ludHMuY29uY2F0KGlubmVyUG9pbnRzKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlR3JpZExpbmVzOiBmdW5jdGlvbihhbHRBeGlzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1ham9yVGlja3MgPSB0aGlzLnJhZGFyTWFqb3JHcmlkTGluZVBvc2l0aW9ucygpO1xuICAgICAgICBjb25zdCBtYWpvckFuZ2xlcyA9IGFsdEF4aXMubWFqb3JBbmdsZXMoKTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gYWx0QXhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgIGxldCBncmlkTGluZXMgPSBbXTtcblxuICAgICAgICBpZiAob3B0aW9ucy5tYWpvckdyaWRMaW5lcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBncmlkTGluZXMgPSB0aGlzLnJlbmRlckdyaWRMaW5lcyhcbiAgICAgICAgICAgICAgICBjZW50ZXIsIG1ham9yVGlja3MsIG1ham9yQW5nbGVzLCBvcHRpb25zLm1ham9yR3JpZExpbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWlub3JHcmlkTGluZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgbWlub3JUaWNrcyA9IHRoaXMucmFkYXJNaW5vckdyaWRMaW5lUG9zaXRpb25zKCk7XG4gICAgICAgICAgICBhcHBlbmQoZ3JpZExpbmVzLCB0aGlzLnJlbmRlckdyaWRMaW5lcyhcbiAgICAgICAgICAgICAgICBjZW50ZXIsIG1pbm9yVGlja3MsIG1ham9yQW5nbGVzLCBvcHRpb25zLm1pbm9yR3JpZExpbmVzXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmlkTGluZXM7XG4gICAgfSxcblxuICAgIHJlbmRlckdyaWRMaW5lczogZnVuY3Rpb24oY2VudGVyLCB0aWNrcywgYW5nbGVzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBza2lwID0gMCwgc3RlcCA9IDAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ3JpZExpbmVzVmlzdWFsKCk7XG5cbiAgICAgICAgZm9yIChsZXQgdGlja0l4ID0gc2tpcDsgdGlja0l4IDwgdGlja3MubGVuZ3RoOyB0aWNrSXggKz0gc3RlcCkge1xuICAgICAgICAgICAgY29uc3QgdGlja1JhZGl1cyA9IGNlbnRlci55IC0gdGlja3NbdGlja0l4XTtcbiAgICAgICAgICAgIGlmICh0aWNrUmFkaXVzID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBnZW9tLkNpcmNsZShbIGNlbnRlci54LCBjZW50ZXIueSBdLCB0aWNrUmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBBUkMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChuZXcgZHJhdy5DaXJjbGUoY2lyY2xlLCBzdHlsZSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYW5nbGVJeCA9IDA7IGFuZ2xlSXggPCBhbmdsZXMubGVuZ3RoOyBhbmdsZUl4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUubGluZVRvKGNpcmNsZS5wb2ludEF0KGFuZ2xlc1thbmdsZUl4XSArIDE4MCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGluZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250YWluZXIuY2hpbGRyZW47XG4gICAgfSxcblxuICAgIGdldFZhbHVlOiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGFsdEF4aXMgPSB0aGlzLnBsb3RBcmVhLnBvbGFyQXhpcztcbiAgICAgICAgY29uc3QgbWFqb3JBbmdsZXMgPSBhbHRBeGlzLm1ham9yQW5nbGVzKCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGFsdEF4aXMuYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBwb2ludC5kaXN0YW5jZVRvKGNlbnRlcik7XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHJhZGl1cztcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1ham9yR3JpZExpbmVzLnR5cGUgIT09IEFSQyAmJiBtYWpvckFuZ2xlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBkeCA9IHBvaW50LnggLSBjZW50ZXIueDtcbiAgICAgICAgICAgIGNvbnN0IGR5ID0gcG9pbnQueSAtIGNlbnRlci55O1xuICAgICAgICAgICAgY29uc3QgdGhldGEgPSAoZGVnKE1hdGguYXRhbjIoZHksIGR4KSkgKyA1NDApICUgMzYwO1xuXG4gICAgICAgICAgICBtYWpvckFuZ2xlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhckRpc3RhbmNlKGEsIHRoZXRhKSAtIGFuZ3VsYXJEaXN0YW5jZShiLCB0aGV0YSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU29sdmUgdHJpYW5nbGUgKGNlbnRlciwgcG9pbnQsIGF4aXMgWCkgdXNpbmcgb25lIHNpZGUgKHJhZGl1cykgYW5kIHR3byBhbmdsZXMuXG4gICAgICAgICAgICAvLyBBbmdsZXMgYXJlIGRlcml2ZWQgZnJvbSB0cmlhbmdsZSAoY2VudGVyLCBwb2ludCwgZ3JpZGxpbmUgWClcbiAgICAgICAgICAgIGNvbnN0IG1pZEFuZ2xlID0gYW5ndWxhckRpc3RhbmNlKG1ham9yQW5nbGVzWzBdLCBtYWpvckFuZ2xlc1sxXSkgLyAyO1xuICAgICAgICAgICAgY29uc3QgYWxwaGEgPSBhbmd1bGFyRGlzdGFuY2UodGhldGEsIG1ham9yQW5nbGVzWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGdhbW1hID0gOTAgLSBtaWRBbmdsZTtcbiAgICAgICAgICAgIGNvbnN0IGJldGEgPSAxODAgLSBhbHBoYSAtIGdhbW1hO1xuXG4gICAgICAgICAgICBkaXN0YW5jZSA9IHJhZGl1cyAqIChNYXRoLnNpbihyYWQoYmV0YSkpIC8gTWF0aC5zaW4ocmFkKGdhbW1hKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXhpc1R5cGUoKS5wcm90b3R5cGUuZ2V0VmFsdWUuY2FsbChcbiAgICAgICAgICAgIHRoaXMsIG5ldyBQb2ludChsaW5lQm94LngxLCBsaW5lQm94LnkyIC0gZGlzdGFuY2UpXG4gICAgICAgICk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gYW5ndWxhckRpc3RhbmNlKGEsIGIpIHtcbiAgICByZXR1cm4gMTgwIC0gTWF0aC5hYnMoTWF0aC5hYnMoYSAtIGIpIC0gMTgwKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJOdW1lcmljQXhpc01peGluOyIsImltcG9ydCBOdW1lcmljQXhpcyBmcm9tICcuL251bWVyaWMtYXhpcyc7XG5pbXBvcnQgUmFkYXJOdW1lcmljQXhpc01peGluIGZyb20gJy4vbWl4aW5zL3JhZGFyLW51bWVyaWMtYXhpcy1taXhpbic7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBSYWRhck51bWVyaWNBeGlzIGV4dGVuZHMgTnVtZXJpY0F4aXMge1xuICAgIHJhZGFyTWFqb3JHcmlkTGluZVBvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICByYWRhck1pbm9yR3JpZExpbmVQb3NpdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCBtaW5vclNraXBTdGVwID0gMDtcblxuICAgICAgICBpZiAob3B0aW9ucy5tYWpvckdyaWRMaW5lcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBtaW5vclNraXBTdGVwID0gb3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyhvcHRpb25zLm1pbm9yVW5pdCwgbWlub3JTa2lwU3RlcCk7XG4gICAgfVxuXG4gICAgYXhpc1R5cGUoKSB7XG4gICAgICAgIHJldHVybiBOdW1lcmljQXhpcztcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoUmFkYXJOdW1lcmljQXhpcy5wcm90b3R5cGUsIFJhZGFyTnVtZXJpY0F4aXNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyTnVtZXJpY0F4aXM7IiwiaW1wb3J0IExvZ2FyaXRobWljQXhpcyBmcm9tICcuL2xvZ2FyaXRobWljLWF4aXMnO1xuaW1wb3J0IFJhZGFyTnVtZXJpY0F4aXNNaXhpbiBmcm9tICcuL21peGlucy9yYWRhci1udW1lcmljLWF4aXMtbWl4aW4nO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUmFkYXJMb2dhcml0aG1pY0F4aXMgZXh0ZW5kcyBMb2dhcml0aG1pY0F4aXMge1xuICAgIHJhZGFyTWFqb3JHcmlkTGluZVBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW107XG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZU1ham9yVGlja3NQb3NpdGlvbnMoZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm1ham9yR3JpZExpbmVzKTtcblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH1cblxuICAgIHJhZGFyTWlub3JHcmlkTGluZVBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW107XG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZU1pbm9yVGlja3NQb3NpdGlvbnMoZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm1pbm9yR3JpZExpbmVzKTtcblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH1cblxuICAgIGF4aXNUeXBlKCkge1xuICAgICAgICByZXR1cm4gTG9nYXJpdGhtaWNBeGlzO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChSYWRhckxvZ2FyaXRobWljQXhpcy5wcm90b3R5cGUsIFJhZGFyTnVtZXJpY0F4aXNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyTG9nYXJpdGhtaWNBeGlzOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzLCBsYXN0LCByb3VuZCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNvbnN0IFdFSUdIVCA9IDAuMzMzO1xuY29uc3QgRVhUUkVNVU1fQUxMT1dFRF9ERVZJQVRJT04gPSAwLjAxO1xuXG5jbGFzcyBDdXJ2ZVByb2Nlc3NvciBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKGNsb3NlZCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2xvc2VkID0gY2xvc2VkO1xuICAgIH1cblxuICAgIHByb2Nlc3MoZGF0YVBvaW50cykge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBkYXRhUG9pbnRzLnNsaWNlKDApO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IFtdO1xuICAgICAgICBsZXQgY2xvc2VkID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgIGxldCBsZW5ndGggPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW5ndGggPiAyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUR1cGxpY2F0ZXMoMCwgcG9pbnRzKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVuZ3RoIDwgMiB8fCAobGVuZ3RoID09PSAyICYmIHBvaW50c1swXS5lcXVhbHMocG9pbnRzWzFdKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwMCA9IHBvaW50c1swXTtcbiAgICAgICAgbGV0IHAxID0gcG9pbnRzWzFdO1xuICAgICAgICBsZXQgcDIgPSBwb2ludHNbMl07XG5cbiAgICAgICAgc2VnbWVudHMucHVzaChuZXcgZ2VvbS5TZWdtZW50KHAwKSk7XG5cbiAgICAgICAgd2hpbGUgKHAwLmVxdWFscyhwb2ludHNbbGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgcG9pbnRzLnBvcCgpO1xuICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCB0YW5nZW50ID0gdGhpcy50YW5nZW50KHAwLHAxLCBYLCBZKTtcblxuICAgICAgICAgICAgbGFzdChzZWdtZW50cykuY29udHJvbE91dChcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0Q29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMSwgWCwgWSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gobmV3IGdlb20uU2VnbWVudChcbiAgICAgICAgICAgICAgICBwMSxcbiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZENvbnRyb2xQb2ludCh0YW5nZW50LCBwMCwgcDEsIFgsIFkpXG4gICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluaXRpYWxDb250cm9sUG9pbnQsIGxhc3RDb250cm9sUG9pbnQ7XG5cbiAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgcDAgPSBwb2ludHNbbGVuZ3RoIC0gMV07IHAxID0gcG9pbnRzWzBdOyBwMiA9IHBvaW50c1sxXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQb2ludHMgPSB0aGlzLmNvbnRyb2xQb2ludHMocDAsIHAxLCBwMik7XG4gICAgICAgICAgICBpbml0aWFsQ29udHJvbFBvaW50ID0gY29udHJvbFBvaW50c1sxXTtcbiAgICAgICAgICAgIGxhc3RDb250cm9sUG9pbnQgPSBjb250cm9sUG9pbnRzWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFuZ2VudCA9IHRoaXMudGFuZ2VudChwMCwgcDEsIFgsWSk7XG4gICAgICAgICAgICBpbml0aWFsQ29udHJvbFBvaW50ID0gdGhpcy5maXJzdENvbnRyb2xQb2ludCh0YW5nZW50LCBwMCwgcDEsIFgsIFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNwMCA9IGluaXRpYWxDb250cm9sUG9pbnQ7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8PSBsZW5ndGggLSAzOyBpZHgrKykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVEdXBsaWNhdGVzKGlkeCwgcG9pbnRzKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoaWR4ICsgMyA8PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBwMCA9IHBvaW50c1tpZHhdOyBwMSA9IHBvaW50c1tpZHggKyAxXTsgcDIgPSBwb2ludHNbaWR4ICsgMl07XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50cyA9IHRoaXMuY29udHJvbFBvaW50cyhwMCxwMSxwMik7XG5cbiAgICAgICAgICAgICAgICBsYXN0KHNlZ21lbnRzKS5jb250cm9sT3V0KGNwMCk7XG4gICAgICAgICAgICAgICAgY3AwID0gY29udHJvbFBvaW50c1sxXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNwMSA9IGNvbnRyb2xQb2ludHNbMF07XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChuZXcgZ2VvbS5TZWdtZW50KHAxLCBjcDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgIHAwID0gcG9pbnRzW2xlbmd0aCAtIDJdOyBwMSA9IHBvaW50c1tsZW5ndGggLSAxXTsgcDIgPSBwb2ludHNbMF07XG4gICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRzID0gdGhpcy5jb250cm9sUG9pbnRzKHAwLCBwMSwgcDIpO1xuXG4gICAgICAgICAgICBsYXN0KHNlZ21lbnRzKS5jb250cm9sT3V0KGNwMCk7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBnZW9tLlNlZ21lbnQoXG4gICAgICAgICAgICAgICAgcDEsXG4gICAgICAgICAgICAgICAgY29udHJvbFBvaW50c1swXVxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIGxhc3Qoc2VnbWVudHMpLmNvbnRyb2xPdXQoY29udHJvbFBvaW50c1sxXSk7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBnZW9tLlNlZ21lbnQoXG4gICAgICAgICAgICAgICAgcDIsXG4gICAgICAgICAgICAgICAgbGFzdENvbnRyb2xQb2ludFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YW5nZW50ID0gdGhpcy50YW5nZW50KHAxLCBwMiwgWCwgWSk7XG5cbiAgICAgICAgICAgIGxhc3Qoc2VnbWVudHMpLmNvbnRyb2xPdXQoY3AwKTtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gobmV3IGdlb20uU2VnbWVudChcbiAgICAgICAgICAgICAgICBwMixcbiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZENvbnRyb2xQb2ludCh0YW5nZW50LCBwMSwgcDIsIFgsIFkpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICB9XG5cbiAgICByZW1vdmVEdXBsaWNhdGVzKGlkeCwgcG9pbnRzKSB7XG4gICAgICAgIHdoaWxlIChwb2ludHNbaWR4ICsgMV0gJiYgKHBvaW50c1tpZHhdLmVxdWFscyhwb2ludHNbaWR4ICsgMV0pIHx8IHBvaW50c1tpZHggKyAxXS5lcXVhbHMocG9pbnRzW2lkeCArIDJdKSkpIHtcbiAgICAgICAgICAgIHBvaW50cy5zcGxpY2UoaWR4ICsgMSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnZlcnRBeGlzKHAwLCBwMSwgcDIpIHtcbiAgICAgICAgbGV0IGludmVydEF4aXMgPSBmYWxzZTtcblxuICAgICAgICBpZiAocDAueCA9PT0gcDEueCkge1xuICAgICAgICAgICAgaW52ZXJ0QXhpcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocDEueCA9PT0gcDIueCkge1xuICAgICAgICAgICAgaWYgKChwMS55IDwgcDIueSAmJiBwMC55IDw9IHAxLnkpIHx8IChwMi55IDwgcDEueSAmJiBwMS55IDw9IHAwLnkpKSB7XG4gICAgICAgICAgICAgICAgaW52ZXJ0QXhpcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmbiA9IHRoaXMubGluZUZ1bmN0aW9uKHAwLHAxKTtcbiAgICAgICAgICAgIGNvbnN0IHkyID0gdGhpcy5jYWxjdWxhdGVGdW5jdGlvbihmbiwgcDIueCk7XG4gICAgICAgICAgICBpZiAoIShwMC55IDw9IHAxLnkgJiYgcDIueSA8PSB5MikgJiZcbiAgICAgICAgICAgICAgICAhKHAxLnkgPD0gcDAueSAmJiBwMi55ID49IHkyKSkge1xuICAgICAgICAgICAgICAgIGludmVydEF4aXMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGludmVydEF4aXM7XG4gICAgfVxuXG4gICAgaXNMaW5lKHAwLCBwMSwgcDIpIHtcbiAgICAgICAgY29uc3QgZm4gPSB0aGlzLmxpbmVGdW5jdGlvbihwMCwgcDEpO1xuICAgICAgICBjb25zdCB5MiA9IHRoaXMuY2FsY3VsYXRlRnVuY3Rpb24oZm4sIHAyLngpO1xuXG4gICAgICAgIHJldHVybiAocDAueCA9PT0gcDEueCAmJiBwMS54ID09PSBwMi54KSB8fCByb3VuZCh5MiwgMSkgPT09IHJvdW5kKHAyLnksIDEpO1xuICAgIH1cblxuICAgIGxpbmVGdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgY29uc3QgYSA9IChwMi55IC0gcDEueSkgLyAocDIueCAtIHAxLngpO1xuICAgICAgICBjb25zdCBiID0gcDEueSAtIGEgKiBwMS54O1xuXG4gICAgICAgIHJldHVybiBbIGIsIGEgXTtcbiAgICB9XG5cbiAgICBjb250cm9sUG9pbnRzKHAwLCBwMSwgcDIpIHtcbiAgICAgICAgbGV0IHhGaWVsZCA9IFg7XG4gICAgICAgIGxldCB5RmllbGQgPSBZO1xuICAgICAgICBsZXQgcmVzdHJpY3QgPSBmYWxzZTtcbiAgICAgICAgbGV0IHN3aXRjaE9yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgICAgIGxldCB0YW5nZW50O1xuXG4gICAgICAgIGlmICh0aGlzLmlzTGluZShwMCwgcDEsIHAyKSkge1xuICAgICAgICAgICAgdGFuZ2VudCA9IHRoaXMudGFuZ2VudChwMCwgcDEsIFgsIFkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbW9ub3RvbmljID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuaXNNb25vdG9uaWNCeUZpZWxkKHAwLCBwMSwgcDIsIFgpLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuaXNNb25vdG9uaWNCeUZpZWxkKHAwLCBwMSwgcDIsIFkpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobW9ub3RvbmljLnggJiYgbW9ub3RvbmljLnkpIHtcbiAgICAgICAgICAgICAgICB0YW5nZW50ID0gdGhpcy50YW5nZW50KHAwLCBwMiwgWCwgWSk7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3QgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlcnRBeGlzKHAwLCBwMSwgcDIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHhGaWVsZCA9IFk7XG4gICAgICAgICAgICAgICAgICAgIHlGaWVsZCA9IFg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1vbm90b25pY1t4RmllbGRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhbmdlbnQgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzaWduO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHAyW3lGaWVsZF0gPCBwMFt5RmllbGRdICYmIHAwW3lGaWVsZF0gPD0gcDFbeUZpZWxkXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChwMFt5RmllbGRdIDwgcDJbeUZpZWxkXSAmJiBwMVt5RmllbGRdIDw9IHAwW3lGaWVsZF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gbnVtYmVyU2lnbigocDJbeUZpZWxkXSAtIHAwW3lGaWVsZF0pICogKHAxW3hGaWVsZF0gLSBwMFt4RmllbGRdKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gLW51bWJlclNpZ24oKHAyW3hGaWVsZF0gLSBwMFt4RmllbGRdKSAqIChwMVt5RmllbGRdIC0gcDBbeUZpZWxkXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudCA9IEVYVFJFTVVNX0FMTE9XRURfREVWSUFUSU9OICogc2lnbjtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoT3JpZW50YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlY29uZENvbnRyb2xQb2ludCA9IHRoaXMuc2Vjb25kQ29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMSwgeEZpZWxkLCB5RmllbGQpO1xuXG4gICAgICAgIGlmIChzd2l0Y2hPcmllbnRhdGlvbikge1xuICAgICAgICAgICAgY29uc3Qgb2xkWEZpZWxkID0geEZpZWxkO1xuICAgICAgICAgICAgeEZpZWxkID0geUZpZWxkO1xuICAgICAgICAgICAgeUZpZWxkID0gb2xkWEZpZWxkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RDb250cm9sUG9pbnQgPSB0aGlzLmZpcnN0Q29udHJvbFBvaW50KHRhbmdlbnQsIHAxLCBwMiwgeEZpZWxkLCB5RmllbGQpO1xuXG4gICAgICAgIGlmIChyZXN0cmljdCkge1xuICAgICAgICAgICAgdGhpcy5yZXN0cmljdENvbnRyb2xQb2ludChwMCwgcDEsIHNlY29uZENvbnRyb2xQb2ludCwgdGFuZ2VudCk7XG4gICAgICAgICAgICB0aGlzLnJlc3RyaWN0Q29udHJvbFBvaW50KHAxLCBwMiwgZmlyc3RDb250cm9sUG9pbnQsIHRhbmdlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsgc2Vjb25kQ29udHJvbFBvaW50LCBmaXJzdENvbnRyb2xQb2ludCBdO1xuICAgIH1cblxuICAgIHJlc3RyaWN0Q29udHJvbFBvaW50KHAxLCBwMiwgY3AsIHRhbmdlbnQpIHtcbiAgICAgICAgaWYgKHAxLnkgPCBwMi55KSB7XG4gICAgICAgICAgICBpZiAocDIueSA8IGNwLnkpIHtcbiAgICAgICAgICAgICAgICBjcC54ID0gcDEueCArIChwMi55IC0gcDEueSkgLyB0YW5nZW50O1xuICAgICAgICAgICAgICAgIGNwLnkgPSBwMi55O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjcC55IDwgcDEueSkge1xuICAgICAgICAgICAgICAgIGNwLnggPSBwMi54IC0gKHAyLnkgLSBwMS55KSAvIHRhbmdlbnQ7XG4gICAgICAgICAgICAgICAgY3AueSA9IHAxLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3AueSA8IHAyLnkpIHtcbiAgICAgICAgICAgICAgICBjcC54ID0gcDEueCAtIChwMS55IC0gcDIueSkgLyB0YW5nZW50O1xuICAgICAgICAgICAgICAgIGNwLnkgPSBwMi55O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwMS55IDwgY3AueSkge1xuICAgICAgICAgICAgICAgIGNwLnggPSBwMi54ICsgKHAxLnkgLSBwMi55KSAvIHRhbmdlbnQ7XG4gICAgICAgICAgICAgICAgY3AueSA9IHAxLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0YW5nZW50KHAwLCBwMSwgeEZpZWxkLCB5RmllbGQpIHtcbiAgICAgICAgY29uc3QgeCA9IHAxW3hGaWVsZF0gLSBwMFt4RmllbGRdO1xuICAgICAgICBjb25zdCB5ID0gcDFbeUZpZWxkXSAtIHAwW3lGaWVsZF07XG4gICAgICAgIGxldCB0YW5nZW50O1xuXG4gICAgICAgIGlmICh4ID09PSAwKSB7XG4gICAgICAgICAgICB0YW5nZW50ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhbmdlbnQgPSB5IC8geDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YW5nZW50O1xuICAgIH1cblxuICAgIGlzTW9ub3RvbmljQnlGaWVsZChwMCwgcDEsIHAyLCBmaWVsZCkge1xuICAgICAgICByZXR1cm4gKHAyW2ZpZWxkXSA+IHAxW2ZpZWxkXSAmJiBwMVtmaWVsZF0gPiBwMFtmaWVsZF0pIHx8XG4gICAgICAgICAgICAgICAgICAgIChwMltmaWVsZF0gPCBwMVtmaWVsZF0gJiYgcDFbZmllbGRdIDwgcDBbZmllbGRdKTtcbiAgICB9XG5cbiAgICBmaXJzdENvbnRyb2xQb2ludCh0YW5nZW50LCBwMCwgcDMsIHhGaWVsZCwgeUZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHQxID0gcDBbeEZpZWxkXTtcbiAgICAgICAgY29uc3QgdDIgPSBwM1t4RmllbGRdO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9ICh0MiAtIHQxKSAqIFdFSUdIVDtcblxuICAgICAgICByZXR1cm4gdGhpcy5wb2ludCh0MSArIGRpc3RhbmNlLCBwMFt5RmllbGRdICsgZGlzdGFuY2UgKiB0YW5nZW50LCB4RmllbGQsIHlGaWVsZCk7XG4gICAgfVxuXG4gICAgc2Vjb25kQ29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMywgeEZpZWxkLCB5RmllbGQpIHtcbiAgICAgICAgY29uc3QgdDEgPSBwMFt4RmllbGRdO1xuICAgICAgICBjb25zdCB0MiA9IHAzW3hGaWVsZF07XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gKHQyIC0gdDEpICogV0VJR0hUO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50KHQyIC0gZGlzdGFuY2UsIHAzW3lGaWVsZF0gLSBkaXN0YW5jZSAqIHRhbmdlbnQsIHhGaWVsZCwgeUZpZWxkKTtcbiAgICB9XG5cbiAgICBwb2ludCh4VmFsdWUsIHlWYWx1ZSwgeEZpZWxkLCB5RmllbGQpIHtcbiAgICAgICAgY29uc3QgY29udHJvbFBvaW50ID0gbmV3IGdlb20uUG9pbnQoKTtcbiAgICAgICAgY29udHJvbFBvaW50W3hGaWVsZF0gPSB4VmFsdWU7XG4gICAgICAgIGNvbnRyb2xQb2ludFt5RmllbGRdID0geVZhbHVlO1xuXG4gICAgICAgIHJldHVybiBjb250cm9sUG9pbnQ7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlRnVuY3Rpb24oZm4sIHgpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZm4ubGVuZ3RoO1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5wb3coeCxpKSAqIGZuW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBudW1iZXJTaWduKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIDw9IDAgPyAtMSA6IDE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1cnZlUHJvY2Vzc29yOyIsImltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQ2hhcnRBeGlzIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGF4aXMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9heGlzID0gYXhpcztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gYXhpcy5vcHRpb25zO1xuICAgIH1cblxuICAgIHZhbHVlKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLl9heGlzO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF4aXMuZ2V0Q2F0ZWdvcnkgPyBheGlzLmdldENhdGVnb3J5KHBvaW50KSA6IGF4aXMuZ2V0VmFsdWUocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBzbG90KGZyb20sIHRvLCBsaW1pdCA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F4aXMuc2xvdChmcm9tLCB0bywgbGltaXQpO1xuICAgIH1cblxuICAgIHJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXhpcy5yYW5nZSgpO1xuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9heGlzLnZhbHVlUmFuZ2UoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0QXhpczsiLCJpbXBvcnQgQ2hhcnRBeGlzIGZyb20gJy4vY2hhcnQtYXhpcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbmRBeGlzQnlOYW1lKG5hbWUsIGF4ZXMpIHtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaWYgKGF4ZXNbaWR4XS5vcHRpb25zLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIGF4ZXNbaWR4XS5wcmVwYXJlVXNlck9wdGlvbnMoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhcnRBeGlzKGF4ZXNbaWR4XSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IGZpbmRBeGlzQnlOYW1lIGZyb20gJy4vZmluZC1heGlzLWJ5LW5hbWUnO1xuXG5jbGFzcyBDaGFydFBhbmUge1xuICAgIGNvbnN0cnVjdG9yKHBhbmUpIHtcbiAgICAgICAgdGhpcy52aXN1YWwgPSBwYW5lLnZpc3VhbDtcbiAgICAgICAgdGhpcy5jaGFydHNWaXN1YWwgPSBwYW5lLmNoYXJ0Q29udGFpbmVyLnZpc3VhbDtcbiAgICAgICAgdGhpcy5fcGFuZSA9IHBhbmU7XG4gICAgfVxuXG4gICAgZmluZEF4aXNCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gZmluZEF4aXNCeU5hbWUobmFtZSwgdGhpcy5fcGFuZS5heGVzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0UGFuZTsiLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIENoYXJ0UGxvdEFyZWEgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IocGxvdEFyZWEpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLnZpc3VhbCA9IHBsb3RBcmVhLnZpc3VhbDtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kVmlzdWFsID0gcGxvdEFyZWEuX2JnVmlzdWFsO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnRQbG90QXJlYTsiLCJpbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvdW50TnVtYmVycyh2YWx1ZXMpIHtcbiAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG51bSA9IHZhbHVlc1tpXTtcbiAgICAgICAgaWYgKGlzTnVtYmVyKG51bSkpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY291bnQ7XG59IiwiaW1wb3J0IHsgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZmluZWQsIGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuaW1wb3J0IGNvdW50TnVtYmVycyBmcm9tICcuLi91dGlscy9jb3VudC1udW1iZXJzJztcblxuY29uc3QgQWdncmVnYXRlcyA9IHtcbiAgICBtaW46IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgbWluID0gTUFYX1ZBTFVFO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1pbiA9PT0gTUFYX1ZBTFVFID8gdmFsdWVzWzBdIDogbWluO1xuICAgIH0sXG5cbiAgICBtYXg6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgbWF4ID0gTUlOX1ZBTFVFO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1heCA9PT0gTUlOX1ZBTFVFID8gdmFsdWVzWzBdIDogbWF4O1xuICAgIH0sXG5cbiAgICBzdW06IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgc3VtID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VtO1xuICAgIH0sXG5cbiAgICBzdW1Pck51bGw6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICBpZiAoY291bnROdW1iZXJzKHZhbHVlcykpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEFnZ3JlZ2F0ZXMuc3VtKHZhbHVlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBjb3VudDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH0sXG5cbiAgICBhdmc6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBjb3VudCA9IGNvdW50TnVtYmVycyh2YWx1ZXMpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdmFsdWVzWzBdO1xuXG4gICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEFnZ3JlZ2F0ZXMuc3VtKHZhbHVlcykgLyBjb3VudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIGZpcnN0OiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiBkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXNbMF07XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQWdncmVnYXRlczsiLCJpbXBvcnQgeyBnZXR0ZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRGaWVsZChmaWVsZCwgcm93KSB7XG4gICAgaWYgKHJvdyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcm93O1xuICAgIH1cblxuICAgIGNvbnN0IGdldCA9IGdldHRlcihmaWVsZCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGdldChyb3cpO1xufSIsImltcG9ydCBnZXRGaWVsZCBmcm9tICcuL3V0aWxzL2dldC1maWVsZCc7XG5pbXBvcnQgeyBWQUxVRSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBTZXJpZXNCaW5kZXIgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl92YWx1ZUZpZWxkcyA9IHt9O1xuICAgICAgICB0aGlzLl9vdGhlckZpZWxkcyA9IHt9O1xuICAgICAgICB0aGlzLl9udWxsVmFsdWUgPSB7fTtcbiAgICAgICAgdGhpcy5fdW5kZWZpbmVkVmFsdWUgPSB7fTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihzZXJpZXNUeXBlcywgdmFsdWVGaWVsZHMgPSBbIFZBTFVFIF0sIG90aGVyRmllbGRzID0ge30pIHtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllc1R5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gc2VyaWVzVHlwZXNbaV07XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlRmllbGRzW3R5cGVdID0gdmFsdWVGaWVsZHM7XG4gICAgICAgICAgICB0aGlzLl9vdGhlckZpZWxkc1t0eXBlXSA9IG90aGVyRmllbGRzO1xuICAgICAgICAgICAgdGhpcy5fbnVsbFZhbHVlW3R5cGVdID0gdGhpcy5fbWFrZVZhbHVlKHZhbHVlRmllbGRzLCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX3VuZGVmaW5lZFZhbHVlW3R5cGVdID0gdGhpcy5fbWFrZVZhbHVlKHZhbHVlRmllbGRzLCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2Fub25pY2FsRmllbGRzKHNlcmllcykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUZpZWxkcyhzZXJpZXMpLmNvbmNhdCh0aGlzLm90aGVyRmllbGRzKHNlcmllcykpO1xuICAgIH1cblxuICAgIHZhbHVlRmllbGRzKHNlcmllcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVGaWVsZHNbc2VyaWVzLnR5cGVdIHx8IFsgVkFMVUUgXTtcbiAgICB9XG5cbiAgICBvdGhlckZpZWxkcyhzZXJpZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX290aGVyRmllbGRzW3Nlcmllcy50eXBlXSB8fCBbIFZBTFVFIF07XG4gICAgfVxuXG4gICAgYmluZFBvaW50KHNlcmllcywgcG9pbnRJeCwgaXRlbSkge1xuICAgICAgICBjb25zdCBkYXRhID0gc2VyaWVzLmRhdGE7XG4gICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IGRlZmluZWQoaXRlbSkgPyBpdGVtIDogZGF0YVtwb2ludEl4XTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyB2YWx1ZUZpZWxkczogeyB2YWx1ZTogcG9pbnREYXRhIH0gfTtcbiAgICAgICAgY29uc3QgdmFsdWVGaWVsZHMgPSB0aGlzLnZhbHVlRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IG90aGVyRmllbGRzID0gdGhpcy5fb3RoZXJGaWVsZHNbc2VyaWVzLnR5cGVdO1xuICAgICAgICBsZXQgZmllbGRzLCB2YWx1ZTtcblxuICAgICAgICBpZiAocG9pbnREYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX251bGxWYWx1ZVtzZXJpZXMudHlwZV07XG4gICAgICAgIH0gZWxzZSBpZiAoIWRlZmluZWQocG9pbnREYXRhKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl91bmRlZmluZWRWYWx1ZVtzZXJpZXMudHlwZV07XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwb2ludERhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZERhdGEgPSBwb2ludERhdGEuc2xpY2UodmFsdWVGaWVsZHMubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fYmluZEZyb21BcnJheShwb2ludERhdGEsIHZhbHVlRmllbGRzKTtcbiAgICAgICAgICAgIGZpZWxkcyA9IHRoaXMuX2JpbmRGcm9tQXJyYXkoZmllbGREYXRhLCBvdGhlckZpZWxkcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBvaW50RGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc3Qgc3JjVmFsdWVGaWVsZHMgPSB0aGlzLnNvdXJjZUZpZWxkcyhzZXJpZXMsIHZhbHVlRmllbGRzKTtcbiAgICAgICAgICAgIGNvbnN0IHNyY1BvaW50RmllbGRzID0gdGhpcy5zb3VyY2VGaWVsZHMoc2VyaWVzLCBvdGhlckZpZWxkcyk7XG5cbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fYmluZEZyb21PYmplY3QocG9pbnREYXRhLCB2YWx1ZUZpZWxkcywgc3JjVmFsdWVGaWVsZHMpO1xuICAgICAgICAgICAgZmllbGRzID0gdGhpcy5fYmluZEZyb21PYmplY3QocG9pbnREYXRhLCBvdGhlckZpZWxkcywgc3JjUG9pbnRGaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVGaWVsZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlRmllbGRzLnZhbHVlID0gdmFsdWVbdmFsdWVGaWVsZHNbMF1dO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudmFsdWVGaWVsZHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdC5maWVsZHMgPSBmaWVsZHMgfHwge307XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBfbWFrZVZhbHVlKGZpZWxkcywgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0ge307XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGZpZWxkcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmllbGROYW1lID0gZmllbGRzW2ldO1xuICAgICAgICAgICAgdmFsdWVbZmllbGROYW1lXSA9IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfYmluZEZyb21BcnJheShhcnJheSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0ge307XG5cbiAgICAgICAgaWYgKGZpZWxkcykge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5taW4oZmllbGRzLmxlbmd0aCwgYXJyYXkubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhbHVlW2ZpZWxkc1tpXV0gPSBhcnJheVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfYmluZEZyb21PYmplY3Qob2JqZWN0LCBmaWVsZHMsIHNyY0ZpZWxkcyA9IGZpZWxkcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHt9O1xuXG4gICAgICAgIGlmIChmaWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGZpZWxkcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjRmllbGROYW1lID0gc3JjRmllbGRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChzcmNGaWVsZE5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbZmllbGROYW1lXSA9IGdldEZpZWxkKHNyY0ZpZWxkTmFtZSwgb2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgc291cmNlRmllbGRzKHNlcmllcywgY2Fub25pY2FsRmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZUZpZWxkcyA9IFtdO1xuXG4gICAgICAgIGlmIChjYW5vbmljYWxGaWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhbm9uaWNhbEZpZWxkcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBjYW5vbmljYWxGaWVsZHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlRmllbGROYW1lID0gZmllbGROYW1lID09PSBWQUxVRSA/IFwiZmllbGRcIiA6IGZpZWxkTmFtZSArIFwiRmllbGRcIjtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUZpZWxkcy5wdXNoKHNlcmllc1tzb3VyY2VGaWVsZE5hbWVdICE9PSBudWxsID8gKHNlcmllc1tzb3VyY2VGaWVsZE5hbWVdIHx8IGZpZWxkTmFtZSkgOiBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VyY2VGaWVsZHM7XG4gICAgfVxufVxuXG5TZXJpZXNCaW5kZXIuY3VycmVudCA9IG5ldyBTZXJpZXNCaW5kZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgU2VyaWVzQmluZGVyOyIsImltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi4vc2VyaWVzLWJpbmRlcic7XG5cbmltcG9ydCB7IE9CSkVDVCB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQsIGdldHRlciwgaXNBcnJheSwgaXNOdW1iZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBTVERfRVJSID0gXCJzdGRlcnJcIjtcbmNvbnN0IFNURF9ERVYgPSBcInN0ZGRldlwiO1xuY29uc3QgcGVyY2VudFJlZ2V4ID0gL3BlcmNlbnQoPzpcXHcqKVxcKChcXGQrKVxcKS87XG5jb25zdCBzdGFuZGFyZERldmlhdGlvblJlZ2V4ID0gbmV3IFJlZ0V4cChcIl5cIiArIFNURF9ERVYgKyBcIig/OlxcXFwoKFxcXFxkKyg/OlxcXFwuXFxcXGQrKT8pXFxcXCkpPyRcIik7XG5cbmNsYXNzIEVycm9yUmFuZ2VDYWxjdWxhdG9yIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGVycm9yVmFsdWUsIHNlcmllcywgZmllbGQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmluaXRHbG9iYWxSYW5nZXMoZXJyb3JWYWx1ZSwgc2VyaWVzLCBmaWVsZCk7XG4gICAgfVxuXG4gICAgaW5pdEdsb2JhbFJhbmdlcyhlcnJvclZhbHVlLCBzZXJpZXMsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzZXJpZXMuZGF0YTtcbiAgICAgICAgY29uc3QgZGV2aWF0aW9uTWF0Y2ggPSBzdGFuZGFyZERldmlhdGlvblJlZ2V4LmV4ZWMoZXJyb3JWYWx1ZSk7XG5cbiAgICAgICAgaWYgKGRldmlhdGlvbk1hdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlR2V0dGVyID0gdGhpcy5jcmVhdGVWYWx1ZUdldHRlcihzZXJpZXMsIGZpZWxkKTtcblxuICAgICAgICAgICAgY29uc3QgYXZlcmFnZSA9IHRoaXMuZ2V0QXZlcmFnZShkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGRldmlhdGlvbiA9IHRoaXMuZ2V0U3RhbmRhcmREZXZpYXRpb24oZGF0YSwgYXZlcmFnZSwgZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgbXVsdGlwbGUgPSBkZXZpYXRpb25NYXRjaFsxXSA/IHBhcnNlRmxvYXQoZGV2aWF0aW9uTWF0Y2hbMV0pIDogMTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yUmFuZ2UgPSB7IGxvdzogYXZlcmFnZS52YWx1ZSAtIGRldmlhdGlvbiAqIG11bHRpcGxlLCBoaWdoOiBhdmVyYWdlLnZhbHVlICsgZGV2aWF0aW9uICogbXVsdGlwbGUgfTtcblxuICAgICAgICAgICAgdGhpcy5nbG9iYWxSYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvclJhbmdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvclZhbHVlLmluZGV4T2YgJiYgZXJyb3JWYWx1ZS5pbmRleE9mKFNURF9FUlIpID49IDApIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVHZXR0ZXIgPSB0aGlzLmNyZWF0ZVZhbHVlR2V0dGVyKHNlcmllcywgZmllbGQpO1xuICAgICAgICAgICAgY29uc3Qgc3RhbmRhcmRFcnJvciA9IHRoaXMuZ2V0U3RhbmRhcmRFcnJvcihkYXRhLCB0aGlzLmdldEF2ZXJhZ2UoZGF0YSkpO1xuXG4gICAgICAgICAgICB0aGlzLmdsb2JhbFJhbmdlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBsb3c6IHZhbHVlIC0gc3RhbmRhcmRFcnJvciwgaGlnaDogdmFsdWUgKyBzdGFuZGFyZEVycm9yIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmFsdWVHZXR0ZXIoc2VyaWVzLCBmaWVsZCkge1xuICAgICAgICBjb25zdCBkYXRhID0gc2VyaWVzLmRhdGE7XG4gICAgICAgIGNvbnN0IGJpbmRlciA9IFNlcmllc0JpbmRlci5jdXJyZW50O1xuICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IGJpbmRlci52YWx1ZUZpZWxkcyhzZXJpZXMpO1xuICAgICAgICBjb25zdCBpdGVtID0gZGVmaW5lZChkYXRhWzBdKSA/IGRhdGFbMF0gOiB7fTtcbiAgICAgICAgbGV0IHZhbHVlR2V0dGVyO1xuXG4gICAgICAgIGlmIChpc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGZpZWxkID8gdmFsdWVGaWVsZHMuaW5kZXhPZihmaWVsZCkgOiAwO1xuICAgICAgICAgICAgdmFsdWVHZXR0ZXIgPSBnZXR0ZXIoXCJbXCIgKyBpbmRleCArIFwiXVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihpdGVtKSkge1xuICAgICAgICAgICAgdmFsdWVHZXR0ZXIgPSBnZXR0ZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gT0JKRUNUKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNWYWx1ZUZpZWxkcyA9IGJpbmRlci5zb3VyY2VGaWVsZHMoc2VyaWVzLCB2YWx1ZUZpZWxkcyk7XG4gICAgICAgICAgICB2YWx1ZUdldHRlciA9IGdldHRlcihzcmNWYWx1ZUZpZWxkc1t2YWx1ZUZpZWxkcy5pbmRleE9mKGZpZWxkKV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlR2V0dGVyO1xuICAgIH1cblxuICAgIGdldEVycm9yUmFuZ2UocG9pbnRWYWx1ZSwgZXJyb3JWYWx1ZSkge1xuICAgICAgICBsZXQgbG93LCBoaWdoLCB2YWx1ZTtcblxuICAgICAgICBpZiAoIWRlZmluZWQoZXJyb3JWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ2xvYmFsUmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdsb2JhbFJhbmdlKHBvaW50VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQXJyYXkoZXJyb3JWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxvdyA9IHBvaW50VmFsdWUgLSBlcnJvclZhbHVlWzBdO1xuICAgICAgICAgICAgaGlnaCA9IHBvaW50VmFsdWUgKyBlcnJvclZhbHVlWzFdO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKHZhbHVlID0gcGFyc2VGbG9hdChlcnJvclZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IHBvaW50VmFsdWUgLSB2YWx1ZTtcbiAgICAgICAgICAgIGhpZ2ggPSBwb2ludFZhbHVlICsgdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoKHZhbHVlID0gcGVyY2VudFJlZ2V4LmV4ZWMoZXJyb3JWYWx1ZSkpKSB7XG4gICAgICAgICAgICBjb25zdCBwZXJjZW50VmFsdWUgPSBwb2ludFZhbHVlICogKHBhcnNlRmxvYXQodmFsdWVbMV0pIC8gMTAwKTtcbiAgICAgICAgICAgIGxvdyA9IHBvaW50VmFsdWUgLSBNYXRoLmFicyhwZXJjZW50VmFsdWUpO1xuICAgICAgICAgICAgaGlnaCA9IHBvaW50VmFsdWUgKyBNYXRoLmFicyhwZXJjZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBFcnJvckJhciB2YWx1ZTogXCIgKyBlcnJvclZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGxvdzogbG93LCBoaWdoOiBoaWdoIH07XG4gICAgfVxuXG4gICAgZ2V0U3RhbmRhcmRFcnJvcihkYXRhLCBhdmVyYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YW5kYXJkRGV2aWF0aW9uKGRhdGEsIGF2ZXJhZ2UsIHRydWUpIC8gTWF0aC5zcXJ0KGF2ZXJhZ2UuY291bnQpO1xuICAgIH1cblxuICAgIGdldFN0YW5kYXJkRGV2aWF0aW9uKGRhdGEsIGF2ZXJhZ2UsIGlzU2FtcGxlKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICBjb25zdCB0b3RhbCA9IGlzU2FtcGxlID8gYXZlcmFnZS5jb3VudCAtIDEgOiBhdmVyYWdlLmNvdW50O1xuICAgICAgICBsZXQgc3F1YXJlRGlmZmVyZW5jZVN1bSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlR2V0dGVyKGRhdGFbaWR4XSk7XG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlRGlmZmVyZW5jZVN1bSArPSBNYXRoLnBvdyh2YWx1ZSAtIGF2ZXJhZ2UudmFsdWUsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChzcXVhcmVEaWZmZXJlbmNlU3VtIC8gdG90YWwpO1xuICAgIH1cblxuICAgIGdldEF2ZXJhZ2UoZGF0YSkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlR2V0dGVyKGRhdGFbaWR4XSk7XG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHN1bSAvIGNvdW50LFxuICAgICAgICAgICAgY291bnQ6IGNvdW50XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFcnJvclJhbmdlQ2FsY3VsYXRvcjsiLCJpbXBvcnQgeyBzdXBwb3J0IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5jb25zdCBicm93c2VyID0gc3VwcG9ydC5icm93c2VyIHx8IHt9O1xuXG5jb25zdCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiA9IDYwMDtcbmNvbnN0IEZBREVJTiA9IFwiZmFkZUluXCI7XG5cbmNvbnN0IEdMQVNTID0gXCJnbGFzc1wiO1xuY29uc3QgQk9SREVSX0JSSUdIVE5FU1MgPSAwLjg7XG5jb25zdCBUT09MVElQX09GRlNFVCA9IDU7XG5jb25zdCBTVEFSVF9TQ0FMRSA9IGJyb3dzZXIubXNpZSA/IDAuMDAxIDogMDtcbmNvbnN0IEVSUk9SX0xPV19GSUVMRCA9IFwiZXJyb3JMb3dcIjtcbmNvbnN0IEVSUk9SX0hJR0hfRklFTEQgPSBcImVycm9ySGlnaFwiO1xuY29uc3QgWF9FUlJPUl9MT1dfRklFTEQgPSBcInhFcnJvckxvd1wiO1xuY29uc3QgWF9FUlJPUl9ISUdIX0ZJRUxEID0gXCJ4RXJyb3JIaWdoXCI7XG5jb25zdCBZX0VSUk9SX0xPV19GSUVMRCA9IFwieUVycm9yTG93XCI7XG5jb25zdCBZX0VSUk9SX0hJR0hfRklFTEQgPSBcInlFcnJvckhpZ2hcIjtcbmNvbnN0IExJTkVfTUFSS0VSX1NJWkUgPSA4O1xuY29uc3QgWkVSTyA9IFwiemVyb1wiO1xuY29uc3QgSU5URVJQT0xBVEUgPSBcImludGVycG9sYXRlXCI7XG5jb25zdCBHQVAgPSBcImdhcFwiO1xuY29uc3QgQUJPVkUgPSBcImFib3ZlXCI7XG5jb25zdCBCRUxPVyA9IFwiYmVsb3dcIjtcblxuY29uc3QgU01PT1RIID0gXCJzbW9vdGhcIjtcbmNvbnN0IFNURVAgPSBcInN0ZXBcIjtcblxuY29uc3QgQVJFQSA9IFwiYXJlYVwiO1xuY29uc3QgQkFSID0gXCJiYXJcIjtcbmNvbnN0IEJPWF9QTE9UID0gXCJib3hQbG90XCI7XG5jb25zdCBCVUJCTEUgPSBcImJ1YmJsZVwiO1xuY29uc3QgQlVMTEVUID0gXCJidWxsZXRcIjtcbmNvbnN0IENBTkRMRVNUSUNLID0gXCJjYW5kbGVzdGlja1wiO1xuY29uc3QgQ09MVU1OID0gXCJjb2x1bW5cIjtcbmNvbnN0IERPTlVUID0gXCJkb251dFwiO1xuY29uc3QgRlVOTkVMID0gXCJmdW5uZWxcIjtcbmNvbnN0IEhFQVRNQVAgPSBcImhlYXRtYXBcIjtcbmNvbnN0IEhPUklaT05UQUxfV0FURVJGQUxMID0gXCJob3Jpem9udGFsV2F0ZXJmYWxsXCI7XG5jb25zdCBMSU5FID0gXCJsaW5lXCI7XG5jb25zdCBPSExDID0gXCJvaGxjXCI7XG5jb25zdCBQSUUgPSBcInBpZVwiO1xuY29uc3QgUE9MQVJfQVJFQSA9IFwicG9sYXJBcmVhXCI7XG5jb25zdCBQT0xBUl9MSU5FID0gXCJwb2xhckxpbmVcIjtcbmNvbnN0IFBPTEFSX1NDQVRURVIgPSBcInBvbGFyU2NhdHRlclwiO1xuY29uc3QgUkFEQVJfQVJFQSA9IFwicmFkYXJBcmVhXCI7XG5jb25zdCBSQURBUl9DT0xVTU4gPSBcInJhZGFyQ29sdW1uXCI7XG5jb25zdCBSQURBUl9MSU5FID0gXCJyYWRhckxpbmVcIjtcbmNvbnN0IFJBTkdFX0FSRUEgPSBcInJhbmdlQXJlYVwiO1xuY29uc3QgUkFOR0VfQkFSID0gXCJyYW5nZUJhclwiO1xuY29uc3QgUkFOR0VfQ09MVU1OID0gXCJyYW5nZUNvbHVtblwiO1xuY29uc3QgU0NBVFRFUiA9IFwic2NhdHRlclwiO1xuY29uc3QgU0NBVFRFUl9MSU5FID0gXCJzY2F0dGVyTGluZVwiO1xuY29uc3QgVkVSVElDQUxfQVJFQSA9IFwidmVydGljYWxBcmVhXCI7XG5jb25zdCBWRVJUSUNBTF9CT1hfUExPVCA9IFwidmVydGljYWxCb3hQbG90XCI7XG5jb25zdCBWRVJUSUNBTF9CVUxMRVQgPSBcInZlcnRpY2FsQnVsbGV0XCI7XG5jb25zdCBWRVJUSUNBTF9MSU5FID0gXCJ2ZXJ0aWNhbExpbmVcIjtcbmNvbnN0IFZFUlRJQ0FMX1JBTkdFX0FSRUEgPSBcInZlcnRpY2FsUmFuZ2VBcmVhXCI7XG5jb25zdCBXQVRFUkZBTEwgPSBcIndhdGVyZmFsbFwiO1xuY29uc3QgRVFVQUxMWV9TUEFDRURfU0VSSUVTID0gW1xuICAgIEJBUiwgQ09MVU1OLCBPSExDLCBDQU5ETEVTVElDSywgQk9YX1BMT1QsIFZFUlRJQ0FMX0JPWF9QTE9ULFxuICAgIEJVTExFVCwgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIsIFdBVEVSRkFMTCwgSE9SSVpPTlRBTF9XQVRFUkZBTExcbl07XG5cbmNvbnN0IExFR0VORF9JVEVNX0NMSUNLID0gXCJsZWdlbmRJdGVtQ2xpY2tcIjtcbmNvbnN0IExFR0VORF9JVEVNX0hPVkVSID0gXCJsZWdlbmRJdGVtSG92ZXJcIjtcbmNvbnN0IExFR0VORF9JVEVNX0xFQVZFID0gXCJsZWdlbmRJdGVtTGVhdmVcIjtcbmNvbnN0IFNFUklFU19DTElDSyA9IFwic2VyaWVzQ2xpY2tcIjtcbmNvbnN0IFNFUklFU19IT1ZFUiA9IFwic2VyaWVzSG92ZXJcIjtcbmNvbnN0IFNFUklFU19PVkVSID0gXCJzZXJpZXNPdmVyXCI7XG5jb25zdCBTRVJJRVNfTEVBVkUgPSBcInNlcmllc0xlYXZlXCI7XG5jb25zdCBQTE9UX0FSRUFfQ0xJQ0sgPSBcInBsb3RBcmVhQ2xpY2tcIjtcbmNvbnN0IFBMT1RfQVJFQV9IT1ZFUiA9IFwicGxvdEFyZWFIb3ZlclwiO1xuY29uc3QgUExPVF9BUkVBX0xFQVZFID0gXCJwbG90QXJlYUxlYXZlXCI7XG5jb25zdCBEUkFHID0gXCJkcmFnXCI7XG5jb25zdCBEUkFHX0VORCA9IFwiZHJhZ0VuZFwiO1xuY29uc3QgRFJBR19TVEFSVCA9IFwiZHJhZ1N0YXJ0XCI7XG5jb25zdCBaT09NX1NUQVJUID0gXCJ6b29tU3RhcnRcIjtcbmNvbnN0IFpPT00gPSBcInpvb21cIjtcbmNvbnN0IFpPT01fRU5EID0gXCJ6b29tRW5kXCI7XG5jb25zdCBTRUxFQ1RfU1RBUlQgPSBcInNlbGVjdFN0YXJ0XCI7XG5jb25zdCBTRUxFQ1QgPSBcInNlbGVjdFwiO1xuY29uc3QgU0VMRUNUX0VORCA9IFwic2VsZWN0RW5kXCI7XG5jb25zdCBSRU5ERVIgPSBcInJlbmRlclwiO1xuY29uc3QgU0hPV19UT09MVElQID0gXCJzaG93VG9vbHRpcFwiO1xuY29uc3QgSElERV9UT09MVElQID0gXCJoaWRlVG9vbHRpcFwiO1xuY29uc3QgUEFORV9SRU5ERVIgPSBcInBhbmVSZW5kZXJcIjtcblxuY29uc3QgTE9HQVJJVEhNSUMgPSBcImxvZ1wiO1xuY29uc3QgQ0FURUdPUlkgPSBcImNhdGVnb3J5XCI7XG5cbmNvbnN0IElOU0lERV9FTkQgPSBcImluc2lkZUVuZFwiO1xuY29uc3QgSU5TSURFX0JBU0UgPSBcImluc2lkZUJhc2VcIjtcbmNvbnN0IE9VVFNJREVfRU5EID0gXCJvdXRzaWRlRW5kXCI7XG5cbmNvbnN0IE1PVVNFV0hFRUwgPSBcIkRPTU1vdXNlU2Nyb2xsIG1vdXNld2hlZWxcIjtcbmNvbnN0IE1PVVNFV0hFRUxfREVMQVkgPSAxNTA7XG5jb25zdCBNT1VTRVdIRUVMX1pPT01fUkFURSA9IDAuMztcblxuZXhwb3J0IHtcbiAgICBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgRkFERUlOLFxuICAgIExFR0VORF9JVEVNX0NMSUNLLCBMRUdFTkRfSVRFTV9IT1ZFUiwgTEVHRU5EX0lURU1fTEVBVkUsXG4gICAgU0VSSUVTX0NMSUNLLCBTRVJJRVNfSE9WRVIsIFNFUklFU19PVkVSLCBTRVJJRVNfTEVBVkUsIEdMQVNTLFxuICAgIEJPUkRFUl9CUklHSFRORVNTLCBUT09MVElQX09GRlNFVCxcbiAgICBTVEFSVF9TQ0FMRSwgRVJST1JfTE9XX0ZJRUxELCBFUlJPUl9ISUdIX0ZJRUxELFxuICAgIFhfRVJST1JfTE9XX0ZJRUxELCBYX0VSUk9SX0hJR0hfRklFTEQsXG4gICAgWV9FUlJPUl9MT1dfRklFTEQsIFlfRVJST1JfSElHSF9GSUVMRCxcbiAgICBMSU5FX01BUktFUl9TSVpFLCBJTlRFUlBPTEFURSwgWkVSTyxcbiAgICBTTU9PVEgsIFNURVAsIENBVEVHT1JZLCBGVU5ORUwsXG4gICAgQkFSLCBDQU5ETEVTVElDSywgUElFLCBDT0xVTU4sIEFSRUEsXG4gICAgVkVSVElDQUxfQlVMTEVULCBCT1hfUExPVCwgT0hMQywgV0FURVJGQUxMLCBMSU5FLFxuICAgIEJVTExFVCwgVkVSVElDQUxfTElORSwgVkVSVElDQUxfQVJFQSwgUkFOR0VfQVJFQSwgVkVSVElDQUxfUkFOR0VfQVJFQSxcbiAgICBSQU5HRV9DT0xVTU4sIFZFUlRJQ0FMX0JPWF9QTE9ULCBSQU5HRV9CQVIsIEhPUklaT05UQUxfV0FURVJGQUxMLFxuICAgIFNDQVRURVIsIFNDQVRURVJfTElORSwgQlVCQkxFLCBSQURBUl9BUkVBLCBSQURBUl9MSU5FLFxuICAgIFJBREFSX0NPTFVNTiwgUE9MQVJfTElORSwgUE9MQVJfQVJFQSwgUE9MQVJfU0NBVFRFUixcbiAgICBSRU5ERVIsIFBMT1RfQVJFQV9DTElDSywgUExPVF9BUkVBX0hPVkVSLCBQTE9UX0FSRUFfTEVBVkUsXG4gICAgTE9HQVJJVEhNSUMsIERSQUcsIERSQUdfU1RBUlQsIERSQUdfRU5ELCBaT09NX1NUQVJULCBaT09NLCBaT09NX0VORCxcbiAgICBTRUxFQ1RfU1RBUlQsIFNFTEVDVCwgU0VMRUNUX0VORCwgUEFORV9SRU5ERVIsIEdBUCxcbiAgICBET05VVCwgSU5TSURFX0VORCwgSU5TSURFX0JBU0UsIE9VVFNJREVfRU5ELFxuICAgIE1PVVNFV0hFRUwsIE1PVVNFV0hFRUxfREVMQVksIE1PVVNFV0hFRUxfWk9PTV9SQVRFLFxuICAgIFNIT1dfVE9PTFRJUCwgSElERV9UT09MVElQLFxuICAgIEVRVUFMTFlfU1BBQ0VEX1NFUklFUywgQUJPVkUsIEJFTE9XLFxuICAgIEhFQVRNQVBcbn07XG4iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgUG9pbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBGQURFSU4sIElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGFsaWduUGF0aFRvUGl4ZWwgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBERUZBVUxUX0VSUk9SX0JBUl9XSURUSCA9IDQ7XG5cbmNsYXNzIEVycm9yQmFyQmFzZSBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IobG93LCBoaWdoLCBpc1ZlcnRpY2FsLCBjaGFydCwgc2VyaWVzLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMubG93ID0gbG93O1xuICAgICAgICB0aGlzLmhpZ2ggPSBoaWdoO1xuICAgICAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xuICAgICAgICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gICAgICAgIHRoaXMuc2VyaWVzID0gc2VyaWVzO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgZW5kQ2FwcyA9IHRoaXMub3B0aW9ucy5lbmRDYXBzO1xuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5pc1ZlcnRpY2FsO1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5nZXRBeGlzKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlQm94ID0gYXhpcy5nZXRTbG90KHRoaXMubG93LCB0aGlzLmhpZ2gpO1xuICAgICAgICBjb25zdCBjZW50ZXJCb3ggPSB0YXJnZXRCb3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGNhcHNXaWR0aCA9IHRoaXMuZ2V0Q2Fwc1dpZHRoKHRhcmdldEJveCwgaXNWZXJ0aWNhbCk7XG4gICAgICAgIGNvbnN0IGNhcFZhbHVlID0gaXNWZXJ0aWNhbCA/IGNlbnRlckJveC54IDogY2VudGVyQm94Lnk7XG4gICAgICAgIGNvbnN0IGNhcFN0YXJ0ID0gY2FwVmFsdWUgLSBjYXBzV2lkdGg7XG4gICAgICAgIGNvbnN0IGNhcEVuZCA9IGNhcFZhbHVlICsgY2Fwc1dpZHRoO1xuICAgICAgICBsZXQgbGluZVBvaW50cztcblxuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgbGluZVBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoY2VudGVyQm94LngsIHZhbHVlQm94LnkxKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoY2VudGVyQm94LngsIHZhbHVlQm94LnkyKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChlbmRDYXBzKSB7XG4gICAgICAgICAgICAgICAgbGluZVBvaW50cy5wdXNoKG5ldyBQb2ludChjYXBTdGFydCwgdmFsdWVCb3gueTEpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQoY2FwRW5kLCB2YWx1ZUJveC55MSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludChjYXBTdGFydCwgdmFsdWVCb3gueTIpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQoY2FwRW5kLCB2YWx1ZUJveC55MikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KGNhcFN0YXJ0LCB2YWx1ZUJveC55MSwgY2FwRW5kLCB2YWx1ZUJveC55Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lUG9pbnRzID0gW1xuICAgICAgICAgICAgICAgIG5ldyBQb2ludCh2YWx1ZUJveC54MSwgY2VudGVyQm94LnkpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludCh2YWx1ZUJveC54MiwgY2VudGVyQm94LnkpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKGVuZENhcHMpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9pbnRzLnB1c2gobmV3IFBvaW50KHZhbHVlQm94LngxLCBjYXBTdGFydCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludCh2YWx1ZUJveC54MSwgY2FwRW5kKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KHZhbHVlQm94LngyLCBjYXBTdGFydCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludCh2YWx1ZUJveC54MiwgY2FwRW5kKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3godmFsdWVCb3gueDEsIGNhcFN0YXJ0LCB2YWx1ZUJveC54MiwgY2FwRW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGluZVBvaW50cyA9IGxpbmVQb2ludHM7XG4gICAgfVxuXG4gICAgZ2V0Q2Fwc1dpZHRoKGJveCwgaXNWZXJ0aWNhbCkge1xuICAgICAgICBjb25zdCBib3hTaXplID0gaXNWZXJ0aWNhbCA/IGJveC53aWR0aCgpIDogYm94LmhlaWdodCgpO1xuICAgICAgICBjb25zdCBjYXBzV2lkdGggPSBNYXRoLm1pbihNYXRoLmZsb29yKGJveFNpemUgLyAyKSwgREVGQVVMVF9FUlJPUl9CQVJfV0lEVEgpIHx8IERFRkFVTFRfRVJST1JfQkFSX1dJRFRIO1xuXG4gICAgICAgIHJldHVybiBjYXBzV2lkdGg7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB2aXN1YWwgPSBvcHRpb25zLnZpc3VhbDtcblxuICAgICAgICBpZiAodmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbCA9IHZpc3VhbCh7XG4gICAgICAgICAgICAgICAgbG93OiB0aGlzLmxvdyxcbiAgICAgICAgICAgICAgICBoaWdoOiB0aGlzLmhpZ2gsXG4gICAgICAgICAgICAgICAgcmVjdDogdGhpcy5ib3gudG9SZWN0KCksXG4gICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5kQ2Fwczogb3B0aW9ucy5lbmRDYXBzLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgbGluZTogb3B0aW9ucy5saW5lXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVEZWZhdWx0VmlzdWFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWaXN1YWwgPSB0aGlzLnZpc3VhbDtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudmlzdWFsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZpc3VhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVmYXVsdFZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlRGVmYXVsdFZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsaW5lUG9pbnRzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsaW5lT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLmxpbmUud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMubGluZS5kYXNoVHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxpbmVQb2ludHMubGVuZ3RoOyBpZHggKz0gMikge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IG5ldyBkcmF3LlBhdGgobGluZU9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLm1vdmVUbyhsaW5lUG9pbnRzW2lkeF0ueCwgbGluZVBvaW50c1tpZHhdLnkpXG4gICAgICAgICAgICAgICAgLmxpbmVUbyhsaW5lUG9pbnRzW2lkeCArIDFdLngsIGxpbmVQb2ludHNbaWR4ICsgMV0ueSk7XG5cbiAgICAgICAgICAgIGFsaWduUGF0aFRvUGl4ZWwobGluZSk7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQobGluZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEVycm9yQmFyQmFzZSwge1xuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgIGRlbGF5OiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxuICAgIH0sXG4gICAgZW5kQ2FwczogdHJ1ZSxcbiAgICBsaW5lOiB7XG4gICAgICAgIHdpZHRoOiAyXG4gICAgfSxcbiAgICB6SW5kZXg6IDFcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBFcnJvckJhckJhc2U7IiwiaW1wb3J0IEVycm9yQmFyQmFzZSBmcm9tICcuL2Vycm9yLWJhci1iYXNlJztcblxuY2xhc3MgQ2F0ZWdvcmljYWxFcnJvckJhciBleHRlbmRzIEVycm9yQmFyQmFzZSB7XG4gICAgZ2V0QXhpcygpIHtcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuY2hhcnQuc2VyaWVzVmFsdWVBeGlzKHRoaXMuc2VyaWVzKTtcblxuICAgICAgICByZXR1cm4gYXhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpY2FsRXJyb3JCYXI7IiwiaW1wb3J0IHsgaW5BcnJheSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgTUFYX0VYUEFORF9ERVBUSCA9IDU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV2YWxPcHRpb25zKG9wdGlvbnMsIGNvbnRleHQsIHN0YXRlID0ge30sIGRyeVJ1biA9IGZhbHNlKSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSBzdGF0ZS5kZWZhdWx0cyA9IHN0YXRlLmRlZmF1bHRzIHx8IHt9O1xuICAgIGNvbnN0IGRlcHRoID0gc3RhdGUuZGVwdGggPSBzdGF0ZS5kZXB0aCB8fCAwO1xuICAgIGxldCBuZWVkc0V2YWwgPSBmYWxzZTtcblxuICAgIHN0YXRlLmV4Y2x1ZGVkID0gc3RhdGUuZXhjbHVkZWQgfHwgW107XG5cbiAgICBpZiAoZGVwdGggPiBNQVhfRVhQQU5EX0RFUFRIKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZvciAobGV0IHByb3BlcnR5IGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFpbkFycmF5KHByb3BlcnR5LCBzdGF0ZS5leGNsdWRlZCkgJiYgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IG9wdGlvbnNbcHJvcGVydHldO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG5lZWRzRXZhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFkcnlSdW4pIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1twcm9wZXJ0eV0gPSB2YWx1ZU9yRGVmYXVsdChwcm9wVmFsdWUoY29udGV4dCksIGRlZmF1bHRzW3Byb3BlcnR5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkcnlSdW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZGVmYXVsdHMgPSBkZWZhdWx0c1twcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXRlLmRlcHRoKys7XG4gICAgICAgICAgICAgICAgbmVlZHNFdmFsID0gZXZhbE9wdGlvbnMocHJvcFZhbHVlLCBjb250ZXh0LCBzdGF0ZSwgZHJ5UnVuKSB8fCBuZWVkc0V2YWw7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGVwdGgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZWVkc0V2YWw7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2F0ZWdvcmllc0NvdW50KHNlcmllcykge1xuICAgIGNvbnN0IHNlcmllc0NvdW50ID0gc2VyaWVzLmxlbmd0aDtcbiAgICBsZXQgY2F0ZWdvcmllcyA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllc0NvdW50OyBpKyspIHtcbiAgICAgICAgY2F0ZWdvcmllcyA9IE1hdGgubWF4KGNhdGVnb3JpZXMsIHNlcmllc1tpXS5kYXRhLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhdGVnb3JpZXM7XG59IiwiaW1wb3J0IEVycm9yUmFuZ2VDYWxjdWxhdG9yIGZyb20gJy4vZXJyb3ItYmFycy9lcnJvci1yYW5nZS1jYWxjdWxhdG9yJztcbmltcG9ydCBDYXRlZ29yaWNhbEVycm9yQmFyIGZyb20gJy4vZXJyb3ItYmFycy9jYXRlZ29yaWNhbC1lcnJvci1iYXInO1xuXG5pbXBvcnQgU2VyaWVzQmluZGVyIGZyb20gJy4vc2VyaWVzLWJpbmRlcic7XG5pbXBvcnQgeyBFUlJPUl9MT1dfRklFTEQsIEVSUk9SX0hJR0hfRklFTEQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmltcG9ydCBldmFsT3B0aW9ucyBmcm9tICcuL3V0aWxzL2V2YWwtb3B0aW9ucyc7XG5pbXBvcnQgY2F0ZWdvcmllc0NvdW50IGZyb20gJy4vdXRpbHMvY2F0ZWdvcmllcy1jb3VudCc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94IH0gZnJvbSAnLi4vY29yZSc7XG5cbmltcG9ydCB7IFZBTFVFLCBTVFJJTkcsIE1JTl9WQUxVRSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjb252ZXJ0YWJsZVRvTnVtYmVyLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBpc051bWJlciwgbGFzdCwgc2V0RGVmYXVsdE9wdGlvbnMsIHNwYXJzZUFycmF5TGltaXRzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgQ2F0ZWdvcmljYWxDaGFydCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IocGxvdEFyZWEsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IHBsb3RBcmVhLmNoYXJ0U2VydmljZTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeUF4aXMgPSBwbG90QXJlYS5zZXJpZXNDYXRlZ29yeUF4aXMob3B0aW9ucy5zZXJpZXNbMF0pO1xuXG4gICAgICAgIC8vIFZhbHVlIGF4aXMgcmFuZ2VzIGdyb3VwZWQgYnkgYXhpcyBuYW1lLCBlLmcuOlxuICAgICAgICAvLyBwcmltYXJ5OiB7IG1pbjogMCwgbWF4OiAxIH1cbiAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLmNhdGVnb3J5UG9pbnRzID0gW107XG4gICAgICAgIHRoaXMuc2VyaWVzUG9pbnRzID0gW107XG4gICAgICAgIHRoaXMuc2VyaWVzT3B0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9ldmFsU2VyaWVzID0gW107XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMudHJhdmVyc2VEYXRhUG9pbnRzKHRoaXMuYWRkVmFsdWUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcG9pbnRPcHRpb25zKHNlcmllcywgc2VyaWVzSXgpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLnNlcmllc09wdGlvbnNbc2VyaWVzSXhdO1xuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRzID0gdGhpcy5wb2ludFR5cGUoKS5wcm90b3R5cGUuZGVmYXVsdHM7XG4gICAgICAgICAgICB0aGlzLnNlcmllc09wdGlvbnNbc2VyaWVzSXhdID0gb3B0aW9ucyA9IGRlZXBFeHRlbmQoeyB9LCBkZWZhdWx0cywge1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiAhdGhpcy5vcHRpb25zLmludmVydEF4ZXNcbiAgICAgICAgICAgIH0sIHNlcmllcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBwbG90VmFsdWUocG9pbnQpIHtcbiAgICAgICAgaWYgKCFwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzU3RhY2tlZDEwMCAmJiBpc051bWJlcihwb2ludC52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SXggPSBwb2ludC5jYXRlZ29yeUl4O1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdO1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIGxldCBjYXRlZ29yeVN1bSA9IDA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2F0ZWdvcnlQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlciA9IGNhdGVnb3J5UG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IHBvaW50LnNlcmllcy5zdGFjaztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJTdGFjayA9IG90aGVyLnNlcmllcy5zdGFjaztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKHN0YWNrICYmIG90aGVyU3RhY2spICYmIHN0YWNrLmdyb3VwICE9PSBvdGhlclN0YWNrLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc051bWJlcihvdGhlci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5U3VtICs9IE1hdGguYWJzKG90aGVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyVmFsdWVzLnB1c2goTWF0aC5hYnMob3RoZXIudmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhdGVnb3J5U3VtID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC52YWx1ZSAvIGNhdGVnb3J5U3VtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvaW50LnZhbHVlO1xuICAgIH1cblxuICAgIHBsb3RSYW5nZShwb2ludCwgc3RhcnRWYWx1ZSA9IDApIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW3BvaW50LmNhdGVnb3J5SXhdO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTdGFja2VkKSB7XG4gICAgICAgICAgICBsZXQgcGxvdFZhbHVlID0gdGhpcy5wbG90VmFsdWUocG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpdmUgPSBwbG90VmFsdWUgPj0gMDtcbiAgICAgICAgICAgIGxldCBwcmV2VmFsdWUgPSBzdGFydFZhbHVlO1xuICAgICAgICAgICAgbGV0IGlzU3RhY2tlZEJhciA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhdGVnb3J5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBjYXRlZ29yeVBvaW50c1tpXTtcblxuICAgICAgICAgICAgICAgIGlmIChwb2ludCA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBwb2ludC5zZXJpZXMuc3RhY2s7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJTdGFjayA9IG90aGVyLnNlcmllcy5zdGFjaztcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2sgJiYgb3RoZXJTdGFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0YWNrID09PSBTVFJJTkcgJiYgc3RhY2sgIT09IG90aGVyU3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmdyb3VwICYmIHN0YWNrLmdyb3VwICE9PSBvdGhlclN0YWNrLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyVmFsdWUgPSB0aGlzLnBsb3RWYWx1ZShvdGhlcik7XG4gICAgICAgICAgICAgICAgaWYgKChvdGhlclZhbHVlID49IDAgJiYgcG9zaXRpdmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIChvdGhlclZhbHVlIDwgMCAmJiAhcG9zaXRpdmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZWYWx1ZSArPSBvdGhlclZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBwbG90VmFsdWUgKz0gb3RoZXJWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTdGFja2VkQmFyID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzU3RhY2tlZDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxvdFZhbHVlID0gTWF0aC5taW4ocGxvdFZhbHVlLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzU3RhY2tlZEJhcikge1xuICAgICAgICAgICAgICAgIHByZXZWYWx1ZSAtPSBzdGFydFZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gWyBwcmV2VmFsdWUsIHBsb3RWYWx1ZSBdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VyaWVzID0gcG9pbnQuc2VyaWVzO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB0aGlzLnNlcmllc1ZhbHVlQXhpcyhzZXJpZXMpO1xuICAgICAgICBjb25zdCBheGlzQ3Jvc3NpbmdWYWx1ZSA9IHRoaXMuY2F0ZWdvcnlBeGlzQ3Jvc3NpbmdWYWx1ZSh2YWx1ZUF4aXMpO1xuXG4gICAgICAgIHJldHVybiBbIGF4aXNDcm9zc2luZ1ZhbHVlLCBjb252ZXJ0YWJsZVRvTnVtYmVyKHBvaW50LnZhbHVlKSA/IHBvaW50LnZhbHVlIDogYXhpc0Nyb3NzaW5nVmFsdWUgXTtcbiAgICB9XG5cbiAgICBzdGFja0xpbWl0cyhheGlzTmFtZSwgc3RhY2tOYW1lKSB7XG4gICAgICAgIGxldCBtaW4gPSBNQVhfVkFMVUU7XG4gICAgICAgIGxldCBtYXggPSBNSU5fVkFMVUU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNhdGVnb3J5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeVBvaW50cyA9IHRoaXMuY2F0ZWdvcnlQb2ludHNbaV07XG4gICAgICAgICAgICBpZiAoIWNhdGVnb3J5UG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IHBJeCA9IDA7IHBJeCA8IGNhdGVnb3J5UG9pbnRzLmxlbmd0aDsgcEl4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IGNhdGVnb3J5UG9pbnRzW3BJeF07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludC5zZXJpZXMuc3RhY2sgPT09IHN0YWNrTmFtZSB8fCBwb2ludC5zZXJpZXMuYXhpcyA9PT0gYXhpc05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gdGhpcy5wbG90UmFuZ2UocG9pbnQsIDApWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmluZWQodG8pICYmIGlzRmluaXRlKHRvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgdG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgdG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgbWluOiBtaW4sIG1heDogbWF4IH07XG4gICAgfVxuXG4gICAgdXBkYXRlU3RhY2tSYW5nZSgpIHtcbiAgICAgICAgY29uc3QgeyBpc1N0YWNrZWQsIHNlcmllczogY2hhcnRTZXJpZXMgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGltaXRzQ2FjaGUgPSB7fTtcblxuICAgICAgICBpZiAoaXNTdGFja2VkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJ0U2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzID0gY2hhcnRTZXJpZXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc05hbWUgPSBzZXJpZXMuYXhpcztcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBheGlzTmFtZSArIHNlcmllcy5zdGFjaztcblxuICAgICAgICAgICAgICAgIGxldCBsaW1pdHMgPSBsaW1pdHNDYWNoZVtrZXldO1xuICAgICAgICAgICAgICAgIGlmICghbGltaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cyA9IHRoaXMuc3RhY2tMaW1pdHMoYXhpc05hbWUsIHNlcmllcy5zdGFjayk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JUb3RhbHMgPSB0aGlzLmVycm9yVG90YWxzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JUb3RhbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclRvdGFscy5uZWdhdGl2ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdHMubWluID0gTWF0aC5taW4obGltaXRzLm1pbiwgc3BhcnNlQXJyYXlMaW1pdHMoZXJyb3JUb3RhbHMubmVnYXRpdmUpLm1pbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JUb3RhbHMucG9zaXRpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRzLm1heCA9IE1hdGgubWF4KGxpbWl0cy5tYXgsIHNwYXJzZUFycmF5TGltaXRzKGVycm9yVG90YWxzLnBvc2l0aXZlKS5tYXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbWl0cy5taW4gIT09IE1BWF9WQUxVRSB8fCBsaW1pdHMubWF4ICE9PSBNSU5fVkFMVUUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0c0NhY2hlW2tleV0gPSBsaW1pdHM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxpbWl0cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gPSBsaW1pdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkRXJyb3JCYXIocG9pbnQsIGRhdGEsIGNhdGVnb3J5SXgpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgc2VyaWVzLCBzZXJpZXNJeCB9ID0gcG9pbnQ7XG4gICAgICAgIGNvbnN0IGVycm9yQmFycyA9IHBvaW50Lm9wdGlvbnMuZXJyb3JCYXJzO1xuICAgICAgICBjb25zdCBsb3dWYWx1ZSA9IGRhdGEuZmllbGRzW0VSUk9SX0xPV19GSUVMRF07XG4gICAgICAgIGNvbnN0IGhpZ2hWYWx1ZSA9IGRhdGEuZmllbGRzW0VSUk9SX0hJR0hfRklFTERdO1xuICAgICAgICBsZXQgZXJyb3JSYW5nZTtcblxuICAgICAgICBpZiAoaXNOdW1iZXIobG93VmFsdWUpICYmIGlzTnVtYmVyKGhpZ2hWYWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yUmFuZ2UgPSB7IGxvdzogbG93VmFsdWUsIGhpZ2g6IGhpZ2hWYWx1ZSB9O1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yQmFycyAmJiBkZWZpbmVkKGVycm9yQmFycy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzRXJyb3JSYW5nZXMgPSB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5zZXJpZXNFcnJvclJhbmdlc1tzZXJpZXNJeF0gPSB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzW3Nlcmllc0l4XSB8fFxuICAgICAgICAgICAgICAgIG5ldyBFcnJvclJhbmdlQ2FsY3VsYXRvcihlcnJvckJhcnMudmFsdWUsIHNlcmllcywgVkFMVUUpO1xuXG4gICAgICAgICAgICBlcnJvclJhbmdlID0gdGhpcy5zZXJpZXNFcnJvclJhbmdlc1tzZXJpZXNJeF0uZ2V0RXJyb3JSYW5nZSh2YWx1ZSwgZXJyb3JCYXJzLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvclJhbmdlKSB7XG4gICAgICAgICAgICBwb2ludC5sb3cgPSBlcnJvclJhbmdlLmxvdztcbiAgICAgICAgICAgIHBvaW50LmhpZ2ggPSBlcnJvclJhbmdlLmhpZ2g7XG4gICAgICAgICAgICB0aGlzLmFkZFBvaW50RXJyb3JCYXIocG9pbnQsIGNhdGVnb3J5SXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUG9pbnRFcnJvckJhcihwb2ludCwgY2F0ZWdvcnlJeCkge1xuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gIXRoaXMub3B0aW9ucy5pbnZlcnRBeGVzO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gcG9pbnQub3B0aW9ucy5lcnJvckJhcnM7XG4gICAgICAgIGxldCB7IHNlcmllcywgbG93LCBoaWdoIH0gPSBwb2ludDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzU3RhY2tlZCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tlZEVycm9yUmFuZ2UgPSB0aGlzLnN0YWNrZWRFcnJvclJhbmdlKHBvaW50LCBjYXRlZ29yeUl4KTtcbiAgICAgICAgICAgIGxvdyA9IHN0YWNrZWRFcnJvclJhbmdlLmxvdztcbiAgICAgICAgICAgIGhpZ2ggPSBzdGFja2VkRXJyb3JSYW5nZS5oaWdoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmllbGRzID0geyBjYXRlZ29yeUl4OiBjYXRlZ29yeUl4LCBzZXJpZXM6IHNlcmllcyB9O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVSYW5nZSh7IHZhbHVlOiBsb3cgfSwgZmllbGRzKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmFuZ2UoeyB2YWx1ZTogaGlnaCB9LCBmaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXJyb3JCYXIgPSBuZXcgQ2F0ZWdvcmljYWxFcnJvckJhcihsb3csIGhpZ2gsIGlzVmVydGljYWwsIHRoaXMsIHNlcmllcywgb3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmVycm9yQmFycyA9IFsgZXJyb3JCYXIgXTtcbiAgICAgICAgcG9pbnQuYXBwZW5kKGVycm9yQmFyKTtcbiAgICB9XG5cbiAgICBzdGFja2VkRXJyb3JSYW5nZShwb2ludCwgY2F0ZWdvcnlJeCkge1xuICAgICAgICBjb25zdCBwbG90VmFsdWUgPSB0aGlzLnBsb3RSYW5nZShwb2ludCwgMClbMV0gLSBwb2ludC52YWx1ZTtcbiAgICAgICAgY29uc3QgbG93ID0gcG9pbnQubG93ICsgcGxvdFZhbHVlO1xuICAgICAgICBjb25zdCBoaWdoID0gcG9pbnQuaGlnaCArIHBsb3RWYWx1ZTtcblxuICAgICAgICB0aGlzLmVycm9yVG90YWxzID0gdGhpcy5lcnJvclRvdGFscyB8fCB7IHBvc2l0aXZlOiBbXSwgbmVnYXRpdmU6IFtdIH07XG5cbiAgICAgICAgaWYgKGxvdyA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JUb3RhbHMubmVnYXRpdmVbY2F0ZWdvcnlJeF0gPSBNYXRoLm1pbih0aGlzLmVycm9yVG90YWxzLm5lZ2F0aXZlW2NhdGVnb3J5SXhdIHx8IDAsIGxvdyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JUb3RhbHMucG9zaXRpdmVbY2F0ZWdvcnlJeF0gPSBNYXRoLm1heCh0aGlzLmVycm9yVG90YWxzLnBvc2l0aXZlW2NhdGVnb3J5SXhdIHx8IDAsIGhpZ2gpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgbG93OiBsb3csIGhpZ2g6IGhpZ2ggfTtcbiAgICB9XG5cbiAgICBhZGRWYWx1ZShkYXRhLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yeUl4LCBzZXJpZXMsIHNlcmllc0l4IH0gPSBmaWVsZHM7XG5cbiAgICAgICAgbGV0IGNhdGVnb3J5UG9pbnRzID0gdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XTtcbiAgICAgICAgaWYgKCFjYXRlZ29yeVBvaW50cykge1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XSA9IGNhdGVnb3J5UG9pbnRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHNbc2VyaWVzSXhdO1xuICAgICAgICBpZiAoIXNlcmllc1BvaW50cykge1xuICAgICAgICAgICAgdGhpcy5zZXJpZXNQb2ludHNbc2VyaWVzSXhdID0gc2VyaWVzUG9pbnRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKTtcbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHBvaW50LCBmaWVsZHMpO1xuXG4gICAgICAgICAgICBwb2ludC5vd25lciA9IHRoaXM7XG4gICAgICAgICAgICBwb2ludC5ub3RlVGV4dCA9IGRhdGEuZmllbGRzLm5vdGVUZXh0O1xuICAgICAgICAgICAgaWYgKCFkZWZpbmVkKHBvaW50LmRhdGFJdGVtKSkge1xuICAgICAgICAgICAgICAgIHBvaW50LmRhdGFJdGVtID0gc2VyaWVzLmRhdGFbY2F0ZWdvcnlJeF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZEVycm9yQmFyKHBvaW50LCBkYXRhLCBjYXRlZ29yeUl4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICBzZXJpZXNQb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgIGNhdGVnb3J5UG9pbnRzLnB1c2gocG9pbnQpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlUmFuZ2UoZGF0YS52YWx1ZUZpZWxkcywgZmllbGRzKTtcbiAgICB9XG5cbiAgICBldmFsUG9pbnRPcHRpb25zKG9wdGlvbnMsIHZhbHVlLCBjYXRlZ29yeSwgY2F0ZWdvcnlJeCwgc2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHsgZGVmYXVsdHM6IHNlcmllcy5fZGVmYXVsdHMsIGV4Y2x1ZGVkOiBbIFwiZGF0YVwiLCBcImFnZ3JlZ2F0ZVwiLCBcIl9ldmVudHNcIiwgXCJ0b29sdGlwXCIsIFwiY29udGVudFwiLCBcInRlbXBsYXRlXCIsIFwidmlzdWFsXCIsIFwidG9nZ2xlXCIsIFwiX291dE9mUmFuZ2VNaW5Qb2ludFwiLCBcIl9vdXRPZlJhbmdlTWF4UG9pbnRcIiBdIH07XG5cbiAgICAgICAgbGV0IGRvRXZhbCA9IHRoaXMuX2V2YWxTZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICBpZiAoIWRlZmluZWQoZG9FdmFsKSkge1xuICAgICAgICAgICAgdGhpcy5fZXZhbFNlcmllc1tzZXJpZXNJeF0gPSBkb0V2YWwgPSBldmFsT3B0aW9ucyhvcHRpb25zLCB7fSwgc3RhdGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChkb0V2YWwpIHtcbiAgICAgICAgICAgIHBvaW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHBvaW50T3B0aW9ucyk7XG4gICAgICAgICAgICBldmFsT3B0aW9ucyhwb2ludE9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGluZGV4OiBjYXRlZ29yeUl4LFxuICAgICAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBzZXJpZXMuZGF0YVtjYXRlZ29yeUl4XVxuICAgICAgICAgICAgfSwgc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvaW50T3B0aW9ucztcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZShkYXRhLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBmaWVsZHMuc2VyaWVzLmF4aXM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgICAgbGV0IGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXTtcblxuICAgICAgICBpZiAoaXNGaW5pdGUodmFsdWUpICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gPVxuICAgICAgICAgICAgICAgIGF4aXNSYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgICAgICBheGlzUmFuZ2UubWluID0gTWF0aC5taW4oYXhpc1JhbmdlLm1pbiwgdmFsdWUpO1xuICAgICAgICAgICAgYXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KGF4aXNSYW5nZS5tYXgsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmllc1ZhbHVlQXhpcyhzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuICAgICAgICBjb25zdCBheGlzTmFtZSA9IHNlcmllcy5heGlzO1xuICAgICAgICBjb25zdCBheGlzID0gYXhpc05hbWUgPyBwbG90QXJlYS5uYW1lZFZhbHVlQXhlc1theGlzTmFtZV0gOiBwbG90QXJlYS52YWx1ZUF4aXM7XG5cbiAgICAgICAgaWYgKCFheGlzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbG9jYXRlIHZhbHVlIGF4aXMgd2l0aCBuYW1lIFwiICsgYXhpc05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF4aXM7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBjYXRlZ29yeVNsb3RzID0gdGhpcy5jYXRlZ29yeVNsb3RzID0gW107XG4gICAgICAgIGNvbnN0IGNoYXJ0UG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBsZXQgcG9pbnRJeCA9IDA7XG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZURhdGFQb2ludHMoKGRhdGEsIGZpZWxkcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjYXRlZ29yeUl4LCBzZXJpZXM6IGN1cnJlbnRTZXJpZXMgfSA9IGZpZWxkcztcblxuICAgICAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdGhpcy5zZXJpZXNWYWx1ZUF4aXMoY3VycmVudFNlcmllcyk7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGNoYXJ0UG9pbnRzW3BvaW50SXgrK107XG5cbiAgICAgICAgICAgIGxldCBjYXRlZ29yeVNsb3QgPSBjYXRlZ29yeVNsb3RzW2NhdGVnb3J5SXhdO1xuICAgICAgICAgICAgaWYgKCFjYXRlZ29yeVNsb3QpIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeVNsb3RzW2NhdGVnb3J5SXhdID0gY2F0ZWdvcnlTbG90ID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNsb3QoY2F0ZWdvcnlBeGlzLCBjYXRlZ29yeUl4LCB2YWx1ZUF4aXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbG90UmFuZ2UgPSB0aGlzLnBsb3RSYW5nZShwb2ludCwgdmFsdWVBeGlzLnN0YXJ0VmFsdWUoKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVTbG90ID0gdGhpcy52YWx1ZVNsb3QodmFsdWVBeGlzLCBwbG90UmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVNsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRTbG90ID0gdGhpcy5wb2ludFNsb3QoY2F0ZWdvcnlTbG90LCB2YWx1ZVNsb3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmFib3ZlQXhpcyA9IHRoaXMuYWJvdmVBeGlzKHBvaW50LCB2YWx1ZUF4aXMpO1xuICAgICAgICAgICAgICAgICAgICBwb2ludC5zdGFja1ZhbHVlID0gcGxvdFJhbmdlWzFdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTdGFja2VkMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5wZXJjZW50YWdlID0gdGhpcy5wbG90VmFsdWUocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZsb3dQb2ludChwb2ludCwgcG9pbnRTbG90KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwb2ludC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlZmxvd0NhdGVnb3JpZXMoY2F0ZWdvcnlTbG90cyk7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNsaXAgJiYgdGhpcy5vcHRpb25zLmxpbWl0UG9pbnRzICYmIHRoaXMucG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5saW1pdFBvaW50cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ib3ggPSB0YXJnZXRCb3g7XG4gICAgfVxuXG4gICAgdmFsdWVTbG90KHZhbHVlQXhpcywgcGxvdFJhbmdlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZUF4aXMuZ2V0U2xvdChwbG90UmFuZ2VbMF0sIHBsb3RSYW5nZVsxXSwgIXRoaXMub3B0aW9ucy5jbGlwKTtcbiAgICB9XG5cbiAgICBsaW1pdFBvaW50cygpIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBjYXRlZ29yeVBvaW50c1swXS5jb25jYXQobGFzdChjYXRlZ29yeVBvaW50cykpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKHBvaW50c1tpZHhdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW1pdFBvaW50KHBvaW50c1tpZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxpbWl0UG9pbnQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgbGltaXR0ZWRTbG90ID0gdGhpcy5jYXRlZ29yeUF4aXMubGltaXRTbG90KHBvaW50LmJveCk7XG4gICAgICAgIGlmICghbGltaXR0ZWRTbG90LmVxdWFscyhwb2ludC5ib3gpKSB7XG4gICAgICAgICAgICBwb2ludC5yZWZsb3cobGltaXR0ZWRTbG90KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFib3ZlQXhpcyhwb2ludCwgdmFsdWVBeGlzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNDcm9zc2luZ1ZhbHVlID0gdGhpcy5jYXRlZ29yeUF4aXNDcm9zc2luZ1ZhbHVlKHZhbHVlQXhpcyk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9pbnQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlQXhpcy5vcHRpb25zLnJldmVyc2UgP1xuICAgICAgICAgICAgdmFsdWUgPCBheGlzQ3Jvc3NpbmdWYWx1ZSA6IHZhbHVlID49IGF4aXNDcm9zc2luZ1ZhbHVlO1xuICAgIH1cblxuICAgIGNhdGVnb3J5QXhpc0Nyb3NzaW5nVmFsdWUodmFsdWVBeGlzKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdmFsdWVBeGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNyb3NzaW5nVmFsdWVzID0gW10uY29uY2F0KFxuICAgICAgICAgICAgb3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZXMgfHwgb3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBjcm9zc2luZ1ZhbHVlc1tjYXRlZ29yeUF4aXMuYXhpc0luZGV4IHx8IDBdIHx8IDA7XG4gICAgfVxuXG4gICAgcmVmbG93UG9pbnQocG9pbnQsIHBvaW50U2xvdCkge1xuICAgICAgICBwb2ludC5yZWZsb3cocG9pbnRTbG90KTtcbiAgICB9XG5cbiAgICByZWZsb3dDYXRlZ29yaWVzKCkgeyB9XG5cbiAgICBwb2ludFNsb3QoY2F0ZWdvcnlTbG90LCB2YWx1ZVNsb3QpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgaW52ZXJ0QXhlcyA9IG9wdGlvbnMuaW52ZXJ0QXhlcztcbiAgICAgICAgY29uc3Qgc2xvdFggPSBpbnZlcnRBeGVzID8gdmFsdWVTbG90IDogY2F0ZWdvcnlTbG90O1xuICAgICAgICBjb25zdCBzbG90WSA9IGludmVydEF4ZXMgPyBjYXRlZ29yeVNsb3QgOiB2YWx1ZVNsb3Q7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCb3goc2xvdFgueDEsIHNsb3RZLnkxLCBzbG90WC54Miwgc2xvdFkueTIpO1xuICAgIH1cblxuICAgIGNhdGVnb3J5U2xvdChjYXRlZ29yeUF4aXMsIGNhdGVnb3J5SXgpIHtcbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5QXhpcy5nZXRTbG90KGNhdGVnb3J5SXgpO1xuICAgIH1cblxuICAgIHRyYXZlcnNlRGF0YVBvaW50cyhjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLm9wdGlvbnMuc2VyaWVzO1xuICAgICAgICBjb25zdCBjb3VudCA9IGNhdGVnb3JpZXNDb3VudChzZXJpZXMpO1xuICAgICAgICBjb25zdCBzZXJpZXNDb3VudCA9IHNlcmllcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllc0NvdW50OyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICB0aGlzLl9vdXRPZlJhbmdlQ2FsbGJhY2soc2VyaWVzW3Nlcmllc0l4XSwgXCJfb3V0T2ZSYW5nZU1pblBvaW50XCIsIHNlcmllc0l4LCBjYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBjYXRlZ29yeUl4ID0gMDsgY2F0ZWdvcnlJeCA8IGNvdW50OyBjYXRlZ29yeUl4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXNDb3VudDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnlBeGlzLmNhdGVnb3J5QXQoY2F0ZWdvcnlJeCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnREYXRhID0gdGhpcy5fYmluZFBvaW50KGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBjYXRlZ29yeUl4KTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHBvaW50RGF0YSwge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogY3VycmVudENhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUl4OiBjYXRlZ29yeUl4LFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzQ291bnQ6IGNvdW50LFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0l4OiBzZXJpZXNJeFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllc0NvdW50OyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICB0aGlzLl9vdXRPZlJhbmdlQ2FsbGJhY2soc2VyaWVzW3Nlcmllc0l4XSwgXCJfb3V0T2ZSYW5nZU1heFBvaW50XCIsIHNlcmllc0l4LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb3V0T2ZSYW5nZUNhbGxiYWNrKHNlcmllcywgZmllbGQsIHNlcmllc0l4LCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBvdXRPZlJhbmdlUG9pbnQgPSBzZXJpZXNbZmllbGRdO1xuICAgICAgICBpZiAob3V0T2ZSYW5nZVBvaW50KSB7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeUl4ID0gb3V0T2ZSYW5nZVBvaW50LmNhdGVnb3J5SXg7XG4gICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSB0aGlzLl9iaW5kUG9pbnQoc2VyaWVzLCBzZXJpZXNJeCwgY2F0ZWdvcnlJeCwgb3V0T2ZSYW5nZVBvaW50Lml0ZW0pO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhwb2ludERhdGEsIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogb3V0T2ZSYW5nZVBvaW50LmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5SXg6IGNhdGVnb3J5SXgsXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICAgICAgc2VyaWVzSXg6IHNlcmllc0l4LFxuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBvdXRPZlJhbmdlUG9pbnQuaXRlbVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYmluZFBvaW50KHNlcmllcywgc2VyaWVzSXgsIGNhdGVnb3J5SXgsIGl0ZW0pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9iaW5kQ2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRDYWNoZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJpbmRDYWNoZSA9IHRoaXMuX2JpbmRDYWNoZVtzZXJpZXNJeF07XG4gICAgICAgIGlmICghYmluZENhY2hlKSB7XG4gICAgICAgICAgICBiaW5kQ2FjaGUgPSB0aGlzLl9iaW5kQ2FjaGVbc2VyaWVzSXhdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YSA9IGJpbmRDYWNoZVtjYXRlZ29yeUl4XTtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gYmluZENhY2hlW2NhdGVnb3J5SXhdID0gU2VyaWVzQmluZGVyLmN1cnJlbnQuYmluZFBvaW50KHNlcmllcywgY2F0ZWdvcnlJeCwgaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKHBvaW50LnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhmb3JtYXQsIHBvaW50LnZhbHVlKTtcbiAgICB9XG5cbiAgICBwb2ludFZhbHVlKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEudmFsdWVGaWVsZHMudmFsdWU7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhDYXRlZ29yaWNhbENoYXJ0LCB7XG4gICAgc2VyaWVzOiBbXSxcbiAgICBpbnZlcnRBeGVzOiBmYWxzZSxcbiAgICBpc1N0YWNrZWQ6IGZhbHNlLFxuICAgIGNsaXA6IHRydWUsXG4gICAgbGltaXRQb2ludHM6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yaWNhbENoYXJ0O1xuIiwiaW1wb3J0IHsgU0VSSUVTX0NMSUNLLCBTRVJJRVNfSE9WRVIsIFNFUklFU19MRUFWRSwgU0VSSUVTX09WRVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZXZlbnRFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgUG9pbnRFdmVudHNNaXhpbiA9IHtcbiAgICBjbGljazogZnVuY3Rpb24oY2hhcnQsIGUpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJ0LnRyaWdnZXIoXG4gICAgICAgICAgICBTRVJJRVNfQ0xJQ0ssXG4gICAgICAgICAgICB0aGlzLmV2ZW50QXJncyhlKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICBob3ZlcjogZnVuY3Rpb24oY2hhcnQsIGUpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJ0LnRyaWdnZXIoXG4gICAgICAgICAgICBTRVJJRVNfSE9WRVIsXG4gICAgICAgICAgICB0aGlzLmV2ZW50QXJncyhlKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICBvdmVyOiBmdW5jdGlvbihjaGFydCwgZSkge1xuICAgICAgICByZXR1cm4gY2hhcnQudHJpZ2dlcihcbiAgICAgICAgICAgIFNFUklFU19PVkVSLFxuICAgICAgICAgICAgdGhpcy5ldmVudEFyZ3MoZSlcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgb3V0OiBmdW5jdGlvbihjaGFydCwgZSkge1xuICAgICAgICByZXR1cm4gY2hhcnQudHJpZ2dlcihcbiAgICAgICAgICAgIFNFUklFU19MRUFWRSxcbiAgICAgICAgICAgIHRoaXMuZXZlbnRBcmdzKGUpXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIGV2ZW50QXJnczogZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICBzdGFja1ZhbHVlOiB0aGlzLnN0YWNrVmFsdWUsXG4gICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXMsXG4gICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgIHJ1bm5pbmdUb3RhbDogdGhpcy5ydW5uaW5nVG90YWwsXG4gICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbCxcbiAgICAgICAgICAgIGVsZW1lbnQ6IGV2ZW50RWxlbWVudChlKSxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICBwb2ludDogdGhpc1xuICAgICAgICB9O1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50RXZlbnRzTWl4aW47IiwiaW1wb3J0IHsgTm90ZSB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IE5vdGVNaXhpbiA9IHtcbiAgICBjcmVhdGVOb3RlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5ub3RlcztcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMubm90ZVRleHQgfHwgb3B0aW9ucy5sYWJlbC50ZXh0O1xuXG4gICAgICAgIGlmIChvcHRpb25zLnZpc2libGUgIT09IGZhbHNlICYmIGRlZmluZWQodGV4dCkgJiYgdGV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ub3RlID0gbmV3IE5vdGUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllc1xuICAgICAgICAgICAgfSwgdGhpcy5vcHRpb25zLm5vdGVzLCB0aGlzLm93bmVyLmNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubm90ZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBOb3RlTWl4aW47IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSwgQ29sb3IgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgVGV4dEJveCwgU2hhcGVFbGVtZW50LCBCb3gsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IE5vdGVNaXhpbiBmcm9tICcuLi9taXhpbnMvbm90ZS1taXhpbic7XG5pbXBvcnQgeyBMSU5FX01BUktFUl9TSVpFLCBGQURFSU4sIElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OLCBCT1JERVJfQlJJR0hUTkVTUywgVE9PTFRJUF9PRkZTRVQsIEFCT1ZFLCBCRUxPVyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IFdISVRFLCBDSVJDTEUsIENFTlRFUiwgVE9QLCBCT1RUT00sIExFRlQsIEhJR0hMSUdIVF9aSU5ERVggfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGdldFRlbXBsYXRlLCB2YWx1ZU9yRGVmYXVsdCwgZ2V0U3BhY2luZyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIExpbmVQb2ludCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuYWJvdmVBeGlzID0gdmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLmFib3ZlQXhpcywgdHJ1ZSk7XG4gICAgICAgIHRoaXMudG9vbHRpcFRyYWNraW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgbWFya2VycywgbGFiZWxzIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKG1hcmtlcnMudmlzaWJsZSAmJiBtYXJrZXJzLnNpemUpIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VyID0gdGhpcy5jcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubWFya2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYWJlbHMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxUZW1wbGF0ZSA9IGdldFRlbXBsYXRlKGxhYmVscyk7XG4gICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSB0aGlzLnBvaW50RGF0YSgpO1xuICAgICAgICAgICAgbGV0IGxhYmVsVGV4dCA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IGxhYmVsVGVtcGxhdGUocG9pbnREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWxzLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IHRoaXMuZm9ybWF0VmFsdWUobGFiZWxzLmZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gbmV3IFRleHRCb3gobGFiZWxUZXh0LFxuICAgICAgICAgICAgICAgIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBhbGlnbjogQ0VOVEVSLFxuICAgICAgICAgICAgICAgICAgICB2QWxpZ246IENFTlRFUixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiB2YWx1ZU9yRGVmYXVsdChsYWJlbHMuekluZGV4LCB0aGlzLnNlcmllcy56SW5kZXgpXG4gICAgICAgICAgICAgICAgfSwgbGFiZWxzKSxcbiAgICAgICAgICAgICAgICBwb2ludERhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmxhYmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlTm90ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLmVycm9yQmFyKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmVycm9yQmFyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hcmtlckJvcmRlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5tYXJrZXJzO1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gb3B0aW9ucy5iYWNrZ3JvdW5kO1xuICAgICAgICBjb25zdCBib3JkZXIgPSBkZWVwRXh0ZW5kKHsgY29sb3I6IHRoaXMuY29sb3IgfSwgb3B0aW9ucy5ib3JkZXIpO1xuXG4gICAgICAgIGlmICghZGVmaW5lZChib3JkZXIuY29sb3IpKSB7XG4gICAgICAgICAgICBib3JkZXIuY29sb3IgPSBuZXcgQ29sb3IoYmFja2dyb3VuZCkuYnJpZ2h0bmVzcyhCT1JERVJfQlJJR0hUTkVTUykudG9IZXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3JkZXI7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge31cblxuICAgIGNyZWF0ZU1hcmtlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5tYXJrZXJzO1xuICAgICAgICBjb25zdCBtYXJrZXIgPSBuZXcgU2hhcGVFbGVtZW50KHtcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMudHlwZSxcbiAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLnNpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnJvdGF0aW9uLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9yZGVyOiB0aGlzLm1hcmtlckJvcmRlcigpLFxuICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5zZXJpZXMub3BhY2l0eSB8fCBvcHRpb25zLm9wYWNpdHksXG4gICAgICAgICAgICB6SW5kZXg6IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMuekluZGV4LCB0aGlzLnNlcmllcy56SW5kZXgpLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiBvcHRpb25zLmFuaW1hdGlvbixcbiAgICAgICAgICAgIHZpc3VhbDogb3B0aW9ucy52aXN1YWxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXMsXG4gICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgIH1cblxuICAgIG1hcmtlckJveCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hcmtlcikge1xuICAgICAgICAgICAgdGhpcy5tYXJrZXIgPSB0aGlzLmNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgdGhpcy5tYXJrZXIucmVmbG93KHRoaXMuX2NoaWxkQm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm1hcmtlci5ib3g7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGFib3ZlQXhpcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB0YXJnZXRCb3g7XG4gICAgICAgIGNvbnN0IGNoaWxkQm94ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBpZiAoYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRCb3gueTEgLT0gY2hpbGRCb3guaGVpZ2h0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LnkyICs9IGNoaWxkQm94LmhlaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LngxICs9IGNoaWxkQm94LndpZHRoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LngyIC09IGNoaWxkQm94LndpZHRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jaGlsZEJveCA9IGNoaWxkQm94O1xuICAgICAgICBpZiAodGhpcy5tYXJrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VyLnJlZmxvdyhjaGlsZEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZmxvd0xhYmVsKGNoaWxkQm94KTtcblxuICAgICAgICBpZiAodGhpcy5lcnJvckJhcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lcnJvckJhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yQmFyc1tpXS5yZWZsb3coY2hpbGRCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgbGV0IG5vdGVUYXJnZXRCb3ggPSB0aGlzLm1hcmtlckJveCgpO1xuXG4gICAgICAgICAgICBpZiAoIShvcHRpb25zLm1hcmtlcnMudmlzaWJsZSAmJiBvcHRpb25zLm1hcmtlcnMuc2l6ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBub3RlVGFyZ2V0Qm94LmNlbnRlcigpO1xuICAgICAgICAgICAgICAgIG5vdGVUYXJnZXRCb3ggPSBuZXcgQm94KGNlbnRlci54LCBjZW50ZXIueSwgY2VudGVyLngsIGNlbnRlci55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ub3RlLnJlZmxvdyhub3RlVGFyZ2V0Qm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvd0xhYmVsKGJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxhYmVsIH0gPSB0aGlzO1xuICAgICAgICBsZXQgYW5jaG9yID0gb3B0aW9ucy5sYWJlbHMucG9zaXRpb247XG5cbiAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICBhbmNob3IgPSBhbmNob3IgPT09IEFCT1ZFID8gVE9QIDogYW5jaG9yO1xuICAgICAgICAgICAgYW5jaG9yID0gYW5jaG9yID09PSBCRUxPVyA/IEJPVFRPTSA6IGFuY2hvcjtcblxuICAgICAgICAgICAgbGFiZWwucmVmbG93KGJveCk7XG4gICAgICAgICAgICBsYWJlbC5ib3guYWxpZ25Ubyh0aGlzLm1hcmtlckJveCgpLCBhbmNob3IpO1xuICAgICAgICAgICAgbGFiZWwucmVmbG93KGxhYmVsLmJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVIaWdobGlnaHQoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0Lm1hcmtlcnM7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb2xvciA9IHRoaXMubWFya2VyQm9yZGVyKCkuY29sb3I7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMubWFya2VycztcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMuc2l6ZSArIChvcHRpb25zLmJvcmRlci53aWR0aCB8fCAwKSArIChtYXJrZXJzLmJvcmRlci53aWR0aCB8fCAwKTtcblxuICAgICAgICBjb25zdCBzaGFkb3cgPSBuZXcgU2hhcGVFbGVtZW50KHtcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMudHlwZSxcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb24sXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBtYXJrZXJzLmNvbG9yIHx8IGRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBtYXJrZXJzLmJvcmRlci5jb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogbWFya2Vycy5ib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdmFsdWVPckRlZmF1bHQobWFya2Vycy5ib3JkZXIub3BhY2l0eSwgMSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcGFjaXR5OiB2YWx1ZU9yRGVmYXVsdChtYXJrZXJzLm9wYWNpdHksIDEpXG4gICAgICAgIH0pO1xuICAgICAgICBzaGFkb3cucmVmbG93KHRoaXMuX2NoaWxkQm94KTtcblxuICAgICAgICByZXR1cm4gc2hhZG93LmdldEVsZW1lbnQoKTtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWwoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5tYXJrZXIgfHwge30pLnZpc3VhbDtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWxBcmdzKCkge1xuICAgICAgICBjb25zdCBtYXJrZXIgPSB0aGlzLm1hcmtlcjtcbiAgICAgICAgbGV0IHZpc3VhbCwgcmVjdDtcblxuICAgICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgICAgICByZWN0ID0gbWFya2VyLnBhZGRpbmdCb3gudG9SZWN0KCk7XG4gICAgICAgICAgICB2aXN1YWwgPSBtYXJrZXIudmlzdWFsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMub3B0aW9ucy5tYXJrZXJzLnNpemU7XG4gICAgICAgICAgICBjb25zdCBoYWxmU2l6ZSA9IHNpemUgLyAyO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgICAgICByZWN0ID0gbmV3IGdlb20uUmVjdChbIGNlbnRlci54IC0gaGFsZlNpemUsIGNlbnRlci55IC0gaGFsZlNpemUgXSwgWyBzaXplLCBzaXplIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIHJlY3Q6IHJlY3QsXG4gICAgICAgICAgICB2aXN1YWw6IHZpc3VhbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvb2x0aXBBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlckJveCA9IHRoaXMubWFya2VyQm94KCk7XG4gICAgICAgIGNvbnN0IGNsaXBCb3ggPSB0aGlzLm93bmVyLnBhbmUuY2xpcEJveCgpO1xuICAgICAgICBjb25zdCBzaG93VG9vbHRpcCA9ICFjbGlwQm94IHx8IGNsaXBCb3gub3ZlcmxhcHMobWFya2VyQm94KTtcblxuICAgICAgICBpZiAoc2hvd1Rvb2x0aXApIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBtYXJrZXJCb3gueDIgKyBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxBbGlnbiA9IExFRlQ7XG4gICAgICAgICAgICBsZXQgeSwgdmVydGljYWxBbGlnbjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgeSA9IG1hcmtlckJveC55MTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5ID0gbWFya2VyQm94LnkyO1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBUT1A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludCh4LCB5KSxcbiAgICAgICAgICAgICAgICBhbGlnbjoge1xuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsQWxpZ24sXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbEFsaWduXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5mb3JtYXRQb2ludFZhbHVlKHRoaXMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgb3ZlcmxhcHNCb3goYm94KSB7XG4gICAgICAgIGNvbnN0IG1hcmtlckJveCA9IHRoaXMubWFya2VyQm94KCk7XG4gICAgICAgIHJldHVybiBtYXJrZXJCb3gub3ZlcmxhcHMoYm94KTtcbiAgICB9XG5cbiAgICB1bmNsaXBFbGVtZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWwub3B0aW9ucy5ub2NsaXAgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RlLm9wdGlvbnMubm9jbGlwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZSxcbiAgICAgICAgICAgIHN0YWNrVmFsdWU6IHRoaXMuc3RhY2tWYWx1ZSxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXNcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbkxpbmVQb2ludC5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgdmVydGljYWw6IHRydWUsXG4gICAgbWFya2Vyczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBiYWNrZ3JvdW5kOiBXSElURSxcbiAgICAgICAgc2l6ZTogTElORV9NQVJLRVJfU0laRSxcbiAgICAgICAgdHlwZTogQ0lSQ0xFLFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAyXG4gICAgICAgIH0sXG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgcG9zaXRpb246IEFCT1ZFLFxuICAgICAgICBtYXJnaW46IGdldFNwYWNpbmcoMyksXG4gICAgICAgIHBhZGRpbmc6IGdldFNwYWNpbmcoNCksXG4gICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgdHlwZTogRkFERUlOLFxuICAgICAgICAgICAgZGVsYXk6IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5vdGVzOiB7XG4gICAgICAgIGxhYmVsOiB7fVxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB6SW5kZXg6IEhJR0hMSUdIVF9aSU5ERVhcbiAgICB9LFxuICAgIGVycm9yQmFyczoge1xuICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICB9XG4gICAgfVxufTtcblxuZGVlcEV4dGVuZChMaW5lUG9pbnQucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcbmRlZXBFeHRlbmQoTGluZVBvaW50LnByb3RvdHlwZSwgTm90ZU1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZVBvaW50O1xuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgZGVmaW5lZCwgaXNGdW5jdGlvbiwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBMaW5lU2VnbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IobGluZVBvaW50cywgc2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubGluZVBvaW50cyA9IGxpbmVQb2ludHM7XG4gICAgICAgIHRoaXMuc2VyaWVzID0gc2VyaWVzO1xuICAgICAgICB0aGlzLnNlcmllc0l4ID0gc2VyaWVzSXg7XG4gICAgfVxuXG4gICAgcG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0dlb21ldHJ5UG9pbnRzKHRoaXMubGluZVBvaW50cyk7XG4gICAgfVxuXG4gICAgdG9HZW9tZXRyeVBvaW50cyhwb2ludHMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbaV0gJiYgcG9pbnRzW2ldLnZpc2libGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocG9pbnRzW2ldLl9jaGlsZEJveC50b1JlY3QoKS5jZW50ZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tVmlzdWFsID0gdGhpcy5zZXJpZXMudmlzdWFsO1xuICAgICAgICBpZiAoY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbCA9IGN1c3RvbVZpc3VhbCh7XG4gICAgICAgICAgICAgICAgcG9pbnRzOiB0aGlzLnRvR2VvbWV0cnlQb2ludHModGhpcy5saW5lUG9pbnRzKSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50VmlzdWFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMudmlzdWFsICYmICFkZWZpbmVkKHRoaXMudmlzdWFsLm9wdGlvbnMuekluZGV4KSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsLm9wdGlvbnMuekluZGV4ID0gdGhpcy5zZXJpZXMuekluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50VmlzdWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWdtZW50VmlzdWFsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHNlcmllcyB9ID0gdGhpcztcbiAgICAgICAgbGV0IHsgY29sb3IsIF9kZWZhdWx0czogZGVmYXVsdHMgfSA9IHNlcmllcztcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihjb2xvcikgJiYgZGVmYXVsdHMpIHtcbiAgICAgICAgICAgIGNvbG9yID0gZGVmYXVsdHMuY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lID0gZHJhdy5QYXRoLmZyb21Qb2ludHModGhpcy5wb2ludHMoKSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBzZXJpZXMud2lkdGgsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IHNlcmllcy5kYXNoVHlwZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpJbmRleDogc2VyaWVzLnpJbmRleFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jbG9zZWQpIHtcbiAgICAgICAgICAgIGxpbmUuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlzdWFsID0gbGluZTtcbiAgICB9XG5cbiAgICBhbGlhc0ZvcihlLCBjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldE5lYXJlc3RQb2ludChjb29yZHMueCwgY29vcmRzLnksIHRoaXMuc2VyaWVzSXgpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTGluZVNlZ21lbnQsIHtcbiAgICBjbG9zZWQ6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZVNlZ21lbnQ7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgbGFzdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IFN0ZXBMaW5lTWl4aW4gPSB7XG4gICAgY2FsY3VsYXRlU3RlcFBvaW50czogZnVuY3Rpb24ocG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMucGFyZW50LnBsb3RBcmVhLnNlcmllc0NhdGVnb3J5QXhpcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IHsganVzdGlmaWVkLCB2ZXJ0aWNhbCwgcmV2ZXJzZSB9ID0gY2F0ZWdvcnlBeGlzLm9wdGlvbnM7XG5cbiAgICAgICAgY29uc3Qgc3RlcEF4aXMgPSB2ZXJ0aWNhbCA/IFggOiBZO1xuICAgICAgICBjb25zdCBheGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3Qgc3RlcERpciA9IHJldmVyc2UgPyAyIDogMTtcbiAgICAgICAgY29uc3QgZGlyID0gc3RlcERpcjtcblxuICAgICAgICBsZXQgcHJldmlvdXNQb2ludCA9IHRvR2VvbWV0cnlQb2ludChwb2ludHNbMF0sIHN0ZXBBeGlzLCBzdGVwRGlyLCBheGlzLCBkaXIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbIHByZXZpb3VzUG9pbnQgXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAxOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0b0dlb21ldHJ5UG9pbnQocG9pbnRzW2lkeF0sIHN0ZXBBeGlzLCBzdGVwRGlyLCBheGlzLCBkaXIpO1xuXG4gICAgICAgICAgICBpZiAocHJldmlvdXNQb2ludFtzdGVwQXhpc10gIT09IHBvaW50W3N0ZXBBeGlzXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBQb2ludCA9IG5ldyBnZW9tLlBvaW50KCk7XG4gICAgICAgICAgICAgICAgc3RlcFBvaW50W3N0ZXBBeGlzXSA9IHByZXZpb3VzUG9pbnRbc3RlcEF4aXNdO1xuICAgICAgICAgICAgICAgIHN0ZXBQb2ludFtheGlzXSA9IHBvaW50W2F4aXNdO1xuXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3RlcFBvaW50LCBwb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByZXZpb3VzUG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghanVzdGlmaWVkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0b0dlb21ldHJ5UG9pbnQobGFzdChwb2ludHMpLCBzdGVwQXhpcywgc3RlcERpciwgYXhpcywgcmV2ZXJzZSA/IDEgOiAyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNQb2ludCAhPT0gbGFzdChyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwcmV2aW91c1BvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9XG59O1xuXG5mdW5jdGlvbiB0b0dlb21ldHJ5UG9pbnQobGludFBvaW50LCBzdGVwQXhpcywgc3RlcERpciwgYXhpcywgZGlyKSB7XG4gICAgY29uc3QgYm94ID0gbGludFBvaW50LmJveDtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgZ2VvbS5Qb2ludCgpO1xuXG4gICAgcmVzdWx0W3N0ZXBBeGlzXSA9IGJveFtzdGVwQXhpcyArIHN0ZXBEaXJdO1xuICAgIHJlc3VsdFtheGlzXSA9IGJveFtheGlzICsgZGlyXTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBMaW5lTWl4aW47IiwiaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4vbGluZS1zZWdtZW50JztcbmltcG9ydCBTdGVwTGluZU1peGluIGZyb20gJy4vc3RlcC1saW5lLW1peGluJztcbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTdGVwTGluZVNlZ21lbnQgZXh0ZW5kcyBMaW5lU2VnbWVudCB7XG4gICAgcG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVTdGVwUG9pbnRzKHRoaXMubGluZVBvaW50cyk7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFN0ZXBMaW5lU2VnbWVudC5wcm90b3R5cGUsIFN0ZXBMaW5lTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBTdGVwTGluZVNlZ21lbnQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSAnLi9saW5lLXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBDdXJ2ZVByb2Nlc3NvciB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU3BsaW5lU2VnbWVudCBleHRlbmRzIExpbmVTZWdtZW50IHtcbiAgICBzZWdtZW50VmlzdWFsKCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBzZXJpZXMuX2RlZmF1bHRzO1xuICAgICAgICBsZXQgY29sb3IgPSBzZXJpZXMuY29sb3I7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29sb3IpICYmIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBjb2xvciA9IGRlZmF1bHRzLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VydmVQcm9jZXNzb3IgPSBuZXcgQ3VydmVQcm9jZXNzb3IodGhpcy5vcHRpb25zLmNsb3NlZCk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gY3VydmVQcm9jZXNzb3IucHJvY2Vzcyh0aGlzLnBvaW50cygpKTtcbiAgICAgICAgY29uc3QgY3VydmUgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogc2VyaWVzLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNlcmllcy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBzZXJpZXMuZGFzaFR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6SW5kZXg6IHNlcmllcy56SW5kZXhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY3VydmUuc2VnbWVudHMucHVzaC5hcHBseShjdXJ2ZS5zZWdtZW50cywgc2VnbWVudHMpO1xuXG4gICAgICAgIHRoaXMudmlzdWFsID0gY3VydmU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVTZWdtZW50OyIsImltcG9ydCB7IFpFUk8sIElOVEVSUE9MQVRFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IExpbmVDaGFydE1peGluID0ge1xuICAgIHJlbmRlclNlZ21lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBzZXJpZXNQb2ludHMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IG9wdGlvbnMuc2VyaWVzO1xuICAgICAgICBjb25zdCBzZXJpZXNDb3VudCA9IHNlcmllc1BvaW50cy5sZW5ndGg7XG4gICAgICAgIGxldCBsYXN0U2VnbWVudDtcblxuICAgICAgICB0aGlzLl9zZWdtZW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXNDb3VudDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBjb25zdCBzb3J0ZWRQb2ludHMgPSB0aGlzLnNvcnRQb2ludHMoc2VyaWVzUG9pbnRzW3Nlcmllc0l4XSk7XG4gICAgICAgICAgICBjb25zdCBwb2ludENvdW50ID0gc29ydGVkUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBsaW5lUG9pbnRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgcG9pbnRDb3VudDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBzb3J0ZWRQb2ludHNbcG9pbnRJeF07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlcmllc01pc3NpbmdWYWx1ZXMoY3VycmVudFNlcmllcykgIT09IElOVEVSUE9MQVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lUG9pbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50ID0gdGhpcy5jcmVhdGVTZWdtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBsYXN0U2VnbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFNlZ21lbnQobGFzdFNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsaW5lUG9pbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudCA9IHRoaXMuY3JlYXRlU2VnbWVudChcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgsIGxhc3RTZWdtZW50XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRTZWdtZW50KGxhc3RTZWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4udW5zaGlmdC5hcHBseSh0aGlzLmNoaWxkcmVuLCB0aGlzLl9zZWdtZW50cyk7XG4gICAgfSxcblxuICAgIF9hZGRTZWdtZW50OiBmdW5jdGlvbihzZWdtZW50KSB7XG4gICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIHNlZ21lbnQucGFyZW50ID0gdGhpcztcbiAgICB9LFxuXG4gICAgc29ydFBvaW50czogZnVuY3Rpb24ocG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfSxcblxuICAgIHNlcmllc01pc3NpbmdWYWx1ZXM6IGZ1bmN0aW9uKHNlcmllcykge1xuICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWVzID0gc2VyaWVzLm1pc3NpbmdWYWx1ZXM7XG4gICAgICAgIGNvbnN0IGFzc3VtZVplcm8gPSAhbWlzc2luZ1ZhbHVlcyAmJiB0aGlzLm9wdGlvbnMuaXNTdGFja2VkO1xuXG4gICAgICAgIHJldHVybiBhc3N1bWVaZXJvID8gWkVSTyA6IG1pc3NpbmdWYWx1ZXMgfHwgSU5URVJQT0xBVEU7XG4gICAgfSxcblxuICAgIGdldE5lYXJlc3RQb2ludDogZnVuY3Rpb24oeCwgeSwgc2VyaWVzSXgpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IFBvaW50KHgsIHkpO1xuICAgICAgICBjb25zdCBhbGxQb2ludHMgPSB0aGlzLnNlcmllc1BvaW50c1tzZXJpZXNJeF07XG4gICAgICAgIGxldCBuZWFyZXN0UG9pbnREaXN0YW5jZSA9IE1BWF9WQUxVRTtcbiAgICAgICAgbGV0IG5lYXJlc3RQb2ludDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBhbGxQb2ludHNbaV07XG5cbiAgICAgICAgICAgIGlmIChwb2ludCAmJiBkZWZpbmVkKHBvaW50LnZhbHVlKSAmJiBwb2ludC52YWx1ZSAhPT0gbnVsbCAmJiBwb2ludC52aXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50Qm94ID0gcG9pbnQuYm94O1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50RGlzdGFuY2UgPSBwb2ludEJveC5jZW50ZXIoKS5kaXN0YW5jZVRvKHRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnREaXN0YW5jZSA8IG5lYXJlc3RQb2ludERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3RQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgICAgICAgICBuZWFyZXN0UG9pbnREaXN0YW5jZSA9IHBvaW50RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3RQb2ludDtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaW5lQ2hhcnRNaXhpbjsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgaW50ZXJwb2xhdGVWYWx1ZSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBDbGlwQW5pbWF0aW9uIGV4dGVuZHMgZHJhdy5BbmltYXRpb24ge1xuICAgIHNldHVwKCkge1xuICAgICAgICB0aGlzLl9zZXRFbmQodGhpcy5vcHRpb25zLmJveC54MSk7XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5vcHRpb25zLmJveDtcbiAgICAgICAgdGhpcy5fc2V0RW5kKGludGVycG9sYXRlVmFsdWUoYm94LngxLCBib3gueDIsIHBvcykpO1xuICAgIH1cblxuICAgIF9zZXRFbmQoeCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IGVsZW1lbnQuc2VnbWVudHM7XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0ID0gc2VnbWVudHNbMV0uYW5jaG9yKCk7XG4gICAgICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gc2VnbWVudHNbMl0uYW5jaG9yKCk7XG5cbiAgICAgICAgZWxlbWVudC5zdXNwZW5kKCk7XG4gICAgICAgIHRvcFJpZ2h0LnNldFgoeCk7XG4gICAgICAgIGVsZW1lbnQucmVzdW1lKCk7XG4gICAgICAgIGJvdHRvbVJpZ2h0LnNldFgoeCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhDbGlwQW5pbWF0aW9uLCB7XG4gICAgZHVyYXRpb246IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG59KTtcblxuZHJhdy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoXCJjbGlwXCIsIENsaXBBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBDbGlwQW5pbWF0aW9uOyIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbnlIYXNaSW5kZXgoZWxlbWVudHMpIHtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBlbGVtZW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKGVsZW1lbnRzW2lkeF0uekluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2xpcEFuaW1hdGlvbiBmcm9tICcuLi9hbmltYXRpb25zL2NsaXAtYW5pbWF0aW9uJztcbmltcG9ydCBhbnlIYXNaSW5kZXggZnJvbSAnLi4vdXRpbHMvYW55LWhhcy16LWluZGV4JztcbmltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBDbGlwQW5pbWF0aW9uTWl4aW4gPSB7XG4gICAgY3JlYXRlQW5pbWF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMuZ2V0Um9vdCgpO1xuICAgICAgICBpZiAocm9vdCAmJiAocm9vdC5vcHRpb25zIHx8IHt9KS50cmFuc2l0aW9ucyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHJvb3Quc2l6ZSgpO1xuICAgICAgICAgICAgY29uc3QgY2xpcFBhdGggPSBkcmF3LlBhdGguZnJvbVJlY3QoYm94LnRvUmVjdCgpKTtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmNsaXAoY2xpcFBhdGgpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgQ2xpcEFuaW1hdGlvbihjbGlwUGF0aCwge1xuICAgICAgICAgICAgICAgIGJveDogYm94XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhbnlIYXNaSW5kZXgodGhpcy5vcHRpb25zLnNlcmllcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDaGlsZHJlbkFuaW1hdGlvbihjbGlwUGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3NldENoaWxkcmVuQW5pbWF0aW9uOiBmdW5jdGlvbihjbGlwUGF0aCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmFuaW1hdGlvblBvaW50cygpO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpZHhdO1xuICAgICAgICAgICAgaWYgKHBvaW50ICYmIHBvaW50LnZpc3VhbCAmJiBkZWZpbmVkKHBvaW50LnZpc3VhbC5vcHRpb25zLnpJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBwb2ludC52aXN1YWwuY2xpcChjbGlwUGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDbGlwQW5pbWF0aW9uTWl4aW47IiwiaW1wb3J0IENhdGVnb3JpY2FsQ2hhcnQgZnJvbSAnLi4vY2F0ZWdvcmljYWwtY2hhcnQnO1xuaW1wb3J0IExpbmVQb2ludCBmcm9tICcuL2xpbmUtcG9pbnQnO1xuaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4vbGluZS1zZWdtZW50JztcbmltcG9ydCBTdGVwTGluZVNlZ21lbnQgZnJvbSAnLi9zdGVwLWxpbmUtc2VnbWVudCc7XG5pbXBvcnQgU3BsaW5lU2VnbWVudCBmcm9tICcuL3NwbGluZS1zZWdtZW50JztcbmltcG9ydCBMaW5lQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvbGluZS1jaGFydC1taXhpbic7XG5pbXBvcnQgQ2xpcEFuaW1hdGlvbk1peGluIGZyb20gJy4uL21peGlucy9jbGlwLWFuaW1hdGlvbi1taXhpbic7XG5cbmltcG9ydCB7IFpFUk8sIFNNT09USCwgU1RFUCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGlzRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBMaW5lQ2hhcnQgZXh0ZW5kcyBDYXRlZ29yaWNhbENoYXJ0IHtcbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdGFja1JhbmdlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyU2VnbWVudHMoKTtcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBMaW5lUG9pbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgbWlzc2luZ1ZhbHVlcyA9IHRoaXMuc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpO1xuICAgICAgICBsZXQgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzLnZhbHVlO1xuXG4gICAgICAgIGlmICghZGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nVmFsdWVzID09PSBaRVJPKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSB0aGlzLnBvaW50T3B0aW9ucyhzZXJpZXMsIHNlcmllc0l4KTtcbiAgICAgICAgcG9pbnRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgcG9pbnRPcHRpb25zLCB2YWx1ZSwgY2F0ZWdvcnksIGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXhcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgY29sb3IgPSBkYXRhLmZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgTGluZVBvaW50KHZhbHVlLCBwb2ludE9wdGlvbnMpO1xuICAgICAgICBwb2ludC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kKHBvaW50KTtcblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgcGxvdFJhbmdlKHBvaW50KSB7XG4gICAgICAgIGxldCBwbG90VmFsdWUgPSB0aGlzLnBsb3RWYWx1ZShwb2ludCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SXggPSBwb2ludC5jYXRlZ29yeUl4O1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhdGVnb3J5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBjYXRlZ29yeVBvaW50c1tpXTtcblxuICAgICAgICAgICAgICAgIGlmIChwb2ludCA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGxvdFZhbHVlICs9IHRoaXMucGxvdFZhbHVlKG90aGVyKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTdGFja2VkMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsb3RWYWx1ZSA9IE1hdGgubWluKHBsb3RWYWx1ZSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyBwbG90VmFsdWUsIHBsb3RWYWx1ZSBdO1xuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBjdXJyZW50U2VyaWVzLnN0eWxlO1xuICAgICAgICBsZXQgcG9pbnRUeXBlO1xuXG4gICAgICAgIGlmIChzdHlsZSA9PT0gU1RFUCkge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gU3RlcExpbmVTZWdtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlID09PSBTTU9PVEgpIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFNwbGluZVNlZ21lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludFR5cGUgPSBMaW5lU2VnbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgcG9pbnRUeXBlKGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwb2ludHNbaWR4XSB8fCB7fSkubWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdCh0aGlzLl9zZWdtZW50cyk7XG4gICAgfVxuXG4gICAgc3VwcG9ydHNQb2ludEluYWN0aXZlT3BhY2l0eSgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChMaW5lQ2hhcnQucHJvdG90eXBlLCBMaW5lQ2hhcnRNaXhpbiwgQ2xpcEFuaW1hdGlvbk1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZUNoYXJ0O1xuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1zZWdtZW50JztcblxuaW1wb3J0IHsgYXBwZW5kLCBkZWVwRXh0ZW5kLCBpc0Z1bmN0aW9uLCBsYXN0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQXJlYVNlZ21lbnQgZXh0ZW5kcyBMaW5lU2VnbWVudCB7XG4gICAgY29uc3RydWN0b3IobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgsIHByZXZTZWdtZW50LCBzdGFja1BvaW50cykge1xuICAgICAgICBzdXBlcihsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCk7XG5cbiAgICAgICAgdGhpcy5wcmV2U2VnbWVudCA9IHByZXZTZWdtZW50O1xuICAgICAgICB0aGlzLnN0YWNrUG9pbnRzID0gc3RhY2tQb2ludHM7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBzZXJpZXMuX2RlZmF1bHRzO1xuICAgICAgICBjb25zdCBsaW5lT3B0aW9ucyA9IHNlcmllcy5saW5lIHx8IHt9O1xuICAgICAgICBsZXQgY29sb3IgPSBzZXJpZXMuY29sb3I7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29sb3IpICYmIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBjb2xvciA9IGRlZmF1bHRzLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB6SW5kZXg6IHNlcmllcy56SW5kZXhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVGaWxsKHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGxpbmVPcHRpb25zLndpZHRoID4gMCAmJiBsaW5lT3B0aW9ucy52aXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVTdHJva2Uoe1xuICAgICAgICAgICAgICAgIHN0cm9rZTogZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIGxpbmVDYXA6IFwiYnV0dFwiXG4gICAgICAgICAgICAgICAgfSwgbGluZU9wdGlvbnMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICBsZXQgc2VnbWVudHMgPSB0aGlzLl9zdHJva2VTZWdtZW50cztcblxuICAgICAgICBpZiAoIXNlZ21lbnRzKSB7XG4gICAgICAgICAgICBzZWdtZW50cyA9IHRoaXMuX3N0cm9rZVNlZ21lbnRzID0gdGhpcy5jcmVhdGVTdHJva2VTZWdtZW50cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c0Zyb21Qb2ludHModGhpcy5wb2ludHMoKSk7XG4gICAgfVxuXG4gICAgc3RhY2tTZWdtZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMucHJldlNlZ21lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZTZWdtZW50LmNyZWF0ZVN0YWNrU2VnbWVudHModGhpcy5zdGFja1BvaW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTdGFja1NlZ21lbnRzKHRoaXMuc3RhY2tQb2ludHMpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0YWNrU2VnbWVudHMoc3RhY2tQb2ludHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMudG9HZW9tZXRyeVBvaW50cyhzdGFja1BvaW50cykpLnJldmVyc2UoKTtcbiAgICB9XG5cbiAgICBzZWdtZW50c0Zyb21Qb2ludHMocG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludHMubWFwKChwb2ludCkgPT4gbmV3IGdlb20uU2VnbWVudChwb2ludCkpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0cm9rZShzdHlsZSkge1xuICAgICAgICBjb25zdCBzdHJva2UgPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgc3Ryb2tlLnNlZ21lbnRzLnB1c2guYXBwbHkoc3Ryb2tlLnNlZ21lbnRzLCB0aGlzLnN0cm9rZVNlZ21lbnRzKCkpO1xuXG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChzdHJva2UpO1xuICAgIH1cblxuICAgIGhhc1N0YWNrU2VnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldlNlZ21lbnQgfHwgKHRoaXMuc3RhY2tQb2ludHMgJiYgdGhpcy5zdGFja1BvaW50cy5sZW5ndGgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUZpbGwoc3R5bGUpIHtcbiAgICAgICAgY29uc3Qgc3Ryb2tlU2VnbWVudHMgPSB0aGlzLnN0cm9rZVNlZ21lbnRzKCk7XG4gICAgICAgIGNvbnN0IGZpbGxTZWdtZW50cyA9IHN0cm9rZVNlZ21lbnRzLnNsaWNlKDApO1xuICAgICAgICBjb25zdCBoYXNTdGFja1NlZ21lbnRzID0gdGhpcy5oYXNTdGFja1NlZ21lbnQoKTtcblxuICAgICAgICBpZiAoaGFzU3RhY2tTZWdtZW50cykge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tTZWdtZW50cyA9IHRoaXMuc3RhY2tTZWdtZW50cygpO1xuXG4gICAgICAgICAgICBhcHBlbmQoZmlsbFNlZ21lbnRzLCBzdGFja1NlZ21lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGwgPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgZmlsbC5zZWdtZW50cy5wdXNoLmFwcGx5KGZpbGwuc2VnbWVudHMsIGZpbGxTZWdtZW50cyk7XG5cbiAgICAgICAgaWYgKCFoYXNTdGFja1NlZ21lbnRzICYmIHN0cm9rZVNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbFRvQXhlcyhmaWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChmaWxsKTtcbiAgICB9XG5cbiAgICBmaWxsVG9BeGVzKGZpbGxQYXRoKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIGNvbnN0IGludmVydEF4ZXMgPSBjaGFydC5vcHRpb25zLmludmVydEF4ZXM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IGNoYXJ0LnNlcmllc1ZhbHVlQXhpcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IGNyb3NzaW5nVmFsdWUgPSBjaGFydC5jYXRlZ29yeUF4aXNDcm9zc2luZ1ZhbHVlKHZhbHVlQXhpcyk7XG4gICAgICAgIGNvbnN0IGVuZFNsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdChjcm9zc2luZ1ZhbHVlLCBjcm9zc2luZ1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnN0cm9rZVNlZ21lbnRzKCk7XG4gICAgICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBzZWdtZW50c1swXS5hbmNob3IoKTtcbiAgICAgICAgY29uc3QgbGFzdFBvaW50ID0gbGFzdChzZWdtZW50cykuYW5jaG9yKCk7XG4gICAgICAgIGxldCBlbmQgPSBpbnZlcnRBeGVzID8gZW5kU2xvdC54MSA6IGVuZFNsb3QueTE7XG5cbiAgICAgICAgaWYgKGludmVydEF4ZXMpIHtcbiAgICAgICAgICAgIGZpbGxQYXRoLmxpbmVUbyhlbmQsIGxhc3RQb2ludC55KVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKGVuZCwgZmlyc3RQb2ludC55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbGxQYXRoLmxpbmVUbyhsYXN0UG9pbnQueCwgZW5kKVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKGZpcnN0UG9pbnQueCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJlYVNlZ21lbnQ7IiwiaW1wb3J0IFN0ZXBMaW5lTWl4aW4gZnJvbSAnLi4vbGluZS1jaGFydC9zdGVwLWxpbmUtbWl4aW4nO1xuaW1wb3J0IEFyZWFTZWdtZW50IGZyb20gJy4vYXJlYS1zZWdtZW50JztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFN0ZXBBcmVhU2VnbWVudCBleHRlbmRzIEFyZWFTZWdtZW50IHtcblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c0Zyb21Qb2ludHModGhpcy5jYWxjdWxhdGVTdGVwUG9pbnRzKHRoaXMubGluZVBvaW50cykpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0YWNrU2VnbWVudHMoc3RhY2tQb2ludHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMuY2FsY3VsYXRlU3RlcFBvaW50cyhzdGFja1BvaW50cykpLnJldmVyc2UoKTtcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoU3RlcEFyZWFTZWdtZW50LnByb3RvdHlwZSwgU3RlcExpbmVNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBBcmVhU2VnbWVudDsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgQ3VydmVQcm9jZXNzb3IgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IEFyZWFTZWdtZW50IGZyb20gJy4vYXJlYS1zZWdtZW50JztcblxuY2xhc3MgU3BsaW5lQXJlYVNlZ21lbnQgZXh0ZW5kcyBBcmVhU2VnbWVudCB7XG5cbiAgICBjcmVhdGVTdHJva2VTZWdtZW50cygpIHtcbiAgICAgICAgY29uc3QgY3VydmVQcm9jZXNzb3IgPSBuZXcgQ3VydmVQcm9jZXNzb3IodGhpcy5vcHRpb25zLmNsb3NlZCk7XG4gICAgICAgIGNvbnN0IGxpbmVQb2ludHMgPSB0aGlzLnBvaW50cygpO1xuXG4gICAgICAgIHJldHVybiBjdXJ2ZVByb2Nlc3Nvci5wcm9jZXNzKGxpbmVQb2ludHMpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0YWNrU2VnbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN0cm9rZVNlZ21lbnRzID0gdGhpcy5zdHJva2VTZWdtZW50cygpO1xuICAgICAgICBjb25zdCBzdGFja1NlZ21lbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IHN0cm9rZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGlkeCA+PSAwOyBpZHgtLSkge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHN0cm9rZVNlZ21lbnRzW2lkeF07XG4gICAgICAgICAgICBzdGFja1NlZ21lbnRzLnB1c2gobmV3IGdlb20uU2VnbWVudChcbiAgICAgICAgICAgICAgICBzZWdtZW50LmFuY2hvcigpLFxuICAgICAgICAgICAgICAgIHNlZ21lbnQuY29udHJvbE91dCgpLFxuICAgICAgICAgICAgICAgIHNlZ21lbnQuY29udHJvbEluKClcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YWNrU2VnbWVudHM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVBcmVhU2VnbWVudDsiLCJpbXBvcnQgTGluZUNoYXJ0IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1jaGFydCc7XG5pbXBvcnQgTGluZVBvaW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1wb2ludCc7XG5cbmltcG9ydCBBcmVhU2VnbWVudCBmcm9tICcuL2FyZWEtc2VnbWVudCc7XG5pbXBvcnQgU3RlcEFyZWFTZWdtZW50IGZyb20gJy4vc3RlcC1hcmVhLXNlZ21lbnQnO1xuaW1wb3J0IFNwbGluZUFyZWFTZWdtZW50IGZyb20gJy4vc3BsaW5lLWFyZWEtc2VnbWVudCc7XG5cbmltcG9ydCB7IFNURVAsIFNNT09USCwgWkVSTyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNsYXNzIEFyZWFDaGFydCBleHRlbmRzIExpbmVDaGFydCB7XG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCwgcHJldlNlZ21lbnQpIHtcbiAgICAgICAgY29uc3QgaXNTdGFja2VkID0gdGhpcy5vcHRpb25zLmlzU3RhY2tlZDtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSAoY3VycmVudFNlcmllcy5saW5lIHx8IHt9KS5zdHlsZTtcbiAgICAgICAgbGV0IHByZXZpb3VzU2VnbWVudDtcblxuICAgICAgICBsZXQgc3RhY2tQb2ludHM7XG4gICAgICAgIGlmIChpc1N0YWNrZWQgJiYgc2VyaWVzSXggPiAwICYmIHByZXZTZWdtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWVzID0gdGhpcy5zZXJpZXNNaXNzaW5nVmFsdWVzKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmdWYWx1ZXMgIT09IFwiZ2FwXCIpIHtcbiAgICAgICAgICAgICAgICBzdGFja1BvaW50cyA9IHByZXZTZWdtZW50LmxpbmVQb2ludHM7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNTZWdtZW50ID0gcHJldlNlZ21lbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YWNrUG9pbnRzID0gdGhpcy5fZ2FwU3RhY2tQb2ludHMobGluZVBvaW50cywgc2VyaWVzSXgsIHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludFR5cGU7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gU1RFUCkge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gU3RlcEFyZWFTZWdtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlID09PSBTTU9PVEgpIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFNwbGluZUFyZWFTZWdtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gQXJlYVNlZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IHBvaW50VHlwZShsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCwgcHJldmlvdXNTZWdtZW50LCBzdGFja1BvaW50cyk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBzdXBlci5yZWZsb3codGFyZ2V0Qm94KTtcblxuICAgICAgICBjb25zdCBzdGFja1BvaW50cyA9IHRoaXMuX3N0YWNrUG9pbnRzO1xuICAgICAgICBpZiAoc3RhY2tQb2ludHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN0YWNrUG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFja1BvaW50ID0gc3RhY2tQb2ludHNbaWR4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludFNsb3QgPSB0aGlzLmNhdGVnb3J5QXhpcy5nZXRTbG90KHN0YWNrUG9pbnQuY2F0ZWdvcnlJeCk7XG4gICAgICAgICAgICAgICAgc3RhY2tQb2ludC5yZWZsb3cocG9pbnRTbG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nYXBTdGFja1BvaW50cyhsaW5lUG9pbnRzLCBzZXJpZXNJeCwgc3R5bGUpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHM7XG4gICAgICAgIGxldCBzdGFydElkeCA9IGxpbmVQb2ludHNbMF0uY2F0ZWdvcnlJeDtcbiAgICAgICAgbGV0IGxlbmd0aCA9IGxpbmVQb2ludHMubGVuZ3RoO1xuICAgICAgICBpZiAoc3RhcnRJZHggPCAwKSB7XG4gICAgICAgICAgICBzdGFydElkeCA9IDA7XG4gICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVuZElkeCA9IHN0YXJ0SWR4ICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBwb2ludE9mZnNldCA9IHRoaXMuc2VyaWVzT3B0aW9uc1swXS5fb3V0T2ZSYW5nZU1pblBvaW50ID8gMSA6IDA7XG4gICAgICAgIGNvbnN0IHN0YWNrUG9pbnRzID0gW107XG5cbiAgICAgICAgdGhpcy5fc3RhY2tQb2ludHMgPSB0aGlzLl9zdGFja1BvaW50cyB8fCBbXTtcbiAgICAgICAgZm9yIChsZXQgY2F0ZWdvcnlJeCA9IHN0YXJ0SWR4OyBjYXRlZ29yeUl4IDwgZW5kSWR4OyBjYXRlZ29yeUl4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50SXggPSBjYXRlZ29yeUl4ICsgcG9pbnRPZmZzZXQ7XG4gICAgICAgICAgICBsZXQgY3VycmVudFNlcmllc0l4ID0gc2VyaWVzSXg7XG4gICAgICAgICAgICBsZXQgcG9pbnQ7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VyaWVzSXgtLTtcbiAgICAgICAgICAgICAgICBwb2ludCA9IHNlcmllc1BvaW50c1tjdXJyZW50U2VyaWVzSXhdW3BvaW50SXhdO1xuICAgICAgICAgICAgfSB3aGlsZSAoY3VycmVudFNlcmllc0l4ID4gMCAmJiAhcG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUgIT09IFNURVAgJiYgY2F0ZWdvcnlJeCA+IHN0YXJ0SWR4ICYmICFzZXJpZXNQb2ludHNbY3VycmVudFNlcmllc0l4XVtwb2ludEl4IC0gMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tQb2ludHMucHVzaCh0aGlzLl9wcmV2aW91c1NlZ21lbnRQb2ludChjYXRlZ29yeUl4LCBwb2ludEl4LCBwb2ludEl4IC0gMSwgY3VycmVudFNlcmllc0l4KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3RhY2tQb2ludHMucHVzaChwb2ludCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUgIT09IFNURVAgJiYgY2F0ZWdvcnlJeCArIDEgPCBlbmRJZHggJiYgIXNlcmllc1BvaW50c1tjdXJyZW50U2VyaWVzSXhdW3BvaW50SXggKyAxXSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFja1BvaW50cy5wdXNoKHRoaXMuX3ByZXZpb3VzU2VnbWVudFBvaW50KGNhdGVnb3J5SXgsIHBvaW50SXgsIHBvaW50SXggKyAxLCBjdXJyZW50U2VyaWVzSXgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhcFN0YWNrUG9pbnQgPSB0aGlzLl9jcmVhdGVHYXBTdGFja1BvaW50KGNhdGVnb3J5SXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrUG9pbnRzLnB1c2goZ2FwU3RhY2tQb2ludCk7XG4gICAgICAgICAgICAgICAgc3RhY2tQb2ludHMucHVzaChnYXBTdGFja1BvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGFja1BvaW50cztcbiAgICB9XG5cbiAgICBfcHJldmlvdXNTZWdtZW50UG9pbnQoY2F0ZWdvcnlJeCwgcG9pbnRJeCwgc2VnbWVudEl4LCBzZXJpZXNJZHgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHM7XG4gICAgICAgIGxldCBpbmRleCA9IHNlcmllc0lkeDtcbiAgICAgICAgbGV0IHBvaW50O1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA+IDAgJiYgIXBvaW50KSB7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgcG9pbnQgPSBzZXJpZXNQb2ludHNbaW5kZXhdW3NlZ21lbnRJeF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgICAgICBwb2ludCA9IHRoaXMuX2NyZWF0ZUdhcFN0YWNrUG9pbnQoY2F0ZWdvcnlJeCk7XG4gICAgICAgICAgICB0aGlzLl9zdGFja1BvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50ID0gc2VyaWVzUG9pbnRzW2luZGV4XVtwb2ludEl4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBfY3JlYXRlR2FwU3RhY2tQb2ludChjYXRlZ29yeUl4KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnBvaW50T3B0aW9ucyh7fSwgMCk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IExpbmVQb2ludCgwLCBvcHRpb25zKTtcbiAgICAgICAgcG9pbnQuY2F0ZWdvcnlJeCA9IGNhdGVnb3J5SXg7XG4gICAgICAgIHBvaW50LnNlcmllcyA9IHt9O1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBzZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllcykge1xuICAgICAgICByZXR1cm4gc2VyaWVzLm1pc3NpbmdWYWx1ZXMgfHwgWkVSTztcbiAgICB9XG5cbiAgICBzdXBwb3J0c1BvaW50SW5hY3RpdmVPcGFjaXR5KCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcmVhQ2hhcnQ7XG4iLCJpbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBBeGlzR3JvdXBSYW5nZVRyYWNrZXIgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5heGlzUmFuZ2VzID0ge307XG4gICAgfVxuXG4gICAgdXBkYXRlKGNoYXJ0QXhpc1Jhbmdlcykge1xuICAgICAgICBjb25zdCBheGlzUmFuZ2VzID0gdGhpcy5heGlzUmFuZ2VzO1xuXG4gICAgICAgIGZvciAobGV0IGF4aXNOYW1lIGluIGNoYXJ0QXhpc1Jhbmdlcykge1xuICAgICAgICAgICAgY29uc3QgY2hhcnRSYW5nZSA9IGNoYXJ0QXhpc1Jhbmdlc1theGlzTmFtZV07XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBheGlzUmFuZ2VzW2F4aXNOYW1lXTtcbiAgICAgICAgICAgIGF4aXNSYW5nZXNbYXhpc05hbWVdID0gcmFuZ2UgPSByYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgICAgICByYW5nZS5taW4gPSBNYXRoLm1pbihyYW5nZS5taW4sIGNoYXJ0UmFuZ2UubWluKTtcbiAgICAgICAgICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgY2hhcnRSYW5nZS5tYXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoYXhpc05hbWUpIHtcbiAgICAgICAgdGhpcy5heGlzUmFuZ2VzW2F4aXNOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBxdWVyeShheGlzTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5heGlzUmFuZ2VzW2F4aXNOYW1lXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEF4aXNHcm91cFJhbmdlVHJhY2tlcjsiLCJpbXBvcnQgeyBDaGFydEVsZW1lbnQsIFRleHRCb3gsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgRkFERUlOLCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgSU5TSURFX0VORCwgSU5TSURFX0JBU0UsIE9VVFNJREVfRU5EIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgQ0VOVEVSLCBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIFgsIFksIEJMQUNLIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRTcGFjaW5nLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJhckxhYmVsIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50LCBvcHRpb25zLCBwb2ludERhdGEpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50ZXh0Qm94ID0gbmV3IFRleHRCb3goY29udGVudCwgdGhpcy5vcHRpb25zLCBwb2ludERhdGEpO1xuICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLnRleHRCb3gpO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgdGhpcy50ZXh0Qm94Lm9wdGlvbnMubm9jbGlwID0gdGhpcy5vcHRpb25zLm5vY2xpcDtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIGFib3ZlQXhpcyB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuY2hpbGRyZW5bMF07XG4gICAgICAgIGNvbnN0IHRleHRPcHRpb25zID0gdGV4dC5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3ggPSB0ZXh0LmJveDtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRleHQub3B0aW9ucy5wYWRkaW5nO1xuICAgICAgICBsZXQgbGFiZWxCb3ggPSB0YXJnZXRCb3g7XG5cbiAgICAgICAgdGV4dE9wdGlvbnMuYWxpZ24gPSB2ZXJ0aWNhbCA/IENFTlRFUiA6IExFRlQ7XG4gICAgICAgIHRleHRPcHRpb25zLnZBbGlnbiA9IHZlcnRpY2FsID8gVE9QIDogQ0VOVEVSO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSBJTlNJREVfRU5EKSB7XG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICB0ZXh0T3B0aW9ucy52QWxpZ24gPSBUT1A7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWFib3ZlQXhpcyAmJiBib3guaGVpZ2h0KCkgPCB0YXJnZXRCb3guaGVpZ2h0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMudkFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMuYWxpZ24gPSBhYm92ZUF4aXMgPyBSSUdIVCA6IExFRlQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wb3NpdGlvbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICB0ZXh0T3B0aW9ucy52QWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICB0ZXh0T3B0aW9ucy5hbGlnbiA9IENFTlRFUjtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSBJTlNJREVfQkFTRSkge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMudkFsaWduID0gYWJvdmVBeGlzID8gQk9UVE9NIDogVE9QO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0T3B0aW9ucy5hbGlnbiA9IGFib3ZlQXhpcyA/IExFRlQgOiBSSUdIVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSBPVVRTSURFX0VORCkge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbEJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDEsIHRhcmdldEJveC55MSAtIGJveC5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJveC54MiwgdGFyZ2V0Qm94LnkxXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngxLCB0YXJnZXRCb3gueTIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDIsIHRhcmdldEJveC55MiArIGJveC5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMuYWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbEJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDIsIHRhcmdldEJveC55MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJveC54MiArIGJveC53aWR0aCgpLCB0YXJnZXRCb3gueTJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbEJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDEgLSBib3gud2lkdGgoKSwgdGFyZ2V0Qm94LnkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngxLCB0YXJnZXRCb3gueTJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMucm90YXRpb24pIHtcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIHBhZGRpbmcubGVmdCA9IHBhZGRpbmcucmlnaHQgPVxuICAgICAgICAgICAgICAgICAgICAobGFiZWxCb3gud2lkdGgoKSAtIHRleHQuY29udGVudEJveC53aWR0aCgpKSAvIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZGRpbmcudG9wID0gcGFkZGluZy5ib3R0b20gPVxuICAgICAgICAgICAgICAgICAgICAobGFiZWxCb3guaGVpZ2h0KCkgLSB0ZXh0LmNvbnRlbnRCb3guaGVpZ2h0KCkpIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRleHQucmVmbG93KGxhYmVsQm94KTtcbiAgICB9XG5cbiAgICBhbGlnblRvQ2xpcEJveChjbGlwQm94KSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBmaWVsZCA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gZmllbGQgKyBcIjFcIjtcbiAgICAgICAgY29uc3QgZW5kID0gZmllbGQgKyBcIjJcIjtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuY2hpbGRyZW5bMF07XG4gICAgICAgIGNvbnN0IHBhcmVudEJveCA9IHRoaXMucGFyZW50LmJveDtcblxuICAgICAgICBpZiAocGFyZW50Qm94W3N0YXJ0XSA8IGNsaXBCb3hbc3RhcnRdIHx8IGNsaXBCb3hbZW5kXSA8IHBhcmVudEJveFtlbmRdKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRCb3ggPSB0ZXh0LnBhZGRpbmdCb3guY2xvbmUoKTtcbiAgICAgICAgICAgIHRhcmdldEJveFtzdGFydF0gPSBNYXRoLm1heChwYXJlbnRCb3hbc3RhcnRdLCBjbGlwQm94W3N0YXJ0XSk7XG4gICAgICAgICAgICB0YXJnZXRCb3hbZW5kXSA9IE1hdGgubWluKHBhcmVudEJveFtlbmRdLCBjbGlwQm94W2VuZF0pO1xuXG4gICAgICAgICAgICB0aGlzLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCYXJMYWJlbCwge1xuICAgIHBvc2l0aW9uOiBPVVRTSURFX0VORCxcbiAgICBtYXJnaW46IGdldFNwYWNpbmcoMyksXG4gICAgcGFkZGluZzogZ2V0U3BhY2luZyg0KSxcbiAgICBjb2xvcjogQkxBQ0ssXG4gICAgYmFja2dyb3VuZDogXCJcIixcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNvbG9yOiBcIlwiXG4gICAgfSxcbiAgICBhYm92ZUF4aXM6IHRydWUsXG4gICAgdmVydGljYWw6IGZhbHNlLFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgIGRlbGF5OiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxuICAgIH0sXG4gICAgekluZGV4OiAyXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQmFyTGFiZWw7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFzR3JhZGllbnRPdmVybGF5KG9wdGlvbnMpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gb3B0aW9ucy5vdmVybGF5O1xuXG4gICAgcmV0dXJuIG92ZXJsYXkgJiYgb3ZlcmxheS5ncmFkaWVudCAmJiBvdmVybGF5LmdyYWRpZW50ICE9PSBcIm5vbmVcIjtcbn0iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQmFyTGFiZWwgZnJvbSAnLi9iYXItbGFiZWwnO1xuXG5pbXBvcnQgeyBCT1JERVJfQlJJR0hUTkVTUywgVE9PTFRJUF9PRkZTRVQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgaGFzR3JhZGllbnRPdmVybGF5IGZyb20gJy4uL3V0aWxzL2hhcy1ncmFkaWVudC1vdmVybGF5JztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcbmltcG9ydCBOb3RlTWl4aW4gZnJvbSAnLi4vbWl4aW5zL25vdGUtbWl4aW4nO1xuXG5pbXBvcnQgeyBXSElURSwgTEVGVCwgUklHSFQsIEJPVFRPTSwgVE9QIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBnZXRUZW1wbGF0ZSwgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBCQVJfQUxJR05fTUlOX1dJRFRIID0gNjtcblxuY2xhc3MgQmFyIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY29sb3IgPSBvcHRpb25zLmNvbG9yIHx8IFdISVRFO1xuICAgICAgICB0aGlzLmFib3ZlQXhpcyA9IHZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5hYm92ZUF4aXMsIHRydWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUxhYmVsKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlTm90ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLmVycm9yQmFyKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmVycm9yQmFyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsYWJlbHMgPSBvcHRpb25zLmxhYmVscztcblxuICAgICAgICBpZiAobGFiZWxzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IHRoaXMucG9pbnREYXRhKCk7XG4gICAgICAgICAgICBsZXQgbGFiZWxUZW1wbGF0ZSA9IGdldFRlbXBsYXRlKGxhYmVscyk7XG4gICAgICAgICAgICBsZXQgbGFiZWxUZXh0O1xuXG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IGxhYmVsVGVtcGxhdGUocG9pbnREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0ID0gdGhpcy5mb3JtYXRWYWx1ZShsYWJlbHMuZm9ybWF0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IG5ldyBCYXJMYWJlbChsYWJlbFRleHQsXG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBvcHRpb25zLnZlcnRpY2FsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsYWJlbHNcbiAgICAgICAgICAgICksIHBvaW50RGF0YSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmxhYmVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5mb3JtYXRQb2ludFZhbHVlKHRoaXMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5sYWJlbDtcblxuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcblxuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIGxhYmVsLm9wdGlvbnMuYWJvdmVBeGlzID0gdGhpcy5hYm92ZUF4aXM7XG4gICAgICAgICAgICBsYWJlbC5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vdGUpIHtcbiAgICAgICAgICAgIHRoaXMubm90ZS5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVycm9yQmFycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVycm9yQmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JCYXJzW2ldLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBjb25zdCB7IGJveCwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY3VzdG9tVmlzdWFsID0gb3B0aW9ucy52aXN1YWw7XG5cbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgICAgICBpZiAoY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlzdWFsID0gdGhpcy5yZWN0VmlzdWFsID0gY3VzdG9tVmlzdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrVmFsdWU6IHRoaXMuc3RhY2tWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ1RvdGFsOiB0aGlzLnJ1bm5pbmdUb3RhbCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRoaXMudG90YWwsXG4gICAgICAgICAgICAgICAgICAgIHJlY3Q6IGJveC50b1JlY3QoKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJlY3QoZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlzdWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZCh2aXN1YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm94LndpZHRoKCkgPiAwICYmIGJveC5oZWlnaHQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJlY3QodGhpcy52aXN1YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUmVjdCh2aXN1YWwpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYm9yZGVyID0gb3B0aW9ucy5ib3JkZXI7XG4gICAgICAgIGNvbnN0IHN0cm9rZU9wYWNpdHkgPSBkZWZpbmVkKGJvcmRlci5vcGFjaXR5KSA/IGJvcmRlci5vcGFjaXR5IDogb3B0aW9ucy5vcGFjaXR5O1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5ib3gudG9SZWN0KCk7XG5cbiAgICAgICAgcmVjdC5zaXplLndpZHRoID0gTWF0aC5yb3VuZChyZWN0LnNpemUud2lkdGgpO1xuXG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLnJlY3RWaXN1YWwgPSBkcmF3LlBhdGguZnJvbVJlY3QocmVjdCwge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmdldEJvcmRlckNvbG9yKCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBzdHJva2VPcGFjaXR5LFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmJveC5oZWlnaHQoKTtcblxuICAgICAgICBjb25zdCBzaXplID0gb3B0aW9ucy52ZXJ0aWNhbCA/IHdpZHRoIDogaGVpZ2h0O1xuXG4gICAgICAgIGlmIChzaXplID4gQkFSX0FMSUdOX01JTl9XSURUSCkge1xuICAgICAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChwYXRoKTtcblxuICAgICAgICAgICAgLy8gRml4ZXMgbGluZUpvaW4gaXNzdWUgaW4gZmlyZWZveCB3aGVuIHRoZSBqb2luZWQgbGluZXMgYXJlIHBhcmFsbGVsXG4gICAgICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHtcbiAgICAgICAgICAgICAgICBwYXRoLm9wdGlvbnMuc3Ryb2tlLmxpbmVKb2luID0gXCJyb3VuZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmlzdWFsLmFwcGVuZChwYXRoKTtcblxuICAgICAgICBpZiAoaGFzR3JhZGllbnRPdmVybGF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5jcmVhdGVHcmFkaWVudE92ZXJsYXkocGF0aCwgeyBiYXNlQ29sb3I6IHRoaXMuY29sb3IgfSwgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgZW5kOiAhb3B0aW9ucy52ZXJ0aWNhbCA/IFsgMCwgMSBdIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9LCBvcHRpb25zLm92ZXJsYXkpKTtcblxuICAgICAgICAgICAgdmlzdWFsLmFwcGVuZChvdmVybGF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUhpZ2hsaWdodChzdHlsZSkge1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5ib3gudG9SZWN0KCksIHN0eWxlKTtcblxuICAgICAgICByZXR1cm4gYWxpZ25QYXRoVG9QaXhlbChoaWdobGlnaHQpO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdFZpc3VhbDtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWxBcmdzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgcmVjdDogdGhpcy5ib3gudG9SZWN0KCksXG4gICAgICAgICAgICB2aXN1YWw6IHRoaXMucmVjdFZpc3VhbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldEJvcmRlckNvbG9yKCkge1xuICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IHRoaXMub3B0aW9ucy5ib3JkZXI7XG4gICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSBib3JkZXIuX2JyaWdodG5lc3MgfHwgQk9SREVSX0JSSUdIVE5FU1M7XG4gICAgICAgIGxldCBib3JkZXJDb2xvciA9IGJvcmRlci5jb2xvcjtcblxuICAgICAgICBpZiAoIWRlZmluZWQoYm9yZGVyQ29sb3IpKSB7XG4gICAgICAgICAgICBib3JkZXJDb2xvciA9IG5ldyBDb2xvcihjb2xvcikuYnJpZ2h0bmVzcyhicmlnaHRuZXNzKS50b0hleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvcmRlckNvbG9yO1xuICAgIH1cblxuICAgIHRvb2x0aXBBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgYm94LCBhYm92ZUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNsaXBCb3ggPSB0aGlzLm93bmVyLnBhbmUuY2xpcEJveCgpIHx8IGJveDtcbiAgICAgICAgbGV0IGhvcml6b250YWxBbGlnbiA9IExFRlQ7XG4gICAgICAgIGxldCB2ZXJ0aWNhbEFsaWduID0gVE9QO1xuICAgICAgICBsZXQgeCwgeTtcblxuICAgICAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgeCA9IE1hdGgubWluKGJveC54MiwgY2xpcEJveC54MikgKyBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgIGlmIChhYm92ZUF4aXMpIHtcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5tYXgoYm94LnkxLCBjbGlwQm94LnkxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgubWluKGJveC55MiwgY2xpcEJveC55Mik7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IEJPVFRPTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHgxID0gTWF0aC5tYXgoYm94LngxLCBjbGlwQm94LngxKTtcbiAgICAgICAgICAgIGNvbnN0IHgyID0gTWF0aC5taW4oYm94LngyLCBjbGlwQm94LngyKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNTdGFja2VkKSB7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IEJPVFRPTTtcbiAgICAgICAgICAgICAgICBpZiAoYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxBbGlnbiA9IFJJR0hUO1xuICAgICAgICAgICAgICAgICAgICB4ID0geDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHgxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5tYXgoYm94LnkxLCBjbGlwQm94LnkxKSAtIFRPT0xUSVBfT0ZGU0VUO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4MiArIFRPT0xUSVBfT0ZGU0VUO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4MSAtIFRPT0xUSVBfT0ZGU0VUO1xuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ24gPSBSSUdIVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgubWF4KGJveC55MSwgY2xpcEJveC55MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludCh4LCB5KSxcbiAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbEFsaWduLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbEFsaWduXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgb3ZlcmxhcHNCb3goYm94KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJveC5vdmVybGFwcyhib3gpO1xuICAgIH1cblxuICAgIHBvaW50RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZSxcbiAgICAgICAgICAgIHN0YWNrVmFsdWU6IHRoaXMuc3RhY2tWYWx1ZSxcbiAgICAgICAgICAgIHJ1bm5pbmdUb3RhbDogdGhpcy5ydW5uaW5nVG90YWwsXG4gICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbCxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXNcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoQmFyLnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5kZWVwRXh0ZW5kKEJhci5wcm90b3R5cGUsIE5vdGVNaXhpbik7XG5cbkJhci5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgYm9yZGVyOiB7XG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcImdsYXNzXCJcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcInswfVwiXG4gICAgfSxcbiAgICBvcGFjaXR5OiAxLFxuICAgIG5vdGVzOiB7XG4gICAgICAgIGxhYmVsOiB7fVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJhcjsiLCJleHBvcnQgZnVuY3Rpb24gZm9yRWFjaChlbGVtZW50cywgY2FsbGJhY2spIHtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hSZXZlcnNlKGVsZW1lbnRzLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGlkeCA9IGxlbmd0aCAtIDE7IGlkeCA+PSAwOyBpZHgtLSkge1xuICAgICAgICBjYWxsYmFjayhlbGVtZW50c1tpZHhdLCBpZHggLSBsZW5ndGggLSAxKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQ2hhcnRFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IGZvckVhY2gsIGZvckVhY2hSZXZlcnNlIH0gZnJvbSAnLi91dGlscyc7XG5cbmNsYXNzIENsdXN0ZXJMYXlvdXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5mb3JFYWNoID0gb3B0aW9ucy5ydGwgPyBmb3JFYWNoUmV2ZXJzZSA6IGZvckVhY2g7XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICBjb25zdCB7IHZlcnRpY2FsLCBnYXAsIHNwYWNpbmcgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjb3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IHNsb3RzID0gY291bnQgKyBnYXAgKyAoc3BhY2luZyAqIChjb3VudCAtIDEpKTtcbiAgICAgICAgY29uc3Qgc2xvdFNpemUgPSAodmVydGljYWwgPyBib3guaGVpZ2h0KCkgOiBib3gud2lkdGgoKSkgLyBzbG90cztcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gYm94W2F4aXMgKyAxXSArIHNsb3RTaXplICogKGdhcCAvIDIpO1xuXG4gICAgICAgIHRoaXMuZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQm94ID0gKGNoaWxkLmJveCB8fCBib3gpLmNsb25lKCk7XG5cbiAgICAgICAgICAgIGNoaWxkQm94W2F4aXMgKyAxXSA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgY2hpbGRCb3hbYXhpcyArIDJdID0gcG9zaXRpb24gKyBzbG90U2l6ZTtcblxuICAgICAgICAgICAgY2hpbGQucmVmbG93KGNoaWxkQm94KTtcbiAgICAgICAgICAgIGlmIChpZHggPCBjb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAoc2xvdFNpemUgKiBzcGFjaW5nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zaXRpb24gKz0gc2xvdFNpemU7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2x1c3RlckxheW91dCwge1xuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICBnYXA6IDAsXG4gICAgc3BhY2luZzogMFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENsdXN0ZXJMYXlvdXQ7IiwiaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTdGFja1dyYXAgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BeGlzID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsID8gWCA6IFk7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY2hpbGRyZW5Db3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgbGV0IGJveCA9IHRoaXMuYm94ID0gbmV3IEJveCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGlsZC52aXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQm94ID0gY3VycmVudENoaWxkLmJveC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LnNuYXBUbyh0YXJnZXRCb3gsIHBvc2l0aW9uQXhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmJveCA9IGNoaWxkQm94LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkLnJlZmxvdyhjaGlsZEJveCk7XG4gICAgICAgICAgICAgICAgYm94LndyYXAoY2hpbGRCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTdGFja1dyYXAsIHtcbiAgICB2ZXJ0aWNhbDogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0YWNrV3JhcDsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQmFyIGZyb20gJy4vYmFyJztcblxuaW1wb3J0IENhdGVnb3JpY2FsQ2hhcnQgZnJvbSAnLi4vY2F0ZWdvcmljYWwtY2hhcnQnO1xuaW1wb3J0IENsdXN0ZXJMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L2NsdXN0ZXItbGF5b3V0JztcbmltcG9ydCBTdGFja1dyYXAgZnJvbSAnLi4vbGF5b3V0L3N0YWNrLXdyYXAnO1xuaW1wb3J0IHsgQkFSLCBPVVRTSURFX0VORCwgSU5TSURFX0VORCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBhbnlIYXNaSW5kZXggZnJvbSAnLi4vdXRpbHMvYW55LWhhcy16LWluZGV4JztcblxuaW1wb3J0IHsgU1RSSU5HLCBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWZpbmVkLCBpc0Z1bmN0aW9uLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJhckNoYXJ0IGV4dGVuZHMgQ2F0ZWdvcmljYWxDaGFydCB7XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YWNrUmFuZ2UoKTtcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBCYXI7XG4gICAgfVxuXG4gICAgY2x1c3RlclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBDbHVzdGVyTGF5b3V0O1xuICAgIH1cblxuICAgIHN0YWNrVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFN0YWNrV3JhcDtcbiAgICB9XG5cbiAgICBzdGFja0xpbWl0cyhheGlzTmFtZSwgc3RhY2tOYW1lKSB7XG4gICAgICAgIGNvbnN0IGxpbWl0cyA9IHN1cGVyLnN0YWNrTGltaXRzKGF4aXNOYW1lLCBzdGFja05hbWUpO1xuXG4gICAgICAgIHJldHVybiBsaW1pdHM7XG4gICAgfVxuXG4gICAgY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjaGlsZHJlbiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaXNTdGFja2VkID0gb3B0aW9ucy5pc1N0YWNrZWQ7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wb2ludFZhbHVlKGRhdGEpO1xuICAgICAgICBsZXQgcG9pbnRPcHRpb25zID0gdGhpcy5wb2ludE9wdGlvbnMoc2VyaWVzLCBzZXJpZXNJeCk7XG5cbiAgICAgICAgY29uc3QgbGFiZWxPcHRpb25zID0gcG9pbnRPcHRpb25zLmxhYmVscztcbiAgICAgICAgaWYgKGlzU3RhY2tlZCkge1xuICAgICAgICAgICAgaWYgKGxhYmVsT3B0aW9ucy5wb3NpdGlvbiA9PT0gT1VUU0lERV9FTkQpIHtcbiAgICAgICAgICAgICAgICBsYWJlbE9wdGlvbnMucG9zaXRpb24gPSBJTlNJREVfRU5EO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnRPcHRpb25zLmlzU3RhY2tlZCA9IGlzU3RhY2tlZDtcblxuICAgICAgICBsZXQgY29sb3IgPSBkYXRhLmZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgIGlmICh2YWx1ZSA8IDAgJiYgcG9pbnRPcHRpb25zLm5lZ2F0aXZlQ29sb3IpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLm5lZ2F0aXZlQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludE9wdGlvbnMgPSB0aGlzLmV2YWxQb2ludE9wdGlvbnMoXG4gICAgICAgICAgICBwb2ludE9wdGlvbnMsIHZhbHVlLCBjYXRlZ29yeSwgY2F0ZWdvcnlJeCwgc2VyaWVzLCBzZXJpZXNJeFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnRUeXBlID0gdGhpcy5wb2ludFR5cGUoKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgcG9pbnRUeXBlKHZhbHVlLCBwb2ludE9wdGlvbnMpO1xuICAgICAgICBwb2ludC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIGxldCBjbHVzdGVyID0gY2hpbGRyZW5bY2F0ZWdvcnlJeF07XG4gICAgICAgIGlmICghY2x1c3Rlcikge1xuICAgICAgICAgICAgY29uc3QgY2x1c3RlclR5cGUgPSB0aGlzLmNsdXN0ZXJUeXBlKCk7XG4gICAgICAgICAgICBjbHVzdGVyID0gbmV3IGNsdXN0ZXJUeXBlKHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgICAgIGdhcDogb3B0aW9ucy5nYXAsXG4gICAgICAgICAgICAgICAgc3BhY2luZzogb3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgICAgIHJ0bDogIW9wdGlvbnMuaW52ZXJ0QXhlcyAmJiAodGhpcy5jaGFydFNlcnZpY2UgfHwge30pLnJ0bFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjbHVzdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrV3JhcCA9IHRoaXMuZ2V0U3RhY2tXcmFwKHNlcmllcywgY2x1c3Rlcik7XG4gICAgICAgICAgICBzdGFja1dyYXAuYXBwZW5kKHBvaW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsdXN0ZXIuYXBwZW5kKHBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBnZXRTdGFja1dyYXAoc2VyaWVzLCBjbHVzdGVyKSB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gc2VyaWVzLnN0YWNrO1xuICAgICAgICBjb25zdCBzdGFja0dyb3VwID0gc3RhY2sgPyBzdGFjay5ncm91cCB8fCBzdGFjayA6IHN0YWNrO1xuICAgICAgICBjb25zdCB3cmFwcyA9IGNsdXN0ZXIuY2hpbGRyZW47XG4gICAgICAgIGxldCBzdGFja1dyYXA7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdGFja0dyb3VwID09PSBTVFJJTkcpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd3JhcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAod3JhcHNbaV0uX3N0YWNrR3JvdXAgPT09IHN0YWNrR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tXcmFwID0gd3JhcHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YWNrV3JhcCA9IHdyYXBzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdGFja1dyYXApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrVHlwZSA9IHRoaXMuc3RhY2tUeXBlKCk7XG4gICAgICAgICAgICBzdGFja1dyYXAgPSBuZXcgc3RhY2tUeXBlKHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogIXRoaXMub3B0aW9ucy5pbnZlcnRBeGVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YWNrV3JhcC5fc3RhY2tHcm91cCA9IHN0YWNrR3JvdXA7XG4gICAgICAgICAgICBjbHVzdGVyLmFwcGVuZChzdGFja1dyYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YWNrV3JhcDtcbiAgICB9XG5cbiAgICBjYXRlZ29yeVNsb3QoY2F0ZWdvcnlBeGlzLCBjYXRlZ29yeUl4LCB2YWx1ZUF4aXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlTbG90ID0gY2F0ZWdvcnlBeGlzLmdldFNsb3QoY2F0ZWdvcnlJeCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0VmFsdWUgPSB2YWx1ZUF4aXMuc3RhcnRWYWx1ZSgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmlzU3RhY2tlZCkge1xuICAgICAgICAgICAgY29uc3QgemVyb1Nsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdChzdGFydFZhbHVlLCBzdGFydFZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrQXhpcyA9IG9wdGlvbnMuaW52ZXJ0QXhlcyA/IFggOiBZO1xuICAgICAgICAgICAgY2F0ZWdvcnlTbG90W3N0YWNrQXhpcyArIDFdID0gY2F0ZWdvcnlTbG90W3N0YWNrQXhpcyArIDJdID0gemVyb1Nsb3Rbc3RhY2tBeGlzICsgMV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2F0ZWdvcnlTbG90O1xuICAgIH1cblxuICAgIHJlZmxvd0NhdGVnb3JpZXMoY2F0ZWdvcnlTbG90cykge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0ucmVmbG93KGNhdGVnb3J5U2xvdHNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLl9zZXRBbmltYXRpb25PcHRpb25zKCk7XG4gICAgICAgIHN1cGVyLmNyZWF0ZUFuaW1hdGlvbigpO1xuXG4gICAgICAgIGlmIChhbnlIYXNaSW5kZXgodGhpcy5vcHRpb25zLnNlcmllcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldENoaWxkcmVuQW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0Q2hpbGRyZW5BbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpZHhdO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRWaXN1YWwgPSBwb2ludC52aXN1YWw7XG4gICAgICAgICAgICBpZiAocG9pbnRWaXN1YWwgJiYgZGVmaW5lZChwb2ludFZpc3VhbC5vcHRpb25zLnpJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBwb2ludC5vcHRpb25zLmFuaW1hdGlvbiA9IHRoaXMub3B0aW9ucy5hbmltYXRpb247XG4gICAgICAgICAgICAgICAgcG9pbnQuY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0QW5pbWF0aW9uT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gb3B0aW9ucy5hbmltYXRpb24gfHwge307XG4gICAgICAgIGxldCBvcmlnaW47XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaXNTdGFja2VkKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB0aGlzLnNlcmllc1ZhbHVlQXhpcyhvcHRpb25zLnNlcmllc1swXSk7XG4gICAgICAgICAgICBvcmlnaW4gPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZUF4aXMuc3RhcnRWYWx1ZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9yaWdpbiA9IHRoaXMuY2F0ZWdvcnlBeGlzLmdldFNsb3QoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltYXRpb24ub3JpZ2luID0gbmV3IGdlb20uUG9pbnQob3JpZ2luLngxLCBvcmlnaW4ueTEpO1xuICAgICAgICBhbmltYXRpb24udmVydGljYWwgPSAhb3B0aW9ucy5pbnZlcnRBeGVzO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQmFyQ2hhcnQsIHtcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogQkFSXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhckNoYXJ0OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgQ29sb3IgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IE5vdGVNaXhpbiBmcm9tICcuLi9taXhpbnMvbm90ZS1taXhpbic7XG5cbmltcG9ydCB7IFRPT0xUSVBfT0ZGU0VUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBoYXNHcmFkaWVudE92ZXJsYXkgZnJvbSAnLi4vdXRpbHMvaGFzLWdyYWRpZW50LW92ZXJsYXknO1xuXG5pbXBvcnQgeyBXSElURSwgTEVGVCwgVE9QIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBDYW5kbGVzdGljayBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgdmFsdWUsIG93bmVyOiBjaGFydCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gY2hhcnQuc2VyaWVzVmFsdWVBeGlzKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBvY1Nsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZS5vcGVuLCB2YWx1ZS5jbG9zZSk7XG4gICAgICAgIGNvbnN0IGxoU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLmxvdywgdmFsdWUuaGlnaCk7XG5cbiAgICAgICAgb2NTbG90LngxID0gbGhTbG90LngxID0gYm94LngxO1xuICAgICAgICBvY1Nsb3QueDIgPSBsaFNsb3QueDIgPSBib3gueDI7XG5cbiAgICAgICAgdGhpcy5yZWFsQm9keSA9IG9jU2xvdDtcblxuICAgICAgICBjb25zdCBtaWQgPSBsaFNsb3QuY2VudGVyKCkueDtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW107XG5cbiAgICAgICAgcG9pbnRzLnB1c2goWyBbIG1pZCwgbGhTbG90LnkxIF0sIFsgbWlkLCBvY1Nsb3QueTEgXSBdKTtcbiAgICAgICAgcG9pbnRzLnB1c2goWyBbIG1pZCwgb2NTbG90LnkyIF0sIFsgbWlkLCBsaFNsb3QueTIgXSBdKTtcblxuICAgICAgICB0aGlzLmxpbmVzID0gcG9pbnRzO1xuXG4gICAgICAgIHRoaXMuYm94ID0gbGhTbG90LmNsb25lKCkud3JhcChvY1Nsb3QpO1xuXG4gICAgICAgIGlmICghdGhpcy5fcmVuZGVyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTm90ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZsb3dOb3RlKCk7XG4gICAgfVxuXG4gICAgcmVmbG93Tm90ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RlLnJlZmxvdyh0aGlzLmJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuICAgICAgICB0aGlzLl9tYWluVmlzdWFsID0gdGhpcy5tYWluVmlzdWFsKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChcbiAgICAgICAgICAgIHRoaXMuX21haW5WaXN1YWxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZU92ZXJsYXkoKTtcbiAgICB9XG5cbiAgICBtYWluVmlzdWFsKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgZHJhdy5Hcm91cCgpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQm9keShncm91cCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY3JlYXRlTGluZXMoZ3JvdXAsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBjcmVhdGVCb2R5KGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBib2R5ID0gZHJhdy5QYXRoLmZyb21SZWN0KHRoaXMucmVhbEJvZHkudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYm9yZGVyLndpZHRoID4gMCkge1xuICAgICAgICAgICAgYm9keS5vcHRpb25zLnNldChcInN0cm9rZVwiLCB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuZ2V0Qm9yZGVyQ29sb3IoKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy5ib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMuYm9yZGVyLmRhc2hUeXBlLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMuYm9yZGVyLm9wYWNpdHksIG9wdGlvbnMub3BhY2l0eSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChib2R5KTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZChib2R5KTtcblxuICAgICAgICBpZiAoaGFzR3JhZGllbnRPdmVybGF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKHRoaXMuY3JlYXRlR3JhZGllbnRPdmVybGF5KGJvZHksIHsgYmFzZUNvbG9yOiB0aGlzLmNvbG9yIH0sIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgIGVuZDogIW9wdGlvbnMudmVydGljYWwgPyBbIDAsIDEgXSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSwgb3B0aW9ucy5vdmVybGF5KSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZXMoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGNvbnRhaW5lciwgb3B0aW9ucywgdGhpcy5saW5lcywgb3B0aW9ucy5saW5lKTtcbiAgICB9XG5cbiAgICBkcmF3TGluZXMoY29udGFpbmVyLCBvcHRpb25zLCBsaW5lcywgbGluZU9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFsaW5lcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZVN0eWxlID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGxpbmVPcHRpb25zLmNvbG9yIHx8IHRoaXMuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdmFsdWVPckRlZmF1bHQobGluZU9wdGlvbnMub3BhY2l0eSwgb3B0aW9ucy5vcGFjaXR5KSxcbiAgICAgICAgICAgICAgICB3aWR0aDogbGluZU9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IGxpbmVPcHRpb25zLmRhc2hUeXBlLFxuICAgICAgICAgICAgICAgIGxpbmVDYXA6IFwiYnV0dFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKGxpbmVzW2ldLCBsaW5lU3R5bGUpO1xuICAgICAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChsaW5lKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQobGluZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRCb3JkZXJDb2xvcigpIHtcbiAgICAgICAgY29uc3QgYm9yZGVyID0gdGhpcy5vcHRpb25zLmJvcmRlcjtcbiAgICAgICAgbGV0IGJvcmRlckNvbG9yID0gYm9yZGVyLmNvbG9yO1xuXG4gICAgICAgIGlmICghZGVmaW5lZChib3JkZXJDb2xvcikpIHtcbiAgICAgICAgICAgIGJvcmRlckNvbG9yID0gbmV3IENvbG9yKHRoaXMuY29sb3IpLmJyaWdodG5lc3MoYm9yZGVyLl9icmlnaHRuZXNzKS50b0hleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvcmRlckNvbG9yO1xuICAgIH1cblxuICAgIGNyZWF0ZU92ZXJsYXkoKSB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5ib3gudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZTogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQob3ZlcmxheSk7XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KCkge1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0O1xuICAgICAgICBjb25zdCBub3JtYWxDb2xvciA9IHRoaXMuY29sb3I7XG5cbiAgICAgICAgdGhpcy5jb2xvciA9IGhpZ2hsaWdodC5jb2xvciB8fCB0aGlzLmNvbG9yO1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5tYWluVmlzdWFsKFxuICAgICAgICAgICAgZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgbGluZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5nZXRCb3JkZXJDb2xvcigpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgaGlnaGxpZ2h0KVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNvbG9yID0gbm9ybWFsQ29sb3I7XG5cbiAgICAgICAgcmV0dXJuIG92ZXJsYXk7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFpblZpc3VhbDtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWxBcmdzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgcmVjdDogdGhpcy5ib3gudG9SZWN0KCksXG4gICAgICAgICAgICB2aXN1YWw6IHRoaXMuX21haW5WaXN1YWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b29sdGlwQW5jaG9yKCkge1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmJveDtcbiAgICAgICAgY29uc3QgY2xpcEJveCA9IHRoaXMub3duZXIucGFuZS5jbGlwQm94KCkgfHwgYm94O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogbmV3IFBvaW50KGJveC54MiArIFRPT0xUSVBfT0ZGU0VULCBNYXRoLm1heChib3gueTEsIGNsaXBCb3gueTEpICsgVE9PTFRJUF9PRkZTRVQpLFxuICAgICAgICAgICAgYWxpZ246IHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBMRUZULFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBUT1BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtYXRWYWx1ZShmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZm9ybWF0UG9pbnRWYWx1ZSh0aGlzLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIG92ZXJsYXBzQm94KGJveCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3gub3ZlcmxhcHMoYm94KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENhbmRsZXN0aWNrLCB7XG4gICAgdmVydGljYWw6IHRydWUsXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIF9icmlnaHRuZXNzOiAwLjhcbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9LFxuICAgIG92ZXJsYXk6IHtcbiAgICAgICAgZ3JhZGllbnQ6IFwiZ2xhc3NcIlxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICBmb3JtYXQ6IFwiPHRhYmxlPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8dHI+PHRoIGNvbHNwYW49JzInPns0OmR9PC90aD48L3RyPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8dHI+PHRkPk9wZW46PC90ZD48dGQ+ezA6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+SGlnaDo8L3RkPjx0ZD57MTpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5Mb3c6PC90ZD48dGQ+ezI6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+Q2xvc2U6PC90ZD48dGQ+ezM6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgIFwiPC90YWJsZT5cIlxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0sXG4gICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICBub3Rlczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBsYWJlbDoge31cbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChDYW5kbGVzdGljay5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuZGVlcEV4dGVuZChDYW5kbGVzdGljay5wcm90b3R5cGUsIE5vdGVNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IENhbmRsZXN0aWNrOyIsImltcG9ydCBjb3VudE51bWJlcnMgZnJvbSAnLi9jb3VudC1udW1iZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJlTnVtYmVycyh2YWx1ZXMpIHtcbiAgICByZXR1cm4gY291bnROdW1iZXJzKHZhbHVlcykgPT09IHZhbHVlcy5sZW5ndGg7XG59IiwiaW1wb3J0IENhdGVnb3JpY2FsQ2hhcnQgZnJvbSAnLi4vY2F0ZWdvcmljYWwtY2hhcnQnO1xuaW1wb3J0IENsdXN0ZXJMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L2NsdXN0ZXItbGF5b3V0JztcbmltcG9ydCBDYW5kbGVzdGljayBmcm9tICcuL2NhbmRsZXN0aWNrJztcblxuaW1wb3J0IENsaXBBbmltYXRpb25NaXhpbiBmcm9tICcuLi9taXhpbnMvY2xpcC1hbmltYXRpb24tbWl4aW4nO1xuaW1wb3J0IHsgQ0FORExFU1RJQ0sgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IGFyZU51bWJlcnMgZnJvbSAnLi4vdXRpbHMvYXJlLW51bWJlcnMnO1xuXG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgaXNGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIENhbmRsZXN0aWNrQ2hhcnQgZXh0ZW5kcyBDYXRlZ29yaWNhbENoYXJ0IHtcblxuICAgIHJlZmxvd0NhdGVnb3JpZXMoY2F0ZWdvcnlTbG90cykge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0ucmVmbG93KGNhdGVnb3J5U2xvdHNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkVmFsdWUoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzO1xuICAgICAgICBjb25zdCB2YWx1ZVBhcnRzID0gdGhpcy5zcGxpdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgaGFzVmFsdWUgPSBhcmVOdW1iZXJzKHZhbHVlUGFydHMpO1xuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHNlcmllcy5kYXRhW2NhdGVnb3J5SXhdO1xuICAgICAgICBsZXQgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdO1xuICAgICAgICBsZXQgcG9pbnQ7XG5cbiAgICAgICAgaWYgKCFjYXRlZ29yeVBvaW50cykge1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XSA9IGNhdGVnb3J5UG9pbnRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHBvaW50ID0gdGhpcy5jcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNsdXN0ZXIgPSBjaGlsZHJlbltjYXRlZ29yeUl4XTtcbiAgICAgICAgaWYgKCFjbHVzdGVyKSB7XG4gICAgICAgICAgICBjbHVzdGVyID0gbmV3IENsdXN0ZXJMYXlvdXQoe1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBvcHRpb25zLmludmVydEF4ZXMsXG4gICAgICAgICAgICAgICAgZ2FwOiBvcHRpb25zLmdhcCxcbiAgICAgICAgICAgICAgICBzcGFjaW5nOiBvcHRpb25zLnNwYWNpbmcsXG4gICAgICAgICAgICAgICAgcnRsOiAhb3B0aW9ucy5pbnZlcnRBeGVzICYmICh0aGlzLmNoYXJ0U2VydmljZSB8fCB7fSkucnRsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKGNsdXN0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgICAgICBjbHVzdGVyLmFwcGVuZChwb2ludCk7XG5cbiAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5SXggPSBjYXRlZ29yeUl4O1xuICAgICAgICAgICAgcG9pbnQuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgICAgICAgIHBvaW50LnNlcmllcyA9IHNlcmllcztcbiAgICAgICAgICAgIHBvaW50LnNlcmllc0l4ID0gc2VyaWVzSXg7XG4gICAgICAgICAgICBwb2ludC5vd25lciA9IHRoaXM7XG4gICAgICAgICAgICBwb2ludC5kYXRhSXRlbSA9IGRhdGFJdGVtO1xuICAgICAgICAgICAgcG9pbnQubm90ZVRleHQgPSBkYXRhLmZpZWxkcy5ub3RlVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICBjYXRlZ29yeVBvaW50cy5wdXNoKHBvaW50KTtcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBDYW5kbGVzdGljaztcbiAgICB9XG5cbiAgICBjcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yeUl4LCBjYXRlZ29yeSwgc2VyaWVzLCBzZXJpZXNJeCB9ID0gZmllbGRzO1xuICAgICAgICBjb25zdCBwb2ludFR5cGUgPSB0aGlzLnBvaW50VHlwZSgpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGEudmFsdWVGaWVsZHM7XG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBzZXJpZXMpO1xuICAgICAgICBsZXQgY29sb3IgPSBkYXRhLmZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG5cbiAgICAgICAgcG9pbnRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgcG9pbnRPcHRpb25zLCB2YWx1ZSwgY2F0ZWdvcnksIGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXhcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoc2VyaWVzLnR5cGUgPT09IENBTkRMRVNUSUNLKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUub3BlbiA+IHZhbHVlLmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBkYXRhLmZpZWxkcy5kb3duQ29sb3IgfHwgc2VyaWVzLmRvd25Db2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50T3B0aW9ucy52ZXJ0aWNhbCA9ICF0aGlzLm9wdGlvbnMuaW52ZXJ0QXhlcztcblxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBwb2ludFR5cGUodmFsdWUsIHBvaW50T3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNvbG9yID0gY29sb3I7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIHNwbGl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFsgdmFsdWUubG93LCB2YWx1ZS5vcGVuLCB2YWx1ZS5jbG9zZSwgdmFsdWUuaGlnaCBdO1xuICAgIH1cblxuICAgIHVwZGF0ZVJhbmdlKHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBmaWVsZHMuc2VyaWVzLmF4aXM7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy5zcGxpdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgbGV0IGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXTtcblxuICAgICAgICBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gPVxuICAgICAgICAgICAgYXhpc1JhbmdlIHx8IHsgbWluOiBNQVhfVkFMVUUsIG1heDogTUlOX1ZBTFVFIH07XG5cbiAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID0ge1xuICAgICAgICAgICAgbWluOiBNYXRoLm1pbi5hcHBseShNYXRoLCBwYXJ0cy5jb25jYXQoWyBheGlzUmFuZ2UubWluIF0pKSxcbiAgICAgICAgICAgIG1heDogTWF0aC5tYXguYXBwbHkoTWF0aCwgcGFydHMuY29uY2F0KFsgYXhpc1JhbmdlLm1heCBdKSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LFxuICAgICAgICAgICAgdmFsdWUub3BlbiwgdmFsdWUuaGlnaCxcbiAgICAgICAgICAgIHZhbHVlLmxvdywgdmFsdWUuY2xvc2UsIHBvaW50LmNhdGVnb3J5XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uUG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludHM7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKENhbmRsZXN0aWNrQ2hhcnQucHJvdG90eXBlLCBDbGlwQW5pbWF0aW9uTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBDYW5kbGVzdGlja0NoYXJ0OyIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2FuZGxlc3RpY2sgZnJvbSAnLi4vY2FuZGxlc3RpY2stY2hhcnQvY2FuZGxlc3RpY2snO1xuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5pbXBvcnQgeyBTaGFwZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgTElORV9NQVJLRVJfU0laRSwgQk9SREVSX0JSSUdIVE5FU1MgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBDUk9TUywgQ0lSQ0xFLCBXSElURSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBCb3hQbG90IGV4dGVuZHMgQ2FuZGxlc3RpY2sge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZU5vdGUoKTtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgdmFsdWUsIG93bmVyOiBjaGFydCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gY2hhcnQuc2VyaWVzVmFsdWVBeGlzKG9wdGlvbnMpO1xuICAgICAgICBsZXQgd2hpc2tlclNsb3QsIGJveFNsb3Q7XG5cbiAgICAgICAgdGhpcy5ib3hTbG90ID0gYm94U2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLnExLCB2YWx1ZS5xMyk7XG4gICAgICAgIHRoaXMucmVhbEJvZHkgPSBib3hTbG90O1xuICAgICAgICB0aGlzLnJlZmxvd0JveFNsb3QoYm94KTtcblxuICAgICAgICB0aGlzLndoaXNrZXJTbG90ID0gd2hpc2tlclNsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZS5sb3dlciwgdmFsdWUudXBwZXIpO1xuICAgICAgICB0aGlzLnJlZmxvd1doaXNrZXJTbG90KGJveCk7XG5cbiAgICAgICAgY29uc3QgbWVkaWFuU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLm1lZGlhbik7XG5cbiAgICAgICAgaWYgKHZhbHVlLm1lYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IG1lYW5TbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWUubWVhbik7XG4gICAgICAgICAgICB0aGlzLm1lYW5Qb2ludHMgPSB0aGlzLmNhbGNNZWFuUG9pbnRzKGJveCwgbWVhblNsb3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53aGlza2VyUG9pbnRzID0gdGhpcy5jYWxjV2hpc2tlclBvaW50cyhib3hTbG90LCB3aGlza2VyU2xvdCk7XG4gICAgICAgIHRoaXMubWVkaWFuUG9pbnRzID0gdGhpcy5jYWxjTWVkaWFuUG9pbnRzKGJveCwgbWVkaWFuU2xvdCk7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB3aGlza2VyU2xvdC5jbG9uZSgpLndyYXAoYm94U2xvdCk7XG4gICAgICAgIHRoaXMucmVmbG93Tm90ZSgpO1xuICAgIH1cblxuICAgIHJlZmxvd0JveFNsb3QoYm94KSB7XG4gICAgICAgIHRoaXMuYm94U2xvdC54MSA9IGJveC54MTtcbiAgICAgICAgdGhpcy5ib3hTbG90LngyID0gYm94LngyO1xuICAgIH1cblxuICAgIHJlZmxvd1doaXNrZXJTbG90KGJveCkge1xuICAgICAgICB0aGlzLndoaXNrZXJTbG90LngxID0gYm94LngxO1xuICAgICAgICB0aGlzLndoaXNrZXJTbG90LngyID0gYm94LngyO1xuICAgIH1cblxuICAgIGNhbGNNZWFuUG9pbnRzKGJveCwgbWVhblNsb3QpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFsgWyBib3gueDEsIG1lYW5TbG90LnkxIF0sIFsgYm94LngyLCBtZWFuU2xvdC55MSBdIF1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBjYWxjV2hpc2tlclBvaW50cyhib3hTbG90LCB3aGlza2VyU2xvdCkge1xuICAgICAgICBjb25zdCBtaWQgPSB3aGlza2VyU2xvdC5jZW50ZXIoKS54O1xuICAgICAgICByZXR1cm4gWyBbXG4gICAgICAgICAgICBbIG1pZCAtIDUsIHdoaXNrZXJTbG90LnkxIF0sIFsgbWlkICsgNSwgd2hpc2tlclNsb3QueTEgXSxcbiAgICAgICAgICAgIFsgbWlkLCB3aGlza2VyU2xvdC55MSBdLCBbIG1pZCwgYm94U2xvdC55MSBdXG4gICAgICAgIF0sIFtcbiAgICAgICAgICAgIFsgbWlkIC0gNSwgd2hpc2tlclNsb3QueTIgXSwgWyBtaWQgKyA1LCB3aGlza2VyU2xvdC55MiBdLFxuICAgICAgICAgICAgWyBtaWQsIHdoaXNrZXJTbG90LnkyIF0sIFsgbWlkLCBib3hTbG90LnkyIF1cbiAgICAgICAgXSBdO1xuICAgIH1cblxuICAgIGNhbGNNZWRpYW5Qb2ludHMoYm94LCBtZWRpYW5TbG90KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbIFsgYm94LngxLCBtZWRpYW5TbG90LnkxIF0sIFsgYm94LngyLCBtZWRpYW5TbG90LnkxIF0gXVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHJlbmRlck91dGxpZXJzKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICBjb25zdCBvdXRsaWVycyA9IHZhbHVlLm91dGxpZXJzIHx8IFtdO1xuICAgICAgICBjb25zdCBvdXRlckZlbmNlID0gTWF0aC5hYnModmFsdWUucTMgLSB2YWx1ZS5xMSkgKiAzO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgICAgICBsZXQgbWFya2VycyA9IG9wdGlvbnMubWFya2VycyB8fCB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dGxpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRsaWVyVmFsdWUgPSBvdXRsaWVyc1tpXTtcbiAgICAgICAgICAgIGlmIChvdXRsaWVyVmFsdWUgPCB2YWx1ZS5xMyArIG91dGVyRmVuY2UgJiYgb3V0bGllclZhbHVlID4gdmFsdWUucTEgLSBvdXRlckZlbmNlKSB7XG4gICAgICAgICAgICAgICAgbWFya2VycyA9IG9wdGlvbnMub3V0bGllcnM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBvcHRpb25zLmV4dHJlbWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1hcmtlcnNCb3JkZXIgPSBkZWVwRXh0ZW5kKHt9LCBtYXJrZXJzLmJvcmRlcik7XG5cbiAgICAgICAgICAgIGlmICghZGVmaW5lZChtYXJrZXJzQm9yZGVyLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgIGlmIChkZWZpbmVkKHRoaXMuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnNCb3JkZXIuY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnNCb3JkZXIuY29sb3IgPVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yKG1hcmtlcnMuYmFja2dyb3VuZCkuYnJpZ2h0bmVzcyhCT1JERVJfQlJJR0hUTkVTUykudG9IZXgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFNoYXBlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogbWFya2Vycy50eXBlLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBtYXJrZXJzLnNpemUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBtYXJrZXJzLnNpemUsXG4gICAgICAgICAgICAgICAgcm90YXRpb246IG1hcmtlcnMucm90YXRpb24sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogbWFya2Vycy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogbWFya2Vyc0JvcmRlcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBtYXJrZXJzLm9wYWNpdHlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzaGFwZS52YWx1ZSA9IG91dGxpZXJWYWx1ZTtcblxuICAgICAgICAgICAgZWxlbWVudHMucHVzaChzaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZmxvd091dGxpZXJzKGVsZW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cblxuICAgIHJlZmxvd091dGxpZXJzKG91dGxpZXJzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMub3duZXIuc2VyaWVzVmFsdWVBeGlzKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuYm94LmNlbnRlcigpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0bGllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG91dGxpZXJWYWx1ZSA9IG91dGxpZXJzW2ldLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgbWFya2VyQm94ID0gdmFsdWVBeGlzLmdldFNsb3Qob3V0bGllclZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIG1hcmtlckJveC5tb3ZlKGNlbnRlci54KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWFya2VyQm94Lm1vdmUodW5kZWZpbmVkLCBjZW50ZXIueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYm94ID0gdGhpcy5ib3gud3JhcChtYXJrZXJCb3gpO1xuICAgICAgICAgICAgb3V0bGllcnNbaV0ucmVmbG93KG1hcmtlckJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYWluVmlzdWFsKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBzdXBlci5tYWluVmlzdWFsKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBvdXRsaWVycyA9IHRoaXMucmVuZGVyT3V0bGllcnMob3B0aW9ucyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRsaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG91dGxpZXJzW2ldLmdldEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmVzKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmRyYXdMaW5lcyhjb250YWluZXIsIG9wdGlvbnMsIHRoaXMud2hpc2tlclBvaW50cywgb3B0aW9ucy53aGlza2Vycyk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGNvbnRhaW5lciwgb3B0aW9ucywgdGhpcy5tZWRpYW5Qb2ludHMsIG9wdGlvbnMubWVkaWFuKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMoY29udGFpbmVyLCBvcHRpb25zLCB0aGlzLm1lYW5Qb2ludHMsIG9wdGlvbnMubWVhbik7XG4gICAgfVxuXG4gICAgZ2V0Qm9yZGVyQ29sb3IoKSB7XG4gICAgICAgIGlmICgodGhpcy5vcHRpb25zLmJvcmRlciB8fCB7fSkuY29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYm9yZGVyLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldEJvcmRlckNvbG9yKCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCb3hQbG90LCB7XG4gICAgYm9yZGVyOiB7XG4gICAgICAgIF9icmlnaHRuZXNzOiAwLjhcbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9LFxuICAgIG1lZGlhbjoge1xuICAgICAgICBjb2xvcjogXCIjZjZmNmY2XCJcbiAgICB9LFxuICAgIG1lYW46IHtcbiAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgIGRhc2hUeXBlOiBcImRhc2hcIixcbiAgICAgICAgY29sb3I6IFwiI2Y2ZjZmNlwiXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcImdsYXNzXCJcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcIjx0YWJsZT5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0aCBjb2xzcGFuPScyJz57NjpkfTwvdGg+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5Mb3dlcjo8L3RkPjx0ZD57MDpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5RMTo8L3RkPjx0ZD57MTpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5NZWRpYW46PC90ZD48dGQ+ezI6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+TWVhbjo8L3RkPjx0ZD57NTpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5RMzo8L3RkPjx0ZD57MzpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5VcHBlcjo8L3RkPjx0ZD57NDpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgXCI8L3RhYmxlPlwiXG4gICAgfSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfSxcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5vdGVzOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIGxhYmVsOiB7fVxuICAgIH0sXG4gICAgb3V0bGllcnM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgc2l6ZTogTElORV9NQVJLRVJfU0laRSxcbiAgICAgICAgdHlwZTogQ1JPU1MsXG4gICAgICAgIGJhY2tncm91bmQ6IFdISVRFLFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAyLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9LFxuICAgICAgICBvcGFjaXR5OiAwXG4gICAgfSxcbiAgICBleHRyZW1lczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBzaXplOiBMSU5FX01BUktFUl9TSVpFLFxuICAgICAgICB0eXBlOiBDSVJDTEUsXG4gICAgICAgIGJhY2tncm91bmQ6IFdISVRFLFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAyLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9LFxuICAgICAgICBvcGFjaXR5OiAwXG4gICAgfVxufSk7XG5cbmRlZXBFeHRlbmQoQm94UGxvdC5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBCb3hQbG90OyIsImltcG9ydCBCb3hQbG90IGZyb20gJy4vYm94LXBsb3QnO1xuXG5jbGFzcyBWZXJ0aWNhbEJveFBsb3QgZXh0ZW5kcyBCb3hQbG90IHtcbiAgICByZWZsb3dCb3hTbG90KGJveCkge1xuICAgICAgICB0aGlzLmJveFNsb3QueTEgPSBib3gueTE7XG4gICAgICAgIHRoaXMuYm94U2xvdC55MiA9IGJveC55MjtcbiAgICB9XG5cbiAgICByZWZsb3dXaGlza2VyU2xvdChib3gpIHtcbiAgICAgICAgdGhpcy53aGlza2VyU2xvdC55MSA9IGJveC55MTtcbiAgICAgICAgdGhpcy53aGlza2VyU2xvdC55MiA9IGJveC55MjtcbiAgICB9XG5cbiAgICBjYWxjTWVhblBvaW50cyhib3gsIG1lYW5TbG90KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbIFsgbWVhblNsb3QueDEsIGJveC55MSBdLCBbIG1lYW5TbG90LngxLCBib3gueTIgXSBdXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgY2FsY1doaXNrZXJQb2ludHMoYm94U2xvdCwgd2hpc2tlclNsb3QpIHtcbiAgICAgICAgY29uc3QgbWlkID0gd2hpc2tlclNsb3QuY2VudGVyKCkueTtcbiAgICAgICAgcmV0dXJuIFsgW1xuICAgICAgICAgICAgWyB3aGlza2VyU2xvdC54MSwgbWlkIC0gNSBdLCBbIHdoaXNrZXJTbG90LngxLCBtaWQgKyA1IF0sXG4gICAgICAgICAgICBbIHdoaXNrZXJTbG90LngxLCBtaWQgXSwgWyBib3hTbG90LngxLCBtaWQgXVxuICAgICAgICBdLCBbXG4gICAgICAgICAgICBbIHdoaXNrZXJTbG90LngyLCBtaWQgLSA1IF0sIFsgd2hpc2tlclNsb3QueDIsIG1pZCArIDUgXSxcbiAgICAgICAgICAgIFsgd2hpc2tlclNsb3QueDIsIG1pZCBdLCBbIGJveFNsb3QueDIsIG1pZCBdXG4gICAgICAgIF0gXTtcbiAgICB9XG5cbiAgICBjYWxjTWVkaWFuUG9pbnRzKGJveCwgbWVkaWFuU2xvdCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgWyBbIG1lZGlhblNsb3QueDEsIGJveC55MSBdLCBbIG1lZGlhblNsb3QueDEsIGJveC55MiBdIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlcnRpY2FsQm94UGxvdDsiLCJpbXBvcnQgQ2FuZGxlc3RpY2tDaGFydCBmcm9tICcuLi9jYW5kbGVzdGljay1jaGFydC9jYW5kbGVzdGljay1jaGFydCc7XG5pbXBvcnQgVmVydGljYWxCb3hQbG90IGZyb20gJy4vdmVydGljYWwtYm94LXBsb3QnO1xuaW1wb3J0IEJveFBsb3QgZnJvbSAnLi9ib3gtcGxvdCc7XG5pbXBvcnQgQ2x1c3RlckxheW91dCBmcm9tICcuLi9sYXlvdXQvY2x1c3Rlci1sYXlvdXQnO1xuXG5pbXBvcnQgYXJlTnVtYmVycyBmcm9tICcuLi91dGlscy9hcmUtbnVtYmVycyc7XG5cbmltcG9ydCB7IE1JTl9WQUxVRSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQm94UGxvdENoYXJ0IGV4dGVuZHMgQ2FuZGxlc3RpY2tDaGFydCB7XG4gICAgYWRkVmFsdWUoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzO1xuICAgICAgICBjb25zdCB2YWx1ZVBhcnRzID0gdGhpcy5zcGxpdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgaGFzVmFsdWUgPSBhcmVOdW1iZXJzKHZhbHVlUGFydHMpO1xuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHNlcmllcy5kYXRhW2NhdGVnb3J5SXhdO1xuICAgICAgICBsZXQgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdO1xuICAgICAgICBsZXQgcG9pbnQ7XG5cbiAgICAgICAgaWYgKCFjYXRlZ29yeVBvaW50cykge1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XSA9IGNhdGVnb3J5UG9pbnRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHBvaW50ID0gdGhpcy5jcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNsdXN0ZXIgPSBjaGlsZHJlbltjYXRlZ29yeUl4XTtcbiAgICAgICAgaWYgKCFjbHVzdGVyKSB7XG4gICAgICAgICAgICBjbHVzdGVyID0gbmV3IENsdXN0ZXJMYXlvdXQoe1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBvcHRpb25zLmludmVydEF4ZXMsXG4gICAgICAgICAgICAgICAgZ2FwOiBvcHRpb25zLmdhcCxcbiAgICAgICAgICAgICAgICBzcGFjaW5nOiBvcHRpb25zLnNwYWNpbmcsXG4gICAgICAgICAgICAgICAgcnRsOiAhb3B0aW9ucy5pbnZlcnRBeGVzICYmICh0aGlzLmNoYXJ0U2VydmljZSB8fCB7fSkucnRsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKGNsdXN0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgICAgICBjbHVzdGVyLmFwcGVuZChwb2ludCk7XG5cbiAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5SXggPSBjYXRlZ29yeUl4O1xuICAgICAgICAgICAgcG9pbnQuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgICAgICAgIHBvaW50LnNlcmllcyA9IHNlcmllcztcbiAgICAgICAgICAgIHBvaW50LnNlcmllc0l4ID0gc2VyaWVzSXg7XG4gICAgICAgICAgICBwb2ludC5vd25lciA9IHRoaXM7XG4gICAgICAgICAgICBwb2ludC5kYXRhSXRlbSA9IGRhdGFJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgIGNhdGVnb3J5UG9pbnRzLnB1c2gocG9pbnQpO1xuICAgIH1cblxuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnZlcnRBeGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gVmVydGljYWxCb3hQbG90O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJveFBsb3Q7XG4gICAgfVxuXG4gICAgc3BsaXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgdmFsdWUubG93ZXIsIHZhbHVlLnExLCB2YWx1ZS5tZWRpYW4sXG4gICAgICAgICAgICB2YWx1ZS5xMywgdmFsdWUudXBwZXJcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gZmllbGRzLnNlcmllcy5heGlzO1xuICAgICAgICBsZXQgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdO1xuICAgICAgICBsZXQgcGFydHMgPSB0aGlzLnNwbGl0VmFsdWUodmFsdWUpLmNvbmNhdCh0aGlzLmZpbHRlck91dGxpZXJzKHZhbHVlLm91dGxpZXJzKSk7XG5cbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUubWVhbikpIHtcbiAgICAgICAgICAgIHBhcnRzID0gcGFydHMuY29uY2F0KHZhbHVlLm1lYW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID1cbiAgICAgICAgICAgIGF4aXNSYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgIGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9IHtcbiAgICAgICAgICAgIG1pbjogTWF0aC5taW4uYXBwbHkoTWF0aCwgcGFydHMuY29uY2F0KFsgYXhpc1JhbmdlLm1pbiBdKSksXG4gICAgICAgICAgICBtYXg6IE1hdGgubWF4LmFwcGx5KE1hdGgsIHBhcnRzLmNvbmNhdChbIGF4aXNSYW5nZS5tYXggXSkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9ybWF0UG9pbnRWYWx1ZShwb2ludCwgZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9pbnQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCxcbiAgICAgICAgICAgIHZhbHVlLmxvd2VyLCB2YWx1ZS5xMSwgdmFsdWUubWVkaWFuLFxuICAgICAgICAgICAgdmFsdWUucTMsIHZhbHVlLnVwcGVyLCB2YWx1ZS5tZWFuLCBwb2ludC5jYXRlZ29yeVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZpbHRlck91dGxpZXJzKGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IChpdGVtcyB8fCBbXSkubGVuZ3RoO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChpdGVtKSAmJiBpdGVtICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHN1cHBvcnRzUG9pbnRJbmFjdGl2ZU9wYWNpdHkoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJveFBsb3RDaGFydDtcbiIsImltcG9ydCBFcnJvckJhckJhc2UgZnJvbSAnLi9lcnJvci1iYXItYmFzZSc7XG5cbmNsYXNzIFNjYXR0ZXJFcnJvckJhciBleHRlbmRzIEVycm9yQmFyQmFzZSB7XG4gICAgZ2V0QXhpcygpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuY2hhcnQuc2VyaWVzQXhlcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmlzVmVydGljYWwgPyBheGVzLnkgOiBheGVzLng7XG5cbiAgICAgICAgcmV0dXJuIGF4aXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTY2F0dGVyRXJyb3JCYXI7IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhc1ZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGRlZmluZWQodmFsdWUpICYmIHZhbHVlICE9PSBudWxsO1xufSIsImltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCBDbGlwQW5pbWF0aW9uTWl4aW4gZnJvbSAnLi4vbWl4aW5zL2NsaXAtYW5pbWF0aW9uLW1peGluJztcbmltcG9ydCBFcnJvclJhbmdlQ2FsY3VsYXRvciBmcm9tICcuLi9lcnJvci1iYXJzL2Vycm9yLXJhbmdlLWNhbGN1bGF0b3InO1xuaW1wb3J0IFNjYXR0ZXJFcnJvckJhciBmcm9tICcuLi9lcnJvci1iYXJzL3NjYXR0ZXItZXJyb3ItYmFyJztcbmltcG9ydCBMaW5lUG9pbnQgZnJvbSAnLi4vbGluZS1jaGFydC9saW5lLXBvaW50JztcbmltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcblxuaW1wb3J0IGhhc1ZhbHVlIGZyb20gJy4uL3V0aWxzL2hhcy12YWx1ZSc7XG5pbXBvcnQgZXZhbE9wdGlvbnMgZnJvbSAnLi4vdXRpbHMvZXZhbC1vcHRpb25zJztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCwgaXNOdW1iZXIsIGlzU3RyaW5nLCBkZWZpbmVkLCBpc0Z1bmN0aW9uLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBYLCBZLCBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcGFyc2VEYXRlIH0gZnJvbSAnLi4vLi4vZGF0ZS11dGlscyc7XG5cbmNsYXNzIFNjYXR0ZXJDaGFydCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IocGxvdEFyZWEsIG9wdGlvbnMpIHtcblxuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnBsb3RBcmVhID0gcGxvdEFyZWE7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gcGxvdEFyZWEuY2hhcnRTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9pbml0RmllbGRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBfaW5pdEZpZWxkcygpIHtcbiAgICAgICAgLy8gWCBhbmQgWSBheGlzIHJhbmdlcyBncm91cGVkIGJ5IG5hbWUsIGUuZy46XG4gICAgICAgIC8vIHByaW1hcnk6IHsgbWluOiAwLCBtYXg6IDEgfVxuICAgICAgICB0aGlzLnhBeGlzUmFuZ2VzID0ge307XG4gICAgICAgIHRoaXMueUF4aXNSYW5nZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNlcmllc1BvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNlcmllc09wdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZXZhbFNlcmllcyA9IFtdO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy50cmF2ZXJzZURhdGFQb2ludHModGhpcy5hZGRWYWx1ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBhZGRFcnJvckJhcihwb2ludCwgZmllbGQsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlW2ZpZWxkXTtcbiAgICAgICAgY29uc3QgdmFsdWVFcnJvckZpZWxkID0gZmllbGQgKyBcIlZhbHVlXCI7XG4gICAgICAgIGNvbnN0IGxvd0ZpZWxkID0gZmllbGQgKyBcIkVycm9yTG93XCI7XG4gICAgICAgIGNvbnN0IGhpZ2hGaWVsZCA9IGZpZWxkICsgXCJFcnJvckhpZ2hcIjtcbiAgICAgICAgY29uc3QgeyBzZXJpZXNJeCwgc2VyaWVzIH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IGVycm9yQmFycyA9IHBvaW50Lm9wdGlvbnMuZXJyb3JCYXJzO1xuICAgICAgICBjb25zdCBsb3dWYWx1ZSA9IGZpZWxkc1tsb3dGaWVsZF07XG4gICAgICAgIGNvbnN0IGhpZ2hWYWx1ZSA9IGZpZWxkc1toaWdoRmllbGRdO1xuXG4gICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGxldCBlcnJvclJhbmdlO1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGxvd1ZhbHVlKSAmJiBpc051bWJlcihoaWdoVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JSYW5nZSA9IHsgbG93OiBsb3dWYWx1ZSwgaGlnaDogaGlnaFZhbHVlIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvckJhcnMgJiYgZGVmaW5lZChlcnJvckJhcnNbdmFsdWVFcnJvckZpZWxkXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzID0gdGhpcy5zZXJpZXNFcnJvclJhbmdlcyB8fCB7IHg6IFtdLCB5OiBbXSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbZmllbGRdW3Nlcmllc0l4XSA9IHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbZmllbGRdW3Nlcmllc0l4XSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JSYW5nZUNhbGN1bGF0b3IoZXJyb3JCYXJzW3ZhbHVlRXJyb3JGaWVsZF0sIHNlcmllcywgZmllbGQpO1xuXG4gICAgICAgICAgICAgICAgZXJyb3JSYW5nZSA9IHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbZmllbGRdW3Nlcmllc0l4XS5nZXRFcnJvclJhbmdlKHZhbHVlLCBlcnJvckJhcnNbdmFsdWVFcnJvckZpZWxkXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvclJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQb2ludEVycm9yQmFyKGVycm9yUmFuZ2UsIHBvaW50LCBmaWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRQb2ludEVycm9yQmFyKGVycm9yUmFuZ2UsIHBvaW50LCBmaWVsZCkge1xuICAgICAgICBjb25zdCB7IGxvdywgaGlnaCB9ID0gZXJyb3JSYW5nZTtcbiAgICAgICAgY29uc3QgeyBzZXJpZXMsIG9wdGlvbnM6IHsgZXJyb3JCYXJzOiBvcHRpb25zIH0gfSA9IHBvaW50O1xuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gZmllbGQgPT09IFk7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7fTtcblxuICAgICAgICBwb2ludFtmaWVsZCArIFwiTG93XCJdID0gbG93O1xuICAgICAgICBwb2ludFtmaWVsZCArIFwiSGlnaFwiXSA9IGhpZ2g7XG5cbiAgICAgICAgcG9pbnQuZXJyb3JCYXJzID0gcG9pbnQuZXJyb3JCYXJzIHx8IFtdO1xuICAgICAgICBjb25zdCBlcnJvckJhciA9IG5ldyBTY2F0dGVyRXJyb3JCYXIobG93LCBoaWdoLCBpc1ZlcnRpY2FsLCB0aGlzLCBzZXJpZXMsIG9wdGlvbnMpO1xuICAgICAgICBwb2ludC5lcnJvckJhcnMucHVzaChlcnJvckJhcik7XG4gICAgICAgIHBvaW50LmFwcGVuZChlcnJvckJhcik7XG5cbiAgICAgICAgaXRlbVtmaWVsZF0gPSBsb3c7XG4gICAgICAgIHRoaXMudXBkYXRlUmFuZ2UoaXRlbSwgc2VyaWVzKTtcbiAgICAgICAgaXRlbVtmaWVsZF0gPSBoaWdoO1xuICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKGl0ZW0sIHNlcmllcyk7XG4gICAgfVxuXG4gICAgYWRkVmFsdWUodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHZhbHVlO1xuICAgICAgICBjb25zdCBzZXJpZXNJeCA9IGZpZWxkcy5zZXJpZXNJeDtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgIGNvbnN0IG1pc3NpbmdWYWx1ZXMgPSB0aGlzLnNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKTtcbiAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHNbc2VyaWVzSXhdO1xuXG4gICAgICAgIGxldCBwb2ludFZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmICghKGhhc1ZhbHVlKHgpICYmIGhhc1ZhbHVlKHkpKSkge1xuICAgICAgICAgICAgcG9pbnRWYWx1ZSA9IHRoaXMuY3JlYXRlTWlzc2luZ1ZhbHVlKHBvaW50VmFsdWUsIG1pc3NpbmdWYWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvaW50O1xuICAgICAgICBpZiAocG9pbnRWYWx1ZSkge1xuICAgICAgICAgICAgcG9pbnQgPSB0aGlzLmNyZWF0ZVBvaW50KHBvaW50VmFsdWUsIGZpZWxkcyk7XG4gICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHBvaW50LCBmaWVsZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3JCYXIocG9pbnQsIFgsIGZpZWxkcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFcnJvckJhcihwb2ludCwgWSwgZmllbGRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmFuZ2UocG9pbnRWYWx1ZSwgZmllbGRzLnNlcmllcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgc2VyaWVzUG9pbnRzLnB1c2gocG9pbnQpO1xuICAgIH1cblxuICAgIHNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKSB7XG4gICAgICAgIHJldHVybiBzZXJpZXMubWlzc2luZ1ZhbHVlcztcbiAgICB9XG5cbiAgICBjcmVhdGVNaXNzaW5nVmFsdWUoKSB7fVxuXG4gICAgdXBkYXRlUmFuZ2UodmFsdWUsIHNlcmllcykge1xuICAgICAgICBjb25zdCBpbnRsU2VydmljZSA9IHRoaXMuY2hhcnRTZXJ2aWNlLmludGw7XG4gICAgICAgIGNvbnN0IHsgeEF4aXM6IHhBeGlzTmFtZSwgeUF4aXM6IHlBeGlzTmFtZSB9ID0gc2VyaWVzO1xuICAgICAgICBsZXQgeyB4LCB5IH0gPSB2YWx1ZTtcbiAgICAgICAgbGV0IHhBeGlzUmFuZ2UgPSB0aGlzLnhBeGlzUmFuZ2VzW3hBeGlzTmFtZV07XG4gICAgICAgIGxldCB5QXhpc1JhbmdlID0gdGhpcy55QXhpc1Jhbmdlc1t5QXhpc05hbWVdO1xuXG4gICAgICAgIGlmIChoYXNWYWx1ZSh4KSkge1xuICAgICAgICAgICAgeEF4aXNSYW5nZSA9IHRoaXMueEF4aXNSYW5nZXNbeEF4aXNOYW1lXSA9XG4gICAgICAgICAgICAgICAgeEF4aXNSYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoeCkpIHtcbiAgICAgICAgICAgICAgICB4ID0gcGFyc2VEYXRlKGludGxTZXJ2aWNlLCB4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeEF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbih4QXhpc1JhbmdlLm1pbiwgeCk7XG4gICAgICAgICAgICB4QXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KHhBeGlzUmFuZ2UubWF4LCB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZSh5KSkge1xuICAgICAgICAgICAgeUF4aXNSYW5nZSA9IHRoaXMueUF4aXNSYW5nZXNbeUF4aXNOYW1lXSA9XG4gICAgICAgICAgICAgICAgeUF4aXNSYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoeSkpIHtcbiAgICAgICAgICAgICAgICB5ID0gcGFyc2VEYXRlKGludGxTZXJ2aWNlLCB5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeUF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbih5QXhpc1JhbmdlLm1pbiwgeSk7XG4gICAgICAgICAgICB5QXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KHlBeGlzUmFuZ2UubWF4LCB5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV2YWxQb2ludE9wdGlvbnMob3B0aW9ucywgdmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7IGRlZmF1bHRzOiBzZXJpZXMuX2RlZmF1bHRzLCBleGNsdWRlZDogWyBcImRhdGFcIiwgXCJ0b29sdGlwXCIsIFwiY29udGVudFwiLCBcInRlbXBsYXRlXCIsIFwidmlzdWFsXCIsIFwidG9nZ2xlXCIsIFwiX291dE9mUmFuZ2VNaW5Qb2ludFwiLCBcIl9vdXRPZlJhbmdlTWF4UG9pbnRcIiBdIH07XG5cbiAgICAgICAgbGV0IGRvRXZhbCA9IHRoaXMuX2V2YWxTZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICBpZiAoIWRlZmluZWQoZG9FdmFsKSkge1xuICAgICAgICAgICAgdGhpcy5fZXZhbFNlcmllc1tzZXJpZXNJeF0gPSBkb0V2YWwgPSBldmFsT3B0aW9ucyhvcHRpb25zLCB7fSwgc3RhdGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChkb0V2YWwpIHtcbiAgICAgICAgICAgIHBvaW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgZXZhbE9wdGlvbnMocG9pbnRPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBmaWVsZHMuZGF0YUl0ZW1cbiAgICAgICAgICAgIH0sIHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludE9wdGlvbnM7XG4gICAgfVxuXG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gTGluZVBvaW50O1xuICAgIH1cblxuICAgIHBvaW50T3B0aW9ucyhzZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5zZXJpZXNPcHRpb25zW3Nlcmllc0l4XTtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHRoaXMucG9pbnRUeXBlKCkucHJvdG90eXBlLmRlZmF1bHRzO1xuICAgICAgICAgICAgdGhpcy5zZXJpZXNPcHRpb25zW3Nlcmllc0l4XSA9IG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBkZWZhdWx0cywge1xuICAgICAgICAgICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMudG9vbHRpcC5mb3JtYXRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy5sYWJlbHMuZm9ybWF0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgc2VyaWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIGNyZWF0ZVBvaW50KHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gZmllbGRzLnNlcmllcztcbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IHRoaXMucG9pbnRPcHRpb25zKHNlcmllcywgZmllbGRzLnNlcmllc0l4KTtcbiAgICAgICAgbGV0IGNvbG9yID0gZmllbGRzLmNvbG9yIHx8IHNlcmllcy5jb2xvcjtcblxuICAgICAgICBwb2ludE9wdGlvbnMgPSB0aGlzLmV2YWxQb2ludE9wdGlvbnMocG9pbnRPcHRpb25zLCB2YWx1ZSwgZmllbGRzKTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IExpbmVQb2ludCh2YWx1ZSwgcG9pbnRPcHRpb25zKTtcbiAgICAgICAgcG9pbnQuY29sb3IgPSBjb2xvcjtcblxuICAgICAgICB0aGlzLmFwcGVuZChwb2ludCk7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIHNlcmllc0F4ZXMoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IHsgeEF4aXM6IHhBeGlzTmFtZSwgeUF4aXM6IHlBeGlzTmFtZSB9ID0gc2VyaWVzO1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IHhBeGlzID0geEF4aXNOYW1lID8gcGxvdEFyZWEubmFtZWRYQXhlc1t4QXhpc05hbWVdIDogcGxvdEFyZWEuYXhpc1g7XG4gICAgICAgIGNvbnN0IHlBeGlzID0geUF4aXNOYW1lID8gcGxvdEFyZWEubmFtZWRZQXhlc1t5QXhpc05hbWVdIDogcGxvdEFyZWEuYXhpc1k7XG5cbiAgICAgICAgaWYgKCF4QXhpcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvY2F0ZSBYIGF4aXMgd2l0aCBuYW1lIFwiICsgeEF4aXNOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgheUF4aXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBsb2NhdGUgWSBheGlzIHdpdGggbmFtZSBcIiArIHlBeGlzTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeEF4aXMsXG4gICAgICAgICAgICB5OiB5QXhpc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgY2hhcnRQb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgY29uc3QgbGltaXQgPSAhdGhpcy5vcHRpb25zLmNsaXA7XG4gICAgICAgIGxldCBwb2ludEl4ID0gMDtcblxuXG4gICAgICAgIHRoaXMudHJhdmVyc2VEYXRhUG9pbnRzKCh2YWx1ZSwgZmllbGRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGNoYXJ0UG9pbnRzW3BvaW50SXgrK107XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNBeGVzID0gdGhpcy5zZXJpZXNBeGVzKGZpZWxkcy5zZXJpZXMpO1xuICAgICAgICAgICAgY29uc3Qgc2xvdFggPSBzZXJpZXNBeGVzLnguZ2V0U2xvdCh2YWx1ZS54LCB2YWx1ZS54LCBsaW1pdCk7XG4gICAgICAgICAgICBjb25zdCBzbG90WSA9IHNlcmllc0F4ZXMueS5nZXRTbG90KHZhbHVlLnksIHZhbHVlLnksIGxpbWl0KTtcblxuICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsb3RYICYmIHNsb3RZKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50U2xvdCA9IHRoaXMucG9pbnRTbG90KHNsb3RYLCBzbG90WSk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LnJlZmxvdyhwb2ludFNsb3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYm94ID0gdGFyZ2V0Qm94O1xuICAgIH1cblxuICAgIHBvaW50U2xvdChzbG90WCwgc2xvdFkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3goc2xvdFgueDEsIHNsb3RZLnkxLCBzbG90WC54Miwgc2xvdFkueTIpO1xuICAgIH1cblxuICAgIHRyYXZlcnNlRGF0YVBvaW50cyhjYWxsYmFjaykge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgc2VyaWVzIH0sIHNlcmllc1BvaW50cyB9ID0gdGhpcztcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzLmxlbmd0aDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzUG9pbnRzID0gc2VyaWVzUG9pbnRzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGlmICghY3VycmVudFNlcmllc1BvaW50cykge1xuICAgICAgICAgICAgICAgIHNlcmllc1BvaW50c1tzZXJpZXNJeF0gPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgcG9pbnRJeCA9IDA7IHBvaW50SXggPCBjdXJyZW50U2VyaWVzLmRhdGEubGVuZ3RoOyBwb2ludEl4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlRmllbGRzOiB2YWx1ZSwgZmllbGRzIH0gPSB0aGlzLl9iaW5kUG9pbnQoY3VycmVudFNlcmllcywgc2VyaWVzSXgsIHBvaW50SXgpO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodmFsdWUsIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludEl4OiBwb2ludEl4LFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0l4OiBzZXJpZXNJeCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW06IGN1cnJlbnRTZXJpZXMuZGF0YVtwb2ludEl4XSxcbiAgICAgICAgICAgICAgICAgICAgb3duZXI6IHRoaXNcbiAgICAgICAgICAgICAgICB9LCBmaWVsZHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCB2YWx1ZS54LCB2YWx1ZS55KTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwb2ludHNbaWR4XSB8fCB7fSkubWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbnNldERlZmF1bHRPcHRpb25zKFNjYXR0ZXJDaGFydCwge1xuICAgIHNlcmllczogW10sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICBmb3JtYXQ6IFwiezB9LCB7MX1cIlxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGZvcm1hdDogXCJ7MH0sIHsxfVwiXG4gICAgfSxcbiAgICBjbGlwOiB0cnVlXG59KTtcbmRlZXBFeHRlbmQoU2NhdHRlckNoYXJ0LnByb3RvdHlwZSwgQ2xpcEFuaW1hdGlvbk1peGluLCB7XG4gICAgX2JpbmRQb2ludDogQ2F0ZWdvcmljYWxDaGFydC5wcm90b3R5cGUuX2JpbmRQb2ludFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNjYXR0ZXJDaGFydDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20sIENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgTGluZVBvaW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1wb2ludCc7XG5pbXBvcnQgeyBCT1JERVJfQlJJR0hUTkVTUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IENFTlRFUiB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJ1YmJsZSBleHRlbmRzIExpbmVQb2ludCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmFsdWUsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB2YWx1ZS5jYXRlZ29yeTtcbiAgICB9XG5cbiAgICBjcmVhdGVIaWdobGlnaHQoKSB7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQ7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGhpZ2hsaWdodC5ib3JkZXI7XG4gICAgICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLm9wdGlvbnMubWFya2VycztcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IChtYXJrZXJzLnNpemUgKyBtYXJrZXJzLmJvcmRlci53aWR0aCArIGJvcmRlci53aWR0aCkgLyAyO1xuICAgICAgICBjb25zdCBoaWdobGlnaHRHcm91cCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IG5ldyBkcmF3LkNpcmNsZShuZXcgZ2VvbS5DaXJjbGUoWyBjZW50ZXIueCwgY2VudGVyLnkgKyByYWRpdXMgLyA1ICsgYm9yZGVyLndpZHRoIC8gMiBdLCByYWRpdXMgKyBib3JkZXIud2lkdGggLyAyKSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICdub25lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbGw6IHRoaXMuY3JlYXRlR3JhZGllbnQoe1xuICAgICAgICAgICAgICAgIGdyYWRpZW50OiAnYnViYmxlU2hhZG93JyxcbiAgICAgICAgICAgICAgICBjb2xvcjogbWFya2Vycy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIHN0b3BzOiBbIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogbWFya2Vycy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjNcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IG1hcmtlcnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0gXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBuZXcgZHJhdy5DaXJjbGUobmV3IGdlb20uQ2lyY2xlKFsgY2VudGVyLngsIGNlbnRlci55IF0sIHJhZGl1cyksIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIuY29sb3IgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yKG1hcmtlcnMuYmFja2dyb3VuZCkuYnJpZ2h0bmVzcyhCT1JERVJfQlJJR0hUTkVTUykudG9IZXgoKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGJvcmRlci5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBtYXJrZXJzLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogaGlnaGxpZ2h0Lm9wYWNpdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaGlnaGxpZ2h0R3JvdXAuYXBwZW5kKHNoYWRvdywgb3ZlcmxheSk7XG5cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodEdyb3VwO1xuICAgIH1cbn1cblxuQnViYmxlLnByb3RvdHlwZS5kZWZhdWx0cyA9IGRlZXBFeHRlbmQoe30sIEJ1YmJsZS5wcm90b3R5cGUuZGVmYXVsdHMsIHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgcG9zaXRpb246IENFTlRFUlxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuQnViYmxlLnByb3RvdHlwZS5kZWZhdWx0cy5oaWdobGlnaHQuekluZGV4ID0gdW5kZWZpbmVkO1xuXG5leHBvcnQgZGVmYXVsdCBCdWJibGU7IiwiaW1wb3J0IFNjYXR0ZXJDaGFydCBmcm9tICcuLi9zY2F0dGVyLWNoYXJ0cy9zY2F0dGVyLWNoYXJ0JztcbmltcG9ydCBCdWJibGUgZnJvbSAnLi9idWJibGUnO1xuXG5pbXBvcnQgeyBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgQlVCQkxFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgTUlOX1ZBTFVFLCBDSVJDTEUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGlzRnVuY3Rpb24sIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJ1YmJsZUNoYXJ0IGV4dGVuZHMgU2NhdHRlckNoYXJ0IHtcbiAgICBfaW5pdEZpZWxkcygpIHtcbiAgICAgICAgdGhpcy5fbWF4U2l6ZSA9IE1JTl9WQUxVRTtcbiAgICAgICAgc3VwZXIuX2luaXRGaWVsZHMoKTtcbiAgICB9XG5cbiAgICBhZGRWYWx1ZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGlmICh2YWx1ZS5zaXplICE9PSBudWxsICYmICh2YWx1ZS5zaXplID4gMCB8fCAodmFsdWUuc2l6ZSA8IDAgJiYgZmllbGRzLnNlcmllcy5uZWdhdGl2ZVZhbHVlcy52aXNpYmxlKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX21heFNpemUgPSBNYXRoLm1heCh0aGlzLl9tYXhTaXplLCBNYXRoLmFicyh2YWx1ZS5zaXplKSk7XG4gICAgICAgICAgICBzdXBlci5hZGRWYWx1ZSh2YWx1ZSwgZmllbGRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB0aGlzLnNlcmllc1BvaW50c1tmaWVsZHMuc2VyaWVzSXhdLnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIHRoaXMudXBkYXRlQnViYmxlc1NpemUoYm94KTtcbiAgICAgICAgc3VwZXIucmVmbG93KGJveCk7XG4gICAgfVxuXG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gQnViYmxlO1xuICAgIH1cblxuICAgIGNyZWF0ZVBvaW50KHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gZmllbGRzLnNlcmllcztcbiAgICAgICAgY29uc3QgcG9pbnRzQ291bnQgPSBzZXJpZXMuZGF0YS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gZmllbGRzLnBvaW50SXggKiAoSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04gLyBwb2ludHNDb3VudCk7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgICAgICBkdXJhdGlvbjogSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04gLSBkZWxheSxcbiAgICAgICAgICAgIHR5cGU6IEJVQkJMRVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBjb2xvciA9IGZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgIGlmICh2YWx1ZS5zaXplIDwgMCAmJiBzZXJpZXMubmVnYXRpdmVWYWx1ZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29sb3IgPSB2YWx1ZU9yRGVmYXVsdChcbiAgICAgICAgICAgICAgICBzZXJpZXMubmVnYXRpdmVWYWx1ZXMuY29sb3IsIGNvbG9yXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiBkZWxheSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIC0gZGVsYXlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMucG9pbnRPcHRpb25zKHNlcmllcywgZmllbGRzLnNlcmllc0l4KSwge1xuICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IENJUkNMRSxcbiAgICAgICAgICAgICAgICBib3JkZXI6IHNlcmllcy5ib3JkZXIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBhbmltYXRpb25PcHRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBvaW50T3B0aW9ucyA9IHRoaXMuZXZhbFBvaW50T3B0aW9ucyhwb2ludE9wdGlvbnMsIHZhbHVlLCBmaWVsZHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50T3B0aW9ucy5tYXJrZXJzLmJhY2tncm91bmQgPSBjb2xvcjtcblxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBCdWJibGUodmFsdWUsIHBvaW50T3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNvbG9yID0gY29sb3I7XG5cbiAgICAgICAgdGhpcy5hcHBlbmQocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICB1cGRhdGVCdWJibGVzU2l6ZShib3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHNlcmllcyB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBib3hTaXplID0gTWF0aC5taW4oYm94LndpZHRoKCksIGJveC5oZWlnaHQoKSk7XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3QgbWluU2l6ZSA9IGN1cnJlbnRTZXJpZXMubWluU2l6ZSB8fCBNYXRoLm1heChib3hTaXplICogMC4wMiwgMTApO1xuICAgICAgICAgICAgY29uc3QgbWF4U2l6ZSA9IGN1cnJlbnRTZXJpZXMubWF4U2l6ZSB8fCBib3hTaXplICogMC4yO1xuICAgICAgICAgICAgY29uc3QgbWluUiA9IG1pblNpemUgLyAyO1xuICAgICAgICAgICAgY29uc3QgbWF4UiA9IG1heFNpemUgLyAyO1xuICAgICAgICAgICAgY29uc3QgbWluQXJlYSA9IE1hdGguUEkgKiBtaW5SICogbWluUjtcbiAgICAgICAgICAgIGNvbnN0IG1heEFyZWEgPSBNYXRoLlBJICogbWF4UiAqIG1heFI7XG4gICAgICAgICAgICBjb25zdCBhcmVhUmFuZ2UgPSBtYXhBcmVhIC0gbWluQXJlYTtcbiAgICAgICAgICAgIGNvbnN0IGFyZWFSYXRpbyA9IGFyZWFSYW5nZSAvIHRoaXMuX21heFNpemU7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgc2VyaWVzUG9pbnRzLmxlbmd0aDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBzZXJpZXNQb2ludHNbcG9pbnRJeF07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZWEgPSBNYXRoLmFicyhwb2ludC52YWx1ZS5zaXplKSAqIGFyZWFSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5zcXJ0KChtaW5BcmVhICsgYXJlYSkgLyBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVpJbmRleCA9IHZhbHVlT3JEZWZhdWx0KHBvaW50Lm9wdGlvbnMuekluZGV4LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgekluZGV4ID0gYmFzZVpJbmRleCArICgxIC0gcmFkaXVzIC8gbWF4Uik7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVlcEV4dGVuZChwb2ludC5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IHpJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiByYWRpdXMgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogekluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiB6SW5kZXggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCB2YWx1ZS54LCB2YWx1ZS55LCB2YWx1ZS5zaXplLCBwb2ludC5jYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9uKCkge31cbiAgICBjcmVhdGVWaXN1YWwoKSB7fVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCdWJibGVDaGFydCwge1xuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcInszfVwiXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZm9ybWF0OiBcInszfVwiXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1YmJsZUNoYXJ0OyIsImltcG9ydCB7IFNoYXBlRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcblxuY2xhc3MgVGFyZ2V0IGV4dGVuZHMgU2hhcGVFbGVtZW50IHsgfVxuXG5kZWVwRXh0ZW5kKFRhcmdldC5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBUYXJnZXQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgVGFyZ2V0IGZyb20gJy4vdGFyZ2V0JztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5pbXBvcnQgTm90ZU1peGluIGZyb20gJy4uL21peGlucy9ub3RlLW1peGluJztcbmltcG9ydCBCYXIgZnJvbSAnLi4vYmFyLWNoYXJ0L2Jhcic7XG5cbmltcG9ydCB7IFdISVRFLCBUT1AsIFJJR0hUIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBCdWxsZXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuYWJvdmVBeGlzID0gdGhpcy5vcHRpb25zLmFib3ZlQXhpcztcbiAgICAgICAgdGhpcy5jb2xvciA9IG9wdGlvbnMuY29sb3IgfHwgV0hJVEU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9yZW5kZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh0aGlzLnZhbHVlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IG5ldyBUYXJnZXQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLnRhcmdldC5zaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy50YXJnZXQuY29sb3IgfHwgdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IG9wdGlvbnMuekluZGV4LFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG9wdGlvbnMudGFyZ2V0LmJvcmRlcixcbiAgICAgICAgICAgICAgICAgICAgdkFsaWduOiBUT1AsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduOiBSSUdIVFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5zZXJpZXMgPSB0aGlzLnNlcmllcztcblxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOb3RlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCB0YXJnZXQsIG93bmVyOiBjaGFydCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaW52ZXJ0QXhlcyA9IG9wdGlvbnMuaW52ZXJ0QXhlcztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gY2hhcnQuc2VyaWVzVmFsdWVBeGlzKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5U2xvdCA9IGNoYXJ0LmNhdGVnb3J5U2xvdChjaGFydC5jYXRlZ29yeUF4aXMsIG9wdGlvbnMuY2F0ZWdvcnlJeCwgdmFsdWVBeGlzKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWVTbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodGhpcy52YWx1ZS50YXJnZXQpO1xuICAgICAgICBjb25zdCB0YXJnZXRTbG90WCA9IGludmVydEF4ZXMgPyB0YXJnZXRWYWx1ZVNsb3QgOiBjYXRlZ29yeVNsb3Q7XG4gICAgICAgIGNvbnN0IHRhcmdldFNsb3RZID0gaW52ZXJ0QXhlcyA/IGNhdGVnb3J5U2xvdCA6IHRhcmdldFZhbHVlU2xvdDtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRTbG90ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICB0YXJnZXRTbG90WC54MSwgdGFyZ2V0U2xvdFkueTEsXG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xvdFgueDIsIHRhcmdldFNsb3RZLnkyXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGFyZ2V0Lm9wdGlvbnMuaGVpZ2h0ID0gaW52ZXJ0QXhlcyA/IHRhcmdldFNsb3QuaGVpZ2h0KCkgOiBvcHRpb25zLnRhcmdldC5saW5lLndpZHRoO1xuICAgICAgICAgICAgdGFyZ2V0Lm9wdGlvbnMud2lkdGggPSBpbnZlcnRBeGVzID8gb3B0aW9ucy50YXJnZXQubGluZS53aWR0aCA6IHRhcmdldFNsb3Qud2lkdGgoKTtcbiAgICAgICAgICAgIHRhcmdldC5yZWZsb3codGFyZ2V0U2xvdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub3RlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGUucmVmbG93KGJveCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJveCA9IGJveDtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5ib3gudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYm9yZGVyLndpZHRoID4gMCkge1xuICAgICAgICAgICAgYm9keS5vcHRpb25zLnNldChcInN0cm9rZVwiLCB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuYm9yZGVyLmNvbG9yIHx8IHRoaXMuY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMuYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBvcHRpb25zLmJvcmRlci5kYXNoVHlwZSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmJvcmRlci5vcGFjaXR5LCBvcHRpb25zLm9wYWNpdHkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYm9keVZpc3VhbCA9IGJvZHk7XG5cbiAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChib2R5KTtcbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGJvZHkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuYm9keVZpc3VhbCkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBkcmF3LkFuaW1hdGlvbi5jcmVhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5VmlzdWFsLCB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KHN0eWxlKSB7XG4gICAgICAgIHJldHVybiBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5ib3gudG9SZWN0KCksIHN0eWxlKTtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHlWaXN1YWw7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsQXJncygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlY3Q6IHRoaXMuYm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgdmlzdWFsOiB0aGlzLmJvZHlWaXN1YWwsXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtYXRWYWx1ZShmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZm9ybWF0UG9pbnRWYWx1ZSh0aGlzLCBmb3JtYXQpO1xuICAgIH1cbn1cblxuQnVsbGV0LnByb3RvdHlwZS50b29sdGlwQW5jaG9yID0gQmFyLnByb3RvdHlwZS50b29sdGlwQW5jaG9yO1xuXG5zZXREZWZhdWx0T3B0aW9ucyhCdWxsZXQsIHtcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICBvcGFjaXR5OiAxLFxuICAgIHRhcmdldDoge1xuICAgICAgICBzaGFwZTogXCJcIixcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGNvbG9yOiBcImdyZWVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICBmb3JtYXQ6IFwiQ3VycmVudDogezB9PGJyIC8+VGFyZ2V0OiB7MX1cIlxuICAgIH1cbn0pO1xuXG5kZWVwRXh0ZW5kKEJ1bGxldC5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuZGVlcEV4dGVuZChCdWxsZXQucHJvdG90eXBlLCBOb3RlTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBCdWxsZXQ7IiwiXG5pbXBvcnQgQ2F0ZWdvcmljYWxDaGFydCBmcm9tICcuLi9jYXRlZ29yaWNhbC1jaGFydCc7XG5pbXBvcnQgQmFyQ2hhcnQgZnJvbSAnLi4vYmFyLWNoYXJ0L2Jhci1jaGFydCc7XG5pbXBvcnQgQnVsbGV0IGZyb20gJy4vYnVsbGV0JztcbmltcG9ydCBDbHVzdGVyTGF5b3V0IGZyb20gJy4uL2xheW91dC9jbHVzdGVyLWxheW91dCc7XG5pbXBvcnQgeyBCQVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQnVsbGV0Q2hhcnQgZXh0ZW5kcyBDYXRlZ29yaWNhbENoYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihwbG90QXJlYSwgb3B0aW9ucykge1xuXG4gICAgICAgIHdyYXBEYXRhKG9wdGlvbnMpO1xuXG4gICAgICAgIHN1cGVyKHBsb3RBcmVhLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZWZsb3dDYXRlZ29yaWVzKGNhdGVnb3J5U2xvdHMpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnJlZmxvdyhjYXRlZ29yeVNsb3RzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBsb3RSYW5nZShwb2ludCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBwb2ludC5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMuc2VyaWVzVmFsdWVBeGlzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IGF4aXNDcm9zc2luZ1ZhbHVlID0gdGhpcy5jYXRlZ29yeUF4aXNDcm9zc2luZ1ZhbHVlKHZhbHVlQXhpcyk7XG5cbiAgICAgICAgcmV0dXJuIFsgYXhpc0Nyb3NzaW5nVmFsdWUsIHBvaW50LnZhbHVlLmN1cnJlbnQgfHwgYXhpc0Nyb3NzaW5nVmFsdWUgXTtcbiAgICB9XG5cbiAgICBjcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yeUl4LCBjYXRlZ29yeSwgc2VyaWVzLCBzZXJpZXNJeCB9ID0gZmllbGRzO1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGEudmFsdWVGaWVsZHM7XG5cbiAgICAgICAgbGV0IGJ1bGxldE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHZlcnRpY2FsOiAhb3B0aW9ucy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgb3ZlcmxheTogc2VyaWVzLm92ZXJsYXksXG4gICAgICAgICAgICBjYXRlZ29yeUl4OiBjYXRlZ29yeUl4LFxuICAgICAgICAgICAgaW52ZXJ0QXhlczogb3B0aW9ucy5pbnZlcnRBeGVzXG4gICAgICAgIH0sIHNlcmllcyk7XG5cbiAgICAgICAgbGV0IGNvbG9yID0gZGF0YS5maWVsZHMuY29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuICAgICAgICBidWxsZXRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgYnVsbGV0T3B0aW9ucywgdmFsdWUsIGNhdGVnb3J5LCBjYXRlZ29yeUl4LCBzZXJpZXMsIHNlcmllc0l4XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2VyaWVzLmNvbG9yKSkge1xuICAgICAgICAgICAgY29sb3IgPSBidWxsZXRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVsbGV0ID0gbmV3IEJ1bGxldCh2YWx1ZSwgYnVsbGV0T3B0aW9ucyk7XG4gICAgICAgIGJ1bGxldC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIGxldCBjbHVzdGVyID0gY2hpbGRyZW5bY2F0ZWdvcnlJeF07XG4gICAgICAgIGlmICghY2x1c3Rlcikge1xuICAgICAgICAgICAgY2x1c3RlciA9IG5ldyBDbHVzdGVyTGF5b3V0KHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgICAgIGdhcDogb3B0aW9ucy5nYXAsXG4gICAgICAgICAgICAgICAgc3BhY2luZzogb3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgICAgIHJ0bDogIW9wdGlvbnMuaW52ZXJ0QXhlcyAmJiAodGhpcy5jaGFydFNlcnZpY2UgfHwge30pLnJ0bFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjbHVzdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsdXN0ZXIuYXBwZW5kKGJ1bGxldCk7XG5cbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudCwgdGFyZ2V0IH0gPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBmaWVsZHMuc2VyaWVzLmF4aXM7XG4gICAgICAgIGxldCBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV07XG5cbiAgICAgICAgaWYgKGRlZmluZWQoY3VycmVudCkgJiYgIWlzTmFOKGN1cnJlbnQpICYmIGRlZmluZWQodGFyZ2V0ICYmICFpc05hTih0YXJnZXQpKSkge1xuICAgICAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID1cbiAgICAgICAgICAgICAgICBheGlzUmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICAgICAgYXhpc1JhbmdlLm1pbiA9IE1hdGgubWluKGF4aXNSYW5nZS5taW4sIGN1cnJlbnQsIHRhcmdldCk7XG4gICAgICAgICAgICBheGlzUmFuZ2UubWF4ID0gTWF0aC5tYXgoYXhpc1JhbmdlLm1heCwgY3VycmVudCwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCBwb2ludC52YWx1ZS5jdXJyZW50LCBwb2ludC52YWx1ZS50YXJnZXQpO1xuICAgIH1cblxuICAgIHBvaW50VmFsdWUoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS52YWx1ZUZpZWxkcy5jdXJyZW50O1xuICAgIH1cblxuICAgIGFib3ZlQXhpcyhwb2ludCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlLmN1cnJlbnQ7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlID4gMDtcbiAgICB9XG5cbiAgICBjcmVhdGVBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIHRoaXMuX3NldEFuaW1hdGlvbk9wdGlvbnMoKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgIHBvaW50Lm9wdGlvbnMuYW5pbWF0aW9uID0gdGhpcy5vcHRpb25zLmFuaW1hdGlvbjtcbiAgICAgICAgICAgIHBvaW50LmNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5CdWxsZXRDaGFydC5wcm90b3R5cGUuX3NldEFuaW1hdGlvbk9wdGlvbnMgPSBCYXJDaGFydC5wcm90b3R5cGUuX3NldEFuaW1hdGlvbk9wdGlvbnM7XG5cbnNldERlZmF1bHRPcHRpb25zKEJ1bGxldENoYXJ0LCB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IEJBUlxuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiB3cmFwRGF0YShvcHRpb25zKSB7XG4gICAgY29uc3Qgc2VyaWVzID0gb3B0aW9ucy5zZXJpZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzZXJpZXNJdGVtID0gc2VyaWVzW2ldO1xuICAgICAgICBjb25zdCBkYXRhID0gc2VyaWVzSXRlbS5kYXRhO1xuICAgICAgICBpZiAoZGF0YSAmJiAhaXNBcnJheShkYXRhWzBdKSAmJiAhaXNPYmplY3QoZGF0YVswXSkpIHtcbiAgICAgICAgICAgIHNlcmllc0l0ZW0uZGF0YSA9IFsgZGF0YSBdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdWxsZXRDaGFydDsiLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQsIGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCwgZ2V0U3BhY2luZywgc3R5bGVWYWx1ZSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBTSE9XX1RPT0xUSVAsIEhJREVfVE9PTFRJUCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNsYXNzIEJhc2VUb29sdGlwIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0U2VydmljZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGdldFN0eWxlKG9wdGlvbnMsIHBvaW50KSB7XG4gICAgICAgIGxldCB7IGJhY2tncm91bmQsIGJvcmRlcjogeyBjb2xvcjogYm9yZGVyIH0gfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludENvbG9yID0gcG9pbnQuY29sb3IgfHwgcG9pbnQub3B0aW9ucy5jb2xvcjtcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSB2YWx1ZU9yRGVmYXVsdChiYWNrZ3JvdW5kLCBwb2ludENvbG9yKTtcbiAgICAgICAgICAgIGJvcmRlciA9IHZhbHVlT3JEZWZhdWx0KGJvcmRlciwgcG9pbnRDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWRkaW5nID0gZ2V0U3BhY2luZyhvcHRpb25zLnBhZGRpbmcgfHwge30sIFwiYXV0b1wiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGJvcmRlcixcbiAgICAgICAgICAgIGZvbnQ6IG9wdGlvbnMuZm9udCxcbiAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgYm9yZGVyV2lkdGg6IHN0eWxlVmFsdWUob3B0aW9ucy5ib3JkZXIud2lkdGgpLFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogc3R5bGVWYWx1ZShwYWRkaW5nLnRvcCksXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBzdHlsZVZhbHVlKHBhZGRpbmcuYm90dG9tKSxcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBzdHlsZVZhbHVlKHBhZGRpbmcubGVmdCksXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IHN0eWxlVmFsdWUocGFkZGluZy5yaWdodClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzaG93KG9wdGlvbnMsIHRvb2x0aXBPcHRpb25zLCBwb2ludCkge1xuICAgICAgICBvcHRpb25zLmZvcm1hdCA9IHRvb2x0aXBPcHRpb25zLmZvcm1hdDtcblxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUodG9vbHRpcE9wdGlvbnMsIHBvaW50KTtcbiAgICAgICAgb3B0aW9ucy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBuZXcgQ29sb3Ioc3R5bGUuYmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgaWYgKCFkZWZpbmVkKHRvb2x0aXBPcHRpb25zLmNvbG9yKSAmJiAhYmFja2dyb3VuZC5pc0RhcmsoKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUgPSBcImstY2hhcnQtdG9vbHRpcC1pbnZlcnNlXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS5ub3RpZnkoU0hPV19UT09MVElQLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYXJ0U2VydmljZSkge1xuICAgICAgICAgICAgdGhpcy5jaGFydFNlcnZpY2Uubm90aWZ5KEhJREVfVE9PTFRJUCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBkZWxldGUgdGhpcy5jaGFydFNlcnZpY2U7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCYXNlVG9vbHRpcCwge1xuICAgIGJvcmRlcjoge1xuICAgICAgICB3aWR0aDogMVxuICAgIH0sXG4gICAgb3BhY2l0eTogMVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VUb29sdGlwO1xuIiwiaW1wb3J0IEJhc2VUb29sdGlwIGZyb20gJy4uL3Rvb2x0aXAvYmFzZS10b29sdGlwJztcblxuaW1wb3J0IHsgSElERV9UT09MVElQIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IFRPUCwgQk9UVE9NLCBMRUZULCBSSUdIVCwgQ0VOVEVSLCBEQVRFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIENyb3NzaGFpclRvb2x0aXAgZXh0ZW5kcyBCYXNlVG9vbHRpcCB7XG4gICAgY29uc3RydWN0b3IoY2hhcnRTZXJ2aWNlLCBjcm9zc2hhaXIsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoY2hhcnRTZXJ2aWNlLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNyb3NzaGFpciA9IGNyb3NzaGFpcjtcbiAgICAgICAgdGhpcy5mb3JtYXRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlLmZvcm1hdDtcbiAgICAgICAgdGhpcy5pbml0QXhpc05hbWUoKTtcbiAgICB9XG5cbiAgICBpbml0QXhpc05hbWUoKSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmNyb3NzaGFpci5heGlzO1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IGF4aXMucGxvdEFyZWE7XG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBpZiAocGxvdEFyZWEuY2F0ZWdvcnlBeGlzKSB7XG4gICAgICAgICAgICBuYW1lID0gYXhpcy5nZXRDYXRlZ29yeSA/IFwiY2F0ZWdvcnlBeGlzXCIgOiBcInZhbHVlQXhpc1wiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmFtZSA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbCA/IFwieUF4aXNcIiA6IFwieEF4aXNcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF4aXNOYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBzaG93QXQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgeyBjcm9zc2hhaXI6IHsgYXhpcyB9LCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBsZXQgdmFsdWUgPSBheGlzW29wdGlvbnMuc3RpY2t5TW9kZSA/IFwiZ2V0Q2F0ZWdvcnlcIiA6IFwiZ2V0VmFsdWVcIl0ocG9pbnQpO1xuICAgICAgICBsZXQgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAob3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRTZXJ2aWNlLmF1dG8ob3B0aW9ucy5mb3JtYXQsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChheGlzLm9wdGlvbnMudHlwZSA9PT0gREFURSkge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdFNlcnZpY2UuYXV0byhheGlzLm9wdGlvbnMubGFiZWxzLmRhdGVGb3JtYXRzW2F4aXMub3B0aW9ucy5iYXNlVW5pdF0sIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hvdyh7XG4gICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgICBhbmNob3I6IHRoaXMuZ2V0QW5jaG9yKCksXG4gICAgICAgICAgICBjcm9zc2hhaXI6IHRoaXMuY3Jvc3NoYWlyLFxuICAgICAgICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgICAgYXhpc05hbWU6IHRoaXMuYXhpc05hbWUsXG4gICAgICAgICAgICBheGlzSW5kZXg6IHRoaXMuY3Jvc3NoYWlyLmF4aXMuYXhpc0luZGV4XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2Uubm90aWZ5KEhJREVfVE9PTFRJUCwge1xuICAgICAgICAgICAgY3Jvc3NoYWlyOiB0aGlzLmNyb3NzaGFpcixcbiAgICAgICAgICAgIGF4aXNOYW1lOiB0aGlzLmF4aXNOYW1lLFxuICAgICAgICAgICAgYXhpc0luZGV4OiB0aGlzLmNyb3NzaGFpci5heGlzLmF4aXNJbmRleFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IHsgY3Jvc3NoYWlyLCBvcHRpb25zOiB7IHBvc2l0aW9uLCBwYWRkaW5nIH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gIWNyb3NzaGFpci5heGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSBjcm9zc2hhaXIubGluZS5iYm94KCk7XG4gICAgICAgIGxldCBob3Jpem9udGFsQWxpZ24sIHZlcnRpY2FsQWxpZ24sIHBvaW50O1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWduID0gQ0VOVEVSO1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBCT1RUT00pIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gVE9QO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gbGluZUJveC5ib3R0b21MZWZ0KCkudHJhbnNsYXRlKDAsIHBhZGRpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gbGluZUJveC50b3BMZWZ0KCkudHJhbnNsYXRlKDAsIC1wYWRkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ24gPSBSSUdIVDtcbiAgICAgICAgICAgICAgICBwb2ludCA9IGxpbmVCb3gudG9wTGVmdCgpLnRyYW5zbGF0ZSgtcGFkZGluZywgMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWxBbGlnbiA9IExFRlQ7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBsaW5lQm94LnRvcFJpZ2h0KCkudHJhbnNsYXRlKHBhZGRpbmcsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbEFsaWduLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbEFsaWduXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhDcm9zc2hhaXJUb29sdGlwLCB7XG4gICAgcGFkZGluZzogMTBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDcm9zc2hhaXJUb29sdGlwO1xuXG4iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgQ2F0ZWdvcnlBeGlzIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgQ3Jvc3NoYWlyVG9vbHRpcCBmcm9tICcuL2Nyb3NzaGFpci10b29sdGlwJztcblxuaW1wb3J0IHsgQkxBQ0ssIFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQ3Jvc3NoYWlyIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydFNlcnZpY2UsIGF4aXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5heGlzID0gYXhpcztcbiAgICAgICAgdGhpcy5zdGlja3lNb2RlID0gYXhpcyBpbnN0YW5jZW9mIENhdGVnb3J5QXhpcztcblxuICAgICAgICBjb25zdCB0b29sdGlwT3B0aW9ucyA9IHRoaXMub3B0aW9ucy50b29sdGlwO1xuXG4gICAgICAgIGlmICh0b29sdGlwT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSBuZXcgQ3Jvc3NoYWlyVG9vbHRpcChjaGFydFNlcnZpY2UsIHRoaXMsXG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7fSwgdG9vbHRpcE9wdGlvbnMsIHsgc3RpY2t5TW9kZTogdGhpcy5zdGlja3lNb2RlIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd0F0KHBvaW50KSB7XG4gICAgICAgIHRoaXMucG9pbnQgPSBwb2ludDtcbiAgICAgICAgdGhpcy5tb3ZlTGluZSgpO1xuICAgICAgICB0aGlzLmxpbmUudmlzaWJsZSh0cnVlKTtcblxuICAgICAgICBpZiAodGhpcy50b29sdGlwKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAuc2hvd0F0KHBvaW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMubGluZS52aXNpYmxlKGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy50b29sdGlwKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZUxpbmUoKSB7XG4gICAgICAgIGNvbnN0IHsgYXhpcywgcG9pbnQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmdldEJveCgpO1xuICAgICAgICBjb25zdCBkaW0gPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnQgPSBuZXcgZ2VvbS5Qb2ludChib3gueDEsIGJveC55MSk7XG4gICAgICAgIGxldCBsaW5lRW5kO1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgbGluZUVuZCA9IG5ldyBnZW9tLlBvaW50KGJveC54MiwgYm94LnkxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVFbmQgPSBuZXcgZ2VvbS5Qb2ludChib3gueDEsIGJveC55Mik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0aWNreU1vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90ID0gYXhpcy5nZXRTbG90KGF4aXMucG9pbnRDYXRlZ29yeUluZGV4KHBvaW50KSk7XG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0W2RpbV0gPSBsaW5lRW5kW2RpbV0gPSBzbG90LmNlbnRlcigpW2RpbV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpbmVTdGFydFtkaW1dID0gbGluZUVuZFtkaW1dID0gcG9pbnRbZGltXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYm94ID0gYm94O1xuXG4gICAgICAgIHRoaXMubGluZS5tb3ZlVG8obGluZVN0YXJ0KS5saW5lVG8obGluZUVuZCk7XG4gICAgfVxuXG4gICAgZ2V0Qm94KCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5heGlzO1xuICAgICAgICBjb25zdCBheGVzID0gYXhpcy5wYW5lLmF4ZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGF4ZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgYm94ID0gYXhpcy5saW5lQm94KCkuY2xvbmUoKTtcbiAgICAgICAgY29uc3QgZGltID0gdmVydGljYWwgPyBYIDogWTtcbiAgICAgICAgbGV0IGF4aXNMaW5lQm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBeGlzID0gYXhlc1tpXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50QXhpcy5vcHRpb25zLnZlcnRpY2FsICE9PSB2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGlmICghYXhpc0xpbmVCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xpbmVCb3ggPSBjdXJyZW50QXhpcy5saW5lQm94KCkuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBheGlzTGluZUJveC53cmFwKGN1cnJlbnRBeGlzLmxpbmVCb3goKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYm94W2RpbSArIDFdID0gYXhpc0xpbmVCb3hbZGltICsgMV07XG4gICAgICAgIGJveFtkaW0gKyAyXSA9IGF4aXNMaW5lQm94W2RpbSArIDJdO1xuXG4gICAgICAgIHJldHVybiBib3g7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLmxpbmUgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5kYXNoVHlwZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubW92ZUxpbmUoKTtcbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHRoaXMubGluZSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENyb3NzaGFpciwge1xuICAgIGNvbG9yOiBCTEFDSyxcbiAgICB3aWR0aDogMixcbiAgICB6SW5kZXg6IC0xLFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ3Jvc3NoYWlyOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IGFsaWduUGF0aFRvUGl4ZWwgfSBmcm9tICcuLi9jb21tb24nO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQgfSBmcm9tICcuLi9jb3JlJztcblxuY2xhc3MgQ2hhcnRDb250YWluZXIgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHBhbmUpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMucGFuZSA9IHBhbmU7XG4gICAgfVxuXG4gICAgc2hvdWxkQ2xpcCgpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2ldLm9wdGlvbnMuY2xpcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfY2xpcEJveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuZS5jaGFydHNCb3goKTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMudmlzdWFsID0gbmV3IGRyYXcuR3JvdXAoe1xuICAgICAgICAgICAgekluZGV4OiAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnNob3VsZENsaXAoKSkge1xuICAgICAgICAgICAgY29uc3QgY2xpcEJveCA9IHRoaXMuY2xpcEJveCA9IHRoaXMuX2NsaXBCb3goKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaXBSZWN0ID0gY2xpcEJveC50b1JlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaXBQYXRoID0gZHJhdy5QYXRoLmZyb21SZWN0KGNsaXBSZWN0KTtcbiAgICAgICAgICAgIGFsaWduUGF0aFRvUGl4ZWwoY2xpcFBhdGgpO1xuXG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5jbGlwKGNsaXBQYXRoKTtcbiAgICAgICAgICAgIHRoaXMudW5jbGlwTGFiZWxzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFja1Jvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHVuY2xpcExhYmVscygpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbjogY2hhcnRzLCBjbGlwQm94IH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBjaGFydHNbaV0ucG9pbnRzIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCAmJiBwb2ludC52aXNpYmxlICE9PSBmYWxzZSAmJiBwb2ludC5vdmVybGFwc0JveCAmJiBwb2ludC5vdmVybGFwc0JveChjbGlwQm94KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQudW5jbGlwRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LnVuY2xpcEVsZW1lbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxhYmVsLCBub3RlIH0gPSBwb2ludDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsICYmIGxhYmVsLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbC5hbGlnblRvQ2xpcEJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5hbGlnblRvQ2xpcEJveChjbGlwQm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwub3B0aW9ucy5ub2NsaXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90ZSAmJiBub3RlLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUub3B0aW9ucy5ub2NsaXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmVudDtcbiAgICB9XG59XG5cbkNoYXJ0Q29udGFpbmVyLnByb3RvdHlwZS5pc1N0YWNrUm9vdCA9IHRydWU7XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0Q29udGFpbmVyOyIsImltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94RWxlbWVudCwgVGl0bGUsIEJveCB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHsgQ2hhcnRQYW5lIH0gZnJvbSAnLi9hcGktZWxlbWVudHMnO1xuaW1wb3J0IENoYXJ0Q29udGFpbmVyIGZyb20gJy4vY2hhcnQtY29udGFpbmVyJztcblxuaW1wb3J0IHsgUEFORV9SRU5ERVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUT1AsIExFRlQsIFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFwcGVuZCwgZGVlcEV4dGVuZCwgaXNPYmplY3QsIGxhc3QsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUGFuZSBleHRlbmRzIEJveEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5pZCA9IHBhbmVJRCgpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlVGl0bGUoKTtcblxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBuZXcgQ2hhcnRFbGVtZW50KCk7XG5cbiAgICAgICAgdGhpcy5jaGFydENvbnRhaW5lciA9IG5ldyBDaGFydENvbnRhaW5lcih7fSwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHRoaXMuY29udGVudCk7XG5cbiAgICAgICAgdGhpcy5heGVzID0gW107XG4gICAgICAgIHRoaXMuY2hhcnRzID0gW107XG4gICAgfVxuXG4gICAgY3JlYXRlVGl0bGUoKSB7XG4gICAgICAgIGxldCB0aXRsZU9wdGlvbnMgPSB0aGlzLm9wdGlvbnMudGl0bGU7XG4gICAgICAgIGlmIChpc09iamVjdCh0aXRsZU9wdGlvbnMpKSB7XG4gICAgICAgICAgICB0aXRsZU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aXRsZU9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBhbGlnbjogdGl0bGVPcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBUT1BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aXRsZSA9IFRpdGxlLmJ1aWxkVGl0bGUodGl0bGVPcHRpb25zLCB0aGlzLCBQYW5lLnByb3RvdHlwZS5vcHRpb25zLnRpdGxlKTtcbiAgICB9XG5cbiAgICBhcHBlbmRBeGlzKGF4aXMpIHtcbiAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZChheGlzKTtcbiAgICAgICAgdGhpcy5heGVzLnB1c2goYXhpcyk7XG4gICAgICAgIGF4aXMucGFuZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgYXBwZW5kQXhpc0F0KGF4aXMsIHBvcykge1xuICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKGF4aXMpO1xuICAgICAgICB0aGlzLmF4ZXMuc3BsaWNlKHBvcywgMCwgYXhpcyk7XG4gICAgICAgIGF4aXMucGFuZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhcnRDb250YWluZXIucGFyZW50ICE9PSB0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5jaGFydENvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0cy5wdXNoKGNoYXJ0KTtcbiAgICAgICAgdGhpcy5jaGFydENvbnRhaW5lci5hcHBlbmQoY2hhcnQpO1xuICAgICAgICBjaGFydC5wYW5lID0gdGhpcztcbiAgICB9XG5cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICBpZiAocGxvdEFyZWEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5heGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEucmVtb3ZlQXhpcyh0aGlzLmF4ZXNbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEucmVtb3ZlQ2hhcnQodGhpcy5jaGFydHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5heGVzID0gW107XG4gICAgICAgIHRoaXMuY2hhcnRzID0gW107XG5cbiAgICAgICAgdGhpcy5jb250ZW50LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jb250ZW50LmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMuY2hhcnRDb250YWluZXIuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIC8vIENvbnRlbnQgKHN1Y2ggYXMgY2hhcnRzKSBpcyByZW5kZXJlZCwgYnV0IGV4Y2x1ZGVkIGZyb20gcmVmbG93c1xuICAgICAgICBsZXQgY29udGVudDtcbiAgICAgICAgaWYgKGxhc3QodGhpcy5jaGlsZHJlbikgPT09IHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgY29udGVudCA9IHRoaXMuY2hpbGRyZW4ucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZWZsb3codGFyZ2V0Qm94KTtcblxuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudEJveC55MSArPSB0aGlzLnRpdGxlLmJveC5oZWlnaHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZpc3VhbFN0eWxlKCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN1cGVyLnZpc3VhbFN0eWxlKCk7XG4gICAgICAgIHN0eWxlLnpJbmRleCA9IC0xMDtcblxuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29tcGxldGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVHcmlkTGluZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YWNrUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xpcFJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyaWRMaW5lcygpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuYXhlcztcbiAgICAgICAgY29uc3QgYWxsQXhlcyA9IGF4ZXMuY29uY2F0KHRoaXMucGFyZW50LmF4ZXMpO1xuICAgICAgICBjb25zdCB2R3JpZExpbmVzID0gW107XG4gICAgICAgIGNvbnN0IGhHcmlkTGluZXMgPSBbXTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIElzIGZ1bGwgY29tYmluYXRpb24gcmVhbGx5IG5lY2Vzc2FyeT9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICAgICAgY29uc3QgZ3JpZExpbmVzID0gdmVydGljYWwgPyB2R3JpZExpbmVzIDogaEdyaWRMaW5lcztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWxsQXhlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChncmlkTGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsdEF4aXMgPSBhbGxBeGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVydGljYWwgIT09IGFsdEF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kKGdyaWRMaW5lcywgYXhpcy5jcmVhdGVHcmlkTGluZXMoYWx0QXhpcykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy52aXN1YWwuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLmNvbnRlbnQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZW50LmNyZWF0ZUdyYWRpZW50ID0gdGhpcy5jcmVhdGVHcmFkaWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRlbnQucmVuZGVyVmlzdWFsKCk7XG4gICAgICAgIHRoaXMuY29udGVudC5wYXJlbnQgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodGhpcy50aXRsZS52aXN1YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHRoaXMuY29udGVudC52aXN1YWwpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyQ29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5ub3RpZnlSZW5kZXIoKTtcbiAgICB9XG5cbiAgICBjaGFydHNCb3goKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmF4ZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGF4ZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaGFydHNCb3ggPSBuZXcgQm94KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaWR4XTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNWYWx1ZUZpZWxkID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgICAgICBjb25zdCBsaW5lQm94ID0gYXhpcy5saW5lQm94KCk7XG4gICAgICAgICAgICBjaGFydHNCb3hbYXhpc1ZhbHVlRmllbGQgKyAxXSA9IGxpbmVCb3hbYXhpc1ZhbHVlRmllbGQgKyAxXTtcbiAgICAgICAgICAgIGNoYXJ0c0JveFtheGlzVmFsdWVGaWVsZCArIDJdID0gbGluZUJveFtheGlzVmFsdWVGaWVsZCArIDJdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYXJ0c0JveC54MiA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgYWxsQXhlcyA9IHRoaXMucGFyZW50LmF4ZXM7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBhbGxBeGVzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBhbGxBeGVzW2lkeF07XG4gICAgICAgICAgICAgICAgaWYgKCFheGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZUJveCA9IGF4aXMubGluZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICBjaGFydHNCb3gueDEgPSBsaW5lQm94LngxO1xuICAgICAgICAgICAgICAgICAgICBjaGFydHNCb3gueDIgPSBsaW5lQm94LngyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhcnRzQm94O1xuICAgIH1cblxuICAgIGNsaXBCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0Q29udGFpbmVyLmNsaXBCb3g7XG4gICAgfVxuXG4gICAgbm90aWZ5UmVuZGVyKCkge1xuICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5nZXRTZXJ2aWNlKCk7XG4gICAgICAgIGlmIChzZXJ2aWNlKSB7XG4gICAgICAgICAgICBzZXJ2aWNlLm5vdGlmeShQQU5FX1JFTkRFUiwge1xuICAgICAgICAgICAgICAgIHBhbmU6IG5ldyBDaGFydFBhbmUodGhpcyksXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMucGFuZUluZGV4LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMub3B0aW9ucy5uYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubGV0IElEID0gMTtcblxuZnVuY3Rpb24gcGFuZUlEKCkge1xuICAgIHJldHVybiBcInBhbmVcIiArIElEKys7XG59XG5cblBhbmUucHJvdG90eXBlLmlzU3RhY2tSb290ID0gdHJ1ZTtcblxuc2V0RGVmYXVsdE9wdGlvbnMoUGFuZSwge1xuICAgIHpJbmRleDogLTEsXG4gICAgc2hyaW5rVG9GaXQ6IHRydWUsXG4gICAgdGl0bGU6IHtcbiAgICAgICAgYWxpZ246IExFRlRcbiAgICB9LFxuICAgIHZpc2libGU6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQYW5lO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwZW5kSWZOb3ROdWxsKGFycmF5LCBlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlZ21lbnRWaXNpYmxlKHNlcmllcywgZmllbGRzLCBpbmRleCkge1xuICAgIGNvbnN0IHZpc2libGUgPSBmaWVsZHMudmlzaWJsZTtcbiAgICBpZiAoZGVmaW5lZCh2aXNpYmxlKSkge1xuICAgICAgICByZXR1cm4gdmlzaWJsZTtcbiAgICB9XG5cbiAgICBjb25zdCBwb2ludFZpc2liaWxpdHkgPSBzZXJpZXMucG9pbnRWaXNpYmlsaXR5O1xuICAgIGlmIChwb2ludFZpc2liaWxpdHkpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50VmlzaWJpbGl0eVtpbmRleF07XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgeyBpc051bWJlciwgaXNTdHJpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCBzZWdtZW50VmlzaWJsZSBmcm9tICcuL3NlZ21lbnQtdmlzaWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmRTZWdtZW50cyhzZXJpZXMpIHtcbiAgICBjb25zdCBkYXRhID0gc2VyaWVzLmRhdGE7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGRhdGEubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBwb2ludERhdGEgPSBTZXJpZXNCaW5kZXIuY3VycmVudC5iaW5kUG9pbnQoc2VyaWVzLCBpZHgpO1xuICAgICAgICBsZXQgdmFsdWUgPSBwb2ludERhdGEudmFsdWVGaWVsZHMudmFsdWU7XG5cblxuICAgICAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgcG9pbnREYXRhLnZpc2libGUgPSBzZWdtZW50VmlzaWJsZShzZXJpZXMsIHBvaW50RGF0YS5maWVsZHMsIGlkeCkgIT09IGZhbHNlO1xuXG4gICAgICAgICAgICBwb2ludERhdGEudmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChwb2ludERhdGEpO1xuXG4gICAgICAgICAgICBpZiAocG9pbnREYXRhLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gcG9pbnREYXRhLnZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbDogc3VtLFxuICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgY291bnQ6IGNvdW50XG4gICAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlcXVhbHNJZ25vcmVDYXNlKGEsIGIpIHtcbiAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgIHJldHVybiBhLnRvTG93ZXJDYXNlKCkgPT09IGIudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYSA9PT0gYjtcbn0iLCJpbXBvcnQgeyBpbkFycmF5IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgdHlwZXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGNvbnN0IHNlcmllc1R5cGVzID0gW10uY29uY2F0KHR5cGVzKTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzZXJpZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW2lkeF07XG4gICAgICAgIGlmIChpbkFycmF5KGN1cnJlbnRTZXJpZXMudHlwZSwgc2VyaWVzVHlwZXMpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59IiwiaW1wb3J0IHsgcGFyc2VEYXRlIH0gZnJvbSAnLi4vLi4vZGF0ZS11dGlscyc7XG5pbXBvcnQgeyBnZXR0ZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXREYXRlRmllbGQoZmllbGQsIHJvdywgaW50bFNlcnZpY2UpIHtcbiAgICBpZiAocm93ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gXCJfZGF0ZV9cIiArIGZpZWxkO1xuICAgIGxldCB2YWx1ZSA9IHJvd1trZXldO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgZ2V0dGVyKGZpZWxkLCB0cnVlKShyb3cpKTtcbiAgICAgICAgcm93W2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59IiwiaW1wb3J0IGVxdWFsc0lnbm9yZUNhc2UgZnJvbSAnLi9lcXVhbHMtaWdub3JlLWNhc2UnO1xuXG5pbXBvcnQgeyBEQVRFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzRGF0ZUF4aXMoYXhpc09wdGlvbnMsIHNhbXBsZUNhdGVnb3J5KSB7XG4gICAgY29uc3QgdHlwZSA9IGF4aXNPcHRpb25zLnR5cGU7XG4gICAgY29uc3QgZGF0ZUNhdGVnb3J5ID0gc2FtcGxlQ2F0ZWdvcnkgaW5zdGFuY2VvZiBEYXRlO1xuXG4gICAgcmV0dXJuICghdHlwZSAmJiBkYXRlQ2F0ZWdvcnkpIHx8IGVxdWFsc0lnbm9yZUNhc2UodHlwZSwgREFURSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2luZ2xlSXRlbU9yQXJyYXkoYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXkubGVuZ3RoID09PSAxID8gYXJyYXlbMF0gOiBhcnJheTtcbn0iLCJpbXBvcnQgeyBJTlRFUlBPTEFURSwgWkVSTyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjb252ZXJ0YWJsZVRvTnVtYmVyIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi4vc2VyaWVzLWJpbmRlcic7XG5cbmNvbnN0IEFSRUFfUkVHRVggPSAvYXJlYS9pO1xuXG5mdW5jdGlvbiBzZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllcykge1xuICAgIGlmIChzZXJpZXMubWlzc2luZ1ZhbHVlcykge1xuICAgICAgICByZXR1cm4gc2VyaWVzLm1pc3NpbmdWYWx1ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIEFSRUFfUkVHRVgudGVzdChzZXJpZXMudHlwZSkgfHwgc2VyaWVzLnN0YWNrID8gWkVSTyA6IElOVEVSUE9MQVRFO1xufVxuXG5mdW5jdGlvbiBoYXNWYWx1ZShzZXJpZXMsIGl0ZW0pIHtcbiAgICBjb25zdCBmaWVsZHMgPSBTZXJpZXNCaW5kZXIuY3VycmVudC5iaW5kUG9pbnQoc2VyaWVzLCBudWxsLCBpdGVtKTtcbiAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IGZpZWxkcy52YWx1ZUZpZWxkcztcblxuICAgIGZvciAobGV0IGZpZWxkIGluIHZhbHVlRmllbGRzKSB7XG4gICAgICAgIGlmIChjb252ZXJ0YWJsZVRvTnVtYmVyKHZhbHVlRmllbGRzW2ZpZWxkXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaW5kTmV4dCh7IHN0YXJ0LCBkaXIsIG1pbiwgbWF4LCBnZXR0ZXIsIGhhc0l0ZW0sIHNlcmllcyB9KSB7XG4gICAgbGV0IHBvaW50SGFzVmFsdWUsIG91dFBvaW50O1xuICAgIGxldCBpZHggPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlkeCArPSBkaXI7XG4gICAgICAgIC8vYWdncmVnYXRpbmcgYW5kIGJpbmRpbmcgdGhlIGl0ZW0gdGFrZXMgdG9vIG11Y2ggdGltZSBmb3IgbGFyZ2UgbnVtYmVyIG9mIGNhdGVnb3JpZXNcbiAgICAgICAgLy93aWxsIGFzc3VtZSB0aGF0IGlmIHRoZSBhZ2dyZWdhdGlvbiBkb2VzIG5vdCBjcmVhdGUgdmFsdWUgZm9yIGEgbWlzc2luZyBpdGVtIGZvciBvbmUgaXQgd2lsbCBub3QgY3JlYXRlIGZvciBvdGhlcnNcbiAgICAgICAgaWYgKGhhc0l0ZW0oaWR4KSkge1xuICAgICAgICAgICAgb3V0UG9pbnQgPSBnZXR0ZXIoaWR4KTtcbiAgICAgICAgICAgIHBvaW50SGFzVmFsdWUgPSBoYXNWYWx1ZShzZXJpZXMsIG91dFBvaW50Lml0ZW0pO1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAobWluIDw9IGlkeCAmJiBpZHggPD0gbWF4ICYmICFwb2ludEhhc1ZhbHVlKTtcblxuICAgIGlmIChwb2ludEhhc1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBvdXRQb2ludDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU91dE9mUmFuZ2VQb2ludHMoc2VyaWVzLCByYW5nZSwgY291bnQsIGdldHRlciwgaGFzSXRlbSkge1xuICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHJhbmdlO1xuICAgIGNvbnN0IGhhc01pblBvaW50ID0gbWluID4gMCAmJiBtaW4gPCBjb3VudDtcbiAgICBjb25zdCBoYXNNYXhQb2ludCA9IG1heCArIDEgPCBjb3VudDtcblxuICAgIGlmIChoYXNNaW5Qb2ludCB8fCBoYXNNYXhQb2ludCkge1xuICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWVzID0gc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpO1xuICAgICAgICBsZXQgbWluUG9pbnQsIG1heFBvaW50O1xuICAgICAgICBpZiAobWlzc2luZ1ZhbHVlcyAhPT0gSU5URVJQT0xBVEUpIHtcbiAgICAgICAgICAgIGlmIChoYXNNaW5Qb2ludCkge1xuICAgICAgICAgICAgICAgIG1pblBvaW50ID0gZ2V0dGVyKG1pbiAtIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzTWF4UG9pbnQpIHtcbiAgICAgICAgICAgICAgICBtYXhQb2ludCA9IGdldHRlcihtYXggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBvdXRQb2ludCwgcG9pbnRIYXNWYWx1ZTtcbiAgICAgICAgICAgIGlmIChoYXNNaW5Qb2ludCkge1xuICAgICAgICAgICAgICAgIG91dFBvaW50ID0gZ2V0dGVyKG1pbiAtIDEpO1xuICAgICAgICAgICAgICAgIHBvaW50SGFzVmFsdWUgPSBoYXNWYWx1ZShzZXJpZXMsIG91dFBvaW50Lml0ZW0pO1xuICAgICAgICAgICAgICAgIGlmICghcG9pbnRIYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5Qb2ludCA9IGZpbmROZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBtaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXI6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBjb3VudCAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0l0ZW06IGhhc0l0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtaW5Qb2ludCA9IG91dFBvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc01heFBvaW50KSB7XG4gICAgICAgICAgICAgICAgb3V0UG9pbnQgPSBnZXR0ZXIobWF4ICsgMSk7XG4gICAgICAgICAgICAgICAgcG9pbnRIYXNWYWx1ZSA9IGhhc1ZhbHVlKHNlcmllcywgb3V0UG9pbnQuaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKCFwb2ludEhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gZmluZE5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogY291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNJdGVtOiBoYXNJdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4UG9pbnQgPSBvdXRQb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWluUG9pbnQpIHtcbiAgICAgICAgICAgIHNlcmllcy5fb3V0T2ZSYW5nZU1pblBvaW50ID0gbWluUG9pbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF4UG9pbnQpIHtcbiAgICAgICAgICAgIHNlcmllcy5fb3V0T2ZSYW5nZU1heFBvaW50ID0gbWF4UG9pbnQ7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IENyb3NzaGFpciBmcm9tICcuLi9jcm9zc2hhaXIvY3Jvc3NoYWlyJztcbmltcG9ydCBQYW5lIGZyb20gJy4uL3BhbmUnO1xuaW1wb3J0IHsgaGFzVmFsdWUgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IFdISVRFLCBCTEFDSywgWCwgWSwgQ09PUkRfUFJFQ0lTSU9OLCBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIFNUQVJULCBFTkQgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFwcGVuZCwgZGVlcEV4dGVuZCwgZGVmaW5lZCwgZ2V0U3BhY2luZywgZ2V0VGVtcGxhdGUsIGluQXJyYXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBsaW1pdFZhbHVlLCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBQbG90QXJlYUJhc2UgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHNlcmllcywgb3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuaW5pdEZpZWxkcyhzZXJpZXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNlcmllcyA9IHNlcmllcztcbiAgICAgICAgdGhpcy5pbml0U2VyaWVzKCk7XG4gICAgICAgIHRoaXMuY2hhcnRzID0gW107XG4gICAgICAgIHRoaXMub3B0aW9ucy5sZWdlbmQgPSB0aGlzLm9wdGlvbnMubGVnZW5kIHx8IHt9O1xuICAgICAgICB0aGlzLm9wdGlvbnMubGVnZW5kLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuYXhlcyA9IFtdO1xuICAgICAgICB0aGlzLmNyb3NzaGFpcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBjaGFydFNlcnZpY2U7XG4gICAgICAgIHRoaXMub3JpZ2luYWxPcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICB0aGlzLmNyZWF0ZVBhbmVzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ3Jvc3NoYWlycygpO1xuICAgIH1cblxuICAgIGluaXRGaWVsZHMoKSB7IH1cblxuICAgIGluaXRTZXJpZXMoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuc2VyaWVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZXJpZXNbaV0uaW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUGFuZXMoKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlT3B0aW9ucyA9IHRoaXMub3B0aW9ucy50aXRsZSB8fCB7fTtcbiAgICAgICAgY29uc3QgcGFuZURlZmF1bHRzID0gdGhpcy5vcHRpb25zLnBhbmVEZWZhdWx0cztcbiAgICAgICAgY29uc3QgcGFuZU9wdGlvbnMgPSB0aGlzLm9wdGlvbnMucGFuZXMgfHwgW107XG4gICAgICAgIGNvbnN0IHBhbmVzTGVuZ3RoID0gTWF0aC5tYXgocGFuZU9wdGlvbnMubGVuZ3RoLCAxKTtcbiAgICAgICAgY29uc3QgcGFuZXMgPSBbXTtcblxuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGl0bGVPcHRpb25zLmNvbG9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHBhbmVEZWZhdWx0cyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgZGVmYXVsdHMsIHBhbmVPcHRpb25zW2ldKTtcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhvcHRpb25zLnRpdGxlKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMudGl0bGUgPSBkZWVwRXh0ZW5kKHsgdGV4dDogb3B0aW9ucy50aXRsZSB9LCBkZWZhdWx0cy50aXRsZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lID0gbmV3IFBhbmUob3B0aW9ucyk7XG4gICAgICAgICAgICBjdXJyZW50UGFuZS5wYW5lSW5kZXggPSBpO1xuXG4gICAgICAgICAgICBwYW5lcy5wdXNoKGN1cnJlbnRQYW5lKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKGN1cnJlbnRQYW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFuZXMgPSBwYW5lcztcbiAgICB9XG5cbiAgICBjcm9zc2hhaXJPcHRpb25zKGF4aXMpIHtcbiAgICAgICAgcmV0dXJuIGF4aXMub3B0aW9ucy5jcm9zc2hhaXI7XG4gICAgfVxuXG4gICAgY3JlYXRlQ3Jvc3NoYWlycyhwYW5lcyA9IHRoaXMucGFuZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYW5lLmF4ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzID0gcGFuZS5heGVzW2pdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmNyb3NzaGFpck9wdGlvbnMoYXhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDcm9zc2hhaXIgPSBuZXcgQ3Jvc3NoYWlyKHRoaXMuY2hhcnRTZXJ2aWNlLCBheGlzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyb3NzaGFpcnMucHVzaChjdXJyZW50Q3Jvc3NoYWlyKTtcbiAgICAgICAgICAgICAgICAgICAgcGFuZS5jb250ZW50LmFwcGVuZChjdXJyZW50Q3Jvc3NoYWlyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVDcm9zc2hhaXJzKHBhbmUpIHtcbiAgICAgICAgY29uc3QgY3Jvc3NoYWlycyA9IHRoaXMuY3Jvc3NoYWlycztcbiAgICAgICAgY29uc3QgYXhlcyA9IHBhbmUuYXhlcztcblxuICAgICAgICBmb3IgKGxldCBpID0gY3Jvc3NoYWlycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBheGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNyb3NzaGFpcnNbaV0uYXhpcyA9PT0gYXhlc1tqXSkge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc2hhaXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZUNyb3NzaGFpcnMoKSB7XG4gICAgICAgIGNvbnN0IGNyb3NzaGFpcnMgPSB0aGlzLmNyb3NzaGFpcnM7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNyb3NzaGFpcnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY3Jvc3NoYWlyc1tpZHhdLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmRQYW5lKG5hbWUpIHtcbiAgICAgICAgY29uc3QgcGFuZXMgPSB0aGlzLnBhbmVzO1xuICAgICAgICBsZXQgbWF0Y2hpbmdQYW5lO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwYW5lc1tpXS5vcHRpb25zLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGluZ1BhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaGluZ1BhbmUgfHwgcGFuZXNbMF07XG4gICAgfVxuXG4gICAgZmluZFBvaW50UGFuZShwb2ludCkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMucGFuZXM7XG4gICAgICAgIGxldCBtYXRjaGluZ1BhbmU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHBhbmVzW2ldLmJveC5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nUGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nUGFuZTtcbiAgICB9XG5cbiAgICBhcHBlbmRBeGlzKGF4aXMpIHtcbiAgICAgICAgY29uc3QgcGFuZSA9IHRoaXMuZmluZFBhbmUoYXhpcy5vcHRpb25zLnBhbmUpO1xuXG4gICAgICAgIHBhbmUuYXBwZW5kQXhpcyhheGlzKTtcbiAgICAgICAgdGhpcy5heGVzLnB1c2goYXhpcyk7XG4gICAgICAgIGF4aXMucGxvdEFyZWEgPSB0aGlzO1xuICAgIH1cblxuICAgIHJlbW92ZUF4aXMoYXhpc1RvUmVtb3ZlKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQXhlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5heGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gdGhpcy5heGVzW2ldO1xuICAgICAgICAgICAgaWYgKGF4aXNUb1JlbW92ZSAhPT0gYXhpcykge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhlcy5wdXNoKGF4aXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBheGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXhlcyA9IGZpbHRlcmVkQXhlcztcbiAgICB9XG5cbiAgICBhcHBlbmRDaGFydChjaGFydCwgcGFuZSkge1xuICAgICAgICB0aGlzLmNoYXJ0cy5wdXNoKGNoYXJ0KTtcbiAgICAgICAgaWYgKHBhbmUpIHtcbiAgICAgICAgICAgIHBhbmUuYXBwZW5kQ2hhcnQoY2hhcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQoY2hhcnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hhcnQoY2hhcnRUb1JlbW92ZSkge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZENoYXJ0cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydHNbaV07XG4gICAgICAgICAgICBpZiAoY2hhcnQgIT09IGNoYXJ0VG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZENoYXJ0cy5wdXNoKGNoYXJ0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hhcnQuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGFydHMgPSBmaWx0ZXJlZENoYXJ0cztcbiAgICB9XG5cbiAgICBhZGRUb0xlZ2VuZChzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgY291bnQgPSBzZXJpZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLm9wdGlvbnMubGVnZW5kO1xuICAgICAgICBjb25zdCBsYWJlbHMgPSBsZWdlbmQubGFiZWxzIHx8IHt9O1xuICAgICAgICBjb25zdCBpbmFjdGl2ZUl0ZW1zID0gbGVnZW5kLmluYWN0aXZlSXRlbXMgfHwge307XG4gICAgICAgIGNvbnN0IGluYWN0aXZlSXRlbXNMYWJlbHMgPSBpbmFjdGl2ZUl0ZW1zLmxhYmVscyB8fCB7fTtcbiAgICAgICAgY29uc3QgZGF0YSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc1Zpc2libGUgPSBjdXJyZW50U2VyaWVzLnZpc2libGUgIT09IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXJpZXMudmlzaWJsZUluTGVnZW5kID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGV4dCA9IGN1cnJlbnRTZXJpZXMubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsVGVtcGxhdGUgPSBzZXJpZXNWaXNpYmxlID8gZ2V0VGVtcGxhdGUobGFiZWxzKSA6IGdldFRlbXBsYXRlKGluYWN0aXZlSXRlbXNMYWJlbHMpIHx8IGdldFRlbXBsYXRlKGxhYmVscyk7XG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBsYWJlbFRlbXBsYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogaGFzVmFsdWUodGV4dCkgPyB0ZXh0IDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBjdXJyZW50U2VyaWVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRzID0gY3VycmVudFNlcmllcy5fZGVmYXVsdHM7XG4gICAgICAgICAgICBsZXQgY29sb3IgPSBjdXJyZW50U2VyaWVzLmNvbG9yO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29sb3IpICYmIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBkZWZhdWx0cy5jb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGl0ZW1MYWJlbE9wdGlvbnMsIG1hcmtlckNvbG9yO1xuICAgICAgICAgICAgaWYgKHNlcmllc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICBpdGVtTGFiZWxPcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgbWFya2VyQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbUxhYmVsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGluYWN0aXZlSXRlbXNMYWJlbHMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGZvbnQ6IGluYWN0aXZlSXRlbXNMYWJlbHMuZm9udFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbWFya2VyQ29sb3IgPSBpbmFjdGl2ZUl0ZW1zLm1hcmtlcnMuY29sb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoYXNWYWx1ZSh0ZXh0KSAmJiB0ZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBpdGVtTGFiZWxPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb2xvcjogbWFya2VyQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllczogY3VycmVudFNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBzZXJpZXNWaXNpYmxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhcHBlbmQobGVnZW5kLml0ZW1zLCBkYXRhKTtcbiAgICB9XG5cbiAgICBncm91cEF4ZXMocGFuZXMpIHtcbiAgICAgICAgY29uc3QgeEF4ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgeUF4ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBwYW5lSXggPSAwOyBwYW5lSXggPCBwYW5lcy5sZW5ndGg7IHBhbmVJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYW5lQXhlcyA9IHBhbmVzW3BhbmVJeF0uYXhlcztcbiAgICAgICAgICAgIGZvciAobGV0IGF4aXNJeCA9IDA7IGF4aXNJeCA8IHBhbmVBeGVzLmxlbmd0aDsgYXhpc0l4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzID0gcGFuZUF4ZXNbYXhpc0l4XTtcbiAgICAgICAgICAgICAgICBpZiAoYXhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIHlBeGVzLnB1c2goYXhpcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeEF4ZXMucHVzaChheGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyB4OiB4QXhlcywgeTogeUF4ZXMsIGFueTogeEF4ZXMuY29uY2F0KHlBeGVzKSB9O1xuICAgIH1cblxuICAgIGdyb3VwU2VyaWVzQnlQYW5lKCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcbiAgICAgICAgY29uc3Qgc2VyaWVzQnlQYW5lID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYW5lID0gdGhpcy5zZXJpZXNQYW5lTmFtZShjdXJyZW50U2VyaWVzKTtcblxuICAgICAgICAgICAgaWYgKHNlcmllc0J5UGFuZVtwYW5lXSkge1xuICAgICAgICAgICAgICAgIHNlcmllc0J5UGFuZVtwYW5lXS5wdXNoKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNCeVBhbmVbcGFuZV0gPSBbIGN1cnJlbnRTZXJpZXMgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZXJpZXNCeVBhbmU7XG4gICAgfVxuXG4gICAgZmlsdGVyVmlzaWJsZVNlcmllcyhzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBpZiAoY3VycmVudFNlcmllcy52aXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMucGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IHBhbmVzID0gdGhpcy5wYW5lcztcbiAgICAgICAgY29uc3QgbWFyZ2luID0gZ2V0U3BhY2luZyhvcHRpb25zLm1hcmdpbik7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB0YXJnZXRCb3guY2xvbmUoKS51bnBhZChtYXJnaW4pO1xuICAgICAgICB0aGlzLnJlZmxvd1BhbmVzKCk7XG5cbiAgICAgICAgdGhpcy5kZXRhY2hMYWJlbHMoKTtcbiAgICAgICAgdGhpcy5yZWZsb3dBeGVzKHBhbmVzKTtcbiAgICAgICAgdGhpcy5yZWZsb3dDaGFydHMocGFuZXMpO1xuICAgIH1cblxuICAgIHJlZHJhdyhwYW5lcykge1xuICAgICAgICBjb25zdCBwYW5lc0FycmF5ID0gW10uY29uY2F0KHBhbmVzKTtcbiAgICAgICAgdGhpcy5pbml0U2VyaWVzKCk7XG5cbiAgICAgICAgLy9wcmV2ZW50cyBsZWFrIGR1cmluZyBwYXJ0aWFsIHJlZHJhd3MuIHRoZSBjYWNoZWQgZ3JhZGllbnRzIG9ic2VydmVycyByZXRhaW4gcmVmZXJlbmNlIHRvIHRoZSBkZXN0cm95ZWQgZWxlbWVudHMuXG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLmdldFJvb3QoKTtcbiAgICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgICAgIHJvb3QuY2xlYW5HcmFkaWVudHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDcm9zc2hhaXJzKHBhbmVzQXJyYXlbaV0pO1xuICAgICAgICAgICAgcGFuZXNBcnJheVtpXS5lbXB0eSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXIocGFuZXNBcnJheSk7XG4gICAgICAgIHRoaXMuZGV0YWNoTGFiZWxzKCk7XG4gICAgICAgIHRoaXMucmVmbG93QXhlcyh0aGlzLnBhbmVzKTtcbiAgICAgICAgdGhpcy5yZWZsb3dDaGFydHMocGFuZXNBcnJheSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVDcm9zc2hhaXJzKHBhbmVzQXJyYXkpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFuZXNBcnJheVtpXS5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBheGlzQ3Jvc3NpbmdWYWx1ZXMoYXhpcywgY3Jvc3NpbmdBeGVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBheGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNyb3NzaW5nVmFsdWVzID0gW10uY29uY2F0KFxuICAgICAgICAgICAgb3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZXMgfHwgb3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZVxuICAgICAgICApO1xuICAgICAgICBjb25zdCB2YWx1ZXNUb0FkZCA9IGNyb3NzaW5nQXhlcy5sZW5ndGggLSBjcm9zc2luZ1ZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGNyb3NzaW5nVmFsdWVzWzBdIHx8IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXNUb0FkZDsgaSsrKSB7XG4gICAgICAgICAgICBjcm9zc2luZ1ZhbHVlcy5wdXNoKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3Jvc3NpbmdWYWx1ZXM7XG4gICAgfVxuXG4gICAgYWxpZ25BeGlzVG8oYXhpcywgdGFyZ2V0QXhpcywgY3Jvc3NpbmdWYWx1ZSwgdGFyZ2V0Q3Jvc3NpbmdWYWx1ZSkge1xuICAgICAgICBjb25zdCBzbG90ID0gYXhpcy5nZXRTbG90KGNyb3NzaW5nVmFsdWUsIGNyb3NzaW5nVmFsdWUsIHRydWUpO1xuICAgICAgICBjb25zdCBzbG90RWRnZSA9IGF4aXMub3B0aW9ucy5yZXZlcnNlID8gMiA6IDE7XG4gICAgICAgIGNvbnN0IHRhcmdldFNsb3QgPSB0YXJnZXRBeGlzLmdldFNsb3QodGFyZ2V0Q3Jvc3NpbmdWYWx1ZSwgdGFyZ2V0Q3Jvc3NpbmdWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldEVkZ2UgPSB0YXJnZXRBeGlzLm9wdGlvbnMucmV2ZXJzZSA/IDIgOiAxO1xuICAgICAgICBjb25zdCBheGlzQm94ID0gYXhpcy5ib3gudHJhbnNsYXRlKFxuICAgICAgICAgICAgdGFyZ2V0U2xvdFtYICsgdGFyZ2V0RWRnZV0gLSBzbG90W1ggKyBzbG90RWRnZV0sXG4gICAgICAgICAgICB0YXJnZXRTbG90W1kgKyB0YXJnZXRFZGdlXSAtIHNsb3RbWSArIHNsb3RFZGdlXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChheGlzLnBhbmUgIT09IHRhcmdldEF4aXMucGFuZSkge1xuICAgICAgICAgICAgYXhpc0JveC50cmFuc2xhdGUoMCwgYXhpcy5wYW5lLmJveC55MSAtIHRhcmdldEF4aXMucGFuZS5ib3gueTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXhpcy5yZWZsb3coYXhpc0JveCk7XG4gICAgfVxuXG4gICAgYWxpZ25BeGVzKHhBeGVzLCB5QXhlcykge1xuICAgICAgICBjb25zdCB4QW5jaG9yID0geEF4ZXNbMF07XG4gICAgICAgIGNvbnN0IHlBbmNob3IgPSB5QXhlc1swXTtcbiAgICAgICAgY29uc3QgeEFuY2hvckNyb3NzaW5ncyA9IHRoaXMuYXhpc0Nyb3NzaW5nVmFsdWVzKHhBbmNob3IsIHlBeGVzKTtcbiAgICAgICAgY29uc3QgeUFuY2hvckNyb3NzaW5ncyA9IHRoaXMuYXhpc0Nyb3NzaW5nVmFsdWVzKHlBbmNob3IsIHhBeGVzKTtcbiAgICAgICAgY29uc3QgbGVmdEFuY2hvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgcmlnaHRBbmNob3JzID0ge307XG4gICAgICAgIGNvbnN0IHRvcEFuY2hvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgYm90dG9tQW5jaG9ycyA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeUF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSB5QXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBheGlzLnBhbmU7XG4gICAgICAgICAgICBjb25zdCBwYW5lSWQgPSBwYW5lLmlkO1xuICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IGF4aXMub3B0aW9ucy52aXNpYmxlICE9PSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTG9jYXRlIHBhbmUgYW5jaG9yLCBpZiBhbnksIGFuZCB1c2UgaXRzIGF4aXNDcm9zc2luZ1ZhbHVlc1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gcGFuZUFuY2hvcih4QXhlcywgcGFuZSkgfHwgeEFuY2hvcjtcbiAgICAgICAgICAgIGxldCBhbmNob3JDcm9zc2luZ3MgPSB4QW5jaG9yQ3Jvc3NpbmdzO1xuXG4gICAgICAgICAgICBpZiAoYW5jaG9yICE9PSB4QW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ3Jvc3NpbmdzID0gdGhpcy5heGlzQ3Jvc3NpbmdWYWx1ZXMoYW5jaG9yLCB5QXhlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWxpZ25BeGlzVG8oYXhpcywgYW5jaG9yLCB5QW5jaG9yQ3Jvc3NpbmdzW2ldLCBhbmNob3JDcm9zc2luZ3NbaV0pO1xuXG4gICAgICAgICAgICBpZiAoYXhpcy5vcHRpb25zLl9vdmVybGFwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb3VuZChheGlzLmxpbmVCb3goKS54MSkgPT09IHJvdW5kKGFuY2hvci5saW5lQm94KCkueDEpKSB7XG4gICAgICAgICAgICAgICAgLy8gUHVzaCB0aGUgYXhpcyB0byB0aGUgbGVmdCB0aGUgcHJldmlvdXMgeS1heGlzIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgICAgIGlmIChsZWZ0QW5jaG9yc1twYW5lSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMucmVmbG93KGF4aXMuYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWxpZ25UbyhsZWZ0QW5jaG9yc1twYW5lSWRdLmJveCwgTEVGVClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2xhdGUoLWF4aXMub3B0aW9ucy5tYXJnaW4sIDApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdEFuY2hvcnNbcGFuZUlkXSA9IGF4aXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm91bmQoYXhpcy5saW5lQm94KCkueDIpID09PSByb3VuZChhbmNob3IubGluZUJveCgpLngyKSkge1xuICAgICAgICAgICAgICAgIC8vIEZsaXAgdGhlIGxhYmVscyBvbiB0aGUgcmlnaHQgaWYgd2UncmUgYXQgdGhlIHJpZ2h0IGVuZCBvZiB0aGUgcGFuZVxuICAgICAgICAgICAgICAgIGlmICghYXhpcy5fbWlycm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5vcHRpb25zLmxhYmVscy5taXJyb3IgPSAhYXhpcy5vcHRpb25zLmxhYmVscy5taXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMuX21pcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFsaWduQXhpc1RvKGF4aXMsIGFuY2hvciwgeUFuY2hvckNyb3NzaW5nc1tpXSwgYW5jaG9yQ3Jvc3NpbmdzW2ldKTtcblxuICAgICAgICAgICAgICAgIC8vIFB1c2ggdGhlIGF4aXMgdG8gdGhlIHJpZ2h0IHRoZSBwcmV2aW91cyB5LWF4aXMgc28gdGhleSBkb24ndCBvdmVybGFwXG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0QW5jaG9yc1twYW5lSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMucmVmbG93KGF4aXMuYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWxpZ25UbyhyaWdodEFuY2hvcnNbcGFuZUlkXS5ib3gsIFJJR0hUKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRyYW5zbGF0ZShheGlzLm9wdGlvbnMubWFyZ2luLCAwKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0QW5jaG9yc1twYW5lSWRdID0gYXhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpICE9PSAwICYmIHlBbmNob3IucGFuZSA9PT0gYXhpcy5wYW5lKSB7XG4gICAgICAgICAgICAgICAgYXhpcy5hbGlnblRvKHlBbmNob3IpO1xuICAgICAgICAgICAgICAgIGF4aXMucmVmbG93KGF4aXMuYm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeEF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSB4QXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBheGlzLnBhbmU7XG4gICAgICAgICAgICBjb25zdCBwYW5lSWQgPSBwYW5lLmlkO1xuICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IGF4aXMub3B0aW9ucy52aXNpYmxlICE9PSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTG9jYXRlIHBhbmUgYW5jaG9yIGFuZCB1c2UgaXRzIGF4aXNDcm9zc2luZ1ZhbHVlc1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gcGFuZUFuY2hvcih5QXhlcywgcGFuZSkgfHwgeUFuY2hvcjtcbiAgICAgICAgICAgIGxldCBhbmNob3JDcm9zc2luZ3MgPSB5QW5jaG9yQ3Jvc3NpbmdzO1xuICAgICAgICAgICAgaWYgKGFuY2hvciAhPT0geUFuY2hvcikge1xuICAgICAgICAgICAgICAgIGFuY2hvckNyb3NzaW5ncyA9IHRoaXMuYXhpc0Nyb3NzaW5nVmFsdWVzKGFuY2hvciwgeEF4ZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFsaWduQXhpc1RvKGF4aXMsIGFuY2hvciwgeEFuY2hvckNyb3NzaW5nc1tpXSwgYW5jaG9yQ3Jvc3NpbmdzW2ldKTtcblxuICAgICAgICAgICAgaWYgKGF4aXMub3B0aW9ucy5fb3ZlcmxhcCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm91bmQoYXhpcy5saW5lQm94KCkueTEpID09PSByb3VuZChhbmNob3IubGluZUJveCgpLnkxKSkge1xuICAgICAgICAgICAgICAgIC8vIEZsaXAgdGhlIGxhYmVscyBvbiB0b3AgaWYgd2UncmUgYXQgdGhlIHRvcCBvZiB0aGUgcGFuZVxuICAgICAgICAgICAgICAgIGlmICghYXhpcy5fbWlycm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5vcHRpb25zLmxhYmVscy5taXJyb3IgPSAhYXhpcy5vcHRpb25zLmxhYmVscy5taXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMuX21pcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hbGlnbkF4aXNUbyhheGlzLCBhbmNob3IsIHhBbmNob3JDcm9zc2luZ3NbaV0sIGFuY2hvckNyb3NzaW5nc1tpXSk7XG5cbiAgICAgICAgICAgICAgICAvLyBQdXNoIHRoZSBheGlzIGFib3ZlIHRoZSBwcmV2aW91cyB4LWF4aXMgc28gdGhleSBkb24ndCBvdmVybGFwXG4gICAgICAgICAgICAgICAgaWYgKHRvcEFuY2hvcnNbcGFuZUlkXSkge1xuICAgICAgICAgICAgICAgICAgICBheGlzLnJlZmxvdyhheGlzLmJveFxuICAgICAgICAgICAgICAgICAgICAgICAgLmFsaWduVG8odG9wQW5jaG9yc1twYW5lSWRdLmJveCwgVE9QKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRyYW5zbGF0ZSgwLCAtYXhpcy5vcHRpb25zLm1hcmdpbilcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0b3BBbmNob3JzW3BhbmVJZF0gPSBheGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdW5kKGF4aXMubGluZUJveCgpLnkyLCBDT09SRF9QUkVDSVNJT04pID09PSByb3VuZChhbmNob3IubGluZUJveCgpLnkyLCBDT09SRF9QUkVDSVNJT04pKSB7XG4gICAgICAgICAgICAgICAgLy8gUHVzaCB0aGUgYXhpcyBiZWxvdyB0aGUgcHJldmlvdXMgeC1heGlzIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgICAgIGlmIChib3R0b21BbmNob3JzW3BhbmVJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5yZWZsb3coYXhpcy5ib3hcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hbGlnblRvKGJvdHRvbUFuY2hvcnNbcGFuZUlkXS5ib3gsIEJPVFRPTSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2xhdGUoMCwgYXhpcy5vcHRpb25zLm1hcmdpbilcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBib3R0b21BbmNob3JzW3BhbmVJZF0gPSBheGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBheGlzLmFsaWduVG8oeEFuY2hvcik7XG4gICAgICAgICAgICAgICAgYXhpcy5yZWZsb3coYXhpcy5ib3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hyaW5rQXhpc1dpZHRoKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmdyb3VwQXhlcyhwYW5lcykuYW55O1xuICAgICAgICBjb25zdCBheGlzQm94ID0gYXhpc0dyb3VwQm94KGF4ZXMpO1xuICAgICAgICBsZXQgb3ZlcmZsb3dYID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IHBhbmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudFBhbmUuYXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dYID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WCxcbiAgICAgICAgICAgICAgICAgICAgYXhpc0JveC53aWR0aCgpIC0gY3VycmVudFBhbmUuY29udGVudEJveC53aWR0aCgpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvdmVyZmxvd1ggIT09IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBeGlzID0gYXhlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudEF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXhpcy5yZWZsb3coY3VycmVudEF4aXMuYm94LnNocmluayhvdmVyZmxvd1gsIDApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaHJpbmtBeGlzSGVpZ2h0KHBhbmVzKSB7XG4gICAgICAgIGxldCBzaHJpbmtlZDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgYXhlcyA9IGN1cnJlbnRQYW5lLmF4ZXM7XG4gICAgICAgICAgICBjb25zdCBvdmVyZmxvd1kgPSBNYXRoLm1heCgwLCBheGlzR3JvdXBCb3goYXhlcykuaGVpZ2h0KCkgLSBjdXJyZW50UGFuZS5jb250ZW50Qm94LmhlaWdodCgpKTtcblxuICAgICAgICAgICAgaWYgKG92ZXJmbG93WSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXhlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IGF4ZXNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRBeGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBeGlzLnJlZmxvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXhpcy5ib3guc2hyaW5rKDAsIG92ZXJmbG93WSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hyaW5rZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNocmlua2VkO1xuICAgIH1cblxuICAgIGZpdEF4ZXMocGFuZXMpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuZ3JvdXBBeGVzKHBhbmVzKS5hbnk7XG4gICAgICAgIGxldCBvZmZzZXRYID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFuZUF4ZXMgPSBjdXJyZW50UGFuZS5heGVzO1xuICAgICAgICAgICAgY29uc3QgcGFuZUJveCA9IGN1cnJlbnRQYW5lLmNvbnRlbnRCb3g7XG5cbiAgICAgICAgICAgIGlmIChwYW5lQXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc0JveCA9IGF4aXNHcm91cEJveChwYW5lQXhlcyk7XG4gICAgICAgICAgICAgICAgLy8gT2Zmc2V0WSBpcyBjYWxjdWxhdGVkIGFuZCBhcHBsaWVkIHBlciBwYW5lXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IE1hdGgubWF4KHBhbmVCb3gueTEgLSBheGlzQm94LnkxLCBwYW5lQm94LnkyIC0gYXhpc0JveC55Mik7XG5cbiAgICAgICAgICAgICAgICAvLyBPZmZzZXRYIGlzIGNhbGN1bGF0ZWQgYW5kIGFwcGxpZWQgZ2xvYmFsbHlcbiAgICAgICAgICAgICAgICBvZmZzZXRYID0gTWF0aC5tYXgob2Zmc2V0WCwgcGFuZUJveC54MSAtIGF4aXNCb3gueDEpO1xuXG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhbmVBeGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBeGlzID0gcGFuZUF4ZXNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEF4aXMucmVmbG93KFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEF4aXMuYm94LnRyYW5zbGF0ZSgwLCBvZmZzZXRZKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEF4aXMgPSBheGVzW2ldO1xuXG4gICAgICAgICAgICBjdXJyZW50QXhpcy5yZWZsb3coXG4gICAgICAgICAgICAgICAgY3VycmVudEF4aXMuYm94LnRyYW5zbGF0ZShvZmZzZXRYLCAwKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvd0F4ZXMocGFuZXMpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuZ3JvdXBBeGVzKHBhbmVzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJlZmxvd1BhbmVBeGVzKHBhbmVzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChheGVzLngubGVuZ3RoID4gMCAmJiBheGVzLnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hbGlnbkF4ZXMoYXhlcy54LCBheGVzLnkpO1xuICAgICAgICAgICAgdGhpcy5zaHJpbmtBeGlzV2lkdGgocGFuZXMpO1xuXG4gICAgICAgICAgICB0aGlzLmF1dG9Sb3RhdGVBeGlzTGFiZWxzKGF4ZXMpO1xuXG4gICAgICAgICAgICB0aGlzLmFsaWduQXhlcyhheGVzLngsIGF4ZXMueSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zaHJpbmtBeGlzV2lkdGgocGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGlnbkF4ZXMoYXhlcy54LCBheGVzLnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNocmlua0F4aXNIZWlnaHQocGFuZXMpO1xuICAgICAgICAgICAgdGhpcy5hbGlnbkF4ZXMoYXhlcy54LCBheGVzLnkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zaHJpbmtBeGlzSGVpZ2h0KHBhbmVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWxpZ25BeGVzKGF4ZXMueCwgYXhlcy55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5maXRBeGVzKHBhbmVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF1dG9Sb3RhdGVBeGlzTGFiZWxzKGdyb3VwZWRBeGVzKSB7XG4gICAgICAgIGNvbnN0IHsgcGFuZXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSBhbGxQYW5lQXhlcyhwYW5lcyk7XG4gICAgICAgIGxldCByb3RhdGVkO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGF4ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaWR4XTtcbiAgICAgICAgICAgIGlmIChheGlzLmF1dG9Sb3RhdGVMYWJlbHMoKSkge1xuICAgICAgICAgICAgICAgIHJvdGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvdGF0ZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBhbmVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmxvd1BhbmVBeGVzKHBhbmVzW2lkeF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ3JvdXBlZEF4ZXMueC5sZW5ndGggPiAwICYmIGdyb3VwZWRBeGVzLnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWxpZ25BeGVzKGdyb3VwZWRBeGVzLngsIGdyb3VwZWRBeGVzLnkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hyaW5rQXhpc1dpZHRoKHBhbmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvd1BhbmVBeGVzKHBhbmUpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHBhbmUuYXhlcztcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYXhlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBheGVzW2ldLnJlZmxvdyhwYW5lLmNvbnRlbnRCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93Q2hhcnRzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0cyA9IHRoaXMuY2hhcnRzO1xuICAgICAgICBjb25zdCBjb3VudCA9IGNoYXJ0cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hhcnRQYW5lID0gY2hhcnRzW2ldLnBhbmU7XG4gICAgICAgICAgICBpZiAoIWNoYXJ0UGFuZSB8fCBpbkFycmF5KGNoYXJ0UGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgY2hhcnRzW2ldLnJlZmxvdyhib3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93UGFuZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgYm94LCBwYW5lcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgcGFuZXNMZW5ndGggPSBwYW5lcy5sZW5ndGg7XG4gICAgICAgIGxldCByZW1haW5pbmdIZWlnaHQgPSBib3guaGVpZ2h0KCk7XG4gICAgICAgIGxldCByZW1haW5pbmdQYW5lcyA9IHBhbmVzTGVuZ3RoO1xuICAgICAgICBsZXQgYXV0b0hlaWdodFBhbmVzID0gMDtcbiAgICAgICAgbGV0IHRvcCA9IGJveC55MTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBjdXJyZW50UGFuZS5vcHRpb25zLmhlaWdodDtcblxuICAgICAgICAgICAgY3VycmVudFBhbmUub3B0aW9ucy53aWR0aCA9IGJveC53aWR0aCgpO1xuXG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRQYW5lLm9wdGlvbnMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYXV0b0hlaWdodFBhbmVzKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChoZWlnaHQuaW5kZXhPZiAmJiBoZWlnaHQuaW5kZXhPZihcIiVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudHMgPSBwYXJzZUludChoZWlnaHQsIDEwKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhbmUub3B0aW9ucy5oZWlnaHQgPSBwZXJjZW50cyAqIGJveC5oZWlnaHQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJyZW50UGFuZS5yZWZsb3coYm94LmNsb25lKCkpO1xuXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nSGVpZ2h0IC09IGN1cnJlbnRQYW5lLm9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IHBhbmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRQYW5lLm9wdGlvbnMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhbmUub3B0aW9ucy5oZWlnaHQgPSByZW1haW5pbmdIZWlnaHQgLyBhdXRvSGVpZ2h0UGFuZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYW5lQm94ID0gYm94XG4gICAgICAgICAgICAgICAgLmNsb25lKClcbiAgICAgICAgICAgICAgICAubW92ZShib3gueDEsIHRvcCk7XG5cbiAgICAgICAgICAgIGN1cnJlbnRQYW5lLnJlZmxvdyhwYW5lQm94KTtcblxuICAgICAgICAgICAgcmVtYWluaW5nUGFuZXMtLTtcbiAgICAgICAgICAgIHRvcCArPSBjdXJyZW50UGFuZS5vcHRpb25zLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJhY2tncm91bmRCb3goKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmF4ZXM7XG4gICAgICAgIGNvbnN0IGF4ZXNDb3VudCA9IGF4ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgYm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNBID0gYXhlc1tpXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBheGVzQ291bnQ7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNCID0gYXhlc1tqXTtcblxuICAgICAgICAgICAgICAgIGlmIChheGlzQS5vcHRpb25zLnZlcnRpY2FsICE9PSBheGlzQi5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVCb3ggPSBheGlzQS5saW5lQm94KCkuY2xvbmUoKS53cmFwKGF4aXNCLmxpbmVCb3goKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveCA9IGxpbmVCb3g7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBib3gud3JhcChsaW5lQm94KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3ggfHwgdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgY2hhcnRzQm94ZXMoKSB7XG4gICAgICAgIGNvbnN0IHBhbmVzID0gdGhpcy5wYW5lcztcbiAgICAgICAgY29uc3QgYm94ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwYW5lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBib3hlcy5wdXNoKHBhbmVzW2lkeF0uY2hhcnRzQm94KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJveGVzO1xuICAgIH1cblxuICAgIGFkZEJhY2tncm91bmRQYXRocyhtdWx0aXBhdGgpIHtcbiAgICAgICAgY29uc3QgYm94ZXMgPSB0aGlzLmNoYXJ0c0JveGVzKCk7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGJveGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIG11bHRpcGF0aC5wYXRocy5wdXNoKGRyYXcuUGF0aC5mcm9tUmVjdChib3hlc1tpZHhdLnRvUmVjdCgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiYWNrZ3JvdW5kQ29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICBjb25zdCBib3hlcyA9IHRoaXMuY2hhcnRzQm94ZXMoKTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYm94ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKGJveGVzW2lkeF0uY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5wbG90QXJlYTtcbiAgICAgICAgbGV0IHsgb3BhY2l0eSwgYmFja2dyb3VuZCwgYm9yZGVyID0ge30gfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChpc1RyYW5zcGFyZW50KGJhY2tncm91bmQpKSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kID0gV0hJVEU7XG4gICAgICAgICAgICBvcGFjaXR5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5fYmdWaXN1YWwgPSBuZXcgZHJhdy5NdWx0aVBhdGgoe1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBiYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyLndpZHRoID8gYm9yZGVyLmNvbG9yIDogXCJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6SW5kZXg6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkQmFja2dyb3VuZFBhdGhzKGJnKTtcblxuICAgICAgICB0aGlzLmFwcGVuZFZpc3VhbChiZyk7XG4gICAgfVxuXG4gICAgcG9pbnRzQnlDYXRlZ29yeUluZGV4KGNhdGVnb3J5SW5kZXgpIHtcbiAgICAgICAgY29uc3QgY2hhcnRzID0gdGhpcy5jaGFydHM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGlmIChjYXRlZ29yeUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJ0ID0gY2hhcnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaGFydC5wYW5lLm9wdGlvbnMubmFtZSA9PT0gXCJfbmF2aWdhdG9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gY2hhcnRzW2ldLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludHMgJiYgcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBvaW50cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQgJiYgZGVmaW5lZChwb2ludC52YWx1ZSkgJiYgcG9pbnQudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHBvaW50c0J5U2VyaWVzSW5kZXgoc2VyaWVzSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyUG9pbnRzKGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnQuc2VyaWVzLmluZGV4ID09PSBzZXJpZXNJbmRleDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9pbnRzQnlTZXJpZXNOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyUG9pbnRzKGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnQuc2VyaWVzLm5hbWUgPT09IG5hbWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZpbHRlclBvaW50cyhjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjaGFydHMgPSB0aGlzLmNoYXJ0cztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0ID0gY2hhcnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gY2hhcnQucG9pbnRzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwb2ludHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudmlzaWJsZSAhPT0gZmFsc2UgJiYgY2FsbGJhY2socG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZpbmRQb2ludChjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjaGFydHMgPSB0aGlzLmNoYXJ0cztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hhcnQgPSBjaGFydHNbaV07XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBjaGFydC5wb2ludHM7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBvaW50cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCAmJiBwb2ludC52aXNpYmxlICE9PSBmYWxzZSAmJiBjYWxsYmFjayhwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhbmVCeVBvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHBhbmVzID0gdGhpcy5wYW5lcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICBpZiAocGFuZS5ib3guY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFuZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRldGFjaExhYmVscygpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuZ3JvdXBBeGVzKHRoaXMucGFuZXMpO1xuICAgICAgICBjb25zdCB4QXhlcyA9IGF4ZXMueDtcbiAgICAgICAgY29uc3QgeUF4ZXMgPSBheGVzLnk7XG5cbiAgICAgICAgdGhpcy5kZXRhY2hBeGlzR3JvdXBMYWJlbHMoeUF4ZXMsIHhBeGVzKTtcbiAgICAgICAgdGhpcy5kZXRhY2hBeGlzR3JvdXBMYWJlbHMoeEF4ZXMsIHlBeGVzKTtcbiAgICB9XG5cbiAgICBkZXRhY2hBeGlzR3JvdXBMYWJlbHMoYXhlcywgY3Jvc3NpbmdBeGVzKSB7XG4gICAgICAgIGxldCBsYWJlbEF4aXNDb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBheGlzLnBhbmU7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBwYW5lQW5jaG9yKGNyb3NzaW5nQXhlcywgcGFuZSkgfHwgY3Jvc3NpbmdBeGVzWzBdO1xuICAgICAgICAgICAgY29uc3QgYXhpc0luZGV4ID0gaSArIGxhYmVsQXhpc0NvdW50O1xuICAgICAgICAgICAgY29uc3QgbGFiZWxBeGlzID0gdGhpcy5jcmVhdGVMYWJlbEF4aXMoYXhpcywgYXhpc0luZGV4LCBhbmNob3IpO1xuXG4gICAgICAgICAgICBpZiAobGFiZWxBeGlzKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxBeGlzQ291bnQrKztcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhbmUuYXhlcy5pbmRleE9mKGF4aXMpICsgbGFiZWxBeGlzQ291bnQ7XG4gICAgICAgICAgICAgICAgcGFuZS5hcHBlbmRBeGlzQXQobGFiZWxBeGlzLCBwb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGFiZWxBeGlzKGF4aXMsIGF4aXNJbmRleCwgYW5jaG9yKSB7XG4gICAgICAgIGNvbnN0IGxhYmVsT3B0aW9ucyA9IGF4aXMub3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbGFiZWxPcHRpb25zLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBvbkF4aXMgPSBwb3NpdGlvbiAhPT0gRU5EICYmIHBvc2l0aW9uICE9PSBTVEFSVDtcbiAgICAgICAgY29uc3QgdmlzaWJsZSA9IGxhYmVsT3B0aW9ucy52aXNpYmxlO1xuXG4gICAgICAgIGlmIChvbkF4aXMgfHwgdmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWxsQXhlcyA9IHRoaXMuZ3JvdXBBeGVzKHRoaXMucGFuZXMpO1xuICAgICAgICBjb25zdCBjcm9zc2luZ0F4ZXMgPSBhbmNob3Iub3B0aW9ucy52ZXJ0aWNhbCA/IGFsbEF4ZXMueCA6IGFsbEF4ZXMueTtcbiAgICAgICAgY29uc3QgYW5jaG9yQ3Jvc3NpbmdzID0gdGhpcy5heGlzQ3Jvc3NpbmdWYWx1ZXMoYW5jaG9yLCBjcm9zc2luZ0F4ZXMpO1xuICAgICAgICBjb25zdCBlbmQgPSBwb3NpdGlvbiA9PT0gRU5EO1xuICAgICAgICBjb25zdCByYW5nZSA9IGFuY2hvci5yYW5nZSgpO1xuICAgICAgICBjb25zdCBlZGdlID0gZW5kID8gcmFuZ2UubWF4IDogcmFuZ2UubWluO1xuICAgICAgICBjb25zdCBjcm9zc2luZ1ZhbHVlID0gbGltaXRWYWx1ZShhbmNob3JDcm9zc2luZ3NbYXhpc0luZGV4XSwgcmFuZ2UubWluLCByYW5nZS5tYXgpO1xuXG4gICAgICAgIGlmIChjcm9zc2luZ1ZhbHVlIC0gZWRnZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBhbmNob3JDcm9zc2luZ3Muc3BsaWNlKGF4aXNJbmRleCArIDEsIDAsIGVkZ2UpO1xuICAgICAgICBhbmNob3Iub3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZXMgPSBhbmNob3JDcm9zc2luZ3M7XG5cbiAgICAgICAgY29uc3QgbGFiZWxBeGlzID0gYXhpcy5jbG9uZSgpO1xuICAgICAgICBheGlzLmNsZWFyKCk7XG5cbiAgICAgICAgbGFiZWxBeGlzLm9wdGlvbnMubmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFiZWxBeGlzLm9wdGlvbnMubGluZS52aXNpYmxlID0gZmFsc2U7XG5cbiAgICAgICAgbGFiZWxBeGlzLm9wdGlvbnMuY3Jvc3NoYWlyID0gdW5kZWZpbmVkO1xuICAgICAgICBsYWJlbEF4aXMub3B0aW9ucy5ub3RlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFiZWxBeGlzLm9wdGlvbnMucGxvdEJhbmRzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiBsYWJlbEF4aXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1NpbmdsZUF4aXMoYXhpcykge1xuICAgIHJldHVybiAhYXhpcy5wYW5lLmF4ZXMuc29tZSgoYSkgPT5cbiAgICAgICAgYS5vcHRpb25zLnZlcnRpY2FsID09PSBheGlzLm9wdGlvbnMudmVydGljYWwgJiYgYSAhPT0gYXhpcyAmJiBhLm9wdGlvbnMudmlzaWJsZSAhPT0gZmFsc2VcbiAgICApO1xufVxuXG5mdW5jdGlvbiBheGlzR3JvdXBCb3goYXhlcykge1xuICAgIGNvbnN0IGxlbmd0aCA9IGF4ZXMubGVuZ3RoO1xuICAgIGxldCBib3g7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSBheGVzW2ldO1xuICAgICAgICBjb25zdCB2aXNpYmxlID0gYXhpcy5vcHRpb25zLnZpc2libGUgIT09IGZhbHNlO1xuICAgICAgICBpZiAodmlzaWJsZSB8fCBpc1NpbmdsZUF4aXMoYXhpcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNCb3ggPSB2aXNpYmxlID8gYXhpcy5jb250ZW50Qm94KCkgOiBheGlzLmxpbmVCb3goKTtcblxuICAgICAgICAgICAgaWYgKCFib3gpIHtcbiAgICAgICAgICAgICAgICBib3ggPSBheGlzQm94LmNsb25lKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJveC53cmFwKGF4aXNCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJveCB8fCBuZXcgQm94KCk7XG59XG5cbmZ1bmN0aW9uIHBhbmVBbmNob3IoYXhlcywgcGFuZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhbmNob3IgPSBheGVzW2ldO1xuICAgICAgICBpZiAoYW5jaG9yICYmIGFuY2hvci5wYW5lID09PSBwYW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gYW5jaG9yO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1RyYW5zcGFyZW50KGNvbG9yKSB7XG4gICAgcmV0dXJuIGNvbG9yID09PSBcIlwiIHx8IGNvbG9yID09PSBudWxsIHx8IGNvbG9yID09PSBcIm5vbmVcIiB8fCBjb2xvciA9PT0gXCJ0cmFuc3BhcmVudFwiIHx8ICFkZWZpbmVkKGNvbG9yKTtcbn1cblxuY29uc3QgYWxsUGFuZUF4ZXMgPSAocGFuZXMpID0+IHBhbmVzLnJlZHVjZSgoYWNjLCBwYW5lKSA9PiBhY2MuY29uY2F0KHBhbmUuYXhlcyksIFtdKTtcblxuc2V0RGVmYXVsdE9wdGlvbnMoUGxvdEFyZWFCYXNlLCB7XG4gICAgc2VyaWVzOiBbXSxcbiAgICBwbG90QXJlYToge1xuICAgICAgICBtYXJnaW46IHt9XG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kOiBcIlwiLFxuICAgIGJvcmRlcjoge1xuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHdpZHRoOiAwXG4gICAgfSxcbiAgICBwYW5lRGVmYXVsdHM6IHtcbiAgICAgICAgdGl0bGU6IHt9XG4gICAgfSxcbiAgICBsZWdlbmQ6IHtcbiAgICAgICAgaW5hY3RpdmVJdGVtczoge1xuICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzkxOTE5MVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM5MTkxOTFcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFBsb3RBcmVhQmFzZTtcbiIsImltcG9ydCB7IFBMT1RfQVJFQV9IT1ZFUiwgUExPVF9BUkVBX0NMSUNLIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgUGxvdEFyZWFFdmVudHNNaXhpbiA9IHtcbiAgICBob3ZlcjogZnVuY3Rpb24oY2hhcnQsIGUpIHtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChjaGFydCwgZSwgUExPVF9BUkVBX0hPVkVSKTtcbiAgICB9LFxuXG4gICAgY2xpY2s6IGZ1bmN0aW9uKGNoYXJ0LCBlKSB7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIFBMT1RfQVJFQV9DTElDSyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUGxvdEFyZWFFdmVudHNNaXhpbjsiLCJpbXBvcnQgQWdncmVnYXRlcyBmcm9tICcuL2FnZ3JlZ2F0ZXMnO1xuXG5pbXBvcnQgeyBDbGFzcywgZGVmaW5lZCwgaW5BcnJheSwgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNOdW1iZXIsIGlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU2VyaWVzQWdncmVnYXRvciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJpZXMsIGJpbmRlciwgZGVmYXVsdEFnZ3JlZ2F0ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCBjYW5vbmljYWxGaWVsZHMgPSBiaW5kZXIuY2Fub25pY2FsRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IHZhbHVlRmllbGRzID0gYmluZGVyLnZhbHVlRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IHNvdXJjZUZpZWxkcyA9IGJpbmRlci5zb3VyY2VGaWVsZHMoc2VyaWVzLCBjYW5vbmljYWxGaWVsZHMpO1xuICAgICAgICBjb25zdCBzZXJpZXNGaWVsZHMgPSB0aGlzLl9zZXJpZXNGaWVsZHMgPSBbXTtcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBkZWZhdWx0QWdncmVnYXRlcy5xdWVyeShzZXJpZXMudHlwZSk7XG4gICAgICAgIGNvbnN0IHJvb3RBZ2dyZWdhdGUgPSBzZXJpZXMuYWdncmVnYXRlIHx8IGRlZmF1bHRzO1xuXG4gICAgICAgIHRoaXMuX3NlcmllcyA9IHNlcmllcztcbiAgICAgICAgdGhpcy5fYmluZGVyID0gYmluZGVyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2Fub25pY2FsRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGNhbm9uaWNhbEZpZWxkc1tpXTtcbiAgICAgICAgICAgIGxldCBmaWVsZEFnZ3JlZ2F0ZTtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHJvb3RBZ2dyZWdhdGUpKSB7XG4gICAgICAgICAgICAgICAgZmllbGRBZ2dyZWdhdGUgPSByb290QWdncmVnYXRlW2ZpZWxkXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCB8fCBpbkFycmF5KGZpZWxkLCB2YWx1ZUZpZWxkcykpIHtcbiAgICAgICAgICAgICAgICBmaWVsZEFnZ3JlZ2F0ZSA9IHJvb3RBZ2dyZWdhdGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmllbGRBZ2dyZWdhdGUpIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNGaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNhbm9uaWNhbE5hbWU6IGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzb3VyY2VGaWVsZHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogaXNGdW5jdGlvbihmaWVsZEFnZ3JlZ2F0ZSkgPyBmaWVsZEFnZ3JlZ2F0ZSA6IEFnZ3JlZ2F0ZXNbZmllbGRBZ2dyZWdhdGVdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZ2dyZWdhdGVQb2ludHMoc3JjUG9pbnRzLCBncm91cCkge1xuICAgICAgICBjb25zdCB7IF9zZXJpZXM6IHNlcmllcywgX3Nlcmllc0ZpZWxkczogc2VyaWVzRmllbGRzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fYmluZFBvaW50cyhzcmNQb2ludHMgfHwgW10pO1xuICAgICAgICBjb25zdCBmaXJzdERhdGFJdGVtID0gZGF0YS5kYXRhSXRlbXNbMF07XG4gICAgICAgIGxldCByZXN1bHQgPSB7fTtcblxuICAgICAgICBpZiAoZmlyc3REYXRhSXRlbSAmJiAhaXNOdW1iZXIoZmlyc3REYXRhSXRlbSkgJiYgIWlzQXJyYXkoZmlyc3REYXRhSXRlbSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgIGZuLnByb3RvdHlwZSA9IGZpcnN0RGF0YUl0ZW07XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgZm4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHNlcmllc0ZpZWxkc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHNyY1ZhbHVlcyA9IHRoaXMuX2JpbmRGaWVsZChkYXRhLnZhbHVlcywgZmllbGQuY2Fub25pY2FsTmFtZSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZpZWxkLnRyYW5zZm9ybShzcmNWYWx1ZXMsIHNlcmllcywgZGF0YS5kYXRhSXRlbXMsIGdyb3VwKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIGlzT2JqZWN0KHZhbHVlKSAmJiAhZGVmaW5lZCh2YWx1ZS5sZW5ndGgpICYmICEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZmllbGQubmFtZSwgcmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBfYmluZFBvaW50cyhwb2ludHMpIHtcbiAgICAgICAgY29uc3QgeyBfYmluZGVyOiBiaW5kZXIsIF9zZXJpZXM6IHNlcmllcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IGRhdGFJdGVtcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludEl4ID0gcG9pbnRzW2ldO1xuXG4gICAgICAgICAgICB2YWx1ZXMucHVzaChiaW5kZXIuYmluZFBvaW50KHNlcmllcywgcG9pbnRJeCkpO1xuICAgICAgICAgICAgZGF0YUl0ZW1zLnB1c2goc2VyaWVzLmRhdGFbcG9pbnRJeF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICAgICAgZGF0YUl0ZW1zOiBkYXRhSXRlbXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfYmluZEZpZWxkKGRhdGEsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBjb25zdCBjb3VudCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRhdGFbaV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IGl0ZW0udmFsdWVGaWVsZHM7XG4gICAgICAgICAgICBsZXQgdmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKHZhbHVlRmllbGRzW2ZpZWxkXSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlRmllbGRzW2ZpZWxkXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBpdGVtLmZpZWxkc1tmaWVsZF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRWYWx1ZShmaWVsZE5hbWUsIHRhcmdldCwgdmFsdWUpIHtcbiAgICBsZXQgcGFyZW50T2JqID0gdGFyZ2V0O1xuICAgIGxldCBmaWVsZCA9IGZpZWxkTmFtZTtcblxuICAgIGlmIChmaWVsZE5hbWUuaW5kZXhPZihcIi5cIikgPiAtMSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGZpZWxkTmFtZS5zcGxpdChcIi5cIik7XG5cbiAgICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZpZWxkID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICghZGVmaW5lZChwYXJlbnRPYmpbZmllbGRdKSkge1xuICAgICAgICAgICAgICAgIHBhcmVudE9ialtmaWVsZF0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudE9iaiA9IHBhcmVudE9ialtmaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgZmllbGQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgIH1cblxuICAgIHBhcmVudE9ialtmaWVsZF0gPSB2YWx1ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VyaWVzQWdncmVnYXRvcjsiLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIERlZmF1bHRBZ2dyZWdhdGVzIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRzID0ge307XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoc2VyaWVzVHlwZXMsIGFnZ3JlZ2F0ZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXNUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdHNbc2VyaWVzVHlwZXNbaV1dID0gYWdncmVnYXRlcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHF1ZXJ5KHNlcmllc1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRzW3Nlcmllc1R5cGVdO1xuICAgIH1cbn1cblxuRGVmYXVsdEFnZ3JlZ2F0ZXMuY3VycmVudCA9IG5ldyBEZWZhdWx0QWdncmVnYXRlcygpO1xuXG5leHBvcnQgZGVmYXVsdCBEZWZhdWx0QWdncmVnYXRlczsiLCJpbXBvcnQgQmFyIGZyb20gJy4uL2Jhci1jaGFydC9iYXInO1xuaW1wb3J0IEJhckxhYmVsIGZyb20gJy4uL2Jhci1jaGFydC9iYXItbGFiZWwnO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBnZXRUZW1wbGF0ZSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFJhbmdlQmFyIGV4dGVuZHMgQmFyIHtcbiAgICBjcmVhdGVMYWJlbCgpIHtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5vcHRpb25zLmxhYmVscztcbiAgICAgICAgY29uc3QgZnJvbU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBsYWJlbHMsIGxhYmVscy5mcm9tKTtcbiAgICAgICAgY29uc3QgdG9PcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgbGFiZWxzLCBsYWJlbHMudG8pO1xuXG4gICAgICAgIGlmIChmcm9tT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsRnJvbSA9IHRoaXMuX2NyZWF0ZUxhYmVsKGZyb21PcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWxGcm9tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b09wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbFRvID0gdGhpcy5fY3JlYXRlTGFiZWwodG9PcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWxUbyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlTGFiZWwob3B0aW9ucykge1xuICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gZ2V0VGVtcGxhdGUob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IHRoaXMucG9pbnREYXRhKCk7XG5cbiAgICAgICAgbGV0IGxhYmVsVGV4dDtcblxuICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgbGFiZWxUZXh0ID0gbGFiZWxUZW1wbGF0ZShwb2ludERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFiZWxUZXh0ID0gdGhpcy5mb3JtYXRWYWx1ZShvcHRpb25zLmZvcm1hdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEJhckxhYmVsKGxhYmVsVGV4dCxcbiAgICAgICAgICAgIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB0aGlzLm9wdGlvbnMudmVydGljYWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICksIHBvaW50RGF0YSk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgIGNvbnN0IHsgbGFiZWxGcm9tLCBsYWJlbFRvLCB2YWx1ZSB9ID0gdGhpcztcblxuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcblxuICAgICAgICBpZiAobGFiZWxGcm9tKSB7XG4gICAgICAgICAgICBsYWJlbEZyb20ub3B0aW9ucy5hYm92ZUF4aXMgPSB2YWx1ZS5mcm9tID4gdmFsdWUudG87XG4gICAgICAgICAgICBsYWJlbEZyb20ucmVmbG93KHRhcmdldEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGFiZWxUbykge1xuICAgICAgICAgICAgbGFiZWxUby5vcHRpb25zLmFib3ZlQXhpcyA9IHZhbHVlLnRvID4gdmFsdWUuZnJvbTtcbiAgICAgICAgICAgIGxhYmVsVG8ucmVmbG93KHRhcmdldEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub3RlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGUucmVmbG93KHRhcmdldEJveCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblJhbmdlQmFyLnByb3RvdHlwZS5kZWZhdWx0cyA9IGRlZXBFeHRlbmQoe30sIFJhbmdlQmFyLnByb3RvdHlwZS5kZWZhdWx0cywge1xuICAgIGxhYmVsczoge1xuICAgICAgICBmb3JtYXQ6IFwiezB9IC0gezF9XCJcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcInsxfVwiXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQmFyOyIsImltcG9ydCBCYXJDaGFydCBmcm9tICcuLi9iYXItY2hhcnQvYmFyLWNoYXJ0JztcbmltcG9ydCBSYW5nZUJhciBmcm9tICcuL3JhbmdlLWJhcic7XG5pbXBvcnQgQ2F0ZWdvcmljYWxDaGFydCBmcm9tICcuLi9jYXRlZ29yaWNhbC1jaGFydCc7XG5cbmltcG9ydCB7IE1JTl9WQUxVRSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFJhbmdlQmFyQ2hhcnQgZXh0ZW5kcyBCYXJDaGFydCB7XG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmFuZ2VCYXI7XG4gICAgfVxuXG4gICAgcG9pbnRWYWx1ZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnZhbHVlRmllbGRzO1xuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBpZiAocG9pbnQudmFsdWUuZnJvbSA9PT0gbnVsbCAmJiBwb2ludC52YWx1ZS50byA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCBwb2ludC52YWx1ZS5mcm9tLCBwb2ludC52YWx1ZS50byk7XG4gICAgfVxuXG4gICAgcGxvdFJhbmdlKHBvaW50KSB7XG4gICAgICAgIGlmICghcG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsgcG9pbnQudmFsdWUuZnJvbSwgcG9pbnQudmFsdWUudG8gXTtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gZmllbGRzLnNlcmllcy5heGlzO1xuICAgICAgICBjb25zdCB7IGZyb20sIHRvIH0gPSB2YWx1ZTtcbiAgICAgICAgbGV0IGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXTtcblxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgaXNOdW1iZXIoZnJvbSkgJiYgaXNOdW1iZXIodG8pKSB7XG4gICAgICAgICAgICBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gPSBheGlzUmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICAgICAgYXhpc1JhbmdlLm1pbiA9IE1hdGgubWluKGF4aXNSYW5nZS5taW4sIGZyb20pO1xuICAgICAgICAgICAgYXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KGF4aXNSYW5nZS5tYXgsIGZyb20pO1xuXG4gICAgICAgICAgICBheGlzUmFuZ2UubWluID0gTWF0aC5taW4oYXhpc1JhbmdlLm1pbiwgdG8pO1xuICAgICAgICAgICAgYXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KGF4aXNSYW5nZS5tYXgsIHRvKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFib3ZlQXhpcyhwb2ludCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUuZnJvbSA8IHZhbHVlLnRvO1xuICAgIH1cbn1cblxuUmFuZ2VCYXJDaGFydC5wcm90b3R5cGUucGxvdExpbWl0cyA9IENhdGVnb3JpY2FsQ2hhcnQucHJvdG90eXBlLnBsb3RMaW1pdHM7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQmFyQ2hhcnQ7IiwiaW1wb3J0IExpbmVQb2ludCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtcG9pbnQnO1xuXG5jbGFzcyBSYW5nZUxpbmVQb2ludCBleHRlbmRzIExpbmVQb2ludCB7XG4gICAgYWxpYXNGb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlTGluZVBvaW50OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IFJhbmdlTGluZVBvaW50IGZyb20gJy4vcmFuZ2UtbGluZS1wb2ludCc7XG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcbmltcG9ydCBOb3RlTWl4aW4gZnJvbSAnLi4vbWl4aW5zL25vdGUtbWl4aW4nO1xuXG5pbXBvcnQgeyBMSU5FX01BUktFUl9TSVpFLCBGQURFSU4sIElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OLCBUT09MVElQX09GRlNFVCwgQUJPVkUsIEJFTE9XIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IFdISVRFLCBDSVJDTEUsIEhJR0hMSUdIVF9aSU5ERVgsIExFRlQsIFJJR0hULCBCT1RUT00sIENFTlRFUiB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgdmFsdWVPckRlZmF1bHQsIGdldFNwYWNpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBBVVRPID0gJ2F1dG8nO1xuY29uc3QgREVGQVVMVF9GUk9NX0ZPUk1BVCA9ICd7MH0nO1xuY29uc3QgREVGQVVMVF9UT19GT1JNQVQgPSAnezF9JztcblxuY2xhc3MgUmFuZ2VBcmVhUG9pbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmFib3ZlQXhpcyA9IHZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5hYm92ZUF4aXMsIHRydWUpO1xuICAgICAgICB0aGlzLnRvb2x0aXBUcmFja2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5pdExhYmVsc0Zvcm1hdCgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgeyBtYXJrZXJzLCBsYWJlbHMgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IGZyb21Qb2ludCA9IHRoaXMuZnJvbVBvaW50ID0gbmV3IFJhbmdlTGluZVBvaW50KHZhbHVlLCBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIGxhYmVsczogbGFiZWxzLmZyb20sXG4gICAgICAgICAgICBtYXJrZXJzOiBtYXJrZXJzLmZyb21cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IHRvUG9pbnQgPSB0aGlzLnRvUG9pbnQgPSBuZXcgUmFuZ2VMaW5lUG9pbnQodmFsdWUsIGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywge1xuICAgICAgICAgICAgbGFiZWxzOiBsYWJlbHMudG8sXG4gICAgICAgICAgICBtYXJrZXJzOiBtYXJrZXJzLnRvXG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLmNvcHlGaWVsZHMoZnJvbVBvaW50KTtcbiAgICAgICAgdGhpcy5jb3B5RmllbGRzKHRvUG9pbnQpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kKGZyb21Qb2ludCk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHRvUG9pbnQpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcblxuICAgICAgICBjb25zdCB7IGZyb206IGZyb21Cb3gsIHRvOiB0b0JveCB9ID0gdGFyZ2V0Qm94O1xuXG4gICAgICAgIHRoaXMucG9zaXRpb25MYWJlbHMoZnJvbUJveCwgdG9Cb3gpO1xuXG4gICAgICAgIHRoaXMuZnJvbVBvaW50LnJlZmxvdyhmcm9tQm94KTtcbiAgICAgICAgdGhpcy50b1BvaW50LnJlZmxvdyh0b0JveCk7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB0aGlzLmZyb21Qb2ludC5tYXJrZXJCb3goKS5jbG9uZSgpLndyYXAodGhpcy50b1BvaW50Lm1hcmtlckJveCgpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVIaWdobGlnaHQoKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IGRyYXcuR3JvdXAoKTtcbiAgICAgICAgZ3JvdXAuYXBwZW5kKHRoaXMuZnJvbVBvaW50LmNyZWF0ZUhpZ2hsaWdodCgpKTtcbiAgICAgICAgZ3JvdXAuYXBwZW5kKHRoaXMudG9Qb2ludC5jcmVhdGVIaWdobGlnaHQoKSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBmcm9tOiB0aGlzLmZyb21Qb2ludC5oaWdobGlnaHRWaXN1YWxBcmdzKCksXG4gICAgICAgICAgICB0bzogdGhpcy50b1BvaW50LmhpZ2hsaWdodFZpc3VhbEFyZ3MoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvb2x0aXBBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IGNsaXBCb3ggPSB0aGlzLm93bmVyLnBhbmUuY2xpcEJveCgpO1xuICAgICAgICBjb25zdCBzaG93VG9vbHRpcCA9ICFjbGlwQm94IHx8IGNsaXBCb3gub3ZlcmxhcHModGhpcy5ib3gpO1xuXG4gICAgICAgIGlmIChzaG93VG9vbHRpcCkge1xuICAgICAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3g7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBib3guY2VudGVyKCk7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsQWxpZ24gPSBMRUZUO1xuICAgICAgICAgICAgbGV0IHgsIHksIHZlcnRpY2FsQWxpZ247XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICB4ID0gY2VudGVyLng7XG4gICAgICAgICAgICAgICAgeSA9IGJveC55MSAtIFRPT0xUSVBfT0ZGU0VUO1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBCT1RUT007XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSBib3gueDIgKyBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgICAgICB5ID0gY2VudGVyLnk7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IENFTlRFUjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwb2ludDogbmV3IFBvaW50KHgsIHkpLFxuICAgICAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6IGhvcml6b250YWxBbGlnbixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsQWxpZ25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9ybWF0VmFsdWUoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmZvcm1hdFBvaW50VmFsdWUodGhpcywgZm9ybWF0KTtcbiAgICB9XG5cbiAgICBvdmVybGFwc0JveChib3gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94Lm92ZXJsYXBzKGJveCk7XG4gICAgfVxuXG4gICAgdW5jbGlwRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuZnJvbVBvaW50LnVuY2xpcEVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMudG9Qb2ludC51bmNsaXBFbGVtZW50cygpO1xuICAgIH1cblxuICAgIGluaXRMYWJlbHNGb3JtYXQoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMub3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGlmICghbGFiZWxzLmZvcm1hdCkge1xuICAgICAgICAgICAgaWYgKCFsYWJlbHMuZnJvbSB8fCAhbGFiZWxzLmZyb20uZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgbGFiZWxzLmZyb20gPSBPYmplY3QuYXNzaWduKHt9LCBsYWJlbHMuZnJvbSwge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IERFRkFVTFRfRlJPTV9GT1JNQVRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsYWJlbHMudG8gfHwgIWxhYmVscy50by5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBsYWJlbHMudG8gPSBPYmplY3QuYXNzaWduKHt9LCBsYWJlbHMudG8sIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBERUZBVUxUX1RPX0ZPUk1BVFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9zaXRpb25MYWJlbHMoZnJvbUJveCwgdG9Cb3gpIHtcbiAgICAgICAgY29uc3QgeyBsYWJlbHMsIHZlcnRpY2FsIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKGxhYmVscy5wb3NpdGlvbiA9PT0gQVVUTykge1xuICAgICAgICAgICAgbGV0IGZyb21MYWJlbFBvc2l0aW9uLCB0b0xhYmVsUG9zaXRpb247XG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9Cb3gueTEgPD0gZnJvbUJveC55MSkge1xuICAgICAgICAgICAgICAgICAgICB0b0xhYmVsUG9zaXRpb24gPSBBQk9WRTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUxhYmVsUG9zaXRpb24gPSBCRUxPVztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b0xhYmVsUG9zaXRpb24gPSBCRUxPVztcbiAgICAgICAgICAgICAgICAgICAgZnJvbUxhYmVsUG9zaXRpb24gPSBBQk9WRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0b0JveC54MSA8PSBmcm9tQm94LngxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvTGFiZWxQb3NpdGlvbiA9IExFRlQ7XG4gICAgICAgICAgICAgICAgICAgIGZyb21MYWJlbFBvc2l0aW9uID0gUklHSFQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9MYWJlbFBvc2l0aW9uID0gUklHSFQ7XG4gICAgICAgICAgICAgICAgICAgIGZyb21MYWJlbFBvc2l0aW9uID0gTEVGVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbGFiZWxzLmZyb20gfHwgIWxhYmVscy5mcm9tLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tUG9pbnQub3B0aW9ucy5sYWJlbHMucG9zaXRpb24gPSBmcm9tTGFiZWxQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsYWJlbHMudG8gfHwgIWxhYmVscy50by5wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudG9Qb2ludC5vcHRpb25zLmxhYmVscy5wb3NpdGlvbiA9IHRvTGFiZWxQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvcHlGaWVsZHMocG9pbnQpIHtcbiAgICAgICAgcG9pbnQuZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtO1xuICAgICAgICBwb2ludC5jYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnk7XG4gICAgICAgIHBvaW50LnNlcmllcyA9IHRoaXMuc2VyaWVzO1xuICAgICAgICBwb2ludC5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIHBvaW50Lm93bmVyID0gdGhpcy5vd25lcjtcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoUmFuZ2VBcmVhUG9pbnQucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcbmRlZXBFeHRlbmQoUmFuZ2VBcmVhUG9pbnQucHJvdG90eXBlLCBOb3RlTWl4aW4pO1xuXG5SYW5nZUFyZWFQb2ludC5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgbWFya2Vyczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZDogV0hJVEUsXG4gICAgICAgIHNpemU6IExJTkVfTUFSS0VSX1NJWkUsXG4gICAgICAgIHR5cGU6IENJUkNMRSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICB9LFxuICAgICAgICBvcGFjaXR5OiAxXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG1hcmdpbjogZ2V0U3BhY2luZygzKSxcbiAgICAgICAgcGFkZGluZzogZ2V0U3BhY2luZyg0KSxcbiAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgICAgICBkZWxheTogSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT05cbiAgICAgICAgfSxcbiAgICAgICAgcG9zaXRpb246IEFVVE9cbiAgICB9LFxuICAgIG5vdGVzOiB7XG4gICAgICAgIGxhYmVsOiB7fVxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB6SW5kZXg6IEhJR0hMSUdIVF9aSU5ERVhcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiAnezB9IC0gezF9J1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQXJlYVBvaW50O1xuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IEFyZWFTZWdtZW50IGZyb20gJy4uL2FyZWEtY2hhcnQvYXJlYS1zZWdtZW50JztcblxuY2xhc3MgUmFuZ2VBcmVhU2VnbWVudCBleHRlbmRzIEFyZWFTZWdtZW50IHtcblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c0Zyb21Qb2ludHModGhpcy50b0dlb21ldHJ5UG9pbnRzKHRoaXMudG9Qb2ludHMoKSkpO1xuICAgIH1cblxuICAgIHN0YWNrU2VnbWVudHMoKSB7XG4gICAgICAgIGxldCBmcm9tU2VnbWVudHMgPSB0aGlzLmZyb21TZWdtZW50cztcbiAgICAgICAgaWYgKCF0aGlzLmZyb21TZWdtZW50cykge1xuICAgICAgICAgICAgZnJvbVNlZ21lbnRzID0gdGhpcy5mcm9tU2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzRnJvbVBvaW50cyh0aGlzLnRvR2VvbWV0cnlQb2ludHModGhpcy5mcm9tUG9pbnRzKCkucmV2ZXJzZSgpKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnJvbVNlZ21lbnRzO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0cm9rZShzdHlsZSkge1xuICAgICAgICBjb25zdCB0b1BhdGggPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgY29uc3QgZnJvbVBhdGggPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcblxuICAgICAgICB0b1BhdGguc2VnbWVudHMucHVzaC5hcHBseSh0b1BhdGguc2VnbWVudHMsIHRoaXMuc3Ryb2tlU2VnbWVudHMoKSk7XG4gICAgICAgIGZyb21QYXRoLnNlZ21lbnRzLnB1c2guYXBwbHkoZnJvbVBhdGguc2VnbWVudHMsIHRoaXMuc3RhY2tTZWdtZW50cygpKTtcblxuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodG9QYXRoKTtcbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGZyb21QYXRoKTtcbiAgICB9XG5cbiAgICBoYXNTdGFja1NlZ21lbnQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZyb21Qb2ludHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVQb2ludHMubWFwKHBvaW50ID0+IHBvaW50LmZyb21Qb2ludCk7XG4gICAgfVxuXG4gICAgdG9Qb2ludHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVQb2ludHMubWFwKHBvaW50ID0+IHBvaW50LnRvUG9pbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2VBcmVhU2VnbWVudDsiLCJpbXBvcnQgeyBDdXJ2ZVByb2Nlc3NvciB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgUmFuZ2VBcmVhU2VnbWVudCBmcm9tICcuL3JhbmdlLWFyZWEtc2VnbWVudCc7XG5cbmNsYXNzIFNwbGluZVJhbmdlQXJlYVNlZ21lbnQgZXh0ZW5kcyBSYW5nZUFyZWFTZWdtZW50IHtcblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDdXJ2ZVNlZ21lbnRzKHRoaXMudG9Qb2ludHMoKSk7XG4gICAgfVxuXG4gICAgc3RhY2tTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IGZyb21TZWdtZW50cyA9IHRoaXMuZnJvbVNlZ21lbnRzO1xuICAgICAgICBpZiAoIXRoaXMuZnJvbVNlZ21lbnRzKSB7XG4gICAgICAgICAgICBmcm9tU2VnbWVudHMgPSB0aGlzLmZyb21TZWdtZW50cyA9IHRoaXMuY3JlYXRlQ3VydmVTZWdtZW50cyh0aGlzLmZyb21Qb2ludHMoKS5yZXZlcnNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZyb21TZWdtZW50cztcbiAgICB9XG5cbiAgICBjcmVhdGVDdXJ2ZVNlZ21lbnRzKHBvaW50cykge1xuICAgICAgICBjb25zdCBjdXJ2ZVByb2Nlc3NvciA9IG5ldyBDdXJ2ZVByb2Nlc3NvcigpO1xuXG4gICAgICAgIHJldHVybiBjdXJ2ZVByb2Nlc3Nvci5wcm9jZXNzKHRoaXMudG9HZW9tZXRyeVBvaW50cyhwb2ludHMpKTtcbiAgICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVSYW5nZUFyZWFTZWdtZW50OyIsImltcG9ydCBTdGVwTGluZU1peGluIGZyb20gJy4uL2xpbmUtY2hhcnQvc3RlcC1saW5lLW1peGluJztcbmltcG9ydCBSYW5nZUFyZWFTZWdtZW50IGZyb20gJy4vcmFuZ2UtYXJlYS1zZWdtZW50JztcbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTdGVwUmFuZ2VBcmVhU2VnbWVudCBleHRlbmRzIFJhbmdlQXJlYVNlZ21lbnQge1xuXG4gICAgY3JlYXRlU3Ryb2tlU2VnbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzRnJvbVBvaW50cyh0aGlzLmNhbGN1bGF0ZVN0ZXBQb2ludHModGhpcy50b1BvaW50cygpKSk7XG4gICAgfVxuXG4gICAgc3RhY2tTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IGZyb21TZWdtZW50cyA9IHRoaXMuZnJvbVNlZ21lbnRzO1xuICAgICAgICBpZiAoIXRoaXMuZnJvbVNlZ21lbnRzKSB7XG4gICAgICAgICAgICBmcm9tU2VnbWVudHMgPSB0aGlzLmZyb21TZWdtZW50cyA9IHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMuY2FsY3VsYXRlU3RlcFBvaW50cyh0aGlzLmZyb21Qb2ludHMoKSkpO1xuICAgICAgICAgICAgZnJvbVNlZ21lbnRzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmcm9tU2VnbWVudHM7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFN0ZXBSYW5nZUFyZWFTZWdtZW50LnByb3RvdHlwZSwgU3RlcExpbmVNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBSYW5nZUFyZWFTZWdtZW50OyIsImltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcbmltcG9ydCBMaW5lQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvbGluZS1jaGFydC1taXhpbic7XG5pbXBvcnQgQ2xpcEFuaW1hdGlvbk1peGluIGZyb20gJy4uL21peGlucy9jbGlwLWFuaW1hdGlvbi1taXhpbic7XG5pbXBvcnQgUmFuZ2VBcmVhUG9pbnQgZnJvbSAnLi9yYW5nZS1hcmVhLXBvaW50JztcbmltcG9ydCBSYW5nZUFyZWFTZWdtZW50IGZyb20gJy4vcmFuZ2UtYXJlYS1zZWdtZW50JztcbmltcG9ydCBTcGxpbmVSYW5nZUFyZWFTZWdtZW50IGZyb20gJy4vc3BsaW5lLXJhbmdlLWFyZWEtc2VnbWVudCc7XG5pbXBvcnQgU3RlcFJhbmdlQXJlYVNlZ21lbnQgZnJvbSAnLi9zdGVwLXJhbmdlLWFyZWEtc2VnbWVudCc7XG5cbmltcG9ydCB7IEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgWkVSTyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgaXNGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBoYXNWYWx1ZSB9IGZyb20gJy4uL3V0aWxzJztcblxuY2xhc3MgUmFuZ2VBcmVhQ2hhcnQgZXh0ZW5kcyBDYXRlZ29yaWNhbENoYXJ0IHtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJTZWdtZW50cygpO1xuICAgIH1cblxuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlQXJlYVBvaW50O1xuICAgIH1cblxuICAgIGNyZWF0ZVBvaW50KGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IGNhdGVnb3J5SXgsIGNhdGVnb3J5LCBzZXJpZXMsIHNlcmllc0l4IH0gPSBmaWVsZHM7XG4gICAgICAgIGxldCB2YWx1ZSA9IGRhdGEudmFsdWVGaWVsZHM7XG5cbiAgICAgICAgaWYgKCFoYXNWYWx1ZSh2YWx1ZS5mcm9tKSAmJiAhaGFzVmFsdWUodmFsdWUudG8pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllcykgPT09IFpFUk8pIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICAgICAgICAgICAgdG86IDBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSB0aGlzLnBvaW50T3B0aW9ucyhzZXJpZXMsIHNlcmllc0l4KTtcbiAgICAgICAgcG9pbnRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgcG9pbnRPcHRpb25zLCB2YWx1ZSwgY2F0ZWdvcnksIGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXhcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgY29sb3IgPSBkYXRhLmZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUmFuZ2VBcmVhUG9pbnQodmFsdWUsIHBvaW50T3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNvbG9yID0gY29sb3I7XG5cbiAgICAgICAgdGhpcy5hcHBlbmQocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gKGN1cnJlbnRTZXJpZXMubGluZSB8fCB7fSkuc3R5bGU7XG4gICAgICAgIGxldCBzZWdtZW50VHlwZTtcbiAgICAgICAgaWYgKHN0eWxlID09PSBcInNtb290aFwiKSB7XG4gICAgICAgICAgICBzZWdtZW50VHlwZSA9IFNwbGluZVJhbmdlQXJlYVNlZ21lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc3R5bGUgPT09IFwic3RlcFwiKSB7XG4gICAgICAgICAgICBzZWdtZW50VHlwZSA9IFN0ZXBSYW5nZUFyZWFTZWdtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VnbWVudFR5cGUgPSBSYW5nZUFyZWFTZWdtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBzZWdtZW50VHlwZShsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCk7XG4gICAgfVxuXG4gICAgcGxvdFJhbmdlKHBvaW50LCBzdGFydFZhbHVlKSB7XG4gICAgICAgIGlmICghcG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBbIHN0YXJ0VmFsdWUsIHN0YXJ0VmFsdWUgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbIHBvaW50LnZhbHVlLmZyb20sIHBvaW50LnZhbHVlLnRvIF07XG4gICAgfVxuXG4gICAgdmFsdWVTbG90KHZhbHVlQXhpcywgcGxvdFJhbmdlKSB7XG4gICAgICAgIGNvbnN0IGZyb21TbG90ID0gdmFsdWVBeGlzLmdldFNsb3QocGxvdFJhbmdlWzBdLCBwbG90UmFuZ2VbMF0sICF0aGlzLm9wdGlvbnMuY2xpcCk7XG4gICAgICAgIGNvbnN0IHRvU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHBsb3RSYW5nZVsxXSwgcGxvdFJhbmdlWzFdLCAhdGhpcy5vcHRpb25zLmNsaXApO1xuICAgICAgICBpZiAoZnJvbVNsb3QgJiYgdG9TbG90KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZyb206IGZyb21TbG90LFxuICAgICAgICAgICAgICAgIHRvOiB0b1Nsb3RcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb2ludFNsb3QoY2F0ZWdvcnlTbG90LCB2YWx1ZVNsb3QpIHtcbiAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gdmFsdWVTbG90O1xuICAgICAgICBsZXQgZnJvbVNsb3QsIHRvU2xvdDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludmVydEF4ZXMpIHtcbiAgICAgICAgICAgIGZyb21TbG90ID0gbmV3IEJveChmcm9tLngxLCBjYXRlZ29yeVNsb3QueTEsIGZyb20ueDIsIGNhdGVnb3J5U2xvdC55Mik7XG4gICAgICAgICAgICB0b1Nsb3QgPSBuZXcgQm94KHRvLngxLCBjYXRlZ29yeVNsb3QueTEsIHRvLngyLCBjYXRlZ29yeVNsb3QueTIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbVNsb3QgPSBuZXcgQm94KGNhdGVnb3J5U2xvdC54MSwgZnJvbS55MSwgY2F0ZWdvcnlTbG90LngyLCBmcm9tLnkyKTtcbiAgICAgICAgICAgIHRvU2xvdCA9IG5ldyBCb3goY2F0ZWdvcnlTbG90LngxLCB0by55MSwgY2F0ZWdvcnlTbG90LngyLCB0by55Mik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogZnJvbVNsb3QsXG4gICAgICAgICAgICB0bzogdG9TbG90XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYWRkVmFsdWUoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlRmllbGRzID0gZGF0YS52YWx1ZUZpZWxkcztcbiAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZUZpZWxkcy5mcm9tKSkge1xuICAgICAgICAgICAgdmFsdWVGaWVsZHMuZnJvbSA9IHZhbHVlRmllbGRzLnRvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZUZpZWxkcy50bykpIHtcbiAgICAgICAgICAgIHZhbHVlRmllbGRzLnRvID0gdmFsdWVGaWVsZHMuZnJvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmFkZFZhbHVlKGRhdGEsIGZpZWxkcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlUmFuZ2UodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgaXNOdW1iZXIodmFsdWUuZnJvbSkgJiYgaXNOdW1iZXIodmFsdWUudG8pKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzTmFtZSA9IGZpZWxkcy5zZXJpZXMuYXhpcztcbiAgICAgICAgICAgIGNvbnN0IGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuICAgICAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbihheGlzUmFuZ2UubWluLCBmcm9tLCB0byk7XG4gICAgICAgICAgICBheGlzUmFuZ2UubWF4ID0gTWF0aC5tYXgoYXhpc1JhbmdlLm1heCwgZnJvbSwgdG8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9ybWF0UG9pbnRWYWx1ZShwb2ludCwgZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9pbnQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCwgdmFsdWUuZnJvbSwgdmFsdWUudG8pO1xuICAgIH1cblxuICAgIGFuaW1hdGlvblBvaW50cygpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwb2ludC5mcm9tUG9pbnQgfHwge30pLm1hcmtlcik7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goKHBvaW50LnRvUG9pbnQgfHwge30pLm1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdCh0aGlzLl9zZWdtZW50cyk7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFJhbmdlQXJlYUNoYXJ0LnByb3RvdHlwZSwgTGluZUNoYXJ0TWl4aW4sIENsaXBBbmltYXRpb25NaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQXJlYUNoYXJ0O1xuIiwiaW1wb3J0IENhbmRsZXN0aWNrIGZyb20gJy4uL2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrJztcblxuY2xhc3MgT0hMQ1BvaW50IGV4dGVuZHMgQ2FuZGxlc3RpY2sge1xuICAgIHJlZmxvdyhib3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCB2YWx1ZSwgb3duZXI6IGNoYXJ0IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSBjaGFydC5zZXJpZXNWYWx1ZUF4aXMob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG9Qb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgY1BvaW50cyA9IFtdO1xuICAgICAgICBjb25zdCBsaFBvaW50cyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGxoU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLmxvdywgdmFsdWUuaGlnaCk7XG4gICAgICAgIGNvbnN0IG9TbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWUub3BlbiwgdmFsdWUub3Blbik7XG4gICAgICAgIGNvbnN0IGNTbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWUuY2xvc2UsIHZhbHVlLmNsb3NlKTtcblxuICAgICAgICBvU2xvdC54MSA9IGNTbG90LngxID0gbGhTbG90LngxID0gYm94LngxO1xuICAgICAgICBvU2xvdC54MiA9IGNTbG90LngyID0gbGhTbG90LngyID0gYm94LngyO1xuXG4gICAgICAgIGNvbnN0IG1pZCA9IGxoU2xvdC5jZW50ZXIoKS54O1xuXG4gICAgICAgIG9Qb2ludHMucHVzaChbIG9TbG90LngxLCBvU2xvdC55MSBdKTtcbiAgICAgICAgb1BvaW50cy5wdXNoKFsgbWlkLCBvU2xvdC55MSBdKTtcbiAgICAgICAgY1BvaW50cy5wdXNoKFsgbWlkLCBjU2xvdC55MSBdKTtcbiAgICAgICAgY1BvaW50cy5wdXNoKFsgY1Nsb3QueDIsIGNTbG90LnkxIF0pO1xuICAgICAgICBsaFBvaW50cy5wdXNoKFsgbWlkLCBsaFNsb3QueTEgXSk7XG4gICAgICAgIGxoUG9pbnRzLnB1c2goWyBtaWQsIGxoU2xvdC55MiBdKTtcblxuICAgICAgICB0aGlzLmxpbmVzID0gW1xuICAgICAgICAgICAgb1BvaW50cywgY1BvaW50cywgbGhQb2ludHNcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLmJveCA9IGxoU2xvdC5jbG9uZSgpLndyYXAob1Nsb3QuY2xvbmUoKS53cmFwKGNTbG90KSk7XG5cbiAgICAgICAgdGhpcy5yZWZsb3dOb3RlKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQm9keSgpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9ITENQb2ludDsiLCJpbXBvcnQgQ2FuZGxlc3RpY2tDaGFydCBmcm9tICcuLi9jYW5kbGVzdGljay1jaGFydC9jYW5kbGVzdGljay1jaGFydCc7XG5pbXBvcnQgT0hMQ1BvaW50IGZyb20gJy4vb2hsYy1wb2ludCc7XG5cbmNsYXNzIE9ITENDaGFydCBleHRlbmRzIENhbmRsZXN0aWNrQ2hhcnQge1xuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIE9ITENQb2ludDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9ITENDaGFydDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBGQURFSU4sIElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBXYXRlcmZhbGxTZWdtZW50IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgc2VyaWVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnNlcmllcyA9IHNlcmllcztcbiAgICB9XG5cbiAgICBsaW5lUG9pbnRzKCkge1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgICAgICBjb25zdCB7IGZyb206IHsgYm94OiBmcm9tQm94IH0sIHRvOiB7IGJveDogdG9Cb3ggfSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW107XG5cbiAgICAgICAgaWYgKGZyb20uaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgY29uc3QgeSA9IGZyb20uYWJvdmVBeGlzID8gZnJvbUJveC55MSA6IGZyb21Cb3gueTI7XG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICBbIGZyb21Cb3gueDEsIHkgXSxcbiAgICAgICAgICAgICAgICBbIHRvQm94LngyLCB5IF1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZnJvbS5hYm92ZUF4aXMgPyBmcm9tQm94LngyIDogZnJvbUJveC54MTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIFsgeCwgZnJvbUJveC55MSBdLFxuICAgICAgICAgICAgICAgIFsgeCwgdG9Cb3gueTIgXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5zZXJpZXMubGluZSB8fCB7fTtcblxuICAgICAgICBjb25zdCBwYXRoID0gZHJhdy5QYXRoLmZyb21Qb2ludHModGhpcy5saW5lUG9pbnRzKCksIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBsaW5lLmNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBsaW5lLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGxpbmUub3BhY2l0eSxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogbGluZS5kYXNoVHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhbGlnblBhdGhUb1BpeGVsKHBhdGgpO1xuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQocGF0aCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhXYXRlcmZhbGxTZWdtZW50LCB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IEZBREVJTixcbiAgICAgICAgZGVsYXk6IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFdhdGVyZmFsbFNlZ21lbnQ7IiwiaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4uL2Jhci1jaGFydC9iYXItY2hhcnQnO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCBXYXRlcmZhbGxTZWdtZW50IGZyb20gJy4vd2F0ZXJmYWxsLXNlZ21lbnQnO1xuXG5pbXBvcnQgY2F0ZWdvcmllc0NvdW50IGZyb20gJy4uL3V0aWxzL2NhdGVnb3JpZXMtY291bnQnO1xuXG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFdhdGVyZmFsbENoYXJ0IGV4dGVuZHMgQmFyQ2hhcnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudHMoKTtcbiAgICB9XG5cbiAgICB0cmF2ZXJzZURhdGFQb2ludHMoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3QgdG90YWxDYXRlZ29yaWVzID0gY2F0ZWdvcmllc0NvdW50KHNlcmllcyk7XG4gICAgICAgIGNvbnN0IGlzVmVydGljYWwgPSAhdGhpcy5vcHRpb25zLmludmVydEF4ZXM7XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGxldCBydW5uaW5nVG90YWwgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBjYXRlZ29yeUl4ID0gMDsgY2F0ZWdvcnlJeCA8IHRvdGFsQ2F0ZWdvcmllczsgY2F0ZWdvcnlJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IFNlcmllc0JpbmRlci5jdXJyZW50LmJpbmRQb2ludChjdXJyZW50U2VyaWVzLCBjYXRlZ29yeUl4KTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGEudmFsdWVGaWVsZHMudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeSA9IGRhdGEuZmllbGRzLnN1bW1hcnk7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSB0b3RhbDtcbiAgICAgICAgICAgICAgICBsZXQgdG87XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeS50b0xvd2VyQ2FzZSgpID09PSBcInRvdGFsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWVGaWVsZHMudmFsdWUgPSB0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSB0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWVGaWVsZHMudmFsdWUgPSBydW5uaW5nVG90YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0byA9IGZyb20gLSBydW5uaW5nVG90YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nVG90YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ1RvdGFsICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSB0b3RhbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5QXhpcy5jYXRlZ29yeUF0KGNhdGVnb3J5SXgpLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUl4OiBjYXRlZ29yeUl4LFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0l4OiBzZXJpZXNJeCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxuICAgICAgICAgICAgICAgICAgICBydW5uaW5nVG90YWw6IHJ1bm5pbmdUb3RhbCxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgdG86IHRvLFxuICAgICAgICAgICAgICAgICAgICBpc1ZlcnRpY2FsOiBpc1ZlcnRpY2FsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZVJhbmdlKHsgdmFsdWU6IGZpZWxkcy50byB9LCBmaWVsZHMpO1xuICAgIH1cblxuICAgIGFib3ZlQXhpcyhwb2ludCkge1xuICAgICAgICByZXR1cm4gcG9pbnQudmFsdWUgPj0gMDtcbiAgICB9XG5cbiAgICBwbG90UmFuZ2UocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIFsgcG9pbnQuZnJvbSwgcG9pbnQudG8gXTtcbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50cygpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHM7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHNlcmllc1BvaW50c1tzZXJpZXNJeF07XG5cbiAgICAgICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJldlBvaW50O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgcG9pbnRzLmxlbmd0aDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW3BvaW50SXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCAmJiBwcmV2UG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgV2F0ZXJmYWxsU2VnbWVudChwcmV2UG9pbnQsIHBvaW50LCBjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZChzZWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByZXZQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2F0ZXJmYWxsQ2hhcnQ7IiwiaW1wb3J0IFBsb3RBcmVhQmFzZSBmcm9tICcuL3Bsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IEF4aXNHcm91cFJhbmdlVHJhY2tlciBmcm9tICcuLi9heGlzLWdyb3VwLXJhbmdlLXRyYWNrZXInO1xuaW1wb3J0IFBsb3RBcmVhRXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3Bsb3RhcmVhLWV2ZW50cy1taXhpbic7XG5pbXBvcnQgU2VyaWVzQWdncmVnYXRvciBmcm9tICcuLi9hZ2dyZWdhdGVzL3Nlcmllcy1hZ2dyZWdhdG9yJztcbmltcG9ydCBEZWZhdWx0QWdncmVnYXRlcyBmcm9tICcuLi9hZ2dyZWdhdGVzL2RlZmF1bHQtYWdncmVnYXRlcyc7XG5pbXBvcnQgU2VyaWVzQmluZGVyIGZyb20gJy4uL3Nlcmllcy1iaW5kZXInO1xuaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4uL2Jhci1jaGFydC9iYXItY2hhcnQnO1xuaW1wb3J0IFJhbmdlQmFyQ2hhcnQgZnJvbSAnLi4vcmFuZ2UtYmFyLWNoYXJ0L3JhbmdlLWJhci1jaGFydCc7XG5pbXBvcnQgQnVsbGV0Q2hhcnQgZnJvbSAnLi4vYnVsbGV0LWNoYXJ0L2J1bGxldC1jaGFydCc7XG5pbXBvcnQgTGluZUNoYXJ0IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1jaGFydCc7XG5pbXBvcnQgQXJlYUNoYXJ0IGZyb20gJy4uL2FyZWEtY2hhcnQvYXJlYS1jaGFydCc7XG5pbXBvcnQgUmFuZ2VBcmVhQ2hhcnQgZnJvbSAnLi4vcmFuZ2UtYXJlYS1jaGFydC9yYW5nZS1hcmVhLWNoYXJ0JztcbmltcG9ydCBPSExDQ2hhcnQgZnJvbSAnLi4vb2hsYy1jaGFydC9vaGxjLWNoYXJ0JztcbmltcG9ydCBDYW5kbGVzdGlja0NoYXJ0IGZyb20gJy4uL2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0JztcbmltcG9ydCBCb3hQbG90Q2hhcnQgZnJvbSAnLi4vYm94LXBsb3QtY2hhcnQvYm94LXBsb3QtY2hhcnQnO1xuaW1wb3J0IFdhdGVyZmFsbENoYXJ0IGZyb20gJy4uL3dhdGVyZmFsbC1jaGFydC93YXRlcmZhbGwtY2hhcnQnO1xuXG5pbXBvcnQgeyBDYXRlZ29yeUF4aXMsIERhdGVDYXRlZ29yeUF4aXMsIE51bWVyaWNBeGlzLCBMb2dhcml0aG1pY0F4aXMsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IGFwcGVuZElmTm90TnVsbCwgY2F0ZWdvcmllc0NvdW50LCBjcmVhdGVPdXRPZlJhbmdlUG9pbnRzLCBlcXVhbHNJZ25vcmVDYXNlLCBmaWx0ZXJTZXJpZXNCeVR5cGUsXG4gICAgZ2V0RGF0ZUZpZWxkLCBnZXRGaWVsZCwgaXNEYXRlQXhpcywgc2luZ2xlSXRlbU9yQXJyYXkgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IEJBUiwgQ09MVU1OLCBCVUxMRVQsIFZFUlRJQ0FMX0JVTExFVCwgTElORSwgVkVSVElDQUxfTElORSwgQVJFQSwgVkVSVElDQUxfQVJFQSxcbiAgICBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBLCBSQU5HRV9DT0xVTU4sIFJBTkdFX0JBUiwgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCxcbiAgICBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QsIE9ITEMsIENBTkRMRVNUSUNLLCBMT0dBUklUSE1JQywgU1RFUCwgRVFVQUxMWV9TUEFDRURfU0VSSUVTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgREFURSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgaW5BcnJheSwgaXNOdW1iZXIsIGRlZXBFeHRlbmQsIGRlZmluZWQsIGV2ZW50RWxlbWVudCwgZ3JlcCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IEFSRUFfU0VSSUVTID0gWyBBUkVBLCBWRVJUSUNBTF9BUkVBLCBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBIF07XG5jb25zdCBPVVRfT0ZfUkFOR0VfU0VSSUVTID0gWyBMSU5FLCBWRVJUSUNBTF9MSU5FIF0uY29uY2F0KEFSRUFfU0VSSUVTKTtcblxuY2xhc3MgQ2F0ZWdvcmljYWxQbG90QXJlYSBleHRlbmRzIFBsb3RBcmVhQmFzZSB7XG5cbiAgICBpbml0RmllbGRzKHNlcmllcykge1xuICAgICAgICB0aGlzLm5hbWVkQ2F0ZWdvcnlBeGVzID0ge307XG4gICAgICAgIHRoaXMubmFtZWRWYWx1ZUF4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXIgPSBuZXcgQXhpc0dyb3VwUmFuZ2VUcmFja2VyKCk7XG5cbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmludmVydEF4ZXMgPSBpbkFycmF5KFxuICAgICAgICAgICAgICAgIHNlcmllc1swXS50eXBlLCBbIEJBUiwgQlVMTEVULCBWRVJUSUNBTF9MSU5FLCBWRVJUSUNBTF9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkFOR0VfQkFSLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCwgVkVSVElDQUxfQk9YX1BMT1QgXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IHNlcmllc1tpXS5zdGFjaztcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2sgJiYgc3RhY2sudHlwZSA9PT0gXCIxMDAlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFjazEwMCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmVuZGVyKHBhbmVzID0gdGhpcy5wYW5lcykge1xuICAgICAgICB0aGlzLmNyZWF0ZUNhdGVnb3J5QXhlcyhwYW5lcyk7XG4gICAgICAgIHRoaXMuYWdncmVnYXRlQ2F0ZWdvcmllcyhwYW5lcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2F0ZWdvcnlBeGVzTGFiZWxzKHBhbmVzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFydHMocGFuZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVZhbHVlQXhlcyhwYW5lcyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQXhpcyhheGlzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gYXhpcy5vcHRpb25zLm5hbWU7XG5cbiAgICAgICAgc3VwZXIucmVtb3ZlQXhpcyhheGlzKTtcblxuICAgICAgICBpZiAoYXhpcyBpbnN0YW5jZW9mIENhdGVnb3J5QXhpcykge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubmFtZWRDYXRlZ29yeUF4ZXNbYXhpc05hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXIucmVzZXQoYXhpc05hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubmFtZWRWYWx1ZUF4ZXNbYXhpc05hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF4aXMgPT09IHRoaXMuY2F0ZWdvcnlBeGlzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jYXRlZ29yeUF4aXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gdGhpcy52YWx1ZUF4aXMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlQXhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNoYXJ0cyhwYW5lcykge1xuICAgICAgICBjb25zdCBzZXJpZXNCeVBhbmUgPSB0aGlzLmdyb3VwU2VyaWVzQnlQYW5lKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFuZVNlcmllcyA9IHNlcmllc0J5UGFuZVtwYW5lLm9wdGlvbnMubmFtZSB8fCBcImRlZmF1bHRcIl0gfHwgW107XG4gICAgICAgICAgICB0aGlzLmFkZFRvTGVnZW5kKHBhbmVTZXJpZXMpO1xuXG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlU2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHBhbmVTZXJpZXMpO1xuICAgICAgICAgICAgaWYgKCF2aXNpYmxlU2VyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdyb3VwcyA9IHRoaXMuZ3JvdXBTZXJpZXNCeUNhdGVnb3J5QXhpcyh2aXNpYmxlU2VyaWVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGdyb3VwSXggPSAwOyBncm91cEl4IDwgZ3JvdXBzLmxlbmd0aDsgZ3JvdXBJeCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDaGFydEdyb3VwKGdyb3Vwc1tncm91cEl4XSwgcGFuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDaGFydEdyb3VwKHNlcmllcywgcGFuZSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUFyZWFDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgQVJFQSwgVkVSVElDQUxfQVJFQSBdKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUmFuZ2VBcmVhQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFJBTkdFX0FSRUEsIFZFUlRJQ0FMX1JBTkdFX0FSRUEgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJhckNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBDT0xVTU4sIEJBUiBdKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUmFuZ2VCYXJDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJ1bGxldENoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBCVUxMRVQsIFZFUlRJQ0FMX0JVTExFVCBdKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FuZGxlc3RpY2tDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIENBTkRMRVNUSUNLKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQm94UGxvdENoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZU9ITENDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIE9ITEMpLCBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVXYXRlcmZhbGxDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCBdKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGluZUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBMSU5FLCBWRVJUSUNBTF9MSU5FIF0pLCBwYW5lXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWdncmVnYXRlQ2F0ZWdvcmllcyhwYW5lcykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNyY1NlcmllcyB8fCB0aGlzLnNlcmllcztcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkU2VyaWVzID0gW107XG4gICAgICAgIHRoaXMuX2N1cnJlbnRQb2ludHNDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9zZXJpZXNQb2ludHNDYWNoZSA9IHRoaXMuX3Nlcmllc1BvaW50c0NhY2hlIHx8IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMuc2VyaWVzQ2F0ZWdvcnlBeGlzKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgY29uc3QgYXhpc1BhbmUgPSB0aGlzLmZpbmRQYW5lKGNhdGVnb3J5QXhpcy5vcHRpb25zLnBhbmUpO1xuICAgICAgICAgICAgY29uc3QgZGF0ZUF4aXMgPSBlcXVhbHNJZ25vcmVDYXNlKGNhdGVnb3J5QXhpcy5vcHRpb25zLnR5cGUsIERBVEUpO1xuXG4gICAgICAgICAgICBpZiAoKGRhdGVBeGlzIHx8IGN1cnJlbnRTZXJpZXMuY2F0ZWdvcnlGaWVsZCkgJiYgaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFNlcmllcyA9IHRoaXMuYWdncmVnYXRlU2VyaWVzKGN1cnJlbnRTZXJpZXMsIGNhdGVnb3J5QXhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXJpZXMgPSB0aGlzLmZpbHRlclNlcmllcyhjdXJyZW50U2VyaWVzLCBjYXRlZ29yeUF4aXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9jZXNzZWRTZXJpZXMucHVzaChjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Nlcmllc1BvaW50c0NhY2hlID0gdGhpcy5fY3VycmVudFBvaW50c0NhY2hlO1xuICAgICAgICB0aGlzLl9jdXJyZW50UG9pbnRzQ2FjaGUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc3JjU2VyaWVzID0gc2VyaWVzO1xuICAgICAgICB0aGlzLnNlcmllcyA9IHByb2Nlc3NlZFNlcmllcztcbiAgICB9XG5cbiAgICBmaWx0ZXJTZXJpZXMoc2VyaWVzLCBjYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgY29uc3QgZGF0YUxlbmd0aCA9IChzZXJpZXMuZGF0YSB8fCB7fSkubGVuZ3RoO1xuICAgICAgICBjYXRlZ29yeUF4aXMuX3Nlcmllc01heCA9IE1hdGgubWF4KGNhdGVnb3J5QXhpcy5fc2VyaWVzTWF4IHx8IDAsIGRhdGFMZW5ndGgpO1xuXG4gICAgICAgIGlmICghKGlzTnVtYmVyKGNhdGVnb3J5QXhpcy5vcHRpb25zLm1pbikgfHwgaXNOdW1iZXIoY2F0ZWdvcnlBeGlzLm9wdGlvbnMubWF4KSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXJpZXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYW5nZSA9IGNhdGVnb3J5QXhpcy5jdXJyZW50UmFuZ2VJbmRpY2VzKCk7XG4gICAgICAgIGNvbnN0IG91dE9mUmFuZ2VQb2ludHMgPSBpbkFycmF5KHNlcmllcy50eXBlLCBPVVRfT0ZfUkFOR0VfU0VSSUVTKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IGRlZXBFeHRlbmQoe30sIHNlcmllcyk7XG5cbiAgICAgICAgY3VycmVudFNlcmllcy5kYXRhID0gKGN1cnJlbnRTZXJpZXMuZGF0YSB8fCBbXSkuc2xpY2UocmFuZ2UubWluLCByYW5nZS5tYXggKyAxKTtcblxuICAgICAgICBpZiAob3V0T2ZSYW5nZVBvaW50cykge1xuICAgICAgICAgICAgY3JlYXRlT3V0T2ZSYW5nZVBvaW50cyhjdXJyZW50U2VyaWVzLCByYW5nZSwgZGF0YUxlbmd0aCwgKGlkeCkgPT4gKHtcbiAgICAgICAgICAgICAgICBpdGVtOiBzZXJpZXMuZGF0YVtpZHhdLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUF4aXMuY2F0ZWdvcnlBdChpZHgsIHRydWUpLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5SXg6IGlkeCAtIHJhbmdlLm1pblxuICAgICAgICAgICAgfSksIChpZHgpID0+IGRlZmluZWQoc2VyaWVzLmRhdGFbaWR4XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRTZXJpZXM7XG4gICAgfVxuXG4gICAgY2xlYXJTZXJpZXNQb2ludHNDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5fc2VyaWVzUG9pbnRzQ2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICBzZXJpZXNTb3VyY2VQb2ludHMoc2VyaWVzLCBjYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7IHNlcmllcy5pbmRleCB9OyR7IGNhdGVnb3J5QXhpcy5jYXRlZ29yaWVzSGFzaCgpIH1gO1xuICAgICAgICBpZiAodGhpcy5fc2VyaWVzUG9pbnRzQ2FjaGVba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBvaW50c0NhY2hlW2tleV0gPSB0aGlzLl9zZXJpZXNQb2ludHNDYWNoZVtrZXldO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Nlcmllc1BvaW50c0NhY2hlW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBheGlzT3B0aW9ucyA9IGNhdGVnb3J5QXhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzcmNDYXRlZ29yaWVzID0gYXhpc09wdGlvbnMuc3JjQ2F0ZWdvcmllcztcbiAgICAgICAgY29uc3QgZGF0ZUF4aXMgPSBlcXVhbHNJZ25vcmVDYXNlKGF4aXNPcHRpb25zLnR5cGUsIERBVEUpO1xuICAgICAgICBjb25zdCBzcmNEYXRhID0gc2VyaWVzLmRhdGE7XG4gICAgICAgIGNvbnN0IGdldEZuID0gZGF0ZUF4aXMgPyBnZXREYXRlRmllbGQgOiBnZXRGaWVsZDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICghZGF0ZUF4aXMpIHtcbiAgICAgICAgICAgIGNhdGVnb3J5QXhpcy5tYXBDYXRlZ29yaWVzKCk7Ly9maXhlcyBtYWpvciBwZXJmb3JtYW5jZSBpc3N1ZSBjYXVzZWQgYnkgc2VhcmNoaW5nIGZvciB0aGUgaW5kZXggZm9yIGxhcmdlIGRhdGFcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNyY0RhdGEubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGNhdGVnb3J5O1xuICAgICAgICAgICAgaWYgKHNlcmllcy5jYXRlZ29yeUZpZWxkKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBnZXRGbihzZXJpZXMuY2F0ZWdvcnlGaWVsZCwgc3JjRGF0YVtpZHhdLCB0aGlzLmNoYXJ0U2VydmljZS5pbnRsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBzcmNDYXRlZ29yaWVzW2lkeF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGNhdGVnb3J5KSAmJiBjYXRlZ29yeSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SXggPSBjYXRlZ29yeUF4aXMudG90YWxJbmRleChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2NhdGVnb3J5SXhdID0gcmVzdWx0W2NhdGVnb3J5SXhdIHx8IHsgaXRlbXM6IFtdLCBjYXRlZ29yeTogY2F0ZWdvcnkgfTtcbiAgICAgICAgICAgICAgICByZXN1bHRbY2F0ZWdvcnlJeF0uaXRlbXMucHVzaChpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFBvaW50c0NhY2hlW2tleV0gPSByZXN1bHQ7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBhZ2dyZWdhdGVTZXJpZXMoc2VyaWVzLCBjYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgY29uc3Qgc3JjRGF0YSA9IHNlcmllcy5kYXRhO1xuICAgICAgICBpZiAoIXNyY0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VyaWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3JjUG9pbnRzID0gdGhpcy5zZXJpZXNTb3VyY2VQb2ludHMoc2VyaWVzLCBjYXRlZ29yeUF4aXMpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWVwRXh0ZW5kKHt9LCBzZXJpZXMpO1xuICAgICAgICBjb25zdCBhZ2dyZWdhdG9yID0gbmV3IFNlcmllc0FnZ3JlZ2F0b3IoZGVlcEV4dGVuZCh7fSwgc2VyaWVzKSwgU2VyaWVzQmluZGVyLmN1cnJlbnQsIERlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQpO1xuICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0LmRhdGEgPSBbXTtcbiAgICAgICAgY29uc3QgZGF0YUl0ZW1zID0gY2F0ZWdvcnlBeGlzLm9wdGlvbnMuZGF0YUl0ZW1zIHx8IFtdO1xuXG4gICAgICAgIGNvbnN0IHJhbmdlID0gY2F0ZWdvcnlBeGlzLmN1cnJlbnRSYW5nZUluZGljZXMoKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlJdGVtID0gKGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlJZHggPSBpZHggLSByYW5nZS5taW47XG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBzcmNQb2ludHNbaWR4XTtcbiAgICAgICAgICAgIGlmICghcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBwb2ludCA9IHNyY1BvaW50c1tpZHhdID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5SXggPSBjYXRlZ29yeUlkeDtcblxuICAgICAgICAgICAgaWYgKCFwb2ludC5pdGVtKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yeUF4aXMuY2F0ZWdvcnlBdChpZHgsIHRydWUpO1xuICAgICAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgICAgICAgICAgICAgcG9pbnQuaXRlbSA9IGFnZ3JlZ2F0b3IuYWdncmVnYXRlUG9pbnRzKHBvaW50Lml0ZW1zLCBjYXRlZ29yeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSByYW5nZS5taW47IGlkeCA8PSByYW5nZS5tYXg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGNhdGVnb3J5SXRlbShpZHgpO1xuICAgICAgICAgICAgZGF0YVtwb2ludC5jYXRlZ29yeUl4XSA9IHBvaW50Lml0ZW07XG5cbiAgICAgICAgICAgIGlmIChwb2ludC5pdGVtcyAmJiBwb2ludC5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkYXRhSXRlbXNbcG9pbnQuY2F0ZWdvcnlJeF0gPSBwb2ludC5pdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluQXJyYXkocmVzdWx0LnR5cGUsIE9VVF9PRl9SQU5HRV9TRVJJRVMpKSB7XG4gICAgICAgICAgICBjcmVhdGVPdXRPZlJhbmdlUG9pbnRzKHJlc3VsdCwgcmFuZ2UsIGNhdGVnb3J5QXhpcy50b3RhbENvdW50KCksIGNhdGVnb3J5SXRlbSwgKGlkeCkgPT4gc3JjUG9pbnRzW2lkeF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY2F0ZWdvcnlBeGlzLm9wdGlvbnMuZGF0YUl0ZW1zID0gZGF0YUl0ZW1zO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gY2hhcnQub3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMuc2VyaWVzQ2F0ZWdvcnlBeGlzKHNlcmllc1swXSk7XG4gICAgICAgIGxldCBjYXRlZ29yaWVzID0gY2F0ZWdvcnlBeGlzLm9wdGlvbnMuY2F0ZWdvcmllcztcbiAgICAgICAgbGV0IGNhdGVnb3JpZXNUb0FkZCA9IE1hdGgubWF4KDAsIGNhdGVnb3JpZXNDb3VudChzZXJpZXMpIC0gY2F0ZWdvcmllcy5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChjYXRlZ29yaWVzVG9BZGQgPiAwKSB7Ly9jb25zaWRlciBzZXR0aW5nIGFuIG9wdGlvbiB0byBheGlzIGluc3RlYWQgb2YgYWRkaW5nIGZha2UgY2F0ZWdvcmllc1xuICAgICAgICAgICAgY2F0ZWdvcmllcyA9IGNhdGVnb3J5QXhpcy5vcHRpb25zLmNhdGVnb3JpZXMgPSBjYXRlZ29yeUF4aXMub3B0aW9ucy5jYXRlZ29yaWVzLnNsaWNlKDApO1xuICAgICAgICAgICAgd2hpbGUgKGNhdGVnb3JpZXNUb0FkZC0tKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXIudXBkYXRlKGNoYXJ0LnZhbHVlQXhpc1Jhbmdlcyk7XG5cbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJlZmFjdG9yLCBvcHRpb25hbGx5IHVzZSBzZXJpZXMucGFuZSBvcHRpb25cbiAgICBzZXJpZXNQYW5lTmFtZShzZXJpZXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBzZXJpZXMuYXhpcztcbiAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy52YWx1ZUF4aXMpO1xuICAgICAgICBjb25zdCBheGlzID0gZ3JlcChheGlzT3B0aW9ucywgZnVuY3Rpb24oYSkgeyByZXR1cm4gYS5uYW1lID09PSBheGlzTmFtZTsgfSlbMF07XG4gICAgICAgIGNvbnN0IHBhbmVzID0gb3B0aW9ucy5wYW5lcyB8fCBbIHt9IF07XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYW5lTmFtZSA9IChwYW5lc1swXSB8fCB7fSkubmFtZSB8fCBcImRlZmF1bHRcIjtcbiAgICAgICAgY29uc3QgcGFuZU5hbWUgPSAoYXhpcyB8fCB7fSkucGFuZSB8fCBkZWZhdWx0UGFuZU5hbWU7XG5cbiAgICAgICAgcmV0dXJuIHBhbmVOYW1lO1xuICAgIH1cblxuICAgIHNlcmllc0NhdGVnb3J5QXhpcyhzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBzZXJpZXMuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBjb25zdCBheGlzID0gYXhpc05hbWUgPyB0aGlzLm5hbWVkQ2F0ZWdvcnlBeGVzW2F4aXNOYW1lXSA6IHRoaXMuY2F0ZWdvcnlBeGlzO1xuXG4gICAgICAgIGlmICghYXhpcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvY2F0ZSBjYXRlZ29yeSBheGlzIHdpdGggbmFtZSBcIiArIGF4aXNOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBheGlzO1xuICAgIH1cblxuICAgIHN0YWNrYWJsZUNoYXJ0T3B0aW9ucyhmaXJzdFNlcmllcywgcGFuZSkge1xuICAgICAgICBjb25zdCBzdGFjayA9IGZpcnN0U2VyaWVzLnN0YWNrO1xuICAgICAgICBjb25zdCBpc1N0YWNrZWQxMDAgPSBzdGFjayAmJiBzdGFjay50eXBlID09PSBcIjEwMCVcIjtcbiAgICAgICAgY29uc3QgY2xpcCA9IHBhbmUub3B0aW9ucy5jbGlwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1N0YWNrZWQ6IHN0YWNrLFxuICAgICAgICAgICAgaXNTdGFja2VkMTAwOiBpc1N0YWNrZWQxMDAsXG4gICAgICAgICAgICBjbGlwOiBjbGlwXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ3JvdXBTZXJpZXNCeUNhdGVnb3J5QXhpcyhzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlBeGVzID0gW107XG4gICAgICAgIGNvbnN0IHVuaXF1ZSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzZXJpZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHNlcmllc1tpZHhdLmNhdGVnb3J5QXhpcyB8fCBcIiQkZGVmYXVsdCQkXCI7XG4gICAgICAgICAgICBpZiAoIXVuaXF1ZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgIHVuaXF1ZVtuYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGVzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBncm91cHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYXhpc0l4ID0gMDsgYXhpc0l4IDwgY2F0ZWdvcnlBeGVzLmxlbmd0aDsgYXhpc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBjYXRlZ29yeUF4ZXNbYXhpc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNTZXJpZXMgPSBncm91cFNlcmllcyhzZXJpZXMsIGF4aXMsIGF4aXNJeCk7XG4gICAgICAgICAgICBpZiAoYXhpc1Nlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JvdXBzLnB1c2goYXhpc1Nlcmllcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JvdXBzO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhckNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IGJhckNoYXJ0ID0gbmV3IEJhckNoYXJ0KHRoaXMsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNwYWNpbmc6IGZpcnN0U2VyaWVzLnNwYWNpbmdcbiAgICAgICAgfSwgdGhpcy5zdGFja2FibGVDaGFydE9wdGlvbnMoZmlyc3RTZXJpZXMsIHBhbmUpKSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChiYXJDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlUmFuZ2VCYXJDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCByYW5nZUNvbHVtbkNoYXJ0ID0gbmV3IFJhbmdlQmFyQ2hhcnQodGhpcywge1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNwYWNpbmc6IGZpcnN0U2VyaWVzLnNwYWNpbmdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChyYW5nZUNvbHVtbkNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVCdWxsZXRDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBidWxsZXRDaGFydCA9IG5ldyBCdWxsZXRDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIGdhcDogZmlyc3RTZXJpZXMuZ2FwLFxuICAgICAgICAgICAgc3BhY2luZzogZmlyc3RTZXJpZXMuc3BhY2luZyxcbiAgICAgICAgICAgIGNsaXA6IHBhbmUub3B0aW9ucy5jbGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoYnVsbGV0Q2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmVDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBsaW5lQ2hhcnQgPSBuZXcgTGluZUNoYXJ0KHRoaXMsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXNcbiAgICAgICAgfSwgdGhpcy5zdGFja2FibGVDaGFydE9wdGlvbnMoZmlyc3RTZXJpZXMsIHBhbmUpKSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChsaW5lQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFyZWFDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBhcmVhQ2hhcnQgPSBuZXcgQXJlYUNoYXJ0KHRoaXMsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXNcbiAgICAgICAgfSwgdGhpcy5zdGFja2FibGVDaGFydE9wdGlvbnMoZmlyc3RTZXJpZXMsIHBhbmUpKSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChhcmVhQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZVJhbmdlQXJlYUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmFuZ2VBcmVhQ2hhcnQgPSBuZXcgUmFuZ2VBcmVhQ2hhcnQodGhpcywge1xuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBjbGlwOiBwYW5lLm9wdGlvbnMuY2xpcFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KHJhbmdlQXJlYUNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVPSExDQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgY2hhcnQgPSBuZXcgT0hMQ0NoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIGdhcDogZmlyc3RTZXJpZXMuZ2FwLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBzcGFjaW5nOiBmaXJzdFNlcmllcy5zcGFjaW5nLFxuICAgICAgICAgICAgY2xpcDogcGFuZS5vcHRpb25zLmNsaXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChjaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2FuZGxlc3RpY2tDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBjaGFydCA9IG5ldyBDYW5kbGVzdGlja0NoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIGdhcDogZmlyc3RTZXJpZXMuZ2FwLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBzcGFjaW5nOiBmaXJzdFNlcmllcy5zcGFjaW5nLFxuICAgICAgICAgICAgY2xpcDogcGFuZS5vcHRpb25zLmNsaXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChjaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQm94UGxvdENoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IEJveFBsb3RDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgc3BhY2luZzogZmlyc3RTZXJpZXMuc3BhY2luZyxcbiAgICAgICAgICAgIGNsaXA6IHBhbmUub3B0aW9ucy5jbGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZVdhdGVyZmFsbENoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IHdhdGVyZmFsbENoYXJ0ID0gbmV3IFdhdGVyZmFsbENoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgZ2FwOiBmaXJzdFNlcmllcy5nYXAsXG4gICAgICAgICAgICBzcGFjaW5nOiBmaXJzdFNlcmllcy5zcGFjaW5nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQod2F0ZXJmYWxsQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGF4aXNSZXF1aXJlc1JvdW5kaW5nKGNhdGVnb3J5QXhpc05hbWUsIGNhdGVnb3J5QXhpc0luZGV4KSB7XG4gICAgICAgIGNvbnN0IGNlbnRlcmVkU2VyaWVzID0gZmlsdGVyU2VyaWVzQnlUeXBlKHRoaXMuc2VyaWVzLCBFUVVBTExZX1NQQUNFRF9TRVJJRVMpO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCB0aGlzLnNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSB0aGlzLnNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBpZiAoaW5BcnJheShjdXJyZW50U2VyaWVzLnR5cGUsIEFSRUFfU0VSSUVTKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBjdXJyZW50U2VyaWVzLmxpbmU7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmUgJiYgbGluZS5zdHlsZSA9PT0gU1RFUCkge1xuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNlcmllcy5wdXNoKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBjZW50ZXJlZFNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc0F4aXMgPSBjZW50ZXJlZFNlcmllc1tzZXJpZXNJeF0uY2F0ZWdvcnlBeGlzIHx8IFwiXCI7XG4gICAgICAgICAgICBpZiAoc2VyaWVzQXhpcyA9PT0gY2F0ZWdvcnlBeGlzTmFtZSB8fCAoIXNlcmllc0F4aXMgJiYgY2F0ZWdvcnlBeGlzSW5kZXggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZ2dyZWdhdGVkQXhpcyhjYXRlZ29yeUF4aXNOYW1lLCBjYXRlZ29yeUF4aXNJbmRleCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzLmxlbmd0aDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzQXhpcyA9IHNlcmllc1tzZXJpZXNJeF0uY2F0ZWdvcnlBeGlzIHx8IFwiXCI7XG4gICAgICAgICAgICBpZiAoKHNlcmllc0F4aXMgPT09IGNhdGVnb3J5QXhpc05hbWUgfHwgKCFzZXJpZXNBeGlzICYmIGNhdGVnb3J5QXhpc0luZGV4ID09PSAwKSkgJiYgc2VyaWVzW3Nlcmllc0l4XS5jYXRlZ29yeUZpZWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDYXRlZ29yeUF4ZXNMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmF4ZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGF4ZXNbaV0gaW5zdGFuY2VvZiBDYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgICAgICAgICBheGVzW2ldLmNyZWF0ZUxhYmVscygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQ2F0ZWdvcnlBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IGludmVydEF4ZXMgPSB0aGlzLmludmVydEF4ZXM7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb25zID0gW10uY29uY2F0KHRoaXMub3B0aW9ucy5jYXRlZ29yeUF4aXMpO1xuICAgICAgICBjb25zdCBheGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGF4aXNPcHRpb25zID0gZGVmaW5pdGlvbnNbaV07XG4gICAgICAgICAgICBjb25zdCBheGlzUGFuZSA9IHRoaXMuZmluZFBhbmUoYXhpc09wdGlvbnMucGFuZSk7XG5cbiAgICAgICAgICAgIGlmIChpbkFycmF5KGF4aXNQYW5lLCBwYW5lcykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGNhdGVnb3JpZXMgPSBbXSB9ID0gYXhpc09wdGlvbnM7XG4gICAgICAgICAgICAgICAgYXhpc09wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6IGludmVydEF4ZXMsXG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2U6ICFpbnZlcnRBeGVzICYmIHRoaXMuY2hhcnRTZXJ2aWNlLnJ0bCxcbiAgICAgICAgICAgICAgICAgICAgYXhpc0Nyb3NzaW5nVmFsdWU6IGludmVydEF4ZXMgPyBNQVhfVkFMVUUgOiAwXG4gICAgICAgICAgICAgICAgfSwgYXhpc09wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFkZWZpbmVkKGF4aXNPcHRpb25zLmp1c3RpZmllZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc09wdGlvbnMuanVzdGlmaWVkID0gdGhpcy5pc0p1c3RpZmllZCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF4aXNSZXF1aXJlc1JvdW5kaW5nKG5hbWUsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXNPcHRpb25zLmp1c3RpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yeUF4aXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEYXRlQXhpcyhheGlzT3B0aW9ucywgY2F0ZWdvcmllc1swXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzID0gbmV3IERhdGVDYXRlZ29yeUF4aXMoYXhpc09wdGlvbnMsIHRoaXMuY2hhcnRTZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUF4aXMgPSBuZXcgQ2F0ZWdvcnlBeGlzKGF4aXNPcHRpb25zLCB0aGlzLmNoYXJ0U2VydmljZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnNbaV0uY2F0ZWdvcmllcyA9IGNhdGVnb3J5QXhpcy5vcHRpb25zLnNyY0NhdGVnb3JpZXM7XG5cbiAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uYW1lZENhdGVnb3J5QXhlc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYXRlZ29yeSBheGlzIHdpdGggbmFtZSAkeyBuYW1lIH0gaXMgYWxyZWFkeSBkZWZpbmVkYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lZENhdGVnb3J5QXhlc1tuYW1lXSA9IGNhdGVnb3J5QXhpcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXRlZ29yeUF4aXMuYXhpc0luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBheGVzLnB1c2goY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEF4aXMoY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByaW1hcnlBeGlzID0gdGhpcy5jYXRlZ29yeUF4aXMgfHwgYXhlc1swXTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeUF4aXMgPSBwcmltYXJ5QXhpcztcblxuICAgICAgICBpZiAoaW52ZXJ0QXhlcykge1xuICAgICAgICAgICAgdGhpcy5heGlzWSA9IHByaW1hcnlBeGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5heGlzWCA9IHByaW1hcnlBeGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNKdXN0aWZpZWQoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuc2VyaWVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW2ldO1xuICAgICAgICAgICAgaWYgKCFpbkFycmF5KGN1cnJlbnRTZXJpZXMudHlwZSwgQVJFQV9TRVJJRVMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY3JlYXRlVmFsdWVBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrZXIgPSB0aGlzLnZhbHVlQXhpc1JhbmdlVHJhY2tlcjtcbiAgICAgICAgY29uc3QgZGVmYXVsdFJhbmdlID0gdHJhY2tlci5xdWVyeSgpO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IFtdLmNvbmNhdCh0aGlzLm9wdGlvbnMudmFsdWVBeGlzKTtcbiAgICAgICAgY29uc3QgaW52ZXJ0QXhlcyA9IHRoaXMuaW52ZXJ0QXhlcztcbiAgICAgICAgY29uc3QgYmFzZU9wdGlvbnMgPSB7IHZlcnRpY2FsOiAhaW52ZXJ0QXhlcywgcmV2ZXJzZTogaW52ZXJ0QXhlcyAmJiB0aGlzLmNoYXJ0U2VydmljZS5ydGwgfTtcbiAgICAgICAgY29uc3QgYXhlcyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLnN0YWNrMTAwKSB7XG4gICAgICAgICAgICBiYXNlT3B0aW9ucy5yb3VuZFRvTWFqb3JVbml0ID0gZmFsc2U7XG4gICAgICAgICAgICBiYXNlT3B0aW9ucy5sYWJlbHMgPSB7IGZvcm1hdDogXCJQMFwiIH07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmluaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzT3B0aW9ucyA9IGRlZmluaXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgYXhpc1BhbmUgPSB0aGlzLmZpbmRQYW5lKGF4aXNPcHRpb25zLnBhbmUpO1xuXG4gICAgICAgICAgICBpZiAoaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGF4aXNPcHRpb25zLm5hbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEF4aXNSYW5nZSA9IGVxdWFsc0lnbm9yZUNhc2UoYXhpc09wdGlvbnMudHlwZSwgTE9HQVJJVEhNSUMpID8geyBtaW46IDAuMSwgbWF4OiAxIH0gOiB7IG1pbjogMCwgbWF4OiAxIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0cmFja2VyLnF1ZXJ5KG5hbWUpIHx8IGRlZmF1bHRSYW5nZSB8fCBkZWZhdWx0QXhpc1JhbmdlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDAgJiYgcmFuZ2UgJiYgZGVmYXVsdFJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLm1pbiA9IE1hdGgubWluKHJhbmdlLm1pbiwgZGVmYXVsdFJhbmdlLm1pbik7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgZGVmYXVsdFJhbmdlLm1heCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGF4aXNUeXBlO1xuICAgICAgICAgICAgICAgIGlmIChlcXVhbHNJZ25vcmVDYXNlKGF4aXNPcHRpb25zLnR5cGUsIExPR0FSSVRITUlDKSkge1xuICAgICAgICAgICAgICAgICAgICBheGlzVHlwZSA9IExvZ2FyaXRobWljQXhpcztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBheGlzVHlwZSA9IE51bWVyaWNBeGlzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IG5ldyBheGlzVHlwZShyYW5nZS5taW4sIHJhbmdlLm1heCxcbiAgICAgICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7fSwgYmFzZU9wdGlvbnMsIGF4aXNPcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFydFNlcnZpY2VcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmFtZWRWYWx1ZUF4ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgYXhpcyB3aXRoIG5hbWUgJHsgbmFtZSB9IGlzIGFscmVhZHkgZGVmaW5lZGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZWRWYWx1ZUF4ZXNbbmFtZV0gPSB2YWx1ZUF4aXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlQXhpcy5heGlzSW5kZXggPSBpO1xuXG4gICAgICAgICAgICAgICAgYXhlcy5wdXNoKHZhbHVlQXhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRBeGlzKHZhbHVlQXhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcmltYXJ5QXhpcyA9IHRoaXMudmFsdWVBeGlzIHx8IGF4ZXNbMF07XG4gICAgICAgIHRoaXMudmFsdWVBeGlzID0gcHJpbWFyeUF4aXM7XG5cbiAgICAgICAgaWYgKGludmVydEF4ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuYXhpc1ggPSBwcmltYXJ5QXhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXhpc1kgPSBwcmltYXJ5QXhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kaXNwYXRjaEV2ZW50KGNoYXJ0LCBlLCBldmVudFR5cGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gY2hhcnQuX2V2ZW50Q29vcmRpbmF0ZXMoZSk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KGNvb3Jkcy54LCBjb29yZHMueSk7XG4gICAgICAgIGNvbnN0IHBhbmUgPSB0aGlzLnBvaW50UGFuZShwb2ludCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG5cbiAgICAgICAgaWYgKCFwYW5lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbGxBeGVzID0gcGFuZS5heGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBhbGxBeGVzW2ldO1xuICAgICAgICAgICAgaWYgKGF4aXMuZ2V0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRJZk5vdE51bGwodmFsdWVzLCBheGlzLmdldFZhbHVlKHBvaW50KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGVuZElmTm90TnVsbChjYXRlZ29yaWVzLCBheGlzLmdldENhdGVnb3J5KHBvaW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFwcGVuZElmTm90TnVsbChjYXRlZ29yaWVzLCB0aGlzLmNhdGVnb3J5QXhpcy5nZXRDYXRlZ29yeShwb2ludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhdGVnb3JpZXMubGVuZ3RoID4gMCAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY2hhcnQudHJpZ2dlcihldmVudFR5cGUsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogc2luZ2xlSXRlbU9yQXJyYXkoY2F0ZWdvcmllcyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHNpbmdsZUl0ZW1PckFycmF5KHZhbHVlcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9pbnRQYW5lKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHBhbmVzID0gdGhpcy5wYW5lcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYW5lLmNvbnRlbnRCb3guY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFBhbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVBeGlzT3B0aW9ucyhheGlzLCBvcHRpb25zKSB7XG4gICAgICAgIHVwZGF0ZUF4aXNPcHRpb25zKHRoaXMub3B0aW9ucywgYXhpcywgb3B0aW9ucyk7XG4gICAgICAgIHVwZGF0ZUF4aXNPcHRpb25zKHRoaXMub3JpZ2luYWxPcHRpb25zLCBheGlzLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUF4aXNPcHRpb25zKHRhcmdldE9wdGlvbnMsIGF4aXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBheGVzT3B0aW9ucyA9IGF4aXMgaW5zdGFuY2VvZiBDYXRlZ29yeUF4aXMgPyBbXS5jb25jYXQodGFyZ2V0T3B0aW9ucy5jYXRlZ29yeUF4aXMpIDogW10uY29uY2F0KHRhcmdldE9wdGlvbnMudmFsdWVBeGlzKTtcbiAgICBkZWVwRXh0ZW5kKGF4ZXNPcHRpb25zW2F4aXMuYXhpc0luZGV4XSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGdyb3VwU2VyaWVzKHNlcmllcywgYXhpcywgYXhpc0l4KSB7XG4gICAgcmV0dXJuIGdyZXAoc2VyaWVzLCBmdW5jdGlvbihzKSB7XG4gICAgICAgIHJldHVybiAoYXhpc0l4ID09PSAwICYmICFzLmNhdGVnb3J5QXhpcykgfHwgKHMuY2F0ZWdvcnlBeGlzID09PSBheGlzKTtcbiAgICB9KTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2F0ZWdvcmljYWxQbG90QXJlYSwge1xuICAgIGNhdGVnb3J5QXhpczoge30sXG4gICAgdmFsdWVBeGlzOiB7fVxufSk7XG5cbmRlZXBFeHRlbmQoQ2F0ZWdvcmljYWxQbG90QXJlYS5wcm90b3R5cGUsIFBsb3RBcmVhRXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yaWNhbFBsb3RBcmVhOyIsImltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgSGlnaGxpZ2h0IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgIH1cblxuICAgIHNob3cocG9pbnRzLCBvcGFjaXR5KSB7XG4gICAgICAgIGNvbnN0IGFycmF5UG9pbnRzID0gW10uY29uY2F0KHBvaW50cyk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gYXJyYXlQb2ludHNbaV07XG4gICAgICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudG9nZ2xlSGlnaGxpZ2h0ICYmIHBvaW50Lmhhc0hpZ2hsaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVQb2ludEhpZ2hsaWdodChwb2ludCwgdHJ1ZSwgb3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlUG9pbnRIaWdobGlnaHQocG9pbnQsIHNob3csIG9wYWNpdHkpIHtcbiAgICAgICAgY29uc3QgdG9nZ2xlSGFuZGxlciA9IChwb2ludC5vcHRpb25zLmhpZ2hsaWdodCB8fCB7fSkudG9nZ2xlO1xuICAgICAgICBpZiAodG9nZ2xlSGFuZGxlcikge1xuICAgICAgICAgICAgY29uc3QgZXZlbnRBcmdzID0ge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBwb2ludC5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHBvaW50LnNlcmllcyxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogcG9pbnQuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBvaW50LnZhbHVlLFxuICAgICAgICAgICAgICAgIHN0YWNrVmFsdWU6IHBvaW50LnN0YWNrVmFsdWUsXG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IHByZXZlbnREZWZhdWx0LFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcG9pbnQuaGlnaGxpZ2h0VmlzdWFsKCksXG4gICAgICAgICAgICAgICAgc2hvdzogc2hvd1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRvZ2dsZUhhbmRsZXIoZXZlbnRBcmdzKTtcbiAgICAgICAgICAgIGlmICghZXZlbnRBcmdzLl9kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQudG9nZ2xlSGlnaGxpZ2h0KHNob3csIG9wYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnQudG9nZ2xlSGlnaGxpZ2h0KHNob3csIG9wYWNpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fcG9pbnRzO1xuICAgICAgICB3aGlsZSAocG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb2ludEhpZ2hsaWdodChwb2ludHMucG9wKCksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzSGlnaGxpZ2h0ZWQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9wb2ludHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IHBvaW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSGlnaGxpZ2h0OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFjY2VwdEtleShlLCBtb3VzZUtleSkge1xuICAgIGNvbnN0IGtleSA9IChtb3VzZUtleSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGV2ZW50ID0gZS5ldmVudDtcbiAgICBjb25zdCBhY2NlcHQgPSAoa2V5ID09PSBcIm5vbmVcIiAmJiAhKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5KSkgfHwgZXZlbnRba2V5ICsgXCJLZXlcIl07XG5cbiAgICByZXR1cm4gYWNjZXB0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvQ2hhcnRBeGlzUmFuZ2VzKGF4aXNSYW5nZXMpIHtcbiAgICBjb25zdCByYW5nZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGlzUmFuZ2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgYXhpc1JhbmdlID0gYXhpc1Jhbmdlc1tpZHhdO1xuICAgICAgICBpZiAoYXhpc1JhbmdlLmF4aXMub3B0aW9ucy5uYW1lKSB7XG4gICAgICAgICAgICByYW5nZXNbYXhpc1JhbmdlLmF4aXMub3B0aW9ucy5uYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBtaW46IGF4aXNSYW5nZS5yYW5nZS5taW4sXG4gICAgICAgICAgICAgICAgbWF4OiBheGlzUmFuZ2UucmFuZ2UubWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW5nZXM7XG59IiwiaW1wb3J0IGFjY2VwdEtleSBmcm9tICcuL2FjY2VwdC1rZXknO1xuaW1wb3J0IHRvQ2hhcnRBeGlzUmFuZ2VzIGZyb20gJy4vdG8tY2hhcnQtYXhpcy1yYW5nZXMnO1xuXG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBhbm5hYmxlIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXJ0KGUpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gYWNjZXB0S2V5KGUsIHRoaXMub3B0aW9ucy5rZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIG1vdmUoZSkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzUmFuZ2VzID0gdGhpcy5heGlzUmFuZ2VzID0gdGhpcy5fcGFuQXhlcyhlLCBYKS5jb25jYXQodGhpcy5fcGFuQXhlcyhlLCBZKSk7XG4gICAgICAgICAgICBpZiAoYXhpc1Jhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF4aXNSYW5nZXMgPSBheGlzUmFuZ2VzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b0NoYXJ0QXhpc1JhbmdlcyhheGlzUmFuZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZCgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gdGhpcy5fYWN0aXZlO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gYWN0aXZlO1xuICAgIH1cblxuICAgIHBhbigpIHtcbiAgICAgICAgY29uc3QgeyBwbG90QXJlYSwgYXhpc1JhbmdlcyB9ID0gdGhpcztcbiAgICAgICAgaWYgKGF4aXNSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGlzUmFuZ2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGF4aXNSYW5nZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBwbG90QXJlYS51cGRhdGVBeGlzT3B0aW9ucyhyYW5nZS5heGlzLCByYW5nZS5yYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbG90QXJlYS5yZWRyYXcocGxvdEFyZWEucGFuZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucGxvdEFyZWE7XG4gICAgfVxuXG4gICAgX3BhbkF4ZXMoZSwgcG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuICAgICAgICBjb25zdCBkZWx0YSA9IC1lW3Bvc2l0aW9uXS5kZWx0YTtcbiAgICAgICAgY29uc3QgbG9jayA9ICh0aGlzLm9wdGlvbnMubG9jayB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCB1cGRhdGVkQXhlcyA9IFtdO1xuXG4gICAgICAgIGlmIChkZWx0YSAhPT0gMCAmJiAobG9jayB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpICE9PSBwb3NpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgYXhlcyA9IHBsb3RBcmVhLmF4ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpZHhdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBYICYmICFheGlzLm9wdGlvbnMudmVydGljYWwgfHwgcG9zaXRpb24gPT09IFkgJiYgYXhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy5wYW4oZGVsdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UubGltaXRSYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlZEF4ZXM7XG4gICAgfVxufVxuXG5QYW5uYWJsZS5wcm90b3R5cGUub3B0aW9ucyA9IHtcbiAgICBrZXk6IFwibm9uZVwiLFxuICAgIGxvY2s6IFwibm9uZVwiXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYW5uYWJsZTsiLCJpbXBvcnQgYWNjZXB0S2V5IGZyb20gJy4vYWNjZXB0LWtleSc7XG5pbXBvcnQgdG9DaGFydEF4aXNSYW5nZXMgZnJvbSAnLi90by1jaGFydC1heGlzLXJhbmdlcyc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzLCBkZWVwRXh0ZW5kLCBlbGVtZW50U3R5bGVzLCBlbGVtZW50T2Zmc2V0LCBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgWm9vbVNlbGVjdGlvbiBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jcmVhdGVFbGVtZW50KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgbWFycXVlZSA9IHRoaXMuX21hcnF1ZWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtYXJxdWVlLmNsYXNzTmFtZSA9IFwiay1tYXJxdWVlXCI7XG4gICAgICAgIGNvbnN0IG1hcnF1ZWVDb2xvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1hcnF1ZWVDb2xvci5jbGFzc05hbWUgPSBcImstbWFycXVlZS1jb2xvclwiO1xuICAgICAgICBtYXJxdWVlLmFwcGVuZENoaWxkKG1hcnF1ZWVDb2xvcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcnF1ZWUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fbWFycXVlZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX21hcnF1ZWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3R5bGVzKHN0eWxlcykge1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuX21hcnF1ZWUsIHN0eWxlcyk7XG4gICAgfVxuXG4gICAgc3RhcnQoZSkge1xuICAgICAgICBpZiAoYWNjZXB0S2V5KGUsIHRoaXMub3B0aW9ucy5rZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGNoYXJ0Ll9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICAgICAgY29uc3Qgem9vbVBhbmUgPSB0aGlzLl96b29tUGFuZSA9IGNoYXJ0Ll9wbG90QXJlYS5wYW5lQnlQb2ludChwb2ludCk7XG4gICAgICAgICAgICBjb25zdCBjbGlwQm94ID0gem9vbVBhbmUgPyB6b29tUGFuZS5jaGFydHNCb3goKS5jbG9uZSgpIDogbnVsbDtcblxuICAgICAgICAgICAgaWYgKHpvb21QYW5lICYmIGNsaXBCb3gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl9lbGVtZW50T2Zmc2V0KCk7XG5cbiAgICAgICAgICAgICAgICBjbGlwQm94LnRyYW5zbGF0ZShvZmZzZXQubGVmdCwgb2Zmc2V0LnRvcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fem9vbVBhbmVDbGlwQm94ID0gY2xpcEJveDtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fbWFycXVlZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdHlsZXMoe1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlLnBhZ2VYICsgMSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBlLnBhZ2VZICsgMSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9lbGVtZW50T2Zmc2V0KCkge1xuICAgICAgICBjb25zdCBjaGFydEVsZW1lbnQgPSB0aGlzLmNoYXJ0LmVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHsgcGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AgfSA9IGVsZW1lbnRTdHlsZXMoY2hhcnRFbGVtZW50LCBbIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nVG9wXCIgXSk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGVsZW1lbnRPZmZzZXQoY2hhcnRFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogcGFkZGluZ0xlZnQgKyBvZmZzZXQubGVmdCxcbiAgICAgICAgICAgIHRvcDogcGFkZGluZ1RvcCArIG9mZnNldC50b3BcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBtb3ZlKGUpIHtcbiAgICAgICAgY29uc3Qgem9vbVBhbmUgPSB0aGlzLl96b29tUGFuZTtcbiAgICAgICAgaWYgKHpvb21QYW5lKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlcyh0aGlzLl9zZWxlY3Rpb25Qb3NpdGlvbihlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmQoZSkge1xuICAgICAgICBjb25zdCB6b29tUGFuZSA9IHRoaXMuX3pvb21QYW5lO1xuICAgICAgICBpZiAoem9vbVBhbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRPZmZzZXQgPSB0aGlzLl9lbGVtZW50T2Zmc2V0KCk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25Qb3NpdGlvbiA9IHRoaXMuX3NlbGVjdGlvblBvc2l0aW9uKGUpO1xuICAgICAgICAgICAgc2VsZWN0aW9uUG9zaXRpb24ubGVmdCAtPSBlbGVtZW50T2Zmc2V0LmxlZnQ7XG4gICAgICAgICAgICBzZWxlY3Rpb25Qb3NpdGlvbi50b3AgLT0gZWxlbWVudE9mZnNldC50b3A7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0geyB4OiBzZWxlY3Rpb25Qb3NpdGlvbi5sZWZ0LCB5OiBzZWxlY3Rpb25Qb3NpdGlvbi50b3AgfTtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHsgeDogc2VsZWN0aW9uUG9zaXRpb24ubGVmdCArIHNlbGVjdGlvblBvc2l0aW9uLndpZHRoLCB5OiBzZWxlY3Rpb25Qb3NpdGlvbi50b3AgKyBzZWxlY3Rpb25Qb3NpdGlvbi5oZWlnaHQgfTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUF4aXNSYW5nZXMoc3RhcnQsIGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRWxlbWVudCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3pvb21QYW5lO1xuXG4gICAgICAgICAgICByZXR1cm4gdG9DaGFydEF4aXNSYW5nZXModGhpcy5heGlzUmFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHpvb20oKSB7XG4gICAgICAgIGNvbnN0IGF4aXNSYW5nZXMgPSB0aGlzLmF4aXNSYW5nZXM7XG4gICAgICAgIGlmIChheGlzUmFuZ2VzICYmIGF4aXNSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuY2hhcnQuX3Bsb3RBcmVhO1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhpc1Jhbmdlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc1JhbmdlID0gYXhpc1Jhbmdlc1tpZHhdO1xuICAgICAgICAgICAgICAgIHBsb3RBcmVhLnVwZGF0ZUF4aXNPcHRpb25zKGF4aXNSYW5nZS5heGlzLCBheGlzUmFuZ2UucmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxvdEFyZWEucmVkcmF3KHBsb3RBcmVhLnBhbmVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRWxlbWVudCgpO1xuICAgICAgICBkZWxldGUgdGhpcy5fbWFycXVlZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hhcnQ7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUF4aXNSYW5nZXMoc3RhcnQsIGVuZCkge1xuICAgICAgICBjb25zdCBsb2NrID0gKHRoaXMub3B0aW9ucy5sb2NrIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGF4aXNSYW5nZXMgPSBbXTtcblxuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5fem9vbVBhbmUuYXhlcztcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpZHhdO1xuICAgICAgICAgICAgY29uc3QgdmVydGljYWwgPSBheGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgICAgICBpZiAoIShsb2NrID09PSBYICYmICF2ZXJ0aWNhbCkgJiYgIShsb2NrID09PSBZICYmIHZlcnRpY2FsKSAmJiBkZWZpbmVkKGF4aXMuYXhpc0luZGV4KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy5wb2ludHNSYW5nZShzdGFydCwgZW5kKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc1Jhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXM6IGF4aXMsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5heGlzUmFuZ2VzID0gYXhpc1JhbmdlcztcbiAgICB9XG5cbiAgICBfc2VsZWN0aW9uUG9zaXRpb24oZSkge1xuICAgICAgICBjb25zdCBjbGlwQm94ID0gdGhpcy5fem9vbVBhbmVDbGlwQm94O1xuICAgICAgICBjb25zdCBzdGFydExvY2F0aW9uID0ge1xuICAgICAgICAgICAgeDogZS54LnN0YXJ0TG9jYXRpb24sXG4gICAgICAgICAgICB5OiBlLnkuc3RhcnRMb2NhdGlvblxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHg6IHsgbG9jYXRpb246IHBhZ2VYIH0sIHk6IHsgbG9jYXRpb246IHBhZ2VZIH0gfSA9IGU7XG4gICAgICAgIGNvbnN0IGxvY2sgPSAodGhpcy5vcHRpb25zLmxvY2sgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbGV0IGxlZnQgPSBNYXRoLm1pbihzdGFydExvY2F0aW9uLngsIHBhZ2VYKTtcbiAgICAgICAgbGV0IHRvcCA9IE1hdGgubWluKHN0YXJ0TG9jYXRpb24ueSwgcGFnZVkpO1xuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmFicyhzdGFydExvY2F0aW9uLnggLSBwYWdlWCk7XG4gICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmFicyhzdGFydExvY2F0aW9uLnkgLSBwYWdlWSk7XG5cbiAgICAgICAgaWYgKGxvY2sgPT09IFgpIHtcbiAgICAgICAgICAgIGxlZnQgPSBjbGlwQm94LngxO1xuICAgICAgICAgICAgd2lkdGggPSBjbGlwQm94LndpZHRoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2sgPT09IFkpIHtcbiAgICAgICAgICAgIHRvcCA9IGNsaXBCb3gueTE7XG4gICAgICAgICAgICBoZWlnaHQgPSBjbGlwQm94LmhlaWdodCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VYID4gY2xpcEJveC54Mikge1xuICAgICAgICAgICAgd2lkdGggPSBjbGlwQm94LngyIC0gc3RhcnRMb2NhdGlvbi54O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VYIDwgY2xpcEJveC54MSkge1xuICAgICAgICAgICAgd2lkdGggPSBzdGFydExvY2F0aW9uLnggLSBjbGlwQm94LngxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VZID4gY2xpcEJveC55Mikge1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2xpcEJveC55MiAtIHN0YXJ0TG9jYXRpb24ueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlWSA8IGNsaXBCb3gueTEpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHN0YXJ0TG9jYXRpb24ueSAtIGNsaXBCb3gueTE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogTWF0aC5tYXgobGVmdCwgY2xpcEJveC54MSksXG4gICAgICAgICAgICB0b3A6IE1hdGgubWF4KHRvcCwgY2xpcEJveC55MSksXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuWm9vbVNlbGVjdGlvbi5wcm90b3R5cGUub3B0aW9ucyA9IHtcbiAgICBrZXk6IFwic2hpZnRcIixcbiAgICBsb2NrOiBcIm5vbmVcIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgWm9vbVNlbGVjdGlvbjsiLCJcbmltcG9ydCB0b0NoYXJ0QXhpc1JhbmdlcyBmcm9tICcuL3RvLWNoYXJ0LWF4aXMtcmFuZ2VzJztcblxuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgbGltaXRWYWx1ZSB9IGZyb20gJy4uLy4uL2RyYXdpbmctdXRpbHMnO1xuXG4vLyBMaW1pdCB0aGUgem9vbSByYXRlIGJldHdlZW4gMSUgYW5kIDkwJSBwZXIgbW91c2V3aGVlbCBldmVudC5cbi8vIEF0IHpvb20gcmF0ZXMgY2xvc2UgdG8gMTAwJSB0aGUgYXhpcyByYW5nZSBxdWlja2x5IGJlY29tZXMgMC5cbmNvbnN0IE1JTl9SQVRFID0gMC4wMTtcbmNvbnN0IE1BWF9SQVRFID0gMC45O1xuY29uc3QgREVGQVVMVF9SQVRFID0gMC4zO1xuXG5jbGFzcyBNb3VzZXdoZWVsWm9vbSBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICByYXRlOiBERUZBVUxUX1JBVEVcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZXMoZGVsdGEsIGNvb3Jkcykge1xuICAgICAgICBjb25zdCBsb2NrID0gKHRoaXMub3B0aW9ucy5sb2NrIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGF4aXNSYW5nZXMgPSBbXTtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuY2hhcnQuX3Bsb3RBcmVhLmF4ZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpZHhdO1xuICAgICAgICAgICAgY29uc3QgdmVydGljYWwgPSBheGlzLm9wdGlvbnMudmVydGljYWw7XG5cbiAgICAgICAgICAgIGlmICghKGxvY2sgPT09IFggJiYgIXZlcnRpY2FsKSAmJiAhKGxvY2sgPT09IFkgJiYgdmVydGljYWwpICYmIGF4aXMuem9vbVJhbmdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF0ZSA9IGxpbWl0VmFsdWUodGhpcy5vcHRpb25zLnJhdGUsIE1JTl9SQVRFLCBNQVhfUkFURSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBheGlzLnpvb21SYW5nZSgtZGVsdGEgKiByYXRlLCBjb29yZHMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXNSYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXhpc1JhbmdlcyA9IGF4aXNSYW5nZXM7XG4gICAgICAgIHJldHVybiB0b0NoYXJ0QXhpc1JhbmdlcyhheGlzUmFuZ2VzKTtcbiAgICB9XG5cbiAgICB6b29tKCkge1xuICAgICAgICBjb25zdCBheGlzUmFuZ2VzID0gdGhpcy5heGlzUmFuZ2VzO1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuY2hhcnQuX3Bsb3RBcmVhO1xuXG4gICAgICAgIGlmIChheGlzUmFuZ2VzICYmIGF4aXNSYW5nZXMubGVuZ3RoICYmIHBsb3RBcmVhLnVwZGF0ZUF4aXNPcHRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGlzUmFuZ2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzUmFuZ2UgPSBheGlzUmFuZ2VzW2lkeF07XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEudXBkYXRlQXhpc09wdGlvbnMoYXhpc1JhbmdlLmF4aXMsIGF4aXNSYW5nZS5yYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbG90QXJlYS5yZWRyYXcocGxvdEFyZWEucGFuZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hhcnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb3VzZXdoZWVsWm9vbTtcbiIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3gsIHJlY3RUb0JveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5jbGFzcyBMZWdlbmRMYXlvdXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuXG4gICAgICAgIHRoaXMudmlzdWFsID0gbmV3IGRyYXcuTGF5b3V0KG51bGwsIHtcbiAgICAgICAgICAgIHNwYWNpbmc6IHZlcnRpY2FsID8gMCA6IG9wdGlvbnMuc3BhY2luZyxcbiAgICAgICAgICAgIGxpbmVTcGFjaW5nOiB2ZXJ0aWNhbCA/IG9wdGlvbnMuc3BhY2luZyA6IDAsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogdmVydGljYWwgPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIixcbiAgICAgICAgICAgIHJldmVyc2U6IG9wdGlvbnMucnRsLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogdmVydGljYWwgPyBcInN0YXJ0XCIgOiBcImNlbnRlclwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNoaWxkcmVuLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBsZWdlbmRJdGVtID0gY2hpbGRyZW5baWR4XTtcbiAgICAgICAgICAgIGxlZ2VuZEl0ZW0ucmVmbG93KG5ldyBCb3goKSk7XG4gICAgICAgICAgICBsZWdlbmRJdGVtLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICB0aGlzLnZpc3VhbC5yZWN0KGJveC50b1JlY3QoKSk7XG4gICAgICAgIHRoaXMudmlzdWFsLnJlZmxvdygpO1xuICAgICAgICBjb25zdCBiYm94ID0gdGhpcy52aXN1YWwuY2xpcHBlZEJCb3goKTtcblxuICAgICAgICBpZiAoYmJveCkge1xuICAgICAgICAgICAgdGhpcy5ib3ggPSByZWN0VG9Cb3goYmJveCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgdGhpcy5hZGRWaXN1YWwoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBMZWdlbmRMYXlvdXQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBCb3hFbGVtZW50LCBGbG9hdEVsZW1lbnQsIFNoYXBlRWxlbWVudCwgVGV4dEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgTEVHRU5EX0lURU1fQ0xJQ0ssIExFR0VORF9JVEVNX0hPVkVSLCBMRUdFTkRfSVRFTV9MRUFWRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDRU5URVIsIFdISVRFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBldmVudEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBMZWdlbmRJdGVtIGV4dGVuZHMgQm94RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICBpZiAoIW9wdGlvbnMucnRsKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgRmxvYXRFbGVtZW50KHsgdmVydGljYWw6IGZhbHNlLCB3cmFwOiBmYWxzZSwgYWxpZ246IENFTlRFUiwgc3BhY2luZzogdGhpcy5vcHRpb25zLnNwYWNpbmcgfSk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHRoaXMuY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNYXJrZXIoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChuZXcgU2hhcGVFbGVtZW50KHRoaXMubWFya2VyT3B0aW9ucygpKSk7XG4gICAgfVxuXG4gICAgbWFya2VyT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFya2VyQ29sb3IgPSBvcHRpb25zLm1hcmtlckNvbG9yO1xuICAgICAgICByZXR1cm4gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucy5tYXJrZXJzLCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBtYXJrZXJDb2xvcixcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBtYXJrZXJDb2xvclxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGFiZWxPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucy5sYWJlbHMpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChuZXcgVGV4dEJveChvcHRpb25zLnRleHQsIGxhYmVsT3B0aW9ucykpO1xuICAgIH1cblxuICAgIHJlbmRlckNvbXBsZXRlKCkge1xuICAgICAgICBzdXBlci5yZW5kZXJDb21wbGV0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHRoaXMub3B0aW9ucy5jdXJzb3IgfHwge307XG4gICAgICAgIGNvbnN0IGV2ZW50U2luayA9IHRoaXMuX2l0ZW1PdmVybGF5ID0gZHJhdy5QYXRoLmZyb21SZWN0KHRoaXMuY29udGFpbmVyLmJveC50b1JlY3QoKSwge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBudWxsLFxuICAgICAgICAgICAgY3Vyc29yOiBjdXJzb3Iuc3R5bGUgfHwgY3Vyc29yXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKGV2ZW50U2luayk7XG4gICAgfVxuXG4gICAgY2xpY2sod2lkZ2V0LCBlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmV2ZW50QXJncyhlKTtcblxuICAgICAgICBpZiAoIXdpZGdldC50cmlnZ2VyKExFR0VORF9JVEVNX0NMSUNLLCBhcmdzKSAmJiBlICYmIGUudHlwZSA9PT0gJ2NvbnRleHRtZW51Jykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3Zlcih3aWRnZXQsIGUpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuZXZlbnRBcmdzKGUpO1xuXG4gICAgICAgIGlmICghd2lkZ2V0LnRyaWdnZXIoTEVHRU5EX0lURU1fSE9WRVIsIGFyZ3MpKSB7XG4gICAgICAgICAgICB3aWRnZXQuX2xlZ2VuZEl0ZW1Ib3ZlcihhcmdzLnNlcmllc0luZGV4LCBhcmdzLnBvaW50SW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciBwb2ludCBob3ZlciBmb3IgbGVnZW5kIGl0ZW1zXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIG91dCh3aWRnZXQsIGUpIHtcbiAgICAgICAgd2lkZ2V0Ll91bnNldEFjdGl2ZVBvaW50KCk7XG5cbiAgICAgICAgd2lkZ2V0LnRyaWdnZXIoTEVHRU5EX0lURU1fTEVBVkUsIHRoaXMuZXZlbnRBcmdzKGUpKTtcbiAgICB9XG5cbiAgICBldmVudEFyZ3MoZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnRleHQsXG4gICAgICAgICAgICBzZXJpZXM6IG9wdGlvbnMuc2VyaWVzLFxuICAgICAgICAgICAgc2VyaWVzSW5kZXg6IG9wdGlvbnMuc2VyaWVzLmluZGV4LFxuICAgICAgICAgICAgcG9pbnRJbmRleDogb3B0aW9ucy5wb2ludEluZGV4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVuZGVyVmlzdWFsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjdXN0b21WaXN1YWwgPSBvcHRpb25zLnZpc3VhbDtcblxuICAgICAgICBpZiAoY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbCA9IGN1c3RvbVZpc3VhbCh7XG4gICAgICAgICAgICAgICAgYWN0aXZlOiBvcHRpb25zLmFjdGl2ZSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IG9wdGlvbnMuc2VyaWVzLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICBwb2ludEluZGV4OiBvcHRpb25zLnBvaW50SW5kZXgsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzOiB0aGlzLm1hcmtlck9wdGlvbnMoKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBvcHRpb25zLmxhYmVsc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVmlzdWFsKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDb21wbGV0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWaXN1YWwgPSB0aGlzLnZpc3VhbDtcblxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy52aXN1YWw7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWaXN1YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFkZFZpc3VhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIucmVuZGVyVmlzdWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExlZ2VuZEl0ZW07XG4iLCJcbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94RWxlbWVudCwgQm94LCBUZXh0Qm94LCBGbG9hdEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCBMZWdlbmRMYXlvdXQgZnJvbSAnLi9sZWdlbmQtbGF5b3V0JztcbmltcG9ydCBMZWdlbmRJdGVtIGZyb20gJy4vbGVnZW5kLWl0ZW0nO1xuXG5pbXBvcnQgeyBUT1AsIFJJR0hULCBCT1RUT00sIExFRlQsIENFTlRFUiwgWCwgWSwgQkxBQ0sgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGdldFRlbXBsYXRlLCBnZXRTcGFjaW5nLCBpbkFycmF5LCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IEhPUklaT05UQUwgPSBcImhvcml6b250YWxcIjtcbmNvbnN0IFBPSU5URVIgPSBcInBvaW50ZXJcIjtcbmNvbnN0IENVU1RPTSA9IFwiY3VzdG9tXCI7XG5cbmNsYXNzIExlZ2VuZCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY2hhcnRTZXJ2aWNlID0ge30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBjaGFydFNlcnZpY2U7XG5cbiAgICAgICAgaWYgKCFpbkFycmF5KHRoaXMub3B0aW9ucy5wb3NpdGlvbiwgWyBUT1AsIFJJR0hULCBCT1RUT00sIExFRlQsIENVU1RPTSBdKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uID0gUklHSFQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcnMoKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUxlZ2VuZFRpdGxlKG9wdGlvbnMudGl0bGUpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlSXRlbXMoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDb250YWluZXJzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHBvc2l0aW9uLCBhbGlnbjogdXNlckFsaWduIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgYWxpZ24gPSBwb3NpdGlvbjtcbiAgICAgICAgbGV0IHZBbGlnbiA9IENFTlRFUjtcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IENVU1RPTSkge1xuICAgICAgICAgICAgYWxpZ24gPSBMRUZUO1xuICAgICAgICB9IGVsc2UgaWYgKGluQXJyYXkocG9zaXRpb24sIFsgVE9QLCBCT1RUT00gXSkpIHtcbiAgICAgICAgICAgIGlmICh1c2VyQWxpZ24gPT09IFwic3RhcnRcIikge1xuICAgICAgICAgICAgICAgIGFsaWduID0gTEVGVDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFsaWduID09PSBcImVuZFwiKSB7XG4gICAgICAgICAgICAgICAgYWxpZ24gPSBSSUdIVDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2QWxpZ24gPSBwb3NpdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh1c2VyQWxpZ24pIHtcbiAgICAgICAgICAgIGlmICh1c2VyQWxpZ24gPT09IFwic3RhcnRcIikge1xuICAgICAgICAgICAgICAgIHZBbGlnbiA9IFRPUDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFsaWduID09PSBcImVuZFwiKSB7XG4gICAgICAgICAgICAgICAgdkFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgQm94RWxlbWVudCh7XG4gICAgICAgICAgICBtYXJnaW46IG9wdGlvbnMubWFyZ2luLFxuICAgICAgICAgICAgcGFkZGluZzogb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9yZGVyOiBvcHRpb25zLmJvcmRlcixcbiAgICAgICAgICAgIHZBbGlnbjogdkFsaWduLFxuICAgICAgICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleCxcbiAgICAgICAgICAgIHNocmlua1RvRml0OiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmhhc1RpdGxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNDb250YWluZXIgPSBuZXcgQm94RWxlbWVudCh7XG4gICAgICAgICAgICAgICAgdkFsaWduOiB2QWxpZ24sXG4gICAgICAgICAgICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXgsXG4gICAgICAgICAgICAgICAgc2hyaW5rVG9GaXQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pdGVtc0NvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBlbmQodGhpcy5jb250YWluZXIpO1xuICAgIH1cblxuICAgIGNyZWF0ZUl0ZW1zKCkge1xuICAgICAgICBjb25zdCBjaGFydFNlcnZpY2UgPSB0aGlzLmdldFNlcnZpY2UoKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSB0aGlzLmlzVmVydGljYWwoKTtcbiAgICAgICAgY29uc3QgaW5uZXJFbGVtZW50ID0gbmV3IExlZ2VuZExheW91dCh7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWwsXG4gICAgICAgICAgICBzcGFjaW5nOiBvcHRpb25zLnNwYWNpbmcsXG4gICAgICAgICAgICBydGw6IGNoYXJ0U2VydmljZS5ydGxcbiAgICAgICAgfSwgY2hhcnRTZXJ2aWNlKTtcbiAgICAgICAgbGV0IGl0ZW1zID0gb3B0aW9ucy5pdGVtcztcblxuICAgICAgICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLnNsaWNlKDApLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBpdGVtc1tpXTtcblxuICAgICAgICAgICAgaW5uZXJFbGVtZW50LmFwcGVuZChuZXcgTGVnZW5kSXRlbShkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAgICAgbWFya2Vyczogb3B0aW9ucy5tYXJrZXJzLFxuICAgICAgICAgICAgICAgIGxhYmVsczogb3B0aW9ucy5sYWJlbHMsXG4gICAgICAgICAgICAgICAgcnRsOiBjaGFydFNlcnZpY2UucnRsXG4gICAgICAgICAgICB9LCBvcHRpb25zLml0ZW0sIGl0ZW0pKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbm5lckVsZW1lbnQucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuaXRlbXNDb250YWluZXIuYXBwZW5kKGlubmVyRWxlbWVudCk7XG4gICAgfVxuXG4gICAgaXNWZXJ0aWNhbCgpIHtcbiAgICAgICAgY29uc3QgeyBvcmllbnRhdGlvbiwgcG9zaXRpb24gfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSAocG9zaXRpb24gPT09IENVU1RPTSAmJiBvcmllbnRhdGlvbiAhPT0gSE9SSVpPTlRBTCkgfHxcbiAgICAgICAgICAgICAgIChkZWZpbmVkKG9yaWVudGF0aW9uKSA/IG9yaWVudGF0aW9uICE9PSBIT1JJWk9OVEFMIDogaW5BcnJheShwb3NpdGlvbiwgWyBMRUZULCBSSUdIVCBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsO1xuICAgIH1cblxuICAgIGhhc0l0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuY2hpbGRyZW5bMF0uY2hpbGRyZW4ubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxlZ2VuZEJveCA9IHRhcmdldEJveC5jbG9uZSgpO1xuXG4gICAgICAgIGlmICghdGhpcy5oYXNJdGVtcygpKSB7XG4gICAgICAgICAgICB0aGlzLmJveCA9IGxlZ2VuZEJveDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSBDVVNUT00pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyQ3VzdG9tUmVmbG93KGxlZ2VuZEJveCk7XG4gICAgICAgICAgICB0aGlzLmJveCA9IGxlZ2VuZEJveDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmVmbG93KGxlZ2VuZEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oYXNUaXRsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnRpdGxlLnJlZmxvdyhuZXcgQm94KHRoaXMuY29udGFpbmVyLmJveC54MSwgdGhpcy50aXRsZS5ib3gueTEsIHRoaXMuY29udGFpbmVyLmJveC54MiwgdGhpcy50aXRsZS5ib3gueTIpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRhaW5lclJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjb250YWluZXIgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcG9zaXRpb24sIHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uID09PSBUT1AgfHwgcG9zaXRpb24gPT09IEJPVFRPTSA/IFggOiBZO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IHRoaXMuaXNWZXJ0aWNhbCgpO1xuICAgICAgICBjb25zdCBhbGlnblRhcmdldCA9IHRhcmdldEJveC5jbG9uZSgpO1xuICAgICAgICBsZXQgY29udGFpbmVyQm94ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSBMRUZUIHx8IHBvc2l0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgY29udGFpbmVyQm94LnkxID0gYWxpZ25UYXJnZXQueTEgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsICYmIGhlaWdodCkge1xuICAgICAgICAgICAgY29udGFpbmVyQm94LnkyID0gY29udGFpbmVyQm94LnkxICsgaGVpZ2h0O1xuICAgICAgICAgICAgY29udGFpbmVyQm94LmFsaWduKGFsaWduVGFyZ2V0LCBZLCBjb250YWluZXIub3B0aW9ucy52QWxpZ24pO1xuICAgICAgICB9IGVsc2UgaWYgKCF2ZXJ0aWNhbCAmJiB3aWR0aCkge1xuICAgICAgICAgICAgY29udGFpbmVyQm94LngyID0gY29udGFpbmVyQm94LngxICsgd2lkdGg7XG4gICAgICAgICAgICBjb250YWluZXJCb3guYWxpZ24oYWxpZ25UYXJnZXQsIFgsIGNvbnRhaW5lci5vcHRpb25zLmFsaWduKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5yZWZsb3coY29udGFpbmVyQm94KTtcbiAgICAgICAgY29udGFpbmVyQm94ID0gY29udGFpbmVyLmJveDtcblxuICAgICAgICBjb25zdCBib3ggPSBjb250YWluZXJCb3guY2xvbmUoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5vZmZzZXRYIHx8IG9wdGlvbnMub2Zmc2V0WSkge1xuICAgICAgICAgICAgY29udGFpbmVyQm94LnRyYW5zbGF0ZShvcHRpb25zLm9mZnNldFgsIG9wdGlvbnMub2Zmc2V0WSk7XG4gICAgICAgICAgICBjb250YWluZXIucmVmbG93KGNvbnRhaW5lckJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBib3hbcG9zICsgMV0gPSB0YXJnZXRCb3hbcG9zICsgMV07XG4gICAgICAgIGJveFtwb3MgKyAyXSA9IHRhcmdldEJveFtwb3MgKyAyXTtcblxuICAgICAgICB0aGlzLmJveCA9IGJveDtcbiAgICB9XG5cbiAgICBjb250YWluZXJDdXN0b21SZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgY29udGFpbmVyIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG9mZnNldFgsIG9mZnNldFksIHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5pc1ZlcnRpY2FsKCk7XG4gICAgICAgIGxldCBjb250YWluZXJCb3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcblxuICAgICAgICBpZiAodmVydGljYWwgJiYgaGVpZ2h0KSB7XG4gICAgICAgICAgICBjb250YWluZXJCb3gueTIgPSBjb250YWluZXJCb3gueTEgKyBoZWlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZlcnRpY2FsICYmIHdpZHRoKSB7XG4gICAgICAgICAgICBjb250YWluZXJCb3gueDIgPSBjb250YWluZXJCb3gueDEgKyB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIucmVmbG93KGNvbnRhaW5lckJveCk7XG4gICAgICAgIGNvbnRhaW5lckJveCA9IGNvbnRhaW5lci5ib3g7XG5cbiAgICAgICAgY29udGFpbmVyLnJlZmxvdyhuZXcgQm94KFxuICAgICAgICAgICAgb2Zmc2V0WCwgb2Zmc2V0WSxcbiAgICAgICAgICAgIG9mZnNldFggKyBjb250YWluZXJCb3gud2lkdGgoKSwgb2Zmc2V0WSArIGNvbnRhaW5lckJveC5oZWlnaHQoKVxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0l0ZW1zKCkpIHtcbiAgICAgICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGVnZW5kVGl0bGUodGl0bGUpIHtcbiAgICAgICAgbGV0IHRpdGxlT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHtcbiAgICAgICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBUT1AsXG4gICAgICAgICAgICBhbGlnbjogQ0VOVEVSXG4gICAgICAgIH0sIHRpdGxlKTtcbiAgICAgICAgbGV0IHRleHQgPSB0aXRsZU9wdGlvbnMudGV4dDtcblxuICAgICAgICBpZiAoIXRpdGxlIHx8IHRpdGxlLnZpc2libGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmaW5lZCh0aXRsZU9wdGlvbnMpICYmIHRpdGxlT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gZ2V0VGVtcGxhdGUodGl0bGVPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChsYWJlbFRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGxhYmVsVGVtcGxhdGUoeyB0ZXh0OiB0ZXh0IH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aXRsZU9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKHRpdGxlT3B0aW9ucy5mb3JtYXQsIHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aXRsZSA9IG5ldyBUZXh0Qm94KHRleHQsIHRpdGxlT3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVUaXRsZUxheW91dCgpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kVGl0bGVMYXlvdXRDb250ZW50KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVGl0bGVMYXlvdXQoKSB7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gbmV3IEZsb2F0RWxlbWVudCh7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICAgICAgICAgIHdyYXA6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZCh0aGlzLmxheW91dCk7XG4gICAgfVxuXG4gICAgaGFzVGl0bGUoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMub3B0aW9ucy50aXRsZSAmJiB0aGlzLm9wdGlvbnMudGl0bGUudmlzaWJsZSAhPT0gZmFsc2UpO1xuICAgIH1cblxuICAgIGFwcGVuZFRpdGxlTGF5b3V0Q29udGVudCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAob3B0aW9ucy50aXRsZS5wb3NpdGlvbiA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICB0aGlzLmxheW91dC5hcHBlbmQodGhpcy5pdGVtc0NvbnRhaW5lcik7XG4gICAgICAgICAgICB0aGlzLmxheW91dC5hcHBlbmQodGhpcy50aXRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxheW91dC5hcHBlbmQodGhpcy50aXRsZSk7XG4gICAgICAgICAgICB0aGlzLmxheW91dC5hcHBlbmQodGhpcy5pdGVtc0NvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKExlZ2VuZCwge1xuICAgIHBvc2l0aW9uOiBSSUdIVCxcbiAgICBpdGVtczogW10sXG4gICAgb2Zmc2V0WDogMCxcbiAgICBvZmZzZXRZOiAwLFxuICAgIG1hcmdpbjogZ2V0U3BhY2luZyg1KSxcbiAgICBwYWRkaW5nOiBnZXRTcGFjaW5nKDUpLFxuICAgIGJvcmRlcjoge1xuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHdpZHRoOiAwXG4gICAgfSxcbiAgICBpdGVtOiB7XG4gICAgICAgIGN1cnNvcjogUE9JTlRFUixcbiAgICAgICAgc3BhY2luZzogNlxuICAgIH0sXG4gICAgc3BhY2luZzogNixcbiAgICBiYWNrZ3JvdW5kOiBcIlwiLFxuICAgIHpJbmRleDogMSxcbiAgICBtYXJrZXJzOiB7XG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDBcbiAgICAgICAgfSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDMsXG4gICAgICAgIHR5cGU6IFwicmVjdFwiLFxuICAgICAgICBhbGlnbjogTEVGVCxcbiAgICAgICAgdkFsaWduOiBDRU5URVJcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTGVnZW5kO1xuIiwiaW1wb3J0IGZpbHRlclNlcmllc0J5VHlwZSBmcm9tICcuLi91dGlscy9maWx0ZXItc2VyaWVzLWJ5LXR5cGUnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBQbG90QXJlYUZhY3RvcnkgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9yZWdpc3RyeSA9IFtdO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKHR5cGUsIHNlcmllc1R5cGVzKSB7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJ5LnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHNlcmllc1R5cGVzOiBzZXJpZXNUeXBlc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGUoc3JjU2VyaWVzLCBvcHRpb25zLCBjaGFydFNlcnZpY2UpIHtcbiAgICAgICAgY29uc3QgcmVnaXN0cnkgPSB0aGlzLl9yZWdpc3RyeTtcbiAgICAgICAgbGV0IG1hdGNoID0gcmVnaXN0cnlbMF07XG4gICAgICAgIGxldCBzZXJpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcmVnaXN0cnkubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSByZWdpc3RyeVtpZHhdO1xuICAgICAgICAgICAgc2VyaWVzID0gZmlsdGVyU2VyaWVzQnlUeXBlKHNyY1NlcmllcywgZW50cnkuc2VyaWVzVHlwZXMpO1xuXG4gICAgICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IGVudHJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBtYXRjaC50eXBlKHNlcmllcywgb3B0aW9ucywgY2hhcnRTZXJ2aWNlKTtcbiAgICB9XG59XG5cblBsb3RBcmVhRmFjdG9yeS5jdXJyZW50ID0gbmV3IFBsb3RBcmVhRmFjdG9yeSgpO1xuXG5leHBvcnQgZGVmYXVsdCBQbG90QXJlYUZhY3Rvcnk7IiwiaW1wb3J0IHsgRG9tRXZlbnRzQnVpbGRlciB9IGZyb20gJy4uL3NlcnZpY2VzJztcblxuaW1wb3J0IHsgRGF0ZUNhdGVnb3J5QXhpcywgUG9pbnQgfSBmcm9tICcuLi9jb3JlJztcblxuaW1wb3J0IHsgTU9VU0VXSEVFTF9ERUxBWSwgTU9VU0VXSEVFTCwgU0VMRUNUX1NUQVJULCBTRUxFQ1QsIFNFTEVDVF9FTkQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IExFRlQsIFJJR0hULCBNSU5fVkFMVUUsIE1BWF9WQUxVRSwgWCB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWRkQ2xhc3MsIENsYXNzLCByZW1vdmVDbGFzcywgZGVlcEV4dGVuZCwgZWxlbWVudFN0eWxlcywgZXZlbnRFbGVtZW50LCBzZXREZWZhdWx0T3B0aW9ucywgbGltaXRWYWx1ZSwgcm91bmQsIGJpbmRFdmVudHMsIHVuYmluZEV2ZW50cywgbW91c2V3aGVlbERlbHRhLCBoYXNDbGFzc2VzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IHBhcnNlRGF0ZSB9IGZyb20gJy4uL2RhdGUtdXRpbHMnO1xuXG5jb25zdCBaT09NX0FDQ0VMRVJBVElPTiA9IDM7XG5jb25zdCBTRUxFQ1RPUl9IRUlHSFRfQURKVVNUID0gMC4xO1xuXG5mdW5jdGlvbiBjcmVhdGVEaXYoY2xhc3NOYW1lKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY2xvc2VzdEhhbmRsZShlbGVtZW50KSB7XG4gICAgbGV0IGN1cnJlbnQgPSBlbGVtZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmICFoYXNDbGFzc2VzKGN1cnJlbnQsIFwiay1oYW5kbGVcIikpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudDtcbn1cblxuY2xhc3MgU2VsZWN0aW9uIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0LCBjYXRlZ29yeUF4aXMsIG9wdGlvbnMsIG9ic2VydmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgY29uc3QgY2hhcnRFbGVtZW50ID0gY2hhcnQuZWxlbWVudDtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jaGFydEVsZW1lbnQgPSBjaGFydEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlBeGlzID0gY2F0ZWdvcnlBeGlzO1xuICAgICAgICB0aGlzLl9kYXRlQXhpcyA9IHRoaXMuY2F0ZWdvcnlBeGlzIGluc3RhbmNlb2YgRGF0ZUNhdGVnb3J5QXhpcztcblxuICAgICAgICB0aGlzLmluaXRPcHRpb25zKCk7XG5cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5vcHRpb25zLnZpc2libGUgJiYgY2hhcnRFbGVtZW50Lm9mZnNldEhlaWdodDtcblxuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUVsZW1lbnRzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0KHRoaXMuX2luZGV4KHRoaXMub3B0aW9ucy5mcm9tKSwgdGhpcy5faW5kZXgodGhpcy5vcHRpb25zLnRvKSk7XG5cbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QYW5lKHBhbmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2F0ZWdvcnlBeGlzLnBhbmUgPT09IHBhbmU7XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLndyYXBwZXIgPSBjcmVhdGVEaXYoXCJrLXNlbGVjdG9yXCIpO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHdyYXBwZXIsIHtcbiAgICAgICAgICAgIHRvcDogb3B0aW9ucy5vZmZzZXQudG9wLFxuICAgICAgICAgICAgbGVmdDogb3B0aW9ucy5vZmZzZXQubGVmdCxcbiAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ2x0cidcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uID0gY3JlYXRlRGl2KFwiay1zZWxlY3Rpb25cIik7XG4gICAgICAgIHRoaXMubGVmdE1hc2sgPSBjcmVhdGVEaXYoXCJrLW1hc2tcIik7XG4gICAgICAgIHRoaXMucmlnaHRNYXNrID0gY3JlYXRlRGl2KFwiay1tYXNrXCIpO1xuXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5sZWZ0TWFzayk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5yaWdodE1hc2spO1xuICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHNlbGVjdGlvbik7XG5cbiAgICAgICAgc2VsZWN0aW9uLmFwcGVuZENoaWxkKGNyZWF0ZURpdihcImstc2VsZWN0aW9uLWJnXCIpKTtcblxuICAgICAgICBjb25zdCBsZWZ0SGFuZGxlID0gdGhpcy5sZWZ0SGFuZGxlID0gY3JlYXRlRGl2KFwiay1oYW5kbGUgay1sZWZ0LWhhbmRsZVwiKTtcbiAgICAgICAgY29uc3QgcmlnaHRIYW5kbGUgPSB0aGlzLnJpZ2h0SGFuZGxlID0gY3JlYXRlRGl2KFwiay1oYW5kbGUgay1yaWdodC1oYW5kbGVcIik7XG4gICAgICAgIGxlZnRIYW5kbGUuYXBwZW5kQ2hpbGQoY3JlYXRlRGl2KCkpO1xuICAgICAgICByaWdodEhhbmRsZS5hcHBlbmRDaGlsZChjcmVhdGVEaXYoKSk7XG5cbiAgICAgICAgc2VsZWN0aW9uLmFwcGVuZENoaWxkKGxlZnRIYW5kbGUpO1xuICAgICAgICBzZWxlY3Rpb24uYXBwZW5kQ2hpbGQocmlnaHRIYW5kbGUpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRFbGVtZW50LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb25TdHlsZXMgPSBlbGVtZW50U3R5bGVzKHNlbGVjdGlvbiwgWyBcImJvcmRlckxlZnRXaWR0aFwiLCBcImJvcmRlclJpZ2h0V2lkdGhcIiwgXCJoZWlnaHRcIiBdKTtcbiAgICAgICAgY29uc3QgbGVmdEhhbmRsZUhlaWdodCA9IGVsZW1lbnRTdHlsZXMobGVmdEhhbmRsZSwgXCJoZWlnaHRcIikuaGVpZ2h0O1xuICAgICAgICBjb25zdCByaWdodEhhbmRsZUhlaWdodCA9IGVsZW1lbnRTdHlsZXMocmlnaHRIYW5kbGUsIFwiaGVpZ2h0XCIpLmhlaWdodDtcblxuICAgICAgICBvcHRpb25zLnNlbGVjdGlvbiA9IHtcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IHNlbGVjdGlvblN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHNlbGVjdGlvblN0eWxlcy5ib3JkZXJSaWdodFdpZHRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZWxlbWVudFN0eWxlcyhsZWZ0SGFuZGxlLCB7XG4gICAgICAgICAgICB0b3A6IChzZWxlY3Rpb25TdHlsZXMuaGVpZ2h0IC0gbGVmdEhhbmRsZUhlaWdodCkgLyAyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVsZW1lbnRTdHlsZXMocmlnaHRIYW5kbGUsIHtcbiAgICAgICAgICAgIHRvcDogKHNlbGVjdGlvblN0eWxlcy5oZWlnaHQgLSByaWdodEhhbmRsZUhlaWdodCkgLyAyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdyYXBwZXIuc3R5bGUuY3NzVGV4dCA9IHdyYXBwZXIuc3R5bGUuY3NzVGV4dDtcbiAgICB9XG5cbiAgICBiaW5kRXZlbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1vdXNld2hlZWwgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZXdoZWVsSGFuZGxlciA9IHRoaXMuX21vdXNld2hlZWwuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGJpbmRFdmVudHModGhpcy53cmFwcGVyLCB7XG4gICAgICAgICAgICAgICAgWyBNT1VTRVdIRUVMIF06IHRoaXMuX21vdXNld2hlZWxIYW5kbGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50cyA9IERvbUV2ZW50c0J1aWxkZXIuY3JlYXRlKHRoaXMud3JhcHBlciwge1xuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiB0cnVlLCAvLyBhcHBsaWNhYmxlIGZvciB0aGUgalF1ZXJ5IFVzZXJFdmVudHNcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl9zdGFydC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgbW92ZTogdGhpcy5fbW92ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZW5kOiB0aGlzLl9lbmQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRhcDogdGhpcy5fdGFwLmJpbmQodGhpcyksXG4gICAgICAgICAgICBwcmVzczogdGhpcy5fcHJlc3MuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdlc3R1cmVzdGFydDogdGhpcy5fZ2VzdHVyZXN0YXJ0LmJpbmQodGhpcyksXG4gICAgICAgICAgICBnZXN0dXJlY2hhbmdlOiB0aGlzLl9nZXN0dXJlY2hhbmdlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBnZXN0dXJlZW5kOiB0aGlzLl9nZXN0dXJlZW5kLmJpbmQodGhpcylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgY2F0ZWdvcnlBeGlzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBib3ggPSBjYXRlZ29yeUF4aXMucGFuZS5jaGFydHNCb3goKTtcbiAgICAgICAgY29uc3QgaW50bFNlcnZpY2UgPSB0aGlzLmNoYXJ0LmNoYXJ0U2VydmljZS5pbnRsO1xuXG4gICAgICAgIGlmICh0aGlzLl9kYXRlQXhpcykge1xuICAgICAgICAgICAgZGVlcEV4dGVuZChvcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgbWluOiBwYXJzZURhdGUoaW50bFNlcnZpY2UsIG9wdGlvbnMubWluKSxcbiAgICAgICAgICAgICAgICBtYXg6IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgb3B0aW9ucy5tYXgpLFxuICAgICAgICAgICAgICAgIGZyb206IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgb3B0aW9ucy5mcm9tKSxcbiAgICAgICAgICAgICAgICB0bzogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLnRvKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHBhZGRpbmdMZWZ0LCBwYWRkaW5nVG9wIH0gPSBlbGVtZW50U3R5bGVzKHRoaXMuY2hhcnRFbGVtZW50LCBbIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nVG9wXCIgXSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwge1xuICAgICAgICAgICAgd2lkdGg6IGJveC53aWR0aCgpLFxuICAgICAgICAgICAgaGVpZ2h0OiBib3guaGVpZ2h0KCkgKyBTRUxFQ1RPUl9IRUlHSFRfQURKVVNULCAvL3dvcmthcm91bmQgZm9yIHN1Yi1waXhlbCBob3ZlciBvbiB0aGUgcGF0aHMgaW4gY2hyb21lXG4gICAgICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICAgICAgbGVmdDogcGFkZGluZ0xlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiBwYWRkaW5nVG9wXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgbGVmdDogYm94LngxICsgcGFkZGluZ0xlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiBib3gueTEgKyBwYWRkaW5nVG9wXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJvbTogb3B0aW9ucy5taW4sXG4gICAgICAgICAgICB0bzogb3B0aW9ucy5tYXhcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RvbUV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5fZG9tRXZlbnRzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9kb21FdmVudHM7XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fbXdUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLndyYXBwZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tb3VzZXdoZWVsSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHVuYmluZEV2ZW50cyh0aGlzLndyYXBwZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgWyBNT1VTRVdIRUVMIF06IHRoaXMuX21vdXNld2hlZWxIYW5kbGVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW91c2V3aGVlbEhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jaGFydEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy53cmFwcGVyKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmFuZ2VFdmVudEFyZ3MocmFuZ2UpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXhpczogdGhpcy5jYXRlZ29yeUF4aXMub3B0aW9ucyxcbiAgICAgICAgICAgIGZyb206IHRoaXMuX3ZhbHVlKHJhbmdlLmZyb20pLFxuICAgICAgICAgICAgdG86IHRoaXMuX3ZhbHVlKHJhbmdlLnRvKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9zdGFydChlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50RWxlbWVudChlKTtcblxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgfHwgIXRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGFydC5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgICAgICAgIG1vdmVUYXJnZXQ6IGNsb3Nlc3RIYW5kbGUodGFyZ2V0KSB8fCB0YXJnZXQsXG4gICAgICAgICAgICBzdGFydExvY2F0aW9uOiBlLnggPyBlLngubG9jYXRpb24gOiAwLFxuICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLl9pbmRleChvcHRpb25zLmZyb20pLFxuICAgICAgICAgICAgICAgIHRvOiB0aGlzLl9pbmRleChvcHRpb25zLnRvKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLl9yYW5nZUV2ZW50QXJncyh7XG4gICAgICAgICAgICBmcm9tOiB0aGlzLl9pbmRleChvcHRpb25zLmZyb20pLFxuICAgICAgICAgICAgdG86IHRoaXMuX2luZGV4KG9wdGlvbnMudG8pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnRyaWdnZXIoU0VMRUNUX1NUQVJULCBhcmdzKSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3ByZXNzKGUpIHtcbiAgICAgICAgbGV0IGhhbmRsZTtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICBoYW5kbGUgPSB0aGlzLl9zdGF0ZS5tb3ZlVGFyZ2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlID0gY2xvc2VzdEhhbmRsZShldmVudEVsZW1lbnQoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGUpIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGhhbmRsZSwgXCJrLWhhbmRsZS1hY3RpdmVcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW92ZShlKSB7XG4gICAgICAgIGlmICghdGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgX3N0YXRlOiBzdGF0ZSwgb3B0aW9ucywgY2F0ZWdvcnlBeGlzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHJhbmdlLCBtb3ZlVGFyZ2V0OiB0YXJnZXQgfSA9IHN0YXRlO1xuICAgICAgICBjb25zdCByZXZlcnNlID0gY2F0ZWdvcnlBeGlzLm9wdGlvbnMucmV2ZXJzZTtcbiAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMuX2luZGV4KG9wdGlvbnMuZnJvbSk7XG4gICAgICAgIGNvbnN0IHRvID0gdGhpcy5faW5kZXgob3B0aW9ucy50byk7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuX2luZGV4KG9wdGlvbnMubWluKTtcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5faW5kZXgob3B0aW9ucy5tYXgpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHN0YXRlLnN0YXJ0TG9jYXRpb24gLSBlLngubG9jYXRpb247XG4gICAgICAgIGNvbnN0IG9sZFJhbmdlID0geyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8gfTtcbiAgICAgICAgY29uc3Qgc3BhbiA9IHJhbmdlLnRvIC0gcmFuZ2UuZnJvbTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBlbGVtZW50U3R5bGVzKHRoaXMud3JhcHBlciwgXCJ3aWR0aFwiKS53aWR0aCAvIChjYXRlZ29yeUF4aXMuY2F0ZWdvcmllc0NvdW50KCkgLSAxKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTWF0aC5yb3VuZChkZWx0YSAvIHNjYWxlKSAqIChyZXZlcnNlID8gLTEgOiAxKTtcblxuICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGVmdEhhbmRsZSA9IGhhc0NsYXNzZXModGFyZ2V0LCBcImstbGVmdC1oYW5kbGVcIik7XG4gICAgICAgIGNvbnN0IHJpZ2h0SGFuZGxlID0gaGFzQ2xhc3Nlcyh0YXJnZXQsIFwiay1yaWdodC1oYW5kbGVcIik7XG5cbiAgICAgICAgaWYgKGhhc0NsYXNzZXModGFyZ2V0LCBcImstc2VsZWN0aW9uIGstc2VsZWN0aW9uLWJnXCIpKSB7XG4gICAgICAgICAgICByYW5nZS5mcm9tID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgobWluLCBmcm9tIC0gb2Zmc2V0KSxcbiAgICAgICAgICAgICAgICBtYXggLSBzcGFuXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmFuZ2UudG8gPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICByYW5nZS5mcm9tICsgc3BhbixcbiAgICAgICAgICAgICAgICBtYXhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoKGxlZnRIYW5kbGUgJiYgIXJldmVyc2UpIHx8IChyaWdodEhhbmRsZSAmJiByZXZlcnNlKSkge1xuICAgICAgICAgICAgcmFuZ2UuZnJvbSA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIE1hdGgubWF4KG1pbiwgZnJvbSAtIG9mZnNldCksXG4gICAgICAgICAgICAgICAgbWF4IC0gMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJhbmdlLnRvID0gTWF0aC5tYXgocmFuZ2UuZnJvbSArIDEsIHJhbmdlLnRvKTtcbiAgICAgICAgfSBlbHNlIGlmICgobGVmdEhhbmRsZSAmJiByZXZlcnNlKSB8fCAocmlnaHRIYW5kbGUgJiYgIXJldmVyc2UpKSB7XG4gICAgICAgICAgICByYW5nZS50byA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIE1hdGgubWF4KG1pbiArIDEsIHRvIC0gb2Zmc2V0KSxcbiAgICAgICAgICAgICAgICBtYXhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByYW5nZS5mcm9tID0gTWF0aC5taW4ocmFuZ2UudG8gLSAxLCByYW5nZS5mcm9tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5nZS5mcm9tICE9PSBvbGRSYW5nZS5mcm9tIHx8IHJhbmdlLnRvICE9PSBvbGRSYW5nZS50bykge1xuICAgICAgICAgICAgdGhpcy5tb3ZlKHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1QsIHRoaXMuX3JhbmdlRXZlbnRBcmdzKHJhbmdlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZW5kKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVUYXJnZXQgPSB0aGlzLl9zdGF0ZS5tb3ZlVGFyZ2V0O1xuICAgICAgICAgICAgaWYgKG1vdmVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhtb3ZlVGFyZ2V0LCBcImstaGFuZGxlLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLl9zdGF0ZS5yYW5nZTtcbiAgICAgICAgICAgIHRoaXMuc2V0KHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1RfRU5ELCB0aGlzLl9yYW5nZUV2ZW50QXJncyhyYW5nZSkpO1xuXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc3RhdGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdGFwKGUpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjYXRlZ29yeUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuY2hhcnQuX2V2ZW50Q29vcmRpbmF0ZXMoZSk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5SXggPSBjYXRlZ29yeUF4aXMucG9pbnRDYXRlZ29yeUluZGV4KG5ldyBQb2ludChjb29yZHMueCwgY2F0ZWdvcnlBeGlzLmJveC55MSkpO1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5faW5kZXgob3B0aW9ucy5mcm9tKTtcbiAgICAgICAgY29uc3QgdG8gPSB0aGlzLl9pbmRleChvcHRpb25zLnRvKTtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5faW5kZXgob3B0aW9ucy5taW4pO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLl9pbmRleChvcHRpb25zLm1heCk7XG4gICAgICAgIGNvbnN0IHNwYW4gPSB0byAtIGZyb207XG4gICAgICAgIGNvbnN0IG1pZCA9IGZyb20gKyBzcGFuIC8gMjtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB7fTtcbiAgICAgICAgY29uc3QgcmlnaHRDbGljayA9IGUuZXZlbnQud2hpY2ggPT09IDM7XG4gICAgICAgIGxldCBvZmZzZXQgPSBNYXRoLnJvdW5kKG1pZCAtIGNhdGVnb3J5SXgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSB8fCByaWdodENsaWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMuY2hhcnQuX3Vuc2V0QWN0aXZlUG9pbnQoKTtcblxuICAgICAgICBpZiAoIWNhdGVnb3J5QXhpcy5vcHRpb25zLmp1c3RpZmllZCkge1xuICAgICAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgIH1cblxuICAgICAgICByYW5nZS5mcm9tID0gTWF0aC5taW4oXG4gICAgICAgICAgICBNYXRoLm1heChtaW4sIGZyb20gLSBvZmZzZXQpLFxuICAgICAgICAgICAgbWF4IC0gc3BhblxuICAgICAgICApO1xuXG4gICAgICAgIHJhbmdlLnRvID0gTWF0aC5taW4ocmFuZ2UuZnJvbSArIHNwYW4sIG1heCk7XG5cbiAgICAgICAgdGhpcy5fc3RhcnQoZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUucmFuZ2UgPSByYW5nZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1QsIHRoaXMuX3JhbmdlRXZlbnRBcmdzKHJhbmdlKSk7XG4gICAgICAgICAgICB0aGlzLl9lbmQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3VzZXdoZWVsKGUpIHtcbiAgICAgICAgbGV0IGRlbHRhID0gbW91c2V3aGVlbERlbHRhKGUpO1xuXG4gICAgICAgIHRoaXMuX3N0YXJ0KHsgdGFyZ2V0OiB0aGlzLnNlbGVjdGlvbiB9KTtcblxuICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5fc3RhdGUucmFuZ2U7XG5cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiAxKSB7XG4gICAgICAgICAgICAgICAgZGVsdGEgKj0gWk9PTV9BQ0NFTEVSQVRJT047XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubW91c2V3aGVlbC5yZXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgZGVsdGEgKj0gLTE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmV4cGFuZChkZWx0YSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoU0VMRUNULCB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXM6IHRoaXMuY2F0ZWdvcnlBeGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBkZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogdGhpcy5fdmFsdWUocmFuZ2UuZnJvbSksXG4gICAgICAgICAgICAgICAgICAgIHRvOiB0aGlzLl92YWx1ZShyYW5nZS50bylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX213VGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9td1RpbWVvdXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9td1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmQoKTtcbiAgICAgICAgICAgIH0sIE1PVVNFV0hFRUxfREVMQVkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlc3R1cmVzdGFydChlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICAgIGZyb206IHRoaXMuX2luZGV4KG9wdGlvbnMuZnJvbSksXG4gICAgICAgICAgICAgICAgdG86IHRoaXMuX2luZGV4KG9wdGlvbnMudG8pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLl9yYW5nZUV2ZW50QXJncyh0aGlzLl9zdGF0ZS5yYW5nZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJpZ2dlcihTRUxFQ1RfU1RBUlQsIGFyZ3MpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VzdHVyZWVuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoU0VMRUNUX0VORCwgdGhpcy5fcmFuZ2VFdmVudEFyZ3ModGhpcy5fc3RhdGUucmFuZ2UpKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXN0dXJlY2hhbmdlKGUpIHtcbiAgICAgICAgY29uc3QgeyBjaGFydCwgX3N0YXRlOiBzdGF0ZSwgb3B0aW9ucywgY2F0ZWdvcnlBeGlzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCByYW5nZSA9IHN0YXRlLnJhbmdlO1xuICAgICAgICBjb25zdCBwMCA9IGNoYXJ0Ll90b01vZGVsQ29vcmRpbmF0ZXMoZS50b3VjaGVzWzBdLngubG9jYXRpb24pLng7XG4gICAgICAgIGNvbnN0IHAxID0gY2hhcnQuX3RvTW9kZWxDb29yZGluYXRlcyhlLnRvdWNoZXNbMV0ueC5sb2NhdGlvbikueDtcbiAgICAgICAgY29uc3QgbGVmdCA9IE1hdGgubWluKHAwLCBwMSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gTWF0aC5tYXgocDAsIHAxKTtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgcmFuZ2UuZnJvbSA9IGNhdGVnb3J5QXhpcy5wb2ludENhdGVnb3J5SW5kZXgobmV3IFBvaW50KGxlZnQpKSB8fCBvcHRpb25zLm1pbjtcblxuICAgICAgICByYW5nZS50byA9IGNhdGVnb3J5QXhpcy5wb2ludENhdGVnb3J5SW5kZXgobmV3IFBvaW50KHJpZ2h0KSkgfHwgb3B0aW9ucy5tYXg7XG5cbiAgICAgICAgdGhpcy5tb3ZlKHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcblxuICAgICAgICB0aGlzLnRyaWdnZXIoU0VMRUNULCB0aGlzLl9yYW5nZUV2ZW50QXJncyhyYW5nZSkpO1xuICAgIH1cblxuICAgIF9pbmRleCh2YWx1ZSkge1xuICAgICAgICBsZXQgaW5kZXggPSB2YWx1ZTtcblxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuY2F0ZWdvcnlBeGlzLmNhdGVnb3J5SW5kZXgodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIF92YWx1ZShpbmRleCkge1xuICAgICAgICBsZXQgdmFsdWUgPSBpbmRleDtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGVBeGlzKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY2F0ZWdvcnlBeGlzLmNhdGVnb3J5QXQoaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gdGhpcy5vcHRpb25zLm1heCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5vcHRpb25zLm1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfc2xvdCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSB0aGlzLmNhdGVnb3J5QXhpcztcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9pbmRleCh2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5QXhpcy5nZXRTbG90KGluZGV4LCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgbW92ZShmcm9tLCB0bykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCByZXZlcnNlID0gdGhpcy5jYXRlZ29yeUF4aXMub3B0aW9ucy5yZXZlcnNlO1xuICAgICAgICBjb25zdCB7IG9mZnNldCwgcGFkZGluZywgc2VsZWN0aW9uOiB7IGJvcmRlciB9IH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBsZWZ0ID0gcmV2ZXJzZSA/IHRvIDogZnJvbTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSByZXZlcnNlID8gZnJvbSA6IHRvO1xuICAgICAgICBjb25zdCBlZGdlID0gJ3gnICsgKHJldmVyc2UgPyAyIDogMSk7XG5cbiAgICAgICAgbGV0IGJveCA9IHRoaXMuX3Nsb3QobGVmdCk7XG4gICAgICAgIGNvbnN0IGxlZnRNYXNrV2lkdGggPSByb3VuZChib3hbZWRnZV0gLSBvZmZzZXQubGVmdCArIHBhZGRpbmcubGVmdCk7XG5cbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLmxlZnRNYXNrLCB7XG4gICAgICAgICAgICB3aWR0aDogbGVmdE1hc2tXaWR0aFxuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLnNlbGVjdGlvbiwge1xuICAgICAgICAgICAgbGVmdDogbGVmdE1hc2tXaWR0aFxuICAgICAgICB9KTtcblxuICAgICAgICBib3ggPSB0aGlzLl9zbG90KHJpZ2h0KTtcblxuICAgICAgICBjb25zdCByaWdodE1hc2tXaWR0aCA9IHJvdW5kKG9wdGlvbnMud2lkdGggLSAoYm94W2VkZ2VdIC0gb2Zmc2V0LmxlZnQgKyBwYWRkaW5nLmxlZnQpKTtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLnJpZ2h0TWFzaywge1xuICAgICAgICAgICAgd2lkdGg6IHJpZ2h0TWFza1dpZHRoXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBkaXN0YW5jZSA9IG9wdGlvbnMud2lkdGggLSByaWdodE1hc2tXaWR0aDtcbiAgICAgICAgaWYgKGRpc3RhbmNlICE9PSBvcHRpb25zLndpZHRoKSB7XG4gICAgICAgICAgICBkaXN0YW5jZSArPSBib3JkZXIucmlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMucmlnaHRNYXNrLCB7XG4gICAgICAgICAgICBsZWZ0OiBkaXN0YW5jZVxuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLnNlbGVjdGlvbiwge1xuICAgICAgICAgICAgd2lkdGg6IE1hdGgubWF4KG9wdGlvbnMud2lkdGggLSAobGVmdE1hc2tXaWR0aCArIHJpZ2h0TWFza1dpZHRoKSAtIGJvcmRlci5yaWdodCwgMClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0KGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuX2luZGV4KG9wdGlvbnMubWluKTtcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5faW5kZXgob3B0aW9ucy5tYXgpO1xuICAgICAgICBjb25zdCBmcm9tVmFsdWUgPSBsaW1pdFZhbHVlKHRoaXMuX2luZGV4KGZyb20pLCBtaW4sIG1heCk7XG4gICAgICAgIGNvbnN0IHRvVmFsdWUgPSBsaW1pdFZhbHVlKHRoaXMuX2luZGV4KHRvKSwgZnJvbVZhbHVlICsgMSwgbWF4KTtcblxuICAgICAgICBpZiAob3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmUoZnJvbVZhbHVlLCB0b1ZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMuZnJvbSA9IHRoaXMuX3ZhbHVlKGZyb21WYWx1ZSk7XG4gICAgICAgIG9wdGlvbnMudG8gPSB0aGlzLl92YWx1ZSh0b1ZhbHVlKTtcbiAgICB9XG5cbiAgICBleHBhbmQoZGVsdGEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5faW5kZXgob3B0aW9ucy5taW4pO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLl9pbmRleChvcHRpb25zLm1heCk7XG4gICAgICAgIGNvbnN0IHpEaXIgPSBvcHRpb25zLm1vdXNld2hlZWwuem9vbTtcbiAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMuX2luZGV4KG9wdGlvbnMuZnJvbSk7XG4gICAgICAgIGNvbnN0IHRvID0gdGhpcy5faW5kZXgob3B0aW9ucy50byk7XG4gICAgICAgIGxldCByYW5nZSA9IHsgZnJvbTogZnJvbSwgdG86IHRvIH07XG4gICAgICAgIGNvbnN0IG9sZFJhbmdlID0gZGVlcEV4dGVuZCh7fSwgcmFuZ2UpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLl9zdGF0ZS5yYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh6RGlyICE9PSBSSUdIVCkge1xuICAgICAgICAgICAgcmFuZ2UuZnJvbSA9IGxpbWl0VmFsdWUoXG4gICAgICAgICAgICAgICAgbGltaXRWYWx1ZShmcm9tIC0gZGVsdGEsIDAsIHRvIC0gMSksXG4gICAgICAgICAgICAgICAgbWluLCBtYXhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoekRpciAhPT0gTEVGVCkge1xuICAgICAgICAgICAgcmFuZ2UudG8gPSBsaW1pdFZhbHVlKFxuICAgICAgICAgICAgICAgIGxpbWl0VmFsdWUodG8gKyBkZWx0YSwgcmFuZ2UuZnJvbSArIDEsIG1heCksXG4gICAgICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgICAgIG1heFxuICAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmFuZ2UuZnJvbSAhPT0gb2xkUmFuZ2UuZnJvbSB8fCByYW5nZS50byAhPT0gb2xkUmFuZ2UudG8pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgem9vbShkZWx0YSwgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuX2luZGV4KG9wdGlvbnMubWluKTtcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5faW5kZXgob3B0aW9ucy5tYXgpO1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5faW5kZXgob3B0aW9ucy5mcm9tKTtcbiAgICAgICAgY29uc3QgdG8gPSB0aGlzLl9pbmRleChvcHRpb25zLnRvKTtcbiAgICAgICAgbGV0IHJhbmdlID0geyBmcm9tOiBmcm9tLCB0bzogdG8gfTtcbiAgICAgICAgY29uc3Qgb2xkUmFuZ2UgPSBkZWVwRXh0ZW5kKHt9LCByYW5nZSk7XG5cbiAgICAgICAgY29uc3QgeyByZXZlcnNlIH0gPSB0aGlzLmNhdGVnb3J5QXhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSBYICsgKHJldmVyc2UgPyAnMicgOiAnMScpO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5jYXRlZ29yeUF4aXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCByZWxhdGl2ZSA9IE1hdGguYWJzKGxpbmVCb3hbb3JpZ2luXSAtIGNvb3Jkc1tYXSk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gcm91bmQocmVsYXRpdmUgLyBzaXplLCAyKTtcbiAgICAgICAgY29uc3QgbWluRGVsdGEgPSByb3VuZChwb3NpdGlvbiAqIGRlbHRhKTtcbiAgICAgICAgY29uc3QgbWF4RGVsdGEgPSByb3VuZCgoMSAtIHBvc2l0aW9uKSAqIGRlbHRhKTtcblxuICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIHJhbmdlID0gdGhpcy5fc3RhdGUucmFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICByYW5nZS5mcm9tID0gbGltaXRWYWx1ZShcbiAgICAgICAgICAgIGxpbWl0VmFsdWUoZnJvbSAtIG1pbkRlbHRhLCAwLCB0byAtIDEpLFxuICAgICAgICAgICAgbWluLCBtYXhcbiAgICAgICAgKTtcblxuICAgICAgICByYW5nZS50byA9IGxpbWl0VmFsdWUoXG4gICAgICAgICAgICBsaW1pdFZhbHVlKHRvICsgbWF4RGVsdGEsIHJhbmdlLmZyb20gKyAxLCBtYXgpLFxuICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgbWF4XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHJhbmdlLmZyb20gIT09IG9sZFJhbmdlLmZyb20gfHwgcmFuZ2UudG8gIT09IG9sZFJhbmdlLnRvKSB7XG4gICAgICAgICAgICB0aGlzLnNldChyYW5nZS5mcm9tLCByYW5nZS50byk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyaWdnZXIobmFtZSwgYXJncykge1xuICAgICAgICByZXR1cm4gKHRoaXMub2JzZXJ2ZXIgfHwgdGhpcy5jaGFydCkudHJpZ2dlcihuYW1lLCBhcmdzKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFNlbGVjdGlvbiwge1xuICAgIHZpc2libGU6IHRydWUsXG4gICAgbW91c2V3aGVlbDoge1xuICAgICAgICB6b29tOiBcImJvdGhcIlxuICAgIH0sXG4gICAgbWluOiBNSU5fVkFMVUUsXG4gICAgbWF4OiBNQVhfVkFMVUVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3Rpb247XG4iLCJpbXBvcnQgQmFzZVRvb2x0aXAgZnJvbSAnLi9iYXNlLXRvb2x0aXAnO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgVG9vbHRpcCBleHRlbmRzIEJhc2VUb29sdGlwIHtcbiAgICBzaG93KHBvaW50KSB7XG4gICAgICAgIGlmICghcG9pbnQgfHwgIXBvaW50LnRvb2x0aXBBbmNob3IgfHwgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fY3VycmVudCA9PT0gcG9pbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBwb2ludC5vcHRpb25zLnRvb2x0aXApO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBwb2ludC50b29sdGlwQW5jaG9yKCk7XG5cbiAgICAgICAgaWYgKGFuY2hvcikge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHBvaW50O1xuICAgICAgICAgICAgc3VwZXIuc2hvdyh7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IHBvaW50LFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICAgICAgICB9LCBvcHRpb25zLCBwb2ludCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jdXJyZW50O1xuICAgICAgICBzdXBlci5oaWRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb29sdGlwOyIsImltcG9ydCBCYXNlVG9vbHRpcCBmcm9tICcuL2Jhc2UtdG9vbHRpcCc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBncmVwLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFNoYXJlZFRvb2x0aXAgZXh0ZW5kcyBCYXNlVG9vbHRpcCB7XG4gICAgY29uc3RydWN0b3IocGxvdEFyZWEsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIocGxvdEFyZWEuY2hhcnRTZXJ2aWNlLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnBsb3RBcmVhID0gcGxvdEFyZWE7XG4gICAgICAgIHRoaXMuZm9ybWF0U2VydmljZSA9IHBsb3RBcmVhLmNoYXJ0U2VydmljZS5mb3JtYXQ7XG4gICAgfVxuXG4gICAgc2hvd0F0KHBvaW50cywgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXBQb2ludHMgPSBncmVwKHBvaW50cywgZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBwb2ludC5zZXJpZXMudG9vbHRpcDtcbiAgICAgICAgICAgIGNvbnN0IGV4Y2x1ZGVkID0gdG9vbHRpcCAmJiB0b29sdGlwLnZpc2libGUgPT09IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gIWV4Y2x1ZGVkO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodG9vbHRpcFBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHRvb2x0aXBQb2ludHNbMF07XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5wbG90QXJlYS5jYXRlZ29yeUF4aXMuZ2V0U2xvdChwb2ludC5jYXRlZ29yeUl4KTtcblxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gY29vcmRzID8gdGhpcy5fc2xvdEFuY2hvcihjb29yZHMsIHNsb3QpIDogdGhpcy5fZGVmYXVsdEFuY2hvcihwb2ludCwgc2xvdCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvdyh7XG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhbmNob3IsXG4gICAgICAgICAgICAgICAgc2hhcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBvaW50czogcG9pbnRzLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBwb2ludC5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeVRleHQ6IHRoaXMuZm9ybWF0U2VydmljZS5hdXRvKHRoaXMub3B0aW9ucy5jYXRlZ29yeUZvcm1hdCwgcG9pbnQuY2F0ZWdvcnkpLFxuICAgICAgICAgICAgICAgIHNlcmllczogdGhpcy5wbG90QXJlYS5zZXJpZXNcbiAgICAgICAgICAgIH0sIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2xvdEFuY2hvcihwb2ludCwgc2xvdCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5wbG90QXJlYS5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGNvbnN0IGFsaWduID0ge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJsZWZ0XCIsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogXCJjZW50ZXJcIlxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghYXhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBwb2ludC54ID0gc2xvdC5jZW50ZXIoKS54O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgIGFsaWduOiBhbGlnblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9kZWZhdWx0QW5jaG9yKHBvaW50LCBzbG90KSB7XG4gICAgICAgIGNvbnN0IGJveCA9IHBvaW50Lm93bmVyLnBhbmUuY2hhcnRzQm94KCk7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5wbG90QXJlYS5jYXRlZ29yeUF4aXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgY2VudGVyID0gYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBzbG90Q2VudGVyID0gc2xvdC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgYWxpZ24gPSB7XG4gICAgICAgICAgICBob3Jpem9udGFsOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgdmVydGljYWw6IFwiY2VudGVyXCJcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgY2VudGVyUG9pbnQ7XG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgY2VudGVyUG9pbnQgPSBuZXcgUG9pbnQoY2VudGVyLngsIHNsb3RDZW50ZXIueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjZW50ZXJQb2ludCA9IG5ldyBQb2ludChzbG90Q2VudGVyLngsIGNlbnRlci55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogY2VudGVyUG9pbnQsXG4gICAgICAgICAgICBhbGlnbjogYWxpZ25cbiAgICAgICAgfTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFNoYXJlZFRvb2x0aXAsIHtcbiAgICBjYXRlZ29yeUZvcm1hdDogJ3swOmR9J1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXJlZFRvb2x0aXA7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgQkFSLCBTVEFSVF9TQ0FMRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGludGVycG9sYXRlVmFsdWUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQmFyQ2hhcnRBbmltYXRpb24gZXh0ZW5kcyBkcmF3LkFuaW1hdGlvbiB7XG5cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBiYm94ID0gZWxlbWVudC5iYm94KCk7XG5cbiAgICAgICAgaWYgKGJib3gpIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luID0gb3B0aW9ucy5vcmlnaW47XG4gICAgICAgICAgICBjb25zdCBheGlzID0gb3B0aW9ucy52ZXJ0aWNhbCA/IFkgOiBYO1xuXG4gICAgICAgICAgICBjb25zdCBmcm9tU2NhbGUgPSB0aGlzLmZyb21TY2FsZSA9IG5ldyBnZW9tLlBvaW50KDEsIDEpO1xuICAgICAgICAgICAgZnJvbVNjYWxlW2F4aXNdID0gU1RBUlRfU0NBTEU7XG5cbiAgICAgICAgICAgIGVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgICAgICAuc2NhbGUoZnJvbVNjYWxlLngsIGZyb21TY2FsZS55KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0ZXAocG9zKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlWCA9IGludGVycG9sYXRlVmFsdWUodGhpcy5mcm9tU2NhbGUueCwgMSwgcG9zKTtcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gaW50ZXJwb2xhdGVWYWx1ZSh0aGlzLmZyb21TY2FsZS55LCAxLCBwb3MpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0oZ2VvbS50cmFuc2Zvcm0oKVxuICAgICAgICAgICAgLnNjYWxlKHNjYWxlWCwgc2NhbGVZLCB0aGlzLm9yaWdpbilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgc3VwZXIuYWJvcnQoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnRyYW5zZm9ybShudWxsKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEJhckNoYXJ0QW5pbWF0aW9uLCB7XG4gICAgZHVyYXRpb246IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG59KTtcblxuZHJhdy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoQkFSLCBCYXJDaGFydEFuaW1hdGlvbik7XG5cbmV4cG9ydCBkZWZhdWx0IEJhckNoYXJ0QW5pbWF0aW9uOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgU1RBUlRfU0NBTEUsIEJVQkJMRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQnViYmxlQW5pbWF0aW9uIGV4dGVuZHMgZHJhdy5BbmltYXRpb24ge1xuICAgIHNldHVwKCkge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlciA9IHRoaXMuZWxlbWVudC5iYm94KCkuY2VudGVyKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0oZ2VvbS50cmFuc2Zvcm0oKVxuICAgICAgICAgICAgLnNjYWxlKFNUQVJUX1NDQUxFLCBTVEFSVF9TQ0FMRSwgY2VudGVyKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN0ZXAocG9zKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0oZ2VvbS50cmFuc2Zvcm0oKVxuICAgICAgICAgICAgLnNjYWxlKHBvcywgcG9zLCB0aGlzLmNlbnRlcilcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEJ1YmJsZUFuaW1hdGlvbiwge1xuICAgIGVhc2luZzogXCJlYXNlT3V0RWxhc3RpY1wiXG59KTtcblxuZHJhdy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoQlVCQkxFLCBCdWJibGVBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBCdWJibGVBbmltYXRpb247IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBGQURFSU4gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEZhZGVJbkFuaW1hdGlvbiBleHRlbmRzIGRyYXcuQW5pbWF0aW9uIHtcbiAgICBzZXR1cCgpIHtcbiAgICAgICAgdGhpcy5mYWRlVG8gPSB0aGlzLmVsZW1lbnQub3BhY2l0eSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQub3BhY2l0eSgwKTtcbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICB0aGlzLmVsZW1lbnQub3BhY2l0eShwb3MgKiB0aGlzLmZhZGVUbyk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhGYWRlSW5BbmltYXRpb24sIHtcbiAgICBkdXJhdGlvbjogMjAwLFxuICAgIGVhc2luZzogXCJsaW5lYXJcIlxufSk7XG5cbmRyYXcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKEZBREVJTiwgRmFkZUluQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgRmFkZUluQW5pbWF0aW9uOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgU1RBUlRfU0NBTEUsIElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OLCBQSUUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBpZUFuaW1hdGlvbiBleHRlbmRzIGRyYXcuQW5pbWF0aW9uIHtcbiAgICBzZXR1cCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnRyYW5zZm9ybShnZW9tLnRyYW5zZm9ybSgpXG4gICAgICAgICAgICAuc2NhbGUoU1RBUlRfU0NBTEUsIFNUQVJUX1NDQUxFLCB0aGlzLm9wdGlvbnMuY2VudGVyKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN0ZXAocG9zKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0oZ2VvbS50cmFuc2Zvcm0oKVxuICAgICAgICAgICAgLnNjYWxlKHBvcywgcG9zLCB0aGlzLm9wdGlvbnMuY2VudGVyKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUGllQW5pbWF0aW9uLCB7XG4gICAgZWFzaW5nOiBcImVhc2VPdXRFbGFzdGljXCIsXG4gICAgZHVyYXRpb246IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG59KTtcblxuZHJhdy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoUElFLCBQaWVBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBQaWVBbmltYXRpb247IiwiaW1wb3J0IFNjYXR0ZXJDaGFydCBmcm9tICcuL3NjYXR0ZXItY2hhcnQnO1xuaW1wb3J0IExpbmVDaGFydE1peGluIGZyb20gJy4uL21peGlucy9saW5lLWNoYXJ0LW1peGluJztcbmltcG9ydCBMaW5lU2VnbWVudCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtc2VnbWVudCc7XG5pbXBvcnQgU3BsaW5lU2VnbWVudCBmcm9tICcuLi9saW5lLWNoYXJ0L3NwbGluZS1zZWdtZW50JztcblxuaW1wb3J0IHsgU01PT1RILCBaRVJPIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IGhhc1ZhbHVlIGZyb20gJy4uL3V0aWxzL2hhcy12YWx1ZSc7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTY2F0dGVyTGluZUNoYXJ0IGV4dGVuZHMgU2NhdHRlckNoYXJ0IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlcigpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyU2VnbWVudHMoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gY3VycmVudFNlcmllcy5zdHlsZTtcbiAgICAgICAgbGV0IHBvaW50VHlwZTtcblxuICAgICAgICBpZiAoc3R5bGUgPT09IFNNT09USCkge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gU3BsaW5lU2VnbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IExpbmVTZWdtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBwb2ludFR5cGUobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpO1xuICAgIH1cblxuICAgIGFuaW1hdGlvblBvaW50cygpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gc3VwZXIuYW5pbWF0aW9uUG9pbnRzKCk7XG4gICAgICAgIHJldHVybiBwb2ludHMuY29uY2F0KHRoaXMuX3NlZ21lbnRzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNaXNzaW5nVmFsdWUodmFsdWUsIG1pc3NpbmdWYWx1ZXMpIHtcbiAgICAgICAgaWYgKG1pc3NpbmdWYWx1ZXMgPT09IFpFUk8pIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICB4OiB2YWx1ZS54LFxuICAgICAgICAgICAgICAgIHk6IHZhbHVlLnlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKG1pc3NpbmdWYWx1ZS54KSkge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdWYWx1ZS54ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGFzVmFsdWUobWlzc2luZ1ZhbHVlLnkpKSB7XG4gICAgICAgICAgICAgICAgbWlzc2luZ1ZhbHVlLnkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1pc3NpbmdWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZGVlcEV4dGVuZChTY2F0dGVyTGluZUNoYXJ0LnByb3RvdHlwZSwgTGluZUNoYXJ0TWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBTY2F0dGVyTGluZUNoYXJ0OyIsImltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS1iYXNlJztcbmltcG9ydCBBeGlzR3JvdXBSYW5nZVRyYWNrZXIgZnJvbSAnLi4vYXhpcy1ncm91cC1yYW5nZS10cmFja2VyJztcbmltcG9ydCBQbG90QXJlYUV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wbG90YXJlYS1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IFNjYXR0ZXJDaGFydCBmcm9tICcuLi9zY2F0dGVyLWNoYXJ0cy9zY2F0dGVyLWNoYXJ0JztcbmltcG9ydCBTY2F0dGVyTGluZUNoYXJ0IGZyb20gJy4uL3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItbGluZS1jaGFydCc7XG5pbXBvcnQgQnViYmxlQ2hhcnQgZnJvbSAnLi4vYnViYmxlLWNoYXJ0L2J1YmJsZS1jaGFydCc7XG5pbXBvcnQgU2VyaWVzQmluZGVyIGZyb20gJy4uL3Nlcmllcy1iaW5kZXInO1xuXG5pbXBvcnQgeyBOdW1lcmljQXhpcywgTG9nYXJpdGhtaWNBeGlzLCBEYXRlVmFsdWVBeGlzLCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgZmlsdGVyU2VyaWVzQnlUeXBlIGZyb20gJy4uL3V0aWxzL2ZpbHRlci1zZXJpZXMtYnktdHlwZSc7XG5pbXBvcnQgZXF1YWxzSWdub3JlQ2FzZSBmcm9tICcuLi91dGlscy9lcXVhbHMtaWdub3JlLWNhc2UnO1xuaW1wb3J0IHNpbmdsZUl0ZW1PckFycmF5IGZyb20gJy4uL3V0aWxzL3NpbmdsZS1pdGVtLW9yLWFycmF5JztcblxuaW1wb3J0IHsgU0NBVFRFUiwgU0NBVFRFUl9MSU5FLCBCVUJCTEUsIExPR0FSSVRITUlDIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgREFURSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZXZlbnRFbGVtZW50LCBncmVwLCBpbkFycmF5LCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFhZUGxvdEFyZWEgZXh0ZW5kcyBQbG90QXJlYUJhc2Uge1xuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMubmFtZWRYQXhlcyA9IHt9O1xuICAgICAgICB0aGlzLm5hbWVkWUF4ZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnhBeGlzUmFuZ2VUcmFja2VyID0gbmV3IEF4aXNHcm91cFJhbmdlVHJhY2tlcigpO1xuICAgICAgICB0aGlzLnlBeGlzUmFuZ2VUcmFja2VyID0gbmV3IEF4aXNHcm91cFJhbmdlVHJhY2tlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcihwYW5lcyA9IHRoaXMucGFuZXMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzQnlQYW5lID0gdGhpcy5ncm91cFNlcmllc0J5UGFuZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVTZXJpZXMgPSBzZXJpZXNCeVBhbmVbcGFuZS5vcHRpb25zLm5hbWUgfHwgXCJkZWZhdWx0XCJdIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5hZGRUb0xlZ2VuZChwYW5lU2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHBhbmVTZXJpZXMpO1xuXG4gICAgICAgICAgICBpZiAoIWZpbHRlcmVkU2VyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2NhdHRlckNoYXJ0KFxuICAgICAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShmaWx0ZXJlZFNlcmllcywgU0NBVFRFUiksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVTY2F0dGVyTGluZUNoYXJ0KFxuICAgICAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShmaWx0ZXJlZFNlcmllcywgU0NBVFRFUl9MSU5FKSxcbiAgICAgICAgICAgICAgICBwYW5lXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1YmJsZUNoYXJ0KFxuICAgICAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShmaWx0ZXJlZFNlcmllcywgQlVCQkxFKSxcbiAgICAgICAgICAgICAgICBwYW5lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jcmVhdGVBeGVzKHBhbmVzKTtcbiAgICB9XG5cbiAgICBhcHBlbmRDaGFydChjaGFydCwgcGFuZSkge1xuICAgICAgICB0aGlzLnhBeGlzUmFuZ2VUcmFja2VyLnVwZGF0ZShjaGFydC54QXhpc1Jhbmdlcyk7XG4gICAgICAgIHRoaXMueUF4aXNSYW5nZVRyYWNrZXIudXBkYXRlKGNoYXJ0LnlBeGlzUmFuZ2VzKTtcblxuICAgICAgICBzdXBlci5hcHBlbmRDaGFydChjaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQXhpcyhheGlzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gYXhpcy5vcHRpb25zLm5hbWU7XG5cbiAgICAgICAgc3VwZXIucmVtb3ZlQXhpcyhheGlzKTtcblxuICAgICAgICBpZiAoYXhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0aGlzLnlBeGlzUmFuZ2VUcmFja2VyLnJlc2V0KGF4aXNOYW1lKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm5hbWVkWUF4ZXNbYXhpc05hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54QXhpc1JhbmdlVHJhY2tlci5yZXNldChheGlzTmFtZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5uYW1lZFhBeGVzW2F4aXNOYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChheGlzID09PSB0aGlzLmF4aXNYKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5heGlzWDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChheGlzID09PSB0aGlzLmF4aXNZKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5heGlzWTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE86IFJlZmFjdG9yLCBvcHRpb25hbGx5IHVzZSBzZXJpZXMucGFuZSBvcHRpb25cbiAgICBzZXJpZXNQYW5lTmFtZShzZXJpZXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeEF4aXNOYW1lID0gc2VyaWVzLnhBeGlzO1xuICAgICAgICBjb25zdCB4QXhpc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy54QXhpcyk7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gZ3JlcCh4QXhpc09wdGlvbnMsIGZ1bmN0aW9uKGEpIHsgcmV0dXJuIGEubmFtZSA9PT0geEF4aXNOYW1lOyB9KVswXTtcbiAgICAgICAgY29uc3QgeUF4aXNOYW1lID0gc2VyaWVzLnlBeGlzO1xuICAgICAgICBjb25zdCB5QXhpc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy55QXhpcyk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gZ3JlcCh5QXhpc09wdGlvbnMsIGZ1bmN0aW9uKGEpIHsgcmV0dXJuIGEubmFtZSA9PT0geUF4aXNOYW1lOyB9KVswXTtcbiAgICAgICAgY29uc3QgcGFuZXMgPSBvcHRpb25zLnBhbmVzIHx8IFsge30gXTtcbiAgICAgICAgY29uc3QgZGVmYXVsdFBhbmVOYW1lID0gcGFuZXNbMF0ubmFtZSB8fCBcImRlZmF1bHRcIjtcbiAgICAgICAgY29uc3QgcGFuZU5hbWUgPSAoeEF4aXMgfHwge30pLnBhbmUgfHwgKHlBeGlzIHx8IHt9KS5wYW5lIHx8IGRlZmF1bHRQYW5lTmFtZTtcblxuICAgICAgICByZXR1cm4gcGFuZU5hbWU7XG4gICAgfVxuXG4gICAgY3JlYXRlU2NhdHRlckNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoXG4gICAgICAgICAgICAgICAgbmV3IFNjYXR0ZXJDaGFydCh0aGlzLCB7IHNlcmllczogc2VyaWVzLCBjbGlwOiBwYW5lLm9wdGlvbnMuY2xpcCB9KSxcbiAgICAgICAgICAgICAgICBwYW5lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlU2NhdHRlckxpbmVDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KFxuICAgICAgICAgICAgICAgIG5ldyBTY2F0dGVyTGluZUNoYXJ0KHRoaXMsIHsgc2VyaWVzOiBzZXJpZXMsIGNsaXA6IHBhbmUub3B0aW9ucy5jbGlwIH0pLFxuICAgICAgICAgICAgICAgIHBhbmVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVCdWJibGVDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KFxuICAgICAgICAgICAgICAgIG5ldyBCdWJibGVDaGFydCh0aGlzLCB7IHNlcmllczogc2VyaWVzLCBjbGlwOiBwYW5lLm9wdGlvbnMuY2xpcCB9KSxcbiAgICAgICAgICAgICAgICBwYW5lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlWFlBeGlzKG9wdGlvbnMsIHZlcnRpY2FsLCBheGlzSW5kZXgpIHtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBvcHRpb25zLm5hbWU7XG4gICAgICAgIGNvbnN0IG5hbWVkQXhlcyA9IHZlcnRpY2FsID8gdGhpcy5uYW1lZFlBeGVzIDogdGhpcy5uYW1lZFhBeGVzO1xuICAgICAgICBjb25zdCB0cmFja2VyID0gdmVydGljYWwgPyB0aGlzLnlBeGlzUmFuZ2VUcmFja2VyIDogdGhpcy54QXhpc1JhbmdlVHJhY2tlcjtcbiAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSBkZWVwRXh0ZW5kKHsgcmV2ZXJzZTogIXZlcnRpY2FsICYmIHRoaXMuY2hhcnRTZXJ2aWNlLnJ0bCB9LCBvcHRpb25zLCB7IHZlcnRpY2FsOiB2ZXJ0aWNhbCB9KTtcbiAgICAgICAgY29uc3QgaXNMb2cgPSBlcXVhbHNJZ25vcmVDYXNlKGF4aXNPcHRpb25zLnR5cGUsIExPR0FSSVRITUlDKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdFJhbmdlID0gdHJhY2tlci5xdWVyeSgpO1xuICAgICAgICBjb25zdCBkZWZhdWx0QXhpc1JhbmdlID0gaXNMb2cgPyB7IG1pbjogMC4xLCBtYXg6IDEgfSA6IHsgbWluOiAwLCBtYXg6IDEgfTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0cmFja2VyLnF1ZXJ5KGF4aXNOYW1lKSB8fCBkZWZhdWx0UmFuZ2UgfHwgZGVmYXVsdEF4aXNSYW5nZTtcbiAgICAgICAgY29uc3QgdHlwZVNhbXBsZXMgPSBbIGF4aXNPcHRpb25zLm1pbiwgYXhpc09wdGlvbnMubWF4IF07XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuc2VyaWVzO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc0F4aXNOYW1lID0gY3VycmVudFNlcmllc1t2ZXJ0aWNhbCA/IFwieUF4aXNcIiA6IFwieEF4aXNcIl07XG4gICAgICAgICAgICBpZiAoKHNlcmllc0F4aXNOYW1lID09PSBheGlzT3B0aW9ucy5uYW1lKSB8fCAoYXhpc0luZGV4ID09PSAwICYmICFzZXJpZXNBeGlzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFBvaW50VmFsdWUgPSBTZXJpZXNCaW5kZXIuY3VycmVudC5iaW5kUG9pbnQoY3VycmVudFNlcmllcywgMCkudmFsdWVGaWVsZHM7XG4gICAgICAgICAgICAgICAgdHlwZVNhbXBsZXMucHVzaChmaXJzdFBvaW50VmFsdWVbdmVydGljYWwgPyBcInlcIiA6IFwieFwiXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChheGlzSW5kZXggPT09IDAgJiYgZGVmYXVsdFJhbmdlKSB7XG4gICAgICAgICAgICByYW5nZS5taW4gPSBNYXRoLm1pbihyYW5nZS5taW4sIGRlZmF1bHRSYW5nZS5taW4pO1xuICAgICAgICAgICAgcmFuZ2UubWF4ID0gTWF0aC5tYXgocmFuZ2UubWF4LCBkZWZhdWx0UmFuZ2UubWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmZlcnJlZERhdGU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlU2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHR5cGVTYW1wbGVzW2ldIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIGluZmVycmVkRGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYXhpc1R5cGU7XG4gICAgICAgIGlmIChlcXVhbHNJZ25vcmVDYXNlKGF4aXNPcHRpb25zLnR5cGUsIERBVEUpIHx8ICghYXhpc09wdGlvbnMudHlwZSAmJiBpbmZlcnJlZERhdGUpKSB7XG4gICAgICAgICAgICBheGlzVHlwZSA9IERhdGVWYWx1ZUF4aXM7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNMb2cpIHtcbiAgICAgICAgICAgIGF4aXNUeXBlID0gTG9nYXJpdGhtaWNBeGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXhpc1R5cGUgPSBOdW1lcmljQXhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF4aXMgPSBuZXcgYXhpc1R5cGUocmFuZ2UubWluLCByYW5nZS5tYXgsIGF4aXNPcHRpb25zLCB0aGlzLmNoYXJ0U2VydmljZSk7XG4gICAgICAgIGF4aXMuYXhpc0luZGV4ID0gYXhpc0luZGV4O1xuXG4gICAgICAgIGlmIChheGlzTmFtZSkge1xuICAgICAgICAgICAgaWYgKG5hbWVkQXhlc1theGlzTmFtZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7IHZlcnRpY2FsID8gXCJZXCIgOiBcIlhcIiB9IGF4aXMgd2l0aCBuYW1lICR7IGF4aXNOYW1lIH0gaXMgYWxyZWFkeSBkZWZpbmVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYW1lZEF4ZXNbYXhpc05hbWVdID0gYXhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwZW5kQXhpcyhheGlzKTtcblxuICAgICAgICByZXR1cm4gYXhpcztcbiAgICB9XG5cbiAgICBjcmVhdGVBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHhBeGVzT3B0aW9ucyA9IFtdLmNvbmNhdChvcHRpb25zLnhBeGlzKTtcbiAgICAgICAgY29uc3QgeEF4ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgeUF4ZXNPcHRpb25zID0gW10uY29uY2F0KG9wdGlvbnMueUF4aXMpO1xuICAgICAgICBjb25zdCB5QXhlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHhBeGVzT3B0aW9ucy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzUGFuZSA9IHRoaXMuZmluZFBhbmUoeEF4ZXNPcHRpb25zW2lkeF0ucGFuZSk7XG4gICAgICAgICAgICBpZiAoaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgeEF4ZXMucHVzaCh0aGlzLmNyZWF0ZVhZQXhpcyh4QXhlc09wdGlvbnNbaWR4XSwgZmFsc2UsIGlkeCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgeUF4ZXNPcHRpb25zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNQYW5lID0gdGhpcy5maW5kUGFuZSh5QXhlc09wdGlvbnNbaWR4XS5wYW5lKTtcbiAgICAgICAgICAgIGlmIChpbkFycmF5KGF4aXNQYW5lLCBwYW5lcykpIHtcbiAgICAgICAgICAgICAgICB5QXhlcy5wdXNoKHRoaXMuY3JlYXRlWFlBeGlzKHlBeGVzT3B0aW9uc1tpZHhdLCB0cnVlLCBpZHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXhpc1ggPSB0aGlzLmF4aXNYIHx8IHhBeGVzWzBdO1xuICAgICAgICB0aGlzLmF4aXNZID0gdGhpcy5heGlzWSB8fCB5QXhlc1swXTtcbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hFdmVudChjaGFydCwgZSwgZXZlbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IGNoYXJ0Ll9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludChjb29yZHMueCwgY29vcmRzLnkpO1xuICAgICAgICBjb25zdCBhbGxBeGVzID0gdGhpcy5heGVzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBhbGxBeGVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgeFZhbHVlcyA9IFtdO1xuICAgICAgICBjb25zdCB5VmFsdWVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGFsbEF4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBheGlzLm9wdGlvbnMudmVydGljYWwgPyB5VmFsdWVzIDogeFZhbHVlcztcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGF4aXMuZ2V0VmFsdWUocG9pbnQpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeFZhbHVlcy5sZW5ndGggPiAwICYmIHlWYWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY2hhcnQudHJpZ2dlcihldmVudFR5cGUsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICAgICAgICAgICAgICB4OiBzaW5nbGVJdGVtT3JBcnJheSh4VmFsdWVzKSxcbiAgICAgICAgICAgICAgICB5OiBzaW5nbGVJdGVtT3JBcnJheSh5VmFsdWVzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVBeGlzT3B0aW9ucyhheGlzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5ncm91cEF4ZXModGhpcy5wYW5lcyk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gKHZlcnRpY2FsID8gYXhlcy55IDogYXhlcy54KS5pbmRleE9mKGF4aXMpO1xuXG4gICAgICAgIHVwZGF0ZUF4aXNPcHRpb25zKHRoaXMub3B0aW9ucywgaW5kZXgsIHZlcnRpY2FsLCBvcHRpb25zKTtcbiAgICAgICAgdXBkYXRlQXhpc09wdGlvbnModGhpcy5vcmlnaW5hbE9wdGlvbnMsIGluZGV4LCB2ZXJ0aWNhbCwgb3B0aW9ucyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVBeGlzT3B0aW9ucyh0YXJnZXRPcHRpb25zLCBheGlzSW5kZXgsIHZlcnRpY2FsLCBvcHRpb25zKSB7XG4gICAgY29uc3QgYXhpc09wdGlvbnMgPSAoW10uY29uY2F0KHZlcnRpY2FsID8gdGFyZ2V0T3B0aW9ucy55QXhpcyA6IHRhcmdldE9wdGlvbnMueEF4aXMpKVtheGlzSW5kZXhdO1xuICAgIGRlZXBFeHRlbmQoYXhpc09wdGlvbnMsIG9wdGlvbnMpO1xufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhYWVBsb3RBcmVhLCB7XG4gICAgeEF4aXM6IHt9LFxuICAgIHlBeGlzOiB7fVxufSk7XG5cbmRlZXBFeHRlbmQoWFlQbG90QXJlYS5wcm90b3R5cGUsIFBsb3RBcmVhRXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBYWVBsb3RBcmVhOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBTaGFwZUJ1aWxkZXIsIFRleHRCb3gsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcblxuaW1wb3J0IHsgT1VUU0lERV9FTkQsIElOU0lERV9FTkQsIFBJRSwgRkFERUlOLCBUT09MVElQX09GRlNFVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgaGFzR3JhZGllbnRPdmVybGF5IGZyb20gJy4uL3V0aWxzL2hhcy1ncmFkaWVudC1vdmVybGF5JztcblxuaW1wb3J0IHsgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hULCBERUZBVUxUX0ZPTlQsIENJUkNMRSwgV0hJVEUsIENFTlRFUiwgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGF1dG9UZXh0Q29sb3IsIHNldERlZmF1bHRPcHRpb25zLCBnZXRTcGFjaW5nLCBnZXRUZW1wbGF0ZSwgZGVlcEV4dGVuZCwgcm91bmQsIHJhZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBpZVNlZ21lbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBzZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNlY3RvciA9IHNlY3RvcjtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMub3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGNoYXJ0U2VydmljZSA9IHRoaXMub3duZXIuY2hhcnRTZXJ2aWNlO1xuICAgICAgICBsZXQgbGFiZWxUZXh0ID0gdGhpcy52YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWQgfHwgdGhpcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gZ2V0VGVtcGxhdGUobGFiZWxzKTtcbiAgICAgICAgY29uc3QgcG9pbnREYXRhID0gdGhpcy5wb2ludERhdGEoKTtcblxuICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgbGFiZWxUZXh0ID0gbGFiZWxUZW1wbGF0ZShwb2ludERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGxhYmVscy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGxhYmVsVGV4dCA9IGNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhsYWJlbHMuZm9ybWF0LCBsYWJlbFRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxhYmVscy52aXNpYmxlICYmIChsYWJlbFRleHQgfHwgbGFiZWxUZXh0ID09PSAwKSkge1xuICAgICAgICAgICAgaWYgKGxhYmVscy5wb3NpdGlvbiA9PT0gQ0VOVEVSIHx8IGxhYmVscy5wb3NpdGlvbiA9PT0gSU5TSURFX0VORCkge1xuICAgICAgICAgICAgICAgIGlmICghbGFiZWxzLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVscy5jb2xvciA9IGF1dG9UZXh0Q29sb3IodGhpcy5vcHRpb25zLmNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFsYWJlbHMuYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbHMuYmFja2dyb3VuZCA9IHRoaXMub3B0aW9ucy5jb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lTGFiZWxzID0gY2hhcnRTZXJ2aWNlLnRoZW1lLnNlcmllc0RlZmF1bHRzLmxhYmVscztcbiAgICAgICAgICAgICAgICBsYWJlbHMuY29sb3IgPSBsYWJlbHMuY29sb3IgfHwgdGhlbWVMYWJlbHMuY29sb3I7XG4gICAgICAgICAgICAgICAgbGFiZWxzLmJhY2tncm91bmQgPSBsYWJlbHMuYmFja2dyb3VuZCB8fCB0aGVtZUxhYmVscy5iYWNrZ3JvdW5kO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBuZXcgVGV4dEJveChsYWJlbFRleHQsIGRlZXBFeHRlbmQoe30sIGxhYmVscywge1xuICAgICAgICAgICAgICAgIGFsaWduOiBDRU5URVIsXG4gICAgICAgICAgICAgICAgdkFsaWduOiBcIlwiLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiB0aGlzLmFuaW1hdGlvbkRlbGF5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHBvaW50RGF0YSk7XG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcbiAgICAgICAgdGhpcy5yZWZsb3dMYWJlbCgpO1xuICAgIH1cblxuICAgIHJlZmxvd0xhYmVsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgbGFiZWxzOiBsYWJlbHNPcHRpb25zIH0sIGxhYmVsIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzZWN0b3IgPSB0aGlzLnNlY3Rvci5jbG9uZSgpO1xuICAgICAgICBjb25zdCBsYWJlbHNEaXN0YW5jZSA9IGxhYmVsc09wdGlvbnMuZGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gc2VjdG9yLm1pZGRsZSgpO1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxIZWlnaHQgPSBsYWJlbC5ib3guaGVpZ2h0KCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFdpZHRoID0gbGFiZWwuYm94LndpZHRoKCk7XG4gICAgICAgICAgICBsZXQgbHA7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbHNPcHRpb25zLnBvc2l0aW9uID09PSBDRU5URVIpIHtcbiAgICAgICAgICAgICAgICBzZWN0b3IucmFkaXVzID0gTWF0aC5hYnMoKHNlY3Rvci5yYWRpdXMgLSBsYWJlbEhlaWdodCkgLyAyKSArIGxhYmVsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGxwID0gc2VjdG9yLnBvaW50KGFuZ2xlKTtcbiAgICAgICAgICAgICAgICBsYWJlbC5yZWZsb3cobmV3IEJveChscC54LCBscC55IC0gbGFiZWxIZWlnaHQgLyAyLCBscC54LCBscC55KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhYmVsc09wdGlvbnMucG9zaXRpb24gPT09IElOU0lERV9FTkQpIHtcbiAgICAgICAgICAgICAgICBzZWN0b3IucmFkaXVzID0gc2VjdG9yLnJhZGl1cyAtIGxhYmVsSGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBscCA9IHNlY3Rvci5wb2ludChhbmdsZSk7XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3gobHAueCwgbHAueSAtIGxhYmVsSGVpZ2h0IC8gMiwgbHAueCwgbHAueSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgeDE7XG4gICAgICAgICAgICAgICAgbHAgPSBzZWN0b3IuY2xvbmUoKS5leHBhbmQobGFiZWxzRGlzdGFuY2UpLnBvaW50KGFuZ2xlKTtcbiAgICAgICAgICAgICAgICBpZiAobHAueCA+PSBzZWN0b3IuY2VudGVyLngpIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBscC54ICsgbGFiZWxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwub3JpZW50YXRpb24gPSBSSUdIVDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB4MSA9IGxwLnggLSBsYWJlbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5vcmllbnRhdGlvbiA9IExFRlQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhuZXcgQm94KHgxLCBscC55IC0gbGFiZWxIZWlnaHQsIGxwLngsIGxwLnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBzZWN0b3IsIG9wdGlvbnMgfSA9IHRoaXM7XG5cbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnZpc3VhbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSAoc2VjdG9yLnN0YXJ0QW5nbGUgKyAxODApICUgMzYwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpc3VhbCA9IG9wdGlvbnMudmlzdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5wZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBnZW9tLlBvaW50KHNlY3Rvci5jZW50ZXIueCwgc2VjdG9yLmNlbnRlci55KSxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBzZWN0b3IucmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZTogc3RhcnRBbmdsZSArIHNlY3Rvci5hbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IGRyYXcuR3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudFZpc3VhbChncm91cCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZpc3VhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodmlzdWFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudFZpc3VhbCh0aGlzLnZpc3VhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50VmlzdWFsKGdyb3VwKSB7XG4gICAgICAgIGNvbnN0IHsgc2VjdG9yLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBib3JkZXJPcHRpb25zID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGJvcmRlck9wdGlvbnMud2lkdGggPiAwID8ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlck9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlck9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogYm9yZGVyT3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXJPcHRpb25zLmRhc2hUeXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gOiB7fTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBvcHRpb25zLmNvbG9yO1xuICAgICAgICBjb25zdCBmaWxsID0ge1xuICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHZpc3VhbCA9IHRoaXMuY3JlYXRlU2VnbWVudChzZWN0b3IsIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXhcbiAgICAgICAgfSwgYm9yZGVyKSk7XG5cbiAgICAgICAgZ3JvdXAuYXBwZW5kKHZpc3VhbCk7XG5cbiAgICAgICAgaWYgKGhhc0dyYWRpZW50T3ZlcmxheShvcHRpb25zKSkge1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHRoaXMuY3JlYXRlR3JhZGllbnRPdmVybGF5KHZpc3VhbCwge1xuICAgICAgICAgICAgICAgIGJhc2VDb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tGaWxsOiBmaWxsXG4gICAgICAgICAgICB9LCBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IFsgc2VjdG9yLmNlbnRlci54LCBzZWN0b3IuY2VudGVyLnkgXSxcbiAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgICAgIHJhZGl1czogc2VjdG9yLnJhZGl1cyxcbiAgICAgICAgICAgICAgICB1c2VyU3BhY2U6IHRydWVcbiAgICAgICAgICAgIH0sIG9wdGlvbnMub3ZlcmxheSkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQoc2VjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnNpbmdsZVNlZ21lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZHJhdy5DaXJjbGUobmV3IGdlb20uQ2lyY2xlKG5ldyBnZW9tLlBvaW50KHNlY3Rvci5jZW50ZXIueCwgc2VjdG9yLmNlbnRlci55KSwgc2VjdG9yLnJhZGl1cyksIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFNoYXBlQnVpbGRlci5jdXJyZW50LmNyZWF0ZVJpbmcoc2VjdG9yLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgc2VjdG9yOiB7IGNlbnRlciB9IH0gPSB0aGlzO1xuXG4gICAgICAgIGRlZXBFeHRlbmQob3B0aW9ucywge1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBbIGNlbnRlci54LCBjZW50ZXIueSBdLFxuICAgICAgICAgICAgICAgIGRlbGF5OiB0aGlzLmFuaW1hdGlvbkRlbGF5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN1cGVyLmNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIH1cblxuICAgIGNyZWF0ZUhpZ2hsaWdodChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQgfHwge307XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGhpZ2hsaWdodC5ib3JkZXIgfHwge307XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2VnbWVudCh0aGlzLnNlY3RvciwgZGVlcEV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBoaWdobGlnaHQuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogaGlnaGxpZ2h0Lm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBib3JkZXIub3BhY2l0eSxcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIuY29sb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsLmNoaWxkcmVuWzBdO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHRoaXMuc2VjdG9yO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICByYWRpdXM6IHNlY3Rvci5yYWRpdXMsXG4gICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgY2VudGVyOiBuZXcgZ2VvbS5Qb2ludChzZWN0b3IuY2VudGVyLngsIHNlY3Rvci5jZW50ZXIueSksXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzZWN0b3Iuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBzZWN0b3IuYW5nbGUgKyBzZWN0b3Iuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIHZpc3VhbDogdGhpcy52aXN1YWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b29sdGlwQW5jaG9yKCkge1xuICAgICAgICBjb25zdCBzZWN0b3IgPSB0aGlzLnNlY3Rvci5jbG9uZSgpLmV4cGFuZChUT09MVElQX09GRlNFVCk7XG4gICAgICAgIGNvbnN0IG1pZEFuZGxlID0gc2VjdG9yLm1pZGRsZSgpO1xuICAgICAgICBjb25zdCBtaWRQb2ludCA9IHNlY3Rvci5wb2ludChtaWRBbmRsZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBtaWRQb2ludCxcbiAgICAgICAgICAgIGFsaWduOiB0b29sdGlwQWxpZ25tZW50KG1pZEFuZGxlICsgMTgwKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5mb3JtYXRQb2ludFZhbHVlKHRoaXMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgcG9pbnREYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY29uc3QgUkFEXzMwID0gcm91bmQocmFkKDMwKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuY29uc3QgUkFEXzYwID0gcm91bmQocmFkKDYwKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuXG5mdW5jdGlvbiB0b29sdGlwQWxpZ25tZW50KGFuZ2xlKSB7XG4gICAgY29uc3QgcmFkaWFucyA9IHJhZChhbmdsZSk7XG4gICAgY29uc3Qgc2luZSA9IHJvdW5kKE1hdGguc2luKHJhZGlhbnMpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgY29uc3QgY29zaW5lID0gcm91bmQoTWF0aC5jb3MocmFkaWFucyksIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuXG4gICAgbGV0IGhvcml6b250YWw7XG4gICAgaWYgKE1hdGguYWJzKHNpbmUpID4gUkFEXzYwKSB7XG4gICAgICAgIGhvcml6b250YWwgPSBDRU5URVI7XG4gICAgfSBlbHNlIGlmIChjb3NpbmUgPCAwKSB7XG4gICAgICAgIGhvcml6b250YWwgPSBSSUdIVDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBob3Jpem9udGFsID0gTEVGVDtcbiAgICB9XG5cbiAgICBsZXQgdmVydGljYWw7XG4gICAgaWYgKE1hdGguYWJzKHNpbmUpIDwgUkFEXzMwKSB7XG4gICAgICAgIHZlcnRpY2FsID0gQ0VOVEVSO1xuICAgIH0gZWxzZSBpZiAoc2luZSA8IDApIHtcbiAgICAgICAgdmVydGljYWwgPSBCT1RUT007XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmVydGljYWwgPSBUT1A7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbCxcbiAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsXG4gICAgfTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUGllU2VnbWVudCwge1xuICAgIGNvbG9yOiBXSElURSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcInJvdW5kZWRCZXZlbFwiXG4gICAgfSxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDAuNVxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBkaXN0YW5jZTogMzUsXG4gICAgICAgIGZvbnQ6IERFRkFVTFRfRk9OVCxcbiAgICAgICAgbWFyZ2luOiBnZXRTcGFjaW5nKDAuNSksXG4gICAgICAgIGFsaWduOiBDSVJDTEUsXG4gICAgICAgIHpJbmRleDogMSxcbiAgICAgICAgcG9zaXRpb246IE9VVFNJREVfRU5EXG4gICAgfSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogUElFXG4gICAgfSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuZGVlcEV4dGVuZChQaWVTZWdtZW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFBpZVNlZ21lbnQ7XG4iLCJpbXBvcnQgeyBnZXRUZW1wbGF0ZSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBoYXNWYWx1ZSB9IGZyb20gJy4uL3V0aWxzJztcblxuY29uc3QgUGllQ2hhcnRNaXhpbiA9IHtcbiAgICBjcmVhdGVMZWdlbmRJdGVtOiBmdW5jdGlvbih2YWx1ZSwgcG9pbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGVnZW5kT3B0aW9ucyA9IHRoaXMub3B0aW9ucy5sZWdlbmQgfHwge307XG4gICAgICAgIGNvbnN0IGxhYmVsc09wdGlvbnMgPSBsZWdlbmRPcHRpb25zLmxhYmVscyB8fCB7fTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVJdGVtcyA9IGxlZ2VuZE9wdGlvbnMuaW5hY3RpdmVJdGVtcyB8fCB7fTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVJdGVtc0xhYmVscyA9IGluYWN0aXZlSXRlbXMubGFiZWxzIHx8IHt9O1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudmlzaWJsZUluTGVnZW5kICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRWaXNpYmxlID0gb3B0aW9ucy52aXNpYmxlICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsVGVtcGxhdGUgPSBwb2ludFZpc2libGUgPyBnZXRUZW1wbGF0ZShsYWJlbHNPcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgZ2V0VGVtcGxhdGUoaW5hY3RpdmVJdGVtc0xhYmVscykgfHwgZ2V0VGVtcGxhdGUobGFiZWxzT3B0aW9ucyk7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IG9wdGlvbnMuY2F0ZWdvcnk7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbFRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGxhYmVsVGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IG9wdGlvbnMuc2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbTogb3B0aW9ucy5kYXRhSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogb3B0aW9ucy5wZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGl0ZW1MYWJlbE9wdGlvbnMsIG1hcmtlckNvbG9yO1xuICAgICAgICAgICAgaWYgKHBvaW50VmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGl0ZW1MYWJlbE9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICBtYXJrZXJDb2xvciA9IHBvaW50LmNvbG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtTGFiZWxPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogaW5hY3RpdmVJdGVtc0xhYmVscy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZm9udDogaW5hY3RpdmVJdGVtc0xhYmVscy5mb250XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBtYXJrZXJDb2xvciA9IChpbmFjdGl2ZUl0ZW1zLm1hcmtlcnMgfHwge30pLmNvbG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUodGV4dCkgJiYgdGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMubGVnZW5kSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogcG9pbnRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICBwb2ludEluZGV4OiBvcHRpb25zLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IG9wdGlvbnMuc2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb2xvcjogbWFya2VyQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsczogaXRlbUxhYmVsT3B0aW9uc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUGllQ2hhcnRNaXhpbjsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgUGllU2VnbWVudCBmcm9tICcuL3BpZS1zZWdtZW50JztcbmltcG9ydCBQaWVDaGFydE1peGluIGZyb20gJy4uL21peGlucy9waWUtY2hhcnQtbWl4aW4nO1xuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBSaW5nLCBCb3gsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IE9VVFNJREVfRU5ELCBGQURFSU4sIENPTFVNTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBiaW5kU2VnbWVudHMsIGV2YWxPcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBDSVJDTEUsIFJJR0hULCBDRU5URVIgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGZpbmQsIGlzRnVuY3Rpb24sIGxhc3QsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBQSUVfU0VDVE9SX0FOSU1fREVMQVkgPSA3MDtcblxuY2xhc3MgUGllQ2hhcnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMucGxvdEFyZWEgPSBwbG90QXJlYTtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBwbG90QXJlYS5jaGFydFNlcnZpY2U7XG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMudHJhdmVyc2VEYXRhUG9pbnRzKHRoaXMuYWRkVmFsdWUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgdHJhdmVyc2VEYXRhUG9pbnRzKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcGxvdEFyZWE6IHsgb3B0aW9uczogeyBzZXJpZXNDb2xvcnMgPSBbXSB9IH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNvbG9yc0NvdW50ID0gc2VyaWVzQ29sb3JzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gb3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHNlcmllc0NvdW50ID0gc2VyaWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzQ291bnQ7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGN1cnJlbnRTZXJpZXMuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHsgdG90YWwsIHBvaW50cywgY291bnQgfSA9IGJpbmRTZWdtZW50cyhjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlUGVyVmFsdWUgPSAzNjAgLyB0b3RhbDtcbiAgICAgICAgICAgIGxldCBjb25zdGFudEFuZ2xlO1xuICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZShhbmdsZVBlclZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0YW50QW5nbGUgPSAzNjAgLyBjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXJyZW50QW5nbGU7XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGN1cnJlbnRTZXJpZXMuc3RhcnRBbmdsZSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5nbGUgPSBjdXJyZW50U2VyaWVzLnN0YXJ0QW5nbGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRBbmdsZSA9IG9wdGlvbnMuc3RhcnRBbmdsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlcmllc0l4ICE9PSBzZXJpZXNDb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNlcmllcy5sYWJlbHMucG9zaXRpb24gPT09IE9VVFNJREVfRU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTZXJpZXMubGFiZWxzLnBvc2l0aW9uID0gQ0VOVEVSO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFwb2ludERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBmaWVsZHMsIHZhbHVlLCB2aXNpYmxlIH0gPSBwb2ludERhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5nbGUgPSB2YWx1ZSAhPT0gMCA/IChjb25zdGFudEFuZ2xlIHx8ICh2YWx1ZSAqIGFuZ2xlUGVyVmFsdWUpKSA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwbG9kZSA9IGRhdGEubGVuZ3RoICE9PSAxICYmIEJvb2xlYW4oZmllbGRzLmV4cGxvZGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGN1cnJlbnRTZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTZXJpZXMuY29sb3IgPSBmaWVsZHMuY29sb3IgfHwgc2VyaWVzQ29sb3JzW2kgJSBjb2xvcnNDb3VudF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socG9pbnREYXRhLnZhbHVlRmllbGRzLnZhbHVlLCBuZXcgUmluZyhudWxsLCAwLCAwLCBjdXJyZW50QW5nbGUsIGFuZ2xlKSwge1xuICAgICAgICAgICAgICAgICAgICBvd25lcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGRlZmluZWQoZmllbGRzLmNhdGVnb3J5KSA/IGZpZWxkcy5jYXRlZ29yeSA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0l4OiBzZXJpZXNJeCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW06IGRhdGFbaV0sXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRvdGFsICE9PSAwID8gdmFsdWUgLyB0b3RhbCA6IDAsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxvZGU6IGV4cGxvZGUsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVJbkxlZ2VuZDogZmllbGRzLnZpc2libGVJbkxlZ2VuZCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiBzZXJpZXNDb3VudCAtIHNlcmllc0l4LFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EZWxheTogdGhpcy5hbmltYXRpb25EZWxheShpLCBzZXJpZXNJeCwgc2VyaWVzQ291bnQpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFuZ2xlICs9IGFuZ2xlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV2YWxTZWdtZW50T3B0aW9ucyhvcHRpb25zLCB2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IGZpZWxkcy5zZXJpZXM7XG5cbiAgICAgICAgZXZhbE9wdGlvbnMob3B0aW9ucywge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBkYXRhSXRlbTogZmllbGRzLmRhdGFJdGVtLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IGZpZWxkcy5jYXRlZ29yeSxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IGZpZWxkcy5wZXJjZW50YWdlXG4gICAgICAgIH0sIHsgZGVmYXVsdHM6IHNlcmllcy5fZGVmYXVsdHMsIGV4Y2x1ZGVkOiBbIFwiZGF0YVwiLCBcImNvbnRlbnRcIiwgXCJ0ZW1wbGF0ZVwiLCBcInZpc3VhbFwiLCBcInRvZ2dsZVwiIF0gfSk7XG4gICAgfVxuXG4gICAgYWRkVmFsdWUodmFsdWUsIHNlY3RvciwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgZmllbGRzLnNlcmllcywgeyBpbmRleDogZmllbGRzLmluZGV4IH0pO1xuICAgICAgICB0aGlzLmV2YWxTZWdtZW50T3B0aW9ucyhzZWdtZW50T3B0aW9ucywgdmFsdWUsIGZpZWxkcyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMZWdlbmRJdGVtKHZhbHVlLCBzZWdtZW50T3B0aW9ucywgZmllbGRzKTtcblxuICAgICAgICBpZiAoZmllbGRzLnZpc2libGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWdtZW50ID0gbmV3IFBpZVNlZ21lbnQodmFsdWUsIHNlY3Rvciwgc2VnbWVudE9wdGlvbnMpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHNlZ21lbnQsIGZpZWxkcyk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHNlZ21lbnQpO1xuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHNlZ21lbnQpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBwb2ludHMsIHNlcmllc0NvbmZpZ3MgPSBbXSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBib3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcbiAgICAgICAgY29uc3Qgc3BhY2UgPSA1O1xuICAgICAgICBjb25zdCBtaW5XaWR0aCA9IE1hdGgubWluKGJveC53aWR0aCgpLCBib3guaGVpZ2h0KCkpO1xuICAgICAgICBjb25zdCBoYWxmTWluV2lkdGggPSBtaW5XaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYWRkaW5nID0gbWluV2lkdGggLSBtaW5XaWR0aCAqIDAuODU7XG4gICAgICAgIGNvbnN0IG5ld0JveCA9IG5ldyBCb3goYm94LngxLCBib3gueTEsIGJveC54MSArIG1pbldpZHRoLCBib3gueTEgKyBtaW5XaWR0aCk7XG4gICAgICAgIGNvbnN0IG5ld0JveENlbnRlciA9IG5ld0JveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgYm94Q2VudGVyID0gYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBzZXJpZXNDb3VudCA9IG9wdGlvbnMuc2VyaWVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGVmdFNpZGVMYWJlbHMgPSBbXTtcbiAgICAgICAgY29uc3QgcmlnaHRTaWRlTGFiZWxzID0gW107XG4gICAgICAgIGxldCBwYWRkaW5nID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5wYWRkaW5nLCBkZWZhdWx0UGFkZGluZyk7XG5cbiAgICAgICAgdGhpcy50YXJnZXRCb3ggPSB0YXJnZXRCb3g7XG5cbiAgICAgICAgcGFkZGluZyA9IHBhZGRpbmcgPiBoYWxmTWluV2lkdGggLSBzcGFjZSA/IGhhbGZNaW5XaWR0aCAtIHNwYWNlIDogcGFkZGluZztcbiAgICAgICAgbmV3Qm94LnRyYW5zbGF0ZShib3hDZW50ZXIueCAtIG5ld0JveENlbnRlci54LCBib3hDZW50ZXIueSAtIG5ld0JveENlbnRlci55KTtcblxuICAgICAgICBjb25zdCByYWRpdXMgPSBoYWxmTWluV2lkdGggLSBwYWRkaW5nO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICByYWRpdXMgKyBuZXdCb3gueDEgKyBwYWRkaW5nLFxuICAgICAgICAgICAgcmFkaXVzICsgbmV3Qm94LnkxICsgcGFkZGluZ1xuICAgICAgICApO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHNlY3RvciA9IHNlZ21lbnQuc2VjdG9yO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzSW5kZXggPSBzZWdtZW50LnNlcmllc0l4O1xuICAgICAgICAgICAgc2VjdG9yLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgICAgIHNlY3Rvci5jZW50ZXIgPSBjZW50ZXI7XG5cbiAgICAgICAgICAgIGlmIChzZXJpZXNDb25maWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmllc0NvbmZpZyA9IHNlcmllc0NvbmZpZ3Nbc2VyaWVzSW5kZXhdO1xuICAgICAgICAgICAgICAgIHNlY3Rvci5pbm5lclJhZGl1cyA9IHNlcmllc0NvbmZpZy5pbm5lclJhZGl1cztcbiAgICAgICAgICAgICAgICBzZWN0b3IucmFkaXVzID0gc2VyaWVzQ29uZmlnLnJhZGl1cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlcmllc0luZGV4ID09PSBzZXJpZXNDb3VudCAtIDEgJiYgc2VnbWVudC5leHBsb2RlKSB7XG4gICAgICAgICAgICAgICAgc2VjdG9yLmNlbnRlciA9IHNlY3Rvci5jbG9uZSgpLnNldFJhZGl1cyhzZWN0b3IucmFkaXVzICogMC4xNSkucG9pbnQoc2VjdG9yLm1pZGRsZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VnbWVudC5yZWZsb3cobmV3Qm94KTtcblxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBzZWdtZW50LmxhYmVsO1xuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsLm9wdGlvbnMucG9zaXRpb24gPT09IE9VVFNJREVfRU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJpZXNJbmRleCA9PT0gc2VyaWVzQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwub3JpZW50YXRpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRTaWRlTGFiZWxzLnB1c2gobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0U2lkZUxhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWZ0U2lkZUxhYmVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZWZ0U2lkZUxhYmVscy5zb3J0KHRoaXMubGFiZWxDb21wYXJhdG9yKHRydWUpKTtcbiAgICAgICAgICAgIHRoaXMubGVmdExhYmVsc1JlZmxvdyhsZWZ0U2lkZUxhYmVscyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmlnaHRTaWRlTGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJpZ2h0U2lkZUxhYmVscy5zb3J0KHRoaXMubGFiZWxDb21wYXJhdG9yKGZhbHNlKSk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0TGFiZWxzUmVmbG93KHJpZ2h0U2lkZUxhYmVscyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJveCA9IG5ld0JveDtcbiAgICB9XG5cbiAgICBsZWZ0TGFiZWxzUmVmbG93KGxhYmVscykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZXMgPSB0aGlzLmRpc3RhbmNlQmV0d2VlbkxhYmVscyhsYWJlbHMpO1xuXG4gICAgICAgIHRoaXMuZGlzdHJpYnV0ZUxhYmVscyhkaXN0YW5jZXMsIGxhYmVscyk7XG4gICAgfVxuXG4gICAgcmlnaHRMYWJlbHNSZWZsb3cobGFiZWxzKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlcyA9IHRoaXMuZGlzdGFuY2VCZXR3ZWVuTGFiZWxzKGxhYmVscyk7XG5cbiAgICAgICAgdGhpcy5kaXN0cmlidXRlTGFiZWxzKGRpc3RhbmNlcywgbGFiZWxzKTtcbiAgICB9XG5cbiAgICBkaXN0YW5jZUJldHdlZW5MYWJlbHMobGFiZWxzKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBsYXN0KHRoaXMucG9pbnRzKTtcbiAgICAgICAgY29uc3Qgc2VjdG9yID0gc2VnbWVudC5zZWN0b3I7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gbGFiZWxzLmxlbmd0aCAtIDE7XG4gICAgICAgIGNvbnN0IGxyID0gc2VjdG9yLnJhZGl1cyArIHNlZ21lbnQub3B0aW9ucy5sYWJlbHMuZGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlcyA9IFtdO1xuICAgICAgICBsZXQgZmlyc3RCb3ggPSBsYWJlbHNbMF0uYm94O1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSByb3VuZChmaXJzdEJveC55MSAtIChzZWN0b3IuY2VudGVyLnkgLSBsciAtIGZpcnN0Qm94LmhlaWdodCgpIC0gZmlyc3RCb3guaGVpZ2h0KCkgLyAyKSk7XG5cbiAgICAgICAgZGlzdGFuY2VzLnB1c2goZGlzdGFuY2UpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kQm94ID0gbGFiZWxzW2kgKyAxXS5ib3g7XG5cbiAgICAgICAgICAgIGZpcnN0Qm94ID0gbGFiZWxzW2ldLmJveDtcbiAgICAgICAgICAgIGRpc3RhbmNlID0gcm91bmQoc2Vjb25kQm94LnkxIC0gZmlyc3RCb3gueTIpO1xuICAgICAgICAgICAgZGlzdGFuY2VzLnB1c2goZGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGRpc3RhbmNlID0gcm91bmQoc2VjdG9yLmNlbnRlci55ICsgbHIgLSBsYWJlbHNbY291bnRdLmJveC55MiAtIGxhYmVsc1tjb3VudF0uYm94LmhlaWdodCgpIC8gMik7XG4gICAgICAgIGRpc3RhbmNlcy5wdXNoKGRpc3RhbmNlKTtcblxuICAgICAgICByZXR1cm4gZGlzdGFuY2VzO1xuICAgIH1cblxuICAgIGRpc3RyaWJ1dGVMYWJlbHMoZGlzdGFuY2VzLCBsYWJlbHMpIHtcbiAgICAgICAgY29uc3QgY291bnQgPSBkaXN0YW5jZXMubGVuZ3RoO1xuICAgICAgICBsZXQgbGVmdCwgcmlnaHQsIHJlbWFpbmluZztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IC1kaXN0YW5jZXNbaV07XG4gICAgICAgICAgICBsZWZ0ID0gcmlnaHQgPSBpO1xuXG4gICAgICAgICAgICB3aGlsZSAocmVtYWluaW5nID4gMCAmJiAobGVmdCA+PSAwIHx8IHJpZ2h0IDwgY291bnQpKSB7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nID0gdGhpcy5fdGFrZURpc3RhbmNlKGRpc3RhbmNlcywgaSwgLS1sZWZ0LCByZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZyA9IHRoaXMuX3Rha2VEaXN0YW5jZShkaXN0YW5jZXMsIGksICsrcmlnaHQsIHJlbWFpbmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZmxvd0xhYmVscyhkaXN0YW5jZXMsIGxhYmVscyk7XG4gICAgfVxuXG4gICAgX3Rha2VEaXN0YW5jZShkaXN0YW5jZXMsIGFuY2hvciwgcG9zaXRpb24sIGFtb3VudCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gYW1vdW50O1xuICAgICAgICBpZiAoZGlzdGFuY2VzW3Bvc2l0aW9uXSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZSA9IE1hdGgubWluKGRpc3RhbmNlc1twb3NpdGlvbl0sIHJlc3VsdCk7XG4gICAgICAgICAgICByZXN1bHQgLT0gYXZhaWxhYmxlO1xuICAgICAgICAgICAgZGlzdGFuY2VzW3Bvc2l0aW9uXSAtPSBhdmFpbGFibGU7XG4gICAgICAgICAgICBkaXN0YW5jZXNbYW5jaG9yXSArPSBhdmFpbGFibGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlZmxvd0xhYmVscyhkaXN0YW5jZXMsIGxhYmVscykge1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gbGFzdCh0aGlzLnBvaW50cyk7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHNlZ21lbnQuc2VjdG9yO1xuICAgICAgICBjb25zdCBsYWJlbE9wdGlvbnMgPSBzZWdtZW50Lm9wdGlvbnMubGFiZWxzO1xuICAgICAgICBjb25zdCBsYWJlbHNDb3VudCA9IGxhYmVscy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxhYmVsRGlzdGFuY2UgPSBsYWJlbE9wdGlvbnMuZGlzdGFuY2U7XG4gICAgICAgIGxldCBib3hZID0gc2VjdG9yLmNlbnRlci55IC0gKHNlY3Rvci5yYWRpdXMgKyBsYWJlbERpc3RhbmNlKSAtIGxhYmVsc1swXS5ib3guaGVpZ2h0KCk7XG4gICAgICAgIGxldCBib3hYO1xuXG4gICAgICAgIGRpc3RhbmNlc1swXSArPSAyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhYmVsc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGFiZWxzW2ldO1xuICAgICAgICAgICAgY29uc3QgYm94ID0gbGFiZWwuYm94O1xuXG4gICAgICAgICAgICBib3hZICs9IGRpc3RhbmNlc1tpXTtcbiAgICAgICAgICAgIGJveFggPSB0aGlzLmhBbGlnbkxhYmVsKFxuICAgICAgICAgICAgICAgIGJveC54MixcbiAgICAgICAgICAgICAgICBzZWN0b3IuY2xvbmUoKS5leHBhbmQobGFiZWxEaXN0YW5jZSksXG4gICAgICAgICAgICAgICAgYm94WSxcbiAgICAgICAgICAgICAgICBib3hZICsgYm94LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgIGxhYmVsLm9yaWVudGF0aW9uID09PSBSSUdIVCk7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbC5vcmllbnRhdGlvbiA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWxPcHRpb25zLmFsaWduICE9PSBDSVJDTEUpIHtcbiAgICAgICAgICAgICAgICAgICAgYm94WCA9IHNlY3Rvci5yYWRpdXMgKyBzZWN0b3IuY2VudGVyLnggKyBsYWJlbERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYWJlbC5yZWZsb3cobmV3IEJveChib3hYICsgYm94LndpZHRoKCksIGJveFksIGJveFgsIGJveFkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsT3B0aW9ucy5hbGlnbiAhPT0gQ0lSQ0xFKSB7XG4gICAgICAgICAgICAgICAgICAgIGJveFggPSBzZWN0b3IuY2VudGVyLnggLSBzZWN0b3IucmFkaXVzIC0gbGFiZWxEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3goYm94WCAtIGJveC53aWR0aCgpLCBib3hZLCBib3hYLCBib3hZKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJveFkgKz0gYm94LmhlaWdodCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgY29ubmVjdG9ycyB9LCBwb2ludHMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc3BhY2UgPSA0O1xuXG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIHRoaXMuX2Nvbm5lY3RvckxpbmVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgeyBzZWN0b3IsIGxhYmVsIH0gPSBzZWdtZW50O1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBzZWN0b3IubWlkZGxlKCk7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3JzQ29sb3IgPSAoc2VnbWVudC5vcHRpb25zLmNvbm5lY3RvcnMgfHwge30pLmNvbG9yIHx8IGNvbm5lY3RvcnMuY29sb3I7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvckxpbmUgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29ubmVjdG9yc0NvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbm5lY3RvcnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogc2VnbWVudC5hbmltYXRpb25EZWxheVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGFiZWwub3B0aW9ucy5wb3NpdGlvbiA9PT0gT1VUU0lERV9FTkQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm94ID0gbGFiZWwuYm94O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJQb2ludCA9IHNlY3Rvci5jZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IHNlY3Rvci5wb2ludChhbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtaWRkbGUgPSBuZXcgUG9pbnQoYm94LngxLCBib3guY2VudGVyKCkueSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzciwgZW5kLCBjcm9zc2luZztcblxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHNlY3Rvci5jbG9uZSgpLmV4cGFuZChjb25uZWN0b3JzLnBhZGRpbmcpLnBvaW50KGFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5tb3ZlVG8oc3RhcnQueCwgc3RhcnQueSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEV4dHJhY3QgaW50byBhIG1ldGhvZCB0byByZW1vdmUgZHVwbGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsLm9yaWVudGF0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gbmV3IFBvaW50KGJveC54MSAtIGNvbm5lY3RvcnMucGFkZGluZywgYm94LmNlbnRlcigpLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcgPSBpbnRlcnNlY3Rpb24oY2VudGVyUG9pbnQsIHN0YXJ0LCBtaWRkbGUsIGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRkbGUgPSBuZXcgUG9pbnQoZW5kLnggLSBzcGFjZSwgZW5kLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcgPSBjcm9zc2luZyB8fCBtaWRkbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZy54ID0gTWF0aC5taW4oY3Jvc3NpbmcueCwgbWlkZGxlLngpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wb2ludEluQ2lyY2xlKGNyb3NzaW5nLCBzZWN0b3IuY2VudGVyLCBzZWN0b3IucmFkaXVzICsgc3BhY2UpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcueCA8IHNlY3Rvci5jZW50ZXIueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyID0gc2VjdG9yLmNlbnRlci54ICsgc2VjdG9yLnJhZGl1cyArIHNwYWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50Lm9wdGlvbnMubGFiZWxzLmFsaWduICE9PSBDT0xVTU4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNyIDwgbWlkZGxlLngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKHNyLCBzdGFydC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKHN0YXJ0LnggKyBzcGFjZSAqIDIsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oc3IsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhtaWRkbGUueCwgZW5kLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZy55ID0gZW5kLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oY3Jvc3NpbmcueCwgY3Jvc3NpbmcueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBuZXcgUG9pbnQoYm94LngyICsgY29ubmVjdG9ycy5wYWRkaW5nLCBib3guY2VudGVyKCkueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZyA9IGludGVyc2VjdGlvbihjZW50ZXJQb2ludCwgc3RhcnQsIG1pZGRsZSwgZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZGRsZSA9IG5ldyBQb2ludChlbmQueCArIHNwYWNlLCBlbmQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZyA9IGNyb3NzaW5nIHx8IG1pZGRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzaW5nLnggPSBNYXRoLm1heChjcm9zc2luZy54LCBtaWRkbGUueCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvaW50SW5DaXJjbGUoY3Jvc3NpbmcsIHNlY3Rvci5jZW50ZXIsIHNlY3Rvci5yYWRpdXMgKyBzcGFjZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZy54ID4gc2VjdG9yLmNlbnRlci54KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3IgPSBzZWN0b3IuY2VudGVyLnggLSBzZWN0b3IucmFkaXVzIC0gc3BhY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQub3B0aW9ucy5sYWJlbHMuYWxpZ24gIT09IENPTFVNTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3IgPiBtaWRkbGUueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oc3IsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oc3RhcnQueCAtIHNwYWNlICogMiwgc3RhcnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhzciwgc3RhcnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKG1pZGRsZS54LCBlbmQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzaW5nLnkgPSBlbmQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhjcm9zc2luZy54LCBjcm9zc2luZy55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKGVuZC54LCBlbmQueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdG9yTGluZXMucHVzaChjb25uZWN0b3JMaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGNvbm5lY3RvckxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKGZpbmQodGhpcy5vcHRpb25zLnNlcmllcywgb3B0aW9ucyA9PiBvcHRpb25zLmF1dG9GaXQpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRCb3ggPSB0aGlzLnRhcmdldEJveDtcbiAgICAgICAgICAgIGNvbnN0IHBpZUNlbnRlciA9IHRoaXMuYm94LmNlbnRlcigpO1xuICAgICAgICAgICAgY29uc3QgYmJveCA9IHRoaXMudmlzdWFsLmJib3goKTtcbiAgICAgICAgICAgIGlmICghYmJveCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYmJveEJvdHRvbSA9IGJib3guYm90dG9tUmlnaHQoKTtcblxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAocGllQ2VudGVyLnkgLSB0YXJnZXRCb3gueTEpIC8gKHBpZUNlbnRlci55IC0gYmJveC5vcmlnaW4ueSksXG4gICAgICAgICAgICAgICAgKHRhcmdldEJveC55MiAtIHBpZUNlbnRlci55KSAvIChiYm94Qm90dG9tLnkgLSBwaWVDZW50ZXIueSksXG4gICAgICAgICAgICAgICAgKHBpZUNlbnRlci54IC0gdGFyZ2V0Qm94LngxKSAvIChwaWVDZW50ZXIueCAtIGJib3gub3JpZ2luLngpLFxuICAgICAgICAgICAgICAgICh0YXJnZXRCb3gueDIgLSBwaWVDZW50ZXIueCkgLyAoYmJveEJvdHRvbS54IC0gcGllQ2VudGVyLngpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoc2NhbGUgPCAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWwudHJhbnNmb3JtKGdlb21ldHJ5LnRyYW5zZm9ybSgpLnNjYWxlKHNjYWxlLCBzY2FsZSwgWyBwaWVDZW50ZXIueCwgcGllQ2VudGVyLnkgXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGFiZWxDb21wYXJhdG9yKHJldmVyc2UpIHtcbiAgICAgICAgY29uc3QgcmV2ZXJzZVZhbHVlID0gcmV2ZXJzZSA/IC0xIDogMTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSAoYS5wYXJlbnQuc2VjdG9yLm1pZGRsZSgpICsgMjcwKSAlIDM2MDtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZCA9IChiLnBhcmVudC5zZWN0b3IubWlkZGxlKCkgKyAyNzApICUgMzYwO1xuICAgICAgICAgICAgcmV0dXJuIChmaXJzdCAtIHNlY29uZCkgKiByZXZlcnNlVmFsdWU7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaEFsaWduTGFiZWwob3JpZ2luYWxYLCBzZWN0b3IsIHkxLCB5MiwgZGlyZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHsgcmFkaXVzLCBjZW50ZXI6IHsgeDogY3gsIHk6IGN5IH0gfSA9IHNlY3RvcjtcbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKE1hdGguYWJzKGN5IC0geTEpLCBNYXRoLmFicyhjeSAtIHkyKSk7XG5cbiAgICAgICAgaWYgKHQgPiByYWRpdXMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbFg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3ggKyBNYXRoLnNxcnQoKHJhZGl1cyAqIHJhZGl1cykgLSAodCAqIHQpKSAqIChkaXJlY3Rpb24gPyAxIDogLTEpO1xuICAgIH1cblxuICAgIHBvaW50SW5DaXJjbGUocG9pbnQsIGNlbnRlciwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdyhjZW50ZXIueCAtIHBvaW50LngsIDIpICsgTWF0aC5wb3coY2VudGVyLnkgLSBwb2ludC55LCAyKSA8IE1hdGgucG93KHJhZGl1cywgMik7XG4gICAgfVxuXG4gICAgZm9ybWF0UG9pbnRWYWx1ZShwb2ludCwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhmb3JtYXQsIHBvaW50LnZhbHVlKTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25EZWxheShjYXRlZ29yeUluZGV4KSB7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeUluZGV4ICogUElFX1NFQ1RPUl9BTklNX0RFTEFZO1xuICAgIH1cblxuICAgIHN0YWNrUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3Rpb24oYTEsIGEyLCBiMSwgYjIpIHtcbiAgICBjb25zdCB1YXQgPSAoYjIueCAtIGIxLngpICogKGExLnkgLSBiMS55KSAtIChiMi55IC0gYjEueSkgKiAoYTEueCAtIGIxLngpO1xuICAgIGNvbnN0IHViID0gKGIyLnkgLSBiMS55KSAqIChhMi54IC0gYTEueCkgLSAoYjIueCAtIGIxLngpICogKGEyLnkgLSBhMS55KTtcblxuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHViICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IHVhID0gKHVhdCAvIHViKTtcblxuICAgICAgICByZXN1bHQgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICBhMS54ICsgdWEgKiAoYTIueCAtIGExLngpLFxuICAgICAgICAgICAgYTEueSArIHVhICogKGEyLnkgLSBhMS55KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBpZUNoYXJ0LCB7XG4gICAgc3RhcnRBbmdsZTogOTAsXG4gICAgY29ubmVjdG9yczoge1xuICAgICAgICB3aWR0aDogMixcbiAgICAgICAgY29sb3I6IFwiIzkzOTM5M1wiLFxuICAgICAgICBwYWRkaW5nOiA4XG4gICAgfSxcbiAgICBpbmFjdGl2ZUl0ZW1zOiB7XG4gICAgICAgIG1hcmtlcnM6IHt9LFxuICAgICAgICBsYWJlbHM6IHt9XG4gICAgfVxufSk7XG5cbmRlZXBFeHRlbmQoUGllQ2hhcnQucHJvdG90eXBlLCBQaWVDaGFydE1peGluKTtcblxuUGllQ2hhcnQucHJvdG90eXBlLmlzU3RhY2tSb290ID0gdHJ1ZTtcblxuZXhwb3J0IGRlZmF1bHQgUGllQ2hhcnQ7XG4iLCJpbXBvcnQgUGxvdEFyZWFCYXNlIGZyb20gJy4vcGxvdGFyZWEtYmFzZSc7XG5pbXBvcnQgUGllQ2hhcnQgZnJvbSAnLi4vcGllLWNoYXJ0L3BpZS1jaGFydCc7XG5cbmltcG9ydCB7IGFwcGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBpZVBsb3RBcmVhIGV4dGVuZHMgUGxvdEFyZWFCYXNlIHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUGllQ2hhcnQodGhpcy5zZXJpZXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBpZUNoYXJ0KHNlcmllcykge1xuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgcGllQ2hhcnQgPSBuZXcgUGllQ2hhcnQodGhpcywge1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBwYWRkaW5nOiBmaXJzdFNlcmllcy5wYWRkaW5nLFxuICAgICAgICAgICAgc3RhcnRBbmdsZTogZmlyc3RTZXJpZXMuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGNvbm5lY3RvcnM6IGZpcnN0U2VyaWVzLmNvbm5lY3RvcnMsXG4gICAgICAgICAgICBsZWdlbmQ6IHRoaXMub3B0aW9ucy5sZWdlbmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChwaWVDaGFydCk7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgICAgICBhcHBlbmQodGhpcy5vcHRpb25zLmxlZ2VuZC5pdGVtcywgY2hhcnQubGVnZW5kSXRlbXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGllUGxvdEFyZWE7IiwiaW1wb3J0IFBpZVNlZ21lbnQgZnJvbSAnLi4vcGllLWNoYXJ0L3BpZS1zZWdtZW50JztcbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuXG5pbXBvcnQgeyBQSUUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBTaGFwZUJ1aWxkZXIsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBDRU5URVIgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgRG9udXRTZWdtZW50IGV4dGVuZHMgUGllU2VnbWVudCB7XG4gICAgcmVmbG93TGFiZWwoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9uczogeyBsYWJlbHM6IGxhYmVsc09wdGlvbnMgfSwgbGFiZWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHRoaXMuc2VjdG9yLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gc2VjdG9yLm1pZGRsZSgpO1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxIZWlnaHQgPSBsYWJlbC5ib3guaGVpZ2h0KCk7XG4gICAgICAgICAgICBpZiAobGFiZWxzT3B0aW9ucy5wb3NpdGlvbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgc2VjdG9yLnJhZGl1cyAtPSAoc2VjdG9yLnJhZGl1cyAtIHNlY3Rvci5pbm5lclJhZGl1cykgLyAyO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbHAgPSBzZWN0b3IucG9pbnQoYW5nbGUpO1xuXG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3gobHAueCwgbHAueSAtIGxhYmVsSGVpZ2h0IC8gMiwgbHAueCwgbHAueSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdXBlci5yZWZsb3dMYWJlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlU2VnbWVudChzZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFNoYXBlQnVpbGRlci5jdXJyZW50LmNyZWF0ZVJpbmcoc2VjdG9yLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKERvbnV0U2VnbWVudCwge1xuICAgIG92ZXJsYXk6IHtcbiAgICAgICAgZ3JhZGllbnQ6IFwicm91bmRlZEdsYXNzXCJcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICBwb3NpdGlvbjogQ0VOVEVSXG4gICAgfSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogUElFXG4gICAgfVxufSk7XG5cbmRlZXBFeHRlbmQoRG9udXRTZWdtZW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgRG9udXRTZWdtZW50O1xuIiwiaW1wb3J0IFBpZUNoYXJ0IGZyb20gJy4uL3BpZS1jaGFydC9waWUtY2hhcnQnO1xuaW1wb3J0IERvbnV0U2VnbWVudCBmcm9tICcuL2RvbnV0LXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IERPTlVUX1NFQ1RPUl9BTklNX0RFTEFZID0gNTA7XG5cbmNsYXNzIERvbnV0Q2hhcnQgZXh0ZW5kcyBQaWVDaGFydCB7XG4gICAgYWRkVmFsdWUodmFsdWUsIHNlY3RvciwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgZmllbGRzLnNlcmllcywgeyBpbmRleDogZmllbGRzLmluZGV4IH0pO1xuICAgICAgICB0aGlzLmV2YWxTZWdtZW50T3B0aW9ucyhzZWdtZW50T3B0aW9ucywgdmFsdWUsIGZpZWxkcyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMZWdlbmRJdGVtKHZhbHVlLCBzZWdtZW50T3B0aW9ucywgZmllbGRzKTtcblxuICAgICAgICBpZiAoIXZhbHVlIHx8IGZpZWxkcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IG5ldyBEb251dFNlZ21lbnQodmFsdWUsIHNlY3Rvciwgc2VnbWVudE9wdGlvbnMpO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oc2VnbWVudCwgZmllbGRzKTtcbiAgICAgICAgdGhpcy5hcHBlbmQoc2VnbWVudCk7XG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcbiAgICAgICAgY29uc3Qgc3BhY2UgPSA1O1xuICAgICAgICBjb25zdCBtaW5XaWR0aCA9IE1hdGgubWluKGJveC53aWR0aCgpLCBib3guaGVpZ2h0KCkpO1xuICAgICAgICBjb25zdCBoYWxmTWluV2lkdGggPSBtaW5XaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYWRkaW5nID0gbWluV2lkdGggLSBtaW5XaWR0aCAqIDAuODU7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IG9wdGlvbnMuc2VyaWVzO1xuICAgICAgICBjb25zdCBzZXJpZXNDb3VudCA9IHNlcmllcy5sZW5ndGg7XG5cbiAgICAgICAgbGV0IHBhZGRpbmcgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnBhZGRpbmcsIGRlZmF1bHRQYWRkaW5nKTtcbiAgICAgICAgcGFkZGluZyA9IHBhZGRpbmcgPiBoYWxmTWluV2lkdGggLSBzcGFjZSA/IGhhbGZNaW5XaWR0aCAtIHNwYWNlIDogcGFkZGluZztcblxuICAgICAgICBsZXQgdG90YWxTaXplID0gaGFsZk1pbldpZHRoIC0gcGFkZGluZztcbiAgICAgICAgbGV0IHNlcmllc1dpdGhvdXRTaXplID0gMDtcbiAgICAgICAgbGV0IGhvbGVTaXplO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlZmluZWQoY3VycmVudFNlcmllcy5ob2xlU2l6ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9sZVNpemUgPSBjdXJyZW50U2VyaWVzLmhvbGVTaXplO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbFNpemUgLT0gY3VycmVudFNlcmllcy5ob2xlU2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGN1cnJlbnRTZXJpZXMuc2l6ZSkpIHtcbiAgICAgICAgICAgICAgICB0b3RhbFNpemUgLT0gY3VycmVudFNlcmllcy5zaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNXaXRob3V0U2l6ZSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChjdXJyZW50U2VyaWVzLm1hcmdpbikgJiYgaSAhPT0gc2VyaWVzQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgdG90YWxTaXplIC09IGN1cnJlbnRTZXJpZXMubWFyZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKGhvbGVTaXplKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNpemUgPSAoaGFsZk1pbldpZHRoIC0gcGFkZGluZykgLyAoc2VyaWVzQ291bnQgKyAwLjc1KTtcbiAgICAgICAgICAgIGhvbGVTaXplID0gY3VycmVudFNpemUgKiAwLjc1O1xuICAgICAgICAgICAgdG90YWxTaXplIC09IGhvbGVTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlubmVyUmFkaXVzID0gaG9sZVNpemU7XG4gICAgICAgIGxldCBtYXJnaW4gPSAwO1xuICAgICAgICBsZXQgc2l6ZSwgcmFkaXVzO1xuXG4gICAgICAgIHRoaXMuc2VyaWVzQ29uZmlncyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIHNpemUgPSB2YWx1ZU9yRGVmYXVsdChjdXJyZW50U2VyaWVzLnNpemUsIHRvdGFsU2l6ZSAvIHNlcmllc1dpdGhvdXRTaXplKTtcbiAgICAgICAgICAgIGlubmVyUmFkaXVzICs9IG1hcmdpbjtcbiAgICAgICAgICAgIHJhZGl1cyA9IGlubmVyUmFkaXVzICsgc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzQ29uZmlncy5wdXNoKHsgaW5uZXJSYWRpdXM6IGlubmVyUmFkaXVzLCByYWRpdXM6IHJhZGl1cyB9KTtcbiAgICAgICAgICAgIG1hcmdpbiA9IGN1cnJlbnRTZXJpZXMubWFyZ2luIHx8IDA7XG4gICAgICAgICAgICBpbm5lclJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgIH1cblxuICAgIGFuaW1hdGlvbkRlbGF5KGNhdGVnb3J5SW5kZXgsIHNlcmllc0luZGV4LCBzZXJpZXNDb3VudCkge1xuICAgICAgICByZXR1cm4gY2F0ZWdvcnlJbmRleCAqIERPTlVUX1NFQ1RPUl9BTklNX0RFTEFZICtcbiAgICAgICAgICAgIChJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiAqIChzZXJpZXNJbmRleCArIDEpIC8gKHNlcmllc0NvdW50ICsgMSkpO1xuICAgIH1cbn1cblxuXG5zZXREZWZhdWx0T3B0aW9ucyhEb251dENoYXJ0LCB7XG4gICAgc3RhcnRBbmdsZTogOTAsXG4gICAgY29ubmVjdG9yczoge1xuICAgICAgICB3aWR0aDogMixcbiAgICAgICAgY29sb3I6IFwiIzkzOTM5M1wiLFxuICAgICAgICBwYWRkaW5nOiA4XG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IERvbnV0Q2hhcnQ7IiwiaW1wb3J0IFBpZVBsb3RBcmVhIGZyb20gJy4vcGllLXBsb3RhcmVhJztcbmltcG9ydCBEb251dENoYXJ0IGZyb20gJy4uL2RvbnV0LWNoYXJ0L2RvbnV0LWNoYXJ0JztcblxuY2xhc3MgRG9udXRQbG90QXJlYSBleHRlbmRzIFBpZVBsb3RBcmVhIHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlRG9udXRDaGFydCh0aGlzLnNlcmllcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlRG9udXRDaGFydChzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IGRvbnV0Q2hhcnQgPSBuZXcgRG9udXRDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIHBhZGRpbmc6IGZpcnN0U2VyaWVzLnBhZGRpbmcsXG4gICAgICAgICAgICBjb25uZWN0b3JzOiBmaXJzdFNlcmllcy5jb25uZWN0b3JzLFxuICAgICAgICAgICAgbGVnZW5kOiB0aGlzLm9wdGlvbnMubGVnZW5kXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoZG9udXRDaGFydCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEb251dFBsb3RBcmVhOyIsImltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS1iYXNlJztcbmltcG9ydCBBeGlzR3JvdXBSYW5nZVRyYWNrZXIgZnJvbSAnLi4vYXhpcy1ncm91cC1yYW5nZS10cmFja2VyJztcbmltcG9ydCB7IFJhZGFyTG9nYXJpdGhtaWNBeGlzLCBSYWRhck51bWVyaWNBeGlzIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IExPR0FSSVRITUlDIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgZ2V0U3BhY2luZyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBZLCBDRU5URVIgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcblxuY29uc3QgREVGQVVMVF9QQURESU5HID0gMC4xNTtcblxuY2xhc3MgUG9sYXJQbG90QXJlYUJhc2UgZXh0ZW5kcyBQbG90QXJlYUJhc2Uge1xuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMudmFsdWVBeGlzUmFuZ2VUcmFja2VyID0gbmV3IEF4aXNHcm91cFJhbmdlVHJhY2tlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5hZGRUb0xlZ2VuZCh0aGlzLnNlcmllcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlUG9sYXJBeGlzKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcnRzKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlVmFsdWVBeGlzKCk7XG4gICAgfVxuXG4gICAgYWxpZ25BeGVzKCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy52YWx1ZUF4aXM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy5yYW5nZSgpO1xuICAgICAgICBjb25zdCBjcm9zc2luZ1ZhbHVlID0gYXhpcy5vcHRpb25zLnJldmVyc2UgPyByYW5nZS5tYXggOiByYW5nZS5taW47XG4gICAgICAgIGNvbnN0IHNsb3QgPSBheGlzLmdldFNsb3QoY3Jvc3NpbmdWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMucG9sYXJBeGlzLmdldFNsb3QoMCkuY2VudGVyO1xuICAgICAgICBjb25zdCBheGlzQm94ID0gYXhpcy5ib3gudHJhbnNsYXRlKFxuICAgICAgICAgICAgY2VudGVyLnggLSBzbG90LngxLFxuICAgICAgICAgICAgY2VudGVyLnkgLSBzbG90LnkxXG4gICAgICAgICk7XG5cbiAgICAgICAgYXhpcy5yZWZsb3coYXhpc0JveCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmFsdWVBeGlzKCkge1xuICAgICAgICBjb25zdCB0cmFja2VyID0gdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXI7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRSYW5nZSA9IHRyYWNrZXIucXVlcnkoKTtcbiAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSB0aGlzLnZhbHVlQXhpc09wdGlvbnMoe1xuICAgICAgICAgICAgcm91bmRUb01ham9yVW5pdDogZmFsc2UsXG4gICAgICAgICAgICB6SW5kZXg6IC0xXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYXhpc1R5cGUsIGF4aXNEZWZhdWx0UmFuZ2U7XG5cbiAgICAgICAgaWYgKGF4aXNPcHRpb25zLnR5cGUgPT09IExPR0FSSVRITUlDKSB7XG4gICAgICAgICAgICBheGlzVHlwZSA9IFJhZGFyTG9nYXJpdGhtaWNBeGlzO1xuICAgICAgICAgICAgYXhpc0RlZmF1bHRSYW5nZSA9IHsgbWluOiAwLjEsIG1heDogMSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXhpc1R5cGUgPSBSYWRhck51bWVyaWNBeGlzO1xuICAgICAgICAgICAgYXhpc0RlZmF1bHRSYW5nZSA9IHsgbWluOiAwLCBtYXg6IDEgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJhbmdlID0gdHJhY2tlci5xdWVyeShuYW1lKSB8fCBkZWZhdWx0UmFuZ2UgfHwgYXhpc0RlZmF1bHRSYW5nZTtcblxuICAgICAgICBpZiAocmFuZ2UgJiYgZGVmYXVsdFJhbmdlKSB7XG4gICAgICAgICAgICByYW5nZS5taW4gPSBNYXRoLm1pbihyYW5nZS5taW4sIGRlZmF1bHRSYW5nZS5taW4pO1xuICAgICAgICAgICAgcmFuZ2UubWF4ID0gTWF0aC5tYXgocmFuZ2UubWF4LCBkZWZhdWx0UmFuZ2UubWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IG5ldyBheGlzVHlwZShcbiAgICAgICAgICAgIHJhbmdlLm1pbiwgcmFuZ2UubWF4LFxuICAgICAgICAgICAgYXhpc09wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMudmFsdWVBeGlzID0gdmFsdWVBeGlzO1xuICAgICAgICB0aGlzLmFwcGVuZEF4aXModmFsdWVBeGlzKTtcbiAgICB9XG5cbiAgICByZWZsb3dBeGVzKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgcGxvdEFyZWE6IG9wdGlvbnMgfSwgdmFsdWVBeGlzLCBwb2xhckF4aXMsIGJveCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZGVmYXVsdFBhZGRpbmcgPSBNYXRoLm1pbihib3gud2lkdGgoKSwgYm94LmhlaWdodCgpKSAqIERFRkFVTFRfUEFERElORztcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGdldFNwYWNpbmcob3B0aW9ucy5wYWRkaW5nIHx8IHt9LCBkZWZhdWx0UGFkZGluZyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdCb3ggPSBib3guY2xvbmUoKS51bnBhZChwYWRkaW5nKTtcbiAgICAgICAgY29uc3QgYXhpc0JveCA9IHBhZGRpbmdCb3guY2xvbmUoKTtcblxuICAgICAgICBheGlzQm94LnkyID0gYXhpc0JveC55MSArIE1hdGgubWluKGF4aXNCb3gud2lkdGgoKSwgYXhpc0JveC5oZWlnaHQoKSk7XG4gICAgICAgIGF4aXNCb3guYWxpZ24ocGFkZGluZ0JveCwgWSwgQ0VOVEVSKTtcblxuICAgICAgICBjb25zdCB2YWx1ZUF4aXNCb3ggPSBheGlzQm94LmNsb25lKCkuc2hyaW5rKDAsIGF4aXNCb3guaGVpZ2h0KCkgLyAyKTtcblxuICAgICAgICBwb2xhckF4aXMucmVmbG93KGF4aXNCb3gpO1xuICAgICAgICB2YWx1ZUF4aXMucmVmbG93KHZhbHVlQXhpc0JveCk7XG4gICAgICAgIGNvbnN0IGhlaWdodERpZmYgPSB2YWx1ZUF4aXMubGluZUJveCgpLmhlaWdodCgpIC0gdmFsdWVBeGlzLmJveC5oZWlnaHQoKTtcbiAgICAgICAgdmFsdWVBeGlzLnJlZmxvdyh2YWx1ZUF4aXMuYm94LnVucGFkKHsgdG9wOiBoZWlnaHREaWZmIH0pKTtcblxuICAgICAgICB0aGlzLmF4aXNCb3ggPSBheGlzQm94O1xuICAgICAgICB0aGlzLmFsaWduQXhlcyhheGlzQm94KTtcbiAgICB9XG5cbiAgICBiYWNrZ3JvdW5kQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgZGV0YWNoTGFiZWxzKCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9sYXJQbG90QXJlYUJhc2U7XG4iLCJpbXBvcnQgU2NhdHRlckNoYXJ0IGZyb20gJy4uL3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItY2hhcnQnO1xuXG5pbXBvcnQgeyBQb2ludCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUG9sYXJTY2F0dGVyQ2hhcnQgZXh0ZW5kcyBTY2F0dGVyQ2hhcnQge1xuICAgIHBvaW50U2xvdChzbG90WCwgc2xvdFkpIHtcbiAgICAgICAgY29uc3QgdmFsdWVSYWRpdXMgPSBzbG90WC5jZW50ZXIueSAtIHNsb3RZLnkxO1xuICAgICAgICBjb25zdCBzbG90ID0gUG9pbnQub25DaXJjbGUoc2xvdFguY2VudGVyLCBzbG90WC5zdGFydEFuZ2xlLCB2YWx1ZVJhZGl1cyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCb3goc2xvdC54LCBzbG90LnksIHNsb3QueCwgc2xvdC55KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBvbGFyU2NhdHRlckNoYXJ0LCB7XG4gICAgY2xpcDogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2xhclNjYXR0ZXJDaGFydDsiLCJpbXBvcnQgU2NhdHRlckxpbmVDaGFydCBmcm9tICcuLi9zY2F0dGVyLWNoYXJ0cy9zY2F0dGVyLWxpbmUtY2hhcnQnO1xuaW1wb3J0IFBvbGFyU2NhdHRlckNoYXJ0IGZyb20gJy4uL3BvbGFyLXNjYXR0ZXItY2hhcnQvcG9sYXItc2NhdHRlci1jaGFydCc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUG9sYXJMaW5lQ2hhcnQgZXh0ZW5kcyBTY2F0dGVyTGluZUNoYXJ0IHtcbn1cblxuUG9sYXJMaW5lQ2hhcnQucHJvdG90eXBlLnBvaW50U2xvdCA9IFBvbGFyU2NhdHRlckNoYXJ0LnByb3RvdHlwZS5wb2ludFNsb3Q7XG5cbnNldERlZmF1bHRPcHRpb25zKFBvbGFyTGluZUNoYXJ0LCB7XG4gICAgY2xpcDogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2xhckxpbmVDaGFydDsiLCJpbXBvcnQgU3BsaW5lQXJlYVNlZ21lbnQgZnJvbSAnLi4vYXJlYS1jaGFydC9zcGxpbmUtYXJlYS1zZWdtZW50JztcbmltcG9ydCB7IEN1cnZlUHJvY2Vzc29yIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmNsYXNzIFNwbGluZVBvbGFyQXJlYVNlZ21lbnQgZXh0ZW5kcyBTcGxpbmVBcmVhU2VnbWVudCB7XG4gICAgZmlsbFRvQXhlcyhmaWxsUGF0aCkge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9wb2xhckF4aXNDZW50ZXIoKTtcbiAgICAgICAgZmlsbFBhdGgubGluZVRvKGNlbnRlci54LCBjZW50ZXIueSk7XG4gICAgfVxuXG4gICAgX3BvbGFyQXhpc0NlbnRlcigpIHtcbiAgICAgICAgY29uc3QgcG9sYXJBeGlzID0gdGhpcy5wYXJlbnQucGxvdEFyZWEucG9sYXJBeGlzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBwb2xhckF4aXMuYm94LmNlbnRlcigpO1xuICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgIH1cblxuICAgIHN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICBsZXQgc2VnbWVudHMgPSB0aGlzLl9zdHJva2VTZWdtZW50cztcblxuICAgICAgICBpZiAoIXNlZ21lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9wb2xhckF4aXNDZW50ZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnZlUHJvY2Vzc29yID0gbmV3IEN1cnZlUHJvY2Vzc29yKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVQb2ludHMgPSB0aGlzLnBvaW50cygpO1xuXG4gICAgICAgICAgICBsaW5lUG9pbnRzLnB1c2goY2VudGVyKTtcbiAgICAgICAgICAgIHNlZ21lbnRzID0gdGhpcy5fc3Ryb2tlU2VnbWVudHMgPSBjdXJ2ZVByb2Nlc3Nvci5wcm9jZXNzKGxpbmVQb2ludHMpO1xuICAgICAgICAgICAgc2VnbWVudHMucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VnbWVudHM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVQb2xhckFyZWFTZWdtZW50OyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgQXJlYVNlZ21lbnQgZnJvbSAnLi4vYXJlYS1jaGFydC9hcmVhLXNlZ21lbnQnO1xuXG5jbGFzcyBQb2xhckFyZWFTZWdtZW50IGV4dGVuZHMgQXJlYVNlZ21lbnQge1xuICAgIGZpbGxUb0F4ZXMoZmlsbFBhdGgpIHtcbiAgICAgICAgY29uc3QgcG9sYXJBeGlzID0gdGhpcy5wYXJlbnQucGxvdEFyZWEucG9sYXJBeGlzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBwb2xhckF4aXMuYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBjZW50ZXJTZWdtZW50ID0gbmV3IGdlb20uU2VnbWVudChbIGNlbnRlci54LCBjZW50ZXIueSBdKTtcblxuICAgICAgICBmaWxsUGF0aC5zZWdtZW50cy51bnNoaWZ0KGNlbnRlclNlZ21lbnQpO1xuICAgICAgICBmaWxsUGF0aC5zZWdtZW50cy5wdXNoKGNlbnRlclNlZ21lbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9sYXJBcmVhU2VnbWVudDsiLCJpbXBvcnQgUG9sYXJMaW5lQ2hhcnQgZnJvbSAnLi4vcG9sYXItbGluZS1jaGFydC9wb2xhci1saW5lLWNoYXJ0JztcbmltcG9ydCBTcGxpbmVQb2xhckFyZWFTZWdtZW50IGZyb20gJy4vc3BsaW5lLXBvbGFyLWFyZWEtc2VnbWVudCc7XG5pbXBvcnQgUG9sYXJBcmVhU2VnbWVudCBmcm9tICcuL3BvbGFyLWFyZWEtc2VnbWVudCc7XG5cbmltcG9ydCB7IFNNT09USCwgSU5URVJQT0xBVEUsIFpFUk8sIEdBUCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBoYXNWYWx1ZSBmcm9tICcuLi91dGlscy9oYXMtdmFsdWUnO1xuXG5jbGFzcyBQb2xhckFyZWFDaGFydCBleHRlbmRzIFBvbGFyTGluZUNoYXJ0IHtcbiAgICBjcmVhdGVTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gKGN1cnJlbnRTZXJpZXMubGluZSB8fCB7fSkuc3R5bGU7XG4gICAgICAgIGxldCBzZWdtZW50O1xuXG4gICAgICAgIGlmIChzdHlsZSA9PT0gU01PT1RIKSB7XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IFNwbGluZVBvbGFyQXJlYVNlZ21lbnQobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBQb2xhckFyZWFTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVNaXNzaW5nVmFsdWUodmFsdWUsIG1pc3NpbmdWYWx1ZXMpIHtcbiAgICAgICAgbGV0IG1pc3NpbmdWYWx1ZTtcblxuICAgICAgICBpZiAoaGFzVmFsdWUodmFsdWUueCkgJiYgbWlzc2luZ1ZhbHVlcyAhPT0gSU5URVJQT0xBVEUpIHtcbiAgICAgICAgICAgIG1pc3NpbmdWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICB4OiB2YWx1ZS54LFxuICAgICAgICAgICAgICAgIHk6IHZhbHVlLnlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobWlzc2luZ1ZhbHVlcyA9PT0gWkVSTykge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdWYWx1ZS55ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtaXNzaW5nVmFsdWU7XG4gICAgfVxuXG4gICAgc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlcmllcy5taXNzaW5nVmFsdWVzIHx8IFpFUk87XG4gICAgfVxuXG4gICAgX2hhc01pc3NpbmdWYWx1ZXNHYXAoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMub3B0aW9ucy5zZXJpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc2VyaWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzW2lkeF0pID09PSBHQVApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNvcnRQb2ludHMocG9pbnRzKSB7XG4gICAgICAgIHBvaW50cy5zb3J0KHhDb21wYXJlcik7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc01pc3NpbmdWYWx1ZXNHYXAoKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpZHhdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKHZhbHVlLnkpICYmIHRoaXMuc2VyaWVzTWlzc2luZ1ZhbHVlcyhwb2ludC5zZXJpZXMpID09PSBHQVApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB4Q29tcGFyZXIoYSwgYikge1xuICAgIHJldHVybiBhLnZhbHVlLnggLSBiLnZhbHVlLng7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGFyQXJlYUNoYXJ0OyIsImltcG9ydCBQb2xhclBsb3RBcmVhQmFzZSBmcm9tICcuL3BvbGFyLXBsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IFBsb3RBcmVhQmFzZSBmcm9tICcuL3Bsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IFBvbGFyTGluZUNoYXJ0IGZyb20gJy4uL3BvbGFyLWxpbmUtY2hhcnQvcG9sYXItbGluZS1jaGFydCc7XG5pbXBvcnQgUG9sYXJTY2F0dGVyQ2hhcnQgZnJvbSAnLi4vcG9sYXItc2NhdHRlci1jaGFydC9wb2xhci1zY2F0dGVyLWNoYXJ0JztcbmltcG9ydCBQb2xhckFyZWFDaGFydCBmcm9tICcuLi9wb2xhci1hcmVhLWNoYXJ0L3BvbGFyLWFyZWEtY2hhcnQnO1xuaW1wb3J0IFBsb3RBcmVhRXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3Bsb3RhcmVhLWV2ZW50cy1taXhpbic7XG5cbmltcG9ydCB7IFBvbGFyQXhpcywgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgUE9MQVJfQVJFQSwgUE9MQVJfTElORSwgUE9MQVJfU0NBVFRFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBmaWx0ZXJTZXJpZXNCeVR5cGUgZnJvbSAnLi4vdXRpbHMvZmlsdGVyLXNlcmllcy1ieS10eXBlJztcblxuaW1wb3J0IHsgQVJDIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBldmVudEVsZW1lbnQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUG9sYXJQbG90QXJlYSBleHRlbmRzIFBvbGFyUGxvdEFyZWFCYXNlIHtcbiAgICBjcmVhdGVQb2xhckF4aXMoKSB7XG4gICAgICAgIGNvbnN0IHBvbGFyQXhpcyA9IG5ldyBQb2xhckF4aXModGhpcy5vcHRpb25zLnhBeGlzLCB0aGlzLmNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgdGhpcy5wb2xhckF4aXMgPSBwb2xhckF4aXM7XG4gICAgICAgIHRoaXMuYXhpc1ggPSBwb2xhckF4aXM7XG4gICAgICAgIHRoaXMuYXBwZW5kQXhpcyhwb2xhckF4aXMpO1xuICAgIH1cblxuICAgIHZhbHVlQXhpc09wdGlvbnMoZGVmYXVsdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBFeHRlbmQoZGVmYXVsdHMsIHtcbiAgICAgICAgICAgIG1ham9yR3JpZExpbmVzOiB7IHR5cGU6IEFSQyB9LFxuICAgICAgICAgICAgbWlub3JHcmlkTGluZXM6IHsgdHlwZTogQVJDIH1cbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLnlBeGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVWYWx1ZUF4aXMoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZhbHVlQXhpcygpO1xuICAgICAgICB0aGlzLmF4aXNZID0gdGhpcy52YWx1ZUF4aXM7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXIudXBkYXRlKGNoYXJ0LnlBeGlzUmFuZ2VzKTtcblxuICAgICAgICBQbG90QXJlYUJhc2UucHJvdG90eXBlLmFwcGVuZENoYXJ0LmNhbGwodGhpcywgY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNoYXJ0cygpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHRoaXMuc2VyaWVzKTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHRoaXMucGFuZXNbMF07XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMaW5lQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFBPTEFSX0xJTkUgXSksXG4gICAgICAgICAgICBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVTY2F0dGVyQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFBPTEFSX1NDQVRURVIgXSksXG4gICAgICAgICAgICBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVBcmVhQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFBPTEFSX0FSRUEgXSksXG4gICAgICAgICAgICBwYW5lXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZUNoYXJ0ID0gbmV3IFBvbGFyTGluZUNoYXJ0KHRoaXMsIHsgc2VyaWVzOiBzZXJpZXMgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChsaW5lQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZVNjYXR0ZXJDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNjYXR0ZXJDaGFydCA9IG5ldyBQb2xhclNjYXR0ZXJDaGFydCh0aGlzLCB7IHNlcmllczogc2VyaWVzIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoc2NhdHRlckNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBcmVhQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcmVhQ2hhcnQgPSBuZXcgUG9sYXJBcmVhQ2hhcnQodGhpcywgeyBzZXJpZXM6IHNlcmllcyB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGFyZWFDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIGV2ZW50VHlwZSkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSBjaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoY29vcmRzLngsIGNvb3Jkcy55KTtcbiAgICAgICAgY29uc3QgeFZhbHVlID0gdGhpcy5heGlzWC5nZXRWYWx1ZShwb2ludCk7XG4gICAgICAgIGNvbnN0IHlWYWx1ZSA9IHRoaXMuYXhpc1kuZ2V0VmFsdWUocG9pbnQpO1xuXG4gICAgICAgIGlmICh4VmFsdWUgIT09IG51bGwgJiYgeVZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjaGFydC50cmlnZ2VyKGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGV2ZW50RWxlbWVudChlKSxcbiAgICAgICAgICAgICAgICB4OiB4VmFsdWUsXG4gICAgICAgICAgICAgICAgeTogeVZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNyb3NzaGFpcnMoKSB7fVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhQb2xhclBsb3RBcmVhLCB7XG4gICAgeEF4aXM6IHt9LFxuICAgIHlBeGlzOiB7fVxufSk7XG5cbmRlZXBFeHRlbmQoUG9sYXJQbG90QXJlYS5wcm90b3R5cGUsIFBsb3RBcmVhRXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2xhclBsb3RBcmVhOyIsImltcG9ydCBMaW5lQ2hhcnQgZnJvbSAnLi4vbGluZS1jaGFydC9saW5lLWNoYXJ0JztcbmltcG9ydCBTcGxpbmVTZWdtZW50IGZyb20gJy4uL2xpbmUtY2hhcnQvc3BsaW5lLXNlZ21lbnQnO1xuaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1zZWdtZW50JztcblxuaW1wb3J0IHsgUG9pbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBTTU9PVEgsIElOVEVSUE9MQVRFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGxhc3QgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5mdW5jdGlvbiBncm91cEJ5U2VyaWVzSXgoc2VnbWVudHMpIHtcbiAgICBjb25zdCBzZXJpZXNTZWdtZW50cyA9IFtdO1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNlZ21lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2lkeF07XG4gICAgICAgIHNlcmllc1NlZ21lbnRzW3NlZ21lbnQuc2VyaWVzSXhdID0gc2VyaWVzU2VnbWVudHNbc2VnbWVudC5zZXJpZXNJeF0gfHwgW107XG4gICAgICAgIHNlcmllc1NlZ21lbnRzW3NlZ21lbnQuc2VyaWVzSXhdLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlcmllc1NlZ21lbnRzO1xufVxuXG5jbGFzcyBSYWRhckxpbmVDaGFydCBleHRlbmRzIExpbmVDaGFydCB7XG5cbiAgICBwb2ludFNsb3QoY2F0ZWdvcnlTbG90LCB2YWx1ZVNsb3QpIHtcbiAgICAgICAgY29uc3QgdmFsdWVSYWRpdXMgPSBjYXRlZ29yeVNsb3QuY2VudGVyLnkgLSB2YWx1ZVNsb3QueTE7XG4gICAgICAgIGNvbnN0IHNsb3QgPSBQb2ludC5vbkNpcmNsZShjYXRlZ29yeVNsb3QuY2VudGVyLCBjYXRlZ29yeVNsb3QubWlkZGxlKCksIHZhbHVlUmFkaXVzKTtcblxuICAgICAgICByZXR1cm4gbmV3IEJveChzbG90LngsIHNsb3QueSwgc2xvdC54LCBzbG90LnkpO1xuICAgIH1cblxuICAgIHJlbmRlclNlZ21lbnRzKCkge1xuICAgICAgICBzdXBlci5yZW5kZXJTZWdtZW50cygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zZWdtZW50cyAmJiB0aGlzLl9zZWdtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNTZWdtZW50cyA9IGdyb3VwQnlTZXJpZXNJeCh0aGlzLl9zZWdtZW50cyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNlcmllc1NlZ21lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50cyA9IHNlcmllc1NlZ21lbnRzW2lkeF07XG4gICAgICAgICAgICAgICAgaWYgKHNlZ21lbnRzICYmIHNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RQb2ludCA9IHNlZ21lbnRzWzBdLmxpbmVQb2ludHNbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTZWdtZW50ID0gbGFzdChzZWdtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IGxhc3QobGFzdFNlZ21lbnQubGluZVBvaW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRmlyc3REYXRhUG9pbnQgPSBmaXJzdFBvaW50LmNhdGVnb3J5SXggPT09IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTGFzdERhdGFQb2ludCA9IGxhc3RQb2ludC5jYXRlZ29yeUl4ID09PSBsYXN0UG9pbnQuY2F0ZWdvcmllc0NvdW50IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmlyc3REYXRhUG9pbnQgJiYgaXNMYXN0RGF0YVBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0KHNlZ21lbnRzKS5saW5lUG9pbnRzLnB1c2goZmlyc3RQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gY3VycmVudFNlcmllcy5zdHlsZTtcbiAgICAgICAgbGV0IHBvaW50VHlwZTtcblxuICAgICAgICBpZiAoc3R5bGUgPT09IFNNT09USCkge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gU3BsaW5lU2VnbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IExpbmVTZWdtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IG5ldyBwb2ludFR5cGUobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpO1xuICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWVzID0gdGhpcy5zZXJpZXNNaXNzaW5nVmFsdWVzKGN1cnJlbnRTZXJpZXMpO1xuXG4gICAgICAgIGlmIChsaW5lUG9pbnRzLmxlbmd0aCA9PT0gY3VycmVudFNlcmllcy5kYXRhLmxlbmd0aCB8fCBtaXNzaW5nVmFsdWVzID09PSBJTlRFUlBPTEFURSkge1xuICAgICAgICAgICAgc2VnbWVudC5vcHRpb25zLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGFyTGluZUNoYXJ0LCB7XG4gICAgY2xpcDogZmFsc2UsXG4gICAgbGltaXRQb2ludHM6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJMaW5lQ2hhcnQ7XG4iLCJpbXBvcnQgU3BsaW5lQXJlYVNlZ21lbnQgZnJvbSAnLi4vYXJlYS1jaGFydC9zcGxpbmUtYXJlYS1zZWdtZW50JztcblxuY2xhc3MgU3BsaW5lUmFkYXJBcmVhU2VnbWVudCBleHRlbmRzIFNwbGluZUFyZWFTZWdtZW50IHtcbiAgICBmaWxsVG9BeGVzKCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BsaW5lUmFkYXJBcmVhU2VnbWVudDsiLCJpbXBvcnQgQXJlYVNlZ21lbnQgZnJvbSAnLi4vYXJlYS1jaGFydC9hcmVhLXNlZ21lbnQnO1xuXG5jbGFzcyBSYWRhckFyZWFTZWdtZW50IGV4dGVuZHMgQXJlYVNlZ21lbnQge1xuICAgIGZpbGxUb0F4ZXMoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYWRhckFyZWFTZWdtZW50OyIsImltcG9ydCBSYWRhckxpbmVDaGFydCBmcm9tICcuLi9yYWRhci1saW5lLWNoYXJ0L3JhZGFyLWxpbmUtY2hhcnQnO1xuaW1wb3J0IFNwbGluZVJhZGFyQXJlYVNlZ21lbnQgZnJvbSAnLi9zcGxpbmUtcmFkYXItYXJlYS1zZWdtZW50JztcbmltcG9ydCBSYWRhckFyZWFTZWdtZW50IGZyb20gJy4vcmFkYXItYXJlYS1zZWdtZW50JztcblxuaW1wb3J0IHsgU01PT1RILCBaRVJPIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY2xhc3MgUmFkYXJBcmVhQ2hhcnQgZXh0ZW5kcyBSYWRhckxpbmVDaGFydCB7XG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCwgcHJldlNlZ21lbnQpIHtcbiAgICAgICAgY29uc3QgaXNTdGFja2VkID0gdGhpcy5vcHRpb25zLmlzU3RhY2tlZDtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSAoY3VycmVudFNlcmllcy5saW5lIHx8IHt9KS5zdHlsZTtcbiAgICAgICAgbGV0IHByZXZpb3VzU2VnbWVudDtcbiAgICAgICAgbGV0IHN0YWNrUG9pbnRzO1xuICAgICAgICBsZXQgc2VnbWVudDtcblxuICAgICAgICBpZiAoaXNTdGFja2VkICYmIHNlcmllc0l4ID4gMCAmJiBwcmV2U2VnbWVudCkge1xuICAgICAgICAgICAgc3RhY2tQb2ludHMgPSBwcmV2U2VnbWVudC5saW5lUG9pbnRzLnNsaWNlKDApO1xuICAgICAgICAgICAgcHJldmlvdXNTZWdtZW50ID0gcHJldlNlZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGUgPT09IFNNT09USCkge1xuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBTcGxpbmVSYWRhckFyZWFTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwcmV2aW91c1NlZ21lbnQsIHN0YWNrUG9pbnRzKTtcbiAgICAgICAgICAgIHNlZ21lbnQub3B0aW9ucy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGluZVBvaW50cy5wdXNoKGxpbmVQb2ludHNbMF0pO1xuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBSYWRhckFyZWFTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwcmV2aW91c1NlZ21lbnQsIHN0YWNrUG9pbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cblxuICAgIHNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKSB7XG4gICAgICAgIHJldHVybiBzZXJpZXMubWlzc2luZ1ZhbHVlcyB8fCBaRVJPO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJBcmVhQ2hhcnQ7IiwiaW1wb3J0IERvbnV0U2VnbWVudCBmcm9tICcuLi9kb251dC1jaGFydC9kb251dC1zZWdtZW50JztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBSYWRhclNlZ21lbnQgZXh0ZW5kcyBEb251dFNlZ21lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlLCBudWxsLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGFyU2VnbWVudCwge1xuICAgIG92ZXJsYXk6IHtcbiAgICAgICAgZ3JhZGllbnQ6IFwibm9uZVwiXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZGlzdGFuY2U6IDEwXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyU2VnbWVudDsiLCJpbXBvcnQgeyBDaGFydEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5pbXBvcnQgeyBmb3JFYWNoLCBmb3JFYWNoUmV2ZXJzZSB9IGZyb20gJy4vdXRpbHMnO1xuXG5jbGFzcyBSYWRhckNsdXN0ZXJMYXlvdXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5mb3JFYWNoID0gb3B0aW9ucy5ydGwgPyBmb3JFYWNoUmV2ZXJzZSA6IGZvckVhY2g7XG4gICAgfVxuXG4gICAgcmVmbG93KHNlY3Rvcikge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGdhcCwgc3BhY2luZyB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgY291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNsb3RzID0gY291bnQgKyBnYXAgKyAoc3BhY2luZyAqIChjb3VudCAtIDEpKTtcbiAgICAgICAgY29uc3Qgc2xvdEFuZ2xlID0gc2VjdG9yLmFuZ2xlIC8gc2xvdHM7XG4gICAgICAgIGxldCBhbmdsZSA9IHNlY3Rvci5zdGFydEFuZ2xlICsgc2xvdEFuZ2xlICogKGdhcCAvIDIpO1xuXG4gICAgICAgIHRoaXMuZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzbG90U2VjdG9yID0gc2VjdG9yLmNsb25lKCk7XG4gICAgICAgICAgICBzbG90U2VjdG9yLnN0YXJ0QW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgIHNsb3RTZWN0b3IuYW5nbGUgPSBzbG90QW5nbGU7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5zZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBzbG90U2VjdG9yLnJhZGl1cyA9IGNoaWxkLnNlY3Rvci5yYWRpdXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnJlZmxvdyhzbG90U2VjdG9yKTtcbiAgICAgICAgICAgIGNoaWxkLnNlY3RvciA9IHNsb3RTZWN0b3I7XG5cbiAgICAgICAgICAgIGFuZ2xlICs9IHNsb3RBbmdsZSArIChzbG90QW5nbGUgKiBzcGFjaW5nKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYWRhckNsdXN0ZXJMYXlvdXQsIHtcbiAgICBnYXA6IDEsXG4gICAgc3BhY2luZzogMFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyQ2x1c3RlckxheW91dDsiLCJpbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5jbGFzcyBSYWRhclN0YWNrTGF5b3V0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICByZWZsb3coc2VjdG9yKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9uczogeyByZXZlcnNlIH0sIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBjb25zdCBmaXJzdCA9IHJldmVyc2UgPyBjaGlsZHJlbkNvdW50IC0gMSA6IDA7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSByZXZlcnNlID8gLTEgOiAxO1xuXG4gICAgICAgIHRoaXMuYm94ID0gbmV3IEJveCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBmaXJzdDsgaSA+PSAwICYmIGkgPCBjaGlsZHJlbkNvdW50OyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkU2VjdG9yID0gY2hpbGRyZW5baV0uc2VjdG9yO1xuICAgICAgICAgICAgY2hpbGRTZWN0b3Iuc3RhcnRBbmdsZSA9IHNlY3Rvci5zdGFydEFuZ2xlO1xuICAgICAgICAgICAgY2hpbGRTZWN0b3IuYW5nbGUgPSBzZWN0b3IuYW5nbGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyU3RhY2tMYXlvdXQ7IiwiaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4uL2Jhci1jaGFydC9iYXItY2hhcnQnO1xuaW1wb3J0IFJhZGFyU2VnbWVudCBmcm9tICcuL3JhZGFyLXNlZ21lbnQnO1xuaW1wb3J0IFJhZGFyQ2x1c3RlckxheW91dCBmcm9tICcuLi9sYXlvdXQvcmFkYXItY2x1c3Rlci1sYXlvdXQnO1xuaW1wb3J0IFJhZGFyU3RhY2tMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L3JhZGFyLXN0YWNrLWxheW91dCc7XG5pbXBvcnQgQ2F0ZWdvcmljYWxDaGFydCBmcm9tICcuLi9jYXRlZ29yaWNhbC1jaGFydCc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUmFkYXJCYXJDaGFydCBleHRlbmRzIEJhckNoYXJ0IHtcbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSYWRhclNlZ21lbnQ7XG4gICAgfVxuXG4gICAgY2x1c3RlclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSYWRhckNsdXN0ZXJMYXlvdXQ7XG4gICAgfVxuXG4gICAgc3RhY2tUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmFkYXJTdGFja0xheW91dDtcbiAgICB9XG5cbiAgICBjYXRlZ29yeVNsb3QoY2F0ZWdvcnlBeGlzLCBjYXRlZ29yeUl4KSB7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeUF4aXMuZ2V0U2xvdChjYXRlZ29yeUl4KTtcbiAgICB9XG5cbiAgICBwb2ludFNsb3QoY2F0ZWdvcnlTbG90LCB2YWx1ZVNsb3QpIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IGNhdGVnb3J5U2xvdC5jbG9uZSgpO1xuICAgICAgICBjb25zdCB5ID0gY2F0ZWdvcnlTbG90LmNlbnRlci55O1xuXG4gICAgICAgIHNsb3QucmFkaXVzID0geSAtIHZhbHVlU2xvdC55MTtcbiAgICAgICAgc2xvdC5pbm5lclJhZGl1cyA9IHkgLSB2YWx1ZVNsb3QueTI7XG5cbiAgICAgICAgcmV0dXJuIHNsb3Q7XG4gICAgfVxuXG4gICAgcmVmbG93UG9pbnQocG9pbnQsIHBvaW50U2xvdCkge1xuICAgICAgICBwb2ludC5zZWN0b3IgPSBwb2ludFNsb3Q7XG4gICAgICAgIHBvaW50LnJlZmxvdygpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5jZW50ZXIgPSB0aGlzLmJveC50b1JlY3QoKS5jZW50ZXIoKTtcbiAgICAgICAgc3VwZXIuY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgfVxufVxuXG5SYWRhckJhckNoYXJ0LnByb3RvdHlwZS5yZWZsb3cgPSBDYXRlZ29yaWNhbENoYXJ0LnByb3RvdHlwZS5yZWZsb3c7XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGFyQmFyQ2hhcnQsIHtcbiAgICBjbGlwOiBmYWxzZSxcbiAgICBsaW1pdFBvaW50czogZmFsc2UsXG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IFwicGllXCJcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJCYXJDaGFydDsiLCJpbXBvcnQgUG9sYXJQbG90QXJlYUJhc2UgZnJvbSAnLi9wb2xhci1wbG90YXJlYS1iYXNlJztcbmltcG9ydCBDYXRlZ29yaWNhbFBsb3RBcmVhIGZyb20gJy4vY2F0ZWdvcmljYWwtcGxvdGFyZWEnO1xuaW1wb3J0IFJhZGFyQXJlYUNoYXJ0IGZyb20gJy4uL3JhZGFyLWFyZWEtY2hhcnQvcmFkYXItYXJlYS1jaGFydCc7XG5pbXBvcnQgUmFkYXJMaW5lQ2hhcnQgZnJvbSAnLi4vcmFkYXItbGluZS1jaGFydC9yYWRhci1saW5lLWNoYXJ0JztcbmltcG9ydCBSYWRhckJhckNoYXJ0IGZyb20gJy4uL3JhZGFyLWJhci1jaGFydC9yYWRhci1iYXItY2hhcnQnO1xuaW1wb3J0IFBsb3RBcmVhRXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3Bsb3RhcmVhLWV2ZW50cy1taXhpbic7XG5cbmltcG9ydCB7IFJhZGFyQ2F0ZWdvcnlBeGlzLCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBSQURBUl9BUkVBLCBSQURBUl9MSU5FLCBSQURBUl9DT0xVTU4gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgZmlsdGVyU2VyaWVzQnlUeXBlIGZyb20gJy4uL3V0aWxzL2ZpbHRlci1zZXJpZXMtYnktdHlwZSc7XG5cbmltcG9ydCB7IEFSQyB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZXZlbnRFbGVtZW50LCBkZWVwRXh0ZW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFJhZGFyUGxvdEFyZWEgZXh0ZW5kcyBQb2xhclBsb3RBcmVhQmFzZSB7XG4gICAgY3JlYXRlUG9sYXJBeGlzKCkge1xuICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSBuZXcgUmFkYXJDYXRlZ29yeUF4aXModGhpcy5vcHRpb25zLmNhdGVnb3J5QXhpcywgdGhpcy5jaGFydFNlcnZpY2UpO1xuXG4gICAgICAgIHRoaXMucG9sYXJBeGlzID0gY2F0ZWdvcnlBeGlzO1xuICAgICAgICB0aGlzLmNhdGVnb3J5QXhpcyA9IGNhdGVnb3J5QXhpcztcbiAgICAgICAgdGhpcy5hcHBlbmRBeGlzKGNhdGVnb3J5QXhpcyk7XG4gICAgICAgIHRoaXMuYWdncmVnYXRlQ2F0ZWdvcmllcygpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNhdGVnb3J5QXhlc0xhYmVscygpO1xuICAgIH1cblxuICAgIHZhbHVlQXhpc09wdGlvbnMoZGVmYXVsdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0JhckNoYXJ0cykge1xuICAgICAgICAgICAgZGVlcEV4dGVuZChkZWZhdWx0cywge1xuICAgICAgICAgICAgICAgIG1ham9yR3JpZExpbmVzOiB7IHR5cGU6IEFSQyB9LFxuICAgICAgICAgICAgICAgIG1pbm9yR3JpZExpbmVzOiB7IHR5cGU6IEFSQyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1N0YWNrZWQxMDApIHtcbiAgICAgICAgICAgIGRlZXBFeHRlbmQoZGVmYXVsdHMsIHtcbiAgICAgICAgICAgICAgICByb3VuZFRvTWFqb3JVbml0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHsgZm9ybWF0OiBcIlAwXCIgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVlcEV4dGVuZChkZWZhdWx0cywgdGhpcy5vcHRpb25zLnZhbHVlQXhpcyk7XG4gICAgfVxuXG4gICAgYWdncmVnYXRlQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgLy8gTm8gc2VwYXJhdGUgcGFuZXMgaW4gcmFkYXIgY2hhcnRzXG4gICAgICAgIENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLmFnZ3JlZ2F0ZUNhdGVnb3JpZXMuY2FsbCh0aGlzLCB0aGlzLnBhbmVzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDYXRlZ29yeUF4ZXNMYWJlbHMoKSB7XG4gICAgICAgIENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLmNyZWF0ZUNhdGVnb3J5QXhlc0xhYmVscy5jYWxsKHRoaXMsIHRoaXMucGFuZXMpO1xuICAgIH1cblxuICAgIGZpbHRlclNlcmllcyhjdXJyZW50U2VyaWVzKSB7XG4gICAgICAgIC8vIE5vdCBzdXBwb3J0ZWQgZm9yIHJhZGFyIGNoYXJ0c1xuICAgICAgICByZXR1cm4gY3VycmVudFNlcmllcztcbiAgICB9XG5cbiAgICBjcmVhdGVDaGFydHMoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuZmlsdGVyVmlzaWJsZVNlcmllcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IHBhbmUgPSB0aGlzLnBhbmVzWzBdO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQXJlYUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBSQURBUl9BUkVBIF0pLFxuICAgICAgICAgICAgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGluZUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBSQURBUl9MSU5FIF0pLFxuICAgICAgICAgICAgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQmFyQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFJBREFSX0NPTFVNTiBdKSxcbiAgICAgICAgICAgIHBhbmVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjaGFydE9wdGlvbnMoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHNlcmllczogc2VyaWVzIH07XG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBpZiAoZmlyc3RTZXJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHNlcmllcyk7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IGZpcnN0U2VyaWVzLnN0YWNrO1xuICAgICAgICAgICAgb3B0aW9ucy5pc1N0YWNrZWQgPSBzdGFjayAmJiBmaWx0ZXJlZFNlcmllcy5sZW5ndGggPiAxO1xuICAgICAgICAgICAgb3B0aW9ucy5pc1N0YWNrZWQxMDAgPSBzdGFjayAmJiBzdGFjay50eXBlID09PSBcIjEwMCVcIiAmJiBmaWx0ZXJlZFNlcmllcy5sZW5ndGggPiAxO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pc1N0YWNrZWQxMDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1N0YWNrZWQxMDAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgY3JlYXRlQXJlYUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXJlYUNoYXJ0ID0gbmV3IFJhZGFyQXJlYUNoYXJ0KHRoaXMsIHRoaXMuY2hhcnRPcHRpb25zKHNlcmllcykpO1xuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGFyZWFDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZUNoYXJ0ID0gbmV3IFJhZGFyTGluZUNoYXJ0KHRoaXMsIHRoaXMuY2hhcnRPcHRpb25zKHNlcmllcykpO1xuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGxpbmVDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQmFyQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY2hhcnRPcHRpb25zKHNlcmllcyk7XG4gICAgICAgIG9wdGlvbnMuZ2FwID0gZmlyc3RTZXJpZXMuZ2FwO1xuICAgICAgICBvcHRpb25zLnNwYWNpbmcgPSBmaXJzdFNlcmllcy5zcGFjaW5nO1xuXG4gICAgICAgIGNvbnN0IGJhckNoYXJ0ID0gbmV3IFJhZGFyQmFyQ2hhcnQodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoYmFyQ2hhcnQsIHBhbmUpO1xuXG4gICAgICAgIHRoaXMuX2hhc0JhckNoYXJ0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgc2VyaWVzQ2F0ZWdvcnlBeGlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXRlZ29yeUF4aXM7XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIGV2ZW50VHlwZSkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSBjaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoY29vcmRzLngsIGNvb3Jkcy55KTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3J5QXhpcy5nZXRDYXRlZ29yeShwb2ludCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZUF4aXMuZ2V0VmFsdWUocG9pbnQpO1xuXG4gICAgICAgIGlmIChjYXRlZ29yeSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2hhcnQudHJpZ2dlcihldmVudFR5cGUsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDcm9zc2hhaXJzKCkge31cbn1cblxuZGVlcEV4dGVuZChSYWRhclBsb3RBcmVhLnByb3RvdHlwZSwgUGxvdEFyZWFFdmVudHNNaXhpbiwge1xuICAgIGFwcGVuZENoYXJ0OiBDYXRlZ29yaWNhbFBsb3RBcmVhLnByb3RvdHlwZS5hcHBlbmRDaGFydCxcbiAgICBhZ2dyZWdhdGVTZXJpZXM6IENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLmFnZ3JlZ2F0ZVNlcmllcyxcbiAgICBzZXJpZXNTb3VyY2VQb2ludHM6IENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLnNlcmllc1NvdXJjZVBvaW50c1xufSk7XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGFyUGxvdEFyZWEsIHtcbiAgICBjYXRlZ29yeUF4aXM6IHtcbiAgICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9LFxuICAgIHZhbHVlQXhpczoge31cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRhclBsb3RBcmVhOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3gsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcblxuaW1wb3J0IHsgV0hJVEUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgRnVubmVsU2VnbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMsIHNlZ21lbnRPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmluZGV4ID0gc2VnbWVudE9wdGlvbnMuaW5kZXg7XG4gICAgfVxuXG4gICAgcmVmbG93KGNoYXJ0Qm94KSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuY2hpbGRyZW5bMF07XG5cbiAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KHBvaW50c1swXS54LCBwb2ludHNbMF0ueSwgcG9pbnRzWzFdLngsIHBvaW50c1syXS55KTtcblxuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhuZXcgQm94KGNoYXJ0Qm94LngxLCBwb2ludHNbMF0ueSwgY2hhcnRCb3gueDIsIHBvaW50c1syXS55KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCB2aXN1YWw7XG5cbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudmlzdWFsKSB7XG4gICAgICAgICAgICB2aXN1YWwgPSBvcHRpb25zLnZpc3VhbCh7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgcG9pbnRzOiB0aGlzLnBvaW50cyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHRoaXMuY3JlYXRlUGF0aCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpc3VhbCA9IHRoaXMuY3JlYXRlUGF0aCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZpc3VhbCkge1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHZpc3VhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVQYXRoKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3JkZXIgPSBvcHRpb25zLmJvcmRlcjtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMucG9pbnRzLCB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBib3JkZXIub3BhY2l0eSxcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNsb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KHN0eWxlKSB7XG4gICAgICAgIHJldHVybiBkcmF3LlBhdGguZnJvbVBvaW50cyh0aGlzLnBvaW50cywgc3R5bGUpO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsLmNoaWxkcmVuWzBdO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkcmF3LlBhdGguZnJvbVBvaW50cyh0aGlzLnBvaW50cykuY2xvc2UoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgcGF0aDogcGF0aFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvb2x0aXBBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludChib3guY2VudGVyKCkueCwgYm94LnkxKSxcbiAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogXCJ0b3BcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBwb2ludC5vd25lci5mb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRnVubmVsU2VnbWVudCwge1xuICAgIGNvbG9yOiBXSElURSxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChGdW5uZWxTZWdtZW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IEZ1bm5lbFNlZ21lbnQ7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBUZXh0Qm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgUGllQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvcGllLWNoYXJ0LW1peGluJztcbmltcG9ydCBGdW5uZWxTZWdtZW50IGZyb20gJy4vZnVubmVsLXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBiaW5kU2VnbWVudHMsIGV2YWxPcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBDRU5URVIsIExFRlQgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGF1dG9UZXh0Q29sb3IsIGRlZXBFeHRlbmQsIGlzRnVuY3Rpb24sIGdldFRlbXBsYXRlLCBsaW1pdFZhbHVlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEZ1bm5lbENoYXJ0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihwbG90QXJlYSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnBsb3RBcmVhID0gcGxvdEFyZWE7XG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIHRoaXMubGFiZWxzID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCxwb2ludC52YWx1ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHBsb3RBcmVhOiB7IG9wdGlvbnM6IHsgc2VyaWVzQ29sb3JzID0gW10gfSB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllc1swXTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHNlcmllcy5kYXRhO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB0b3RhbCwgcG9pbnRzIH0gPSBiaW5kU2VnbWVudHMoc2VyaWVzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnREYXRhID0gcG9pbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBvaW50RGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZmllbGRzID0gcG9pbnREYXRhLmZpZWxkcztcblxuICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgICAgICBzZXJpZXMuY29sb3IgPSBmaWVsZHMuY29sb3IgfHwgc2VyaWVzQ29sb3JzW2kgJSBzZXJpZXNDb2xvcnMubGVuZ3RoXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmllbGRzID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgb3duZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IGRhdGFbaV0sXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogcG9pbnREYXRhLnZhbHVlIC8gdG90YWxcbiAgICAgICAgICAgIH0sIGZpZWxkcywgeyB2aXNpYmxlOiBwb2ludERhdGEudmlzaWJsZSB9KTtcblxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludERhdGEudmFsdWVGaWVsZHMudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gdGhpcy5jcmVhdGVTZWdtZW50KHZhbHVlLCBmaWVsZHMpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgICAgICBpZiAoc2VnbWVudCAmJiBsYWJlbCkge1xuICAgICAgICAgICAgICAgIHNlZ21lbnQuYXBwZW5kKGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV2YWxTZWdtZW50T3B0aW9ucyhvcHRpb25zLCB2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IGZpZWxkcy5zZXJpZXM7XG5cbiAgICAgICAgZXZhbE9wdGlvbnMob3B0aW9ucywge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBkYXRhSXRlbTogZmllbGRzLmRhdGFJdGVtLFxuICAgICAgICAgICAgaW5kZXg6IGZpZWxkcy5pbmRleFxuICAgICAgICB9LCB7IGRlZmF1bHRzOiBzZXJpZXMuX2RlZmF1bHRzLCBleGNsdWRlZDogWyBcImRhdGFcIiwgXCJjb250ZW50XCIsIFwidGVtcGxhdGVcIiwgXCJ0b2dnbGVcIiwgXCJ2aXN1YWxcIiBdIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBzZXJpZXNPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgZmllbGRzLnNlcmllcyk7XG4gICAgICAgIHRoaXMuZXZhbFNlZ21lbnRPcHRpb25zKHNlcmllc09wdGlvbnMsIHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGVnZW5kSXRlbSh2YWx1ZSwgc2VyaWVzT3B0aW9ucywgZmllbGRzKTtcblxuICAgICAgICBpZiAoZmllbGRzLnZpc2libGUgIT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgRnVubmVsU2VnbWVudCh2YWx1ZSwgc2VyaWVzT3B0aW9ucywgZmllbGRzKTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2VnbWVudCwgZmllbGRzKTtcblxuICAgICAgICAgICAgdGhpcy5hcHBlbmQoc2VnbWVudCk7XG4gICAgICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHNlZ21lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VnbWVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVsKHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBzZXJpZXMsIGRhdGFJdGVtIH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucy5sYWJlbHMsIHNlcmllcy5sYWJlbHMpO1xuICAgICAgICBsZXQgdGV4dCA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChsYWJlbHMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxUZW1wbGF0ZSA9IGdldFRlbXBsYXRlKGxhYmVscyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBkYXRhSXRlbSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogZmllbGRzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGZpZWxkcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChsYWJlbFRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGxhYmVsVGVtcGxhdGUoZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhYmVscy5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy5wbG90QXJlYS5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8obGFiZWxzLmZvcm1hdCwgdGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbGFiZWxzLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxzLmNvbG9yID0gYXV0b1RleHRDb2xvcihzZXJpZXMuY29sb3IpO1xuICAgICAgICAgICAgICAgIGlmICghbGFiZWxzLmJhY2tncm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzLmJhY2tncm91bmQgPSBzZXJpZXMuY29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmV2YWxTZWdtZW50T3B0aW9ucyhsYWJlbHMsIHZhbHVlLCBmaWVsZHMpO1xuICAgICAgICAgICAgY29uc3QgdGV4dEJveCA9IG5ldyBUZXh0Qm94KHRleHQsIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgIHZBbGlnbjogbGFiZWxzLnBvc2l0aW9uXG4gICAgICAgICAgICB9LCBsYWJlbHMpLCBkYXRhKTtcblxuICAgICAgICAgICAgdGhpcy5sYWJlbHMucHVzaCh0ZXh0Qm94KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHRCb3g7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsYWJlbFBhZGRpbmcoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMubGFiZWxzO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0geyBsZWZ0OiAwLCByaWdodDogMCB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFiZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVsc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGFsaWduID0gbGFiZWwub3B0aW9ucy5hbGlnbjtcbiAgICAgICAgICAgIGlmIChhbGlnbiAhPT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBsYWJlbHNbaV0uYm94LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy5sZWZ0ID0gTWF0aC5tYXgocGFkZGluZy5sZWZ0LCB3aWR0aCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy5yaWdodCA9IE1hdGgubWF4KHBhZGRpbmcucmlnaHQsIHdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFkZGluZztcbiAgICB9XG5cbiAgICBkeW5hbWljU2xvcGVSZWZsb3coYm94LCB3aWR0aCwgdG90YWxIZWlnaHQpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBwb2ludHM6IHNlZ21lbnRzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjb3VudCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZmlyc3RTZWdtZW50ID0gc2VnbWVudHNbMF07XG4gICAgICAgIGxldCBtYXhTZWdtZW50ID0gZmlyc3RTZWdtZW50O1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNlZ21lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChzZWdtZW50c1tpZHhdLnBlcmNlbnRhZ2UgPiBtYXhTZWdtZW50LnBlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICBtYXhTZWdtZW50ID0gc2VnbWVudHNbaWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXN0VXBwZXJTaWRlID0gKGZpcnN0U2VnbWVudC5wZXJjZW50YWdlIC8gbWF4U2VnbWVudC5wZXJjZW50YWdlKSAqIHdpZHRoO1xuICAgICAgICBsZXQgcHJldmlvdXNPZmZzZXQgPSAod2lkdGggLSBsYXN0VXBwZXJTaWRlKSAvIDI7XG4gICAgICAgIGxldCBwcmV2aW91c0hlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY291bnQ7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gc2VnbWVudHNbaWR4XS5wZXJjZW50YWdlO1xuICAgICAgICAgICAgY29uc3QgbmV4dFNlZ21lbnQgPSBzZWdtZW50c1tpZHggKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQZXJjZW50YWdlID0gKG5leHRTZWdtZW50ID8gbmV4dFNlZ21lbnQucGVyY2VudGFnZSA6IHBlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gc2VnbWVudHNbaWR4XS5wb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChvcHRpb25zLmR5bmFtaWNIZWlnaHQpID8gKHRvdGFsSGVpZ2h0ICogcGVyY2VudGFnZSkgOiAodG90YWxIZWlnaHQgLyBjb3VudCk7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAoIXBlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBuZXh0UGVyY2VudGFnZSA/IDAgOiB3aWR0aCAvIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9ICh3aWR0aCAtIGxhc3RVcHBlclNpZGUgKiAobmV4dFBlcmNlbnRhZ2UgLyBwZXJjZW50YWdlKSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvZmZzZXQgPSBsaW1pdFZhbHVlKG9mZnNldCwgMCwgd2lkdGgpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyBwcmV2aW91c09mZnNldCwgYm94LnkxICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBnZW9tLlBvaW50KGJveC54MSArIHdpZHRoIC0gcHJldmlvdXNPZmZzZXQsIGJveC55MSArIHByZXZpb3VzSGVpZ2h0KSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyB3aWR0aCAtIG9mZnNldCwgYm94LnkxICsgaGVpZ2h0ICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBnZW9tLlBvaW50KGJveC54MSArIG9mZnNldCwgYm94LnkxICsgaGVpZ2h0ICsgcHJldmlvdXNIZWlnaHQpKTtcblxuICAgICAgICAgICAgcHJldmlvdXNPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICBwcmV2aW91c0hlaWdodCArPSBoZWlnaHQgKyBvcHRpb25zLnNlZ21lbnRTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdFVwcGVyU2lkZSA9IGxpbWl0VmFsdWUod2lkdGggLSAyICogb2Zmc2V0LCAwLCB3aWR0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdGFudFNsb3BlUmVmbG93KGJveCwgd2lkdGgsIHRvdGFsSGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcG9pbnRzOiBzZWdtZW50cyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY291bnQgPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRlY3JlYXNpbmdXaWR0aCA9IG9wdGlvbnMubmVja1JhdGlvIDw9IDE7XG4gICAgICAgIGNvbnN0IG5lY2tSYXRpbyA9IGRlY3JlYXNpbmdXaWR0aCA/IG9wdGlvbnMubmVja1JhdGlvICogd2lkdGggOiB3aWR0aDtcbiAgICAgICAgbGV0IHByZXZpb3VzT2Zmc2V0ID0gZGVjcmVhc2luZ1dpZHRoID8gMCA6ICh3aWR0aCAtIHdpZHRoIC8gb3B0aW9ucy5uZWNrUmF0aW8pIC8gMjtcbiAgICAgICAgY29uc3QgdG9wTW9zdFdpZHRoID0gZGVjcmVhc2luZ1dpZHRoID8gd2lkdGggOiB3aWR0aCAtIHByZXZpb3VzT2Zmc2V0ICogMjtcbiAgICAgICAgY29uc3QgZmluYWxOYXJyb3cgPSAodG9wTW9zdFdpZHRoIC0gbmVja1JhdGlvKSAvIDI7XG4gICAgICAgIGxldCBwcmV2aW91c0hlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY291bnQ7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBzZWdtZW50c1tpZHhdLnBvaW50cyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHNlZ21lbnRzW2lkeF0ucGVyY2VudGFnZTtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IChvcHRpb25zLmR5bmFtaWNIZWlnaHQpID8gKGZpbmFsTmFycm93ICogcGVyY2VudGFnZSkgOiAoZmluYWxOYXJyb3cgLyBjb3VudCk7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAob3B0aW9ucy5keW5hbWljSGVpZ2h0KSA/ICh0b3RhbEhlaWdodCAqIHBlcmNlbnRhZ2UpIDogKHRvdGFsSGVpZ2h0IC8gY291bnQpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyBwcmV2aW91c09mZnNldCwgYm94LnkxICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBnZW9tLlBvaW50KGJveC54MSArIHdpZHRoIC0gcHJldmlvdXNPZmZzZXQsIGJveC55MSArIHByZXZpb3VzSGVpZ2h0KSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyB3aWR0aCAtIHByZXZpb3VzT2Zmc2V0IC0gb2Zmc2V0LCBib3gueTEgKyBoZWlnaHQgKyBwcmV2aW91c0hlaWdodCkpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gobmV3IGdlb20uUG9pbnQoYm94LngxICsgcHJldmlvdXNPZmZzZXQgKyBvZmZzZXQsYm94LnkxICsgaGVpZ2h0ICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZpb3VzT2Zmc2V0ICs9IG9mZnNldDtcbiAgICAgICAgICAgIHByZXZpb3VzSGVpZ2h0ICs9IGhlaWdodCArIG9wdGlvbnMuc2VnbWVudFNwYWNpbmc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3coY2hhcnRCb3gpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3ggPSBjaGFydEJveC5jbG9uZSgpLnVucGFkKHRoaXMubGFiZWxQYWRkaW5nKCkpO1xuICAgICAgICBjb25zdCB0b3RhbEhlaWdodCA9IGJveC5oZWlnaHQoKSAtIG9wdGlvbnMuc2VnbWVudFNwYWNpbmcgKiAoY291bnQgLSAxKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBib3gud2lkdGgoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5keW5hbWljU2xvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1Nsb3BlUmVmbG93KGJveCwgd2lkdGgsIHRvdGFsSGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RhbnRTbG9wZVJlZmxvdyhib3gsIHdpZHRoLCB0b3RhbEhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjb3VudDsgaWR4KyspIHtcbiAgICAgICAgICAgIHBvaW50c1tpZHhdLnJlZmxvdyhjaGFydEJveCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEZ1bm5lbENoYXJ0LCB7XG4gICAgbmVja1JhdGlvOiAwLjMsXG4gICAgd2lkdGg6IDMwMCxcbiAgICBkeW5hbWljU2xvcGU6IGZhbHNlLFxuICAgIGR5bmFtaWNIZWlnaHQ6IHRydWUsXG4gICAgc2VnbWVudFNwYWNpbmc6IDAsXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBhbGlnbjogQ0VOVEVSLFxuICAgICAgICBwb3NpdGlvbjogQ0VOVEVSLFxuICAgICAgICB6SW5kZXg6IDFcbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChGdW5uZWxDaGFydC5wcm90b3R5cGUsIFBpZUNoYXJ0TWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBGdW5uZWxDaGFydDtcbiIsImltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS1iYXNlJztcbmltcG9ydCBGdW5uZWxDaGFydCBmcm9tICcuLi9mdW5uZWwtY2hhcnQvZnVubmVsLWNoYXJ0JztcblxuaW1wb3J0IHsgYXBwZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgRnVubmVsUGxvdEFyZWEgZXh0ZW5kcyBQbG90QXJlYUJhc2Uge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVGdW5uZWxDaGFydCh0aGlzLnNlcmllcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlRnVubmVsQ2hhcnQoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBmdW5uZWxDaGFydCA9IG5ldyBGdW5uZWxDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIGxlZ2VuZDogdGhpcy5vcHRpb25zLmxlZ2VuZCxcbiAgICAgICAgICAgIG5lY2tSYXRpbzogZmlyc3RTZXJpZXMubmVja1JhdGlvLFxuICAgICAgICAgICAgZHluYW1pY0hlaWdodDogZmlyc3RTZXJpZXMuZHluYW1pY0hlaWdodCxcbiAgICAgICAgICAgIGR5bmFtaWNTbG9wZTogZmlyc3RTZXJpZXMuZHluYW1pY1Nsb3BlLFxuICAgICAgICAgICAgc2VnbWVudFNwYWNpbmc6IGZpcnN0U2VyaWVzLnNlZ21lbnRTcGFjaW5nLFxuICAgICAgICAgICAgaGlnaGxpZ2h0OiBmaXJzdFNlcmllcy5oaWdobGlnaHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChmdW5uZWxDaGFydCk7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgICAgICBhcHBlbmQodGhpcy5vcHRpb25zLmxlZ2VuZC5pdGVtcywgY2hhcnQubGVnZW5kSXRlbXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRnVubmVsUGxvdEFyZWE7IiwiaW1wb3J0IHsgcGFyc2VDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuLy8gTGluZWFyIGNvbG9yIHNjYWxlIGZyb20gdGhlIGdpdmVuIGNvbG9yIHRvIHdoaXRlIG1pbnVzIG1pbmltdW0gbGlnaHRuZXNzIG9mZnNldC5cbmNvbnN0IGNvbG9yU2NhbGUgPSAoY29sb3IsIG1pbkxpZ2h0bmVzc09mZnNldCA9IDAuMDUpID0+IHtcbiAgICBjb25zdCBiYXNlQ29sb3IgPSBwYXJzZUNvbG9yKGNvbG9yKTtcbiAgICBjb25zdCBvZmZzZXQgPSAxIC0gbWluTGlnaHRuZXNzT2Zmc2V0O1xuXG4gICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBoc2wgPSBiYXNlQ29sb3IudG9IU0woKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSAxMDAgLSBoc2wubDtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBvZmZzZXQgLSB2YWx1ZTtcbiAgICAgICAgaHNsLmwgKz0gTWF0aC5taW4ocG9pbnQgKiByYW5nZSwgcmFuZ2UpO1xuXG4gICAgICAgIHJldHVybiBoc2wudG9Dc3MoKTtcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29sb3JTY2FsZTtcbiIsImltcG9ydCB7IGF1dG9UZXh0Q29sb3IsIGRlZXBFeHRlbmQsIGdldFRlbXBsYXRlLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBDRU5URVIsIFJPVU5ERURfUkVDVCwgQk9UVE9NLCBXSElURSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBQb2ludCwgcmVjdFRvQm94LCBTaGFwZUVsZW1lbnQsIFRleHRCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IFRPT0xUSVBfT0ZGU0VUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBOb3RlTWl4aW4gZnJvbSAnLi4vbWl4aW5zL25vdGUtbWl4aW4nO1xuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5cbmNsYXNzIEhlYXRtYXBQb2ludCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmNvbG9yID0gb3B0aW9ucy5jb2xvciB8fCBXSElURTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgpO1xuICAgICAgICB0aGlzLmNyZWF0ZU5vdGUoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGFiZWxzID0gb3B0aW9ucy5sYWJlbHM7XG5cbiAgICAgICAgaWYgKGxhYmVscy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSB0aGlzLnBvaW50RGF0YSgpO1xuICAgICAgICAgICAgbGV0IGxhYmVsVGVtcGxhdGUgPSBnZXRUZW1wbGF0ZShsYWJlbHMpO1xuICAgICAgICAgICAgbGV0IGxhYmVsVGV4dDtcbiAgICAgICAgICAgIGxldCBsYWJlbENvbG9yID0gbGFiZWxzLmNvbG9yO1xuXG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IGxhYmVsVGVtcGxhdGUocG9pbnREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0ID0gdGhpcy5mb3JtYXRWYWx1ZShsYWJlbHMuZm9ybWF0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsYWJlbENvbG9yKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxDb2xvciA9IGF1dG9UZXh0Q29sb3IodGhpcy5jb2xvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBuZXcgVGV4dEJveChsYWJlbFRleHQsXG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGFsaWduOiBDRU5URVIsXG4gICAgICAgICAgICAgICAgICAgIHZBbGlnbjogQ0VOVEVSLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogNVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IHZhbHVlT3JEZWZhdWx0KGxhYmVscy56SW5kZXgsIHRoaXMuc2VyaWVzLnpJbmRleClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxhYmVscywge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogbGFiZWxDb2xvclxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHBvaW50RGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9ybWF0VmFsdWUoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmZvcm1hdFBvaW50VmFsdWUodGhpcywgZm9ybWF0KTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmxhYmVsO1xuXG4gICAgICAgIHRoaXMuYm94ID0gdGFyZ2V0Qm94O1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgbGFiZWwucmVmbG93KHRoaXMubWFya2VyQm94KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RlLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXJrZXIucmVmbG93KHRoaXMubWFya2VyQm94KCkpO1xuICAgIH1cblxuICAgIG1hcmtlckJveCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFya2VycyA9IG9wdGlvbnMubWFya2VycztcbiAgICAgICAgY29uc3QgYm9yZGVyID0gbWFya2Vycy5ib3JkZXI7XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmJveC50b1JlY3QoKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IHZhbHVlT3JEZWZhdWx0KG1hcmtlcnMudHlwZSwgJ3JlY3QnKTtcbiAgICAgICAgY29uc3QgaXNSb3VuZFJlY3QgPSB0eXBlID09PSBST1VOREVEX1JFQ1Q7XG4gICAgICAgIGxldCBib3JkZXJXaWR0aCA9IHZhbHVlT3JEZWZhdWx0KGJvcmRlci53aWR0aCwgaXNSb3VuZFJlY3QgPyAxIDogMCk7XG4gICAgICAgIGNvbnN0IGhhbGZCb3JkZXJXaWR0aCA9IE1hdGgucm91bmQoYm9yZGVyV2lkdGggLyAyKTtcblxuICAgICAgICBpZiAobWFya2Vycy5zaXplKSB7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSByZWN0LmNlbnRlcigpO1xuICAgICAgICAgICAgcmVjdC5zaXplLndpZHRoID0gcmVjdC5zaXplLmhlaWdodCA9IG1hcmtlcnMuc2l6ZTtcbiAgICAgICAgICAgIHJlY3Qub3JpZ2luLnggPSBNYXRoLnJvdW5kKGNlbnRlci54IC0gcmVjdC5zaXplLndpZHRoIC8gMik7XG4gICAgICAgICAgICByZWN0Lm9yaWdpbi55ID0gTWF0aC5yb3VuZChjZW50ZXIueSAtIHJlY3Quc2l6ZS5oZWlnaHQgLyAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY3Quc2l6ZS53aWR0aCAtPSBib3JkZXJXaWR0aDtcbiAgICAgICAgcmVjdC5zaXplLmhlaWdodCAtPSBib3JkZXJXaWR0aDtcbiAgICAgICAgcmVjdC5vcmlnaW4ueSArPSBoYWxmQm9yZGVyV2lkdGggKyAwLjU7XG4gICAgICAgIHJlY3Qub3JpZ2luLnggKz0gaGFsZkJvcmRlcldpZHRoICsgMC41O1xuXG4gICAgICAgIHJldHVybiByZWN0VG9Cb3gocmVjdCk7XG4gICAgfVxuXG4gICAgbWFya2VyQm9yZGVyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBtYXJrZXJzID0gb3B0aW9ucy5tYXJrZXJzO1xuICAgICAgICBjb25zdCBib3JkZXIgPSBtYXJrZXJzLmJvcmRlcjtcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IHZhbHVlT3JEZWZhdWx0KGJvcmRlci5vcGFjaXR5LCBvcHRpb25zLm9wYWNpdHkpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2xvcjogYm9yZGVyLmNvbG9yIHx8IHRoaXMuY29sb3IsXG4gICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eSxcbiAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjcmVhdGVNYXJrZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1hcmtlck9wdGlvbnMgPSBvcHRpb25zLm1hcmtlcnM7XG4gICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBTaGFwZUVsZW1lbnQoe1xuICAgICAgICAgICAgdHlwZTogdmFsdWVPckRlZmF1bHQobWFya2VyT3B0aW9ucy50eXBlLCAncmVjdCcpLFxuICAgICAgICAgICAgd2lkdGg6IG1hcmtlck9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICAgIGhlaWdodDogbWFya2VyT3B0aW9ucy5zaXplLFxuICAgICAgICAgICAgcm90YXRpb246IG1hcmtlck9wdGlvbnMucm90YXRpb24sXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGlzLmNvbG9yLFxuICAgICAgICAgICAgYm9yZGVyOiB0aGlzLm1hcmtlckJvcmRlcigpLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBtYXJrZXJPcHRpb25zLmJvcmRlclJhZGl1cyxcbiAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMuc2VyaWVzLm9wYWNpdHkgfHwgb3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgekluZGV4OiB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnpJbmRleCwgdGhpcy5zZXJpZXMuekluZGV4KSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogb3B0aW9ucy5hbmltYXRpb24sXG4gICAgICAgICAgICB2aXN1YWw6IG9wdGlvbnMudmlzdWFsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5tYXJrZXIgPSBtYXJrZXI7XG4gICAgICAgIHRoaXMuYXBwZW5kKG1hcmtlcik7XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KHN0eWxlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1hcmtlck9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0Lm1hcmtlcnMgfHwgdGhpcy5vcHRpb25zLm1hcmtlcnM7XG5cbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gbmV3IFNoYXBlRWxlbWVudCh7XG4gICAgICAgICAgICB0eXBlOiB2YWx1ZU9yRGVmYXVsdChtYXJrZXJPcHRpb25zLnR5cGUsICdyZWN0JyksXG4gICAgICAgICAgICB3aWR0aDogbWFya2VyT3B0aW9ucy5zaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBtYXJrZXJPcHRpb25zLnNpemUsXG4gICAgICAgICAgICByb3RhdGlvbjogbWFya2VyT3B0aW9ucy5yb3RhdGlvbixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IG1hcmtlck9wdGlvbnMuY29sb3IgfHwgdGhpcy5jb2xvcixcbiAgICAgICAgICAgIGJvcmRlcjogdGhpcy5tYXJrZXJCb3JkZXIoKSxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogbWFya2VyT3B0aW9ucy5ib3JkZXJSYWRpdXMsXG4gICAgICAgICAgICBvcGFjaXR5OiB0aGlzLnNlcmllcy5vcGFjaXR5IHx8IG9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgIHpJbmRleDogdmFsdWVPckRlZmF1bHQob3B0aW9ucy56SW5kZXgsIHRoaXMuc2VyaWVzLnpJbmRleClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaGlnaGxpZ2h0LnJlZmxvdyh0aGlzLm1hcmtlckJveCgpKTtcbiAgICAgICAgY29uc3QgdmlzdWFsID0gaGlnaGxpZ2h0LmdldEVsZW1lbnQoKTtcblxuICAgICAgICB2aXN1YWwub3B0aW9ucy5maWxsID0gc3R5bGUuZmlsbDtcbiAgICAgICAgdmlzdWFsLm9wdGlvbnMuc3Ryb2tlID0gc3R5bGUuc3Ryb2tlO1xuXG4gICAgICAgIHJldHVybiB2aXN1YWw7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWN0VmlzdWFsO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICByZWN0OiB0aGlzLmJveC50b1JlY3QoKSxcbiAgICAgICAgICAgIHZpc3VhbDogdGhpcy5yZWN0VmlzdWFsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdG9vbHRpcEFuY2hvcigpIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMuYm94LmNlbnRlcigpLng7XG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMuYm94LnkxIC0gVE9PTFRJUF9PRkZTRVQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBuZXcgUG9pbnQobGVmdCwgdG9wKSxcbiAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogQ0VOVEVSLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBCT1RUT01cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBvdmVybGFwc0JveChib3gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94Lm92ZXJsYXBzKGJveCk7XG4gICAgfVxuXG4gICAgdW5jbGlwRWxlbWVudHMoKSB7XG4gICAgICAgIC8qIG5vb3AsIGNsaXAgbGFiZWxzICovXG4gICAgfVxuXG4gICAgcG9pbnREYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy52YWx1ZS54LFxuICAgICAgICAgICAgeTogdGhpcy52YWx1ZS55LFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUudmFsdWUsXG4gICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXNcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoSGVhdG1hcFBvaW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5kZWVwRXh0ZW5kKEhlYXRtYXBQb2ludC5wcm90b3R5cGUsIE5vdGVNaXhpbik7XG5cbkhlYXRtYXBQb2ludC5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgbWFya2Vyczoge1xuICAgICAgICB0eXBlOiAncmVjdCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICBjb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgICAgICB9XG4gICAgfSxcbiAgICBwYWRkaW5nOiB7IHRvcDogMSB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgcGFkZGluZzogM1xuICAgIH0sXG4gICAgb3BhY2l0eTogMSxcbiAgICBub3Rlczoge1xuICAgICAgICBsYWJlbDoge31cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIZWF0bWFwUG9pbnQ7XG4iLCJpbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBpc0Z1bmN0aW9uLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBNQVhfVkFMVUUsIE1JTl9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQm94LCBDaGFydEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcbmltcG9ydCBldmFsT3B0aW9ucyBmcm9tICcuLi91dGlscy9ldmFsLW9wdGlvbnMnO1xuaW1wb3J0IGNvbG9yU2NhbGUgZnJvbSAnLi9jb2xvci1zY2FsZSc7XG5pbXBvcnQgSGVhdG1hcFBvaW50IGZyb20gJy4vaGVhdG1hcC1wb2ludCc7XG5cbmNsYXNzIEhlYXRtYXBDaGFydCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IocGxvdEFyZWEsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IHBsb3RBcmVhLmNoYXJ0U2VydmljZTtcbiAgICAgICAgdGhpcy5faW5pdEZpZWxkcygpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgX2luaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIHRoaXMuc2VyaWVzT3B0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnZhbHVlUmFuZ2UgPSB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuICAgICAgICB0aGlzLl9ldmFsU2VyaWVzID0gW107XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnNldFJhbmdlKCk7XG4gICAgICAgIHRoaXMudHJhdmVyc2VEYXRhUG9pbnRzKHRoaXMuYWRkVmFsdWUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgc2V0UmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9uczogeyBzZXJpZXMgfSB9ID0gdGhpcztcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzLmxlbmd0aDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG5cbiAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgY3VycmVudFNlcmllcy5kYXRhLmxlbmd0aDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZUZpZWxkcyB9ID0gdGhpcy5fYmluZFBvaW50KGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwb2ludEl4KTtcbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZUZpZWxkcy52YWx1ZSkgJiYgdmFsdWVGaWVsZHMudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZVJhbmdlLm1pbiA9IE1hdGgubWluKHRoaXMudmFsdWVSYW5nZS5taW4sIHZhbHVlRmllbGRzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZVJhbmdlLm1heCA9IE1hdGgubWF4KHRoaXMudmFsdWVSYW5nZS5tYXgsIHZhbHVlRmllbGRzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRWYWx1ZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGxldCBwb2ludDtcbiAgICAgICAgaWYgKHZhbHVlICYmIGRlZmluZWQodmFsdWUudmFsdWUpICYmIHZhbHVlLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBwb2ludCA9IHRoaXMuY3JlYXRlUG9pbnQodmFsdWUsIGZpZWxkcyk7XG4gICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHBvaW50LCBmaWVsZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gICAgfVxuXG4gICAgZXZhbFBvaW50T3B0aW9ucyhvcHRpb25zLCB2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgc2VyaWVzLCBzZXJpZXNJeCB9ID0gZmllbGRzO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHsgZGVmYXVsdHM6IHNlcmllcy5fZGVmYXVsdHMsIGV4Y2x1ZGVkOiBbIFwiZGF0YVwiLCBcInRvb2x0aXBcIiwgXCJjb250ZW50XCIsIFwidGVtcGxhdGVcIiwgXCJ2aXN1YWxcIiwgXCJ0b2dnbGVcIiBdIH07XG5cbiAgICAgICAgbGV0IGRvRXZhbCA9IHRoaXMuX2V2YWxTZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICBpZiAoIWRlZmluZWQoZG9FdmFsKSkge1xuICAgICAgICAgICAgdGhpcy5fZXZhbFNlcmllc1tzZXJpZXNJeF0gPSBkb0V2YWwgPSBldmFsT3B0aW9ucyhvcHRpb25zLCB7fSwgc3RhdGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChkb0V2YWwpIHtcbiAgICAgICAgICAgIHBvaW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgZXZhbE9wdGlvbnMocG9pbnRPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBmaWVsZHMuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgbWluOiB0aGlzLnZhbHVlUmFuZ2UubWluLFxuICAgICAgICAgICAgICAgIG1heDogdGhpcy52YWx1ZVJhbmdlLm1heFxuICAgICAgICAgICAgfSwgc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvaW50T3B0aW9ucztcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBIZWF0bWFwUG9pbnQ7XG4gICAgfVxuXG4gICAgcG9pbnRPcHRpb25zKHNlcmllcywgc2VyaWVzSXgpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLnNlcmllc09wdGlvbnNbc2VyaWVzSXhdO1xuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRzID0gdGhpcy5wb2ludFR5cGUoKS5wcm90b3R5cGUuZGVmYXVsdHM7XG4gICAgICAgICAgICB0aGlzLnNlcmllc09wdGlvbnNbc2VyaWVzSXhdID0gb3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIGRlZmF1bHRzLCB7XG4gICAgICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBzZXJpZXMub3BhY2l0eVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy50b29sdGlwLmZvcm1hdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogdGhpcy5vcHRpb25zLmxhYmVscy5mb3JtYXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBzZXJpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgY3JlYXRlUG9pbnQodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBmaWVsZHMuc2VyaWVzO1xuICAgICAgICBsZXQgcG9pbnRPcHRpb25zID0gdGhpcy5wb2ludE9wdGlvbnMoc2VyaWVzLCBmaWVsZHMuc2VyaWVzSXgpO1xuICAgICAgICBsZXQgY29sb3IgPSBmaWVsZHMuY29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuXG4gICAgICAgIHBvaW50T3B0aW9ucyA9IHRoaXMuZXZhbFBvaW50T3B0aW9ucyhwb2ludE9wdGlvbnMsIHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWVSYW5nZS5tYXggIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gY29sb3JTY2FsZShjb2xvcik7XG4gICAgICAgICAgICBjb2xvciA9IHNjYWxlKHZhbHVlLnZhbHVlIC8gdGhpcy52YWx1ZVJhbmdlLm1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBIZWF0bWFwUG9pbnQodmFsdWUsIHBvaW50T3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNvbG9yID0gY29sb3I7XG5cbiAgICAgICAgdGhpcy5hcHBlbmQocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBzZXJpZXNBeGVzKHNlcmllcykge1xuICAgICAgICBjb25zdCB7IHhBeGlzOiB4QXhpc05hbWUsIHlBeGlzOiB5QXhpc05hbWUgfSA9IHNlcmllcztcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuICAgICAgICBjb25zdCB4QXhpcyA9IHhBeGlzTmFtZSA/IHBsb3RBcmVhLm5hbWVkWEF4ZXNbeEF4aXNOYW1lXSA6IHBsb3RBcmVhLmF4aXNYO1xuICAgICAgICBjb25zdCB5QXhpcyA9IHlBeGlzTmFtZSA/IHBsb3RBcmVhLm5hbWVkWUF4ZXNbeUF4aXNOYW1lXSA6IHBsb3RBcmVhLmF4aXNZO1xuXG4gICAgICAgIGlmICgheEF4aXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBsb2NhdGUgWCBheGlzIHdpdGggbmFtZSBcIiArIHhBeGlzTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXlBeGlzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbG9jYXRlIFkgYXhpcyB3aXRoIG5hbWUgXCIgKyB5QXhpc05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgeEF4aXMsIHlBeGlzIH07XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBjaGFydFBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCBsaW1pdCA9ICF0aGlzLm9wdGlvbnMuY2xpcDtcbiAgICAgICAgbGV0IHBvaW50SXggPSAwO1xuXG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZURhdGFQb2ludHMoKHZhbHVlLCBmaWVsZHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gY2hhcnRQb2ludHNbcG9pbnRJeCsrXTtcbiAgICAgICAgICAgIGNvbnN0IHsgeEF4aXMsIHlBeGlzIH0gPSB0aGlzLnNlcmllc0F4ZXMoZmllbGRzLnNlcmllcyk7XG4gICAgICAgICAgICBjb25zdCBpbmRleFggPSB4QXhpcy5jYXRlZ29yeUluZGV4KHZhbHVlLngpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXhZID0geUF4aXMuY2F0ZWdvcnlJbmRleCh2YWx1ZS55KTtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RYID0geEF4aXMuZ2V0U2xvdChpbmRleFgsIGluZGV4WCwgbGltaXQpO1xuICAgICAgICAgICAgY29uc3Qgc2xvdFkgPSB5QXhpcy5nZXRTbG90KGluZGV4WSwgaW5kZXhZLCBsaW1pdCk7XG5cbiAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgIGlmIChzbG90WCAmJiBzbG90WSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludFNsb3QgPSB0aGlzLnBvaW50U2xvdChzbG90WCwgc2xvdFkpO1xuICAgICAgICAgICAgICAgICAgICBwb2ludC5yZWZsb3cocG9pbnRTbG90KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwb2ludC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcbiAgICB9XG5cbiAgICBwb2ludFNsb3Qoc2xvdFgsIHNsb3RZKSB7XG4gICAgICAgIHJldHVybiBuZXcgQm94KHNsb3RYLngxLCBzbG90WS55MSwgc2xvdFgueDIsIHNsb3RZLnkyKTtcbiAgICB9XG5cbiAgICB0cmF2ZXJzZURhdGFQb2ludHMoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHNlcmllcyB9IH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IHsgeEF4aXMsIHlBeGlzIH0gPSB0aGlzLnNlcmllc0F4ZXMoY3VycmVudFNlcmllcyk7XG4gICAgICAgICAgICBjb25zdCB4UmFuZ2UgPSB4QXhpcy5jdXJyZW50UmFuZ2VJbmRpY2VzKCk7XG4gICAgICAgICAgICBjb25zdCB5UmFuZ2UgPSB5QXhpcy5jdXJyZW50UmFuZ2VJbmRpY2VzKCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgY3VycmVudFNlcmllcy5kYXRhLmxlbmd0aDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZUZpZWxkczogdmFsdWUsIGZpZWxkcyB9ID0gdGhpcy5fYmluZFBvaW50KGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwb2ludEl4KTtcbiAgICAgICAgICAgICAgICBjb25zdCB4SW5kZXggPSB4QXhpcy50b3RhbEluZGV4KHZhbHVlLngpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlJbmRleCA9IHlBeGlzLnRvdGFsSW5kZXgodmFsdWUueSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeEluID0geFJhbmdlLm1pbiA8PSB4SW5kZXggJiYgeEluZGV4IDw9IHhSYW5nZS5tYXg7XG4gICAgICAgICAgICAgICAgY29uc3QgeUluID0geVJhbmdlLm1pbiA8PSB5SW5kZXggJiYgeUluZGV4IDw9IHlSYW5nZS5tYXg7XG5cbiAgICAgICAgICAgICAgICBpZiAoeEluICYmIHlJbikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh2YWx1ZSwgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludEl4OiBwb2ludEl4LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBjdXJyZW50U2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzSXg6IHNlcmllc0l4LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW06IGN1cnJlbnRTZXJpZXMuZGF0YVtwb2ludEl4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyOiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIH0sIGZpZWxkcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCB2YWx1ZS54LCB2YWx1ZS55LCB2YWx1ZS52YWx1ZSk7XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uUG9pbnRzKCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgocG9pbnRzW2lkeF0gfHwge30pLm1hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5zZXREZWZhdWx0T3B0aW9ucyhIZWF0bWFwQ2hhcnQsIHtcbiAgICBzZXJpZXM6IFtdLFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcInswfSwgezF9OiB7Mn1cIlxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGZvcm1hdDogXCJ7Mn1cIlxuICAgIH0sXG4gICAgY2xpcDogdHJ1ZVxufSk7XG5kZWVwRXh0ZW5kKEhlYXRtYXBDaGFydC5wcm90b3R5cGUsIHtcbiAgICBfYmluZFBvaW50OiBDYXRlZ29yaWNhbENoYXJ0LnByb3RvdHlwZS5fYmluZFBvaW50XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSGVhdG1hcENoYXJ0O1xuIiwiaW1wb3J0IHsgZGVlcEV4dGVuZCwgZXZlbnRFbGVtZW50LCBncmVwLCBpbkFycmF5LCBzZXREZWZhdWx0T3B0aW9ucywgY3JlYXRlSGFzaFNldCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBEQVRFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDYXRlZ29yeUF4aXMsIERhdGVDYXRlZ29yeUF4aXMsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBIRUFUTUFQIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBIZWF0bWFwQ2hhcnQgZnJvbSAnLi4vaGVhdG1hcC1jaGFydC9oZWF0bWFwLWNoYXJ0JztcbmltcG9ydCBQbG90QXJlYUV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wbG90YXJlYS1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCB7IGFwcGVuZElmTm90TnVsbCwgZXF1YWxzSWdub3JlQ2FzZSwgZmlsdGVyU2VyaWVzQnlUeXBlLCBzaW5nbGVJdGVtT3JBcnJheSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS1iYXNlJztcblxuXG5jbGFzcyBIZWF0bWFwUGxvdEFyZWEgZXh0ZW5kcyBQbG90QXJlYUJhc2Uge1xuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMubmFtZWRYQXhlcyA9IHt9O1xuICAgICAgICB0aGlzLm5hbWVkWUF4ZXMgPSB7fTtcbiAgICB9XG5cbiAgICByZW5kZXIocGFuZXMgPSB0aGlzLnBhbmVzKSB7XG4gICAgICAgIHRoaXMuYmluZENhdGVnb3JpZXMoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVBeGVzKHBhbmVzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFydHMocGFuZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZUF4aXNMYWJlbHMoKTtcbiAgICB9XG5cbiAgICBiaW5kQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5zcmNTZXJpZXMgfHwgdGhpcy5zZXJpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gY3VycmVudFNlcmllcy5kYXRhIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgeyB4QXhpcywgeUF4aXMgfSA9IHRoaXMuc2VyaWVzQXhlcyhjdXJyZW50U2VyaWVzKTtcblxuICAgICAgICAgICAgY29uc3QgeENhdGVnb3JpZXMgPSBjcmVhdGVIYXNoU2V0KHhBeGlzLmNhdGVnb3JpZXMgfHwgW10pO1xuICAgICAgICAgICAgY29uc3QgeUNhdGVnb3JpZXMgPSBjcmVhdGVIYXNoU2V0KHlBeGlzLmNhdGVnb3JpZXMgfHwgW10pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBwb2ludEluZGV4ID0gMDsgcG9pbnRJbmRleCA8IGRhdGEubGVuZ3RoOyBwb2ludEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IFNlcmllc0JpbmRlci5jdXJyZW50LmJpbmRQb2ludChjdXJyZW50U2VyaWVzLCBwb2ludEluZGV4KS52YWx1ZUZpZWxkcztcblxuICAgICAgICAgICAgICAgIGlmICgheENhdGVnb3JpZXMuaGFzKHgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHhDYXRlZ29yaWVzLmFkZCh4KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXlDYXRlZ29yaWVzLmhhcyh5KSkge1xuICAgICAgICAgICAgICAgICAgICB5Q2F0ZWdvcmllcy5hZGQoeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB4QXhpcy5jYXRlZ29yaWVzID0geENhdGVnb3JpZXMudmFsdWVzKCk7XG4gICAgICAgICAgICB5QXhpcy5jYXRlZ29yaWVzID0geUNhdGVnb3JpZXMudmFsdWVzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDaGFydHMocGFuZXMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzQnlQYW5lID0gdGhpcy5ncm91cFNlcmllc0J5UGFuZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVTZXJpZXMgPSBzZXJpZXNCeVBhbmVbcGFuZS5vcHRpb25zLm5hbWUgfHwgXCJkZWZhdWx0XCJdIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5hZGRUb0xlZ2VuZChwYW5lU2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHBhbmVTZXJpZXMpO1xuXG4gICAgICAgICAgICBpZiAoIWZpbHRlcmVkU2VyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlSGVhdG1hcENoYXJ0KFxuICAgICAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShmaWx0ZXJlZFNlcmllcywgWyBIRUFUTUFQIF0pLFxuICAgICAgICAgICAgICAgIHBhbmVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVIZWF0bWFwQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IEhlYXRtYXBDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllc1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBzZXJpZXNQYW5lTmFtZShzZXJpZXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeEF4aXNOYW1lID0gc2VyaWVzLnhBeGlzO1xuICAgICAgICBjb25zdCB4QXhpc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy54QXhpcyk7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gZ3JlcCh4QXhpc09wdGlvbnMsIGZ1bmN0aW9uKGEpIHsgcmV0dXJuIGEubmFtZSA9PT0geEF4aXNOYW1lOyB9KVswXTtcbiAgICAgICAgY29uc3QgeUF4aXNOYW1lID0gc2VyaWVzLnlBeGlzO1xuICAgICAgICBjb25zdCB5QXhpc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy55QXhpcyk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gZ3JlcCh5QXhpc09wdGlvbnMsIGZ1bmN0aW9uKGEpIHsgcmV0dXJuIGEubmFtZSA9PT0geUF4aXNOYW1lOyB9KVswXTtcbiAgICAgICAgY29uc3QgcGFuZXMgPSBvcHRpb25zLnBhbmVzIHx8IFsge30gXTtcbiAgICAgICAgY29uc3QgZGVmYXVsdFBhbmVOYW1lID0gcGFuZXNbMF0ubmFtZSB8fCBcImRlZmF1bHRcIjtcbiAgICAgICAgY29uc3QgcGFuZU5hbWUgPSAoeEF4aXMgfHwge30pLnBhbmUgfHwgKHlBeGlzIHx8IHt9KS5wYW5lIHx8IGRlZmF1bHRQYW5lTmFtZTtcblxuICAgICAgICByZXR1cm4gcGFuZU5hbWU7XG4gICAgfVxuXG4gICAgc2VyaWVzQXhlcyhzZXJpZXMpIHtcbiAgICAgICAgbGV0IHhBeGlzO1xuICAgICAgICBsZXQgeUF4aXM7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBjb25zdCB4QXhpc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy54QXhpcyk7XG4gICAgICAgIGNvbnN0IHhBeGlzTmFtZSA9IHNlcmllcy54QXhpcztcbiAgICAgICAgaWYgKHhBeGlzTmFtZSkge1xuICAgICAgICAgICAgeEF4aXMgPSB4QXhpc09wdGlvbnMuZmluZChheGlzID0+IGF4aXMubmFtZSA9PT0geEF4aXNOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHhBeGlzID0geEF4aXNPcHRpb25zWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeUF4aXNPcHRpb25zID0gW10uY29uY2F0KG9wdGlvbnMueUF4aXMpO1xuICAgICAgICBjb25zdCB5QXhpc05hbWUgPSBzZXJpZXMueUF4aXM7XG4gICAgICAgIGlmICh5QXhpc05hbWUpIHtcbiAgICAgICAgICAgIHlBeGlzID0geUF4aXNPcHRpb25zLmZpbmQoYXhpcyA9PiBheGlzLm5hbWUgPT09IHlBeGlzTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB5QXhpcyA9IHlBeGlzT3B0aW9uc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgheEF4aXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBsb2NhdGUgWCBheGlzIHdpdGggbmFtZSBcIiArIHhBeGlzTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXlBeGlzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbG9jYXRlIFkgYXhpcyB3aXRoIG5hbWUgXCIgKyB5QXhpc05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgeEF4aXMsIHlBeGlzIH07XG4gICAgfVxuXG4gICAgY3JlYXRlQXhpc0xhYmVscygpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuYXhlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBheGVzW2ldLmNyZWF0ZUxhYmVscygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlWFlBeGlzKG9wdGlvbnMsIHZlcnRpY2FsLCBheGlzSW5kZXgpIHtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBvcHRpb25zLm5hbWU7XG4gICAgICAgIGNvbnN0IG5hbWVkQXhlcyA9IHZlcnRpY2FsID8gdGhpcy5uYW1lZFlBeGVzIDogdGhpcy5uYW1lZFhBeGVzO1xuICAgICAgICBjb25zdCBheGlzT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXhpc0Nyb3NzaW5nVmFsdWU6IDBcbiAgICAgICAgfSwgb3B0aW9ucywge1xuICAgICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsLFxuICAgICAgICAgICAgcmV2ZXJzZTogKHZlcnRpY2FsIHx8IHRoaXMuY2hhcnRTZXJ2aWNlLnJ0bCkgPyAhb3B0aW9ucy5yZXZlcnNlIDogb3B0aW9ucy5yZXZlcnNlLFxuICAgICAgICAgICAganVzdGlmaWVkOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZmlyc3RDYXRlZ29yeSA9IGF4aXNPcHRpb25zLmNhdGVnb3JpZXMgPyBheGlzT3B0aW9ucy5jYXRlZ29yaWVzWzBdIDogbnVsbDtcbiAgICAgICAgY29uc3QgdHlwZVNhbXBsZXMgPSBbIGF4aXNPcHRpb25zLm1pbiwgYXhpc09wdGlvbnMubWF4LCBmaXJzdENhdGVnb3J5IF07XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuc2VyaWVzO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc0F4aXNOYW1lID0gY3VycmVudFNlcmllc1t2ZXJ0aWNhbCA/IFwieUF4aXNcIiA6IFwieEF4aXNcIl07XG4gICAgICAgICAgICBpZiAoKHNlcmllc0F4aXNOYW1lID09PSBheGlzT3B0aW9ucy5uYW1lKSB8fCAoYXhpc0luZGV4ID09PSAwICYmICFzZXJpZXNBeGlzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFBvaW50VmFsdWUgPSBTZXJpZXNCaW5kZXIuY3VycmVudC5iaW5kUG9pbnQoY3VycmVudFNlcmllcywgMCkudmFsdWVGaWVsZHM7XG4gICAgICAgICAgICAgICAgdHlwZVNhbXBsZXMucHVzaChmaXJzdFBvaW50VmFsdWVbdmVydGljYWwgPyBcInlcIiA6IFwieFwiXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmZlcnJlZERhdGU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlU2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHR5cGVTYW1wbGVzW2ldIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIGluZmVycmVkRGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYXhpc1R5cGU7XG4gICAgICAgIGlmIChlcXVhbHNJZ25vcmVDYXNlKGF4aXNPcHRpb25zLnR5cGUsIERBVEUpIHx8ICghYXhpc09wdGlvbnMudHlwZSAmJiBpbmZlcnJlZERhdGUpKSB7XG4gICAgICAgICAgICBheGlzVHlwZSA9IERhdGVDYXRlZ29yeUF4aXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBheGlzVHlwZSA9IENhdGVnb3J5QXhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF4aXMgPSBuZXcgYXhpc1R5cGUoYXhpc09wdGlvbnMsIHRoaXMuY2hhcnRTZXJ2aWNlKTtcbiAgICAgICAgYXhpcy5heGlzSW5kZXggPSBheGlzSW5kZXg7XG5cbiAgICAgICAgaWYgKGF4aXNOYW1lKSB7XG4gICAgICAgICAgICBpZiAobmFtZWRBeGVzW2F4aXNOYW1lXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHsgdmVydGljYWwgPyBcIllcIiA6IFwiWFwiIH0gYXhpcyB3aXRoIG5hbWUgJHsgYXhpc05hbWUgfSBpcyBhbHJlYWR5IGRlZmluZWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hbWVkQXhlc1theGlzTmFtZV0gPSBheGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBlbmRBeGlzKGF4aXMpO1xuICAgICAgICBheGlzLm1hcENhdGVnb3JpZXMoKTtcblxuICAgICAgICByZXR1cm4gYXhpcztcbiAgICB9XG5cbiAgICBjcmVhdGVBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHhBeGVzT3B0aW9ucyA9IFtdLmNvbmNhdChvcHRpb25zLnhBeGlzKTtcbiAgICAgICAgY29uc3QgeEF4ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgeUF4ZXNPcHRpb25zID0gW10uY29uY2F0KG9wdGlvbnMueUF4aXMpO1xuICAgICAgICBjb25zdCB5QXhlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHhBeGVzT3B0aW9ucy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzUGFuZSA9IHRoaXMuZmluZFBhbmUoeEF4ZXNPcHRpb25zW2lkeF0ucGFuZSk7XG4gICAgICAgICAgICBpZiAoaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgeEF4ZXMucHVzaCh0aGlzLmNyZWF0ZVhZQXhpcyh4QXhlc09wdGlvbnNbaWR4XSwgZmFsc2UsIGlkeCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgeUF4ZXNPcHRpb25zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNQYW5lID0gdGhpcy5maW5kUGFuZSh5QXhlc09wdGlvbnNbaWR4XS5wYW5lKTtcbiAgICAgICAgICAgIGlmIChpbkFycmF5KGF4aXNQYW5lLCBwYW5lcykpIHtcbiAgICAgICAgICAgICAgICB5QXhlcy5wdXNoKHRoaXMuY3JlYXRlWFlBeGlzKHlBeGVzT3B0aW9uc1tpZHhdLCB0cnVlLCBpZHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXhpc1ggPSB0aGlzLmF4aXNYIHx8IHhBeGVzWzBdO1xuICAgICAgICB0aGlzLmF4aXNZID0gdGhpcy5heGlzWSB8fCB5QXhlc1swXTtcbiAgICB9XG5cbiAgICByZW1vdmVBeGlzKGF4aXMpIHtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBheGlzLm9wdGlvbnMubmFtZTtcblxuICAgICAgICBzdXBlci5yZW1vdmVBeGlzKGF4aXMpO1xuXG4gICAgICAgIGlmIChheGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm5hbWVkWUF4ZXNbYXhpc05hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubmFtZWRYQXhlc1theGlzTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gdGhpcy5heGlzWCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXhpc1g7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gdGhpcy5heGlzWSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXhpc1k7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hFdmVudChjaGFydCwgZSwgZXZlbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IGNoYXJ0Ll9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludChjb29yZHMueCwgY29vcmRzLnkpO1xuICAgICAgICBjb25zdCBhbGxBeGVzID0gdGhpcy5heGVzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBhbGxBeGVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgeFZhbHVlcyA9IFtdO1xuICAgICAgICBjb25zdCB5VmFsdWVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGFsbEF4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBheGlzLm9wdGlvbnMudmVydGljYWwgPyB5VmFsdWVzIDogeFZhbHVlcztcbiAgICAgICAgICAgIGFwcGVuZElmTm90TnVsbCh2YWx1ZXMsIGF4aXMuZ2V0Q2F0ZWdvcnkocG9pbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh4VmFsdWVzLmxlbmd0aCA+IDAgJiYgeVZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjaGFydC50cmlnZ2VyKGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGV2ZW50RWxlbWVudChlKSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgIHg6IHNpbmdsZUl0ZW1PckFycmF5KHhWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHk6IHNpbmdsZUl0ZW1PckFycmF5KHlWYWx1ZXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUF4aXNPcHRpb25zKGF4aXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBheGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmdyb3VwQXhlcyh0aGlzLnBhbmVzKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSAodmVydGljYWwgPyBheGVzLnkgOiBheGVzLngpLmluZGV4T2YoYXhpcyk7XG5cbiAgICAgICAgdXBkYXRlQXhpc09wdGlvbnModGhpcy5vcHRpb25zLCBpbmRleCwgdmVydGljYWwsIG9wdGlvbnMpO1xuICAgICAgICB1cGRhdGVBeGlzT3B0aW9ucyh0aGlzLm9yaWdpbmFsT3B0aW9ucywgaW5kZXgsIHZlcnRpY2FsLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBjcm9zc2hhaXJPcHRpb25zKGF4aXMpIHtcbiAgICAgICAgLy8gU3RhY2sgdGhlIGNyb3NzaGFpciBhYm92ZSB0aGUgc2VyaWVzIHBvaW50cy5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGF4aXMub3B0aW9ucy5jcm9zc2hhaXIsIHsgekluZGV4OiAwIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQXhpc09wdGlvbnModGFyZ2V0T3B0aW9ucywgYXhpc0luZGV4LCB2ZXJ0aWNhbCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGF4aXNPcHRpb25zID0gKFtdLmNvbmNhdCh2ZXJ0aWNhbCA/IHRhcmdldE9wdGlvbnMueUF4aXMgOiB0YXJnZXRPcHRpb25zLnhBeGlzKSlbYXhpc0luZGV4XTtcbiAgICBkZWVwRXh0ZW5kKGF4aXNPcHRpb25zLCBvcHRpb25zKTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoSGVhdG1hcFBsb3RBcmVhLCB7XG4gICAgeEF4aXM6IHt9LFxuICAgIHlBeGlzOiB7fVxufSk7XG5cbmRlZXBFeHRlbmQoSGVhdG1hcFBsb3RBcmVhLnByb3RvdHlwZSwgUGxvdEFyZWFFdmVudHNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IEhlYXRtYXBQbG90QXJlYTtcbiIsImltcG9ydCBQbG90QXJlYUZhY3RvcnkgZnJvbSAnLi9wbG90YXJlYS9wbG90YXJlYS1mYWN0b3J5JztcbmltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCBEZWZhdWx0QWdncmVnYXRlcyBmcm9tICcuL2FnZ3JlZ2F0ZXMvZGVmYXVsdC1hZ2dyZWdhdGVzJztcbmltcG9ydCBDYXRlZ29yaWNhbFBsb3RBcmVhIGZyb20gJy4vcGxvdGFyZWEvY2F0ZWdvcmljYWwtcGxvdGFyZWEnO1xuaW1wb3J0IFhZUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS94eS1wbG90YXJlYSc7XG5pbXBvcnQgUGllUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9waWUtcGxvdGFyZWEnO1xuaW1wb3J0IERvbnV0UGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9kb251dC1wbG90YXJlYSc7XG5pbXBvcnQgUG9sYXJQbG90QXJlYSBmcm9tICcuL3Bsb3RhcmVhL3BvbGFyLXBsb3RhcmVhJztcbmltcG9ydCBSYWRhclBsb3RBcmVhIGZyb20gJy4vcGxvdGFyZWEvcmFkYXItcGxvdGFyZWEnO1xuaW1wb3J0IEZ1bm5lbFBsb3RBcmVhIGZyb20gJy4vcGxvdGFyZWEvZnVubmVsLXBsb3RhcmVhJztcbmltcG9ydCBIZWF0bWFwUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9oZWF0bWFwLXBsb3RhcmVhJztcblxuaW1wb3J0IHsgQ09MVU1OLCBET05VVCwgUElFLCBGVU5ORUwsIEJBUiwgTElORSwgVkVSVElDQUxfTElORSwgQVJFQSwgVkVSVElDQUxfQVJFQSxcbiAgICBDQU5ETEVTVElDSywgT0hMQywgQlVMTEVULCBWRVJUSUNBTF9CVUxMRVQsIEJPWF9QTE9ULCBWRVJUSUNBTF9CT1hfUExPVCwgUkFOR0VfQ09MVU1OLFxuICAgIFJBTkdFX0JBUiwgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCwgU0NBVFRFUiwgU0NBVFRFUl9MSU5FLCBCVUJCTEUsXG4gICAgUE9MQVJfQVJFQSwgUE9MQVJfTElORSwgUE9MQVJfU0NBVFRFUiwgUkFEQVJfQVJFQSwgUkFEQVJfQ09MVU1OLCBSQURBUl9MSU5FLCBDQVRFR09SWSxcbiAgICBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBLCBYX0VSUk9SX0xPV19GSUVMRCwgWF9FUlJPUl9ISUdIX0ZJRUxELCBZX0VSUk9SX0xPV19GSUVMRCwgWV9FUlJPUl9ISUdIX0ZJRUxELFxuICAgIEVSUk9SX0xPV19GSUVMRCwgRVJST1JfSElHSF9GSUVMRCwgSEVBVE1BUCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IFgsIFksIFZBTFVFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IENPTE9SID0gXCJjb2xvclwiO1xuY29uc3QgRklSU1QgPSBcImZpcnN0XCI7XG5jb25zdCBGUk9NID0gXCJmcm9tXCI7XG5jb25zdCBNQVggPSBcIm1heFwiO1xuY29uc3QgTUlOID0gXCJtaW5cIjtcbmNvbnN0IE5PVEVfVEVYVCA9IFwibm90ZVRleHRcIjtcbmNvbnN0IFNVTU1BUllfRklFTEQgPSBcInN1bW1hcnlcIjtcbmNvbnN0IFRPID0gXCJ0b1wiO1xuXG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihDYXRlZ29yaWNhbFBsb3RBcmVhLCBbXG4gICAgQkFSLCBDT0xVTU4sIExJTkUsIFZFUlRJQ0FMX0xJTkUsIEFSRUEsIFZFUlRJQ0FMX0FSRUEsXG4gICAgQ0FORExFU1RJQ0ssIE9ITEMsIEJVTExFVCwgVkVSVElDQUxfQlVMTEVULCBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QsXG4gICAgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIsIFdBVEVSRkFMTCwgSE9SSVpPTlRBTF9XQVRFUkZBTEwsIFJBTkdFX0FSRUEsIFZFUlRJQ0FMX1JBTkdFX0FSRUFcbl0pO1xuXG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihYWVBsb3RBcmVhLCBbXG4gICAgU0NBVFRFUiwgU0NBVFRFUl9MSU5FLCBCVUJCTEVcbl0pO1xuXG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihQaWVQbG90QXJlYSwgWyBQSUUgXSk7XG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihEb251dFBsb3RBcmVhLCBbIERPTlVUIF0pO1xuUGxvdEFyZWFGYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoRnVubmVsUGxvdEFyZWEsIFsgRlVOTkVMIF0pO1xuXG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihQb2xhclBsb3RBcmVhLCBbIFBPTEFSX0FSRUEsIFBPTEFSX0xJTkUsIFBPTEFSX1NDQVRURVIgXSk7XG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihSYWRhclBsb3RBcmVhLCBbIFJBREFSX0FSRUEsIFJBREFSX0NPTFVNTiwgUkFEQVJfTElORSBdKTtcblxuUGxvdEFyZWFGYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoSGVhdG1hcFBsb3RBcmVhLCBbIEhFQVRNQVAgXSk7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQkFSLCBDT0xVTU4sIExJTkUsIFZFUlRJQ0FMX0xJTkUsIEFSRUEsIFZFUlRJQ0FMX0FSRUEgXSxcbiAgICBbIFZBTFVFIF0sIFsgQ0FURUdPUlksIENPTE9SLCBOT1RFX1RFWFQsIEVSUk9SX0xPV19GSUVMRCwgRVJST1JfSElHSF9GSUVMRCBdXG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIFJBTkdFX0NPTFVNTiwgUkFOR0VfQkFSLCBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBIF0sXG4gICAgWyBGUk9NLCBUTyBdLCBbIENBVEVHT1JZLCBDT0xPUiwgTk9URV9URVhUIF1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCBdLFxuICAgIFsgVkFMVUUgXSwgWyBDQVRFR09SWSwgQ09MT1IsIE5PVEVfVEVYVCwgU1VNTUFSWV9GSUVMRCBdXG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihbIFBPTEFSX0FSRUEsIFBPTEFSX0xJTkUsIFBPTEFSX1NDQVRURVIgXSwgWyBYLCBZIF0sIFsgQ09MT1IgXSk7XG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihbIFJBREFSX0FSRUEsIFJBREFSX0NPTFVNTiwgUkFEQVJfTElORSBdLCBbIFZBTFVFIF0sIFsgQ09MT1IgXSk7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgRlVOTkVMIF0sXG4gICAgWyBWQUxVRSBdLCBbIENBVEVHT1JZLCBDT0xPUiwgXCJ2aXNpYmxlSW5MZWdlbmRcIiwgXCJ2aXNpYmxlXCIgXVxuKTtcblxuRGVmYXVsdEFnZ3JlZ2F0ZXMuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIEJBUiwgQ09MVU1OLCBMSU5FLCBWRVJUSUNBTF9MSU5FLCBBUkVBLCBWRVJUSUNBTF9BUkVBLCBXQVRFUkZBTEwsIEhPUklaT05UQUxfV0FURVJGQUxMIF0sXG4gICAgeyB2YWx1ZTogTUFYLCBjb2xvcjogRklSU1QsIG5vdGVUZXh0OiBGSVJTVCwgZXJyb3JMb3c6IE1JTiwgZXJyb3JIaWdoOiBNQVggfVxuKTtcblxuRGVmYXVsdEFnZ3JlZ2F0ZXMuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIFJBTkdFX0NPTFVNTiwgUkFOR0VfQkFSLCBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBIF0sXG4gICAgeyBmcm9tOiBNSU4sIHRvOiBNQVgsIGNvbG9yOiBGSVJTVCwgbm90ZVRleHQ6IEZJUlNUIH1cbik7XG5cbkRlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBSQURBUl9BUkVBLCBSQURBUl9DT0xVTU4sIFJBREFSX0xJTkUgXSxcbiAgICB7IHZhbHVlOiBNQVgsIGNvbG9yOiBGSVJTVCB9XG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIFNDQVRURVIsIFNDQVRURVJfTElORSwgQlVCQkxFIF0sXG4gICAgWyBYLCBZIF0sIFsgQ09MT1IsIE5PVEVfVEVYVCwgWF9FUlJPUl9MT1dfRklFTEQsIFhfRVJST1JfSElHSF9GSUVMRCwgWV9FUlJPUl9MT1dfRklFTEQsIFlfRVJST1JfSElHSF9GSUVMRCBdXG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIEJVQkJMRSBdLCBbIFgsIFksIFwic2l6ZVwiIF0sIFsgQ09MT1IsIENBVEVHT1JZLCBOT1RFX1RFWFQgXVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBIRUFUTUFQIF0sXG4gICAgWyBYLCBZLCBWQUxVRSBdLCBbIENPTE9SLCBOT1RFX1RFWFQgXVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBDQU5ETEVTVElDSywgT0hMQyBdLFxuICAgIFsgXCJvcGVuXCIsIFwiaGlnaFwiLCBcImxvd1wiLCBcImNsb3NlXCIgXSwgWyBDQVRFR09SWSwgQ09MT1IsIFwiZG93bkNvbG9yXCIsIE5PVEVfVEVYVCBdXG4pO1xuXG5EZWZhdWx0QWdncmVnYXRlcy5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQ0FORExFU1RJQ0ssIE9ITEMgXSxcbiAgICB7IG9wZW46IE1BWCwgaGlnaDogTUFYLCBsb3c6IE1JTiwgY2xvc2U6IE1BWCxcbiAgICAgIGNvbG9yOiBGSVJTVCwgZG93bkNvbG9yOiBGSVJTVCwgbm90ZVRleHQ6IEZJUlNUIH1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQk9YX1BMT1QsIFZFUlRJQ0FMX0JPWF9QTE9UIF0sXG4gICAgWyBcImxvd2VyXCIsIFwicTFcIiwgXCJtZWRpYW5cIiwgXCJxM1wiLCBcInVwcGVyXCIsIFwibWVhblwiLCBcIm91dGxpZXJzXCIgXSwgWyBDQVRFR09SWSwgQ09MT1IsIE5PVEVfVEVYVCBdXG4pO1xuXG5EZWZhdWx0QWdncmVnYXRlcy5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQk9YX1BMT1QsIFZFUlRJQ0FMX0JPWF9QTE9UIF0sXG4gICAgeyBsb3dlcjogTUFYLCBxMTogTUFYLCBtZWRpYW46IE1BWCwgcTM6IE1BWCwgdXBwZXI6IE1BWCwgbWVhbjogTUFYLCBvdXRsaWVyczogRklSU1QsXG4gICAgICBjb2xvcjogRklSU1QsIG5vdGVUZXh0OiBGSVJTVCB9XG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIEJVTExFVCwgVkVSVElDQUxfQlVMTEVUIF0sXG4gICAgWyBcImN1cnJlbnRcIiwgXCJ0YXJnZXRcIiBdLCBbIENBVEVHT1JZLCBDT0xPUiwgXCJ2aXNpYmxlSW5MZWdlbmRcIiwgTk9URV9URVhUIF1cbik7XG5cbkRlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBCVUxMRVQsIFZFUlRJQ0FMX0JVTExFVCBdLFxuICAgIHsgY3VycmVudDogTUFYLCB0YXJnZXQ6IE1BWCwgY29sb3I6IEZJUlNULCBub3RlVGV4dDogRklSU1QgfVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBQSUUsIERPTlVUIF0sXG4gICAgWyBWQUxVRSBdLCBbIENBVEVHT1JZLCBDT0xPUiwgXCJleHBsb2RlXCIsIFwidmlzaWJsZUluTGVnZW5kXCIsIFwidmlzaWJsZVwiIF1cbik7XG4iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIHRocm90dGxlLCBnZW9tZXRyeSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgUm9vdEVsZW1lbnQsIFRpdGxlLCBDYXRlZ29yeUF4aXMsIFBvaW50IH0gZnJvbSAnLi4vY29yZSc7XG5cbmltcG9ydCBIaWdobGlnaHQgZnJvbSAnLi9oaWdobGlnaHQnO1xuaW1wb3J0IFBhbm5hYmxlIGZyb20gJy4vcGFuLWFuZC16b29tL3Bhbm5hYmxlJztcbmltcG9ydCBab29tU2VsZWN0aW9uIGZyb20gJy4vcGFuLWFuZC16b29tL3pvb20tc2VsZWN0aW9uJztcbmltcG9ydCBNb3VzZXdoZWVsWm9vbSBmcm9tICcuL3Bhbi1hbmQtem9vbS9tb3VzZXdoZWVsLXpvb20nO1xuaW1wb3J0IExlZ2VuZCBmcm9tICcuL2xlZ2VuZC9sZWdlbmQnO1xuaW1wb3J0IFBsb3RBcmVhRmFjdG9yeSBmcm9tICcuL3Bsb3RhcmVhL3Bsb3RhcmVhLWZhY3RvcnknO1xuaW1wb3J0IFNlbGVjdGlvbiBmcm9tICcuL3NlbGVjdGlvbic7XG5pbXBvcnQgU2VyaWVzQmluZGVyIGZyb20gJy4vc2VyaWVzLWJpbmRlcic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAvdG9vbHRpcCc7XG5pbXBvcnQgU2hhcmVkVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAvc2hhcmVkLXRvb2x0aXAnO1xuaW1wb3J0IENhdGVnb3JpY2FsUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9jYXRlZ29yaWNhbC1wbG90YXJlYSc7XG5pbXBvcnQgUGxvdEFyZWFCYXNlIGZyb20gJy4vcGxvdGFyZWEvcGxvdGFyZWEtYmFzZSc7XG5pbXBvcnQgeyBDaGFydFNlcnZpY2UsIERvbUV2ZW50c0J1aWxkZXIgfSBmcm9tICcuLi9zZXJ2aWNlcyc7XG5pbXBvcnQgZ2V0RmllbGQgZnJvbSAnLi91dGlscy9nZXQtZmllbGQnO1xuaW1wb3J0IGlzRGF0ZUF4aXMgZnJvbSAnLi91dGlscy9pcy1kYXRlLWF4aXMnO1xuaW1wb3J0IGdldERhdGVGaWVsZCBmcm9tICcuL3V0aWxzL2dldC1kYXRlLWZpZWxkJztcbmltcG9ydCB7IENoYXJ0UGFuZSwgQ2hhcnRQbG90QXJlYSwgZmluZEF4aXNCeU5hbWUgfSBmcm9tICcuL2FwaS1lbGVtZW50cyc7XG5cbmltcG9ydCB7IFgsIFksIFZBTFVFLCBERUZBVUxUX1dJRFRILCBERUZBVUxUX0hFSUdIVCwgREVGQVVMVF9TRVJJRVNfT1BBQ0lUWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWRkQ2xhc3MsIENsYXNzLCBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgZGVmaW5lZCwgZmluZCwgaXNPYmplY3QsIGlzRnVuY3Rpb24sIGVsZW1lbnRTaXplLCBlbGVtZW50T2Zmc2V0LFxuICAgICAgICAgZWxlbWVudFNjYWxlLCBlbGVtZW50U3R5bGVzLCBldmVudENvb3JkaW5hdGVzLCBiaW5kRXZlbnRzLCB1bmJpbmRFdmVudHMsIG1vdXNld2hlZWxEZWx0YSwgRm9udExvYWRlciwgaW5BcnJheSwgbGFzdCwgcm91bmQsXG4gICAgICAgICBIYXNoTWFwLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmltcG9ydCB7IGRhdGVDb21wYXJlciB9IGZyb20gJy4uL2RhdGUtdXRpbHMnO1xuXG5pbXBvcnQgeyBEUkFHX1NUQVJULCBEUkFHLCBEUkFHX0VORCwgWk9PTV9TVEFSVCwgWk9PTSwgWk9PTV9FTkQsIFNFTEVDVF9TVEFSVCwgU0VMRUNULCBTRUxFQ1RfRU5ELCBQTE9UX0FSRUFfSE9WRVIsIFBMT1RfQVJFQV9MRUFWRSxcbiAgICBSRU5ERVIsIENBVEVHT1JZLCBQSUUsIERPTlVULCBGVU5ORUwsIENPTFVNTiwgTU9VU0VXSEVFTCwgTU9VU0VXSEVFTF9ERUxBWSwgTU9VU0VXSEVFTF9aT09NX1JBVEUsIFNIT1dfVE9PTFRJUCwgU0VSSUVTX0hPVkVSIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgJy4vYW5pbWF0aW9ucyc7XG5pbXBvcnQgJy4vcmVnaXN0ZXItY2hhcnRzJztcblxuY29uc3QgQVhJU19OQU1FUyA9IFsgQ0FURUdPUlksIFZBTFVFLCBYLCBZIF07XG5cbmNvbnN0IE1PVVNFTU9WRSA9IFwibW91c2Vtb3ZlXCI7XG5jb25zdCBDT05URVhUTUVOVSA9IFwiY29udGV4dG1lbnVcIjtcbmNvbnN0IE1PVVNFTEVBVkUgPSBcIm1vdXNlbGVhdmVcIjtcbmNvbnN0IE1PVVNFTU9WRV9ERUxBWSA9IDIwO1xuXG5jbGFzcyBDaGFydCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCB1c2VyT3B0aW9ucywgdGhlbWVPcHRpb25zLCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICAgICAgICB0aGlzLmFkZE9ic2VydmVyKGNvbnRleHQub2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IG5ldyBDaGFydFNlcnZpY2UodGhpcywgY29udGV4dCk7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLnRoZW1lID0gdGhlbWVPcHRpb25zO1xuXG4gICAgICAgIHRoaXMuX2luaXRFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHVzZXJPcHRpb25zKTtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RoZW1lID0gdGhlbWVPcHRpb25zO1xuICAgICAgICB0aGlzLl9pbml0VGhlbWUob3B0aW9ucywgdGhlbWVPcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9pbml0SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5faW5pdFN1cmZhY2UoKTtcblxuICAgICAgICB0aGlzLmJpbmRDYXRlZ29yaWVzKCk7XG4gICAgICAgIEZvbnRMb2FkZXIucHJlbG9hZEZvbnRzKHVzZXJPcHRpb25zLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvbnRMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2luaXQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWRyYXcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2luaXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fc2V0RWxlbWVudENsYXNzKGVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG5cbiAgICBfc2V0RWxlbWVudENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgXCJrLWNoYXJ0XCIpO1xuICAgIH1cblxuICAgIF9pbml0VGhlbWUob3B0aW9ucywgdGhlbWVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNlcmllc0NvcGllcyA9IFtdO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcyB8fCBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc2VyaWVzQ29waWVzLnB1c2goT2JqZWN0LmFzc2lnbih7fSwgc2VyaWVzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5zZXJpZXMgPSBzZXJpZXNDb3BpZXM7XG5cbiAgICAgICAgcmVzb2x2ZUF4aXNBbGlhc2VzKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFwcGx5RGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKTtcblxuICAgICAgICAvLyBDbGVhbiB1cCBkZWZhdWx0IGlmIG5vdCBvdmVycmlkZW4gYnkgZGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgIGlmIChvcHRpb25zLnNlcmllc0NvbG9ycyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuc2VyaWVzQ29sb3JzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhlbWVPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hcHBseVNlcmllc0NvbG9ycygpO1xuICAgIH1cblxuICAgIGdldFNpemUoKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0QXJlYSA9IHRoaXMub3B0aW9ucy5jaGFydEFyZWEgfHwge307XG4gICAgICAgIGNvbnN0IHdpZHRoID0gY2hhcnRBcmVhLndpZHRoID8gcGFyc2VJbnQoY2hhcnRBcmVhLndpZHRoLCAxMCkgOiBNYXRoLmZsb29yKHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNoYXJ0QXJlYS5oZWlnaHQgPyBwYXJzZUludChjaGFydEFyZWEuaGVpZ2h0LCAxMCkgOiBNYXRoLmZsb29yKHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlc2l6ZShmb3JjZSkge1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTaXplID0gdGhpcy5fc2l6ZTtcbiAgICAgICAgY29uc3QgaGFzU2l6ZSA9IHNpemUud2lkdGggPiAwIHx8IHNpemUuaGVpZ2h0ID4gMDtcblxuICAgICAgICBpZiAoZm9yY2UgfHwgaGFzU2l6ZSAmJiAoIWN1cnJlbnRTaXplIHx8IHNpemUud2lkdGggIT09IGN1cnJlbnRTaXplLndpZHRoIHx8IHNpemUuaGVpZ2h0ICE9PSBjdXJyZW50U2l6ZS5oZWlnaHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZShzaXplLCBmb3JjZSk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJyZXNpemVcIiwgc2l6ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzU2l6ZSAmJiB0aGlzLl9zZWxlY3Rpb25zICYmIGZpbmQodGhpcy5fc2VsZWN0aW9ucywgcyA9PiAhcy52aXNpYmxlKSkge1xuICAgICAgICAgICAgdGhpcy5fZGVzdHJveVNlbGVjdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3NldHVwU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVzaXplKCkge1xuICAgICAgICB0aGlzLl9ub1RyYW5zaXRpb25zUmVkcmF3KCk7XG4gICAgfVxuXG4gICAgcmVkcmF3KHBhbmVOYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwbHlEZWZhdWx0cyh0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFwcGx5U2VyaWVzQ29sb3JzKCk7XG5cbiAgICAgICAgaWYgKHBhbmVOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuX21vZGVsLl9wbG90QXJlYTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBwbG90QXJlYS5maW5kUGFuZShwYW5lTmFtZSk7XG4gICAgICAgICAgICBwbG90QXJlYS5yZWRyYXcocGFuZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZWRyYXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEF4aXMobmFtZSkge1xuICAgICAgICByZXR1cm4gZmluZEF4aXNCeU5hbWUobmFtZSwgdGhpcy5fcGxvdEFyZWEuYXhlcyk7XG4gICAgfVxuXG4gICAgZmluZEF4aXNCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBeGlzKG5hbWUpO1xuICAgIH1cblxuICAgIGZpbmRQYW5lQnlOYW1lKG5hbWUpIHtcbiAgICAgICAgY29uc3QgcGFuZXMgPSB0aGlzLl9wbG90QXJlYS5wYW5lcztcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwYW5lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAocGFuZXNbaWR4XS5vcHRpb25zLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENoYXJ0UGFuZShwYW5lc1tpZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmRQYW5lQnlJbmRleChpZHgpIHtcbiAgICAgICAgY29uc3QgcGFuZXMgPSB0aGlzLl9wbG90QXJlYS5wYW5lcztcbiAgICAgICAgaWYgKHBhbmVzW2lkeF0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhcnRQYW5lKHBhbmVzW2lkeF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxvdEFyZWEoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhcnRQbG90QXJlYSh0aGlzLl9wbG90QXJlYSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlSGlnaGxpZ2h0KHNob3csIGZpbHRlcikge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuX3Bsb3RBcmVhO1xuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IChwbG90QXJlYS5zcmNTZXJpZXMgfHwgcGxvdEFyZWEuc2VyaWVzIHx8IFtdKVswXTtcbiAgICAgICAgbGV0IHBvaW50cztcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwbG90QXJlYS5maWx0ZXJQb2ludHMoZmlsdGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzZXJpZXNOYW1lLCBjYXRlZ29yeU5hbWU7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoZmlsdGVyKSkge1xuICAgICAgICAgICAgICAgIHNlcmllc05hbWUgPSBmaWx0ZXIuc2VyaWVzO1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5TmFtZSA9IGZpbHRlci5jYXRlZ29yeTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VyaWVzTmFtZSA9IGNhdGVnb3J5TmFtZSA9IGZpbHRlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpcnN0U2VyaWVzLnR5cGUgPT09IERPTlVUKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRCeUNhdGVnb3J5TmFtZShwbG90QXJlYS5wb2ludHNCeVNlcmllc05hbWUoc2VyaWVzTmFtZSksIGNhdGVnb3J5TmFtZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpcnN0U2VyaWVzLnR5cGUgPT09IFBJRSB8fCBmaXJzdFNlcmllcy50eXBlID09PSBGVU5ORUwpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludEJ5Q2F0ZWdvcnlOYW1lKChwbG90QXJlYS5jaGFydHNbMF0gfHwge30pLnBvaW50cywgY2F0ZWdvcnlOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzID0gcGxvdEFyZWEucG9pbnRzQnlTZXJpZXNOYW1lKHNlcmllc05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb2ludHNIaWdobGlnaHQoc2hvdywgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvZ2dsZVBvaW50c0hpZ2hsaWdodChzaG93LCBwb2ludHMpIHtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gdGhpcy5faGlnaGxpZ2h0O1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaGlnaGxpZ2h0LnRvZ2dsZVBvaW50SGlnaGxpZ2h0KHBvaW50c1tpZHhdLCBzaG93KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dUb29sdGlwKGZpbHRlcikge1xuICAgICAgICBjb25zdCBzaGFyZWQgPSB0aGlzLl9zaGFyZWRUb29sdGlwKCk7XG4gICAgICAgIGNvbnN0IHsgX3Rvb2x0aXA6IHRvb2x0aXAsIF9wbG90QXJlYTogcGxvdEFyZWEgfSA9IHRoaXM7XG4gICAgICAgIGxldCBwb2ludCwgY2F0ZWdvcnlJbmRleDtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgICAgICAgICBwb2ludCA9IHBsb3RBcmVhLmZpbmRQb2ludChmaWx0ZXIpO1xuICAgICAgICAgICAgaWYgKHBvaW50ICYmIHNoYXJlZCkge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5SW5kZXggPSBwb2ludC5jYXRlZ29yeUl4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXJlZCAmJiBkZWZpbmVkKGZpbHRlcikpIHtcbiAgICAgICAgICAgIGNhdGVnb3J5SW5kZXggPSBwbG90QXJlYS5jYXRlZ29yeUF4aXMuY2F0ZWdvcnlJbmRleChmaWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoYXJlZCkge1xuICAgICAgICAgICAgaWYgKGNhdGVnb3J5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX3Bsb3RBcmVhLnBvaW50c0J5Q2F0ZWdvcnlJbmRleChjYXRlZ29yeUluZGV4KTtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb2ludHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICB0b29sdGlwLnNob3cocG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZVRvb2x0aXAoKSB7XG4gICAgICAgIHRoaXMuX3Rvb2x0aXAuaGlkZSgpO1xuICAgIH1cblxuICAgIF9pbml0U3VyZmFjZSgpIHtcbiAgICAgICAgY29uc3Qgc3VyZmFjZSA9IHRoaXMuc3VyZmFjZTtcbiAgICAgICAgY29uc3Qgd3JhcCA9IHRoaXMuX3N1cmZhY2VXcmFwKCk7XG5cbiAgICAgICAgY29uc3QgY2hhcnRBcmVhID0gdGhpcy5vcHRpb25zLmNoYXJ0QXJlYSB8fCB7fTtcbiAgICAgICAgaWYgKGNoYXJ0QXJlYS53aWR0aCkge1xuICAgICAgICAgICAgZWxlbWVudFNpemUod3JhcCwgeyB3aWR0aDogY2hhcnRBcmVhLndpZHRoIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFydEFyZWEuaGVpZ2h0KSB7XG4gICAgICAgICAgICBlbGVtZW50U2l6ZSh3cmFwLCB7IGhlaWdodDogY2hhcnRBcmVhLmhlaWdodCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3VyZmFjZSB8fCBzdXJmYWNlLm9wdGlvbnMudHlwZSAhPT0gdGhpcy5vcHRpb25zLnJlbmRlckFzKSB7XG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95U3VyZmFjZSgpO1xuXG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UgPSBkcmF3LlN1cmZhY2UuY3JlYXRlKHdyYXAsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMucmVuZGVyQXNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UuYmluZChcIm1vdXNlZW50ZXJcIiwgdGhpcy5fc3VyZmFjZU1vdXNlZW50ZXJIYW5kbGVyKTtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5iaW5kKFwibW91c2VsZWF2ZVwiLCB0aGlzLl9zdXJmYWNlTW91c2VsZWF2ZUhhbmRsZXIpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXNpemUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdXJmYWNlV3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG5cbiAgICBfcmVkcmF3KCkge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKCk7XG4gICAgICAgIHRoaXMuX3NpemUgPSB7XG4gICAgICAgICAgICB3aWR0aDogbW9kZWwub3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogbW9kZWwub3B0aW9ucy5oZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95VmlldygpO1xuXG4gICAgICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XG4gICAgICAgIHRoaXMuX3Bsb3RBcmVhID0gbW9kZWwuX3Bsb3RBcmVhO1xuXG4gICAgICAgIG1vZGVsLnJlbmRlclZpc3VhbCgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBtb2RlbC50cmF2ZXJzZShmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYW5pbWF0aW9uLnNldHVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pbml0U3VyZmFjZSgpO1xuICAgICAgICB0aGlzLnN1cmZhY2UuZHJhdyhtb2RlbC52aXN1YWwpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBtb2RlbC50cmF2ZXJzZShmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYW5pbWF0aW9uLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Rvb2x0aXAgPSB0aGlzLl9jcmVhdGVUb29sdGlwKCk7XG4gICAgICAgIHRoaXMuX2hpZ2hsaWdodCA9IG5ldyBIaWdobGlnaHQoKTtcbiAgICAgICAgdGhpcy5fc2V0dXBTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlUGFubmFibGUoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlWm9vbVNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVNb3VzZXdoZWVsWm9vbSgpO1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcihSRU5ERVIpO1xuICAgICAgICB0cmlnZ2VyUGFuZVJlbmRlcih0aGlzLl9wbG90QXJlYS5wYW5lcyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9uYXZTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsRG9tRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnRWaXN1YWwoZXhwb3J0T3B0aW9ucykge1xuICAgICAgICBsZXQgdmlzdWFsO1xuICAgICAgICBpZiAoZXhwb3J0T3B0aW9ucyAmJiAoZXhwb3J0T3B0aW9ucy53aWR0aCB8fCBleHBvcnRPcHRpb25zLmhlaWdodCB8fCBleHBvcnRPcHRpb25zLm9wdGlvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50T3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBleHBvcnRPcHRpb25zLm9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBjaGFydEFyZWE6IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGV4cG9ydE9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogZXhwb3J0T3B0aW9ucy5oZWlnaHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2xlYXJNaXNzaW5nVmFsdWVzKHRoaXMuX29yaWdpbmFsT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLl9vcmlnaW5hbE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5faW5pdFRoZW1lKHRoaXMub3B0aW9ucywgdGhpcy5fdGhlbWUpO1xuICAgICAgICAgICAgdGhpcy5iaW5kQ2F0ZWdvcmllcygpO1xuXG4gICAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKCk7XG5cbiAgICAgICAgICAgIG1vZGVsLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICAgICAgdHJpZ2dlclBhbmVSZW5kZXIobW9kZWwuX3Bsb3RBcmVhLnBhbmVzKTtcblxuICAgICAgICAgICAgdmlzdWFsID0gbW9kZWwudmlzdWFsO1xuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBjdXJyZW50T3B0aW9ucztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpc3VhbCA9IHRoaXMuc3VyZmFjZS5leHBvcnRWaXN1YWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2aXN1YWw7XG4gICAgfVxuXG4gICAgX3NoYXJlZFRvb2x0aXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbG90QXJlYSBpbnN0YW5jZW9mIENhdGVnb3JpY2FsUGxvdEFyZWEgJiYgdGhpcy5vcHRpb25zLnRvb2x0aXAgJiYgdGhpcy5vcHRpb25zLnRvb2x0aXAuc2hhcmVkO1xuICAgIH1cblxuICAgIF9jcmVhdGVQYW5uYWJsZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnMucGFubmFibGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9wYW5uYWJsZSA9IG5ldyBQYW5uYWJsZSh0aGlzLl9wbG90QXJlYSwgb3B0aW9ucy5wYW5uYWJsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlWm9vbVNlbGVjdGlvbigpIHtcbiAgICAgICAgY29uc3Qgem9vbWFibGUgPSB0aGlzLm9wdGlvbnMuem9vbWFibGU7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9ICh6b29tYWJsZSB8fCB7fSkuc2VsZWN0aW9uO1xuICAgICAgICBpZiAoem9vbWFibGUgIT09IGZhbHNlICYmIHNlbGVjdGlvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21TZWxlY3Rpb24gPSBuZXcgWm9vbVNlbGVjdGlvbih0aGlzLCBzZWxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZU1vdXNld2hlZWxab29tKCkge1xuICAgICAgICBjb25zdCB6b29tYWJsZSA9IHRoaXMub3B0aW9ucy56b29tYWJsZTtcbiAgICAgICAgY29uc3QgbW91c2V3aGVlbCA9ICh6b29tYWJsZSB8fCB7fSkubW91c2V3aGVlbDtcbiAgICAgICAgaWYgKHpvb21hYmxlICE9PSBmYWxzZSAmJiBtb3VzZXdoZWVsICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2V3aGVlbFpvb20gPSBuZXcgTW91c2V3aGVlbFpvb20odGhpcywgbW91c2V3aGVlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdG9nZ2xlRHJhZ1pvb21FdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHBhbm5hYmxlID0gdGhpcy5vcHRpb25zLnBhbm5hYmxlO1xuICAgICAgICBjb25zdCB6b29tYWJsZSA9IHRoaXMub3B0aW9ucy56b29tYWJsZTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gKHpvb21hYmxlIHx8IHt9KS5zZWxlY3Rpb247XG4gICAgICAgIGNvbnN0IG1vdXNld2hlZWwgPSAoem9vbWFibGUgfHwge30pLm1vdXNld2hlZWw7XG4gICAgICAgIGNvbnN0IGFsbG93RHJhZyA9ICFwYW5uYWJsZSAmJiAoem9vbWFibGUgPT09IGZhbHNlIHx8IHNlbGVjdGlvbiA9PT0gZmFsc2UpICYmICF0aGlzLnJlcXVpcmVzSGFuZGxlcnMoWyBEUkFHX1NUQVJULCBEUkFHLCBEUkFHX0VORCBdKTtcbiAgICAgICAgY29uc3QgYWxsb3dab29tID0gKHpvb21hYmxlID09PSBmYWxzZSB8fCBtb3VzZXdoZWVsID09PSBmYWxzZSkgJiYgIXRoaXMucmVxdWlyZXNIYW5kbGVycyhbIFpPT01fU1RBUlQsIFpPT00sIFpPT01fRU5EIF0pO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gICAgICAgIGlmICh0aGlzLl9kcmFnWm9vbUVuYWJsZWQgJiYgYWxsb3dEcmFnICYmIGFsbG93Wm9vbSkge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50b3VjaEFjdGlvbiA9IHRoaXMuX3RvdWNoQWN0aW9uIHx8ICcnO1xuICAgICAgICAgICAgdGhpcy5fZHJhZ1pvb21FbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2RyYWdab29tRW5hYmxlZCAmJiAhKGFsbG93RHJhZyAmJiBhbGxvd1pvb20pKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvdWNoQWN0aW9uID0gXCJub25lXCI7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYWdab29tRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90b2dnbGVEb21FdmVudHMoIWFsbG93RHJhZywgIWFsbG93Wm9vbSk7XG4gICAgfVxuXG4gICAgX3RvZ2dsZURvbUV2ZW50cyhkcmFnLCB6b29tKSB7XG4gICAgICAgIGNvbnN0IGRvbUV2ZW50cyA9IHRoaXMuZG9tRXZlbnRzO1xuICAgICAgICBpZiAoIWRvbUV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbUV2ZW50cy50b2dnbGVEcmFnKSB7XG4gICAgICAgICAgICBkb21FdmVudHMudG9nZ2xlRHJhZyhkcmFnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb21FdmVudHMudG9nZ2xlWm9vbSkge1xuICAgICAgICAgICAgZG9tRXZlbnRzLnRvZ2dsZVpvb20oem9vbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlVG9vbHRpcCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHRvb2x0aXA6IHRvb2x0aXBPcHRpb25zIH0gfSA9IHRoaXM7XG4gICAgICAgIGxldCB0b29sdGlwO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaGFyZWRUb29sdGlwKCkpIHtcbiAgICAgICAgICAgIHRvb2x0aXAgPSB0aGlzLl9jcmVhdGVTaGFyZWRUb29sdGlwKHRvb2x0aXBPcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0aGlzLmNoYXJ0U2VydmljZSwgdG9vbHRpcE9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvb2x0aXA7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVNoYXJlZFRvb2x0aXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFNoYXJlZFRvb2x0aXAodGhpcy5fcGxvdEFyZWEsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGFwcGx5RGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKSB7XG4gICAgICAgIGFwcGx5QXhpc0RlZmF1bHRzKG9wdGlvbnMsIHRoZW1lT3B0aW9ucyk7XG4gICAgICAgIGFwcGx5U2VyaWVzRGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKTtcbiAgICB9XG5cbiAgICBhcHBseVNlcmllc0NvbG9ycygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gb3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IG9wdGlvbnMuc2VyaWVzQ29sb3JzIHx8IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW2ldO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzQ29sb3IgPSBjb2xvcnNbaSAlIGNvbG9ycy5sZW5ndGhdO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBjdXJyZW50U2VyaWVzLl9kZWZhdWx0cztcblxuICAgICAgICAgICAgY3VycmVudFNlcmllcy5jb2xvciA9IGN1cnJlbnRTZXJpZXMuY29sb3IgfHwgc2VyaWVzQ29sb3I7XG4gICAgICAgICAgICBpZiAoZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0cy5jb2xvciA9IGRlZmF1bHRzLmNvbG9yIHx8IHNlcmllc0NvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dldE1vZGVsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuX2NyZWF0ZVBsb3RBcmVhKCk7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gbmV3IFJvb3RFbGVtZW50KHRoaXMuX21vZGVsT3B0aW9ucygpKTtcbiAgICAgICAgbW9kZWwuY2hhcnQgPSB0aGlzO1xuICAgICAgICBtb2RlbC5fcGxvdEFyZWEgPSBwbG90QXJlYTtcblxuICAgICAgICBUaXRsZS5idWlsZFRpdGxlKG9wdGlvbnMudGl0bGUsIG1vZGVsKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5sZWdlbmQgJiYgb3B0aW9ucy5sZWdlbmQudmlzaWJsZSkge1xuICAgICAgICAgICAgbW9kZWwuYXBwZW5kKG5ldyBMZWdlbmQocGxvdEFyZWEub3B0aW9ucy5sZWdlbmQsIHRoaXMuY2hhcnRTZXJ2aWNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbW9kZWwuYXBwZW5kKHBsb3RBcmVhKTtcbiAgICAgICAgbW9kZWwucmVmbG93KCk7XG5cbiAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH1cblxuICAgIF9tb2RlbE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFNpemUoKTtcblxuICAgICAgICByZXR1cm4gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICB0cmFuc2l0aW9uczogb3B0aW9ucy50cmFuc2l0aW9ucyxcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLndpZHRoIHx8IERFRkFVTFRfV0lEVEgsXG4gICAgICAgICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0IHx8IERFRkFVTFRfSEVJR0hUXG4gICAgICAgIH0sIG9wdGlvbnMuY2hhcnRBcmVhKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUGxvdEFyZWEoc2tpcFNlcmllcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gUGxvdEFyZWFGYWN0b3J5LmN1cnJlbnQuY3JlYXRlKHNraXBTZXJpZXMgPyBbXSA6IG9wdGlvbnMuc2VyaWVzLCBvcHRpb25zLCB0aGlzLmNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgcmV0dXJuIHBsb3RBcmVhO1xuICAgIH1cblxuICAgIF9zZXR1cFNlbGVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBfcGxvdEFyZWE6IHsgYXhlcyB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb25zID0gdGhpcy5fc2VsZWN0aW9ucyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gYXhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKGF4aXMgaW5zdGFuY2VvZiBDYXRlZ29yeUF4aXMgJiYgb3B0aW9ucy5zZWxlY3QgJiYgIW9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGF4aXMucmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb24odGhpcywgYXhpcyxcbiAgICAgICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7IG1pbjogcmFuZ2UubWluLCBtYXg6IHJhbmdlLm1heCB9LCBvcHRpb25zLnNlbGVjdClcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9ucy5wdXNoKHNlbGVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2VsZWN0U3RhcnQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmlnZ2VyKFNFTEVDVF9TVEFSVCwgZSk7XG4gICAgfVxuXG4gICAgX3NlbGVjdChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoU0VMRUNULCBlKTtcbiAgICB9XG5cbiAgICBfc2VsZWN0RW5kKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcihTRUxFQ1RfRU5ELCBlKTtcbiAgICB9XG5cbiAgICBfaW5pdEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9jbGlja0hhbmRsZXIgPSB0aGlzLl9jbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9tb3VzZXdoZWVsSGFuZGxlciA9IHRoaXMuX21vdXNld2hlZWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fbW91c2VsZWF2ZUhhbmRsZXIgPSB0aGlzLl9tb3VzZWxlYXZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3N1cmZhY2VNb3VzZWVudGVySGFuZGxlciA9IHRoaXMuX21vdXNlb3Zlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9zdXJmYWNlTW91c2VsZWF2ZUhhbmRsZXIgPSB0aGlzLl9tb3VzZW91dC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX21vdXNlbW92ZSA9IHRocm90dGxlKFxuICAgICAgICAgICAgdGhpcy5fbW91c2Vtb3ZlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBNT1VTRU1PVkVfREVMQVlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhZGRPYnNlcnZlcihvYnNlcnZlcikge1xuICAgICAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1aXJlc0hhbmRsZXJzKGV2ZW50TmFtZXMpIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG9ic2VydmVycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJzW2lkeF0ucmVxdWlyZXNIYW5kbGVycyhldmVudE5hbWVzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJpZ2dlcihuYW1lLCBhcmdzID0ge30pIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IFNIT1dfVE9PTFRJUCkge1xuICAgICAgICAgICAgYXJncy5hbmNob3IucG9pbnQgPSB0aGlzLl90b0RvY3VtZW50Q29vcmRpbmF0ZXMoYXJncy5hbmNob3IucG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGFyZ3Muc2VuZGVyID0gdGhpcztcblxuICAgICAgICBjb25zdCBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgbGV0IGlzRGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBvYnNlcnZlcnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyc1tpZHhdLnRyaWdnZXIobmFtZSwgYXJncykpIHtcbiAgICAgICAgICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlzRGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfYXR0YWNoRXZlbnRzKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gICAgICAgIHRoaXMuX3RvdWNoQWN0aW9uID0gZWxlbWVudC5zdHlsZS50b3VjaEFjdGlvbjtcblxuICAgICAgICBiaW5kRXZlbnRzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgIFsgQ09OVEVYVE1FTlUgXTogdGhpcy5fY2xpY2tIYW5kbGVyLFxuICAgICAgICAgICAgWyBNT1VTRVdIRUVMIF06IHRoaXMuX21vdXNld2hlZWxIYW5kbGVyLFxuICAgICAgICAgICAgWyBNT1VTRUxFQVZFIF06IHRoaXMuX21vdXNlbGVhdmVIYW5kbGVyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRBdHRhY2hNb3VzZU1vdmUoKSkge1xuICAgICAgICAgICAgYmluZEV2ZW50cyhlbGVtZW50LCB7IFsgTU9VU0VNT1ZFIF06IHRoaXMuX21vdXNlbW92ZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZG9tRXZlbnRzID0gRG9tRXZlbnRzQnVpbGRlci5jcmVhdGUodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBzdGFydDogdGhpcy5fc3RhcnQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG1vdmU6IHRoaXMuX21vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGVuZDogdGhpcy5fZW5kLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0YXA6IHRoaXMuX3RhcC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2VzdHVyZXN0YXJ0OiB0aGlzLl9nZXN0dXJlc3RhcnQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdlc3R1cmVjaGFuZ2U6IHRoaXMuX2dlc3R1cmVjaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdlc3R1cmVlbmQ6IHRoaXMuX2dlc3R1cmVlbmQuYmluZCh0aGlzKVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl90b2dnbGVEcmFnWm9vbUV2ZW50cygpO1xuICAgIH1cblxuICAgIF9tb3VzZWxlYXZlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hvdmVyZWRQb2ludCkge1xuICAgICAgICAgICAgdGhpcy5faG92ZXJlZFBvaW50Lm91dCh0aGlzLCBlKTtcbiAgICAgICAgICAgIHRoaXMuX2hvdmVyZWRQb2ludCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcGxvdEFyZWEuaG92ZXJlZCkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFBMT1RfQVJFQV9MRUFWRSk7XG4gICAgICAgICAgICB0aGlzLl9wbG90QXJlYS5ob3ZlcmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2FuY2VsRG9tRXZlbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5kb21FdmVudHMgJiYgdGhpcy5kb21FdmVudHMuY2FuY2VsKSB7XG4gICAgICAgICAgICB0aGlzLmRvbUV2ZW50cy5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXN0dXJlc3RhcnQoZSkge1xuICAgICAgICBpZiAodGhpcy5fbW91c2V3aGVlbFpvb20gJiYgIXRoaXMuX3N0b3BDaGFydEhhbmRsZXJzKGUpKSB7XG4gICAgICAgICAgICB0aGlzLl9nZXN0dXJlRGlzdGFuY2UgPSBlLmRpc3RhbmNlO1xuICAgICAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnN1c3BlbmRUcmFja2luZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlc3R1cmVlbmQoZSkge1xuICAgICAgICBpZiAodGhpcy5fem9vbWluZyAmJiAhdGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1cmZhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1cmZhY2UucmVzdW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihaT09NX0VORCwge30pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlc3R1cmVjaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCBtb3VzZXdoZWVsWm9vbSA9IHRoaXMuX21vdXNld2hlZWxab29tO1xuXG4gICAgICAgIGlmIChtb3VzZXdoZWVsWm9vbSAmJiAhdGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzR2VzdHVyZURpc3RhbmNlID0gdGhpcy5fZ2VzdHVyZURpc3RhbmNlO1xuICAgICAgICAgICAgbGV0IHNjYWxlRGVsdGEgPSAtZS5kaXN0YW5jZSAvIHByZXZpb3VzR2VzdHVyZURpc3RhbmNlICsgMTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNjYWxlRGVsdGEpID49IDAuMSkge1xuICAgICAgICAgICAgICAgIHNjYWxlRGVsdGEgPSBNYXRoLnJvdW5kKHNjYWxlRGVsdGEgKiAxMCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZXN0dXJlRGlzdGFuY2UgPSBlLmRpc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSB7IGRlbHRhOiBzY2FsZURlbHRhLCBheGlzUmFuZ2VzOiBheGlzUmFuZ2VzKHRoaXMuX3Bsb3RBcmVhLmF4ZXMpLCBvcmlnaW5hbEV2ZW50OiBlIH07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcgfHwgIXRoaXMudHJpZ2dlcihaT09NX1NUQVJULCBhcmdzKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fem9vbWluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fem9vbWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZXMgPSBhcmdzLmF4aXNSYW5nZXMgPSBtb3VzZXdoZWVsWm9vbS51cGRhdGVSYW5nZXMoc2NhbGVEZWx0YSwgY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcyAmJiAhdGhpcy50cmlnZ2VyKFpPT00sIGFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZXdoZWVsWm9vbS56b29tKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2VvdXQoZSkge1xuICAgICAgICBpZiAoZS5lbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZHJhd2luZ0NoYXJ0RWxlbWVudChlLmVsZW1lbnQsIGUpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmxlYXZlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5sZWF2ZSh0aGlzLCBlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0KGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKTtcblxuICAgICAgICBpZiAodGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkgfHwgIXRoaXMuX3Bsb3RBcmVhLmJhY2tncm91bmRDb250YWluc1BvaW50KGNvb3JkcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZXNIYW5kbGVycyhbIERSQUdfU1RBUlQsIERSQUcsIERSQUdfRU5EIF0pKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydE5hdmlnYXRpb24oZSwgY29vcmRzLCBEUkFHX1NUQVJUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYW5uYWJsZSAmJiB0aGlzLl9wYW5uYWJsZS5zdGFydChlKSkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnN1c3BlbmRUcmFja2luZygpO1xuICAgICAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NIb3ZlciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS5wYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl96b29tU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fem9vbVNlbGVjdGlvbi5zdGFydChlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihaT09NX1NUQVJULCB7IGF4aXNSYW5nZXM6IGF4aXNSYW5nZXModGhpcy5fcGxvdEFyZWEuYXhlcyksIG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW92ZShlKSB7XG4gICAgICAgIGxldCB7IF9uYXZTdGF0ZTogc3RhdGUsIF9wYW5uYWJsZTogcGFubmFibGUgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0b3BDaGFydEhhbmRsZXJzKGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFubmFibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IHBhbm5hYmxlLm1vdmUoZSk7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZXMgJiYgIXRoaXMudHJpZ2dlcihEUkFHLCB7IGF4aXNSYW5nZXM6IHJhbmdlcywgb3JpZ2luYWxFdmVudDogZSB9KSkge1xuICAgICAgICAgICAgICAgIHBhbm5hYmxlLnBhbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZXMgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGF4ZXMgPSBzdGF0ZS5heGVzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IGF4ZXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc05hbWUgPSBjdXJyZW50QXhpcy5vcHRpb25zLm5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKGF4aXNOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBjdXJyZW50QXhpcy5vcHRpb25zLnZlcnRpY2FsID8gZS55IDogZS54O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IGF4aXMuc3RhcnRMb2NhdGlvbiAtIGF4aXMubG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXNbY3VycmVudEF4aXMub3B0aW9ucy5uYW1lXSA9IGN1cnJlbnRBeGlzLnRyYW5zbGF0ZVJhbmdlKGRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhdGUuYXhpc1JhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihEUkFHLCB7XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlczogcmFuZ2VzLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3pvb21TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21TZWxlY3Rpb24ubW92ZShlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lbmQoZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhbm5hYmxlID0gdGhpcy5fcGFubmFibGU7XG4gICAgICAgIGlmIChwYW5uYWJsZSAmJiBwYW5uYWJsZS5lbmQoZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXN1bWVUcmFja2luZygpO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKERSQUdfRU5ELCB7XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlczogYXhpc1Jhbmdlcyh0aGlzLl9wbG90QXJlYS5heGVzKSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzSG92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLnBhbm5pbmcgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VuZE5hdmlnYXRpb24oZSwgRFJBR19FTkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3pvb21TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IHRoaXMuX3pvb21TZWxlY3Rpb24uZW5kKGUpO1xuICAgICAgICAgICAgaWYgKHJhbmdlcyAmJiAhdGhpcy50cmlnZ2VyKFpPT00sIHsgYXhpc1JhbmdlczogcmFuZ2VzLCBvcmlnaW5hbEV2ZW50OiBlIH0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fem9vbVNlbGVjdGlvbi56b29tKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFpPT01fRU5ELCB7IGF4aXNSYW5nZXM6IHJhbmdlcywgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdG9wQ2hhcnRIYW5kbGVycyhlKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSB0aGlzLl9zZWxlY3Rpb25zIHx8IFtdO1xuICAgICAgICBpZiAoIXNlbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwYW5lID0gdGhpcy5fcGxvdEFyZWEucGFuZUJ5UG9pbnQoY29vcmRzKTtcbiAgICAgICAgaWYgKHBhbmUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNlbGVjdGlvbnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25zW2lkeF0ub25QYW5lKHBhbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3VzZXdoZWVsWm9vbVJhdGUoKSB7XG4gICAgICAgIGNvbnN0IHpvb21hYmxlID0gdGhpcy5vcHRpb25zLnpvb21hYmxlO1xuICAgICAgICBjb25zdCBtb3VzZXdoZWVsID0gKHpvb21hYmxlIHx8IHt9KS5tb3VzZXdoZWVsIHx8IHt9O1xuICAgICAgICByZXR1cm4gdmFsdWVPckRlZmF1bHQobW91c2V3aGVlbC5yYXRlLCBNT1VTRVdIRUVMX1pPT01fUkFURSk7XG4gICAgfVxuXG4gICAgX21vdXNld2hlZWwoZSkge1xuICAgICAgICBjb25zdCBkZWx0YSA9IG1vdXNld2hlZWxEZWx0YShlKTtcbiAgICAgICAgY29uc3QgbW91c2V3aGVlbFpvb20gPSB0aGlzLl9tb3VzZXdoZWVsWm9vbTtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKTtcblxuICAgICAgICBpZiAodGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkgfHwgIXRoaXMuX3Bsb3RBcmVhLmJhY2tncm91bmRDb250YWluc1BvaW50KGNvb3JkcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb3VzZXdoZWVsWm9vbSkge1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IHsgZGVsdGE6IGRlbHRhLCBheGlzUmFuZ2VzOiBheGlzUmFuZ2VzKHRoaXMuX3Bsb3RBcmVhLmF4ZXMpLCBvcmlnaW5hbEV2ZW50OiBlIH07XG4gICAgICAgICAgICBpZiAodGhpcy5fem9vbWluZyB8fCAhdGhpcy50cmlnZ2VyKFpPT01fU1RBUlQsIGFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl96b29taW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Vuc2V0QWN0aXZlUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnN1c3BlbmRUcmFja2luZygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl96b29taW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbXdUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9td1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFyZ3MuYXhpc1JhbmdlcyA9IG1vdXNld2hlZWxab29tLnVwZGF0ZVJhbmdlcyhkZWx0YSwgY29vcmRzKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5heGlzUmFuZ2VzICYmICF0aGlzLnRyaWdnZXIoWk9PTSwgYXJncykpIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2V3aGVlbFpvb20uem9vbSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX213VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoWk9PTV9FTkQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl96b29taW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1cmZhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXN1bWVUcmFja2luZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgTU9VU0VXSEVFTF9ERUxBWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLl9uYXZTdGF0ZTtcbiAgICAgICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ZW50ZWQgPSB0aGlzLl9zdGFydE5hdmlnYXRpb24oZSwgY29vcmRzLCBaT09NX1NUQVJUKTtcbiAgICAgICAgICAgICAgICBpZiAoIXByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuX25hdlN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxEZWx0YSA9IHN0YXRlLnRvdGFsRGVsdGEgfHwgZGVsdGE7XG4gICAgICAgICAgICAgICAgc3RhdGUudG90YWxEZWx0YSA9IHRvdGFsRGVsdGEgKyBkZWx0YTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLl9uYXZTdGF0ZS5heGVzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBeGlzID0gYXhlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXhpc05hbWUgPSBjdXJyZW50QXhpcy5vcHRpb25zLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChheGlzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VzW2F4aXNOYW1lXSA9IGN1cnJlbnRBeGlzLnNjYWxlUmFuZ2UoLXRvdGFsRGVsdGEgKiB0aGlzLl9tb3VzZXdoZWVsWm9vbVJhdGUoKSwgY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihaT09NLCB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBkZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgYXhpc1JhbmdlczogcmFuZ2VzLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbXdUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9td1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX213VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmROYXZpZ2F0aW9uKGUsIFpPT01fRU5EKTtcbiAgICAgICAgICAgICAgICB9LCBNT1VTRVdIRUVMX0RFTEFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdGFydE5hdmlnYXRpb24oZSwgY29vcmRzLCBjaGFydEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5fbW9kZWwuX3Bsb3RBcmVhO1xuICAgICAgICBjb25zdCBwYW5lID0gcGxvdEFyZWEuZmluZFBvaW50UGFuZShjb29yZHMpO1xuICAgICAgICBjb25zdCBheGVzID0gcGxvdEFyZWEuYXhlcy5zbGljZSgwKTtcblxuICAgICAgICBpZiAoIXBhbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJhbmdlcyA9IGF4aXNSYW5nZXMoYXhlcyk7XG5cbiAgICAgICAgY29uc3QgcHJldmVudGVkID0gdGhpcy50cmlnZ2VyKGNoYXJ0RXZlbnQsIHtcbiAgICAgICAgICAgIGF4aXNSYW5nZXM6IHJhbmdlcyxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHByZXZlbnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsRG9tRXZlbnRzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc0hvdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3Vuc2V0QWN0aXZlUG9pbnQoKTtcbiAgICAgICAgICAgIHRoaXMuX25hdlN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGF4aXNSYW5nZXM6IHJhbmdlcyxcbiAgICAgICAgICAgICAgICBwYW5lOiBwYW5lLFxuICAgICAgICAgICAgICAgIGF4ZXM6IGF4ZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZW5kTmF2aWdhdGlvbihlLCBjaGFydEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9uYXZTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKGNoYXJ0RXZlbnQsIHtcbiAgICAgICAgICAgICAgICBheGlzUmFuZ2VzOiB0aGlzLl9uYXZTdGF0ZS5heGlzUmFuZ2VzLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NIb3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbmF2U3RhdGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dldENoYXJ0RWxlbWVudChlLCBtYXRjaCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5zdXJmYWNlLmV2ZW50VGFyZ2V0KGUpO1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RyYXdpbmdDaGFydEVsZW1lbnQoZWxlbWVudCwgZSwgbWF0Y2gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2RyYXdpbmdDaGFydEVsZW1lbnQoZWxlbWVudCwgZSwgbWF0Y2gpIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBlbGVtZW50O1xuICAgICAgICBsZXQgY2hhcnRFbGVtZW50O1xuICAgICAgICB3aGlsZSAoY3VycmVudCAmJiAhY2hhcnRFbGVtZW50KSB7XG4gICAgICAgICAgICBjaGFydEVsZW1lbnQgPSBjdXJyZW50LmNoYXJ0RWxlbWVudDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFydEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChjaGFydEVsZW1lbnQuYWxpYXNGb3IpIHtcbiAgICAgICAgICAgICAgICBjaGFydEVsZW1lbnQgPSBjaGFydEVsZW1lbnQuYWxpYXNGb3IoZSwgdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIGNoYXJ0RWxlbWVudCA9IGNoYXJ0RWxlbWVudC5jbG9zZXN0KG1hdGNoKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnRFbGVtZW50ICYmIGNoYXJ0RWxlbWVudC5hbGlhc0Zvcikge1xuICAgICAgICAgICAgICAgICAgICBjaGFydEVsZW1lbnQgPSBjaGFydEVsZW1lbnQuYWxpYXNGb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjaGFydEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZXZlbnRDb29yZGluYXRlcyhlKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvTW9kZWxDb29yZGluYXRlcyhjb29yZGluYXRlcy54LCBjb29yZGluYXRlcy55KTtcbiAgICB9XG5cbiAgICBfZWxlbWVudFBhZGRpbmcoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGFkZGluZykge1xuICAgICAgICAgICAgY29uc3QgeyBwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCB9ID0gZWxlbWVudFN0eWxlcyh0aGlzLmVsZW1lbnQsIFsgXCJwYWRkaW5nTGVmdFwiLCBcInBhZGRpbmdUb3BcIiBdKTtcbiAgICAgICAgICAgIHRoaXMuX3BhZGRpbmcgPSB7XG4gICAgICAgICAgICAgICAgdG9wOiBwYWRkaW5nVG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHBhZGRpbmdMZWZ0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG4gICAgfVxuXG4gICAgX3RvRG9jdW1lbnRDb29yZGluYXRlcyhwb2ludCkge1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5fZWxlbWVudFBhZGRpbmcoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZWxlbWVudE9mZnNldCh0aGlzLmVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiByb3VuZChwb2ludC54ICsgcGFkZGluZy5sZWZ0ICsgb2Zmc2V0LmxlZnQpLFxuICAgICAgICAgICAgdG9wOiByb3VuZChwb2ludC55ICsgcGFkZGluZy50b3AgKyBvZmZzZXQudG9wKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFRPRE86IEJyZWFraW5nIGNoYW5nZSBkdWUgdG8gcGVlciB2ZXJzaW9uIGNoYW5nZVxuICAgIC8vIFJldXNlIGJ5IGV4cG9zaW5nIF9zdXJmYWNlUG9pbnQgb24gU3VyZmFjZVxuICAgIF90b01vZGVsQ29vcmRpbmF0ZXMoY2xpZW50WCwgY2xpZW50WSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBlbGVtZW50T2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5fZWxlbWVudFBhZGRpbmcoKTtcbiAgICAgICAgY29uc3QgaW52ZXJzZVRyYW5zZm9ybSA9IGVsZW1lbnRTY2FsZShlbGVtZW50KS5pbnZlcnQoKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgZ2VvbWV0cnkuUG9pbnQoXG4gICAgICAgICAgICBjbGllbnRYIC0gb2Zmc2V0LmxlZnQgLSBwYWRkaW5nLmxlZnQsXG4gICAgICAgICAgICBjbGllbnRZIC0gb2Zmc2V0LnRvcCAtIHBhZGRpbmcudG9wXG4gICAgICAgICkudHJhbnNmb3JtKGludmVyc2VUcmFuc2Zvcm0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQocG9pbnQueCwgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgX3RhcChlKSB7XG4gICAgICAgIGNvbnN0IGRyYXdpbmdFbGVtZW50ID0gdGhpcy5zdXJmYWNlLmV2ZW50VGFyZ2V0KGUpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZHJhd2luZ0NoYXJ0RWxlbWVudChkcmF3aW5nRWxlbWVudCwgZSk7XG4gICAgICAgIGNvbnN0IHNoYXJlZFRvb2x0aXAgPSB0aGlzLl9zaGFyZWRUb29sdGlwKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zdGFydEhvdmVyKGRyYXdpbmdFbGVtZW50LCBlKSAmJiAhc2hhcmVkVG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoYXJlZFRvb2x0aXApIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYWNrU2hhcmVkVG9vbHRpcCh0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpLCBlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb3BhZ2F0ZUNsaWNrKGVsZW1lbnQsIGUpO1xuXG4gICAgICAgIC8vcGFydCBvZiBmaXggZm9yIGhvdmVyIGlzc3VlIG9uIHdpbmRvd3MgdG91Y2hcbiAgICAgICAgdGhpcy5oYW5kbGluZ1RhcCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGluZ1RhcCA9IGZhbHNlO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICBfY2xpY2soZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZ2V0Q2hhcnRFbGVtZW50KGUpO1xuICAgICAgICB0aGlzLl9wcm9wYWdhdGVDbGljayhlbGVtZW50LCBlKTtcbiAgICB9XG5cbiAgICBfcHJvcGFnYXRlQ2xpY2soZWxlbWVudCwgZSkge1xuICAgICAgICBsZXQgY3VycmVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5jbGljaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQuY2xpY2sodGhpcywgZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdGFydEhvdmVyKGVsZW1lbnQsIGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N1cHByZXNzSG92ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludCA9IHRoaXMuX2RyYXdpbmdDaGFydEVsZW1lbnQoZWxlbWVudCwgZSwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIChlbGVtZW50LmhvdmVyIHx8IGVsZW1lbnQub3ZlcikgJiYgIShlbGVtZW50IGluc3RhbmNlb2YgUGxvdEFyZWFCYXNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYWN0aXZlUG9pbnQgPSB0aGlzLl9hY3RpdmVQb2ludDtcbiAgICAgICAgY29uc3QgbXVsdGlwbGVTZXJpZXMgPSB0aGlzLl9wbG90QXJlYS5zZXJpZXMubGVuZ3RoID4gMTtcbiAgICAgICAgY29uc3QgaGFzSW5hY3RpdmVPcGFjaXR5ID0gdGhpcy5faGFzSW5hY3RpdmVPcGFjaXR5KCk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSG92ZXJlZFBvaW50KHBvaW50LCBlKTtcblxuICAgICAgICBpZiAocG9pbnQgJiYgYWN0aXZlUG9pbnQgIT09IHBvaW50ICYmIHBvaW50LmhvdmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVQb2ludCA9IHBvaW50O1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NoYXJlZFRvb2x0aXAoKSAmJiAhcG9pbnQuaG92ZXIodGhpcywgZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5VG9vbHRpcChwb2ludCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaGFzSW5hY3RpdmVPcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXlJbmFjdGl2ZU9wYWNpdHkocG9pbnQsIG11bHRpcGxlU2VyaWVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHQuc2hvdyhwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFwb2ludCAmJiBoYXNJbmFjdGl2ZU9wYWNpdHkpIHtcbiAgICAgICAgICAgIGlmIChtdWx0aXBsZVNlcmllcyAmJiB0aGlzLl9hY3RpdmVDaGFydEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlU2VyaWVzT3BhY2l0eShwb2ludCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlTZXJpZXNPcGFjaXR5KHRoaXMuX2FjdGl2ZUNoYXJ0SW5zdGFuY2UuY2hpbGRyZW4sIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUNoYXJ0SW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGlnaGxpZ2h0ICYmIHRoaXMuX2hpZ2hsaWdodC5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVQb2ludCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgX2Rpc3BsYXlUb29sdGlwKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXBPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLnRvb2x0aXAsIHBvaW50Lm9wdGlvbnMudG9vbHRpcCk7XG4gICAgICAgIGlmICh0b29sdGlwT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl90b29sdGlwLnNob3cocG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2Rpc3BsYXlJbmFjdGl2ZU9wYWNpdHkoYWN0aXZlUG9pbnQsIG11bHRpcGxlU2VyaWVzLCBoaWdobGlnaHRQb2ludHMpIHtcbiAgICAgICAgY29uc3QgY2hhcnRJbnN0YW5jZSA9IHRoaXMuX2FjdGl2ZUNoYXJ0SW5zdGFuY2UgPSB0aGlzLl9jaGFydEluc3RhbmNlRnJvbVBvaW50KGFjdGl2ZVBvaW50KTtcbiAgICAgICAgaWYgKCFjaGFydEluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobXVsdGlwbGVTZXJpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNlcmllc09wYWNpdHkoYWN0aXZlUG9pbnQpO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlTZXJpZXNPcGFjaXR5KGNoYXJ0SW5zdGFuY2UuY2hpbGRyZW4sIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlTZXJpZXNPcGFjaXR5KGNoYXJ0SW5zdGFuY2UuY2hpbGRyZW4sIGFjdGl2ZVBvaW50LnNlcmllcyk7XG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHQuc2hvdyhoaWdobGlnaHRQb2ludHMgfHwgYWN0aXZlUG9pbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGluYWN0aXZlUG9pbnRzO1xuXG4gICAgICAgICAgICBpZiAoIWNoYXJ0SW5zdGFuY2Uuc3VwcG9ydHNQb2ludEluYWN0aXZlT3BhY2l0eSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGlnaGxpZ2h0LnNob3coYWN0aXZlUG9pbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5hY3RpdmVQb2ludHMgPSB0aGlzLl9nZXRJbmFjdGl2ZVBvaW50cyhhY3RpdmVQb2ludCwgY2hhcnRJbnN0YW5jZSk7XG5cbiAgICAgICAgICAgIGlmIChpbmFjdGl2ZVBvaW50cyAmJiBpbmFjdGl2ZVBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHQuc2hvdyhpbmFjdGl2ZVBvaW50cywgMSAtIHRoaXMuX2dldEluYWN0aXZlT3BhY2l0eUZvclNlcmllcyhhY3RpdmVQb2ludC5zZXJpZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRJbmFjdGl2ZVBvaW50cyhhY3RpdmVQb2ludCwgY2hhcnRJbnN0YW5jZSkge1xuICAgICAgICBsZXQgYWxsUG9pbnRzID0gdGhpcy5fZ2V0QWxsUG9pbnRzT2ZUeXBlKGNoYXJ0SW5zdGFuY2UsIGFjdGl2ZVBvaW50LmNvbnN0cnVjdG9yKTtcblxuICAgICAgICByZXR1cm4gYWxsUG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludCAhPT0gYWN0aXZlUG9pbnQpO1xuICAgIH1cblxuICAgIF9nZXRBbGxQb2ludHNPZlR5cGUoY29udGFpbmVyLCB0eXBlKSB7XG4gICAgICAgIGxldCBwb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lci5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY29uc3RydWN0b3IgPT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5jaGlsZHJlbiAmJiBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5jb25jYXQodGhpcy5fZ2V0QWxsUG9pbnRzT2ZUeXBlKGVsZW1lbnQsIHR5cGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUhvdmVyZWRQb2ludChwb2ludCwgZSkge1xuICAgICAgICBjb25zdCBob3ZlcmVkUG9pbnQgPSB0aGlzLl9ob3ZlcmVkUG9pbnQ7XG5cbiAgICAgICAgaWYgKGhvdmVyZWRQb2ludCAmJiBob3ZlcmVkUG9pbnQgIT09IHBvaW50KSB7XG4gICAgICAgICAgICBob3ZlcmVkUG9pbnQub3V0KHRoaXMsIGUpO1xuICAgICAgICAgICAgdGhpcy5faG92ZXJlZFBvaW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb2ludCAmJiBob3ZlcmVkUG9pbnQgIT09IHBvaW50ICYmIHBvaW50Lm92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hvdmVyZWRQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgcG9pbnQub3Zlcih0aGlzLCBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVTZXJpZXNPcGFjaXR5KHBvaW50LCByZXNldE9wYWNpdHkpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLl9wbG90QXJlYTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gcGxvdEFyZWEuc2VyaWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyU2VyaWVzID0gcGxvdEFyZWEuc2VyaWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdE9wYWNpdHkgPSB0aGlzLl9nZXREZWZhdWx0T3BhY2l0eUZvclNlcmllcyhjdXJyU2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IGluYWN0aXZlT3BhY2l0eSA9IHRoaXMuX2dldEluYWN0aXZlT3BhY2l0eUZvclNlcmllcyhjdXJyU2VyaWVzKTtcblxuICAgICAgICAgICAgaWYgKCFyZXNldE9wYWNpdHkgJiYgY3VyclNlcmllcyAhPT0gcG9pbnQuc2VyaWVzKSB7XG4gICAgICAgICAgICAgICAgY3VyclNlcmllcy5kZWZhdWx0T3BhY2l0eSA9IGRlZmF1bHRPcGFjaXR5O1xuICAgICAgICAgICAgICAgIGN1cnJTZXJpZXMub3BhY2l0eSA9IGluYWN0aXZlT3BhY2l0eTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyU2VyaWVzLmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyclNlcmllcy5saW5lLm9wYWNpdHkgPSBpbmFjdGl2ZU9wYWNpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyU2VyaWVzLm9wYWNpdHkgPSBkZWZhdWx0T3BhY2l0eTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyU2VyaWVzLmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyclNlcmllcy5saW5lLm9wYWNpdHkgPSBkZWZhdWx0T3BhY2l0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYXBwbHlTZXJpZXNPcGFjaXR5KGVsZW1lbnRzLCBhY3RpdmVTZXJpZXMsIHJlc2V0LCBzZXJpZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgY3VyclNlcmllcyA9IGVsZW1lbnQuc2VyaWVzIHx8IHNlcmllcztcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEhpZ2hsaWdodCA9IGN1cnJTZXJpZXMgJiYgKGN1cnJTZXJpZXMuaGlnaGxpZ2h0IHx8IHt9KS52aXNpYmxlO1xuXG4gICAgICAgICAgICBpZiAoc2hvdWxkSGlnaGxpZ2h0ICYmIGVsZW1lbnQudmlzdWFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3BhY2l0eSA9IHNlcmllcyA/IHNlcmllcy5vcGFjaXR5IDogZWxlbWVudC5zZXJpZXMub3BhY2l0eTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyclNlcmllcyAhPT0gYWN0aXZlU2VyaWVzIHx8IHJlc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudmlzdWFsLm9wYWNpdHkocmVzZXQgPyAxIDogb3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jaGlsZHJlbiAmJiBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FwcGx5U2VyaWVzT3BhY2l0eShlbGVtZW50LmNoaWxkcmVuLCBhY3RpdmVTZXJpZXMsIHJlc2V0LCBlbGVtZW50LnNlcmllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2hhcnRJbnN0YW5jZUZyb21Qb2ludChwb2ludCkge1xuICAgICAgICBsZXQgY2hhcnRJbnN0YW5jZSA9IHBvaW50LnBhcmVudDtcblxuICAgICAgICB3aGlsZSAoY2hhcnRJbnN0YW5jZSAmJiAhY2hhcnRJbnN0YW5jZS5wbG90QXJlYSkge1xuICAgICAgICAgICAgY2hhcnRJbnN0YW5jZSA9IGNoYXJ0SW5zdGFuY2UucGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoYXJ0SW5zdGFuY2U7XG4gICAgfVxuXG4gICAgX2hhc0luYWN0aXZlT3BhY2l0eSgpIHtcbiAgICAgICAgbGV0IGhhc0RlZmF1bHRJbmFjdGl2ZU9wYWNpdHkgPSB0aGlzLm9wdGlvbnMuc2VyaWVzRGVmYXVsdHMuaGlnaGxpZ2h0LmluYWN0aXZlT3BhY2l0eSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgaGFzSW5hY3RpdmVPcGFjaXR5ID0gdGhpcy5vcHRpb25zLnNlcmllcy5maWx0ZXIocyA9PiBzLmhpZ2hsaWdodC5pbmFjdGl2ZU9wYWNpdHkgIT09IHVuZGVmaW5lZCApLmxlbmd0aCA+IDA7XG4gICAgICAgIHJldHVybiBoYXNEZWZhdWx0SW5hY3RpdmVPcGFjaXR5IHx8IGhhc0luYWN0aXZlT3BhY2l0eTtcbiAgICB9XG5cbiAgICBfZ2V0SW5hY3RpdmVPcGFjaXR5Rm9yU2VyaWVzKHNlcmllcykge1xuICAgICAgICBsZXQgZGVmYXVsdEluYWN0aXZlT3BhY2l0eSA9IHRoaXMub3B0aW9ucy5zZXJpZXNEZWZhdWx0cy5oaWdobGlnaHQuaW5hY3RpdmVPcGFjaXR5O1xuICAgICAgICBsZXQgc2VyaWVzSW5hY3RpdmVPcGFjaXR5ID0gc2VyaWVzLmhpZ2hsaWdodC5pbmFjdGl2ZU9wYWNpdHk7XG4gICAgICAgIHJldHVybiBzZXJpZXNJbmFjdGl2ZU9wYWNpdHkgfHwgZGVmYXVsdEluYWN0aXZlT3BhY2l0eSB8fCBzZXJpZXMub3BhY2l0eSB8fCBERUZBVUxUX1NFUklFU19PUEFDSVRZO1xuICAgIH1cblxuICAgIF9nZXREZWZhdWx0T3BhY2l0eUZvclNlcmllcyhzZXJpZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlcmllcy5kZWZhdWx0T3BhY2l0eSB8fCBzZXJpZXMub3BhY2l0eSB8fCBERUZBVUxUX1NFUklFU19PUEFDSVRZO1xuICAgIH1cblxuICAgIF9tb3VzZW92ZXIoZSkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuX3N0YXJ0SG92ZXIoZS5lbGVtZW50LCBlLm9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIGlmIChwb2ludCAmJiBwb2ludC50b29sdGlwVHJhY2tpbmcgJiYgIXRoaXMuX21vdXNlTW92ZVRyYWNrSGFuZGxlciAmJiAhdGhpcy5fc2hhcmVkVG9vbHRpcCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZU1vdmVUcmFja0hhbmRsZXIgPSB0aGlzLl9tb3VzZU1vdmVUcmFja2luZy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgYmluZEV2ZW50cyhkb2N1bWVudCwge1xuICAgICAgICAgICAgICAgIFsgTU9VU0VNT1ZFIF06IHRoaXMuX21vdXNlTW92ZVRyYWNrSGFuZGxlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2VNb3ZlVHJhY2tpbmcoZSkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIF90b29sdGlwOiB0b29sdGlwLCBfaGlnaGxpZ2h0OiBoaWdobGlnaHQsIF9hY3RpdmVQb2ludDogcG9pbnQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX2V2ZW50Q29vcmRpbmF0ZXMoZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Bsb3RBcmVhLmJveC5jb250YWluc1BvaW50KGNvb3JkcykpIHtcbiAgICAgICAgICAgIGlmIChwb2ludCAmJiBwb2ludC50b29sdGlwVHJhY2tpbmcgJiYgcG9pbnQuc2VyaWVzICYmIHBvaW50LnBhcmVudC5nZXROZWFyZXN0UG9pbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJpZXNQb2ludCA9IHBvaW50LnBhcmVudC5nZXROZWFyZXN0UG9pbnQoY29vcmRzLngsIGNvb3Jkcy55LCBwb2ludC5zZXJpZXNJeCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlcmllc1BvaW50ICYmIHNlcmllc1BvaW50ICE9PSBwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVQb2ludCA9IHNlcmllc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VyaWVzUG9pbnQuaG92ZXIodGhpcywgZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucy50b29sdGlwLCBzZXJpZXNQb2ludC5vcHRpb25zLnRvb2x0aXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBPcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3coc2VyaWVzUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHQuc2hvdyhzZXJpZXNQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bmJpbmRFdmVudHMoZG9jdW1lbnQsIHtcbiAgICAgICAgICAgICAgICBbIE1PVVNFTU9WRSBdOiB0aGlzLl9tb3VzZU1vdmVUcmFja0hhbmRsZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5fbW91c2VNb3ZlVHJhY2tIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3VzZW1vdmUoZSkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuX3Bsb3RBcmVhO1xuXG4gICAgICAgIHRoaXMuX3RyYWNrQ3Jvc3NoYWlycyhjb29yZHMpO1xuXG4gICAgICAgIGlmIChwbG90QXJlYS5ob3Zlcikge1xuICAgICAgICAgICAgY29uc3Qgb3ZlclBsb3RBcmVhID0gcGxvdEFyZWEuYmFja2dyb3VuZENvbnRhaW5zUG9pbnQoY29vcmRzKTtcbiAgICAgICAgICAgIGlmIChvdmVyUGxvdEFyZWEpIHtcbiAgICAgICAgICAgICAgICBwbG90QXJlYS5ob3ZlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wbG90QXJlYS5ob3Zlcih0aGlzLCBlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGxvdEFyZWEuaG92ZXJlZCAmJiAhb3ZlclBsb3RBcmVhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFBMT1RfQVJFQV9MRUFWRSk7XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEuaG92ZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3NoYXJlZFRvb2x0aXAoKSkge1xuICAgICAgICAgICAgdGhpcy5fdHJhY2tTaGFyZWRUb29sdGlwKGNvb3JkcywgZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdHJhY2tDcm9zc2hhaXJzKGNvb3Jkcykge1xuICAgICAgICBjb25zdCBjcm9zc2hhaXJzID0gdGhpcy5fcGxvdEFyZWEuY3Jvc3NoYWlycztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNyb3NzaGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjcm9zc2hhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5ib3guY29udGFpbnNQb2ludChjb29yZHMpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5zaG93QXQoY29vcmRzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdHJhY2tTaGFyZWRUb29sdGlwKGNvb3JkcywgZSwgdG9nZ2xlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdXBwcmVzc0hvdmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgdG9vbHRpcDogdG9vbHRpcE9wdGlvbnMgfSwgX3Bsb3RBcmVhOiBwbG90QXJlYSwgX3Bsb3RBcmVhOiB7IGNhdGVnb3J5QXhpcyB9LCBfdG9vbHRpcDogdG9vbHRpcCwgX2hpZ2hsaWdodDogaGlnaGxpZ2h0IH0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChwbG90QXJlYS5iYWNrZ3JvdW5kQ29udGFpbnNQb2ludChjb29yZHMpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGNhdGVnb3J5QXhpcy5wb2ludENhdGVnb3J5SW5kZXgoY29vcmRzKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdGhpcy5fdG9vbHRpcENhdGVnb3J5SXggfHwgKCF0aGlzLl9zaGFyZWRIaWdobGlnaHQgJiYgdG9nZ2xlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHBsb3RBcmVhLnBvaW50c0J5Q2F0ZWdvcnlJbmRleChpbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRBcmdzID0gcG9pbnRzLm1hcChmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQuZXZlbnRBcmdzKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvdmVyQXJncyA9IHBvaW50QXJnc1swXSB8fCB7fTtcbiAgICAgICAgICAgICAgICBob3ZlckFyZ3MuY2F0ZWdvcnlQb2ludHMgPSBwb2ludEFyZ3M7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+IDAgJiYgIXRoaXMudHJpZ2dlcihTRVJJRVNfSE9WRVIsIGhvdmVyQXJncykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBPcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2hvd0F0KHBvaW50cywgY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodC5zaG93KHBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkSGlnaGxpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwQ2F0ZWdvcnlJeCA9IGluZGV4O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2dnbGUgJiYgdGhpcy5fc2hhcmVkSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0LmhpZGUoKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZWRIaWdobGlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zaGFyZWRIaWdobGlnaHQpIHtcbiAgICAgICAgICAgIGhpZ2hsaWdodC5oaWRlKCk7XG4gICAgICAgICAgICB0b29sdGlwLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBDYXRlZ29yeUl4ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3NoYXJlZEhpZ2hsaWdodCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZUVsZW1lbnRzKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLl9wbG90QXJlYTtcbiAgICAgICAgdGhpcy5fbW91c2Vtb3ZlLmNhbmNlbCgpO1xuXG4gICAgICAgIHBsb3RBcmVhLmhpZGVDcm9zc2hhaXJzKCk7XG5cbiAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludChvcHRpb25zKTtcbiAgICB9XG5cbiAgICBfdW5zZXRBY3RpdmVQb2ludChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgX3Rvb2x0aXA6IHRvb2x0aXAsIF9oaWdobGlnaHQ6IGhpZ2hsaWdodCB9ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9hY3RpdmVQb2ludCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hvdmVyZWRQb2ludCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRvb2x0aXAgJiYgIShvcHRpb25zICYmIG9wdGlvbnMua2VlcFRvb2x0aXBPcGVuKSkge1xuICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90b29sdGlwQ2F0ZWdvcnlJeCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NoYXJlZEhpZ2hsaWdodCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChoaWdobGlnaHQpIHtcbiAgICAgICAgICAgIGhpZ2hsaWdodC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGVmZXJSZWRyYXcoKSB7XG4gICAgICAgIHRoaXMuX3JlZHJhdygpO1xuICAgIH1cblxuICAgIF9jbGVhclJlZHJhd1RpbWVvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWRyYXdUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX3JlZHJhd1RpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5fcmVkcmF3VGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy5jYXRlZ29yeUF4aXMpO1xuXG4gICAgICAgIGZvciAobGV0IGF4aXNJeCA9IDA7IGF4aXNJeCA8IGRlZmluaXRpb25zLmxlbmd0aDsgYXhpc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBkZWZpbml0aW9uc1theGlzSXhdO1xuICAgICAgICAgICAgaWYgKGF4aXMuYXV0b0JpbmQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kQ2F0ZWdvcnlBeGlzRnJvbVNlcmllcyhheGlzLCBheGlzSXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmluZENhdGVnb3J5QXhpc0Zyb21TZXJpZXMoYXhpcywgYXhpc0l4KSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMub3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHNlcmllc0xlbmd0aCA9IHNlcmllcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHVuaXF1ZUNhdGVnb3JpZXMgPSBuZXcgSGFzaE1hcCgpOy8vcGVyZiBpbXByb3ZlbWVudCBpbiBjYXNlIHR5cGUgY2F0ZWdvcnkgd2l0aCBkYXRlc1xuICAgICAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICAgICAgbGV0IGJpbmRhYmxlID0gZmFsc2U7XG4gICAgICAgIGxldCBkYXRlQXhpcztcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzTGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IG9uQXhpcyA9IHMuY2F0ZWdvcnlBeGlzID09PSBheGlzLm5hbWUgfHwgKCFzLmNhdGVnb3J5QXhpcyAmJiBheGlzSXggPT09IDApO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHMuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGJpbmQgPSBzLmNhdGVnb3J5RmllbGQgJiYgb25BeGlzO1xuICAgICAgICAgICAgYmluZGFibGUgPSBiaW5kIHx8IGJpbmRhYmxlO1xuXG4gICAgICAgICAgICBpZiAoYmluZCAmJiBkYXRhTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGRhdGVBeGlzID0gaXNEYXRlQXhpcyhheGlzLCBnZXRGaWVsZChzLmNhdGVnb3J5RmllbGQsIGRhdGFbMF0pKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGdldEZuID0gZGF0ZUF4aXMgPyBnZXREYXRlRmllbGQgOiBnZXRGaWVsZDtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGRhdGFJeCA9IDA7IGRhdGFJeCA8IGRhdGFMZW5ndGg7IGRhdGFJeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFSb3cgPSBkYXRhW2RhdGFJeF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZ2V0Rm4ocy5jYXRlZ29yeUZpZWxkLCBkYXRhUm93LCB0aGlzLmNoYXJ0U2VydmljZS5pbnRsKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZUF4aXMgfHwgIXVuaXF1ZUNhdGVnb3JpZXMuZ2V0KGNhdGVnb3J5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChbIGNhdGVnb3J5LCBkYXRhUm93IF0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGVBeGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlQ2F0ZWdvcmllcy5zZXQoY2F0ZWdvcnksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChkYXRlQXhpcykge1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gdW5pcXVlRGF0ZXMoaXRlbXMsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVDb21wYXJlcihhWzBdLCBiWzBdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdHJhbnNwb3NlKGl0ZW1zKTtcbiAgICAgICAgICAgIGF4aXMuY2F0ZWdvcmllcyA9IHJlc3VsdFswXTtcbiAgICAgICAgfSBlbHNlIGlmIChiaW5kYWJsZSkge1xuICAgICAgICAgICAgYXhpcy5jYXRlZ29yaWVzID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaXNCaW5kYWJsZShzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWVGaWVsZHMgPSBTZXJpZXNCaW5kZXIuY3VycmVudC52YWx1ZUZpZWxkcyhzZXJpZXMpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZmllbGQgPSB2YWx1ZUZpZWxkc1tpXTtcbiAgICAgICAgICAgIGlmIChmaWVsZCA9PT0gVkFMVUUpIHtcbiAgICAgICAgICAgICAgICBmaWVsZCA9IFwiZmllbGRcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmllbGQgPSBmaWVsZCArIFwiRmllbGRcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkZWZpbmVkKHNlcmllc1tmaWVsZF0pKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIF9ub1RyYW5zaXRpb25zUmVkcmF3KCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgdHJhbnNpdGlvbnNTdGF0ZTtcblxuICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9ucyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudHJhbnNpdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyYW5zaXRpb25zU3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVkcmF3KCk7XG5cbiAgICAgICAgaWYgKHRyYW5zaXRpb25zU3RhdGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudHJhbnNpdGlvbnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xlZ2VuZEl0ZW1Ib3ZlcihzZXJpZXNJbmRleCwgcG9pbnRJbmRleCkge1xuICAgICAgICBjb25zdCB7IF9wbG90QXJlYTogcGxvdEFyZWEsIF9oaWdobGlnaHQ6IGhpZ2hsaWdodCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IChwbG90QXJlYS5zcmNTZXJpZXMgfHwgcGxvdEFyZWEuc2VyaWVzKVtzZXJpZXNJbmRleF07XG4gICAgICAgIGxldCBpdGVtcztcblxuICAgICAgICBpZiAoaW5BcnJheShjdXJyZW50U2VyaWVzLnR5cGUsIFsgUElFLCBET05VVCwgRlVOTkVMIF0pKSB7XG4gICAgICAgICAgICBpdGVtcyA9IHBsb3RBcmVhLmZpbmRQb2ludChmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC5zZXJpZXMuaW5kZXggPT09IHNlcmllc0luZGV4ICYmIHBvaW50LmluZGV4ID09PSBwb2ludEluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtcyA9IHBsb3RBcmVhLnBvaW50c0J5U2VyaWVzSW5kZXgoc2VyaWVzSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc0luYWN0aXZlT3BhY2l0eSgpICYmIGN1cnJlbnRTZXJpZXMudmlzaWJsZSAmJiBpdGVtcykge1xuICAgICAgICAgICAgY29uc3QgbXVsdGlwbGVTZXJpZXMgPSBwbG90QXJlYS5zZXJpZXMubGVuZ3RoID4gMTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gaXRlbXMubGVuZ3RoID8gaXRlbXNbMF0gOiBpdGVtcztcblxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheUluYWN0aXZlT3BhY2l0eShwb2ludCwgbXVsdGlwbGVTZXJpZXMsIGl0ZW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2hsaWdodC5zaG93KGl0ZW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zaG91bGRBdHRhY2hNb3VzZU1vdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbG90QXJlYS5jcm9zc2hhaXJzLmxlbmd0aCB8fCAodGhpcy5fdG9vbHRpcCAmJiB0aGlzLl9zaGFyZWRUb29sdGlwKCkpIHx8IHRoaXMucmVxdWlyZXNIYW5kbGVycyhbIFBMT1RfQVJFQV9IT1ZFUiwgUExPVF9BUkVBX0xFQVZFIF0pO1xuICAgIH1cblxuICAgIHVwZGF0ZU1vdXNlTW92ZUhhbmRsZXIoKSB7XG4gICAgICAgIHVuYmluZEV2ZW50cyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIFsgTU9VU0VNT1ZFIF06IHRoaXMuX21vdXNlbW92ZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5fc2hvdWxkQXR0YWNoTW91c2VNb3ZlKCkpIHtcbiAgICAgICAgICAgIGJpbmRFdmVudHModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgWyBNT1VTRU1PVkUgXTogdGhpcy5fbW91c2Vtb3ZlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGx5T3B0aW9ucyhvcHRpb25zLCB0aGVtZSkge1xuICAgICAgICBjbGVhck1pc3NpbmdWYWx1ZXModGhpcy5fb3JpZ2luYWxPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxPcHRpb25zID0gZGVlcEV4dGVuZCh0aGlzLl9vcmlnaW5hbE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLl9vcmlnaW5hbE9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGVtZSkge1xuICAgICAgICAgICAgdGhpcy5fdGhlbWUgPSB0aGVtZTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLnRoZW1lID0gdGhlbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5pdFRoZW1lKHRoaXMub3B0aW9ucywgdGhpcy5fdGhlbWUpO1xuXG4gICAgICAgIHRoaXMuX3RvZ2dsZURyYWdab29tRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zLCB0aGVtZSkge1xuICAgICAgICB0aGlzLmFwcGx5T3B0aW9ucyhvcHRpb25zLCB0aGVtZSk7XG4gICAgICAgIHRoaXMuYmluZENhdGVnb3JpZXMoKTtcbiAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZU1vdmVIYW5kbGVyKCk7XG4gICAgfVxuXG4gICAgc2V0RGlyZWN0aW9uKHJ0bCkge1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS5ydGwgPSBCb29sZWFuKHJ0bCk7XG4gICAgICAgIGlmICh0aGlzLnN1cmZhY2UgJiYgdGhpcy5zdXJmYWNlLnR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95U3VyZmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW50bFNlcnZpY2UoaW50bCkge1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS5pbnRsID0gaW50bDtcbiAgICB9XG5cbiAgICBub1RyYW5zaXRpb25zUmVkcmF3KCkge1xuICAgICAgICB0aGlzLl9ub1RyYW5zaXRpb25zUmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcblxuICAgICAgICB1bmJpbmRFdmVudHModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBbIENPTlRFWFRNRU5VIF06IHRoaXMuX2NsaWNrSGFuZGxlcixcbiAgICAgICAgICAgIFsgTU9VU0VXSEVFTCBdOiB0aGlzLl9tb3VzZXdoZWVsSGFuZGxlcixcbiAgICAgICAgICAgIFsgTU9VU0VNT1ZFIF06IHRoaXMuX21vdXNlbW92ZSxcbiAgICAgICAgICAgIFsgTU9VU0VMRUFWRSBdOiB0aGlzLl9tb3VzZWxlYXZlSGFuZGxlclxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5kb21FdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tRXZlbnRzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRvbUV2ZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tb3VzZU1vdmVUcmFja0hhbmRsZXIpIHtcbiAgICAgICAgICAgIHVuYmluZEV2ZW50cyhkb2N1bWVudCwge1xuICAgICAgICAgICAgICAgIFsgTU9VU0VNT1ZFIF06IHRoaXMuX21vdXNlTW92ZVRyYWNrSGFuZGxlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZXN0cm95VmlldygpO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lTdXJmYWNlKCk7XG5cbiAgICAgICAgdGhpcy5fY2xlYXJSZWRyYXdUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgX2Rlc3Ryb3lTdXJmYWNlKCkge1xuICAgICAgICBjb25zdCBzdXJmYWNlID0gdGhpcy5zdXJmYWNlO1xuICAgICAgICBpZiAoc3VyZmFjZSkge1xuICAgICAgICAgICAgc3VyZmFjZS51bmJpbmQoXCJtb3VzZWVudGVyXCIsIHRoaXMuX3N1cmZhY2VNb3VzZWVudGVySGFuZGxlcik7XG4gICAgICAgICAgICBzdXJmYWNlLnVuYmluZChcIm1vdXNlbGVhdmVcIiwgdGhpcy5fc3VyZmFjZU1vdXNlbGVhdmVIYW5kbGVyKTtcbiAgICAgICAgICAgIHN1cmZhY2UuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2Rlc3Ryb3lTZWxlY3Rpb25zKCkge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb25zID0gdGhpcy5fc2VsZWN0aW9ucztcblxuICAgICAgICBpZiAoc2VsZWN0aW9ucykge1xuICAgICAgICAgICAgd2hpbGUgKHNlbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbnMuc2hpZnQoKS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGVzdHJveVZpZXcoKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fbW9kZWw7XG5cbiAgICAgICAgaWYgKG1vZGVsKSB7XG4gICAgICAgICAgICBtb2RlbC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9tb2RlbCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveVNlbGVjdGlvbnMoKTtcblxuICAgICAgICBpZiAodGhpcy5fdG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHQuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3pvb21TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21TZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3pvb21TZWxlY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcGFubmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Bhbm5hYmxlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wYW5uYWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tb3VzZXdoZWVsWm9vbSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2V3aGVlbFpvb20uZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX21vdXNld2hlZWxab29tO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlQXhpc0FsaWFzZXMob3B0aW9ucykge1xuICAgIGNvbnN0IGFsaWFzZXMgPSBBWElTX05BTUVTO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYWxpYXNlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGNvbnN0IGFsaWFzID0gYWxpYXNlc1tpZHhdICsgXCJBeGVzXCI7XG4gICAgICAgIGlmIChvcHRpb25zW2FsaWFzXSkge1xuICAgICAgICAgICAgb3B0aW9uc1thbGlhc2VzW2lkeF0gKyBcIkF4aXNcIl0gPSBvcHRpb25zW2FsaWFzXTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zW2FsaWFzXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcG9pbnRCeUNhdGVnb3J5TmFtZShwb2ludHMsIG5hbWUpIHtcbiAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW2lkeF0uY2F0ZWdvcnkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWyBwb2ludHNbaWR4XSBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhcHBseUF4aXNEZWZhdWx0cyhvcHRpb25zLCB0aGVtZU9wdGlvbnMpIHtcbiAgICBjb25zdCB0aGVtZUF4aXNEZWZhdWx0cyA9ICgodGhlbWVPcHRpb25zIHx8IHt9KS5heGlzRGVmYXVsdHMpIHx8IHt9O1xuICAgIGxldCBheGlzTmFtZSwgYXhpc0RlZmF1bHRzLCBheGVzO1xuXG4gICAgZnVuY3Rpb24gbWFwQXhpc09wdGlvbnMoYXhpc09wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXhpc0NvbG9yID0gKGF4aXNPcHRpb25zIHx8IHt9KS5jb2xvciB8fCBheGlzRGVmYXVsdHMuY29sb3I7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZXBFeHRlbmQoe30sXG4gICAgICAgICAgICB0aGVtZUF4aXNEZWZhdWx0cyxcbiAgICAgICAgICAgIHRoZW1lQXhpc0RlZmF1bHRzW2F4aXNOYW1lXSxcbiAgICAgICAgICAgIGF4aXNEZWZhdWx0cyxcbiAgICAgICAgICAgIGF4aXNEZWZhdWx0c1theGlzTmFtZV0sIHtcbiAgICAgICAgICAgICAgICBsaW5lOiB7IGNvbG9yOiBheGlzQ29sb3IgfSxcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHsgY29sb3I6IGF4aXNDb2xvciB9LFxuICAgICAgICAgICAgICAgIHRpdGxlOiB7IGNvbG9yOiBheGlzQ29sb3IgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF4aXNPcHRpb25zXG4gICAgICAgICk7XG5cbiAgICAgICAgZGVsZXRlIHJlc3VsdFtheGlzTmFtZV07XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBBWElTX05BTUVTLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgYXhpc05hbWUgPSBBWElTX05BTUVTW2lkeF0gKyBcIkF4aXNcIjtcbiAgICAgICAgYXhpc0RlZmF1bHRzID0gb3B0aW9ucy5heGlzRGVmYXVsdHMgfHwge307XG4gICAgICAgIGF4ZXMgPSBbXS5jb25jYXQob3B0aW9uc1theGlzTmFtZV0pO1xuXG4gICAgICAgIGF4ZXMgPSBheGVzLm1hcChtYXBBeGlzT3B0aW9ucyk7XG5cbiAgICAgICAgb3B0aW9uc1theGlzTmFtZV0gPSBheGVzLmxlbmd0aCA+IDEgPyBheGVzIDogYXhlc1swXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5U2VyaWVzRGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKSB7XG4gICAgY29uc3Qgc2VyaWVzID0gb3B0aW9ucy5zZXJpZXM7XG4gICAgY29uc3Qgc2VyaWVzTGVuZ3RoID0gc2VyaWVzLmxlbmd0aDtcbiAgICBjb25zdCBzZXJpZXNEZWZhdWx0cyA9IG9wdGlvbnMuc2VyaWVzRGVmYXVsdHM7XG4gICAgY29uc3QgY29tbW9uRGVmYXVsdHMgPSBkZWVwRXh0ZW5kKHt9LCBvcHRpb25zLnNlcmllc0RlZmF1bHRzKTtcbiAgICBjb25zdCB0aGVtZVNlcmllc0RlZmF1bHRzID0gdGhlbWVPcHRpb25zID8gZGVlcEV4dGVuZCh7fSwgdGhlbWVPcHRpb25zLnNlcmllc0RlZmF1bHRzKSA6IHt9O1xuICAgIGNvbnN0IGNvbW1vblRoZW1lRGVmYXVsdHMgPSBkZWVwRXh0ZW5kKHt9LCB0aGVtZVNlcmllc0RlZmF1bHRzKTtcblxuICAgIGNsZWFudXBOZXN0ZWRTZXJpZXNEZWZhdWx0cyhjb21tb25EZWZhdWx0cyk7XG4gICAgY2xlYW51cE5lc3RlZFNlcmllc0RlZmF1bHRzKGNvbW1vblRoZW1lRGVmYXVsdHMpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzZXJpZXNUeXBlID0gc2VyaWVzW2ldLnR5cGUgfHwgb3B0aW9ucy5zZXJpZXNEZWZhdWx0cy50eXBlO1xuXG4gICAgICAgIGNvbnN0IGJhc2VPcHRpb25zID0gZGVlcEV4dGVuZChcbiAgICAgICAgICAgIHsgZGF0YTogW10gfSxcbiAgICAgICAgICAgIGNvbW1vblRoZW1lRGVmYXVsdHMsXG4gICAgICAgICAgICB0aGVtZVNlcmllc0RlZmF1bHRzW3Nlcmllc1R5cGVdLFxuICAgICAgICAgICAgeyB0b29sdGlwOiBvcHRpb25zLnRvb2x0aXAgfSxcbiAgICAgICAgICAgIGNvbW1vbkRlZmF1bHRzLFxuICAgICAgICAgICAgc2VyaWVzRGVmYXVsdHNbc2VyaWVzVHlwZV1cbiAgICAgICAgKTtcblxuICAgICAgICBzZXJpZXNbaV0uX2RlZmF1bHRzID0gYmFzZU9wdGlvbnM7XG4gICAgICAgIHNlcmllc1tpXSA9IGRlZXBFeHRlbmQoe30sIGJhc2VPcHRpb25zLCBzZXJpZXNbaV0pO1xuICAgICAgICBzZXJpZXNbaV0uZGF0YSA9IHNlcmllc1tpXS5kYXRhIHx8IFtdO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2xlYW51cE5lc3RlZFNlcmllc0RlZmF1bHRzKHNlcmllc0RlZmF1bHRzKSB7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmJhcjtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMuY29sdW1uO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5yYW5nZUNvbHVtbjtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMubGluZTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMudmVydGljYWxMaW5lO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5waWU7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmRvbnV0O1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5hcmVhO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy52ZXJ0aWNhbEFyZWE7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnNjYXR0ZXI7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnNjYXR0ZXJMaW5lO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5idWJibGU7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmNhbmRsZXN0aWNrO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5vaGxjO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5ib3hQbG90O1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5idWxsZXQ7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnZlcnRpY2FsQnVsbGV0O1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5wb2xhckFyZWE7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnBvbGFyTGluZTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMucmFkYXJBcmVhO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5yYWRhckxpbmU7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLndhdGVyZmFsbDtcbn1cblxuXG5mdW5jdGlvbiBheGlzUmFuZ2VzKGF4ZXMpIHtcbiAgICBjb25zdCByYW5nZXMgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpXTtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBheGlzLm9wdGlvbnMubmFtZTtcbiAgICAgICAgaWYgKGF4aXNOYW1lKSB7XG4gICAgICAgICAgICByYW5nZXNbYXhpc05hbWVdID0gYXhpcy5yYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlcztcbn1cblxuZnVuY3Rpb24gc29ydERhdGVzKGRhdGVzLCBjb21wYXJlciA9IGRhdGVDb21wYXJlcikge1xuICAgIGZvciAobGV0IGkgPSAxLCBsZW5ndGggPSBkYXRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY29tcGFyZXIoZGF0ZXNbaV0sIGRhdGVzW2kgLSAxXSkgPCAwKSB7XG4gICAgICAgICAgICBkYXRlcy5zb3J0KGNvbXBhcmVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGVzO1xufVxuXG5mdW5jdGlvbiB1bmlxdWVEYXRlcyhzcmNEYXRlcywgY29tcGFyZXIgPSBkYXRlQ29tcGFyZXIpIHtcbiAgICBjb25zdCBkYXRlcyA9IHNvcnREYXRlcyhzcmNEYXRlcywgY29tcGFyZXIpO1xuICAgIGNvbnN0IGxlbmd0aCA9IGRhdGVzLmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSBsZW5ndGggPiAwID8gWyBkYXRlc1swXSBdIDogW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb21wYXJlcihkYXRlc1tpXSwgbGFzdChyZXN1bHQpKSAhPT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZGF0ZXNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdHJhbnNwb3NlKHJvd3MpIHtcbiAgICBjb25zdCByb3dDb3VudCA9IHJvd3MubGVuZ3RoO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgZm9yIChsZXQgcm93SXggPSAwOyByb3dJeCA8IHJvd0NvdW50OyByb3dJeCsrKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHJvd3Nbcm93SXhdO1xuICAgICAgICBjb25zdCBjb2xDb3VudCA9IHJvdy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgY29sSXggPSAwOyBjb2xJeCA8IGNvbENvdW50OyBjb2xJeCsrKSB7XG4gICAgICAgICAgICByZXN1bHRbY29sSXhdID0gcmVzdWx0W2NvbEl4XSB8fCBbXTtcbiAgICAgICAgICAgIHJlc3VsdFtjb2xJeF0ucHVzaChyb3dbY29sSXhdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IERBVEFfRklFTERTID0gWyAnZGF0YScsICdjYXRlZ29yaWVzJyBdO1xuXG5mdW5jdGlvbiBjbGVhck1pc3NpbmdWYWx1ZXMob3JpZ2luYWxPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgZm9yIChsZXQgZmllbGQgaW4gb3B0aW9ucykge1xuICAgICAgICBpZiAoIWluQXJyYXkoZmllbGQsIERBVEFfRklFTERTKSAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IG9wdGlvbnNbZmllbGRdO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IG9yaWdpbmFsT3B0aW9uc1tmaWVsZF07XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChvcmlnaW5hbFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bGxWYWx1ZSA9IGZpZWxkVmFsdWUgPT09IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKChudWxsVmFsdWUgfHwgIWRlZmluZWQoZmllbGRWYWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcmlnaW5hbE9wdGlvbnNbZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9uc1tmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsVmFsdWUgJiYgaXNPYmplY3QoZmllbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9yaWdpbmFsVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhck1pc3NpbmdWYWx1ZXMob3JpZ2luYWxWYWx1ZSwgZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRyaWdnZXJQYW5lUmVuZGVyKHBhbmVzKSB7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGFuZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBwYW5lc1tpZHhdLm5vdGlmeVJlbmRlcigpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2hhcnQsIHtcbiAgICByZW5kZXJBczogXCJcIixcbiAgICBjaGFydEFyZWE6IHt9LFxuICAgIGxlZ2VuZDoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBsYWJlbHM6IHt9XG4gICAgfSxcbiAgICBjYXRlZ29yeUF4aXM6IHt9LFxuICAgIHNlcmllc0RlZmF1bHRzOiB7XG4gICAgICAgIHR5cGU6IENPTFVNTixcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIGhpZ2hsaWdodDoge1xuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBsYWJlbHM6IHt9LFxuICAgICAgICBuZWdhdGl2ZVZhbHVlczoge1xuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWVzOiBbXSxcbiAgICBzZXJpZXNDb2xvcnM6IG51bGwsXG4gICAgdG9vbHRpcDoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgdHJhbnNpdGlvbnM6IHRydWUsXG4gICAgdmFsdWVBeGlzOiB7fSxcbiAgICBwbG90QXJlYToge30sXG4gICAgdGl0bGU6IHt9LFxuICAgIHhBeGlzOiB7fSxcbiAgICB5QXhpczoge30sXG4gICAgcGFuZXM6IFsge30gXSxcbiAgICBwYW5uYWJsZTogZmFsc2UsXG4gICAgem9vbWFibGU6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnQ7XG4iLCJpbXBvcnQgeyBTaGFyZWRUb29sdGlwIGFzIENoYXJ0U2hhcmVkVG9vbHRpcCB9IGZyb20gJy4uL2NoYXJ0JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vY29yZSc7XG5jb25zdCBUT1BfT0ZGU0VUID0gLTI7XG5cbmNsYXNzIFNoYXJlZFRvb2x0aXAgZXh0ZW5kcyBDaGFydFNoYXJlZFRvb2x0aXAge1xuICAgIF9zbG90QW5jaG9yKGNvb3Jkcywgc2xvdCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5wbG90QXJlYS5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBhbGlnbiA9IHZlcnRpY2FsID8ge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJsZWZ0XCIsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogXCJjZW50ZXJcIlxuICAgICAgICB9IDoge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHZlcnRpY2FsOiBcImJvdHRvbVwiXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHBvaW50O1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcG9pbnQgPSBuZXcgUG9pbnQodGhpcy5wbG90QXJlYS5ib3gueDIsIHNsb3QuY2VudGVyKCkueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludCA9IG5ldyBQb2ludChzbG90LmNlbnRlcigpLngsIFRPUF9PRkZTRVQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgIGFsaWduOiBhbGlnblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9kZWZhdWx0QW5jaG9yKHBvaW50LCBzbG90KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zbG90QW5jaG9yKHt9LCBzbG90KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXJlZFRvb2x0aXA7IiwiaW1wb3J0IHsgQ2hhcnQgfSBmcm9tICcuLi9jaGFydCc7XG5pbXBvcnQgeyBCQVIsIEJVTExFVCwgUElFLCBDT0xVTU4sIFZFUlRJQ0FMX0JVTExFVCB9IGZyb20gJy4uL2NoYXJ0L2NvbnN0YW50cyc7XG5pbXBvcnR7IGFkZENsYXNzLCBkZWVwRXh0ZW5kLCBlbGVtZW50U2l6ZSwgZ2V0U3BhY2luZywgaW5BcnJheSwgaXNBcnJheSwgaXNOdW1iZXIsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCBTaGFyZWRUb29sdGlwIGZyb20gJy4vc2hhcmVkLXRvb2x0aXAnO1xuXG5jb25zdCBERUFVTFRfQkFSX1dJRFRIID0gMTUwO1xuY29uc3QgREVBVUxUX0JVTExFVF9XSURUSCA9IDE1MDtcbmNvbnN0IE5PX0NST1NTSEFJUiA9IFsgQkFSLCBCVUxMRVQgXTtcblxuZnVuY3Rpb24gaGlkZShjaGlsZHJlbikge1xuICAgIGNvbnN0IHN0YXRlID0gW107XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2hpbGRyZW4ubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2lkeF07XG4gICAgICAgIHN0YXRlW2lkeF0gPSBjaGlsZC5zdHlsZS5kaXNwbGF5O1xuICAgICAgICBjaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiBzaG93KGNoaWxkcmVuLCBzdGF0ZSkge1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNoaWxkcmVuLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY2hpbGRyZW5baWR4XS5zdHlsZS5kaXNwbGF5ID0gc3RhdGVbaWR4XTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdyYXBOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpID8gWyB2YWx1ZSBdIDogdmFsdWU7XG59XG5cbmNsYXNzIFNwYXJrbGluZSBleHRlbmRzIENoYXJ0IHtcbiAgICBfc2V0RWxlbWVudENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgJ2stc3BhcmtsaW5lJyk7XG4gICAgfVxuXG4gICAgX2luaXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIuX2luaXRFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYWxXaWR0aCA9IE1hdGguZmxvb3IoZWxlbWVudFNpemUoZWxlbWVudCkud2lkdGgpO1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gaGlkZShlbGVtZW50LmNoaWxkTm9kZXMpO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYWxXaWR0aCA9IE1hdGguZmxvb3IoZWxlbWVudFNpemUoZWxlbWVudCkud2lkdGgpO1xuXG4gICAgICAgIHNob3coZWxlbWVudC5jaGlsZE5vZGVzLCBzdGF0ZSk7XG5cbiAgICAgICAgc3VwZXIuX3Jlc2l6ZSgpO1xuICAgIH1cblxuICAgIF9tb2RlbE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0T3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSB0aGlzLl9zdXJmYWNlV3JhcCgpO1xuICAgICAgICBjb25zdCBkaXNwbGF5U3RhdGUgPSBoaWRlKHN0YWdlLmNoaWxkTm9kZXMpO1xuXG4gICAgICAgIGNvbnN0IHNwYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFjZS5pbm5lckhUTUwgPSAnJm5ic3A7JztcblxuICAgICAgICBzdGFnZS5hcHBlbmRDaGlsZChzcGFjZSk7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuX2F1dG9XaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogZWxlbWVudFNpemUoc3RhZ2UpLmhlaWdodCxcbiAgICAgICAgICAgIHRyYW5zaXRpb25zOiBjaGFydE9wdGlvbnMudHJhbnNpdGlvbnNcbiAgICAgICAgfSwgY2hhcnRPcHRpb25zLmNoYXJ0QXJlYSwge1xuICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgYWxpZ246IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVsZW1lbnRTaXplKHN0YWdlLCB7XG4gICAgICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RhZ2UucmVtb3ZlQ2hpbGQoc3BhY2UpO1xuXG4gICAgICAgIHNob3coc3RhZ2UuY2hpbGROb2RlcywgZGlzcGxheVN0YXRlKTtcblxuICAgICAgICBpZiAodGhpcy5zdXJmYWNlKSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UucmVzaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBfc3VyZmFjZVdyYXAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFnZSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhZ2UgPSB0aGlzLnN0YWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHN0YWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdGFnZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUGxvdEFyZWEoc2tpcFNlcmllcykge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHN1cGVyLl9jcmVhdGVQbG90QXJlYShza2lwU2VyaWVzKTtcbiAgICAgICAgdGhpcy5fYXV0b1dpZHRoID0gdGhpcy5faW5pdGlhbFdpZHRoIHx8IHRoaXMuX2NhbGN1bGF0ZVdpZHRoKHBsb3RBcmVhKTtcblxuICAgICAgICByZXR1cm4gcGxvdEFyZWE7XG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVdpZHRoKHBsb3RBcmVhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IGdldFNwYWNpbmcob3B0aW9ucy5jaGFydEFyZWEubWFyZ2luKTtcbiAgICAgICAgY29uc3QgY2hhcnRzID0gcGxvdEFyZWEuY2hhcnRzO1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMuX3N1cmZhY2VXcmFwKCk7XG4gICAgICAgIGxldCB0b3RhbCA9IDA7XG5cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENoYXJ0ID0gY2hhcnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSAoY3VycmVudENoYXJ0Lm9wdGlvbnMuc2VyaWVzIHx8IFtdKVswXTtcbiAgICAgICAgICAgIGlmICghZmlyc3RTZXJpZXMpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpcnN0U2VyaWVzLnR5cGUgPT09IEJBUikge1xuICAgICAgICAgICAgICAgIHJldHVybiBERUFVTFRfQkFSX1dJRFRIO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3RTZXJpZXMudHlwZSA9PT0gQlVMTEVUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERFQVVMVF9CVUxMRVRfV0lEVEg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaXJzdFNlcmllcy50eXBlID09PSBQSUUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudFNpemUoc3RhZ2UpLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlBeGlzID0gY3VycmVudENoYXJ0LmNhdGVnb3J5QXhpcztcbiAgICAgICAgICAgIGlmIChjYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludHNDb3VudCA9IGNhdGVnb3J5QXhpcy5jYXRlZ29yaWVzQ291bnQoKSAqXG4gICAgICAgICAgICAgICAgICAgICghY3VycmVudENoYXJ0Lm9wdGlvbnMuaXNTdGFja2VkICYmIGluQXJyYXkoZmlyc3RTZXJpZXMudHlwZSwgWyBDT0xVTU4sIFZFUlRJQ0FMX0JVTExFVCBdKSA/IGN1cnJlbnRDaGFydC5zZXJpZXNPcHRpb25zLmxlbmd0aCA6IDEpO1xuXG4gICAgICAgICAgICAgICAgdG90YWwgPSBNYXRoLm1heCh0b3RhbCwgcG9pbnRzQ291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNpemUgPSB0b3RhbCAqIG9wdGlvbnMucG9pbnRXaWR0aDtcbiAgICAgICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICAgICAgICBzaXplICs9IG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVNoYXJlZFRvb2x0aXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFNoYXJlZFRvb2x0aXAodGhpcy5fcGxvdEFyZWEsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBub3JtYWxpemVPcHRpb25zKHVzZXJPcHRpb25zKSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gd3JhcE51bWJlcih1c2VyT3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKGlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHNlcmllc0RlZmF1bHRzOiB7IGRhdGE6IG9wdGlvbnMgfSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnNlcmllcykge1xuICAgICAgICAgICAgb3B0aW9ucy5zZXJpZXMgPSBbIHsgZGF0YTogd3JhcE51bWJlcihvcHRpb25zLmRhdGEpIH0gXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZXBFeHRlbmQob3B0aW9ucywge1xuICAgICAgICAgICAgc2VyaWVzRGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGluQXJyYXkob3B0aW9ucy5zZXJpZXNbMF0udHlwZSwgTk9fQ1JPU1NIQUlSKSB8fFxuICAgICAgICAgICAgaW5BcnJheShvcHRpb25zLnNlcmllc0RlZmF1bHRzLnR5cGUsIE5PX0NST1NTSEFJUikpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzaGFpcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTcGFya2xpbmUsIHtcbiAgICBjaGFydEFyZWE6IHtcbiAgICAgICAgbWFyZ2luOiAyXG4gICAgfSxcbiAgICBheGlzRGVmYXVsdHM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZUF4aXM6IHtcbiAgICAgICAgICAgIG5hcnJvd1JhbmdlOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNlcmllc0RlZmF1bHRzOiB7XG4gICAgICAgIHR5cGU6IFwibGluZVwiLFxuICAgICAgICBhcmVhOiB7XG4gICAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDAuNVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiYXI6IHtcbiAgICAgICAgICAgIHN0YWNrOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHBhZGRpbmc6IDIsXG4gICAgICAgIHdpZHRoOiAwLjUsXG4gICAgICAgIG92ZXJsYXk6IHtcbiAgICAgICAgICAgIGdyYWRpZW50OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodDoge1xuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMFxuICAgICAgICB9LFxuICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBzaGFyZWQ6IHRydWVcbiAgICB9LFxuICAgIGNhdGVnb3J5QXhpczoge1xuICAgICAgICBjcm9zc2hhaXI6IHtcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGVnZW5kOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICB0cmFuc2l0aW9uczogZmFsc2UsXG5cbiAgICBwb2ludFdpZHRoOiA1LFxuXG4gICAgcGFuZXM6IFsgeyBjbGlwOiBmYWxzZSB9IF1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTcGFya2xpbmU7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBpbnRlcnBvbGF0ZVZhbHVlLCBlbGVtZW50U3R5bGVzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgRmFkZU91dEFuaW1hdGlvbiBleHRlbmRzIGRyYXcuQW5pbWF0aW9uIHtcblxuICAgIHNldHVwKCkge1xuICAgICAgICB0aGlzLl9pbml0aWFsT3BhY2l0eSA9IHBhcnNlRmxvYXQoZWxlbWVudFN0eWxlcyh0aGlzLmVsZW1lbnQsICdvcGFjaXR5Jykub3BhY2l0eSk7XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFN0cmluZyhpbnRlcnBvbGF0ZVZhbHVlKHRoaXMuX2luaXRpYWxPcGFjaXR5LCAwLCBwb3MpKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgc3VwZXIuYWJvcnQoKTtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IFN0cmluZyh0aGlzLl9pbml0aWFsT3BhY2l0eSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2FuY2VsKCkge1xuICAgICAgICBzdXBlci5hYm9ydCgpO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgb3BhY2l0eTogU3RyaW5nKHRoaXMuX2luaXRpYWxPcGFjaXR5KVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZhZGVPdXRBbmltYXRpb247IiwiaW1wb3J0IHsgQ2xhc3MsIGRlZXBFeHRlbmQsIGVsZW1lbnRTdHlsZXMsIGdldFRlbXBsYXRlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyB0b0RhdGUsIHRvVGltZSB9IGZyb20gJy4uL2RhdGUtdXRpbHMnO1xuaW1wb3J0IEZhZGVPdXRBbmltYXRpb24gZnJvbSAnLi9mYWRlLW91dC1hbmltYXRpb24nO1xuXG5mdW5jdGlvbiBjcmVhdGVEaXYoY2xhc3NOYW1lLCBzdHlsZSkge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGl2O1xufVxuXG5jbGFzcyBOYXZpZ2F0b3JIaW50IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgY2hhcnRTZXJ2aWNlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlO1xuXG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSBlbGVtZW50U3R5bGVzKGNvbnRhaW5lciwgWyBcInBhZGRpbmdMZWZ0XCIsIFwicGFkZGluZ1RvcFwiIF0pO1xuICAgICAgICB0aGlzLmNoYXJ0UGFkZGluZyA9IHtcbiAgICAgICAgICAgIHRvcDogcGFkZGluZy5wYWRkaW5nVG9wLFxuICAgICAgICAgICAgbGVmdDogcGFkZGluZy5wYWRkaW5nTGVmdFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQgPSBjcmVhdGVEaXYoJ2stbmF2aWdhdG9yLWhpbnQnLCAnZGlzcGxheTogbm9uZTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDFweDsgbGVmdDogMXB4OycpO1xuICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sdGlwID0gY3JlYXRlRGl2KCdrLXRvb2x0aXAgay1jaGFydC10b29sdGlwJyk7XG4gICAgICAgIGNvbnN0IHNjcm9sbCA9IHRoaXMuc2Nyb2xsID0gY3JlYXRlRGl2KCdrLXNjcm9sbCcpO1xuXG4gICAgICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gJyZuYnNwOyc7XG5cbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0b29sdGlwKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChzY3JvbGwpO1xuICAgIH1cblxuICAgIHNob3coZnJvbSwgdG8sIGJib3gpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBvcHRpb25zLCBzY3JvbGwsIHRvb2x0aXAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IHRvRGF0ZSh0b1RpbWUoZnJvbSkgKyB0b1RpbWUodG8gLSBmcm9tKSAvIDIpO1xuICAgICAgICBjb25zdCBzY3JvbGxXaWR0aCA9IGJib3gud2lkdGgoKSAqIDAuNDtcbiAgICAgICAgY29uc3QgbWluUG9zID0gYmJveC5jZW50ZXIoKS54IC0gc2Nyb2xsV2lkdGg7XG4gICAgICAgIGNvbnN0IG1heFBvcyA9IGJib3guY2VudGVyKCkueDtcbiAgICAgICAgY29uc3QgcG9zUmFuZ2UgPSBtYXhQb3MgLSBtaW5Qb3M7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gb3B0aW9ucy5tYXggLSBvcHRpb25zLm1pbjtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBwb3NSYW5nZSAvIHJhbmdlO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBtaWRkbGUgLSBvcHRpb25zLm1pbjtcbiAgICAgICAgbGV0IHRleHQgPSB0aGlzLmNoYXJ0U2VydmljZS5pbnRsLmZvcm1hdChvcHRpb25zLmZvcm1hdCwgZnJvbSwgdG8pO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGdldFRlbXBsYXRlKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2xlYXJIaWRlVGltZW91dCgpO1xuXG4gICAgICAgIGlmICghdGhpcy5fdmlzaWJsZSkge1xuICAgICAgICAgICAgZWxlbWVudFN0eWxlcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGV4dCA9IHRlbXBsYXRlKHtcbiAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgIHRvOiB0b1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0b29sdGlwLmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgIGVsZW1lbnRTdHlsZXModG9vbHRpcCwge1xuICAgICAgICAgICAgbGVmdDogYmJveC5jZW50ZXIoKS54IC0gdG9vbHRpcC5vZmZzZXRXaWR0aCAvIDIsXG4gICAgICAgICAgICB0b3A6IGJib3gueTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdG9vbHRpcFN0eWxlID0gZWxlbWVudFN0eWxlcyh0b29sdGlwLCBbICdtYXJnaW5Ub3AnLCAnYm9yZGVyVG9wV2lkdGgnLCAnaGVpZ2h0JyBdKTtcblxuICAgICAgICBlbGVtZW50U3R5bGVzKHNjcm9sbCwge1xuICAgICAgICAgICAgd2lkdGg6IHNjcm9sbFdpZHRoLFxuICAgICAgICAgICAgbGVmdDogbWluUG9zICsgb2Zmc2V0ICogc2NhbGUsXG4gICAgICAgICAgICB0b3A6IGJib3gueTEgKyB0b29sdGlwU3R5bGUubWFyZ2luVG9wICsgdG9vbHRpcFN0eWxlLmJvcmRlclRvcFdpZHRoICsgdG9vbHRpcFN0eWxlLmhlaWdodCAvIDJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudFN0eWxlcyhlbGVtZW50LCB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZSdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2xlYXJIaWRlVGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hpZGVUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hpZGVBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVBbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmNsZWFySGlkZVRpbWVvdXQoKTtcblxuICAgICAgICB0aGlzLl9oaWRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faGlkZUFuaW1hdGlvbiA9IG5ldyBGYWRlT3V0QW5pbWF0aW9uKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9oaWRlQW5pbWF0aW9uLnNldHVwKCk7XG4gICAgICAgICAgICB0aGlzLl9oaWRlQW5pbWF0aW9uLnBsYXkoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmhpZGVEZWxheSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5jbGVhckhpZGVUaW1lb3V0KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5jb250YWluZXI7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNoYXJ0U2VydmljZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZWxlbWVudDtcbiAgICAgICAgZGVsZXRlIHRoaXMudG9vbHRpcDtcbiAgICAgICAgZGVsZXRlIHRoaXMuc2Nyb2xsO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTmF2aWdhdG9ySGludCwge1xuICAgIGZvcm1hdDogXCJ7MDpkfSAtIHsxOmR9XCIsXG4gICAgaGlkZURlbGF5OiA1MDBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBOYXZpZ2F0b3JIaW50OyIsImNvbnN0IE5BVklHQVRPUl9QQU5FID0gXCJfbmF2aWdhdG9yXCI7XG5jb25zdCBOQVZJR0FUT1JfQVhJUyA9IE5BVklHQVRPUl9QQU5FO1xuXG5leHBvcnQgeyBOQVZJR0FUT1JfQVhJUywgTkFWSUdBVE9SX1BBTkUgfTsiLCJpbXBvcnQgTmF2aWdhdG9ySGludCBmcm9tICcuL25hdmlnYXRvci1oaW50JztcbmltcG9ydCB7IFNlbGVjdGlvbiwgZmlsdGVyU2VyaWVzQnlUeXBlIH0gZnJvbSAnLi4vY2hhcnQnO1xuaW1wb3J0IHsgRFJBRywgRFJBR19FTkQsIEVRVUFMTFlfU1BBQ0VEX1NFUklFUywgWk9PTSwgWk9PTV9FTkQgfSBmcm9tICcuLi9jaGFydC9jb25zdGFudHMnO1xuaW1wb3J0IHsgRGF0ZUNhdGVnb3J5QXhpcyB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHsgYWRkRHVyYXRpb24sIHBhcnNlRGF0ZSwgdG9EYXRlLCB0b1RpbWUgfSBmcm9tICcuLi9kYXRlLXV0aWxzJztcbmltcG9ydCB7IENsYXNzLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBnZXRUZW1wbGF0ZSwgSW5zdGFuY2VPYnNlcnZlciwgbGFzdCwgbGltaXRWYWx1ZSwgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgTkFWSUdBVE9SX0FYSVMsIE5BVklHQVRPUl9QQU5FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBaT09NX0FDQ0VMRVJBVElPTiA9IDM7XG5cbmNsYXNzIE5hdmlnYXRvciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgY2hhcnQub3B0aW9ucy5uYXZpZ2F0b3IpO1xuICAgICAgICBjb25zdCBzZWxlY3QgPSBvcHRpb25zLnNlbGVjdDtcbiAgICAgICAgaWYgKHNlbGVjdCkge1xuICAgICAgICAgICAgc2VsZWN0LmZyb20gPSB0aGlzLnBhcnNlRGF0ZShzZWxlY3QuZnJvbSk7XG4gICAgICAgICAgICBzZWxlY3QudG8gPSB0aGlzLnBhcnNlRGF0ZShzZWxlY3QudG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKG9wdGlvbnMuaGludC52aXNpYmxlKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5oaW50LnZpc2libGUgPSBvcHRpb25zLnZpc2libGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0T2JzZXJ2ZXIgPSBuZXcgSW5zdGFuY2VPYnNlcnZlcih0aGlzLCB7XG4gICAgICAgICAgICBbRFJBR106ICdfZHJhZycsXG4gICAgICAgICAgICBbRFJBR19FTkRdOiAnX2RyYWdFbmQnLFxuICAgICAgICAgICAgW1pPT01dOiAnX3pvb20nLFxuICAgICAgICAgICAgW1pPT01fRU5EXTogJ196b29tRW5kJ1xuICAgICAgICB9KTtcbiAgICAgICAgY2hhcnQuYWRkT2JzZXJ2ZXIodGhpcy5jaGFydE9ic2VydmVyKTtcbiAgICB9XG5cbiAgICBwYXJzZURhdGUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRGF0ZSh0aGlzLmNoYXJ0LmNoYXJ0U2VydmljZS5pbnRsLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY2xlYW4oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaGludCkge1xuICAgICAgICAgICAgdGhpcy5oaW50LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaGludCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xuICAgICAgICAgICAgdGhpcy5jaGFydC5yZW1vdmVPYnNlcnZlcih0aGlzLmNoYXJ0T2JzZXJ2ZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2hhcnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFuKCk7XG4gICAgfVxuXG4gICAgcmVkcmF3KCkge1xuICAgICAgICB0aGlzLl9yZWRyYXdTZWxmKCk7XG4gICAgICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xuICAgIH1cblxuICAgIGluaXRTZWxlY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcnQsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLm1haW5BeGlzKCk7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IGF4aXMucm91bmRlZFJhbmdlKCk7XG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8sIG1vdXNld2hlZWwgfSA9IG9wdGlvbnMuc2VsZWN0O1xuICAgICAgICBjb25zdCBheGlzQ2xvbmUgPSBjbG9uZShheGlzKTtcblxuICAgICAgICBpZiAoYXhpcy5jYXRlZ29yaWVzQ291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhbigpO1xuXG4gICAgICAgIC8vIFwiRnJlZXplXCIgdGhlIHNlbGVjdGlvbiBheGlzIHBvc2l0aW9uIHVudGlsIHRoZSBuZXh0IHJlZHJhd1xuICAgICAgICBheGlzQ2xvbmUuYm94ID0gYXhpcy5ib3g7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uKGNoYXJ0LCBheGlzQ2xvbmUsIHtcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgICAgICBmcm9tOiBmcm9tIHx8IG1pbixcbiAgICAgICAgICAgIHRvOiB0byB8fCBtYXgsXG4gICAgICAgICAgICBtb3VzZXdoZWVsOiB2YWx1ZU9yRGVmYXVsdChtb3VzZXdoZWVsLCB7IHpvb206IFwibGVmdFwiIH0pLFxuICAgICAgICAgICAgdmlzaWJsZTogb3B0aW9ucy52aXNpYmxlXG4gICAgICAgIH0sIG5ldyBJbnN0YW5jZU9ic2VydmVyKHRoaXMsIHtcbiAgICAgICAgICAgIHNlbGVjdFN0YXJ0OiAnX3NlbGVjdFN0YXJ0JyxcbiAgICAgICAgICAgIHNlbGVjdDogJ19zZWxlY3QnLFxuICAgICAgICAgICAgc2VsZWN0RW5kOiAnX3NlbGVjdEVuZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmhpbnQudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5oaW50ID0gbmV3IE5hdmlnYXRvckhpbnQoY2hhcnQuZWxlbWVudCwgY2hhcnQuY2hhcnRTZXJ2aWNlLCB7XG4gICAgICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IGdldFRlbXBsYXRlKG9wdGlvbnMuaGludCksXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBvcHRpb25zLmhpbnQuZm9ybWF0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFJhbmdlKCkge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuY2hhcnQuX2NyZWF0ZVBsb3RBcmVhKHRydWUpO1xuICAgICAgICBjb25zdCBheGlzID0gcGxvdEFyZWEubmFtZWRDYXRlZ29yeUF4ZXNbTkFWSUdBVE9SX0FYSVNdO1xuXG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IGF4aXMucm91bmRlZFJhbmdlKCk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gdGhpcy5vcHRpb25zLnNlbGVjdCB8fCB7fTtcbiAgICAgICAgbGV0IGZyb20gPSBzZWxlY3QuZnJvbSB8fCBtaW47XG4gICAgICAgIGlmIChmcm9tIDwgbWluKSB7XG4gICAgICAgICAgICBmcm9tID0gbWluO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRvID0gc2VsZWN0LnRvIHx8IG1heDtcbiAgICAgICAgaWYgKHRvID4gbWF4KSB7XG4gICAgICAgICAgICB0byA9IG1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3QgPSBkZWVwRXh0ZW5kKHt9LCBzZWxlY3QsIHtcbiAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICB0bzogdG9cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJBeGVzKCk7XG4gICAgfVxuXG4gICAgX3JlZHJhd1NlbGYoc2lsZW50KSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fcGxvdEFyZWE7XG5cbiAgICAgICAgaWYgKHBsb3RBcmVhKSB7XG4gICAgICAgICAgICBwbG90QXJlYS5yZWRyYXcobGFzdChwbG90QXJlYS5wYW5lcyksIHNpbGVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWRyYXdTbGF2ZXMoKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSBjaGFydC5fcGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IHNsYXZlUGFuZXMgPSBwbG90QXJlYS5wYW5lcy5zbGljZSgwLCAtMSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBvcmlnaW5hbCBzZXJpZXMgYW5kIGNhdGVnb3J5QXhpcyBiZWZvcmUgcGFydGlhbCByZWZyZXNoLlxuICAgICAgICBwbG90QXJlYS5zcmNTZXJpZXMgPSBjaGFydC5vcHRpb25zLnNlcmllcztcbiAgICAgICAgcGxvdEFyZWEub3B0aW9ucy5jYXRlZ29yeUF4aXMgPSBjaGFydC5vcHRpb25zLmNhdGVnb3J5QXhpcztcbiAgICAgICAgcGxvdEFyZWEuY2xlYXJTZXJpZXNQb2ludHNDYWNoZSgpO1xuXG4gICAgICAgIHBsb3RBcmVhLnJlZHJhdyhzbGF2ZVBhbmVzKTtcbiAgICB9XG5cbiAgICBfZHJhZyhlKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcnQsIHNlbGVjdGlvbiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY29vcmRzID0gY2hhcnQuX2V2ZW50Q29vcmRpbmF0ZXMoZS5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgY29uc3QgbmF2aWdhdG9yQXhpcyA9IHRoaXMubWFpbkF4aXMoKTtcbiAgICAgICAgY29uc3QgbmF2aVJhbmdlID0gbmF2aWdhdG9yQXhpcy5yb3VuZGVkUmFuZ2UoKTtcbiAgICAgICAgY29uc3QgaW5OYXZpZ2F0b3IgPSBuYXZpZ2F0b3JBeGlzLnBhbmUuYm94LmNvbnRhaW5zUG9pbnQoY29vcmRzKTtcbiAgICAgICAgY29uc3QgYXhpcyA9IGNoYXJ0Ll9wbG90QXJlYS5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZS5heGlzUmFuZ2VzW2F4aXMub3B0aW9ucy5uYW1lXTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gdGhpcy5vcHRpb25zLnNlbGVjdDtcbiAgICAgICAgbGV0IGR1cmF0aW9uO1xuXG4gICAgICAgIGlmICghcmFuZ2UgfHwgaW5OYXZpZ2F0b3IgfHwgIXNlbGVjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdC5mcm9tICYmIHNlbGVjdC50bykge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB0b1RpbWUoc2VsZWN0LnRvKSAtIHRvVGltZShzZWxlY3QuZnJvbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHRvVGltZShzZWxlY3Rpb24ub3B0aW9ucy50bykgLSB0b1RpbWUoc2VsZWN0aW9uLm9wdGlvbnMuZnJvbSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcm9tID0gdG9EYXRlKGxpbWl0VmFsdWUoXG4gICAgICAgICAgICB0b1RpbWUocmFuZ2UubWluKSxcbiAgICAgICAgICAgIG5hdmlSYW5nZS5taW4sIHRvVGltZShuYXZpUmFuZ2UubWF4KSAtIGR1cmF0aW9uXG4gICAgICAgICkpO1xuXG4gICAgICAgIGNvbnN0IHRvID0gdG9EYXRlKGxpbWl0VmFsdWUoXG4gICAgICAgICAgICB0b1RpbWUoZnJvbSkgKyBkdXJhdGlvbixcbiAgICAgICAgICAgIHRvVGltZShuYXZpUmFuZ2UubWluKSArIGR1cmF0aW9uLCBuYXZpUmFuZ2UubWF4XG4gICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3QgPSB7IGZyb206IGZyb20sIHRvOiB0byB9O1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGl2ZURyYWcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyQXhlcygpO1xuICAgICAgICAgICAgdGhpcy5yZWRyYXdTbGF2ZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGlvbi5zZXQoZnJvbSwgdG8pO1xuXG4gICAgICAgIHRoaXMuc2hvd0hpbnQoZnJvbSwgdG8pO1xuICAgIH1cblxuICAgIF9kcmFnRW5kKCkge1xuICAgICAgICB0aGlzLmZpbHRlckF4ZXMoKTtcbiAgICAgICAgdGhpcy5maWx0ZXIoKTtcbiAgICAgICAgdGhpcy5yZWRyYXdTbGF2ZXMoKTtcblxuICAgICAgICBpZiAodGhpcy5oaW50KSB7XG4gICAgICAgICAgICB0aGlzLmhpbnQuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVhZFNlbGVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3Rpb246IHsgb3B0aW9uczogeyBmcm9tLCB0byB9IH0sIG9wdGlvbnM6IHsgc2VsZWN0IH0gfSA9IHRoaXM7XG5cbiAgICAgICAgc2VsZWN0LmZyb20gPSBmcm9tO1xuICAgICAgICBzZWxlY3QudG8gPSB0bztcbiAgICB9XG5cbiAgICBmaWx0ZXJBeGVzKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgc2VsZWN0ID0geyB9IH0sIGNoYXJ0IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBhbGxBeGVzID0gY2hhcnQub3B0aW9ucy5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHNlbGVjdDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBhbGxBeGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBhbGxBeGVzW2lkeF07XG4gICAgICAgICAgICBpZiAoYXhpcy5wYW5lICE9PSBOQVZJR0FUT1JfUEFORSkge1xuICAgICAgICAgICAgICAgIGF4aXMubWluID0gZnJvbTtcbiAgICAgICAgICAgICAgICBheGlzLm1heCA9IHRvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmlsdGVyKCkge1xuICAgICAgICBjb25zdCB7IGNoYXJ0LCBvcHRpb25zOiB7IHNlbGVjdCB9IH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICghY2hhcnQucmVxdWlyZXNIYW5kbGVycyhbIFwibmF2aWdhdG9yRmlsdGVyXCIgXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1haW5BeGlzID0gdGhpcy5tYWluQXhpcygpO1xuICAgICAgICBjb25zdCBhcmdzID0ge1xuICAgICAgICAgICAgZnJvbTogc2VsZWN0LmZyb20sXG4gICAgICAgICAgICB0bzogc2VsZWN0LnRvXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1haW5BeGlzLm9wdGlvbnMudHlwZSAhPT0gJ2NhdGVnb3J5Jykge1xuICAgICAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSBuZXcgRGF0ZUNhdGVnb3J5QXhpcyhkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBiYXNlVW5pdDogXCJmaXRcIlxuICAgICAgICAgICAgfSwgY2hhcnQub3B0aW9ucy5jYXRlZ29yeUF4aXNbMF0sIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBbIHNlbGVjdC5mcm9tLCBzZWxlY3QudG8gXVxuICAgICAgICAgICAgfSksIGNoYXJ0LmNoYXJ0U2VydmljZSkub3B0aW9ucztcblxuICAgICAgICAgICAgYXJncy5mcm9tID0gYWRkRHVyYXRpb24oYXhpc09wdGlvbnMubWluLCAtYXhpc09wdGlvbnMuYmFzZVVuaXRTdGVwLCBheGlzT3B0aW9ucy5iYXNlVW5pdCk7XG4gICAgICAgICAgICBhcmdzLnRvID0gYWRkRHVyYXRpb24oYXhpc09wdGlvbnMubWF4LCBheGlzT3B0aW9ucy5iYXNlVW5pdFN0ZXAsIGF4aXNPcHRpb25zLmJhc2VVbml0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hhcnQudHJpZ2dlcihcIm5hdmlnYXRvckZpbHRlclwiLCBhcmdzKTtcbiAgICB9XG5cbiAgICBfem9vbShlKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcnQ6IHsgX3Bsb3RBcmVhOiB7IGNhdGVnb3J5QXhpczogYXhpcyB9IH0sIHNlbGVjdGlvbiwgb3B0aW9uczogeyBzZWxlY3QsIGxpdmVEcmFnIH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1haW5BeGlzID0gdGhpcy5tYWluQXhpcygpO1xuICAgICAgICBsZXQgZGVsdGEgPSBlLmRlbHRhO1xuXG4gICAgICAgIGlmICghc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcm9tSXggPSBtYWluQXhpcy5jYXRlZ29yeUluZGV4KHNlbGVjdGlvbi5vcHRpb25zLmZyb20pO1xuICAgICAgICBjb25zdCB0b0l4ID0gbWFpbkF4aXMuY2F0ZWdvcnlJbmRleChzZWxlY3Rpb24ub3B0aW9ucy50byk7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuY2hhcnQuX2V2ZW50Q29vcmRpbmF0ZXMoZS5vcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBlLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gMSkge1xuICAgICAgICAgICAgZGVsdGEgKj0gWk9PTV9BQ0NFTEVSQVRJT047XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9JeCAtIGZyb21JeCA+IDEpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbi56b29tKGRlbHRhLCBjb29yZHMpO1xuICAgICAgICAgICAgdGhpcy5yZWFkU2VsZWN0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBheGlzLm9wdGlvbnMubWluID0gc2VsZWN0LmZyb207XG4gICAgICAgICAgICBzZWxlY3QuZnJvbSA9IGF4aXMuc2NhbGVSYW5nZSgtZS5kZWx0YSAqIHRoaXMuY2hhcnQuX21vdXNld2hlZWxab29tUmF0ZSgpLCBjb29yZHMpLm1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXZlRHJhZykge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJBeGVzKCk7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd1NsYXZlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0aW9uLnNldChzZWxlY3QuZnJvbSwgc2VsZWN0LnRvKTtcblxuICAgICAgICB0aGlzLnNob3dIaW50KHRoaXMub3B0aW9ucy5zZWxlY3QuZnJvbSwgdGhpcy5vcHRpb25zLnNlbGVjdC50byk7XG4gICAgfVxuXG4gICAgX3pvb21FbmQoZSkge1xuICAgICAgICB0aGlzLl9kcmFnRW5kKGUpO1xuICAgIH1cblxuICAgIHNob3dIaW50KGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fcGxvdEFyZWE7XG5cbiAgICAgICAgaWYgKHRoaXMuaGludCkge1xuICAgICAgICAgICAgdGhpcy5oaW50LnNob3coZnJvbSwgdG8sIHBsb3RBcmVhLmJhY2tncm91bmRCb3goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2VsZWN0U3RhcnQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5fc2VsZWN0U3RhcnQoZSk7XG4gICAgfVxuXG4gICAgX3NlbGVjdChlKSB7XG4gICAgICAgIHRoaXMuc2hvd0hpbnQoZS5mcm9tLCBlLnRvKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5fc2VsZWN0KGUpO1xuICAgIH1cblxuICAgIF9zZWxlY3RFbmQoZSkge1xuICAgICAgICBpZiAodGhpcy5oaW50KSB7XG4gICAgICAgICAgICB0aGlzLmhpbnQuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWFkU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuZmlsdGVyQXhlcygpO1xuICAgICAgICB0aGlzLmZpbHRlcigpO1xuICAgICAgICB0aGlzLnJlZHJhd1NsYXZlcygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0Ll9zZWxlY3RFbmQoZSk7XG4gICAgfVxuXG4gICAgbWFpbkF4aXMoKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fcGxvdEFyZWE7XG5cbiAgICAgICAgaWYgKHBsb3RBcmVhKSB7XG4gICAgICAgICAgICByZXR1cm4gcGxvdEFyZWEubmFtZWRDYXRlZ29yeUF4ZXNbTkFWSUdBVE9SX0FYSVNdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0KGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IHRoaXMub3B0aW9ucy5zZWxlY3Q7XG5cbiAgICAgICAgaWYgKGZyb20gJiYgdG8pIHtcbiAgICAgICAgICAgIHNlbGVjdC5mcm9tID0gdGhpcy5wYXJzZURhdGUoZnJvbSk7XG4gICAgICAgICAgICBzZWxlY3QudG8gPSB0aGlzLnBhcnNlRGF0ZSh0byk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlsdGVyQXhlcygpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXIoKTtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3U2xhdmVzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldChmcm9tLCB0byk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogc2VsZWN0LmZyb20sXG4gICAgICAgICAgICB0bzogc2VsZWN0LnRvXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHNldHVwKG9wdGlvbnMgPSB7fSwgdGhlbWVPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuX19uYXZpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5fX25hdmkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IG5hdmlPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhlbWVPcHRpb25zLm5hdmlnYXRvciwgb3B0aW9ucy5uYXZpZ2F0b3IpO1xuICAgICAgICBjb25zdCBwYW5lcyA9IG9wdGlvbnMucGFuZXMgPSBbXS5jb25jYXQob3B0aW9ucy5wYW5lcyk7XG4gICAgICAgIGNvbnN0IHBhbmVPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgbmF2aU9wdGlvbnMucGFuZSwgeyBuYW1lOiBOQVZJR0FUT1JfUEFORSB9KTtcblxuICAgICAgICBpZiAoIW5hdmlPcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHBhbmVPcHRpb25zLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHBhbmVPcHRpb25zLmhlaWdodCA9IDAuMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhbmVzLnB1c2gocGFuZU9wdGlvbnMpO1xuXG4gICAgICAgIE5hdmlnYXRvci5hdHRhY2hBeGVzKG9wdGlvbnMsIG5hdmlPcHRpb25zKTtcbiAgICAgICAgTmF2aWdhdG9yLmF0dGFjaFNlcmllcyhvcHRpb25zLCBuYXZpT3B0aW9ucywgdGhlbWVPcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXR0YWNoQXhlcyhvcHRpb25zLCBuYXZpT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBuYXZpT3B0aW9ucy5zZXJpZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhlcyA9IG9wdGlvbnMuY2F0ZWdvcnlBeGlzID0gW10uY29uY2F0KG9wdGlvbnMuY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgY29uc3QgdmFsdWVBeGVzID0gb3B0aW9ucy52YWx1ZUF4aXMgPSBbXS5jb25jYXQob3B0aW9ucy52YWx1ZUF4aXMpO1xuXG4gICAgICAgIGNvbnN0IGVxdWFsbHlTcGFjZWRTZXJpZXMgPSBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBFUVVBTExZX1NQQUNFRF9TRVJJRVMpO1xuICAgICAgICBjb25zdCBqdXN0aWZ5QXhpcyA9IGVxdWFsbHlTcGFjZWRTZXJpZXMubGVuZ3RoID09PSAwO1xuXG4gICAgICAgIGNvbnN0IGJhc2UgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgcGFuZTogTkFWSUdBVE9SX1BBTkUsXG4gICAgICAgICAgICByb3VuZFRvQmFzZVVuaXQ6ICFqdXN0aWZ5QXhpcyxcbiAgICAgICAgICAgIGp1c3RpZmllZDoganVzdGlmeUF4aXMsXG4gICAgICAgICAgICBfY29sbGFwc2U6IGZhbHNlLFxuICAgICAgICAgICAgbWFqb3JUaWNrczogeyB2aXNpYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICB0b29sdGlwOiB7IHZpc2libGU6IGZhbHNlIH0sXG4gICAgICAgICAgICBsYWJlbHM6IHsgc3RlcDogMSB9LFxuICAgICAgICAgICAgYXV0b0JpbmQ6IG5hdmlPcHRpb25zLmF1dG9CaW5kRWxlbWVudHMsXG4gICAgICAgICAgICBhdXRvQmFzZVVuaXRTdGVwczoge1xuICAgICAgICAgICAgICAgIG1pbnV0ZXM6IFsgMSBdLFxuICAgICAgICAgICAgICAgIGhvdXJzOiBbIDEsIDIgXSxcbiAgICAgICAgICAgICAgICBkYXlzOiBbIDEsIDIgXSxcbiAgICAgICAgICAgICAgICB3ZWVrczogW10sXG4gICAgICAgICAgICAgICAgbW9udGhzOiBbIDEgXSxcbiAgICAgICAgICAgICAgICB5ZWFyczogWyAxIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuYXZpT3B0aW9ucy5jYXRlZ29yeUF4aXM7XG5cbiAgICAgICAgY2F0ZWdvcnlBeGVzLnB1c2goXG4gICAgICAgICAgICBkZWVwRXh0ZW5kKHt9LCBiYXNlLCB7XG4gICAgICAgICAgICAgICAgbWF4RGF0ZUdyb3VwczogMjAwXG4gICAgICAgICAgICB9LCB1c2VyLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogTkFWSUdBVE9SX0FYSVMsXG4gICAgICAgICAgICAgICAgdGl0bGU6IG51bGwsXG4gICAgICAgICAgICAgICAgYmFzZVVuaXQ6IFwiZml0XCIsXG4gICAgICAgICAgICAgICAgYmFzZVVuaXRTdGVwOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHsgdmlzaWJsZTogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICBtYWpvclRpY2tzOiB7IHZpc2libGU6IGZhbHNlIH1cbiAgICAgICAgICAgIH0pLCBkZWVwRXh0ZW5kKHt9LCBiYXNlLCB1c2VyLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogTkFWSUdBVE9SX0FYSVMgKyBcIl9sYWJlbHNcIixcbiAgICAgICAgICAgICAgICBtYXhEYXRlR3JvdXBzOiAyMCxcbiAgICAgICAgICAgICAgICBiYXNlVW5pdFN0ZXA6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGxhYmVsczogeyBwb3NpdGlvbjogXCJcIiB9LFxuICAgICAgICAgICAgICAgIHBsb3RCYW5kczogW10sXG4gICAgICAgICAgICAgICAgYXV0b0Jhc2VVbml0U3RlcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWludXRlczogW11cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9vdmVybGFwOiB0cnVlXG4gICAgICAgICAgICB9KSwgZGVlcEV4dGVuZCh7fSwgYmFzZSwgdXNlciwge1xuICAgICAgICAgICAgICAgIG5hbWU6IE5BVklHQVRPUl9BWElTICsgXCJfdGlja3NcIixcbiAgICAgICAgICAgICAgICBtYXhEYXRlR3JvdXBzOiAyMDAsXG4gICAgICAgICAgICAgICAgbWFqb3JUaWNrczoge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMC41XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwbG90QmFuZHM6IFtdLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhYmVsczogeyB2aXNpYmxlOiBmYWxzZSwgbWlycm9yOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgX292ZXJsYXA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFsdWVBeGVzLnB1c2goZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICBuYW1lOiBOQVZJR0FUT1JfQVhJUyxcbiAgICAgICAgICAgIHBhbmU6IE5BVklHQVRPUl9QQU5FLFxuICAgICAgICAgICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgIH0sIG5hdmlPcHRpb25zLnZhbHVlQXhpcykpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhdHRhY2hTZXJpZXMob3B0aW9ucywgbmF2aU9wdGlvbnMsIHRoZW1lT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcyA9IG9wdGlvbnMuc2VyaWVzIHx8IFtdO1xuICAgICAgICBjb25zdCBuYXZpZ2F0b3JTZXJpZXMgPSBbXS5jb25jYXQobmF2aU9wdGlvbnMuc2VyaWVzIHx8IFtdKTtcbiAgICAgICAgY29uc3Qgc2VyaWVzQ29sb3JzID0gdGhlbWVPcHRpb25zLnNlcmllc0NvbG9ycztcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBuYXZpT3B0aW9ucy5zZXJpZXNEZWZhdWx0cztcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBuYXZpZ2F0b3JTZXJpZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgc2VyaWVzLnB1c2goXG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzZXJpZXNDb2xvcnNbaWR4ICUgc2VyaWVzQ29sb3JzLmxlbmd0aF0sXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmllbGQ6IG5hdmlPcHRpb25zLmRhdGVGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUluTGVnZW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGRlZmF1bHRzLCBuYXZpZ2F0b3JTZXJpZXNbaWR4XSwge1xuICAgICAgICAgICAgICAgICAgICBheGlzOiBOQVZJR0FUT1JfQVhJUyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzOiBOQVZJR0FUT1JfQVhJUyxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0JpbmQ6IG5hdmlPcHRpb25zLmF1dG9CaW5kRWxlbWVudHNcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gQ2xvbmVkT2JqZWN0KCkgeyB9XG5mdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgICBDbG9uZWRPYmplY3QucHJvdG90eXBlID0gb2JqO1xuICAgIHJldHVybiBuZXcgQ2xvbmVkT2JqZWN0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdmlnYXRvcjtcbiIsImltcG9ydCB7IENoYXJ0IH0gZnJvbSAnLi4vY2hhcnQnO1xuXG5pbXBvcnQgTmF2aWdhdG9yIGZyb20gJy4vbmF2aWdhdG9yJztcbmltcG9ydCB7IERFRkFVTFRfV0lEVEggfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFkZENsYXNzLCBkZWVwRXh0ZW5kLCBlbGVtZW50U2l6ZSwgZ3JlcCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgTkFWSUdBVE9SX0FYSVMsIE5BVklHQVRPUl9QQU5FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBBVVRPX0NBVEVHT1JZX1dJRFRIID0gMjg7XG5cbmNsYXNzIFN0b2NrQ2hhcnQgZXh0ZW5kcyBDaGFydCB7XG5cbiAgICBhcHBseURlZmF1bHRzKG9wdGlvbnMsIHRoZW1lT3B0aW9ucykge1xuICAgICAgICBjb25zdCB3aWR0aCA9IGVsZW1lbnRTaXplKHRoaXMuZWxlbWVudCkud2lkdGggfHwgREVGQVVMVF9XSURUSDtcbiAgICAgICAgbGV0IHRoZW1lID0gdGhlbWVPcHRpb25zO1xuXG4gICAgICAgIGNvbnN0IHN0b2NrRGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5RmllbGQ6IG9wdGlvbnMuZGF0ZUZpZWxkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXhpc0RlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiAyXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1ham9yVGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1heERhdGVHcm91cHM6IE1hdGguZmxvb3Iod2lkdGggLyBBVVRPX0NBVEVHT1JZX1dJRFRIKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgICAgIHRoZW1lID0gZGVlcEV4dGVuZCh7fSwgdGhlbWUsIHN0b2NrRGVmYXVsdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgTmF2aWdhdG9yLnNldHVwKG9wdGlvbnMsIHRoZW1lKTtcblxuICAgICAgICBzdXBlci5hcHBseURlZmF1bHRzKG9wdGlvbnMsIHRoZW1lKTtcbiAgICB9XG5cbiAgICBfc2V0RWxlbWVudENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgJ2stY2hhcnQgay1zdG9ja2NoYXJ0Jyk7XG4gICAgfVxuXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveU5hdmlnYXRvcigpO1xuICAgICAgICBzdXBlci5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIG5vVHJhbnNpdGlvbnNSZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25zID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25zO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9mdWxsUmVkcmF3KCk7XG4gICAgICAgIHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyA9IHRyYW5zaXRpb25zO1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIHRoaXMubm9UcmFuc2l0aW9uc1JlZHJhdygpO1xuICAgIH1cblxuICAgIF9yZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IG5hdmlnYXRvciA9IHRoaXMubmF2aWdhdG9yO1xuXG4gICAgICAgIGlmICghdGhpcy5fZGlydHkoKSAmJiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLm9wdGlvbnMucGFydGlhbFJlZHJhdykge1xuICAgICAgICAgICAgbmF2aWdhdG9yLnJlZHJhd1NsYXZlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFJlZHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2RpcnR5KCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBbXS5jb25jYXQob3B0aW9ucy5zZXJpZXMsIG9wdGlvbnMubmF2aWdhdG9yLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IHNlcmllc0NvdW50ID0gZ3JlcChzZXJpZXMsIGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHMgJiYgcy52aXNpYmxlOyB9KS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5fc2VyaWVzQ291bnQgIT09IHNlcmllc0NvdW50O1xuICAgICAgICB0aGlzLl9zZXJpZXNDb3VudCA9IHNlcmllc0NvdW50O1xuXG4gICAgICAgIHJldHVybiBkaXJ0eTtcbiAgICB9XG5cbiAgICBfZnVsbFJlZHJhdygpIHtcbiAgICAgICAgbGV0IG5hdmlnYXRvciA9IHRoaXMubmF2aWdhdG9yO1xuXG4gICAgICAgIGlmICghbmF2aWdhdG9yKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3IgPSB0aGlzLm5hdmlnYXRvciA9IG5ldyBOYXZpZ2F0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJuYXZpZ2F0b3JDcmVhdGVkXCIsIHsgbmF2aWdhdG9yOiBuYXZpZ2F0b3IgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBuYXZpZ2F0b3IuY2xlYW4oKTtcbiAgICAgICAgbmF2aWdhdG9yLnNldFJhbmdlKCk7XG5cbiAgICAgICAgc3VwZXIuX3JlZHJhdygpO1xuXG4gICAgICAgIG5hdmlnYXRvci5pbml0U2VsZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgX3RyYWNrU2hhcmVkVG9vbHRpcChjb29yZHMpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLl9wbG90QXJlYTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHBsb3RBcmVhLnBhbmVCeVBvaW50KGNvb3Jkcyk7XG5cbiAgICAgICAgaWYgKHBhbmUgJiYgcGFuZS5vcHRpb25zLm5hbWUgPT09IE5BVklHQVRPUl9QQU5FKSB7XG4gICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdXBlci5fdHJhY2tTaGFyZWRUb29sdGlwKGNvb3Jkcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgc3VwZXIuYmluZENhdGVnb3JpZXMoKTtcbiAgICAgICAgdGhpcy5jb3B5TmF2aWdhdG9yQ2F0ZWdvcmllcygpO1xuICAgIH1cblxuICAgIGNvcHlOYXZpZ2F0b3JDYXRlZ29yaWVzKCkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IFtdLmNvbmNhdCh0aGlzLm9wdGlvbnMuY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgbGV0IGNhdGVnb3JpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgYXhpc0l4ID0gMDsgYXhpc0l4IDwgZGVmaW5pdGlvbnMubGVuZ3RoOyBheGlzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGRlZmluaXRpb25zW2F4aXNJeF07XG4gICAgICAgICAgICBpZiAoYXhpcy5uYW1lID09PSBOQVZJR0FUT1JfQVhJUykge1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBheGlzLmNhdGVnb3JpZXM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3JpZXMgJiYgYXhpcy5wYW5lID09PSBOQVZJR0FUT1JfUEFORSkge1xuICAgICAgICAgICAgICAgIGF4aXMuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95TmF2aWdhdG9yKCkge1xuICAgICAgICBpZiAodGhpcy5uYXZpZ2F0b3IpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveU5hdmlnYXRvcigpO1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgX3N0b3BDaGFydEhhbmRsZXJzKGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHRoaXMuX3Bsb3RBcmVhLnBhbmVCeVBvaW50KGNvb3Jkcyk7XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLl9zdG9wQ2hhcnRIYW5kbGVycyhlKSB8fCAocGFuZSAmJiBwYW5lLm9wdGlvbnMubmFtZSA9PT0gTkFWSUdBVE9SX1BBTkUpO1xuICAgIH1cblxuICAgIF90b2dnbGVEcmFnWm9vbUV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kcmFnWm9vbUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50b3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmFnWm9vbUVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTdG9ja0NoYXJ0LCB7XG4gICAgZGF0ZUZpZWxkOiBcImRhdGVcIixcbiAgICBheGlzRGVmYXVsdHM6IHtcbiAgICAgICAgY2F0ZWdvcnlBeGlzOiB7XG4gICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgIGJhc2VVbml0OiBcImZpdFwiLFxuICAgICAgICAgICAganVzdGlmaWVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlQXhpczoge1xuICAgICAgICAgICAgbmFycm93UmFuZ2U6IHRydWUsXG4gICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiQ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5hdmlnYXRvcjoge1xuICAgICAgICBzZWxlY3Q6IHt9LFxuICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaGludDoge30sXG4gICAgICAgIHZpc2libGU6IHRydWVcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgbGVnZW5kOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0b2NrQ2hhcnQ7IiwiY29uc3QgQU5HVUxBUl9TUEVFRCA9IDE1MDtcbmNvbnN0IExJTkVBUl9TUEVFRCA9IDI1MDtcbmNvbnN0IEFSUk9XID0gXCJhcnJvd1wiO1xuY29uc3QgQVJST1dfUE9JTlRFUiA9IFwiYXJyb3dQb2ludGVyXCI7XG5jb25zdCBCQVJfUE9JTlRFUiA9IFwiYmFyUG9pbnRlclwiO1xuY29uc3QgREVGQVVMVF9IRUlHSFQgPSAyMDA7XG5jb25zdCBERUZBVUxUX0xJTkVfV0lEVEggPSAwLjU7XG5jb25zdCBERUZBVUxUX1dJRFRIID0gMjAwO1xuY29uc3QgREVHUkVFID0gTWF0aC5QSSAvIDE4MDtcbmNvbnN0IElOU0lERSA9IFwiaW5zaWRlXCI7XG5jb25zdCBMSU5FQVIgPSBcImxpbmVhclwiO1xuY29uc3QgT1VUU0lERSA9IFwib3V0c2lkZVwiO1xuY29uc3QgUkFESUFMX1BPSU5URVIgPSBcInJhZGlhbFBvaW50ZXJcIjtcbmNvbnN0IFJBRElBTF9SQU5HRV9QT0lOVEVSID0gXCJyYWRpYWxSYW5nZVBvaW50ZXJcIjtcblxuZXhwb3J0IHtcbiAgICBBTkdVTEFSX1NQRUVELCBMSU5FQVJfU1BFRUQsIEFSUk9XLCBBUlJPV19QT0lOVEVSLCBCQVJfUE9JTlRFUixcbiAgICBERUZBVUxUX0hFSUdIVCwgREVGQVVMVF9MSU5FX1dJRFRILCBERUZBVUxUX1dJRFRILFxuICAgIERFR1JFRSwgSU5TSURFLCBMSU5FQVIsIE9VVFNJREUsIFJBRElBTF9QT0lOVEVSLCBSQURJQUxfUkFOR0VfUE9JTlRFUlxufTsiLCJpbXBvcnQgeyBnZXRTcGFjaW5nIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFkKGJib3gsIHZhbHVlKSB7XG4gICAgY29uc3Qgb3JpZ2luID0gYmJveC5nZXRPcmlnaW4oKTtcbiAgICBjb25zdCBzaXplID0gYmJveC5nZXRTaXplKCk7XG4gICAgY29uc3Qgc3BhY2luZyA9IGdldFNwYWNpbmcodmFsdWUpO1xuXG4gICAgYmJveC5zZXRPcmlnaW4oWyBvcmlnaW4ueCAtIHNwYWNpbmcubGVmdCwgb3JpZ2luLnkgLSBzcGFjaW5nLnRvcCBdKTtcbiAgICBiYm94LnNldFNpemUoWyBzaXplLndpZHRoICsgKHNwYWNpbmcubGVmdCArIHNwYWNpbmcucmlnaHQpLCBzaXplLmhlaWdodCArIChzcGFjaW5nLnRvcCArIHNwYWNpbmcuYm90dG9tKSBdKTtcblxuICAgIHJldHVybiBiYm94O1xufSIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCBwYWQgZnJvbSAnLi9wYWQnO1xuXG5jb25zdCB7IEdyb3VwLCBQYXRoLCBUZXh0IH0gPSBkcmF3aW5nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZExhYmVsRWxlbWVudChsYWJlbCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGxhYmVsQm94ID0gbGFiZWwuYm94O1xuICAgIGNvbnN0IHRleHRCb3ggPSBsYWJlbC5jaGlsZHJlblswXS5ib3g7XG4gICAgY29uc3QgYm9yZGVyID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG4gICAgY29uc3QgYmFja2dyb3VuZCA9IG9wdGlvbnMuYmFja2dyb3VuZCB8fCBcIlwiO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9IFBhdGguZnJvbVJlY3QobmV3IGdlby5SZWN0KFsgbGFiZWxCb3gueDEsIGxhYmVsQm94LnkxIF0sIFsgbGFiZWxCb3gud2lkdGgoKSwgbGFiZWxCb3guaGVpZ2h0KCkgXSksIHtcbiAgICAgICAgc3Ryb2tlOiB7fVxuICAgIH0pO1xuXG4gICAgY29uc3QgdGV4dCA9IG5ldyBUZXh0KGxhYmVsLnRleHQsIG5ldyBnZW8uUG9pbnQodGV4dEJveC54MSwgdGV4dEJveC55MSksIHtcbiAgICAgICAgZm9udDogb3B0aW9ucy5mb250LFxuICAgICAgICBmaWxsOiB7IGNvbG9yOiBvcHRpb25zLmNvbG9yIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN0eWxlR2VvbWV0cnkgPSBwYWQodGV4dC5iYm94KCkuY2xvbmUoKSwgb3B0aW9ucy5wYWRkaW5nKTtcblxuICAgIGNvbnN0IHN0eWxlQm94ID0gUGF0aC5mcm9tUmVjdChzdHlsZUdlb21ldHJ5LCB7XG4gICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgY29sb3I6IGJvcmRlci53aWR0aCA/IGJvcmRlci5jb2xvciA6IFwiXCIsXG4gICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgb3BhY2l0eTogYm9yZGVyLm9wYWNpdHksXG4gICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlLFxuICAgICAgICAgICAgbGluZUpvaW46IFwicm91bmRcIixcbiAgICAgICAgICAgIGxpbmVDYXA6IFwicm91bmRcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICBjb2xvcjogYmFja2dyb3VuZFxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBlbGVtZW50cyA9IG5ldyBHcm91cCgpO1xuICAgIGVsZW1lbnRzLmFwcGVuZCh3cmFwcGVyKTtcbiAgICBlbGVtZW50cy5hcHBlbmQoc3R5bGVCb3gpO1xuICAgIGVsZW1lbnRzLmFwcGVuZCh0ZXh0KTtcblxuICAgIHJldHVybiBlbGVtZW50cztcbn0iLCJpbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IE1JTl9WQUxVRSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFJhbmdlKHJhbmdlLCBtaW4sIG1heCkge1xuICAgIGNvbnN0IGZyb20gPSBkZWZpbmVkKHJhbmdlLmZyb20pID8gcmFuZ2UuZnJvbSA6IE1JTl9WQUxVRTtcbiAgICBjb25zdCB0byA9IGRlZmluZWQocmFuZ2UudG8pID8gcmFuZ2UudG8gOiBNQVhfVkFMVUU7XG5cbiAgICByYW5nZS5mcm9tID0gTWF0aC5tYXgoTWF0aC5taW4odG8sIGZyb20pLCBtaW4pO1xuICAgIHJhbmdlLnRvID0gTWF0aC5taW4oTWF0aC5tYXgodG8sIGZyb20pLCBtYXgpO1xuXG4gICAgcmV0dXJuIHJhbmdlO1xufSIsImltcG9ydCB7IGdldFNwYWNpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHBhZCBmcm9tICcuL3BhZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVucGFkKGJib3gsIHZhbHVlKSB7XG4gICAgY29uc3Qgc3BhY2luZyA9IGdldFNwYWNpbmcodmFsdWUpO1xuXG4gICAgc3BhY2luZy5sZWZ0ID0gLXNwYWNpbmcubGVmdDsgc3BhY2luZy50b3AgPSAtc3BhY2luZy50b3A7XG4gICAgc3BhY2luZy5yaWdodCA9IC1zcGFjaW5nLnJpZ2h0OyBzcGFjaW5nLmJvdHRvbSA9IC1zcGFjaW5nLmJvdHRvbTtcblxuICAgIHJldHVybiBwYWQoYmJveCwgc3BhY2luZyk7XG59IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvLCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgQ2xhc3MsIGVsZW1lbnRTaXplLCBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgaXNBcnJheSwgaXNOdW1iZXIgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgREVGQVVMVF9XSURUSCwgREVGQVVMVF9IRUlHSFQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDaGFydFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcyc7XG5pbXBvcnQgeyB1bnBhZCB9IGZyb20gJy4vdXRpbHMnO1xuXG5jb25zdCBERUZBVUxUX01BUkdJTiA9IDU7XG5jb25zdCB7IFBhdGgsIFN1cmZhY2UgfSA9IGRyYXdpbmc7XG5cbmNsYXNzIEdhdWdlIGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgdXNlck9wdGlvbnMsIHRoZW1lLCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWU7XG4gICAgICAgIHRoaXMuY29udGV4dFNlcnZpY2UgPSBuZXcgQ2hhcnRTZXJ2aWNlKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHVzZXJPcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5fb3JpZ2luYWxPcHRpb25zKTtcbiAgICAgICAgdGhpcy5faW5pdFRoZW1lKHRoZW1lKTtcblxuICAgICAgICB0aGlzLnJlZHJhdygpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnN1cmZhY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuZWxlbWVudDtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3VyZmFjZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgdmFsdWUocG9pbnRlclZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSB0aGlzLnBvaW50ZXJzWzBdO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnRlci52YWx1ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnRlci52YWx1ZShwb2ludGVyVmFsdWUpO1xuICAgICAgICB0aGlzLl9zZXRWYWx1ZU9wdGlvbnMocG9pbnRlclZhbHVlKTtcbiAgICB9XG5cbiAgICBfZHJhdygpIHtcbiAgICAgICAgY29uc3Qgc3VyZmFjZSA9IHRoaXMuc3VyZmFjZTtcblxuICAgICAgICBzdXJmYWNlLmNsZWFyKCk7XG4gICAgICAgIHN1cmZhY2UuZHJhdyh0aGlzLl92aXN1YWxzKTtcbiAgICB9XG5cbiAgICBleHBvcnRWaXN1YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aXN1YWxzO1xuICAgIH1cblxuICAgIGFsbFZhbHVlcyh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBbXTtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGFsbFZhbHVlcy5wdXNoKHBvaW50ZXJzW2ldLnZhbHVlKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWxsVmFsdWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWVzW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICBwb2ludGVyc1tpXS52YWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldFZhbHVlT3B0aW9ucyh2YWx1ZXMpO1xuICAgIH1cblxuICAgIF9zZXRWYWx1ZU9wdGlvbnModmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gW10uY29uY2F0KHRoaXMub3B0aW9ucy5wb2ludGVyKTtcbiAgICAgICAgY29uc3QgYXJyYXlWYWx1ZXMgPSBbXS5jb25jYXQodmFsdWVzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5VmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludGVyc1tpXS52YWx1ZSA9IGFycmF5VmFsdWVzW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzaXplKCkge1xuICAgICAgICB0aGlzLm5vVHJhbnNpdGlvbnNSZWRyYXcoKTtcbiAgICB9XG5cbiAgICBub1RyYW5zaXRpb25zUmVkcmF3KCkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9ucyA9IHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucztcblxuICAgICAgICB0aGlzLl90b2dnbGVUcmFuc2l0aW9ucyhmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5yZWRyYXcoKTtcblxuICAgICAgICB0aGlzLl90b2dnbGVUcmFuc2l0aW9ucyh0cmFuc2l0aW9ucyk7XG4gICAgfVxuXG4gICAgcmVkcmF3KCkge1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5fc3VyZmFjZVNpemUoKTtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IG5ldyBnZW8uUmVjdChbIDAsIDAgXSwgWyBzaXplLndpZHRoLCBzaXplLmhlaWdodCBdKTtcblxuICAgICAgICB0aGlzLl9pbml0U3VyZmFjZSgpO1xuXG4gICAgICAgIHRoaXMuZ2F1Z2VBcmVhID0gdGhpcy5fY3JlYXRlR2F1Z2VBcmVhKCk7XG5cbiAgICAgICAgdGhpcy5fY3JlYXRlTW9kZWwoKTtcblxuICAgICAgICBjb25zdCBiYm94ID0gdW5wYWQod3JhcHBlci5iYm94KCksIHRoaXMuX2dhdWdlQXJlYU1hcmdpbik7XG4gICAgICAgIHRoaXMucmVmbG93KGJib3gpO1xuICAgIH1cblxuICAgIHNldE9wdGlvbnMob3B0aW9ucywgdGhlbWUpIHtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxPcHRpb25zID0gZGVlcEV4dGVuZCh0aGlzLl9vcmlnaW5hbE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLl9vcmlnaW5hbE9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2luaXRUaGVtZSh0aGVtZSk7XG5cbiAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICB9XG5cbiAgICBzZXREaXJlY3Rpb24ocnRsKSB7XG4gICAgICAgIHRoaXMuY29udGV4dFNlcnZpY2UucnRsID0gQm9vbGVhbihydGwpO1xuICAgICAgICBpZiAodGhpcy5zdXJmYWNlICYmIHRoaXMuc3VyZmFjZS50eXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJbnRsU2VydmljZShpbnRsKSB7XG4gICAgICAgIHRoaXMuY29udGV4dFNlcnZpY2UuaW50bCA9IGludGw7XG4gICAgfVxuXG4gICAgX2luaXRUaGVtZSh0aGVtZSkge1xuICAgICAgICBsZXQgY3VycmVudFRoZW1lID0gdGhlbWUgfHwgdGhpcy50aGVtZSB8fCB7fTtcbiAgICAgICAgdGhpcy50aGVtZSA9IGN1cnJlbnRUaGVtZTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBjdXJyZW50VGhlbWUsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBvcHRpb25zLnBvaW50ZXI7XG5cbiAgICAgICAgaWYgKGlzQXJyYXkocG9pbnRlcikpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ZXJzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwb2ludGVycy5wdXNoKGRlZXBFeHRlbmQoe30sIGN1cnJlbnRUaGVtZS5wb2ludGVyLCBwb2ludGVyW2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLnBvaW50ZXIgPSBwb2ludGVycztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVHYXVnZUFyZWEoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuZ2F1Z2VBcmVhO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zdXJmYWNlLnNpemUoKTtcbiAgICAgICAgY29uc3QgYm9yZGVyID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG4gICAgICAgIGxldCBhcmVhR2VvbWV0cnkgPSBuZXcgZ2VvLlJlY3QoWyAwLCAwIF0sIFsgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQgXSk7XG5cbiAgICAgICAgdGhpcy5fZ2F1Z2VBcmVhTWFyZ2luID0gb3B0aW9ucy5tYXJnaW4gfHwgREVGQVVMVF9NQVJHSU47XG5cbiAgICAgICAgaWYgKGJvcmRlci53aWR0aCA+IDApIHtcbiAgICAgICAgICAgIGFyZWFHZW9tZXRyeSA9IHVucGFkKGFyZWFHZW9tZXRyeSwgYm9yZGVyLndpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdhdWdlQXJlYSA9IFBhdGguZnJvbVJlY3QoYXJlYUdlb21ldHJ5LCB7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyLndpZHRoID8gYm9yZGVyLmNvbG9yIDogXCJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGUsXG4gICAgICAgICAgICAgICAgbGluZUpvaW46IFwicm91bmRcIixcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiBcInJvdW5kXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuYmFja2dyb3VuZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZ2F1Z2VBcmVhO1xuICAgIH1cblxuICAgIF9pbml0U3VyZmFjZSgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBzdXJmYWNlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fc3VyZmFjZUVsZW1lbnQoKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX3N1cmZhY2VTaXplKCk7XG5cbiAgICAgICAgZWxlbWVudFNpemUoZWxlbWVudCwgc2l6ZSk7XG5cbiAgICAgICAgaWYgKCFzdXJmYWNlIHx8IHN1cmZhY2Uub3B0aW9ucy50eXBlICE9PSBvcHRpb25zLnJlbmRlckFzKSB7XG4gICAgICAgICAgICBpZiAoc3VyZmFjZSkge1xuICAgICAgICAgICAgICAgIHN1cmZhY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UgPSBTdXJmYWNlLmNyZWF0ZShlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogb3B0aW9ucy5yZW5kZXJBc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXNpemUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdXJmYWNlU2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldFNpemUoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5nYXVnZUFyZWEpIHtcbiAgICAgICAgICAgIGRlZXBFeHRlbmQoc2l6ZSwgb3B0aW9ucy5nYXVnZUFyZWEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgX3N1cmZhY2VFbGVtZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3VyZmFjZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnN1cmZhY2VFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnN1cmZhY2VFbGVtZW50O1xuICAgIH1cblxuICAgIGdldFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRTaXplKCk7XG4gICAgfVxuXG4gICAgX2dldFNpemUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTaXplID0gdGhpcy5fZGVmYXVsdFNpemUoKTtcbiAgICAgICAgbGV0IHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgbGV0IGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIGlmICghd2lkdGgpIHtcbiAgICAgICAgICAgIHdpZHRoID0gZGVmYXVsdFNpemUud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhlaWdodCkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gZGVmYXVsdFNpemUuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH1cblxuICAgIF9kZWZhdWx0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBERUZBVUxUX1dJRFRILFxuICAgICAgICAgICAgaGVpZ2h0OiBERUZBVUxUX0hFSUdIVFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF90b2dnbGVUcmFuc2l0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJzW2ldLm9wdGlvbnMuYW5pbWF0aW9uLnRyYW5zaXRpb25zID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEdhdWdlLCB7XG4gICAgcGxvdEFyZWE6IHt9LFxuICAgIHRoZW1lOiBcImRlZmF1bHRcIixcbiAgICByZW5kZXJBczogXCJcIixcbiAgICBwb2ludGVyOiB7fSxcbiAgICBzY2FsZToge30sXG4gICAgZ2F1Z2VBcmVhOiB7fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEdhdWdlOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEJMQUNLIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBOdW1lcmljQXhpcyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgREVGQVVMVF9MSU5FX1dJRFRILCBJTlNJREUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXV0b01ham9yVW5pdCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgYnVpbGRMYWJlbEVsZW1lbnQsIGdldFJhbmdlIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5jb25zdCB7IFBhdGgsIEdyb3VwIH0gPSBkcmF3aW5nO1xuY29uc3QgUG9pbnQgPSBnZW8uUG9pbnQ7XG5cbmZ1bmN0aW9uIHJlbmRlckF4aXNUaWNrKHRpY2tSZW5kZXJPcHRpb25zLCB0aWNrT3B0aW9ucykge1xuICAgIGNvbnN0IHsgcG9zaXRpb24sIHRpY2tYLCB0aWNrWSB9ID0gdGlja1JlbmRlck9wdGlvbnM7XG4gICAgbGV0IHN0YXJ0LCBlbmQ7XG5cbiAgICBpZiAodGlja1JlbmRlck9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgc3RhcnQgPSBuZXcgUG9pbnQodGlja1gsIHBvc2l0aW9uKTtcbiAgICAgICAgZW5kID0gbmV3IFBvaW50KHRpY2tYICsgdGlja09wdGlvbnMuc2l6ZSwgcG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gbmV3IFBvaW50KHBvc2l0aW9uLCB0aWNrWSk7XG4gICAgICAgIGVuZCA9IG5ldyBQb2ludChwb3NpdGlvbiwgdGlja1kgKyB0aWNrT3B0aW9ucy5zaXplKTtcbiAgICB9XG5cbiAgICBjb25zdCB0aWNrUGF0aCA9IG5ldyBQYXRoKHtcbiAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICBjb2xvcjogdGlja09wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICB3aWR0aDogdGlja09wdGlvbnMud2lkdGhcbiAgICAgICAgfVxuICAgIH0pLm1vdmVUbyhzdGFydCkubGluZVRvKGVuZCk7XG5cbiAgICByZXR1cm4gdGlja1BhdGg7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRpY2tzKHRpY2tHcm91cCwgdGlja1Bvc2l0aW9ucywgdGlja1JlbmRlck9wdGlvbnMsIHRpY2tPcHRpb25zKSB7XG4gICAgY29uc3QgY291bnQgPSB0aWNrUG9zaXRpb25zLmxlbmd0aDtcblxuICAgIGlmICh0aWNrT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgIGNvbnN0IHsgbWlycm9yLCBsaW5lQm94IH0gPSB0aWNrUmVuZGVyT3B0aW9ucztcbiAgICAgICAgZm9yIChsZXQgaSA9IHRpY2tPcHRpb25zLnNraXA7IGkgPCBjb3VudDsgaSArPSB0aWNrT3B0aW9ucy5zdGVwKSB7XG4gICAgICAgICAgICBpZiAoaSAlIHRpY2tPcHRpb25zLnNraXBVbml0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpY2tSZW5kZXJPcHRpb25zLnRpY2tYID0gbWlycm9yID8gbGluZUJveC54MiA6IGxpbmVCb3gueDIgLSB0aWNrT3B0aW9ucy5zaXplO1xuICAgICAgICAgICAgdGlja1JlbmRlck9wdGlvbnMudGlja1kgPSBtaXJyb3IgPyBsaW5lQm94LnkxIC0gdGlja09wdGlvbnMuc2l6ZSA6IGxpbmVCb3gueTE7XG4gICAgICAgICAgICB0aWNrUmVuZGVyT3B0aW9ucy5wb3NpdGlvbiA9IHRpY2tQb3NpdGlvbnNbaV07XG5cbiAgICAgICAgICAgIHRpY2tHcm91cC5hcHBlbmQocmVuZGVyQXhpc1RpY2sodGlja1JlbmRlck9wdGlvbnMsIHRpY2tPcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIExpbmVhclNjYWxlIGV4dGVuZHMgTnVtZXJpY0F4aXMge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHNlcnZpY2UpIHtcbiAgICAgICAgbGV0IHNjYWxlT3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmICghZGVmaW5lZChzY2FsZU9wdGlvbnMucmV2ZXJzZSkgJiYgc2NhbGVPcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSAmJiAoc2VydmljZSB8fCB7fSkucnRsKSB7XG4gICAgICAgICAgICBzY2FsZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzY2FsZU9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKDAsIDEsIHNjYWxlT3B0aW9ucywgc2VydmljZSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm1pbm9yVW5pdCA9IHRoaXMub3B0aW9ucy5taW5vclVuaXQgfHwgdGhpcy5vcHRpb25zLm1ham9yVW5pdCAvIDEwO1xuICAgIH1cblxuICAgIGluaXRVc2VyT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGxldCBzY2FsZU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICBzY2FsZU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBzY2FsZU9wdGlvbnMgLCB7IGxhYmVsczogeyBtaXJyb3I6IHNjYWxlT3B0aW9ucy5taXJyb3IgfSB9KTtcbiAgICAgICAgc2NhbGVPcHRpb25zLm1ham9yVW5pdCA9IHNjYWxlT3B0aW9ucy5tYWpvclVuaXQgfHwgYXV0b01ham9yVW5pdChzY2FsZU9wdGlvbnMubWluLCBzY2FsZU9wdGlvbnMubWF4KTtcblxuICAgICAgICByZXR1cm4gc2NhbGVPcHRpb25zO1xuICAgIH1cblxuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHMgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5yZW5kZXJMYWJlbHMoKTtcbiAgICAgICAgY29uc3Qgc2NhbGVMaW5lID0gdGhpcy5yZW5kZXJMaW5lKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlVGlja3MgPSB0aGlzLnJlbmRlclRpY2tzKCk7XG4gICAgICAgIGNvbnN0IHJhbmdlcyA9IHRoaXMucmVuZGVyUmFuZ2VzKCk7XG5cbiAgICAgICAgZWxlbWVudHMuYXBwZW5kKHNjYWxlTGluZSwgbGFiZWxzLCBzY2FsZVRpY2tzLCByYW5nZXMpO1xuXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG5cbiAgICByZW5kZXJSYW5nZXMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXgsIHZlcnRpY2FsLCBsYWJlbHM6IHsgbWlycm9yIH0gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhbmdlcyA9IG9wdGlvbnMucmFuZ2VzIHx8IFtdO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IG5ldyBHcm91cCgpO1xuICAgICAgICBjb25zdCBjb3VudCA9IHJhbmdlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJhbmdlU2l6ZSA9IG9wdGlvbnMucmFuZ2VTaXplIHx8IG9wdGlvbnMubWlub3JUaWNrcy5zaXplIC8gMjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZ2V0UmFuZ2UocmFuZ2VzW2ldLCBtaW4sIG1heCk7XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5nZXRTbG90KHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RYID0gdmVydGljYWwgPyB0aGlzLmxpbmVCb3goKSA6IHNsb3Q7XG4gICAgICAgICAgICBjb25zdCBzbG90WSA9IHZlcnRpY2FsID8gc2xvdCA6IHRoaXMubGluZUJveCgpO1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgc2xvdFgueDEgLT0gcmFuZ2VTaXplICogKG1pcnJvciA/IC0xIDogMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNsb3RZLnkyICs9IHJhbmdlU2l6ZSAqIChtaXJyb3IgPyAtMSA6IDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbGVtZW50cy5hcHBlbmQoUGF0aC5mcm9tUmVjdChuZXcgZ2VvLlJlY3QoWyBzbG90WC54MSwgc2xvdFkueTEgXSwgWyBzbG90WC54MiAtIHNsb3RYLngxLCBzbG90WS55MiAtIHNsb3RZLnkxIF0pLCB7XG4gICAgICAgICAgICAgICAgZmlsbDogeyBjb2xvcjogcmFuZ2UuY29sb3IsIG9wYWNpdHk6IHJhbmdlLm9wYWNpdHkgfSxcbiAgICAgICAgICAgICAgICBzdHJva2U6IHsgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cblxuICAgIHJlbmRlckxhYmVscygpIHtcbiAgICAgICAgY29uc3QgeyBsYWJlbHMsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLmFwcGVuZChidWlsZExhYmVsRWxlbWVudChsYWJlbHNbaV0sIG9wdGlvbnMubGFiZWxzKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuXG4gICAgcmVuZGVyTGluZSgpIHtcbiAgICAgICAgY29uc3QgbGluZSA9IHRoaXMub3B0aW9ucy5saW5lO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgaWYgKGxpbmUud2lkdGggPiAwICYmIGxpbmUudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgbGluZVBhdGggPSBuZXcgUGF0aCh7XG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBsaW5lLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkYXNoVHlwZTogbGluZS5kYXNoVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGxpbmUud2lkdGhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGluZVBhdGgubW92ZVRvKGxpbmVCb3gueDEsIGxpbmVCb3gueTEpLmxpbmVUbyhsaW5lQm94LngyLCBsaW5lQm94LnkyKTtcbiAgICAgICAgICAgIGVsZW1lbnRzLmFwcGVuZChsaW5lUGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuXG4gICAgcmVuZGVyVGlja3MoKSB7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1ham9yVW5pdCA9IG9wdGlvbnMubWFqb3JUaWNrcy52aXNpYmxlID8gb3B0aW9ucy5tYWpvclVuaXQgOiAwO1xuICAgICAgICBjb25zdCB0aWNrUmVuZGVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHZlcnRpY2FsOiBvcHRpb25zLnZlcnRpY2FsLFxuICAgICAgICAgICAgbWlycm9yOiBvcHRpb25zLmxhYmVscy5taXJyb3IsXG4gICAgICAgICAgICBsaW5lQm94OiB0aGlzLmxpbmVCb3goKVxuICAgICAgICB9O1xuXG4gICAgICAgIHJlbmRlclRpY2tzKHRpY2tzLCB0aGlzLmdldE1ham9yVGlja1Bvc2l0aW9ucygpLCB0aWNrUmVuZGVyT3B0aW9ucywgb3B0aW9ucy5tYWpvclRpY2tzKTtcbiAgICAgICAgcmVuZGVyVGlja3ModGlja3MsIHRoaXMuZ2V0TWlub3JUaWNrUG9zaXRpb25zKCksIHRpY2tSZW5kZXJPcHRpb25zLCBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBza2lwVW5pdDogbWFqb3JVbml0IC8gb3B0aW9ucy5taW5vclVuaXRcbiAgICAgICAgfSwgb3B0aW9ucy5taW5vclRpY2tzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRpY2tzO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTGluZWFyU2NhbGUsIHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiA1MCxcblxuICAgIG1ham9yVGlja3M6IHtcbiAgICAgICAgc2l6ZTogMTUsXG4gICAgICAgIGFsaWduOiBJTlNJREUsXG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IERFRkFVTFRfTElORV9XSURUSCxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG5cbiAgICBtaW5vclRpY2tzOiB7XG4gICAgICAgIHNpemU6IDEwLFxuICAgICAgICBhbGlnbjogSU5TSURFLFxuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHdpZHRoOiBERUZBVUxUX0xJTkVfV0lEVEgsXG4gICAgICAgIHZpc2libGU6IHRydWVcbiAgICB9LFxuXG4gICAgbGluZToge1xuICAgICAgICB3aWR0aDogREVGQVVMVF9MSU5FX1dJRFRIXG4gICAgfSxcblxuICAgIGxhYmVsczoge1xuICAgICAgICBwb3NpdGlvbjogSU5TSURFLFxuICAgICAgICBwYWRkaW5nOiAyXG4gICAgfSxcbiAgICBtaXJyb3I6IGZhbHNlLFxuICAgIF9hbGlnbkxpbmVzOiBmYWxzZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IExpbmVhclNjYWxlOyIsImltcG9ydCB7IENsYXNzLCBzZXREZWZhdWx0T3B0aW9ucywgZGVmaW5lZCwgZGVlcEV4dGVuZCwgbGltaXRWYWx1ZSB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyBCTEFDSyB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5jbGFzcyBQb2ludGVyIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHNjYWxlLCB1c2VyT3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHNjYWxlLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHVzZXJPcHRpb25zKTtcblxuICAgICAgICBvcHRpb25zLmZpbGwgPSBvcHRpb25zLmNvbG9yO1xuXG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcblxuICAgICAgICBpZiAoZGVmaW5lZChvcHRpb25zLnZhbHVlKSkge1xuICAgICAgICAgICAgb3B0aW9ucy52YWx1ZSA9IGxpbWl0VmFsdWUob3B0aW9ucy52YWx1ZSwgbWluLCBtYXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy52YWx1ZSA9IG1pbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9ucy52YWx1ZTtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gdGhpcy5zY2FsZS5vcHRpb25zO1xuXG4gICAgICAgIG9wdGlvbnMuX29sZFZhbHVlID0gZGVmaW5lZChvcHRpb25zLl9vbGRWYWx1ZSkgPyBvcHRpb25zLnZhbHVlIDogbWluO1xuICAgICAgICBvcHRpb25zLnZhbHVlID0gbGltaXRWYWx1ZShuZXdWYWx1ZSwgbWluLCBtYXgpO1xuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGFpbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUG9pbnRlciwge1xuICAgIGNvbG9yOiBCTEFDS1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50ZXI7IiwiaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGRlZmluZWQsIGdldFNwYWNpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBCTEFDSyB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQkFSX1BPSU5URVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IFBvaW50ZXIgZnJvbSAnLi4vcG9pbnRlcic7XG5cbmNsYXNzIExpbmVhclBvaW50ZXIgZXh0ZW5kcyBQb2ludGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzY2FsZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihzY2FsZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICB0cmFjazoge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IGRlZmluZWQob3B0aW9ucy50cmFjaylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG5cbiAgICByZWZsb3coKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgc2NhbGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgbWlycm9yLCB2ZXJ0aWNhbCB9ID0gc2NhbGUub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2NhbGVMaW5lID0gc2NhbGUubGluZUJveCgpO1xuICAgICAgICBjb25zdCB0cmFja1NpemUgPSBvcHRpb25zLnRyYWNrLnNpemUgfHwgb3B0aW9ucy5zaXplO1xuICAgICAgICBjb25zdCBwb2ludGVySGFsZlNpemUgPSBvcHRpb25zLnNpemUgLyAyO1xuICAgICAgICBjb25zdCBtYXJnaW4gPSBnZXRTcGFjaW5nKG9wdGlvbnMubWFyZ2luKTtcbiAgICAgICAgbGV0IHNwYWNlID0gdmVydGljYWwgP1xuICAgICAgICAgICAgICAgICBtYXJnaW5bbWlycm9yID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCJdIDpcbiAgICAgICAgICAgICAgICAgbWFyZ2luW21pcnJvciA/IFwiYm90dG9tXCIgOiBcInRvcFwiXTtcbiAgICAgICAgbGV0IHBvaW50ZXJCb3gsIHBvaW50ZXJSYW5nZUJveCwgdHJhY2tCb3g7XG5cbiAgICAgICAgc3BhY2UgPSBtaXJyb3IgPyAtc3BhY2UgOiBzcGFjZTtcblxuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIHRyYWNrQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICBzY2FsZUxpbmUueDEgKyBzcGFjZSwgc2NhbGVMaW5lLnkxLFxuICAgICAgICAgICAgICAgIHNjYWxlTGluZS54MSArIHNwYWNlLCBzY2FsZUxpbmUueTIpO1xuXG4gICAgICAgICAgICBpZiAobWlycm9yKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tCb3gueDEgLT0gdHJhY2tTaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFja0JveC54MiArPSB0cmFja1NpemU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNoYXBlICE9PSBCQVJfUE9JTlRFUikge1xuICAgICAgICAgICAgICAgIHBvaW50ZXJSYW5nZUJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlTGluZS54MiArIHNwYWNlLCBzY2FsZUxpbmUueTEgLSBwb2ludGVySGFsZlNpemUsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlTGluZS54MiArIHNwYWNlLCBzY2FsZUxpbmUueTIgKyBwb2ludGVySGFsZlNpemVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHBvaW50ZXJCb3ggPSBwb2ludGVyUmFuZ2VCb3g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFja0JveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgc2NhbGVMaW5lLngxLCBzY2FsZUxpbmUueTEgLSBzcGFjZSxcbiAgICAgICAgICAgICAgICBzY2FsZUxpbmUueDIsIHNjYWxlTGluZS55MSAtIHNwYWNlKTtcblxuICAgICAgICAgICAgaWYgKG1pcnJvcikge1xuICAgICAgICAgICAgICAgIHRyYWNrQm94LnkyICs9IHRyYWNrU2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhY2tCb3gueTEgLT0gdHJhY2tTaXplO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaGFwZSAhPT0gQkFSX1BPSU5URVIpIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyUmFuZ2VCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgICAgICBzY2FsZUxpbmUueDEgLSBwb2ludGVySGFsZlNpemUsIHNjYWxlTGluZS55MSAtIHNwYWNlLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZUxpbmUueDIgKyBwb2ludGVySGFsZlNpemUsIHNjYWxlTGluZS55MSAtIHNwYWNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwb2ludGVyQm94ID0gcG9pbnRlclJhbmdlQm94O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50cmFja0JveCA9IHRyYWNrQm94O1xuICAgICAgICB0aGlzLnBvaW50ZXJSYW5nZUJveCA9IHBvaW50ZXJSYW5nZUJveDtcbiAgICAgICAgdGhpcy5ib3ggPSBwb2ludGVyQm94IHx8IHRyYWNrQm94LmNsb25lKCkucGFkKG9wdGlvbnMuYm9yZGVyLndpZHRoKTtcbiAgICB9XG5cbiAgICBnZXRFbGVtZW50T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZTogZGVmaW5lZChvcHRpb25zLmJvcmRlcikgPyB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuYm9yZGVyLndpZHRoID8gb3B0aW9ucy5ib3JkZXIuY29sb3IgfHwgb3B0aW9ucy5jb2xvciA6IFwiXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMuYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBvcHRpb25zLmJvcmRlci5kYXNoVHlwZSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0gOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX21hcmdpbigpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBtaXJyb3IsIHZlcnRpY2FsIH0gPSBzY2FsZS5vcHRpb25zO1xuICAgICAgICBjb25zdCBtYXJnaW4gPSBnZXRTcGFjaW5nKG9wdGlvbnMubWFyZ2luKTtcblxuICAgICAgICBjb25zdCBzcGFjZSA9IHZlcnRpY2FsID9cbiAgICAgICAgICAgIG1hcmdpblttaXJyb3IgPyBcImxlZnRcIiA6IFwicmlnaHRcIl0gOlxuICAgICAgICAgICAgbWFyZ2luW21pcnJvciA/IFwiYm90dG9tXCIgOiBcInRvcFwiXTtcblxuICAgICAgICByZXR1cm4gc3BhY2U7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhMaW5lYXJQb2ludGVyLCB7XG4gICAgc2hhcGU6IEJBUl9QT0lOVEVSLFxuXG4gICAgdHJhY2s6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNvbG9yOiBCTEFDSyxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIG9wYWNpdHk6IDEsXG5cbiAgICBtYXJnaW46IGdldFNwYWNpbmcoMyksXG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IEJBUl9QT0lOVEVSXG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZWFyUG9pbnRlcjsiLCJpbXBvcnQgeyBnZW9tZXRyeSwgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IGludGVycG9sYXRlVmFsdWUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEFSUk9XX1BPSU5URVIsIExJTkVBUl9TUEVFRCwgTElORUFSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY2xhc3MgQXJyb3dMaW5lYXJQb2ludGVyQW5pbWF0aW9uIGV4dGVuZHMgZHJhd2luZy5BbmltYXRpb24ge1xuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgbWFyZ2luLCBmcm9tLCB0bywgdmVydGljYWwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB2ZXJ0aWNhbCA/IFwieDFcIiA6IFwieTFcIjtcblxuICAgICAgICBpZiAob3B0aW9ucy5taXJyb3IgPT09IHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBmcm9tW2F4aXNdIC09IG1hcmdpbjsgdG9bYXhpc10gLT0gbWFyZ2luO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbVtheGlzXSArPSBtYXJnaW47IHRvW2F4aXNdICs9IG1hcmdpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZyb21TY2FsZSA9IHRoaXMuZnJvbVNjYWxlID0gbmV3IGdlb21ldHJ5LlBvaW50KGZyb20ueDEsIGZyb20ueTEpO1xuICAgICAgICBjb25zdCB0b1NjYWxlID0gdGhpcy50b1NjYWxlID0gbmV3IGdlb21ldHJ5LlBvaW50KHRvLngxLCB0by55MSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBNYXRoLm1heCgoZnJvbVNjYWxlLmRpc3RhbmNlVG8odG9TY2FsZSkgLyBvcHRpb25zLmR1cmF0aW9uKSAqIDEwMDAsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlWCA9IGludGVycG9sYXRlVmFsdWUodGhpcy5mcm9tU2NhbGUueCwgdGhpcy50b1NjYWxlLngsIHBvcyk7XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZVkgPSBpbnRlcnBvbGF0ZVZhbHVlKHRoaXMuZnJvbVNjYWxlLnksIHRoaXMudG9TY2FsZS55LCBwb3MpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0oZ2VvbWV0cnkudHJhbnNmb3JtKCkudHJhbnNsYXRlKHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVkpKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEFycm93TGluZWFyUG9pbnRlckFuaW1hdGlvbiwge1xuICAgIGVhc2luZzogTElORUFSLFxuICAgIGR1cmF0aW9uOiBMSU5FQVJfU1BFRURcbn0pO1xuXG5kcmF3aW5nLkFuaW1hdGlvbkZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihBUlJPV19QT0lOVEVSLCBBcnJvd0xpbmVhclBvaW50ZXJBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBBcnJvd0xpbmVhclBvaW50ZXJBbmltYXRpb247IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvLCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBBUlJPV19QT0lOVEVSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBMaW5lYXJQb2ludGVyIGZyb20gJy4vbGluZWFyLXBvaW50ZXInO1xuaW1wb3J0IEFycm93TGluZWFyUG9pbnRlckFuaW1hdGlvbiBmcm9tICcuL2Fycm93LWxpbmVhci1wb2ludGVyLWFuaW1hdGlvbic7XG5cbmNvbnN0IFBvaW50ID0gZ2VvLlBvaW50O1xuY29uc3QgUGF0aCA9IGRyYXdpbmcuUGF0aDtcblxuY2xhc3MgQXJyb3dMaW5lYXJQb2ludGVyIGV4dGVuZHMgTGluZWFyUG9pbnRlciB7XG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoc2NhbGUsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICghZGVmaW5lZCh0aGlzLm9wdGlvbnMuc2l6ZSkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zaXplID0gdGhpcy5zY2FsZS5vcHRpb25zLm1ham9yVGlja3Muc2l6ZSAqIDAuNjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50ZXJTaGFwZSgpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9uczogeyBzaXplIH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGhhbGZTaXplID0gc2l6ZSAvIDI7XG4gICAgICAgIGNvbnN0IHNpZ24gPSAoc2NhbGUub3B0aW9ucy5taXJyb3IgPyAtMSA6IDEpO1xuICAgICAgICBsZXQgc2hhcGU7XG5cbiAgICAgICAgaWYgKHNjYWxlLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIHNoYXBlID0gW1xuICAgICAgICAgICAgICAgIG5ldyBQb2ludCgwLCAwIC0gaGFsZlNpemUpLCBuZXcgUG9pbnQoMCAtIHNpZ24gKiBzaXplLCAwKSwgbmV3IFBvaW50KDAsIDAgKyBoYWxmU2l6ZSlcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaGFwZSA9IFtcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoMCAtIGhhbGZTaXplLCAwKSwgbmV3IFBvaW50KDAsIDAgKyBzaWduICogc2l6ZSksIG5ldyBQb2ludCgwICsgaGFsZlNpemUsIDApXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgIH1cblxuICAgIHJlcGFpbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5ldyBBcnJvd0xpbmVhclBvaW50ZXJBbmltYXRpb24odGhpcy5lbGVtZW50cywgZGVlcEV4dGVuZChvcHRpb25zLmFuaW1hdGlvbiwge1xuICAgICAgICAgICAgdmVydGljYWw6IHNjYWxlLm9wdGlvbnMudmVydGljYWwsXG4gICAgICAgICAgICBtaXJyb3I6IHNjYWxlLm9wdGlvbnMubWlycm9yLFxuICAgICAgICAgICAgbWFyZ2luOiB0aGlzLl9tYXJnaW4ob3B0aW9ucy5tYXJnaW4pLFxuICAgICAgICAgICAgZnJvbTogc2NhbGUuZ2V0U2xvdChvcHRpb25zLl9vbGRWYWx1ZSksXG4gICAgICAgICAgICB0bzogc2NhbGUuZ2V0U2xvdChvcHRpb25zLnZhbHVlKVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uLnRyYW5zaXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYW5pbWF0aW9uLm9wdGlvbnMuZHVyYXRpb24gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbWF0aW9uLnNldHVwKCk7XG4gICAgICAgIGFuaW1hdGlvbi5wbGF5KCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBlbGVtZW50T3B0aW9ucyA9IHRoaXMuZ2V0RWxlbWVudE9wdGlvbnMoKTtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLnBvaW50ZXJTaGFwZShvcHRpb25zLnZhbHVlKTtcblxuICAgICAgICBvcHRpb25zLmFuaW1hdGlvbi50eXBlID0gQVJST1dfUE9JTlRFUjtcblxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IG5ldyBQYXRoKHtcbiAgICAgICAgICAgIHN0cm9rZTogZWxlbWVudE9wdGlvbnMuc3Ryb2tlLFxuICAgICAgICAgICAgZmlsbDogZWxlbWVudE9wdGlvbnMuZmlsbFxuICAgICAgICB9KS5tb3ZlVG8oc2hhcGVbMF0pLmxpbmVUbyhzaGFwZVsxXSkubGluZVRvKHNoYXBlWzJdKS5jbG9zZSgpO1xuXG4gICAgICAgIGNvbnN0IHNsb3QgPSBzY2FsZS5nZXRTbG90KG9wdGlvbnMudmFsdWUpO1xuICAgICAgICBlbGVtZW50cy50cmFuc2Zvcm0oZ2VvLnRyYW5zZm9ybSgpLnRyYW5zbGF0ZShzbG90LngxLCBzbG90LnkxKSk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycm93TGluZWFyUG9pbnRlcjsiLCJpbXBvcnQgeyBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgaW50ZXJwb2xhdGVWYWx1ZSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQkFSX1BPSU5URVIsIExJTkVBUl9TUEVFRCwgTElORUFSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY2xhc3MgQmFyTGluZWFyUG9pbnRlckFuaW1hdGlvbiBleHRlbmRzIGRyYXdpbmcuQW5pbWF0aW9uIHtcblxuICAgIHNldHVwKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5heGlzID0gb3B0aW9ucy52ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCB0byA9IHRoaXMudG8gPSBvcHRpb25zLm5ld1BvaW50c1swXVtheGlzXTtcbiAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbSA9IG9wdGlvbnMub2xkUG9pbnRzWzBdW2F4aXNdO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmR1cmF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gTWF0aC5tYXgoKE1hdGguYWJzKHRvIC0gZnJvbSkgLyBvcHRpb25zLnNwZWVkKSAqIDEwMDAsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0KGZyb20pO1xuICAgIH1cblxuICAgIHN0ZXAocG9zKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW50ZXJwb2xhdGVWYWx1ZSh0aGlzLmZyb20sIHRoaXMudG8sIHBvcyk7XG4gICAgICAgIHRoaXMuX3NldCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgX3NldCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzZXR0ZXIgPSBcInNldFwiICsgdGhpcy5heGlzLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMub3B0aW9ucy5uZXdQb2ludHM7XG5cbiAgICAgICAgcG9pbnRzWzBdW3NldHRlcl0odmFsdWUpO1xuICAgICAgICBwb2ludHNbMV1bc2V0dGVyXSh2YWx1ZSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCYXJMaW5lYXJQb2ludGVyQW5pbWF0aW9uLCB7XG4gICAgZWFzaW5nOiBMSU5FQVIsXG4gICAgc3BlZWQ6IExJTkVBUl9TUEVFRFxufSk7XG5cbmRyYXdpbmcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKEJBUl9QT0lOVEVSLCBCYXJMaW5lYXJQb2ludGVyQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgQmFyTGluZWFyUG9pbnRlckFuaW1hdGlvbjsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW8sIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCBMaW5lYXJQb2ludGVyIGZyb20gJy4vbGluZWFyLXBvaW50ZXInO1xuaW1wb3J0IEJhckxpbmVhclBvaW50ZXJBbmltYXRpb24gZnJvbSAnLi9iYXItbGluZWFyLXBvaW50ZXItYW5pbWF0aW9uJztcblxuY29uc3QgeyBHcm91cCwgUGF0aCB9ID0gZHJhd2luZztcblxuY2xhc3MgQmFyTGluZWFyUG9pbnRlciBleHRlbmRzIExpbmVhclBvaW50ZXIge1xuICAgIGNvbnN0cnVjdG9yKHNjYWxlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHNjYWxlLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnNpemUpKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2l6ZSA9IHRoaXMuc2NhbGUub3B0aW9ucy5tYWpvclRpY2tzLnNpemUgKiAwLjM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb2ludGVyU2hhcGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBtaXJyb3IsIHZlcnRpY2FsIH0gPSBzY2FsZS5vcHRpb25zO1xuICAgICAgICBjb25zdCBkaXIgPSBtaXJyb3IgPT09IHZlcnRpY2FsID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBzaXplID0gb3B0aW9ucy5zaXplICogZGlyO1xuICAgICAgICBjb25zdCBtaW5TbG90ID0gc2NhbGUuZ2V0U2xvdChzY2FsZS5vcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IHNsb3QgPSBzY2FsZS5nZXRTbG90KHZhbHVlKTtcbiAgICAgICAgY29uc3QgYXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IHNpemVBeGlzID0gdmVydGljYWwgPyBYIDogWTtcbiAgICAgICAgY29uc3QgbWFyZ2luID0gdGhpcy5fbWFyZ2luKCkgKiBkaXI7XG5cbiAgICAgICAgY29uc3QgcDEgPSBuZXcgZ2VvLlBvaW50KCk7XG4gICAgICAgIHAxW2F4aXNdID0gbWluU2xvdFtheGlzICsgXCIxXCJdO1xuICAgICAgICBwMVtzaXplQXhpc10gPSBtaW5TbG90W3NpemVBeGlzICsgXCIxXCJdO1xuXG4gICAgICAgIGNvbnN0IHAyID0gbmV3IGdlby5Qb2ludCgpO1xuICAgICAgICBwMltheGlzXSA9IHNsb3RbYXhpcyArIFwiMVwiXTtcbiAgICAgICAgcDJbc2l6ZUF4aXNdID0gc2xvdFtzaXplQXhpcyArIFwiMVwiXTtcblxuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIHAxLnRyYW5zbGF0ZShtYXJnaW4sIDApO1xuICAgICAgICAgICAgcDIudHJhbnNsYXRlKG1hcmdpbiwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwMS50cmFuc2xhdGUoMCwgbWFyZ2luKTtcbiAgICAgICAgICAgIHAyLnRyYW5zbGF0ZSgwLCBtYXJnaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcDMgPSBwMi5jbG9uZSgpO1xuICAgICAgICBjb25zdCBwNCA9IHAxLmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBwMy50cmFuc2xhdGUoc2l6ZSwgMCk7XG4gICAgICAgICAgICBwNC50cmFuc2xhdGUoc2l6ZSwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwMy50cmFuc2xhdGUoMCwgc2l6ZSk7XG4gICAgICAgICAgICBwNC50cmFuc2xhdGUoMCwgc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyBwMSwgcDIsIHAzLCBwNCBdO1xuICAgIH1cblxuICAgIHJlcGFpbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5wb2ludGVyU2hhcGUob3B0aW9ucy52YWx1ZSk7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJQYXRoID0gdGhpcy5wb2ludGVyUGF0aDtcbiAgICAgICAgY29uc3Qgb2xkU2hhcGUgPSB0aGlzLnBvaW50ZXJTaGFwZShvcHRpb25zLl9vbGRWYWx1ZSk7XG5cbiAgICAgICAgcG9pbnRlclBhdGgubW92ZVRvKHNoYXBlWzBdKS5saW5lVG8oc2hhcGVbMV0pLmxpbmVUbyhzaGFwZVsyXSkubGluZVRvKHNoYXBlWzNdKS5jbG9zZSgpO1xuXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5ldyBCYXJMaW5lYXJQb2ludGVyQW5pbWF0aW9uKHBvaW50ZXJQYXRoLCBkZWVwRXh0ZW5kKG9wdGlvbnMuYW5pbWF0aW9uLCB7XG4gICAgICAgICAgICByZXZlcnNlOiBzY2FsZS5vcHRpb25zLnJldmVyc2UsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogc2NhbGUub3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgICAgICAgIG9sZFBvaW50czogWyBvbGRTaGFwZVsxXSwgb2xkU2hhcGVbMl0gXSxcbiAgICAgICAgICAgIG5ld1BvaW50czogWyBzaGFwZVsxXSwgc2hhcGVbMl0gXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uLnRyYW5zaXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYW5pbWF0aW9uLm9wdGlvbnMuZHVyYXRpb24gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbWF0aW9uLnNldHVwKCk7XG4gICAgICAgIGFuaW1hdGlvbi5wbGF5KCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBHcm91cCgpO1xuICAgICAgICBjb25zdCBlbGVtZW50T3B0aW9ucyA9IHRoaXMuZ2V0RWxlbWVudE9wdGlvbnMoKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrLnZpc2libGUpIHtcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZCh0aGlzLnJlbmRlclRyYWNrKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnRlciA9IHRoaXMucG9pbnRlclBhdGggPSBuZXcgUGF0aCh7XG4gICAgICAgICAgICBzdHJva2U6IGVsZW1lbnRPcHRpb25zLnN0cm9rZSxcbiAgICAgICAgICAgIGZpbGw6IGVsZW1lbnRPcHRpb25zLmZpbGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ3JvdXAuYXBwZW5kKHBvaW50ZXIpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBncm91cDtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcmVuZGVyVHJhY2soKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrT3B0aW9ucyA9IHRoaXMub3B0aW9ucy50cmFjaztcbiAgICAgICAgY29uc3QgYm9yZGVyID0gdHJhY2tPcHRpb25zLmJvcmRlciB8fCB7fTtcbiAgICAgICAgY29uc3QgdHJhY2tCb3ggPSB0aGlzLnRyYWNrQm94LmNsb25lKCkucGFkKGJvcmRlci53aWR0aCB8fCAwKTtcblxuICAgICAgICByZXR1cm4gbmV3IFBhdGguZnJvbVJlY3QodHJhY2tCb3gudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdHJhY2tPcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHRyYWNrT3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci53aWR0aCA/IGJvcmRlci5jb2xvciB8fCB0cmFja09wdGlvbnMuY29sb3IgOiBcIlwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IGJvcmRlci5kYXNoVHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhckxpbmVhclBvaW50ZXI7IiwiaW1wb3J0IHsgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGlzQXJyYXkgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQVJST1csIERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBHYXVnZSBmcm9tICcuLi9nYXVnZSc7XG5pbXBvcnQgTGluZWFyU2NhbGUgZnJvbSAnLi9saW5lYXItc2NhbGUnO1xuaW1wb3J0IEFycm93TGluZWFyUG9pbnRlciBmcm9tICcuL2Fycm93LWxpbmVhci1wb2ludGVyJztcbmltcG9ydCBCYXJMaW5lYXJQb2ludGVyIGZyb20gJy4vYmFyLWxpbmVhci1wb2ludGVyJztcblxuY29uc3QgREVGQVVMVF9NSU5fV0lEVEggPSA2MDtcbmNvbnN0IERFRkFVTFRfTUlOX0hFSUdIVCA9IDYwO1xuXG5jb25zdCBHcm91cCA9IGRyYXdpbmcuR3JvdXA7XG5cbmNsYXNzIExpbmVhckdhdWdlIGV4dGVuZHMgR2F1Z2Uge1xuXG4gICAgcmVmbG93KGJib3gpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgICAgICBjb25zdCBiYm94WCA9IGJib3gub3JpZ2luLng7XG4gICAgICAgIGNvbnN0IGJib3hZID0gYmJveC5vcmlnaW4ueTtcblxuICAgICAgICBjb25zdCBib3ggPSBuZXcgQm94KGJib3hYLCBiYm94WSwgYmJveFggKyBiYm94LndpZHRoKCksIGJib3hZICsgYmJveC5oZWlnaHQoKSk7XG5cbiAgICAgICAgdGhpcy5zY2FsZS5yZWZsb3coYm94KTtcbiAgICAgICAgdGhpcy5fc2hyaW5rU2NhbGVXaWR0aChib3gpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ZXJzW2ldLnJlZmxvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iYm94ID0gdGhpcy5fZ2V0Qm94KGJveCk7XG4gICAgICAgIHRoaXMuX2FsaWduRWxlbWVudHMoKTtcbiAgICAgICAgdGhpcy5fc2hyaW5rRWxlbWVudHMoKTtcbiAgICAgICAgdGhpcy5fYnVpbGRWaXN1YWwoKTtcbiAgICAgICAgdGhpcy5fZHJhdygpO1xuICAgIH1cblxuICAgIF9idWlsZFZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgdmlzdWFscyA9IG5ldyBHcm91cCgpO1xuICAgICAgICBjb25zdCBzY2FsZUVsZW1lbnRzID0gdGhpcy5zY2FsZS5yZW5kZXIoKTtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuXG4gICAgICAgIHZpc3VhbHMuYXBwZW5kKHRoaXMuZ2F1Z2VBcmVhKTtcbiAgICAgICAgdmlzdWFscy5hcHBlbmQoc2NhbGVFbGVtZW50cyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHBvaW50ZXJzW2ldO1xuICAgICAgICAgICAgdmlzdWFscy5hcHBlbmQoY3VycmVudC5yZW5kZXIoKSk7XG4gICAgICAgICAgICBjdXJyZW50LnZhbHVlKGN1cnJlbnQub3B0aW9ucy52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl92aXN1YWxzID0gdmlzdWFscztcbiAgICB9XG5cbiAgICBfY3JlYXRlTW9kZWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZSA9IG5ldyBMaW5lYXJTY2FsZShvcHRpb25zLnNjYWxlLCB0aGlzLmNvbnRleHRTZXJ2aWNlKTtcblxuICAgICAgICB0aGlzLnBvaW50ZXJzID0gW107XG5cbiAgICAgICAgbGV0IHBvaW50ZXJzID0gb3B0aW9ucy5wb2ludGVyO1xuICAgICAgICBwb2ludGVycyA9IGlzQXJyYXkocG9pbnRlcnMpID8gcG9pbnRlcnMgOiBbIHBvaW50ZXJzIF07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBwb2ludGVyc1tpXSwge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uczogb3B0aW9ucy50cmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRlclR5cGUgPSBjdXJyZW50T3B0aW9ucy5zaGFwZSA9PT0gQVJST1cgPyBBcnJvd0xpbmVhclBvaW50ZXIgOiBCYXJMaW5lYXJQb2ludGVyO1xuXG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJzLnB1c2gobmV3IHBvaW50ZXJUeXBlKHNjYWxlLCBjdXJyZW50T3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2RlZmF1bHRTaXplKCkge1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IHRoaXMub3B0aW9ucy5zY2FsZS52ZXJ0aWNhbDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHZlcnRpY2FsID8gREVGQVVMVF9NSU5fV0lEVEggOiBERUZBVUxUX1dJRFRILFxuICAgICAgICAgICAgaGVpZ2h0OiB2ZXJ0aWNhbCA/IERFRkFVTFRfSEVJR0hUIDogREVGQVVMVF9NSU5fSEVJR0hUXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2dldEJveChib3gpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgcG9pbnRlcnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGJveENlbnRlciA9IGJveC5jZW50ZXIoKTtcbiAgICAgICAgbGV0IHBsb3RBcmVhQm94ID0gcG9pbnRlcnNbMF0uYm94LmNsb25lKCkud3JhcChzY2FsZS5ib3gpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBsb3RBcmVhQm94LndyYXAocG9pbnRlcnNbaV0uYm94LmNsb25lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNpemU7XG4gICAgICAgIGlmIChzY2FsZS5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBzaXplID0gcGxvdEFyZWFCb3gud2lkdGgoKSAvIDI7XG4gICAgICAgICAgICBwbG90QXJlYUJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgYm94Q2VudGVyLnggLSBzaXplLCBib3gueTEsXG4gICAgICAgICAgICAgICAgYm94Q2VudGVyLnggKyBzaXplLCBib3gueTJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaXplID0gcGxvdEFyZWFCb3guaGVpZ2h0KCkgLyAyO1xuICAgICAgICAgICAgcGxvdEFyZWFCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgIGJveC54MSwgYm94Q2VudGVyLnkgLSBzaXplLFxuICAgICAgICAgICAgICAgIGJveC54MiwgYm94Q2VudGVyLnkgKyBzaXplXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBsb3RBcmVhQm94O1xuICAgIH1cblxuICAgIF9hbGlnbkVsZW1lbnRzKCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBwb2ludGVycyB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc2NhbGVCb3ggPSBzY2FsZS5ib3g7XG4gICAgICAgIGNvbnN0IGJveCA9IHBvaW50ZXJzWzBdLmJveC5jbG9uZSgpLndyYXAoc2NhbGUuYm94KTtcbiAgICAgICAgY29uc3QgcGxvdEFyZWFCb3ggPSB0aGlzLmJib3g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm94LndyYXAocG9pbnRlcnNbaV0uYm94LmNsb25lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRpZmY7XG4gICAgICAgIGlmIChzY2FsZS5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBkaWZmID0gcGxvdEFyZWFCb3guY2VudGVyKCkueCAtIGJveC5jZW50ZXIoKS54O1xuICAgICAgICAgICAgc2NhbGUucmVmbG93KG5ldyBCb3goXG4gICAgICAgICAgICAgICAgc2NhbGVCb3gueDEgKyBkaWZmLCBwbG90QXJlYUJveC55MSxcbiAgICAgICAgICAgICAgICBzY2FsZUJveC54MiArIGRpZmYsIHBsb3RBcmVhQm94LnkyXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpZmYgPSBwbG90QXJlYUJveC5jZW50ZXIoKS55IC0gYm94LmNlbnRlcigpLnk7XG4gICAgICAgICAgICBzY2FsZS5yZWZsb3cobmV3IEJveChcbiAgICAgICAgICAgICAgICBzY2FsZUJveC54MSwgc2NhbGVCb3gueTEgKyBkaWZmLFxuICAgICAgICAgICAgICAgIHNjYWxlQm94LngyLCBzY2FsZUJveC55MiArIGRpZmZcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRlcnNbaV0ucmVmbG93KHRoaXMuYmJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2hyaW5rU2NhbGVXaWR0aChiYm94KSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUgfSA9IHRoaXM7XG4gICAgICAgIGlmICghc2NhbGUub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBzY2FsZS5jb250ZW50Qm94KCkud2lkdGgoKSAtIGJib3gud2lkdGgoKTtcbiAgICAgICAgICAgIGlmIChvdmVyZmxvdyA+IDApIHtcbiAgICAgICAgICAgICAgICBzY2FsZS5ib3guc2hyaW5rKG92ZXJmbG93LCAwKTtcbiAgICAgICAgICAgICAgICBzY2FsZS5ib3guYWxpZ25UbyhiYm94LCAnY2VudGVyJyk7XG4gICAgICAgICAgICAgICAgc2NhbGUucmVmbG93KHNjYWxlLmJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2hyaW5rRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIHBvaW50ZXJzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzY2FsZUJveCA9IHNjYWxlLmJveC5jbG9uZSgpO1xuICAgICAgICBjb25zdCBwb3MgPSBzY2FsZS5vcHRpb25zLnZlcnRpY2FsID8gXCJ5XCIgOiBcInhcIjtcbiAgICAgICAgY29uc3QgcG9pbnRlckJveCA9IHBvaW50ZXJzWzBdLmJveDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludGVyQm94LndyYXAocG9pbnRlcnNbaV0uYm94LmNsb25lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NhbGVCb3hbcG9zICsgMV0gKz0gTWF0aC5tYXgoc2NhbGVCb3hbcG9zICsgMV0gLSBwb2ludGVyQm94W3BvcyArIDFdLCAwKTtcbiAgICAgICAgc2NhbGVCb3hbcG9zICsgMl0gLT0gTWF0aC5tYXgocG9pbnRlckJveFtwb3MgKyAyXSAtIHNjYWxlQm94W3BvcyArIDJdLCAwKTtcblxuICAgICAgICBzY2FsZS5yZWZsb3coc2NhbGVCb3gpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ZXJzW2ldLnJlZmxvdyh0aGlzLmJib3gpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhMaW5lYXJHYXVnZSwge1xuICAgIHRyYW5zaXRpb25zOiB0cnVlLFxuICAgIGdhdWdlQXJlYToge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIlwiXG4gICAgfSxcbiAgICBzY2FsZToge1xuICAgICAgICB2ZXJ0aWNhbDogdHJ1ZVxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBMaW5lYXJHYXVnZTsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW8sIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgZGVmaW5lZCwgcm91bmQsIGdldFNwYWNpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQkxBQ0ssIENPT1JEX1BSRUNJU0lPTiB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXV0b01ham9yVW5pdCwgQm94LCBOdW1lcmljQXhpcyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgYnVpbGRMYWJlbEVsZW1lbnQsIGdldFJhbmdlIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBERUdSRUUsIERFRkFVTFRfTElORV9XSURUSCwgSU5TSURFLCBPVVRTSURFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgR0VPX0FSQ19BREpVU1RfQU5HTEUgPSAxODA7XG5cbmNvbnN0IHsgQXJjLCBQYXRoLCBHcm91cCB9ID0gZHJhd2luZztcblxuZnVuY3Rpb24gZHJhd1RpY2tzKGFyYywgdGlja0FuZ2xlcywgdW5pdCwgdGlja09wdGlvbnMpIHtcbiAgICBjb25zdCB0aWNrcyA9IG5ldyBHcm91cCgpO1xuICAgIGNvbnN0IGNlbnRlciA9IGFyYy5jZW50ZXI7XG4gICAgY29uc3QgcmFkaXVzID0gYXJjLmdldFJhZGl1c1goKTtcblxuICAgIGlmICh0aWNrT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlja0FuZ2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGlja1N0YXJ0ID0gYXJjLnBvaW50QXQodGlja0FuZ2xlc1tpXSk7XG4gICAgICAgICAgICBjb25zdCB0aWNrRW5kID0gbmV3IGdlby5Qb2ludChjZW50ZXIueCArIHJhZGl1cyAtIHRpY2tPcHRpb25zLnNpemUsIGNlbnRlci55KS5yb3RhdGUodGlja0FuZ2xlc1tpXSwgY2VudGVyKTtcblxuICAgICAgICAgICAgdGlja3MuYXBwZW5kKG5ldyBQYXRoKHtcbiAgICAgICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRpY2tPcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGlja09wdGlvbnMud2lkdGhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5tb3ZlVG8odGlja1N0YXJ0KS5saW5lVG8odGlja0VuZCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpY2tzO1xufVxuXG5mdW5jdGlvbiByYW5nZVNlZ21lbnQoZnJvbSwgdG8sIGNvbG9yLCBvcGFjaXR5KSB7XG4gICAgcmV0dXJuIHsgZnJvbTogZnJvbSwgdG86IHRvLCBjb2xvcjogY29sb3IsIG9wYWNpdHk6IG9wYWNpdHkgfTtcbn1cblxuY2xhc3MgUmFkaWFsU2NhbGUgZXh0ZW5kcyBOdW1lcmljQXhpcyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgc2VydmljZSkge1xuICAgICAgICBzdXBlcigwLCAxLCBvcHRpb25zLCBzZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBpbml0VXNlck9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBzY2FsZU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICBzY2FsZU9wdGlvbnMubWFqb3JVbml0ID0gc2NhbGVPcHRpb25zLm1ham9yVW5pdCB8fCBhdXRvTWFqb3JVbml0KHNjYWxlT3B0aW9ucy5taW4sIHNjYWxlT3B0aW9ucy5tYXgpO1xuICAgICAgICBzY2FsZU9wdGlvbnMubWlub3JVbml0ID0gc2NhbGVPcHRpb25zLm1pbm9yVW5pdCB8fCBzY2FsZU9wdGlvbnMubWFqb3JVbml0IC8gMTA7XG5cbiAgICAgICAgcmV0dXJuIHNjYWxlT3B0aW9ucztcbiAgICB9XG5cbiAgICBpbml0RmllbGRzKCkge1xuICAgIH1cblxuICAgIHJlbmRlcihjZW50ZXIsIHJhZGl1cykge1xuICAgICAgICBjb25zdCBhcmMgPSB0aGlzLnJlbmRlckFyYyhjZW50ZXIsIHJhZGl1cyk7XG5cbiAgICAgICAgdGhpcy5iYm94ID0gYXJjLmJib3goKTtcbiAgICAgICAgdGhpcy5sYWJlbEVsZW1lbnRzID0gdGhpcy5yZW5kZXJMYWJlbHMoKTtcbiAgICAgICAgdGhpcy50aWNrcyA9IHRoaXMucmVuZGVyVGlja3MoKTtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSB0aGlzLnJlbmRlclJhbmdlcygpO1xuICAgIH1cblxuICAgIHJlZmxvdyhiYm94KSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGJib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgubWluKGJib3guaGVpZ2h0KCksIGJib3gud2lkdGgoKSkgLyAyO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKHRoaXMuYmJveCkpIHtcbiAgICAgICAgICAgIHRoaXMuYmJveCA9IHRoaXMuYXJjLmJib3goKTtcbiAgICAgICAgICAgIHRoaXMucmFkaXVzKHRoaXMuYXJjLmdldFJhZGl1c1goKSk7XG4gICAgICAgICAgICB0aGlzLnJlcG9zaXRpb25SYW5nZXMoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTGFiZWxzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXIoY2VudGVyLCByYWRpdXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2xvdEFuZ2xlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXgsIHJldmVyc2UsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBlbmRBbmdsZSAtICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSAqIGFuZ2xlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gKCh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSAqIGFuZ2xlKSArIHN0YXJ0QW5nbGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0ICsgR0VPX0FSQ19BREpVU1RfQU5HTEU7XG4gICAgfVxuXG4gICAgaGFzUmFuZ2VzKCkge1xuICAgICAgICBjb25zdCByYW5nZXMgPSB0aGlzLm9wdGlvbnMucmFuZ2VzO1xuXG4gICAgICAgIHJldHVybiByYW5nZXMgJiYgcmFuZ2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICB0aWNrc1NpemUoKSB7XG4gICAgICAgIGNvbnN0IHsgbWFqb3JUaWNrcywgbWlub3JUaWNrcyB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgc2l6ZSA9IDA7XG4gICAgICAgIGlmIChtYWpvclRpY2tzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHNpemUgPSBtYWpvclRpY2tzLnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWlub3JUaWNrcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBzaXplID0gTWF0aC5tYXgobWlub3JUaWNrcy5zaXplLCBzaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cblxuICAgIGxhYmVsc0NvdW50KCkge1xuICAgICAgICBsZXQgY291bnQgPSBzdXBlci5sYWJlbHNDb3VudCgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBhbmdsZSA9IG9wdGlvbnMuZW5kQW5nbGUgLSBvcHRpb25zLnN0YXJ0QW5nbGU7XG5cbiAgICAgICAgaWYgKGFuZ2xlID49IDM2MCAmJiAob3B0aW9ucy5tYXggJSBvcHRpb25zLm1ham9yVW5pdCA9PT0gMCkpIHtcbiAgICAgICAgICAgIGNvdW50IC09IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgcmVuZGVyTGFiZWxzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBhcmMgPSB0aGlzLmFyYy5jbG9uZSgpO1xuICAgICAgICBsZXQgcmFkaXVzID0gYXJjLmdldFJhZGl1c1goKTtcbiAgICAgICAgY29uc3QgdGlja0FuZ2xlcyA9IHRoaXMudGlja0FuZ2xlcyhhcmMsIG9wdGlvbnMubWFqb3JVbml0KTtcbiAgICAgICAgY29uc3QgcmFuZ2VTaXplID0gb3B0aW9ucy5yYW5nZVNpemUgPSBvcHRpb25zLnJhbmdlU2l6ZSB8fCByYWRpdXMgKiAwLjE7XG4gICAgICAgIGNvbnN0IGxhYmVsc0dyb3VwID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgbGV0IHJhbmdlRGlzdGFuY2UgPSByYWRpdXMgKiAwLjA1O1xuICAgICAgICBpZiAoZGVmaW5lZChvcHRpb25zLnJhbmdlRGlzdGFuY2UpKSB7XG4gICAgICAgICAgICByYW5nZURpc3RhbmNlID0gb3B0aW9ucy5yYW5nZURpc3RhbmNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5yYW5nZURpc3RhbmNlID0gcmFuZ2VEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhYmVsc09wdGlvbnMgPSBvcHRpb25zLmxhYmVscztcbiAgICAgICAgY29uc3QgaXNJbnNpZGUgPSBsYWJlbHNPcHRpb25zLnBvc2l0aW9uID09PSBJTlNJREU7XG4gICAgICAgIGNvbnN0IGhhc0xhYmVsRWxlbWVudHMgPSBkZWZpbmVkKHRoaXMubGFiZWxFbGVtZW50cyk7XG5cbiAgICAgICAgaWYgKGlzSW5zaWRlKSB7XG4gICAgICAgICAgICByYWRpdXMgLT0gdGhpcy50aWNrc1NpemUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmFuZ2VzKCkgJiYgIWhhc0xhYmVsRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICByYWRpdXMgLT0gcmFuZ2VTaXplICsgcmFuZ2VEaXN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyYy5zZXRSYWRpdXNYKHJhZGl1cykuc2V0UmFkaXVzWShyYWRpdXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gbGFiZWxzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGdldFNwYWNpbmcobGFiZWxzT3B0aW9ucy5wYWRkaW5nKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ1dpZHRoID0gKHBhZGRpbmcubGVmdCArIHBhZGRpbmcucmlnaHQpIC8gMjtcbiAgICAgICAgY29uc3QgcGFkZGluZ0hlaWdodCA9IChwYWRkaW5nLnRvcCArIHBhZGRpbmcuYm90dG9tKSAvIDI7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVsc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IGxhYmVsLmJveC53aWR0aCgpIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBsYWJlbC5ib3guaGVpZ2h0KCkgLyAyO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSB0aWNrQW5nbGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxBbmdsZSA9IChhbmdsZSAtIEdFT19BUkNfQURKVVNUX0FOR0xFKSAqIERFR1JFRTtcblxuICAgICAgICAgICAgY29uc3QgbHAgPSBhcmMucG9pbnRBdChhbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBjeCA9IGxwLnggKyAoTWF0aC5jb3MobGFiZWxBbmdsZSkgKiAoaGFsZldpZHRoICsgcGFkZGluZ1dpZHRoKSAqIChpc0luc2lkZSA/IDEgOiAtMSkpO1xuICAgICAgICAgICAgY29uc3QgY3kgPSBscC55ICsgKE1hdGguc2luKGxhYmVsQW5nbGUpICogKGhhbGZIZWlnaHQgKyBwYWRkaW5nSGVpZ2h0KSAqIChpc0luc2lkZSA/IDEgOiAtMSkpO1xuXG4gICAgICAgICAgICBsYWJlbC5yZWZsb3cobmV3IEJveChjeCAtIGhhbGZXaWR0aCwgY3kgLSBoYWxmSGVpZ2h0LCBjeCArIGhhbGZXaWR0aCwgY3kgKyBoYWxmSGVpZ2h0KSk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFBvcyA9IG5ldyBnZW8uUG9pbnQobGFiZWwuYm94LngxLCBsYWJlbC5ib3gueTEpO1xuXG4gICAgICAgICAgICBsZXQgbGFiZWxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKCFoYXNMYWJlbEVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxFbGVtZW50ID0gYnVpbGRMYWJlbEVsZW1lbnQobGFiZWwsIG9wdGlvbnMubGFiZWxzKTtcbiAgICAgICAgICAgICAgICBsYWJlbHNHcm91cC5hcHBlbmQobGFiZWxFbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWxFbGVtZW50ID0gdGhpcy5sYWJlbEVsZW1lbnRzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZMYWJlbFBvcyA9IGxhYmVsRWxlbWVudC5iYm94KCkub3JpZ2luO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWxUcmFuc2Zvcm0gPSBsYWJlbEVsZW1lbnQudHJhbnNmb3JtKCkgfHwgZ2VvLnRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIGxhYmVsVHJhbnNmb3JtLnRyYW5zbGF0ZShsYWJlbFBvcy54IC0gcHJldkxhYmVsUG9zLngsIGxhYmVsUG9zLnkgLSBwcmV2TGFiZWxQb3MueSk7XG4gICAgICAgICAgICAgICAgbGFiZWxFbGVtZW50LnRyYW5zZm9ybShsYWJlbFRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmJveCA9IGdlby5SZWN0LnVuaW9uKHRoaXMuYmJveCwgbGFiZWxFbGVtZW50LmJib3goKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGFiZWxzR3JvdXA7XG4gICAgfVxuXG4gICAgcmVwb3NpdGlvblJhbmdlcygpIHtcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gdGhpcy5yYW5nZXMuY2hpbGRyZW47XG5cbiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IHJhbmdlRGlzdGFuY2UsIHJhbmdlU2l6ZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgbGV0IHJhbmdlUmFkaXVzID0gdGhpcy5nZXRSYW5nZVJhZGl1cygpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxhYmVscy5wb3NpdGlvbiA9PT0gSU5TSURFKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VSYWRpdXMgKz0gcmFuZ2VTaXplICsgcmFuZ2VEaXN0YW5jZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3UmFkaXVzID0gcmFuZ2VSYWRpdXMgKyAocmFuZ2VTaXplIC8gMik7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzW2ldLl9nZW9tZXRyeS5zZXRSYWRpdXNYKG5ld1JhZGl1cykuc2V0UmFkaXVzWShuZXdSYWRpdXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJib3ggPSBnZW8uUmVjdC51bmlvbih0aGlzLmJib3gsIHRoaXMucmFuZ2VzLmJib3goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJSYW5nZXMoKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5yYW5nZVNlZ21lbnRzKCk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzQ291bnQgPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIGlmIChzZWdtZW50c0NvdW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IHJhbmdlU2l6ZSwgcmV2ZXJzZSwgcmFuZ2VEaXN0YW5jZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VSYWRpdXMgPSB0aGlzLmdldFJhbmdlUmFkaXVzKCk7XG5cbiAgICAgICAgICAgIC8vIG1vdmUgdGhlIHRpY2tzIHdpdGggYSByYW5nZSBkaXN0YW5jZSBhbmQgYSByYW5nZSBzaXplXG4gICAgICAgICAgICB0aGlzLnJhZGl1cyh0aGlzLnJhZGl1cygpIC0gcmFuZ2VTaXplIC0gcmFuZ2VEaXN0YW5jZSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLnNsb3RBbmdsZShzZWdtZW50W3JldmVyc2UgPyBcInRvXCIgOiBcImZyb21cIl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gdGhpcy5zbG90QW5nbGUoc2VnbWVudFshcmV2ZXJzZSA/IFwidG9cIiA6IFwiZnJvbVwiXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodG8gLSBmcm9tICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQodGhpcy5jcmVhdGVSYW5nZShmcm9tLCB0bywgcmFuZ2VSYWRpdXMsIHNlZ21lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNyZWF0ZVJhbmdlKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCByYW5nZVJhZGl1cywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByYW5nZVNpemUgPSB0aGlzLm9wdGlvbnMucmFuZ2VTaXplO1xuICAgICAgICBjb25zdCByYW5nZUdlb20gPSBuZXcgZ2VvLkFyYyh0aGlzLmFyYy5jZW50ZXIsIHtcbiAgICAgICAgICAgIHJhZGl1c1g6IHJhbmdlUmFkaXVzICsgKHJhbmdlU2l6ZSAvIDIpLFxuICAgICAgICAgICAgcmFkaXVzWTogcmFuZ2VSYWRpdXMgKyAocmFuZ2VTaXplIC8gMiksXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXJjKHJhbmdlR2VvbSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHJhbmdlU2l6ZSxcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgbGluZUNhcDogb3B0aW9ucy5saW5lQ2FwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJhbmdlU2VnbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhbmdlcyA9IG9wdGlvbnMucmFuZ2VzIHx8IFtdO1xuICAgICAgICBjb25zdCBjb3VudCA9IHJhbmdlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG5cbiAgICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IG1pbiwgbWF4LCByYW5nZVBsYWNlaG9sZGVyQ29sb3I6IGRlZmF1bHRDb2xvciB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gocmFuZ2VTZWdtZW50KG1pbiwgbWF4LCBkZWZhdWx0Q29sb3IpKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBnZXRSYW5nZShyYW5nZXNbaV0sIG1pbiwgbWF4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50c0NvdW50ID0gc2VnbWVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzZWdtZW50c0NvdW50OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50LmZyb20gPD0gcmFuZ2UuZnJvbSAmJiByYW5nZS5mcm9tIDw9IHNlZ21lbnQudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gocmFuZ2VTZWdtZW50KHJhbmdlLmZyb20sIHJhbmdlLnRvLCByYW5nZS5jb2xvciwgcmFuZ2Uub3BhY2l0eSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudC5mcm9tIDw9IHJhbmdlLnRvICYmIHJhbmdlLnRvIDw9IHNlZ21lbnQudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy5wdXNoKHJhbmdlU2VnbWVudChyYW5nZS50bywgc2VnbWVudC50bywgZGVmYXVsdENvbG9yLCByYW5nZS5vcGFjaXR5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQudG8gPSByYW5nZS5mcm9tO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICB9XG5cbiAgICBnZXRSYW5nZVJhZGl1cygpIHtcbiAgICAgICAgY29uc3QgeyBhcmMsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcmFuZ2VTaXplLCByYW5nZURpc3RhbmNlLCBtYWpvclRpY2tzOiB7IHNpemU6IG1ham9yVGlja1NpemUgfSB9ID0gb3B0aW9ucztcbiAgICAgICAgbGV0IHJhZGl1cztcblxuICAgICAgICBpZiAob3B0aW9ucy5sYWJlbHMucG9zaXRpb24gPT09IE9VVFNJREUpIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IGFyYy5nZXRSYWRpdXNYKCkgLSBtYWpvclRpY2tTaXplIC0gcmFuZ2VEaXN0YW5jZSAtIHJhbmdlU2l6ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IGFyYy5nZXRSYWRpdXNYKCkgLSByYW5nZVNpemU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmFkaXVzO1xuICAgIH1cblxuICAgIHJlbmRlckFyYyhjZW50ZXIsIHJhZGl1cykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGNvbnN0IGFyYyA9IHRoaXMuYXJjID0gbmV3IGdlby5BcmMoY2VudGVyLCB7XG4gICAgICAgICAgICByYWRpdXNYOiByYWRpdXMsXG4gICAgICAgICAgICByYWRpdXNZOiByYWRpdXMsXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBvcHRpb25zLnN0YXJ0QW5nbGUgKyBHRU9fQVJDX0FESlVTVF9BTkdMRSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBvcHRpb25zLmVuZEFuZ2xlICsgR0VPX0FSQ19BREpVU1RfQU5HTEVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGFyYztcbiAgICB9XG5cbiAgICByZW5kZXJUaWNrcygpIHtcbiAgICAgICAgY29uc3QgeyBhcmMsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHRpY2tBcmMgPSBhcmMuY2xvbmUoKTtcblxuICAgICAgICB0aGlzLm1ham9yVGlja0FuZ2xlcyA9IHRoaXMudGlja0FuZ2xlcyhhcmMsIG9wdGlvbnMubWFqb3JVbml0KTtcbiAgICAgICAgdGhpcy5tYWpvclRpY2tzID0gZHJhd1RpY2tzKHRpY2tBcmMsIHRoaXMubWFqb3JUaWNrQW5nbGVzLCBvcHRpb25zLm1ham9yVW5pdCwgb3B0aW9ucy5tYWpvclRpY2tzKTtcblxuICAgICAgICBjb25zdCBhbGxUaWNrcyA9IG5ldyBHcm91cCgpO1xuICAgICAgICBhbGxUaWNrcy5hcHBlbmQodGhpcy5tYWpvclRpY2tzKTtcblxuICAgICAgICBjb25zdCBtYWpvclRpY2tTaXplID0gb3B0aW9ucy5tYWpvclRpY2tzLnNpemU7XG4gICAgICAgIGNvbnN0IG1pbm9yVGlja1NpemUgPSBvcHRpb25zLm1pbm9yVGlja3Muc2l6ZTtcblxuICAgICAgICB0aGlzLl90aWNrRGlmZmVyZW5jZSA9IG1ham9yVGlja1NpemUgLSBtaW5vclRpY2tTaXplO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmxhYmVscy5wb3NpdGlvbiA9PT0gT1VUU0lERSkge1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gdGlja0FyYy5nZXRSYWRpdXNYKCk7XG4gICAgICAgICAgICB0aWNrQXJjLnNldFJhZGl1c1gocmFkaXVzIC0gbWFqb3JUaWNrU2l6ZSArIG1pbm9yVGlja1NpemUpXG4gICAgICAgICAgICAgICAgICAgLnNldFJhZGl1c1kocmFkaXVzIC0gbWFqb3JUaWNrU2l6ZSArIG1pbm9yVGlja1NpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW5vclRpY2tBbmdsZXMgPSB0aGlzLm5vcm1hbGl6ZVRpY2tBbmdsZXModGhpcy50aWNrQW5nbGVzKGFyYywgb3B0aW9ucy5taW5vclVuaXQpKTtcbiAgICAgICAgdGhpcy5taW5vclRpY2tzID0gZHJhd1RpY2tzKHRpY2tBcmMsIHRoaXMubWlub3JUaWNrQW5nbGVzLCBvcHRpb25zLm1pbm9yVW5pdCwgb3B0aW9ucy5taW5vclRpY2tzKTtcbiAgICAgICAgYWxsVGlja3MuYXBwZW5kKHRoaXMubWlub3JUaWNrcyk7XG5cbiAgICAgICAgcmV0dXJuIGFsbFRpY2tzO1xuICAgIH1cblxuICAgIG5vcm1hbGl6ZVRpY2tBbmdsZXMoYW5nbGVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNraXAgPSBvcHRpb25zLm1ham9yVW5pdCAvIG9wdGlvbnMubWlub3JVbml0O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBhbmdsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChpICUgc2tpcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFuZ2xlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYW5nbGVzO1xuICAgIH1cblxuICAgIHRpY2tBbmdsZXMocmluZywgc3RlcFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJldmVyc2UgPSBvcHRpb25zLnJldmVyc2U7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gb3B0aW9ucy5tYXggLSBvcHRpb25zLm1pbjtcbiAgICAgICAgY29uc3QgYW5nbGUgPSByaW5nLmVuZEFuZ2xlIC0gcmluZy5zdGFydEFuZ2xlO1xuICAgICAgICBsZXQgdGlja0NvdW50ID0gcmFuZ2UgLyBzdGVwVmFsdWU7XG4gICAgICAgIGxldCBwb3MgPSByaW5nLnN0YXJ0QW5nbGU7XG4gICAgICAgIGxldCBzdGVwID0gYW5nbGUgLyB0aWNrQ291bnQ7XG5cbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHBvcyArPSBhbmdsZTtcbiAgICAgICAgICAgIHN0ZXAgPSAtc3RlcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmdsZSA+PSAzNjAgJiYgKG9wdGlvbnMubWF4ICUgc3RlcFZhbHVlID09PSAwKSkge1xuICAgICAgICAgICAgdGlja0NvdW50IC09IDE7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWNrQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocm91bmQocG9zLCBDT09SRF9QUkVDSVNJT04pKTtcbiAgICAgICAgICAgIHBvcyArPSBzdGVwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvdW5kKHBvcykgPD0gcmluZy5lbmRBbmdsZSkge1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgcmFkaXVzKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hcmMuc2V0UmFkaXVzWCh2YWx1ZSkuc2V0UmFkaXVzWSh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnJlcG9zaXRpb25UaWNrcyh0aGlzLm1ham9yVGlja3MuY2hpbGRyZW4sIHRoaXMubWFqb3JUaWNrQW5nbGVzKTtcbiAgICAgICAgICAgIHRoaXMucmVwb3NpdGlvblRpY2tzKHRoaXMubWlub3JUaWNrcy5jaGlsZHJlbiwgdGhpcy5taW5vclRpY2tBbmdsZXMsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXJjLmdldFJhZGl1c1goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcG9zaXRpb25UaWNrcyh0aWNrcywgdGlja0FuZ2xlcywgbWlub3IpIHtcbiAgICAgICAgY29uc3QgZGlmZiA9IG1pbm9yID8gKHRoaXMuX3RpY2tEaWZmZXJlbmNlIHx8IDApIDogMDtcbiAgICAgICAgbGV0IHRpY2tBcmMgPSB0aGlzLmFyYztcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGlja0FyYy5nZXRSYWRpdXNYKCk7XG5cbiAgICAgICAgaWYgKG1pbm9yICYmIHRoaXMub3B0aW9ucy5sYWJlbHMucG9zaXRpb24gPT09IE9VVFNJREUgJiYgZGlmZiAhPT0gMCkge1xuICAgICAgICAgICAgdGlja0FyYyA9IHRoaXMuYXJjLmNsb25lKCk7XG4gICAgICAgICAgICB0aWNrQXJjLnNldFJhZGl1c1gocmFkaXVzIC0gZGlmZikuc2V0UmFkaXVzWShyYWRpdXMgLSBkaWZmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BvaW50ID0gdGlja0FyYy5wb2ludEF0KHRpY2tBbmdsZXNbaV0pO1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aWNrc1tpXS5zZWdtZW50cztcbiAgICAgICAgICAgIGNvbnN0IHhEaWZmID0gbmV3UG9pbnQueCAtIHNlZ21lbnRzWzBdLmFuY2hvcigpLng7XG4gICAgICAgICAgICBjb25zdCB5RGlmZiA9IG5ld1BvaW50LnkgLSBzZWdtZW50c1swXS5hbmNob3IoKS55O1xuXG4gICAgICAgICAgICB0aWNrc1tpXS50cmFuc2Zvcm0obmV3IGdlby50cmFuc2Zvcm0oKS50cmFuc2xhdGUoeERpZmYsIHlEaWZmKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGlhbFNjYWxlLCB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMTAwLFxuXG4gICAgbWFqb3JUaWNrczoge1xuICAgICAgICBzaXplOiAxNSxcbiAgICAgICAgYWxpZ246IElOU0lERSxcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogREVGQVVMVF9MSU5FX1dJRFRILFxuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcblxuICAgIG1pbm9yVGlja3M6IHtcbiAgICAgICAgc2l6ZTogMTAsXG4gICAgICAgIGFsaWduOiBJTlNJREUsXG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IERFRkFVTFRfTElORV9XSURUSCxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG5cbiAgICBzdGFydEFuZ2xlOiAtMzAsXG4gICAgZW5kQW5nbGU6IDIxMCxcblxuICAgIGxhYmVsczoge1xuICAgICAgICBwb3NpdGlvbjogSU5TSURFLFxuICAgICAgICBwYWRkaW5nOiAyXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlhbFNjYWxlO1xuIiwiaW1wb3J0IHsgZ2VvbWV0cnksIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZVZhbHVlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBBTkdVTEFSX1NQRUVELCBMSU5FQVIsIFJBRElBTF9QT0lOVEVSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY2xhc3MgUmFkaWFsUG9pbnRlckFuaW1hdGlvbiBleHRlbmRzIGRyYXdpbmcuQW5pbWF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgYW5pbWF0aW9uT3B0aW9ucy5kdXJhdGlvbiA9IE1hdGgubWF4KChNYXRoLmFicyhhbmltYXRpb25PcHRpb25zLm5ld0FuZ2xlIC0gYW5pbWF0aW9uT3B0aW9ucy5vbGRBbmdsZSkgLyBhbmltYXRpb25PcHRpb25zLmR1cmF0aW9uKSAqIDEwMDAsIDEpO1xuICAgIH1cblxuICAgIHN0ZXAocG9zKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gaW50ZXJwb2xhdGVWYWx1ZShvcHRpb25zLm9sZEFuZ2xlLCBvcHRpb25zLm5ld0FuZ2xlLCBwb3MpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0oZ2VvbWV0cnkudHJhbnNmb3JtKCkucm90YXRlKGFuZ2xlLCBvcHRpb25zLmNlbnRlcikpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkaWFsUG9pbnRlckFuaW1hdGlvbiwge1xuICAgIGVhc2luZzogTElORUFSLFxuICAgIGR1cmF0aW9uOiBBTkdVTEFSX1NQRUVEXG59KTtcblxuZHJhd2luZy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoUkFESUFMX1BPSU5URVIsIFJhZGlhbFBvaW50ZXJBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRpYWxQb2ludGVyQW5pbWF0aW9uOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGxpbWl0VmFsdWUgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQU5HVUxBUl9TUEVFRCwgREVHUkVFLCBERUZBVUxUX0xJTkVfV0lEVEgsIFJBRElBTF9QT0lOVEVSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBQb2ludGVyIGZyb20gJy4uL3BvaW50ZXInO1xuaW1wb3J0IFJhZGlhbFBvaW50ZXJBbmltYXRpb24gZnJvbSAnLi9yYWRpYWwtcG9pbnRlci1hbmltYXRpb24nO1xuXG5jb25zdCBDQVBfU0laRSA9IDAuMDU7XG5jb25zdCB7IENpcmNsZSwgR3JvdXAsIFBhdGggfSA9IGRyYXdpbmc7XG5cbmNsYXNzIFJhZGlhbFBvaW50ZXIgZXh0ZW5kcyBQb2ludGVyIHtcblxuICAgIHNldEFuZ2xlKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMudHJhbnNmb3JtKGdlby50cmFuc2Zvcm0oKS5yb3RhdGUoYW5nbGUsIHRoaXMuY2VudGVyKSk7XG4gICAgfVxuXG4gICAgcmVwYWludCgpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgb2xkQW5nbGUgPSBzY2FsZS5zbG90QW5nbGUob3B0aW9ucy5fb2xkVmFsdWUpO1xuICAgICAgICBjb25zdCBuZXdBbmdsZSA9IHNjYWxlLnNsb3RBbmdsZShvcHRpb25zLnZhbHVlKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24udHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEFuZ2xlKG5ld0FuZ2xlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ldyBSYWRpYWxQb2ludGVyQW5pbWF0aW9uKHRoaXMuZWxlbWVudHMsIGRlZXBFeHRlbmQob3B0aW9ucy5hbmltYXRpb24sIHtcbiAgICAgICAgICAgICAgICBvbGRBbmdsZTogb2xkQW5nbGUsXG4gICAgICAgICAgICAgICAgbmV3QW5nbGU6IG5ld0FuZ2xlXG4gICAgICAgICAgICB9KSkucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlZXBFeHRlbmQob3B0aW9ucy5hbmltYXRpb24sIHtcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiAwLFxuICAgICAgICAgICAgICAgIGNlbnRlcjogc2NhbGUuYXJjLmNlbnRlcixcbiAgICAgICAgICAgICAgICByZXZlcnNlOiBzY2FsZS5vcHRpb25zLnJldmVyc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudHMuYXBwZW5kKHRoaXMuX3JlbmRlck5lZWRsZSgpLCB0aGlzLl9yZW5kZXJDYXAoKSk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgICAgICB0aGlzLnNldEFuZ2xlKERFR1JFRSk7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cblxuICAgIHJlZmxvdyhhcmMpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXIgPSBhcmMuY2VudGVyO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBsaW1pdFZhbHVlKHRoaXMub3B0aW9ucy5sZW5ndGggfHwgMSwgMC4xLCAxLjUpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSB0aGlzLnJhZGl1cyA9IGFyYy5nZXRSYWRpdXNYKCkgKiBsZW5ndGg7XG4gICAgICAgIGNvbnN0IGNhcFNpemUgPSB0aGlzLmNhcFNpemUgPSBNYXRoLnJvdW5kKHJhZGl1cyAqIHRoaXMub3B0aW9ucy5jYXAuc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5iYm94ID0gZ2VvLlJlY3QuZnJvbVBvaW50cyhuZXcgZ2VvLlBvaW50KGNlbnRlci54IC0gY2FwU2l6ZSwgY2VudGVyLnkgLSBjYXBTaXplKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBnZW8uUG9pbnQoY2VudGVyLnggKyBjYXBTaXplLCBjZW50ZXIueSArIGNhcFNpemUpKTtcbiAgICB9XG5cbiAgICBfcmVuZGVyTmVlZGxlKCkge1xuICAgICAgICBjb25zdCBtaW5vclRpY2tTaXplID0gdGhpcy5zY2FsZS5vcHRpb25zLm1pbm9yVGlja3Muc2l6ZTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXI7XG4gICAgICAgIGNvbnN0IG5lZWRsZUNvbG9yID0gdGhpcy5vcHRpb25zLmNvbG9yO1xuXG4gICAgICAgIGNvbnN0IG5lZWRsZVBhdGggPSBuZXcgUGF0aCh7XG4gICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBuZWVkbGVDb2xvciB9LFxuICAgICAgICAgICAgc3Ryb2tlOiB7IGNvbG9yOiBuZWVkbGVDb2xvciwgd2lkdGg6IERFRkFVTFRfTElORV9XSURUSCB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5lZWRsZVBhdGgubW92ZVRvKGNlbnRlci54ICsgdGhpcy5yYWRpdXMgLSBtaW5vclRpY2tTaXplLCBjZW50ZXIueSlcbiAgICAgICAgICAgICAgICAgIC5saW5lVG8oY2VudGVyLngsIGNlbnRlci55IC0gKHRoaXMuY2FwU2l6ZSAvIDIpKVxuICAgICAgICAgICAgICAgICAgLmxpbmVUbyhjZW50ZXIueCwgY2VudGVyLnkgKyAodGhpcy5jYXBTaXplIC8gMikpXG4gICAgICAgICAgICAgICAgICAuY2xvc2UoKTtcblxuICAgICAgICByZXR1cm4gbmVlZGxlUGF0aDtcbiAgICB9XG5cbiAgICBfcmVuZGVyQ2FwKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjYXBDb2xvciA9IG9wdGlvbnMuY2FwLmNvbG9yIHx8IG9wdGlvbnMuY29sb3I7XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBnZW8uQ2lyY2xlKHRoaXMuY2VudGVyLCB0aGlzLmNhcFNpemUpO1xuXG4gICAgICAgIGNvbnN0IGNhcCA9IG5ldyBDaXJjbGUoY2lyY2xlLCB7XG4gICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjYXBDb2xvciB9LFxuICAgICAgICAgICAgc3Ryb2tlOiB7IGNvbG9yOiBjYXBDb2xvciB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjYXA7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYWRpYWxQb2ludGVyLCB7XG4gICAgY2FwOiB7XG4gICAgICAgIHNpemU6IENBUF9TSVpFXG4gICAgfSxcbiAgICBhcnJvdzoge1xuICAgICAgICB3aWR0aDogMTYsXG4gICAgICAgIGhlaWdodDogMTRcbiAgICB9LFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICB0eXBlOiBSQURJQUxfUE9JTlRFUixcbiAgICAgICAgZHVyYXRpb246IEFOR1VMQVJfU1BFRURcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkaWFsUG9pbnRlcjtcbiIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCByb3VuZCwgaXNBcnJheSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBDT09SRF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCBHYXVnZSBmcm9tICcuLi9nYXVnZSc7XG5pbXBvcnQgUmFkaWFsU2NhbGUgZnJvbSAnLi9yYWRpYWwtc2NhbGUnO1xuaW1wb3J0IFJhZGlhbFBvaW50ZXIgZnJvbSAnLi9yYWRpYWwtcG9pbnRlcic7XG5cbmNvbnN0IEdyb3VwID0gZHJhd2luZy5Hcm91cDtcblxuY2xhc3MgUmFkaWFsR2F1Z2UgZXh0ZW5kcyBHYXVnZSB7XG5cbiAgICByZWZsb3coYmJveCkge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgICAgIHRoaXMuc2NhbGUucmVmbG93KGJib3gpO1xuICAgICAgICB0aGlzLl9pbml0aWFsUGxvdEFyZWEgPSB0aGlzLnNjYWxlLmJib3g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRlcnNbaV0ucmVmbG93KHRoaXMuc2NhbGUuYXJjKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxQbG90QXJlYSA9IGdlby5SZWN0LnVuaW9uKHRoaXMuX2luaXRpYWxQbG90QXJlYSwgcG9pbnRlcnNbaV0uYmJveCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpdFNjYWxlKGJib3gpO1xuICAgICAgICB0aGlzLmFsaWduU2NhbGUoYmJveCk7XG4gICAgICAgIHRoaXMuX2J1aWxkVmlzdWFsKHRoaXMuZ2F1Z2VBcmVhLCBwb2ludGVycywgdGhpcy5zY2FsZSk7XG4gICAgICAgIHRoaXMuX2RyYXcoKTtcbiAgICB9XG5cbiAgICBfYnVpbGRWaXN1YWwoZ2F1Z2VBcmVhLCBwb2ludGVycywgc2NhbGUpIHtcbiAgICAgICAgY29uc3QgdmlzdWFscyA9IHRoaXMuX3Zpc3VhbHMgPSBuZXcgR3JvdXAoKTtcblxuICAgICAgICB2aXN1YWxzLmFwcGVuZChnYXVnZUFyZWEpO1xuICAgICAgICB2aXN1YWxzLmFwcGVuZChzY2FsZS50aWNrcyk7XG4gICAgICAgIHZpc3VhbHMuYXBwZW5kKHNjYWxlLnJhbmdlcyk7XG4gICAgICAgIHRoaXMuX2J1aWxkUG9pbnRlcnMocG9pbnRlcnMpO1xuICAgICAgICB2aXN1YWxzLmFwcGVuZChzY2FsZS5sYWJlbEVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBfYnVpbGRQb2ludGVycyhwb2ludGVycykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gcG9pbnRlcnNbaV07XG4gICAgICAgICAgICBjdXJyZW50LnJlbmRlcigpO1xuICAgICAgICAgICAgdGhpcy5fdmlzdWFscy5hcHBlbmQoY3VycmVudC5lbGVtZW50cyk7XG5cbiAgICAgICAgICAgIGN1cnJlbnQudmFsdWUoY3VycmVudC5vcHRpb25zLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpdFNjYWxlKGJib3gpIHtcbiAgICAgICAgY29uc3QgYXJjID0gdGhpcy5zY2FsZS5hcmM7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhQm94ID0gdGhpcy5faW5pdGlhbFBsb3RBcmVhO1xuICAgICAgICBjb25zdCBzdGVwID0gTWF0aC5hYnModGhpcy5nZXREaWZmKHBsb3RBcmVhQm94LCBiYm94KSk7XG4gICAgICAgIGxldCBtaW4gPSByb3VuZChzdGVwLCBDT09SRF9QUkVDSVNJT04pO1xuICAgICAgICBsZXQgbWF4ID0gcm91bmQoLXN0ZXAsIENPT1JEX1BSRUNJU0lPTik7XG4gICAgICAgIGxldCBtaW5EaWZmLCBtaWREaWZmLCBtYXhEaWZmLCBtaWQsIG9sZERpZmY7XG4gICAgICAgIGxldCBzdGFsZUZsYWcgPSAwO1xuICAgICAgICBsZXQgaSA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGkrKyA8IDEwMCkge1xuICAgICAgICAgICAgc3RhbGVGbGFnID0gKG9sZERpZmYgPT09IG1heERpZmYpID8gKHN0YWxlRmxhZyArIDEpIDogMDtcblxuICAgICAgICAgICAgaWYgKHN0YWxlRmxhZyA+IDUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1pbiAhPT0gbWlkKSB7XG4gICAgICAgICAgICAgICAgbWluRGlmZiA9IHRoaXMuZ2V0UGxvdEJveChtaW4sIGJib3gsIGFyYyk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPD0gbWluRGlmZiAmJiBtaW5EaWZmIDw9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF4ICE9PSBtaWQpIHtcbiAgICAgICAgICAgICAgICBtYXhEaWZmID0gdGhpcy5nZXRQbG90Qm94KG1heCwgYmJveCwgYXJjKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA8PSBtYXhEaWZmICYmIG1heERpZmYgPD0gMikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtaW5EaWZmID4gMCAmJiBtYXhEaWZmID4gMCkge1xuICAgICAgICAgICAgICAgIG1pZCA9IG1pbiAqIDI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkRpZmYgPCAwICYmIG1heERpZmYgPCAwKSB7XG4gICAgICAgICAgICAgICAgbWlkID0gbWF4ICogMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWlkID0gcm91bmQoKChtaW4gKyBtYXgpIC8gMikgfHwgMSwgQ09PUkRfUFJFQ0lTSU9OKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWlkRGlmZiA9IHRoaXMuZ2V0UGxvdEJveChtaWQsIGJib3gsIGFyYyk7XG4gICAgICAgICAgICBpZiAoMCA8PSBtaWREaWZmICYmIG1pZERpZmYgPD0gMikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvbGREaWZmID0gbWF4RGlmZjtcblxuICAgICAgICAgICAgaWYgKG1pZERpZmYgPiAwKSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gbWlkO1xuICAgICAgICAgICAgICAgIG1heERpZmYgPSBtaWREaWZmO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW4gPSBtaWQ7XG4gICAgICAgICAgICAgICAgbWluRGlmZiA9IG1pZERpZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQbG90Qm94KHN0ZXAsIGJib3gsIGFyYykge1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gdGhpcy5wb2ludGVycztcbiAgICAgICAgY29uc3QgcmFkaXVzID0gYXJjLmdldFJhZGl1c1goKTtcbiAgICAgICAgY29uc3Qgc2NhbGVBcmMgPSBhcmMuY2xvbmUoKTtcblxuICAgICAgICBzY2FsZUFyYy5zZXRSYWRpdXNYKHJhZGl1cyArIHN0ZXApLnNldFJhZGl1c1kocmFkaXVzICsgc3RlcCk7XG5cbiAgICAgICAgc2NhbGUuYXJjID0gc2NhbGVBcmM7XG4gICAgICAgIHNjYWxlLnJlZmxvdyhiYm94KTtcbiAgICAgICAgdGhpcy5wbG90QmJveCA9IHNjYWxlLmJib3g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRlcnNbaV0ucmVmbG93KHNjYWxlQXJjKTtcbiAgICAgICAgICAgIHRoaXMucGxvdEJib3ggPSBnZW8uUmVjdC51bmlvbih0aGlzLnBsb3RCYm94LCBwb2ludGVyc1tpXS5iYm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmdldERpZmYodGhpcy5wbG90QmJveCwgYmJveCk7XG4gICAgfVxuXG4gICAgZ2V0RGlmZihwbG90Qm94LCBib3gpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKGJveC53aWR0aCgpIC0gcGxvdEJveC53aWR0aCgpLCBib3guaGVpZ2h0KCkgLSBwbG90Qm94LmhlaWdodCgpKTtcbiAgICB9XG5cbiAgICBhbGlnblNjYWxlKGJib3gpIHtcbiAgICAgICAgY29uc3QgcGxvdEJveENlbnRlciA9IHRoaXMucGxvdEJib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGJveENlbnRlciA9IGJib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdYID0gcGxvdEJveENlbnRlci54IC0gYm94Q2VudGVyLng7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdZID0gcGxvdEJveENlbnRlci55IC0gYm94Q2VudGVyLnk7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIHBvaW50ZXJzIH0gPSB0aGlzO1xuXG4gICAgICAgIHNjYWxlLmFyYy5jZW50ZXIueCAtPSBwYWRkaW5nWDtcbiAgICAgICAgc2NhbGUuYXJjLmNlbnRlci55IC09IHBhZGRpbmdZO1xuXG4gICAgICAgIHNjYWxlLnJlZmxvdyhiYm94KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludGVyc1tpXS5yZWZsb3coc2NhbGUuYXJjKTtcbiAgICAgICAgICAgIHRoaXMucGxvdEJib3ggPSBnZW8uUmVjdC51bmlvbihzY2FsZS5iYm94LCBwb2ludGVyc1tpXS5iYm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVNb2RlbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSBvcHRpb25zLnBvaW50ZXI7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZSA9IG5ldyBSYWRpYWxTY2FsZShvcHRpb25zLnNjYWxlLCB0aGlzLmNvbnRleHRTZXJ2aWNlKTtcblxuICAgICAgICB0aGlzLnBvaW50ZXJzID0gW107XG5cbiAgICAgICAgY29uc3QgcG9pbnRlcnNBcnIgPSBpc0FycmF5KHBvaW50ZXJzKSA/IHBvaW50ZXJzIDogWyBwb2ludGVycyBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gbmV3IFJhZGlhbFBvaW50ZXIoc2NhbGUsIGRlZXBFeHRlbmQoe30sIHBvaW50ZXJzQXJyW2ldLCB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25zOiBvcHRpb25zLnRyYW5zaXRpb25zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJzLnB1c2goY3VycmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGlhbEdhdWdlLCB7XG4gICAgdHJhbnNpdGlvbnM6IHRydWUsXG4gICAgZ2F1Z2VBcmVhOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiXCJcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkaWFsR2F1Z2U7IiwiaW1wb3J0IFJhZGlhbFNjYWxlIGZyb20gJy4uL3JhZGlhbC9yYWRpYWwtc2NhbGUnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBBcmNTY2FsZSBleHRlbmRzIFJhZGlhbFNjYWxlIHtcblxuICAgIHJhbmdlU2VnbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXgsIHJhbmdlUGxhY2Vob2xkZXJDb2xvciwgcmFuZ2VMaW5lQ2FwIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIFsgeyBmcm9tOiBtaW4sIHRvOiBtYXgsIGNvbG9yOiByYW5nZVBsYWNlaG9sZGVyQ29sb3IsIGxpbmVDYXA6IHJhbmdlTGluZUNhcCB9IF07XG4gICAgfVxuXG4gICAgaGFzUmFuZ2VzKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwbGFjZWhvbGRlclJhbmdlQW5nbGUoYW5nbGUpIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLnJhbmdlcy5jaGlsZHJlblswXS5nZW9tZXRyeSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgICAgICAgZ2VvbWV0cnkuc2V0RW5kQW5nbGUoYW5nbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VvbWV0cnkuc2V0U3RhcnRBbmdsZShhbmdsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRSYW5nZShmcm9tLCB0bywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXZlcnNlID0gdGhpcy5vcHRpb25zLnJldmVyc2U7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuc2xvdEFuZ2xlKHJldmVyc2UgPyB0byA6IGZyb20pO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IHRoaXMuc2xvdEFuZ2xlKHJldmVyc2UgPyBmcm9tIDogdG8pO1xuXG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5jcmVhdGVSYW5nZShzdGFydEFuZ2xlLCBlbmRBbmdsZSwgdGhpcy5nZXRSYW5nZVJhZGl1cygpLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnJhbmdlcy5hcHBlbmQocmFuZ2UpO1xuXG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEFyY1NjYWxlLCB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMTAwLFxuXG4gICAgbWFqb3JUaWNrczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0sXG5cbiAgICBtaW5vclRpY2tzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcblxuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0sXG5cbiAgICBzdGFydEFuZ2xlOiAwLFxuICAgIGVuZEFuZ2xlOiAxODAsXG4gICAgcmFuZ2VMaW5lQ2FwOiAncm91bmQnXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQXJjU2NhbGU7IiwiaW1wb3J0IHsgZHJhd2luZywgQ29sb3IgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZVZhbHVlLCBzZXREZWZhdWx0T3B0aW9ucywgcm91bmQsIGxpbWl0VmFsdWUgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQU5HVUxBUl9TUEVFRCwgTElORUFSLCBSQURJQUxfUkFOR0VfUE9JTlRFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IE1BWF9EVVJBVElPTiA9IDgwMDtcblxuY2xhc3MgUmFuZ2VQb2ludGVyQW5pbWF0aW9uIGV4dGVuZHMgZHJhd2luZy5BbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgYW5pbWF0aW9uT3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSAoTWF0aC5hYnMoYW5pbWF0aW9uT3B0aW9ucy5uZXdBbmdsZSAtIGFuaW1hdGlvbk9wdGlvbnMub2xkQW5nbGUpIC8gYW5pbWF0aW9uT3B0aW9ucy5kdXJhdGlvbikgKiAxMDAwO1xuICAgICAgICBhbmltYXRpb25PcHRpb25zLmR1cmF0aW9uID0gbGltaXRWYWx1ZShkdXJhdGlvbiwgQU5HVUxBUl9TUEVFRCwgTUFYX0RVUkFUSU9OKTtcblxuICAgICAgICBjb25zdCBzdGFydENvbG9yID0gZWxlbWVudC5lbGVtZW50cy5vcHRpb25zLmdldChcInN0cm9rZS5jb2xvclwiKTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBlbGVtZW50LmN1cnJlbnRDb2xvcigpO1xuICAgICAgICBpZiAoc3RhcnRDb2xvciAhPT0gY29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDb2xvciA9IG5ldyBDb2xvcihzdGFydENvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBuZXcgQ29sb3IoY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBzdGFydENvbG9yLCBjb2xvciB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYW5nbGUgPSBpbnRlcnBvbGF0ZVZhbHVlKG9wdGlvbnMub2xkQW5nbGUsIG9wdGlvbnMubmV3QW5nbGUsIHBvcyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hbmdsZShhbmdsZSk7XG5cbiAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgICBjb25zdCByID0gcm91bmQoaW50ZXJwb2xhdGVWYWx1ZShzdGFydENvbG9yLnIsIGNvbG9yLnIsIHBvcykpO1xuICAgICAgICAgICAgY29uc3QgZyA9IHJvdW5kKGludGVycG9sYXRlVmFsdWUoc3RhcnRDb2xvci5nLCBjb2xvci5nLCBwb3MpKTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSByb3VuZChpbnRlcnBvbGF0ZVZhbHVlKHN0YXJ0Q29sb3IuYiwgY29sb3IuYiwgcG9zKSk7XG5cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHJva2UobmV3IENvbG9yKHIsIGcsIGIpLnRvSGV4KCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYW5nZVBvaW50ZXJBbmltYXRpb24sIHtcbiAgICBlYXNpbmc6IExJTkVBUixcbiAgICBkdXJhdGlvbjogQU5HVUxBUl9TUEVFRFxufSk7XG5cbmRyYXdpbmcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFJBRElBTF9SQU5HRV9QT0lOVEVSLCBSYW5nZVBvaW50ZXJBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBSYW5nZVBvaW50ZXJBbmltYXRpb247IiwiaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEFOR1VMQVJfU1BFRUQsIFJBRElBTF9SQU5HRV9QT0lOVEVSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBQb2ludGVyIGZyb20gJy4uL3BvaW50ZXInO1xuaW1wb3J0IFJhbmdlUG9pbnRlckFuaW1hdGlvbiBmcm9tICcuL3JhbmdlLXBvaW50ZXItYW5pbWF0aW9uJztcblxuY2xhc3MgUmFuZ2VQb2ludGVyIGV4dGVuZHMgUG9pbnRlciB7XG5cbiAgICByZXBhaW50KCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBvbGRBbmdsZSA9IHNjYWxlLnNsb3RBbmdsZShvcHRpb25zLl9vbGRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IG5ld0FuZ2xlID0gc2NhbGUuc2xvdEFuZ2xlKG9wdGlvbnMudmFsdWUpO1xuXG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uYWJvcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbi50cmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuYW5nbGUobmV3QW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5zdHJva2UodGhpcy5jdXJyZW50Q29sb3IoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IG5ldyBSYW5nZVBvaW50ZXJBbmltYXRpb24odGhpcywgZGVlcEV4dGVuZChvcHRpb25zLmFuaW1hdGlvbiwge1xuICAgICAgICAgICAgICAgIG9sZEFuZ2xlOiBvbGRBbmdsZSxcbiAgICAgICAgICAgICAgICBuZXdBbmdsZTogbmV3QW5nbGVcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5nbGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmVsZW1lbnRzLmdlb21ldHJ5KCk7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlLm9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgICAgICAgZ2VvbWV0cnkuc2V0U3RhcnRBbmdsZSh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5zZXRFbmRBbmdsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2FsZS5wbGFjZWhvbGRlclJhbmdlQW5nbGUodmFsdWUpO1xuICAgIH1cblxuICAgIHN0cm9rZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnN0cm9rZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcblxuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWVwRXh0ZW5kKG9wdGlvbnMuYW5pbWF0aW9uLCB7XG4gICAgICAgICAgICAgICAgc3RhcnRBbmdsZTogMCxcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHNjYWxlLmFyYy5jZW50ZXIsXG4gICAgICAgICAgICAgICAgcmV2ZXJzZTogc2NhbGUub3B0aW9ucy5yZXZlcnNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBzY2FsZS5hZGRSYW5nZShzY2FsZS5vcHRpb25zLm1pbiwgdGhpcy5vcHRpb25zLnZhbHVlLCB7XG4gICAgICAgICAgICBjb2xvcjogdGhpcy5jdXJyZW50Q29sb3IoKSxcbiAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgIGxpbmVDYXA6IHNjYWxlLm9wdGlvbnMucmFuZ2VMaW5lQ2FwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGN1cnJlbnRDb2xvcigpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gdGhpcy5zY2FsZS5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IGNvbG9ycywgY29sb3IsIHZhbHVlIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGlzTnVtYmVyKHZhbHVlKSA/IHZhbHVlIDogbWluO1xuXG4gICAgICAgIGlmIChjb2xvcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNvbG9ycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2xvcjogcmFuZ2VDb2xvciwgZnJvbSA9IG1pbiwgdG8gPSBtYXggfSA9IGNvbG9yc1tpZHhdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPD0gY3VycmVudFZhbHVlICYmIGN1cnJlbnRWYWx1ZSA8PSB0bykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2VDb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuXG4gICAgcmVmbG93KCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgIHRoaXMuYmJveCA9IHRoaXMuZWxlbWVudHMuYmJveCgpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFuZ2VQb2ludGVyLCB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IFJBRElBTF9SQU5HRV9QT0lOVEVSLFxuICAgICAgICBkdXJhdGlvbjogQU5HVUxBUl9TUEVFRFxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYW5nZVBvaW50ZXI7XG4iLCJpbXBvcnQgUmFkaWFsR2F1Z2UgZnJvbSAnLi4vcmFkaWFsL3JhZGlhbC1nYXVnZSc7XG5pbXBvcnQgQXJjU2NhbGUgZnJvbSAnLi9hcmMtc2NhbGUnO1xuaW1wb3J0IFJhbmdlUG9pbnRlciBmcm9tICcuL3JhbmdlLXBvaW50ZXInO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuXG5jbGFzcyBBcmNHYXVnZSBleHRlbmRzIFJhZGlhbEdhdWdlIHtcblxuICAgIF9pbml0VGhlbWUodGhlbWUpIHtcbiAgICAgICAgc3VwZXIuX2luaXRUaGVtZSh0aGVtZSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLmNvbG9yID0gdGhpcy5vcHRpb25zLmNvbG9yIHx8ICh0aGlzLnRoZW1lLnBvaW50ZXIgfHwge30pLmNvbG9yO1xuICAgIH1cblxuICAgIF9jcmVhdGVNb2RlbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlID0gbmV3IEFyY1NjYWxlKG9wdGlvbnMuc2NhbGUsIHRoaXMuY29udGV4dFNlcnZpY2UpO1xuXG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBuZXcgUmFuZ2VQb2ludGVyKHNjYWxlLCBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBjb2xvcnM6IG9wdGlvbnMuY29sb3JzLFxuICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy52YWx1ZSxcbiAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25zOiBvcHRpb25zLnRyYW5zaXRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLnBvaW50ZXJzID0gWyBwb2ludGVyIF07XG4gICAgfVxuXG4gICAgX2J1aWxkUG9pbnRlcnMocG9pbnRlcnMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHBvaW50ZXJzW2ldO1xuICAgICAgICAgICAgY3VycmVudC5yZW5kZXIoKTtcblxuICAgICAgICAgICAgY3VycmVudC52YWx1ZShjdXJyZW50Lm9wdGlvbnMudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldFZhbHVlT3B0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjdXJyZW50Q29sb3IoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSB0aGlzLnBvaW50ZXJzWzBdO1xuICAgICAgICBpZiAocG9pbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50ZXIuY3VycmVudENvbG9yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjZW50ZXJMYWJlbFBvc2l0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnNjYWxlLmFyYy5jZW50ZXI7XG5cbiAgICAgICAgbGV0IGxlZnQgPSBjZW50ZXIueCAtIHdpZHRoIC8gMjtcbiAgICAgICAgbGV0IHRvcCA9IGNlbnRlci55IC0gaGVpZ2h0IC8gMjtcblxuICAgICAgICBpZiAod2lkdGggPCBzaXplLndpZHRoKSB7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGxlZnQgKyB3aWR0aDtcblxuICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KGxlZnQsIDApO1xuXG4gICAgICAgICAgICBpZiAocmlnaHQgPiBzaXplLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgbGVmdCAtPSByaWdodCAtIHNpemUud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVpZ2h0IDwgc2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLnNjYWxlLmJib3g7XG4gICAgICAgICAgICBjb25zdCB5TGltaXQgPSBiYm94LmJvdHRvbVJpZ2h0KCkueTtcbiAgICAgICAgICAgIGNvbnN0IGJvdHRvbSA9IHRvcCArIGhlaWdodDtcblxuICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgodG9wLCBiYm94Lm9yaWdpbi55KTtcblxuICAgICAgICAgICAgaWYgKGJvdHRvbSA+IHlMaW1pdCkge1xuICAgICAgICAgICAgICAgIHRvcCAtPSBib3R0b20gLSB5TGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgIHRvcDogdG9wXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcmNHYXVnZTsiLCJpbXBvcnQgQXJjR2F1Z2UgZnJvbSAnLi4vYXJjL2FyYy1nYXVnZSc7XG5cbmNvbnN0IGRlZmF1bHRTdGFydEFuZ2xlID0gOTA7XG5cbmNsYXNzIENpcmN1bGFyR2F1Z2UgZXh0ZW5kcyBBcmNHYXVnZSB7XG4gICAgX2NyZWF0ZU1vZGVsKCkge1xuICAgICAgICBjb25zdCBzY2FsZU9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuc2NhbGU7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NhbGVPcHRpb25zLnN0YXJ0QW5nbGUgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzY2FsZU9wdGlvbnMuc3RhcnRBbmdsZSA9IGRlZmF1bHRTdGFydEFuZ2xlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NhbGVPcHRpb25zLmVuZEFuZ2xlID0gc2NhbGVPcHRpb25zLnN0YXJ0QW5nbGUgKyAzNjA7XG5cbiAgICAgICAgc3VwZXIuX2NyZWF0ZU1vZGVsKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaXJjdWxhckdhdWdlO1xuIiwiaW1wb3J0IHtcbiAgICBDbGFzcyxcbiAgICBkZWZpbmVkLFxuICAgIHNldERlZmF1bHRPcHRpb25zXG59IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IERFRkFVTFRfUVVJRVRfWk9ORV9MRU5HVEggPSAxMDtcblxuZXhwb3J0IGNsYXNzIEVuY29kaW5nIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmluaXRQcm9wZXJ0aWVzKCk7XG4gICAgfVxuXG4gICAgaW5pdFByb3BlcnRpZXMoKSB7IH1cblxuICAgIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnF1aWV0Wm9uZUxlbmd0aCA9IHRoaXMub3B0aW9ucy5hZGRRdWlldFpvbmUgPyAyICogdGhpcy5vcHRpb25zLnF1aWV0Wm9uZUxlbmd0aCA6IDA7XG4gICAgfVxuXG4gICAgZW5jb2RlKHZhbHVlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZFZhbHVlID0gZGVmaW5lZCh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdGhpcy5pbml0VmFsdWUoY29udmVydGVkVmFsdWUsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWRkUXVpZXRab25lKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFF1aWV0Wm9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGREYXRhKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGRRdWlldFpvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkUXVpZXRab25lKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmFzZVVuaXQ6IHRoaXMuYmFzZVVuaXQsXG4gICAgICAgICAgICBwYXR0ZXJuOiB0aGlzLnBhdHRlcm5cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbml0VmFsdWUoKSB7IH1cblxuICAgIGFkZFF1aWV0Wm9uZSgpIHtcbiAgICAgICAgdGhpcy5wYXR0ZXJuLnB1c2godGhpcy5vcHRpb25zLnF1aWV0Wm9uZUxlbmd0aCB8fCBERUZBVUxUX1FVSUVUX1pPTkVfTEVOR1RIKTtcbiAgICB9XG5cbiAgICBhZGREYXRhKCkgeyB9XG5cbiAgICBpbnZhbGlkQ2hhcmFjdGVyRXJyb3IoY2hhcmFjdGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhcmFjdGVyIFwiJHtjaGFyYWN0ZXJ9XCIgaXMgbm90IHZhbGlkIGZvciBzeW1ib2xvZ3kgJHt0aGlzLm5hbWV9LmApO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRW5jb2RpbmcsIHtcbiAgICBxdWlldFpvbmVMZW5ndGg6IERFRkFVTFRfUVVJRVRfWk9ORV9MRU5HVEgsXG4gICAgYWRkUXVpZXRab25lOiB0cnVlLFxuICAgIGFkZENoZWNrU3VtOiB0cnVlXG59KTtcbiIsImltcG9ydCB7IEVuY29kaW5nIH0gZnJvbSAnLi9lbmNvZGluZyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5cbmV4cG9ydCBjbGFzcyBDb2RlMTEgZXh0ZW5kcyBFbmNvZGluZyB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29kZSAxMVwiLFxuICAgICAgICAgICAgY2hhcmFjdGVyTWFwOiBbXCIxMTExMjFcIiwgXCIyMTExMjFcIiwgXCIxMjExMjFcIiwgXCIyMjExMTFcIiwgXCIxMTIxMjFcIiwgXCIyMTIxMTFcIiwgXCIxMjIxMTFcIiwgXCIxMTEyMjFcIiwgXCIyMTEyMTFcIiwgXCIyMTExMTFcIiwgXCIxMTIxMTFcIl0sXG4gICAgICAgICAgICBjQ2hlY2tTdW1Ub3RhbDogMTAsXG4gICAgICAgICAgICBrQ2hlY2tTdW1Ub3RhbDogOSxcbiAgICAgICAgICAgIGtDaGVja1N1bU1pbkxlbmd0aDogMTAsXG4gICAgICAgICAgICBjaGVja1N1bU1vZDogMTEsXG4gICAgICAgICAgICBEQVNIX1ZBTFVFOiAxMCxcbiAgICAgICAgICAgIERBU0g6IFwiLVwiLFxuICAgICAgICAgICAgU1RBUlQ6IFwiMTEyMjExXCIsXG4gICAgICAgICAgICBTVE9QOiBcIjExMjIxXCJcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdFZhbHVlKHZhbHVlLCB3aWR0aCkge1xuICAgICAgICB0aGlzLnBhdHRlcm4gPSBbXTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudG90YWxVbml0cyA9IDA7XG4gICAgfVxuXG4gICAgYWRkRGF0YSgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlO1xuXG4gICAgICAgIHRoaXMuYWRkUGF0dGVybih0aGlzLlNUQVJUKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENoYXJhY3Rlcih2YWx1ZS5jaGFyQXQoaSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGRDaGVja1N1bSkge1xuICAgICAgICAgICAgdGhpcy5hZGRDaGVja1N1bSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKHRoaXMuU1RPUCk7XG4gICAgICAgIHRoaXMuc2V0QmFzZVVuaXQoKTtcbiAgICB9XG5cbiAgICBzZXRCYXNlVW5pdCgpIHtcbiAgICAgICAgdGhpcy5iYXNlVW5pdCA9IHRoaXMud2lkdGggLyAodGhpcy50b3RhbFVuaXRzICsgdGhpcy5xdWlldFpvbmVMZW5ndGgpO1xuICAgIH1cblxuICAgIGFkZENoZWNrU3VtKCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgIGxldCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNWYWx1ZSA9IHRoaXMuZ2V0V2VpZ2h0ZWRTdW0odmFsdWUsIGxlbmd0aCwgdGhpcy5jQ2hlY2tTdW1Ub3RhbCkgJSB0aGlzLmNoZWNrU3VtTW9kO1xuXG4gICAgICAgIHRoaXMuY2hlY2tzdW0gPSBTdHJpbmcoY1ZhbHVlKTtcbiAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKHRoaXMuY2hhcmFjdGVyTWFwW2NWYWx1ZV0pO1xuXG4gICAgICAgIGxlbmd0aCsrO1xuXG4gICAgICAgIGlmIChsZW5ndGggPj0gdGhpcy5rQ2hlY2tTdW1NaW5MZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBrVmFsdWUgPSAoY1ZhbHVlICsgdGhpcy5nZXRXZWlnaHRlZFN1bSh2YWx1ZSwgbGVuZ3RoLCB0aGlzLmtDaGVja1N1bVRvdGFsKSkgJSB0aGlzLmNoZWNrU3VtTW9kO1xuICAgICAgICAgICAgdGhpcy5jaGVja3N1bSArPSBrVmFsdWU7XG4gICAgICAgICAgICB0aGlzLmFkZFBhdHRlcm4odGhpcy5jaGFyYWN0ZXJNYXBba1ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRXZWlnaHRlZFN1bSh2YWx1ZSwgbGVuZ3RoLCB0b3RhbCkge1xuICAgICAgICBsZXQgd2VpZ2h0ZWRTdW0gPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHdlaWdodGVkU3VtICs9IHRoaXMud2VpZ2h0ZWRWYWx1ZSh0aGlzLmdldFZhbHVlKHZhbHVlLmNoYXJBdChpKSksIGxlbmd0aCwgaSwgdG90YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdlaWdodGVkU3VtO1xuICAgIH1cblxuICAgIHdlaWdodGVkVmFsdWUodmFsdWUsIGxlbmd0aCwgaW5kZXgsIHRvdGFsKSB7XG4gICAgICAgIGNvbnN0IHdlaWdodCA9IChsZW5ndGggLSBpbmRleCkgJSB0b3RhbCB8fCB0b3RhbDtcbiAgICAgICAgcmV0dXJuIHdlaWdodCAqIHZhbHVlO1xuICAgIH1cblxuICAgIGdldFZhbHVlKGNoYXJhY3Rlcikge1xuICAgICAgICBpZiAoIWlzTmFOKGNoYXJhY3RlcikpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChjaGFyYWN0ZXIsIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIgIT09IHRoaXMuREFTSCkge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkQ2hhcmFjdGVyRXJyb3IoY2hhcmFjdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLkRBU0hfVkFMVUU7XG4gICAgfVxuXG4gICAgYWRkQ2hhcmFjdGVyKGNoYXJhY3Rlcikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoY2hhcmFjdGVyKTtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMuY2hhcmFjdGVyTWFwW3ZhbHVlXTtcblxuICAgICAgICB0aGlzLmFkZFBhdHRlcm4ocGF0dGVybik7XG4gICAgfVxuXG4gICAgYWRkUGF0dGVybihwYXR0ZXJuKSB7XG4gICAgICAgIGxldCB2YWx1ZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQocGF0dGVybi5jaGFyQXQoaSksIDEwKTtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybi5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMudG90YWxVbml0cyArPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ29kZTExLCB7XG4gICAgYWRkQ2hlY2tTdW06IHRydWVcbn0pO1xuIiwiaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgRW5jb2RpbmcgfSBmcm9tICcuL2VuY29kaW5nJztcblxuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcblxuZXhwb3J0IGNsYXNzIENvZGUzOUJhc2UgZXh0ZW5kcyBFbmNvZGluZyB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIG1pbkJhc2VVbml0TGVuZ3RoOiAwLjdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkRGF0YSgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlO1xuXG4gICAgICAgIHRoaXMuYWRkU3RhcnQoKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB2YWx1ZS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENoYXJhY3Rlcih2YWx1ZS5jaGFyQXQoaWR4KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFkZENoZWNrU3VtKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hDaGVja1N1bSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRTdG9wKCk7XG4gICAgICAgIHRoaXMucHJlcGFyZVZhbHVlcygpO1xuICAgIH1cblxuICAgIGFkZENoYXJhY3RlcihjaGFyYWN0ZXIpIHtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyRGF0YSA9IHRoaXMuY2hhcmFjdGVyTWFwW2NoYXJhY3Rlcl07XG5cbiAgICAgICAgaWYgKCFjaGFyYWN0ZXJEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmludmFsaWRDaGFyYWN0ZXJFcnJvcihjaGFyYWN0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRCYXNlKGNoYXJhY3RlckRhdGEpO1xuICAgIH1cblxuICAgIGFkZEJhc2UoKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIENvZGUzOSBleHRlbmRzIENvZGUzOUJhc2Uge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiBcIkNvZGUgMzlcIixcbiAgICAgICAgICAgIGNoZWNrU3VtTW9kOiA0MyxcbiAgICAgICAgICAgIG1pblJhdGlvOiAyLjUsXG4gICAgICAgICAgICBtYXhSYXRpbzogMyxcbiAgICAgICAgICAgIGdhcFdpZHRoOiAxLFxuICAgICAgICAgICAgc3BsaXRDaGFyYWN0ZXI6IFwifFwiLFxuICAgICAgICAgICAgcGF0dGVybk1hcHBpbmdzOiB7XG4gICAgICAgICAgICAgICAgXCJiXCI6IFwiMXxcIixcbiAgICAgICAgICAgICAgICBcIndcIjogXCIxfFwiLFxuICAgICAgICAgICAgICAgIFwiQlwiOiBcInJhdGlvfFwiLFxuICAgICAgICAgICAgICAgIFwiV1wiOiBcInJhdGlvfFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhcmFjdGVyTWFwOiB7XG4gICAgICAgICAgICAgICAgXCIwXCI6IHsgXCJwYXR0ZXJuXCI6IFwiYndiV0J3QndiXCIsIFwidmFsdWVcIjogMCB9LFxuICAgICAgICAgICAgICAgIFwiMVwiOiB7IFwicGF0dGVyblwiOiBcIkJ3Yldid2J3QlwiLCBcInZhbHVlXCI6IDEgfSxcbiAgICAgICAgICAgICAgICBcIjJcIjogeyBcInBhdHRlcm5cIjogXCJid0JXYndid0JcIiwgXCJ2YWx1ZVwiOiAyIH0sXG4gICAgICAgICAgICAgICAgXCIzXCI6IHsgXCJwYXR0ZXJuXCI6IFwiQndCV2J3YndiXCIsIFwidmFsdWVcIjogMyB9LFxuICAgICAgICAgICAgICAgIFwiNFwiOiB7IFwicGF0dGVyblwiOiBcImJ3YldCd2J3QlwiLCBcInZhbHVlXCI6IDQgfSxcbiAgICAgICAgICAgICAgICBcIjVcIjogeyBcInBhdHRlcm5cIjogXCJCd2JXQndid2JcIiwgXCJ2YWx1ZVwiOiA1IH0sXG4gICAgICAgICAgICAgICAgXCI2XCI6IHsgXCJwYXR0ZXJuXCI6IFwiYndCV0J3YndiXCIsIFwidmFsdWVcIjogNiB9LFxuICAgICAgICAgICAgICAgIFwiN1wiOiB7IFwicGF0dGVyblwiOiBcImJ3Yldid0J3QlwiLCBcInZhbHVlXCI6IDcgfSxcbiAgICAgICAgICAgICAgICBcIjhcIjogeyBcInBhdHRlcm5cIjogXCJCd2JXYndCd2JcIiwgXCJ2YWx1ZVwiOiA4IH0sXG4gICAgICAgICAgICAgICAgXCI5XCI6IHsgXCJwYXR0ZXJuXCI6IFwiYndCV2J3QndiXCIsIFwidmFsdWVcIjogOSB9LFxuICAgICAgICAgICAgICAgIFwiQVwiOiB7IFwicGF0dGVyblwiOiBcIkJ3YndiV2J3QlwiLCBcInZhbHVlXCI6IDEwIH0sXG4gICAgICAgICAgICAgICAgXCJCXCI6IHsgXCJwYXR0ZXJuXCI6IFwiYndCd2JXYndCXCIsIFwidmFsdWVcIjogMTEgfSxcbiAgICAgICAgICAgICAgICBcIkNcIjogeyBcInBhdHRlcm5cIjogXCJCd0J3Yldid2JcIiwgXCJ2YWx1ZVwiOiAxMiB9LFxuICAgICAgICAgICAgICAgIFwiRFwiOiB7IFwicGF0dGVyblwiOiBcImJ3YndCV2J3QlwiLCBcInZhbHVlXCI6IDEzIH0sXG4gICAgICAgICAgICAgICAgXCJFXCI6IHsgXCJwYXR0ZXJuXCI6IFwiQndid0JXYndiXCIsIFwidmFsdWVcIjogMTQgfSxcbiAgICAgICAgICAgICAgICBcIkZcIjogeyBcInBhdHRlcm5cIjogXCJid0J3Qldid2JcIiwgXCJ2YWx1ZVwiOiAxNSB9LFxuICAgICAgICAgICAgICAgIFwiR1wiOiB7IFwicGF0dGVyblwiOiBcImJ3YndiV0J3QlwiLCBcInZhbHVlXCI6IDE2IH0sXG4gICAgICAgICAgICAgICAgXCJIXCI6IHsgXCJwYXR0ZXJuXCI6IFwiQndid2JXQndiXCIsIFwidmFsdWVcIjogMTcgfSxcbiAgICAgICAgICAgICAgICBcIklcIjogeyBcInBhdHRlcm5cIjogXCJid0J3YldCd2JcIiwgXCJ2YWx1ZVwiOiAxOCB9LFxuICAgICAgICAgICAgICAgIFwiSlwiOiB7IFwicGF0dGVyblwiOiBcImJ3YndCV0J3YlwiLCBcInZhbHVlXCI6IDE5IH0sXG4gICAgICAgICAgICAgICAgXCJLXCI6IHsgXCJwYXR0ZXJuXCI6IFwiQndid2J3YldCXCIsIFwidmFsdWVcIjogMjAgfSxcbiAgICAgICAgICAgICAgICBcIkxcIjogeyBcInBhdHRlcm5cIjogXCJid0J3YndiV0JcIiwgXCJ2YWx1ZVwiOiAyMSB9LFxuICAgICAgICAgICAgICAgIFwiTVwiOiB7IFwicGF0dGVyblwiOiBcIkJ3Qndid2JXYlwiLCBcInZhbHVlXCI6IDIyIH0sXG4gICAgICAgICAgICAgICAgXCJOXCI6IHsgXCJwYXR0ZXJuXCI6IFwiYndid0J3YldCXCIsIFwidmFsdWVcIjogMjMgfSxcbiAgICAgICAgICAgICAgICBcIk9cIjogeyBcInBhdHRlcm5cIjogXCJCd2J3QndiV2JcIiwgXCJ2YWx1ZVwiOiAyNCB9LFxuICAgICAgICAgICAgICAgIFwiUFwiOiB7IFwicGF0dGVyblwiOiBcImJ3QndCd2JXYlwiLCBcInZhbHVlXCI6IDI1IH0sXG4gICAgICAgICAgICAgICAgXCJRXCI6IHsgXCJwYXR0ZXJuXCI6IFwiYndid2J3QldCXCIsIFwidmFsdWVcIjogMjYgfSxcbiAgICAgICAgICAgICAgICBcIlJcIjogeyBcInBhdHRlcm5cIjogXCJCd2J3YndCV2JcIiwgXCJ2YWx1ZVwiOiAyNyB9LFxuICAgICAgICAgICAgICAgIFwiU1wiOiB7IFwicGF0dGVyblwiOiBcImJ3Qndid0JXYlwiLCBcInZhbHVlXCI6IDI4IH0sXG4gICAgICAgICAgICAgICAgXCJUXCI6IHsgXCJwYXR0ZXJuXCI6IFwiYndid0J3QldiXCIsIFwidmFsdWVcIjogMjkgfSxcbiAgICAgICAgICAgICAgICBcIlVcIjogeyBcInBhdHRlcm5cIjogXCJCV2J3Yndid0JcIiwgXCJ2YWx1ZVwiOiAzMCB9LFxuICAgICAgICAgICAgICAgIFwiVlwiOiB7IFwicGF0dGVyblwiOiBcImJXQndid2J3QlwiLCBcInZhbHVlXCI6IDMxIH0sXG4gICAgICAgICAgICAgICAgXCJXXCI6IHsgXCJwYXR0ZXJuXCI6IFwiQldCd2J3YndiXCIsIFwidmFsdWVcIjogMzIgfSxcbiAgICAgICAgICAgICAgICBcIlhcIjogeyBcInBhdHRlcm5cIjogXCJiV2J3Qndid0JcIiwgXCJ2YWx1ZVwiOiAzMyB9LFxuICAgICAgICAgICAgICAgIFwiWVwiOiB7IFwicGF0dGVyblwiOiBcIkJXYndCd2J3YlwiLCBcInZhbHVlXCI6IDM0IH0sXG4gICAgICAgICAgICAgICAgXCJaXCI6IHsgXCJwYXR0ZXJuXCI6IFwiYldCd0J3YndiXCIsIFwidmFsdWVcIjogMzUgfSxcbiAgICAgICAgICAgICAgICBcIi1cIjogeyBcInBhdHRlcm5cIjogXCJiV2J3YndCd0JcIiwgXCJ2YWx1ZVwiOiAzNiB9LFxuICAgICAgICAgICAgICAgIFwiLlwiOiB7IFwicGF0dGVyblwiOiBcIkJXYndid0J3YlwiLCBcInZhbHVlXCI6IDM3IH0sXG4gICAgICAgICAgICAgICAgXCIgXCI6IHsgXCJwYXR0ZXJuXCI6IFwiYldCd2J3QndiXCIsIFwidmFsdWVcIjogMzggfSxcbiAgICAgICAgICAgICAgICBcIiRcIjogeyBcInBhdHRlcm5cIjogXCJiV2JXYldid2JcIiwgXCJ2YWx1ZVwiOiAzOSB9LFxuICAgICAgICAgICAgICAgIFwiL1wiOiB7IFwicGF0dGVyblwiOiBcImJXYldid2JXYlwiLCBcInZhbHVlXCI6IDQwIH0sXG4gICAgICAgICAgICAgICAgXCIrXCI6IHsgXCJwYXR0ZXJuXCI6IFwiYldid2JXYldiXCIsIFwidmFsdWVcIjogNDEgfSxcbiAgICAgICAgICAgICAgICBcIiVcIjogeyBcInBhdHRlcm5cIjogXCJid2JXYldiV2JcIiwgXCJ2YWx1ZVwiOiA0MiB9LFxuICAgICAgICAgICAgICAgIFNUQVJUOiB7IHBhdHRlcm46IFwiYldid0J3QndiXCIgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0VmFsdWUodmFsdWUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmRhdGFMZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IFtdO1xuICAgICAgICB0aGlzLnBhdHRlcm5TdHJpbmcgPSBcIlwiO1xuICAgIH1cblxuICAgIHByZXBhcmVWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IG1pbkJhc2VVbml0ID0gdGhpcy5taW5CYXNlVW5pdExlbmd0aDtcbiAgICAgICAgY29uc3QgbWluUmF0aW8gPSB0aGlzLm1pblJhdGlvO1xuICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5tYXgoMC4xNSAqIHRoaXMud2lkdGgsIDI0KSk7XG4gICAgICAgIGxldCBiYXNlVW5pdDtcbiAgICAgICAgbGV0IHJhdGlvID0gdGhpcy5tYXhSYXRpbztcblxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCBtaW5IZWlnaHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdWZmaWNpZW50IGhlaWdodCBmb3IgQ29kZTM5IGVuY29kaW5nOiB0aGUgY3VycmVudCBoZWlnaHQgaXMgJHt0aGlzLmhlaWdodH1weCBhbmQgdGhlIG1pbmltdW0gaGVpZ2h0IGlzICR7bWluSGVpZ2h0fXB4LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFzZVVuaXQgPSB0aGlzLmdldEJhc2VVbml0KHJhdGlvKTtcblxuICAgICAgICB3aGlsZSAoYmFzZVVuaXQgPCBtaW5CYXNlVW5pdCAmJiByYXRpbyA+IG1pblJhdGlvKSB7XG4gICAgICAgICAgICByYXRpbyA9IHBhcnNlRmxvYXQoKHJhdGlvIC0gMC4xKS50b0ZpeGVkKDEpKTtcbiAgICAgICAgICAgIGJhc2VVbml0ID0gdGhpcy5nZXRCYXNlVW5pdChyYXRpbyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVVuaXQgPCBtaW5CYXNlVW5pdCkge1xuICAgICAgICAgICAgbGV0IG1pbldpZHRoID0gTWF0aC5jZWlsKHRoaXMuZ2V0QmFzZVdpZHRoKG1pblJhdGlvKSAqIG1pbkJhc2VVbml0KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdWZmaWNpZW50IHdpZHRoIGZvciBDb2RlMzkgZW5jb2Rpbmc6IHRoZSBjdXJyZW50IHdpZHRoIGlzICR7dGhpcy53aWR0aH1weCBhbmQgdGhlIG1pbmltdW0gd2lkdGggZm9yIHZhbHVlIFwiJHt0aGlzLnZhbHVlfVwiIGlzICR7bWluV2lkdGh9cHguYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJhdGlvID0gcmF0aW87XG4gICAgICAgIHRoaXMuYmFzZVVuaXQgPSBiYXNlVW5pdDtcbiAgICAgICAgdGhpcy5wYXR0ZXJuU3RyaW5nID0gdGhpcy5wYXR0ZXJuU3RyaW5nLnN1YnN0cmluZygwLCB0aGlzLnBhdHRlcm5TdHJpbmcubGVuZ3RoIC0gMSk7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IHRoaXMucGF0dGVybi5jb25jYXQodGhpcy5wYXR0ZXJuU3RyaW5nLnJlcGxhY2UoL3JhdGlvL2csIHJhdGlvKS5zcGxpdCh0aGlzLnNwbGl0Q2hhcmFjdGVyKSk7XG4gICAgfVxuXG4gICAgZ2V0QmFzZVVuaXQocmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggLyB0aGlzLmdldEJhc2VXaWR0aChyYXRpbyk7XG4gICAgfVxuXG4gICAgZ2V0QmFzZVdpZHRoKHJhdGlvKSB7XG4gICAgICAgIGNvbnN0IGNoYXJhY3Rlckxlbmd0aCA9IDMgKiAocmF0aW8gKyAyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVpZXRab25lTGVuZ3RoICsgY2hhcmFjdGVyTGVuZ3RoICogKHRoaXMuZGF0YUxlbmd0aCArIDIpICsgdGhpcy5nYXBXaWR0aCAqICh0aGlzLmRhdGFMZW5ndGggKyAxKTtcbiAgICB9XG5cbiAgICBhZGRTdGFydCgpIHtcbiAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKHRoaXMuY2hhcmFjdGVyTWFwLlNUQVJULnBhdHRlcm4pO1xuICAgICAgICB0aGlzLmFkZENoYXJhY3RlckdhcCgpO1xuICAgIH1cblxuICAgIGFkZEJhc2UoY2hhcmFjdGVyKSB7XG4gICAgICAgIHRoaXMuYWRkUGF0dGVybihjaGFyYWN0ZXIucGF0dGVybik7XG4gICAgICAgIHRoaXMuYWRkQ2hhcmFjdGVyR2FwKCk7XG4gICAgfVxuXG4gICAgYWRkU3RvcCgpIHtcbiAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKHRoaXMuY2hhcmFjdGVyTWFwLlNUQVJULnBhdHRlcm4pO1xuICAgIH1cblxuICAgIGFkZFBhdHRlcm4ocGF0dGVybikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucGF0dGVyblN0cmluZyArPSB0aGlzLnBhdHRlcm5NYXBwaW5nc1twYXR0ZXJuLmNoYXJBdChpKV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRDaGFyYWN0ZXJHYXAoKSB7XG4gICAgICAgIHRoaXMucGF0dGVyblN0cmluZyArPSB0aGlzLmdhcFdpZHRoICsgdGhpcy5zcGxpdENoYXJhY3RlcjtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENvZGUzOSwge1xuICAgIGFkZENoZWNrU3VtOiBmYWxzZVxufSk7XG4iLCJpbXBvcnQgeyBDb2RlMzkgfSBmcm9tICcuL2NvZGUzOSc7XG5pbXBvcnQgZGVlcEV4dGVuZCBmcm9tICcuLi8uLi9jb21tb24vZGVlcC1leHRlbmQnO1xuXG5leHBvcnQgY29uc3QgQ29kZTM5RXh0ZW5kZWRCYXNlID0ge1xuICAgIGFkZENoYXJhY3RlcihjaGFyYWN0ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyTWFwW2NoYXJhY3Rlcl0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQmFzZSh0aGlzLmNoYXJhY3Rlck1hcFtjaGFyYWN0ZXJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuY2hhckNvZGVBdCgwKSA+IDEyNykge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkQ2hhcmFjdGVyRXJyb3IoY2hhcmFjdGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRXh0ZW5kZWQoY2hhcmFjdGVyLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGFkZEV4dGVuZGVkKGNvZGUpIHtcbiAgICAgICAgbGV0IHBhdHRlcm5zO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5leHRlbmRlZE1hcHBpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXR0ZXJucyA9IHRoaXMuZXh0ZW5kZWRNYXBwaW5nc1tpXS5jYWxsKHRoaXMsIGNvZGUpO1xuXG4gICAgICAgICAgICBpZiAocGF0dGVybnMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwYXR0ZXJuSW5kZXggPSAwOyBwYXR0ZXJuSW5kZXggPCBwYXR0ZXJucy5sZW5ndGg7IHBhdHRlcm5JbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBwYXR0ZXJuc1twYXR0ZXJuSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEJhc2UocGF0dGVybik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhTGVuZ3RoICs9IHBhdHRlcm5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGV4dGVuZGVkTWFwcGluZ3M6IFtcbiAgICAgICAgZnVuY3Rpb24oY29kZSkge1xuICAgICAgICAgICAgaWYgKDk3IDw9IGNvZGUgJiYgY29kZSA8PSAxMjIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMuY2hhcmFjdGVyTWFwW3RoaXMuc2hpZnRDaGFyYWN0ZXJzWzBdXSwgdGhpcy5jaGFyYWN0ZXJNYXBbU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlIC0gMzIpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGNvZGUpIHtcbiAgICAgICAgICAgIGlmICgzMyA8PSBjb2RlICYmIGNvZGUgPD0gNTgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMuY2hhcmFjdGVyTWFwW3RoaXMuc2hpZnRDaGFyYWN0ZXJzWzFdXSwgdGhpcy5jaGFyYWN0ZXJNYXBbU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlICsgMzIpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGNvZGUpIHtcbiAgICAgICAgICAgIGlmICgxIDw9IGNvZGUgJiYgY29kZSA8PSAyNikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcy5jaGFyYWN0ZXJNYXBbdGhpcy5zaGlmdENoYXJhY3RlcnNbMl1dLCB0aGlzLmNoYXJhY3Rlck1hcFtTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUgKyA2NCldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oY29kZSkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICAgIGxldCBkYXRhQ2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3BlY2lhbEFzY2lpQ29kZXNbY29kZV0pIHtcbiAgICAgICAgICAgICAgICBkYXRhQ2hhcmFjdGVyID0gTWF0aC5mbG9vcihjb2RlIC8gMzIpICogNiArIChjb2RlIC0gMjcpICUgMzIgKyA2NDtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbdGhpcy5jaGFyYWN0ZXJNYXBbdGhpcy5zaGlmdENoYXJhY3RlcnNbM11dLCB0aGlzLmNoYXJhY3Rlck1hcFtTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFDaGFyYWN0ZXIpXV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNwZWNpYWxBc2NpaUNvZGVzW2NvZGVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2hhcmFjdGVyTWFwW3RoaXMuc2hpZnRDaGFyYWN0ZXJzWzNdXSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2hhcmFjdGVyTWFwW3RoaXMuc3BlY2lhbEFzY2lpQ29kZXNbY29kZV1baV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICBdLFxuICAgIHNwZWNpYWxBc2NpaUNvZGVzOiB7XG4gICAgICAgIFwiMFwiOiBbXCJVXCJdLFxuICAgICAgICBcIjY0XCI6IFtcIlZcIl0sXG4gICAgICAgIFwiOTZcIjogW1wiV1wiXSxcbiAgICAgICAgXCIxMjdcIjogW1wiVFwiLCBcIlhcIiwgXCJZXCIsIFwiWlwiXVxuICAgIH0sXG4gICAgc2hpZnRWYWx1ZXNBc2NpaUNvZGVzOiB7XG4gICAgICAgIFwiMzlcIjogMzYsXG4gICAgICAgIFwiNDBcIjogNDcsXG4gICAgICAgIFwiNDFcIjogNDMsXG4gICAgICAgIFwiNDJcIjogMzdcbiAgICB9LFxuICAgIGNoYXJhY3Rlck1hcDoge1xuICAgICAgICBcIitcIjogZmFsc2UsXG4gICAgICAgIFwiL1wiOiBmYWxzZSxcbiAgICAgICAgXCIkXCI6IGZhbHNlLFxuICAgICAgICBcIiVcIjogZmFsc2VcbiAgICB9LFxuICAgIHNoaWZ0Q2hhcmFjdGVyczogW1wiU0hJRlQwXCIsIFwiU0hJRlQxXCIsIFwiU0hJRlQyXCIsIFwiU0hJRlQzXCJdXG59O1xuXG5leHBvcnQgY2xhc3MgQ29kZTM5RXh0ZW5kZWQgZXh0ZW5kcyBDb2RlMzkge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGRlZXBFeHRlbmQodGhpcywgQ29kZTM5RXh0ZW5kZWRCYXNlLCB7XG4gICAgICAgICAgICBuYW1lOiBcIkNvZGUgMzkgZXh0ZW5kZWRcIixcbiAgICAgICAgICAgIGNoYXJhY3Rlck1hcDoge1xuICAgICAgICAgICAgICAgIFNISUZUMDogeyBcInBhdHRlcm5cIjogXCJiV2J3YldiV2JcIiwgXCJ2YWx1ZVwiOiA0MSB9LFxuICAgICAgICAgICAgICAgIFNISUZUMTogeyBcInBhdHRlcm5cIjogXCJiV2JXYndiV2JcIiwgXCJ2YWx1ZVwiOiA0MCB9LFxuICAgICAgICAgICAgICAgIFNISUZUMjogeyBcInBhdHRlcm5cIjogXCJiV2JXYldid2JcIiwgXCJ2YWx1ZVwiOiAzOSB9LFxuICAgICAgICAgICAgICAgIFNISUZUMzogeyBcInBhdHRlcm5cIjogXCJid2JXYldiV2JcIiwgXCJ2YWx1ZVwiOiA0MiB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENvZGUzOUJhc2UgfSBmcm9tICcuL2NvZGUzOSc7XG5cbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5cbmV4cG9ydCBjbGFzcyBDb2RlOTMgZXh0ZW5kcyBDb2RlMzlCYXNlIHtcbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgc3VwZXIuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBleHRlbmQodGhpcywge1xuICAgICAgICAgICAgbmFtZTogXCJDb2RlIDkzXCIsXG4gICAgICAgICAgICBjQ2hlY2tTdW1Ub3RhbDogMjAsXG4gICAgICAgICAgICBrQ2hlY2tTdW1Ub3RhbDogMTUsXG4gICAgICAgICAgICBjaGVja1N1bU1vZDogNDcsXG4gICAgICAgICAgICBjaGFyYWN0ZXJNYXA6IHtcbiAgICAgICAgICAgICAgICBcIjBcIjogeyBcInBhdHRlcm5cIjogXCIxMzExMTJcIiwgXCJ2YWx1ZVwiOiAwIH0sXG4gICAgICAgICAgICAgICAgXCIxXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTExMjEzXCIsIFwidmFsdWVcIjogMSB9LFxuICAgICAgICAgICAgICAgIFwiMlwiOiB7IFwicGF0dGVyblwiOiBcIjExMTMxMlwiLCBcInZhbHVlXCI6IDIgfSxcbiAgICAgICAgICAgICAgICBcIjNcIjogeyBcInBhdHRlcm5cIjogXCIxMTE0MTFcIiwgXCJ2YWx1ZVwiOiAzIH0sXG4gICAgICAgICAgICAgICAgXCI0XCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTIxMTEzXCIsIFwidmFsdWVcIjogNCB9LFxuICAgICAgICAgICAgICAgIFwiNVwiOiB7IFwicGF0dGVyblwiOiBcIjEyMTIxMlwiLCBcInZhbHVlXCI6IDUgfSxcbiAgICAgICAgICAgICAgICBcIjZcIjogeyBcInBhdHRlcm5cIjogXCIxMjEzMTFcIiwgXCJ2YWx1ZVwiOiA2IH0sXG4gICAgICAgICAgICAgICAgXCI3XCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTExMTE0XCIsIFwidmFsdWVcIjogNyB9LFxuICAgICAgICAgICAgICAgIFwiOFwiOiB7IFwicGF0dGVyblwiOiBcIjEzMTIxMVwiLCBcInZhbHVlXCI6IDggfSxcbiAgICAgICAgICAgICAgICBcIjlcIjogeyBcInBhdHRlcm5cIjogXCIxNDExMTFcIiwgXCJ2YWx1ZVwiOiA5IH0sXG4gICAgICAgICAgICAgICAgXCJBXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMjExMTEzXCIsIFwidmFsdWVcIjogMTAgfSxcbiAgICAgICAgICAgICAgICBcIkJcIjogeyBcInBhdHRlcm5cIjogXCIyMTEyMTJcIiwgXCJ2YWx1ZVwiOiAxMSB9LFxuICAgICAgICAgICAgICAgIFwiQ1wiOiB7IFwicGF0dGVyblwiOiBcIjIxMTMxMVwiLCBcInZhbHVlXCI6IDEyIH0sXG4gICAgICAgICAgICAgICAgXCJEXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMjIxMTEyXCIsIFwidmFsdWVcIjogMTMgfSxcbiAgICAgICAgICAgICAgICBcIkVcIjogeyBcInBhdHRlcm5cIjogXCIyMjEyMTFcIiwgXCJ2YWx1ZVwiOiAxNCB9LFxuICAgICAgICAgICAgICAgIFwiRlwiOiB7IFwicGF0dGVyblwiOiBcIjIzMTExMVwiLCBcInZhbHVlXCI6IDE1IH0sXG4gICAgICAgICAgICAgICAgXCJHXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTEyMTEzXCIsIFwidmFsdWVcIjogMTYgfSxcbiAgICAgICAgICAgICAgICBcIkhcIjogeyBcInBhdHRlcm5cIjogXCIxMTIyMTJcIiwgXCJ2YWx1ZVwiOiAxNyB9LFxuICAgICAgICAgICAgICAgIFwiSVwiOiB7IFwicGF0dGVyblwiOiBcIjExMjMxMVwiLCBcInZhbHVlXCI6IDE4IH0sXG4gICAgICAgICAgICAgICAgXCJKXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTIyMTEyXCIsIFwidmFsdWVcIjogMTkgfSxcbiAgICAgICAgICAgICAgICBcIktcIjogeyBcInBhdHRlcm5cIjogXCIxMzIxMTFcIiwgXCJ2YWx1ZVwiOiAyMCB9LFxuICAgICAgICAgICAgICAgIFwiTFwiOiB7IFwicGF0dGVyblwiOiBcIjExMTEyM1wiLCBcInZhbHVlXCI6IDIxIH0sXG4gICAgICAgICAgICAgICAgXCJNXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTExMjIyXCIsIFwidmFsdWVcIjogMjIgfSxcbiAgICAgICAgICAgICAgICBcIk5cIjogeyBcInBhdHRlcm5cIjogXCIxMTEzMjFcIiwgXCJ2YWx1ZVwiOiAyMyB9LFxuICAgICAgICAgICAgICAgIFwiT1wiOiB7IFwicGF0dGVyblwiOiBcIjEyMTEyMlwiLCBcInZhbHVlXCI6IDI0IH0sXG4gICAgICAgICAgICAgICAgXCJQXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTMxMTIxXCIsIFwidmFsdWVcIjogMjUgfSxcbiAgICAgICAgICAgICAgICBcIlFcIjogeyBcInBhdHRlcm5cIjogXCIyMTIxMTJcIiwgXCJ2YWx1ZVwiOiAyNiB9LFxuICAgICAgICAgICAgICAgIFwiUlwiOiB7IFwicGF0dGVyblwiOiBcIjIxMjIxMVwiLCBcInZhbHVlXCI6IDI3IH0sXG4gICAgICAgICAgICAgICAgXCJTXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMjExMTIyXCIsIFwidmFsdWVcIjogMjggfSxcbiAgICAgICAgICAgICAgICBcIlRcIjogeyBcInBhdHRlcm5cIjogXCIyMTEyMjFcIiwgXCJ2YWx1ZVwiOiAyOSB9LFxuICAgICAgICAgICAgICAgIFwiVVwiOiB7IFwicGF0dGVyblwiOiBcIjIyMTEyMVwiLCBcInZhbHVlXCI6IDMwIH0sXG4gICAgICAgICAgICAgICAgXCJWXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMjIyMTExXCIsIFwidmFsdWVcIjogMzEgfSxcbiAgICAgICAgICAgICAgICBcIldcIjogeyBcInBhdHRlcm5cIjogXCIxMTIxMjJcIiwgXCJ2YWx1ZVwiOiAzMiB9LFxuICAgICAgICAgICAgICAgIFwiWFwiOiB7IFwicGF0dGVyblwiOiBcIjExMjIyMVwiLCBcInZhbHVlXCI6IDMzIH0sXG4gICAgICAgICAgICAgICAgXCJZXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTIyMTIxXCIsIFwidmFsdWVcIjogMzQgfSxcbiAgICAgICAgICAgICAgICBcIlpcIjogeyBcInBhdHRlcm5cIjogXCIxMjMxMTFcIiwgXCJ2YWx1ZVwiOiAzNSB9LFxuICAgICAgICAgICAgICAgIFwiLVwiOiB7IFwicGF0dGVyblwiOiBcIjEyMTEzMVwiLCBcInZhbHVlXCI6IDM2IH0sXG4gICAgICAgICAgICAgICAgXCIuXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMzExMTEyXCIsIFwidmFsdWVcIjogMzcgfSxcbiAgICAgICAgICAgICAgICBcIiBcIjogeyBcInBhdHRlcm5cIjogXCIzMTEyMTFcIiwgXCJ2YWx1ZVwiOiAzOCB9LFxuICAgICAgICAgICAgICAgIFwiJFwiOiB7IFwicGF0dGVyblwiOiBcIjMyMTExMVwiLCBcInZhbHVlXCI6IDM5IH0sXG4gICAgICAgICAgICAgICAgXCIvXCI6IHsgXCJwYXR0ZXJuXCI6IFwiMTEyMTMxXCIsIFwidmFsdWVcIjogNDAgfSxcbiAgICAgICAgICAgICAgICBcIitcIjogeyBcInBhdHRlcm5cIjogXCIxMTMxMjFcIiwgXCJ2YWx1ZVwiOiA0MSB9LFxuICAgICAgICAgICAgICAgIFwiJVwiOiB7IFwicGF0dGVyblwiOiBcIjIxMTEzMVwiLCBcInZhbHVlXCI6IDQyIH0sXG4gICAgICAgICAgICAgICAgU0hJRlQwOiB7IFwicGF0dGVyblwiOiBcIjEyMjIxMVwiLCBcInZhbHVlXCI6IDQ2IH0sXG4gICAgICAgICAgICAgICAgU0hJRlQxOiB7IFwicGF0dGVyblwiOiBcIjMxMTEyMVwiLCBcInZhbHVlXCI6IDQ1IH0sXG4gICAgICAgICAgICAgICAgU0hJRlQyOiB7IFwicGF0dGVyblwiOiBcIjEyMTIyMVwiLCBcInZhbHVlXCI6IDQzIH0sXG4gICAgICAgICAgICAgICAgU0hJRlQzOiB7IFwicGF0dGVyblwiOiBcIjMxMjExMVwiLCBcInZhbHVlXCI6IDQ0IH0sXG4gICAgICAgICAgICAgICAgU1RBUlQ6IHsgXCJwYXR0ZXJuXCI6IFwiMTExMTQxXCIgfSxcbiAgICAgICAgICAgICAgICBURVJNSU5BVElPTl9CQVI6IFwiMVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRWYWx1ZSh2YWx1ZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IFtdO1xuICAgICAgICB0aGlzLnZhbHVlcyA9IFtdO1xuICAgICAgICB0aGlzLmRhdGFMZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHJlcGFyZVZhbHVlcygpIHtcbiAgICAgICAgbGV0IG1pbkhlaWdodCA9IE1hdGguY2VpbChNYXRoLm1heCgwLjE1ICogdGhpcy53aWR0aCwgMjQpKTtcblxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCBtaW5IZWlnaHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdWZmaWNpZW50IGhlaWdodCBmb3IgQ29kZTkzIGVuY29kaW5nOiB0aGUgY3VycmVudCBoZWlnaHQgaXMgJHt0aGlzLmhlaWdodH1weCwgdGhlIG1pbmltdW0gcmVxdWlyZWQgaGVpZ2h0IGlzICR7bWluSGVpZ2h0fXB4LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRCYXNlVW5pdCgpO1xuXG4gICAgICAgIGlmICh0aGlzLmJhc2VVbml0IDwgdGhpcy5taW5CYXNlVW5pdExlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbWluV2lkdGggPSBNYXRoLmNlaWwodGhpcy5taW5CYXNlVW5pdExlbmd0aCAqICh0aGlzLndpZHRoIC8gdGhpcy5iYXNlVW5pdCkpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN1ZmZpY2llbnQgd2lkdGggZm9yIENvZGU5MyBlbmNvZGluZzogdGhlIGN1cnJlbnQgd2lkdGggaXMgJHt0aGlzLndpZHRofXB4IGFuZCB0aGUgbWluaW11bSByZXF1aXJlZCB3aWR0aCBmb3IgdmFsdWUgXCIke3RoaXMudmFsdWV9XCIgaXMgJHttaW5XaWR0aH1weC5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEJhc2VVbml0KCkge1xuICAgICAgICBjb25zdCBjaGVja1N1bUxlbmd0aCA9IDI7XG5cbiAgICAgICAgdGhpcy5iYXNlVW5pdCA9IHRoaXMud2lkdGggLyAoOSAqICh0aGlzLmRhdGFMZW5ndGggKyAyICsgY2hlY2tTdW1MZW5ndGgpICsgdGhpcy5xdWlldFpvbmVMZW5ndGggKyAxKTtcbiAgICB9XG5cbiAgICBhZGRTdGFydCgpIHtcbiAgICAgICAgbGV0IHBhdHRlcm4gPSB0aGlzLmNoYXJhY3Rlck1hcC5TVEFSVC5wYXR0ZXJuO1xuICAgICAgICB0aGlzLmFkZFBhdHRlcm4ocGF0dGVybik7XG4gICAgfVxuXG4gICAgYWRkU3RvcCgpIHtcbiAgICAgICAgdGhpcy5hZGRTdGFydCgpO1xuICAgICAgICB0aGlzLnBhdHRlcm4ucHVzaCh0aGlzLmNoYXJhY3Rlck1hcC5URVJNSU5BVElPTl9CQVIpO1xuICAgIH1cblxuICAgIGFkZEJhc2UoY2hhckRhdGEpIHtcbiAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKGNoYXJEYXRhLnBhdHRlcm4pO1xuICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKGNoYXJEYXRhLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdXNoQ2hlY2tTdW0oKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrVmFsdWVzID0gdGhpcy5fZ2V0Q2hlY2tWYWx1ZXMoKTtcbiAgICAgICAgbGV0IGNoYXJEYXRhO1xuXG4gICAgICAgIHRoaXMuY2hlY2tzdW0gPSBjaGVja1ZhbHVlcy5qb2luKFwiXCIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoYXJEYXRhID0gdGhpcy5jaGFyYWN0ZXJNYXBbdGhpcy5fZmluZENoYXJhY3RlckJ5VmFsdWUoY2hlY2tWYWx1ZXNbaV0pXTtcbiAgICAgICAgICAgIHRoaXMuYWRkUGF0dGVybihjaGFyRGF0YS5wYXR0ZXJuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRDaGVja1ZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGxldCB3aWdodGVkU3VtID0gMDtcbiAgICAgICAgbGV0IGNWYWx1ZTtcbiAgICAgICAgbGV0IGtWYWx1ZTtcbiAgICAgICAgbGV0IGlkeDtcblxuICAgICAgICBmb3IgKGlkeCA9IGxlbmd0aCAtIDE7IGlkeCA+PSAwOyBpZHgtLSkge1xuICAgICAgICAgICAgd2lnaHRlZFN1bSArPSB0aGlzLndlaWdodGVkVmFsdWUodmFsdWVzW2lkeF0sIGxlbmd0aCAtIGlkeCwgdGhpcy5jQ2hlY2tTdW1Ub3RhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjVmFsdWUgPSB3aWdodGVkU3VtICUgdGhpcy5jaGVja1N1bU1vZDtcblxuICAgICAgICB3aWdodGVkU3VtID0gdGhpcy53ZWlnaHRlZFZhbHVlKGNWYWx1ZSwgMSwgdGhpcy5rQ2hlY2tTdW1Ub3RhbCk7XG5cbiAgICAgICAgZm9yIChpZHggPSBsZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgICAgIHdpZ2h0ZWRTdW0gKz0gdGhpcy53ZWlnaHRlZFZhbHVlKHZhbHVlc1tpZHhdLCBsZW5ndGggLSBpZHggKyAxLCB0aGlzLmtDaGVja1N1bVRvdGFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGtWYWx1ZSA9IHdpZ2h0ZWRTdW0gJSB0aGlzLmNoZWNrU3VtTW9kO1xuICAgICAgICByZXR1cm4gW2NWYWx1ZSwga1ZhbHVlXTtcbiAgICB9XG5cbiAgICBfZmluZENoYXJhY3RlckJ5VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZm9yIChsZXQgY2hhcmFjdGVyIGluIHRoaXMuY2hhcmFjdGVyTWFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJNYXBbY2hhcmFjdGVyXS52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2VpZ2h0ZWRWYWx1ZSh2YWx1ZSwgaW5kZXgsIHRvdGFsKSB7XG4gICAgICAgIHJldHVybiAoaW5kZXggJSB0b3RhbCB8fCB0b3RhbCkgKiB2YWx1ZTtcbiAgICB9XG5cbiAgICBhZGRQYXR0ZXJuKHBhdHRlcm4pIHtcbiAgICAgICAgbGV0IHZhbHVlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludChwYXR0ZXJuLmNoYXJBdChpKSwgMTApO1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ29kZTkzIH0gZnJvbSAnLi9jb2RlOTMnO1xuaW1wb3J0IHsgQ29kZTM5RXh0ZW5kZWRCYXNlIH0gZnJvbSAnLi9jb2RlMzktZXh0ZW5kZWQnO1xuaW1wb3J0IGRlZXBFeHRlbmQgZnJvbSAnLi4vLi4vY29tbW9uL2RlZXAtZXh0ZW5kJztcblxuZXhwb3J0IGNsYXNzIENvZGU5M0V4dGVuZGVkIGV4dGVuZHMgQ29kZTkzIHtcbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgc3VwZXIuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBkZWVwRXh0ZW5kKHRoaXMsIENvZGUzOUV4dGVuZGVkQmFzZSwge1xuICAgICAgICAgICAgbmFtZTogXCJDb2RlIDkzIGV4dGVuZGVkXCIsXG4gICAgICAgICAgICBwdXNoQ2hlY2tTdW06IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrVmFsdWVzID0gdGhpcy5fZ2V0Q2hlY2tWYWx1ZXMoKTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrc3VtID0gY2hlY2tWYWx1ZXMuam9pbihcIlwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjaGVja1ZhbHVlc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGlmdFZhbHVlc0FzY2lpQ29kZXNbdmFsdWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV4dGVuZGVkKHRoaXMuc2hpZnRWYWx1ZXNBc2NpaUNvZGVzW3ZhbHVlXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJCeVZhbHVlID0gdGhpcy5fZmluZENoYXJhY3RlckJ5VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKHRoaXMuY2hhcmFjdGVyTWFwW2NoYXJhY3RlckJ5VmFsdWVdLnBhdHRlcm4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBFbmNvZGluZyB9IGZyb20gJy4vZW5jb2RpbmcnO1xuaW1wb3J0IGluQXJyYXkgZnJvbSAnLi4vLi4vY29tbW9uL2luLWFycmF5JztcblxuY29uc3QgbnVtYmVyUmVnZXggPSAvXlxcZCskLztcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5cbmV4cG9ydCBjbGFzcyBQb3N0bmV0IGV4dGVuZHMgRW5jb2Rpbmcge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiBcIlBvc3RuZXRcIixcbiAgICAgICAgICAgIFNUQVJUOiBcIjJcIixcbiAgICAgICAgICAgIFZBTElEX0NPREVfTEVOR1RIUzogWzUsIDksIDExXSxcbiAgICAgICAgICAgIERJR0lUX1NFUEFSQVRPUjogXCItXCIsXG4gICAgICAgICAgICBjaGFyYWN0ZXJNYXA6IFtcIjIyMTExXCIsIFwiMTExMjJcIiwgXCIxMTIxMlwiLCBcIjExMjIxXCIsIFwiMTIxMTJcIiwgXCIxMjEyMVwiLCBcIjEyMjExXCIsIFwiMjExMTJcIiwgXCIyMTEyMVwiLCBcIjIxMjExXCJdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRWYWx1ZSh2YWx1ZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmJhc2VIZWlnaHQgPSBoZWlnaHQgLyAyO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMuRElHSVRfU0VQQVJBVE9SLCBcImdcIiksIFwiXCIpO1xuICAgICAgICB0aGlzLnBhdHRlcm4gPSBbXTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgdGhpcy5jaGVja1N1bSA9IDA7XG4gICAgICAgIHRoaXMuc2V0QmFzZVVuaXQoKTtcbiAgICB9XG5cbiAgICBhZGREYXRhKCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XG5cbiAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKHRoaXMuU1RBUlQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hhcmFjdGVyKHZhbHVlLmNoYXJBdChpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFkZENoZWNrU3VtKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENoZWNrU3VtKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZFBhdHRlcm4odGhpcy5TVEFSVCk7XG4gICAgICAgIHRoaXMucGF0dGVybi5wb3AoKTtcbiAgICB9XG5cbiAgICBhZGRDaGFyYWN0ZXIoY2hhcmFjdGVyKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLmNoYXJhY3Rlck1hcFtjaGFyYWN0ZXJdO1xuICAgICAgICB0aGlzLmNoZWNrU3VtICs9IHBhcnNlSW50KGNoYXJhY3RlciwgMTApO1xuICAgICAgICB0aGlzLmFkZFBhdHRlcm4ocGF0dGVybik7XG4gICAgfVxuXG4gICAgYWRkQ2hlY2tTdW0oKSB7XG4gICAgICAgIHRoaXMuY2hlY2tzdW0gPSAoMTAgLSAodGhpcy5jaGVja1N1bSAlIDEwKSkgJSAxMDtcbiAgICAgICAgdGhpcy5hZGRDaGFyYWN0ZXIodGhpcy5jaGVja3N1bSk7XG4gICAgfVxuXG4gICAgc2V0QmFzZVVuaXQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0U3RvcExlbmd0aCA9IDM7XG5cbiAgICAgICAgdGhpcy5iYXNlVW5pdCA9IHRoaXMud2lkdGggLyAoKHRoaXMudmFsdWUubGVuZ3RoICsgMSkgKiAxMCArIHN0YXJ0U3RvcExlbmd0aCArIHRoaXMucXVpZXRab25lTGVuZ3RoKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZSh2YWx1ZSkge1xuICAgICAgICBpZiAoIW51bWJlclJlZ2V4LnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLmludmFsaWRDaGFyYWN0ZXJFcnJvcih2YWx1ZS5tYXRjaCgvW14wLTldLylbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbkFycmF5KHZhbHVlLmxlbmd0aCwgdGhpcy5WQUxJRF9DT0RFX0xFTkdUSFMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGxlbmd0aC4gVmFsaWQgbGVuZ3RocyBmb3IgdGhlIFBvc3RuZXQgc3ltYm9sb2d5IGFyZSBcIiArIHRoaXMuVkFMSURfQ09ERV9MRU5HVEhTLmpvaW4oXCIsXCIpICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUGF0dGVybihwYXR0ZXJuKSB7XG4gICAgICAgIGxldCB5MTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHkxID0gdGhpcy5oZWlnaHQgLSB0aGlzLmJhc2VIZWlnaHQgKiBwYXR0ZXJuLmNoYXJBdChpKTtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybi5wdXNoKHsgd2lkdGg6IDEsIHkxOiB5MSwgeTI6IHRoaXMuaGVpZ2h0IH0pO1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuLnB1c2goMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBFbmNvZGluZyB9IGZyb20gJy4vZW5jb2RpbmcnO1xuaW1wb3J0IGRlZXBFeHRlbmQgZnJvbSAnLi4vLi4vY29tbW9uL2RlZXAtZXh0ZW5kJztcbmltcG9ydCBpbkFycmF5IGZyb20gJy4uLy4uL2NvbW1vbi9pbi1hcnJheSc7XG5cbmNvbnN0IG51bWJlclJlZ2V4ID0gL15cXGQrJC87XG5jb25zdCBhbHBoYW51bWVyaWNSZWdleCA9IC9eW2EtejAtOV0rJC9pO1xuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcblxuZXhwb3J0IGNsYXNzIFN0YXRlMTI4IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGVuY29kaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgICAgICAgdGhpcy5pbml0UHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIGluaXRQcm9wZXJ0aWVzKCkgeyB9XG5cbiAgICBhZGRTdGFydCgpIHsgfVxuXG4gICAgaXMoKSB7IH1cblxuICAgIGlzQ29kZSgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmUoKSB7IH1cblxuICAgIHB1c2hTdGF0ZSgpIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhdGUxMjhBQiBleHRlbmRzIFN0YXRlMTI4IHtcbiAgICBjb25zdHJ1Y3RvcihlbmNvZGluZywgc3RhdGVzKSB7XG4gICAgICAgIHN1cGVyKGVuY29kaW5nKTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBzdGF0ZXM7XG4gICAgICAgIHRoaXMuX2luaXRNb3ZlcyhzdGF0ZXMpO1xuICAgIH1cblxuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGRlZXBFeHRlbmQodGhpcywge1xuICAgICAgICAgICAgRk5DNDogXCJGTkM0XCIsXG4gICAgICAgICAgICBTSElGVDogOThcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkU3RhcnQoKSB7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcuYWRkUGF0dGVybih0aGlzLlNUQVJUKTtcbiAgICB9XG5cbiAgICBpcyh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgbGV0IGNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb2RlKGNvZGUpO1xuICAgIH1cblxuICAgIG1vdmUoZW5jb2RpbmdTdGF0ZSkge1xuICAgICAgICBsZXQgaWR4ID0gMDtcblxuICAgICAgICB3aGlsZSAoIXRoaXMuX21vdmVzW2lkeF0uY2FsbCh0aGlzLCBlbmNvZGluZ1N0YXRlKSAmJiBpZHggPCB0aGlzLl9tb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlkeCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVzaFN0YXRlKGVuY29kaW5nU3RhdGUpIHtcbiAgICAgICAgbGV0IHN0YXRlcyA9IHRoaXMuc3RhdGVzLFxuICAgICAgICAgICAgdmFsdWUgPSBlbmNvZGluZ1N0YXRlLnZhbHVlLFxuICAgICAgICAgICAgbWF4TGVuZ3RoID0gdmFsdWUubGVuZ3RoLFxuICAgICAgICAgICAgY29kZTtcblxuICAgICAgICBpZiAoaW5BcnJheShcIkNcIiwgc3RhdGVzKSkge1xuICAgICAgICAgICAgbGV0IG51bWJlck1hdGNoID0gdmFsdWUuc3Vic3RyKGVuY29kaW5nU3RhdGUuaW5kZXgpLm1hdGNoKC9cXGR7NCx9L2cpO1xuXG4gICAgICAgICAgICBpZiAobnVtYmVyTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGggPSB2YWx1ZS5pbmRleE9mKG51bWJlck1hdGNoWzBdLCBlbmNvZGluZ1N0YXRlLmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICgoY29kZSA9IGVuY29kaW5nU3RhdGUudmFsdWUuY2hhckNvZGVBdChlbmNvZGluZ1N0YXRlLmluZGV4KSkgPj0gMCAmJlxuICAgICAgICAgICAgdGhpcy5pc0NvZGUoY29kZSkgJiZcbiAgICAgICAgICAgIGVuY29kaW5nU3RhdGUuaW5kZXggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RpbmcuYWRkUGF0dGVybih0aGlzLmdldFZhbHVlKGNvZGUpKTtcbiAgICAgICAgICAgIGVuY29kaW5nU3RhdGUuaW5kZXgrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbml0TW92ZXMoc3RhdGVzKSB7XG4gICAgICAgIHRoaXMuX21vdmVzID0gW107XG5cbiAgICAgICAgaWYgKGluQXJyYXkodGhpcy5GTkM0LCBzdGF0ZXMpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlcy5wdXNoKHRoaXMuX21vdmVGTkMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluQXJyYXkodGhpcy5zaGlmdEtleSwgc3RhdGVzKSkge1xuICAgICAgICAgICAgdGhpcy5fbW92ZXMucHVzaCh0aGlzLl9zaGlmdFN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21vdmVzLnB1c2godGhpcy5fbW92ZVN0YXRlKTtcbiAgICB9XG5cbiAgICBfbW92ZUZOQyhlbmNvZGluZ1N0YXRlKSB7XG4gICAgICAgIGlmIChlbmNvZGluZ1N0YXRlLmZuYykge1xuICAgICAgICAgICAgZW5jb2RpbmdTdGF0ZS5mbmMgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGluZ1N0YXRlLnByZXZpb3VzU3RhdGUgPT09IHRoaXMua2V5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NoaWZ0U3RhdGUoZW5jb2RpbmdTdGF0ZSkge1xuICAgICAgICBpZiAoZW5jb2RpbmdTdGF0ZS5wcmV2aW91c1N0YXRlID09PSB0aGlzLnNoaWZ0S2V5ICYmXG4gICAgICAgICAgICAoZW5jb2RpbmdTdGF0ZS5pbmRleCArIDEgPj0gZW5jb2RpbmdTdGF0ZS52YWx1ZS5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVuY29kaW5nW3RoaXMuc2hpZnRLZXldLmlzKGVuY29kaW5nU3RhdGUudmFsdWUsIGVuY29kaW5nU3RhdGUuaW5kZXggKyAxKSkpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RpbmcuYWRkUGF0dGVybih0aGlzLlNISUZUKTtcbiAgICAgICAgICAgIGVuY29kaW5nU3RhdGUuc2hpZnRlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3ZlU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcuYWRkUGF0dGVybih0aGlzLk1PVkUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmNvbnN0IHN0YXRlczEyOCA9IHt9O1xuXG5zdGF0ZXMxMjguQSA9IGNsYXNzIFN0YXRlMTI4QSBleHRlbmRzIFN0YXRlMTI4QUIge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBrZXk6IFwiQVwiLFxuICAgICAgICAgICAgc2hpZnRLZXk6IFwiQlwiLFxuICAgICAgICAgICAgTU9WRTogMTAxLFxuICAgICAgICAgICAgU1RBUlQ6IDEwM1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpc0NvZGUoY29kZSkge1xuICAgICAgICByZXR1cm4gMCA8PSBjb2RlICYmIGNvZGUgPCA5NjtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZShjb2RlKSB7XG4gICAgICAgIGlmIChjb2RlIDwgMzIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2RlICsgNjQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29kZSAtIDMyO1xuICAgIH1cbn07XG5cbnN0YXRlczEyOC5CID0gY2xhc3MgU3RhdGUxMjhCIGV4dGVuZHMgU3RhdGUxMjhBQiB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIGtleTogXCJCXCIsXG4gICAgICAgICAgICBzaGlmdEtleTogXCJBXCIsXG4gICAgICAgICAgICBNT1ZFOiAxMDAsXG4gICAgICAgICAgICBTVEFSVDogMTA0XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlzQ29kZShjb2RlKSB7XG4gICAgICAgIHJldHVybiAzMiA8PSBjb2RlICYmIGNvZGUgPCAxMjg7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUoY29kZSkge1xuICAgICAgICByZXR1cm4gY29kZSAtIDMyO1xuICAgIH1cbn07XG5cbnN0YXRlczEyOC5DID0gY2xhc3MgU3RhdGUxMjhDIGV4dGVuZHMgU3RhdGUxMjgge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBrZXk6IFwiQ1wiLFxuICAgICAgICAgICAgTU9WRTogOTksXG4gICAgICAgICAgICBTVEFSVDogMTA1XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZFN0YXJ0KCkge1xuICAgICAgICB0aGlzLmVuY29kaW5nLmFkZFBhdHRlcm4odGhpcy5TVEFSVCk7XG4gICAgfVxuXG4gICAgaXModmFsdWUsIGluZGV4KSB7XG4gICAgICAgIGxldCBuZXh0NCA9IGdldFN1YnN0cmluZyh2YWx1ZSwgaW5kZXgsIDQpO1xuICAgICAgICByZXR1cm4gKGluZGV4ICsgNCA8PSB2YWx1ZS5sZW5ndGggfHwgdmFsdWUubGVuZ3RoID09PSAyKSAmJiBudW1iZXJSZWdleC50ZXN0KG5leHQ0KTtcbiAgICB9XG5cbiAgICBtb3ZlKCkge1xuICAgICAgICB0aGlzLmVuY29kaW5nLmFkZFBhdHRlcm4odGhpcy5NT1ZFKTtcbiAgICB9XG5cbiAgICBwdXNoU3RhdGUoZW5jb2RpbmdTdGF0ZSkge1xuICAgICAgICBsZXQgY29kZTtcblxuICAgICAgICB3aGlsZSAoKGNvZGUgPSBnZXRTdWJzdHJpbmcoZW5jb2RpbmdTdGF0ZS52YWx1ZSwgZW5jb2RpbmdTdGF0ZS5pbmRleCwgMikpICYmXG4gICAgICAgICAgICBudW1iZXJSZWdleC50ZXN0KGNvZGUpICYmIGNvZGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kaW5nLmFkZFBhdHRlcm4ocGFyc2VJbnQoY29kZSwgMTApKTtcbiAgICAgICAgICAgIGVuY29kaW5nU3RhdGUuaW5kZXggKz0gMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFZhbHVlKGNvZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxufTtcblxuc3RhdGVzMTI4LkZOQzQgPSBjbGFzcyBTdGF0ZTEyOEZOQzQgZXh0ZW5kcyBTdGF0ZTEyOCB7XG4gICAgY29uc3RydWN0b3IoZW5jb2RpbmcsIHN0YXRlcykge1xuICAgICAgICBzdXBlcihlbmNvZGluZyk7XG4gICAgICAgIHRoaXMuX2luaXRTdWJTdGF0ZXMoc3RhdGVzKTtcbiAgICB9XG5cbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgc3VwZXIuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBleHRlbmQodGhpcywge1xuICAgICAgICAgICAga2V5OiBcIkZOQzRcIixcbiAgICAgICAgICAgIGRlcGVuZGVudFN0YXRlczogW1wiQVwiLCBcIkJcIl1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkU3RhcnQoZW5jb2RpbmdTdGF0ZSkge1xuICAgICAgICBsZXQgY29kZSA9IGVuY29kaW5nU3RhdGUudmFsdWUuY2hhckNvZGVBdCgwKSAtIDEyOCxcbiAgICAgICAgICAgIHN1YlN0YXRlID0gdGhpcy5fZ2V0U3ViU3RhdGUoY29kZSk7XG5cbiAgICAgICAgdGhpcy5lbmNvZGluZ1tzdWJTdGF0ZV0uYWRkU3RhcnQoKTtcbiAgICB9XG5cbiAgICBpcyh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgbGV0IGNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb2RlKGNvZGUpO1xuICAgIH1cblxuICAgIGlzQ29kZShjb2RlKSB7XG4gICAgICAgIHJldHVybiAxMjggPD0gY29kZSAmJiBjb2RlIDwgMjU2O1xuICAgIH1cblxuICAgIHB1c2hTdGF0ZShlbmNvZGluZ1N0YXRlKSB7XG4gICAgICAgIGxldCBzdWJTdGF0ZSA9IHRoaXMuX2luaXRTdWJTdGF0ZShlbmNvZGluZ1N0YXRlKSxcbiAgICAgICAgICAgIGVuY29kaW5nID0gdGhpcy5lbmNvZGluZyxcbiAgICAgICAgICAgIGxlbmd0aCA9IHN1YlN0YXRlLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgbGV0IGNvZGU7XG5cbiAgICAgICAgZW5jb2RpbmdTdGF0ZS5pbmRleCArPSBsZW5ndGg7XG5cbiAgICAgICAgaWYgKGxlbmd0aCA8IDMpIHtcbiAgICAgICAgICAgIGZvciAoOyBzdWJTdGF0ZS5pbmRleCA8IGxlbmd0aDsgc3ViU3RhdGUuaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGNvZGUgPSBzdWJTdGF0ZS52YWx1ZS5jaGFyQ29kZUF0KHN1YlN0YXRlLmluZGV4KTtcbiAgICAgICAgICAgICAgICBzdWJTdGF0ZS5zdGF0ZSA9IHRoaXMuX2dldFN1YlN0YXRlKGNvZGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN1YlN0YXRlLnByZXZpb3VzU3RhdGUgIT09IHN1YlN0YXRlLnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlN0YXRlLnByZXZpb3VzU3RhdGUgPSBzdWJTdGF0ZS5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2Rpbmdbc3ViU3RhdGUuc3RhdGVdLm1vdmUoc3ViU3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVuY29kaW5nLmFkZFBhdHRlcm4oZW5jb2Rpbmdbc3ViU3RhdGUuc3RhdGVdLk1PVkUpO1xuICAgICAgICAgICAgICAgIGVuY29kaW5nLmFkZFBhdHRlcm4oZW5jb2Rpbmdbc3ViU3RhdGUuc3RhdGVdLmdldFZhbHVlKGNvZGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdWJTdGF0ZS5zdGF0ZSAhPT0gc3ViU3RhdGUucHJldmlvdXNTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGVuY29kaW5nW3N1YlN0YXRlLnN0YXRlXS5tb3ZlKHN1YlN0YXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcHVzaFN0YXJ0KHN1YlN0YXRlKTtcbiAgICAgICAgICAgIGVuY29kaW5nLnB1c2hEYXRhKHN1YlN0YXRlLCB0aGlzLnN1YlN0YXRlcyk7XG5cbiAgICAgICAgICAgIGlmIChlbmNvZGluZ1N0YXRlLmluZGV4IDwgZW5jb2RpbmdTdGF0ZS52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wdXNoU3RhcnQoc3ViU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZW5jb2RpbmdTdGF0ZS5mbmMgPSB0cnVlO1xuICAgICAgICBlbmNvZGluZ1N0YXRlLnN0YXRlID0gc3ViU3RhdGUuc3RhdGU7XG4gICAgfVxuXG4gICAgX3B1c2hTdGFydChzdWJTdGF0ZSkge1xuICAgICAgICB0aGlzLmVuY29kaW5nLmFkZFBhdHRlcm4odGhpcy5lbmNvZGluZ1tzdWJTdGF0ZS5zdGF0ZV0uTU9WRSk7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcuYWRkUGF0dGVybih0aGlzLmVuY29kaW5nW3N1YlN0YXRlLnN0YXRlXS5NT1ZFKTtcbiAgICB9XG5cbiAgICBfaW5pdFN1YlN0YXRlKGVuY29kaW5nU3RhdGUpIHtcbiAgICAgICAgY29uc3Qgc3ViU3RhdGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5fZ2V0QWxsKGVuY29kaW5nU3RhdGUudmFsdWUsIGVuY29kaW5nU3RhdGUuaW5kZXgpLFxuICAgICAgICAgICAgaW5kZXg6IDBcbiAgICAgICAgfTtcblxuICAgICAgICBzdWJTdGF0ZS5zdGF0ZSA9IHRoaXMuX2dldFN1YlN0YXRlKHN1YlN0YXRlLnZhbHVlLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICBzdWJTdGF0ZS5wcmV2aW91c1N0YXRlID0gZW5jb2RpbmdTdGF0ZS5wcmV2aW91c1N0YXRlID09PSB0aGlzLmtleSA/XG4gICAgICAgICAgICBzdWJTdGF0ZS5zdGF0ZSA6XG4gICAgICAgICAgICBlbmNvZGluZ1N0YXRlLnByZXZpb3VzU3RhdGU7XG5cbiAgICAgICAgcmV0dXJuIHN1YlN0YXRlO1xuICAgIH1cblxuICAgIF9pbml0U3ViU3RhdGVzKHN0YXRlcykge1xuICAgICAgICB0aGlzLnN1YlN0YXRlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaW5BcnJheShzdGF0ZXNbaV0sIHRoaXMuZGVwZW5kZW50U3RhdGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ViU3RhdGVzLnB1c2goc3RhdGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRTdWJTdGF0ZShjb2RlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdWJTdGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuY29kaW5nW3RoaXMuc3ViU3RhdGVzW2ldXS5pc0NvZGUoY29kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJTdGF0ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0QWxsKHZhbHVlLCBpbmRleCkge1xuICAgICAgICBsZXQgY29kZTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIGxldCBpID0gaW5kZXg7XG5cbiAgICAgICAgd2hpbGUgKChjb2RlID0gdmFsdWUuY2hhckNvZGVBdChpKyspKSAmJiB0aGlzLmlzQ29kZShjb2RlKSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSAtIDEyOCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07XG5cbnN0YXRlczEyOC5GTkMxID0gY2xhc3MgU3RhdGVzMTI4Rk5DMSBleHRlbmRzIFN0YXRlMTI4IHtcbiAgICBjb25zdHJ1Y3RvcihlbmNvZGluZywgc3RhdGVzKSB7XG4gICAgICAgIHN1cGVyKGVuY29kaW5nKTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBzdGF0ZXM7XG4gICAgfVxuXG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIGtleTogXCJGTkMxXCIsXG4gICAgICAgICAgICBzdGFydFN0YXRlOiBcIkNcIixcbiAgICAgICAgICAgIHN0YXJ0QUk6IFwiKFwiLFxuICAgICAgICAgICAgZW5kQUk6IFwiKVwiLFxuICAgICAgICAgICAgZGVwZW5kZW50U3RhdGVzOiBbXCJDXCIsIFwiQlwiXSxcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uSWRlbnRpZmllcnM6IHtcbiAgICAgICAgICAgICAgICBcIjIyXCI6IHsgbWF4OiAyOSwgdHlwZTogXCJhbHBoYW51bWVyaWNcIiB9LFxuICAgICAgICAgICAgICAgIFwiNDAyXCI6IHsgbGVuZ3RoOiAxNyB9LFxuICAgICAgICAgICAgICAgIFwiNzAwNFwiOiB7IG1heDogNCwgdHlwZTogXCJhbHBoYW51bWVyaWNcIiB9LFxuICAgICAgICAgICAgICAgIFwiMjQyXCI6IHsgbWF4OiA2LCB0eXBlOiBcImFscGhhbnVtZXJpY1wiIH0sXG4gICAgICAgICAgICAgICAgXCI4MDIwXCI6IHsgbWF4OiAyNSwgdHlwZTogXCJhbHBoYW51bWVyaWNcIiB9LFxuICAgICAgICAgICAgICAgIFwiNzAzXCI6IHsgbWluOiAzLCBtYXg6IDMwLCB0eXBlOiBcImFscGhhbnVtZXJpY1wiIH0sXG4gICAgICAgICAgICAgICAgXCI4MDA4XCI6IHsgbWluOiA4LCBtYXg6IDEyLCB0eXBlOiBcImFscGhhbnVtZXJpY1wiIH0sXG4gICAgICAgICAgICAgICAgXCIyNTNcIjogeyBtaW46IDEzLCBtYXg6IDE3LCB0eXBlOiBcImFscGhhbnVtZXJpY1wiIH0sXG4gICAgICAgICAgICAgICAgXCI4MDAzXCI6IHsgbWluOiAxNCwgbWF4OiAzMCwgdHlwZTogXCJhbHBoYW51bWVyaWNcIiB9LFxuICAgICAgICAgICAgICAgIG11bHRpS2V5OiBbe1xuICAgICAgICAgICAgICAgICAgICBpZHM6IFtcIjE1XCIsIFwiMTdcIiwgXCI4MDA1XCIsIFwiODEwMFwiXSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbMTEsIDEzXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFszMTAsIDMxNl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbMzIwLCAzMzZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgWzM0MCwgMzY5XVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IGxlbmd0aDogNiB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBpZHM6IFtcIjI0MFwiLCBcIjI0MVwiLCBcIjI1MFwiLCBcIjI1MVwiLCBcIjQwMFwiLCBcIjQwMVwiLCBcIjQwM1wiLCBcIjcwMDJcIiwgXCI4MDA0XCIsIFwiODAwN1wiLCBcIjgxMTBcIl0sXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlczogW1s5MCAtIDk5XV0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHsgbWF4OiAzMCwgdHlwZTogXCJhbHBoYW51bWVyaWNcIiB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBpZHM6IFtcIjcwMDFcIl0sXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlczogW1s0MTAsIDQxNF1dLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IGxlbmd0aDogMTMgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgaWRzOiBbXCIxMFwiLCBcIjIxXCIsIFwiMjU0XCIsIFwiNDIwXCIsIFwiODAwMlwiXSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogeyBtYXg6IDIwLCB0eXBlOiBcImFscGhhbnVtZXJpY1wiIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGlkczogW1wiMDBcIiwgXCI4MDA2XCIsIFwiODAxN1wiLCBcIjgwMThcIl0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHsgbGVuZ3RoOiAxOCB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBpZHM6IFtcIjAxXCIsIFwiMDJcIiwgXCI4MDAxXCJdLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IGxlbmd0aDogMTQgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgaWRzOiBbXCI0MjJcIl0sXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWzQyNCwgNDI2XVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IGxlbmd0aDogMyB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBpZHM6IFtcIjIwXCIsIFwiODEwMlwiXSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogeyBsZW5ndGg6IDIgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgaWRzOiBbXCIzMFwiLCBcIjM3XCJdLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IG1heDogOCwgdHlwZTogXCJhbHBoYW51bWVyaWNcIiB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBpZHM6IFtcIjM5MFwiLCBcIjM5MlwiXSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogeyBtYXg6IDE1LCB0eXBlOiBcImFscGhhbnVtZXJpY1wiIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGlkczogW1wiNDIxXCIsIFwiNDIzXCJdLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IG1pbjogMywgbWF4OiAxNSwgdHlwZTogXCJhbHBoYW51bWVyaWNcIiB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBpZHM6IFtcIjM5MVwiLCBcIjM5M1wiXSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogeyBtaW46IDMsIG1heDogMTgsIHR5cGU6IFwiYWxwaGFudW1lcmljXCIgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgaWRzOiBbXCI3MDAzXCIsIFwiODEwMVwiXSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogeyBsZW5ndGg6IDEwIH1cbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFNUQVJUOiAxMDJcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBhZGRTdGFydCgpIHtcbiAgICAgICAgdGhpcy5lbmNvZGluZ1t0aGlzLnN0YXJ0U3RhdGVdLmFkZFN0YXJ0KCk7XG4gICAgfVxuXG4gICAgaXMoKSB7XG4gICAgICAgIHJldHVybiBpbkFycmF5KHRoaXMua2V5LCB0aGlzLnN0YXRlcyk7XG4gICAgfVxuXG4gICAgcHVzaFN0YXRlKGVuY29kaW5nU3RhdGUpIHtcbiAgICAgICAgbGV0IGVuY29kaW5nID0gdGhpcy5lbmNvZGluZyxcbiAgICAgICAgICAgIHZhbHVlID0gZW5jb2RpbmdTdGF0ZS52YWx1ZS5yZXBsYWNlKC9cXHMvZywgXCJcIiksXG4gICAgICAgICAgICByZWdleFNlcGFyYXRvcnMgPSBuZXcgUmVnRXhwKFwiW1wiICsgdGhpcy5zdGFydEFJICsgdGhpcy5lbmRBSSArIFwiXVwiLCBcImdcIiksXG4gICAgICAgICAgICBpbmRleCA9IGVuY29kaW5nU3RhdGUuaW5kZXgsXG4gICAgICAgICAgICBzdWJTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGFydFN0YXRlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIG5leHRTdGFydCxcbiAgICAgICAgICAgIHNlcGFyYXRvckxlbmd0aDtcblxuICAgICAgICBlbmNvZGluZy5hZGRQYXR0ZXJuKHRoaXMuU1RBUlQpO1xuXG4gICAgICAgIGNvbnN0IHRydWVDb25kaXRpb24gPSB0cnVlO1xuXG4gICAgICAgIHdoaWxlICh0cnVlQ29uZGl0aW9uKSB7XG4gICAgICAgICAgICBzdWJTdGF0ZS5pbmRleCA9IDA7XG5cbiAgICAgICAgICAgIHNlcGFyYXRvckxlbmd0aCA9IHZhbHVlLmNoYXJBdChpbmRleCkgPT09IHRoaXMuc3RhcnRBSSA/IDIgOiAwO1xuICAgICAgICAgICAgY3VycmVudCA9IHNlcGFyYXRvckxlbmd0aCA+IDAgPyB0aGlzLmdldEJ5U2VwYXJhdG9yKHZhbHVlLCBpbmRleCkgOiB0aGlzLmdldEJ5TGVuZ3RoKHZhbHVlLCBpbmRleCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmFpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG5leHRTdGFydCA9IGluZGV4ICsgc2VwYXJhdG9yTGVuZ3RoICsgY3VycmVudC5pZC5sZW5ndGggKyBjdXJyZW50LmFpLmxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dFN0YXJ0ID0gdmFsdWUuaW5kZXhPZih0aGlzLnN0YXJ0QUksIGluZGV4ICsgMSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFN0YXJ0IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggKyBjdXJyZW50LmFpLm1heCArIGN1cnJlbnQuaWQubGVuZ3RoICsgc2VwYXJhdG9yTGVuZ3RoIDwgdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXBhcmF0b3JzIGFyZSByZXF1aXJlZCBhZnRlciB2YXJpYWJsZSBsZW5ndGggaWRlbnRpZmllcnNcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXh0U3RhcnQgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdWJTdGF0ZS52YWx1ZSA9IHZhbHVlLnN1YnN0cmluZyhpbmRleCwgbmV4dFN0YXJ0KS5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgXCJcIik7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKGN1cnJlbnQsIHN1YlN0YXRlLnZhbHVlKTtcbiAgICAgICAgICAgIGVuY29kaW5nLnB1c2hEYXRhKHN1YlN0YXRlLCB0aGlzLmRlcGVuZGVudFN0YXRlcyk7XG5cbiAgICAgICAgICAgIGlmIChuZXh0U3RhcnQgPj0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluZGV4ID0gbmV4dFN0YXJ0O1xuXG4gICAgICAgICAgICBpZiAoc3ViU3RhdGUuc3RhdGUgIT09IHRoaXMuc3RhcnRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGVuY29kaW5nW3RoaXMuc3RhcnRTdGF0ZV0ubW92ZShzdWJTdGF0ZSk7XG4gICAgICAgICAgICAgICAgc3ViU3RhdGUuc3RhdGUgPSB0aGlzLnN0YXJ0U3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY3VycmVudC5haS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBlbmNvZGluZy5hZGRQYXR0ZXJuKHRoaXMuU1RBUlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZW5jb2RpbmdTdGF0ZS5pbmRleCA9IGVuY29kaW5nU3RhdGUudmFsdWUubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKGN1cnJlbnQsIHZhbHVlKSB7XG4gICAgICAgIGxldCBjb2RlID0gdmFsdWUuc3Vic3RyKGN1cnJlbnQuaWQubGVuZ3RoKSxcbiAgICAgICAgICAgIGFpID0gY3VycmVudC5haTtcblxuICAgICAgICBpZiAoIWFpLnR5cGUgJiYgIW51bWJlclJlZ2V4LnRlc3QoY29kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFwcGxpY2F0aW9uIGlkZW50aWZpZXIgXCIgKyBjdXJyZW50LmlkICsgXCIgaXMgbnVtZXJpYyBvbmx5IGJ1dCBjb250YWlucyBub24gbnVtZXJpYyBjaGFyYWN0ZXIocykuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFpLnR5cGUgPT09IFwiYWxwaGFudW1lcmljXCIgJiYgIWFscGhhbnVtZXJpY1JlZ2V4LnRlc3QoY29kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFwcGxpY2F0aW9uIGlkZW50aWZpZXIgXCIgKyBjdXJyZW50LmlkICsgXCIgaXMgYWxwaGFudW1lcmljIG9ubHkgYnV0IGNvbnRhaW5zIG5vbiBhbHBoYW51bWVyaWMgY2hhcmFjdGVyKHMpLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhaS5sZW5ndGggJiYgYWkubGVuZ3RoICE9PSBjb2RlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXBwbGljYXRpb24gaWRlbnRpZmllciBcIiArIGN1cnJlbnQuaWQgKyBcIiBtdXN0IGJlIFwiICsgYWkubGVuZ3RoICsgXCIgY2hhcmFjdGVycyBsb25nLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhaS5taW4gJiYgYWkubWluID4gY29kZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFwcGxpY2F0aW9uIGlkZW50aWZpZXIgXCIgKyBjdXJyZW50LmlkICsgXCIgbXVzdCBiZSBhdCBsZWFzdCBcIiArIGFpLm1pbiArIFwiIGNoYXJhY3RlcnMgbG9uZy5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWkubWF4ICYmIGFpLm1heCA8IGNvZGUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBcHBsaWNhdGlvbiBpZGVudGlmaWVyIFwiICsgY3VycmVudC5pZCArIFwiIG11c3QgYmUgYXQgbW9zdCBcIiArIGFpLm1heCArIFwiIGNoYXJhY3RlcnMgbG9uZy5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRCeUxlbmd0aCh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgbGV0IGlkO1xuICAgICAgICBsZXQgYXBwbGljYXRpb25JZGVudGlmaWVyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDw9IDQ7IGkrKykge1xuICAgICAgICAgICAgaWQgPSBnZXRTdWJzdHJpbmcodmFsdWUsIGluZGV4LCBpKTtcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uSWRlbnRpZmllciA9IHRoaXMuZ2V0QXBwbGljYXRpb25JZGVudGlmaWVyKGlkKSB8fCB0aGlzLmdldEFwcGxpY2F0aW9uSWRlbnRpZmllcihpZC5zdWJzdHJpbmcoMCwgaWQubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uSWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgYWk6IGFwcGxpY2F0aW9uSWRlbnRpZmllclxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1cHBvcnRlZEFJRXJyb3IoaWQpO1xuICAgIH1cblxuICAgIHVuc3VwcG9ydGVkQUlFcnJvcihpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInXCIgKyBpZCArIFwiJyBpcyBub3QgYSBzdXBwb3J0ZWQgQXBwbGljYXRpb24gSWRlbnRpZmllclwiKTtcbiAgICB9XG5cbiAgICBnZXRCeVNlcGFyYXRvcih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdmFsdWUuaW5kZXhPZih0aGlzLnN0YXJ0QUksIGluZGV4KSxcbiAgICAgICAgICAgIGVuZCA9IHZhbHVlLmluZGV4T2YodGhpcy5lbmRBSSwgc3RhcnQpLFxuICAgICAgICAgICAgaWQgPSB2YWx1ZS5zdWJzdHJpbmcoc3RhcnQgKyAxLCBlbmQpLFxuICAgICAgICAgICAgYWkgPSB0aGlzLmdldEFwcGxpY2F0aW9uSWRlbnRpZmllcihpZCkgfHwgdGhpcy5nZXRBcHBsaWNhdGlvbklkZW50aWZpZXIoaWQuc3Vic3RyKGlkLmxlbmd0aCAtIDEpKTtcblxuICAgICAgICBpZiAoIWFpKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3VwcG9ydGVkQUlFcnJvcihpZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWk6IGFpLFxuICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0QXBwbGljYXRpb25JZGVudGlmaWVyKGlkKSB7XG4gICAgICAgIGxldCBhcHBsaWNhdGlvbklkZW50aWZpZXIgPSB0aGlzLmFwcGxpY2F0aW9uSWRlbnRpZmllcnMsXG4gICAgICAgICAgICBtdWx0aUtleSA9IGFwcGxpY2F0aW9uSWRlbnRpZmllci5tdWx0aUtleTtcblxuICAgICAgICBpZiAoYXBwbGljYXRpb25JZGVudGlmaWVyW2lkXSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGxpY2F0aW9uSWRlbnRpZmllcltpZF07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11bHRpS2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobXVsdGlLZXlbaV0uaWRzICYmIGluQXJyYXkoaWQsIG11bHRpS2V5W2ldLmlkcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbXVsdGlLZXlbaV0udHlwZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobXVsdGlLZXlbaV0ucmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlcyA9IG11bHRpS2V5W2ldLnJhbmdlcztcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmFuZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZXNbal1bMF0gPD0gaWQgJiYgaWQgPD0gcmFuZ2VzW2pdWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXVsdGlLZXlbaV0udHlwZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBjbGFzcyBDb2RlMTI4QmFzZSBleHRlbmRzIEVuY29kaW5nIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9pbml0U3RhdGVzKCk7XG4gICAgfVxuXG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIGNoYXJhY3Rlck1hcDogW1xuICAgICAgICAgICAgICAgIDIxMjIyMiwgMjIyMTIyLCAyMjIyMjEsIDEyMTIyMywgMTIxMzIyLCAxMzEyMjIsIDEyMjIxMywgMTIyMzEyLCAxMzIyMTIsIDIyMTIxMyxcbiAgICAgICAgICAgICAgICAyMjEzMTIsIDIzMTIxMiwgMTEyMjMyLCAxMjIxMzIsIDEyMjIzMSwgMTEzMjIyLCAxMjMxMjIsIDEyMzIyMSwgMjIzMjExLCAyMjExMzIsXG4gICAgICAgICAgICAgICAgMjIxMjMxLCAyMTMyMTIsIDIyMzExMiwgMzEyMTMxLCAzMTEyMjIsIDMyMTEyMiwgMzIxMjIxLCAzMTIyMTIsIDMyMjExMiwgMzIyMjExLFxuICAgICAgICAgICAgICAgIDIxMjEyMywgMjEyMzIxLCAyMzIxMjEsIDExMTMyMywgMTMxMTIzLCAxMzEzMjEsIDExMjMxMywgMTMyMTEzLCAxMzIzMTEsIDIxMTMxMyxcbiAgICAgICAgICAgICAgICAyMzExMTMsIDIzMTMxMSwgMTEyMTMzLCAxMTIzMzEsIDEzMjEzMSwgMTEzMTIzLCAxMTMzMjEsIDEzMzEyMSwgMzEzMTIxLCAyMTEzMzEsXG4gICAgICAgICAgICAgICAgMjMxMTMxLCAyMTMxMTMsIDIxMzMxMSwgMjEzMTMxLCAzMTExMjMsIDMxMTMyMSwgMzMxMTIxLCAzMTIxMTMsIDMxMjMxMSwgMzMyMTExLFxuICAgICAgICAgICAgICAgIDMxNDExMSwgMjIxNDExLCA0MzExMTEsIDExMTIyNCwgMTExNDIyLCAxMjExMjQsIDEyMTQyMSwgMTQxMTIyLCAxNDEyMjEsIDExMjIxNCxcbiAgICAgICAgICAgICAgICAxMTI0MTIsIDEyMjExNCwgMTIyNDExLCAxNDIxMTIsIDE0MjIxMSwgMjQxMjExLCAyMjExMTQsIDQxMzExMSwgMjQxMTEyLCAxMzQxMTEsXG4gICAgICAgICAgICAgICAgMTExMjQyLCAxMjExNDIsIDEyMTI0MSwgMTE0MjEyLCAxMjQxMTIsIDEyNDIxMSwgNDExMjEyLCA0MjExMTIsIDQyMTIxMSwgMjEyMTQxLFxuICAgICAgICAgICAgICAgIDIxNDEyMSwgNDEyMTIxLCAxMTExNDMsIDExMTM0MSwgMTMxMTQxLCAxMTQxMTMsIDExNDMxMSwgNDExMTEzLCA0MTEzMTEsIDExMzE0MSxcbiAgICAgICAgICAgICAgICAxMTQxMzEsIDMxMTE0MSwgNDExMTMxLCAyMTE0MTIsIDIxMTIxNCwgMjExMjMyLCAyMzMxMTEyXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgU1RPUDogMTA2XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9pbml0U3RhdGVzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzW3RoaXMuc3RhdGVzW2ldXSA9IG5ldyBzdGF0ZXMxMjhbdGhpcy5zdGF0ZXNbaV1dKHRoaXMsIHRoaXMuc3RhdGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRWYWx1ZSh2YWx1ZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnBhdHRlcm4gPSBbXTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmNoZWNrU3VtID0gMDtcbiAgICAgICAgdGhpcy50b3RhbFVuaXRzID0gMDtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSAxO1xuICAgIH1cblxuICAgIGFkZERhdGEoKSB7XG4gICAgICAgIGxldCBlbmNvZGluZ1N0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgIHN0YXRlOiBcIlwiXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlbmNvZGluZ1N0YXRlLnN0YXRlID1cbiAgICAgICAgICAgIGVuY29kaW5nU3RhdGUucHJldmlvdXNTdGF0ZSA9IHRoaXMuZ2V0TmV4dFN0YXRlKGVuY29kaW5nU3RhdGUsIHRoaXMuc3RhdGVzKTtcblxuICAgICAgICB0aGlzLmFkZFN0YXJ0KGVuY29kaW5nU3RhdGUpO1xuXG4gICAgICAgIHRoaXMucHVzaERhdGEoZW5jb2RpbmdTdGF0ZSwgdGhpcy5zdGF0ZXMpO1xuXG4gICAgICAgIHRoaXMuYWRkQ2hlY2tTdW0oKTtcbiAgICAgICAgdGhpcy5hZGRTdG9wKCk7XG4gICAgICAgIHRoaXMuc2V0QmFzZVVuaXQoKTtcbiAgICB9XG5cbiAgICBwdXNoRGF0YShlbmNvZGluZ1N0YXRlLCBzdGF0ZXMpIHtcbiAgICAgICAgY29uc3QgdHJ1ZUNvbmRpdGlvbiA9IHRydWU7XG5cbiAgICAgICAgd2hpbGUgKHRydWVDb25kaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXNbZW5jb2RpbmdTdGF0ZS5zdGF0ZV0ucHVzaFN0YXRlKGVuY29kaW5nU3RhdGUpO1xuXG4gICAgICAgICAgICBpZiAoZW5jb2RpbmdTdGF0ZS5pbmRleCA+PSBlbmNvZGluZ1N0YXRlLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWVuY29kaW5nU3RhdGUuc2hpZnRlZCkge1xuICAgICAgICAgICAgICAgIGVuY29kaW5nU3RhdGUucHJldmlvdXNTdGF0ZSA9IGVuY29kaW5nU3RhdGUuc3RhdGU7XG4gICAgICAgICAgICAgICAgZW5jb2RpbmdTdGF0ZS5zdGF0ZSA9IHRoaXMuZ2V0TmV4dFN0YXRlKGVuY29kaW5nU3RhdGUsIHN0YXRlcyk7XG4gICAgICAgICAgICAgICAgdGhpc1tlbmNvZGluZ1N0YXRlLnN0YXRlXS5tb3ZlKGVuY29kaW5nU3RhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGVuY29kaW5nU3RhdGUuc3RhdGU7XG4gICAgICAgICAgICAgICAgZW5jb2RpbmdTdGF0ZS5zdGF0ZSA9IGVuY29kaW5nU3RhdGUucHJldmlvdXNTdGF0ZTtcbiAgICAgICAgICAgICAgICBlbmNvZGluZ1N0YXRlLnByZXZpb3VzU3RhdGUgPSB0ZW1wO1xuICAgICAgICAgICAgICAgIGVuY29kaW5nU3RhdGUuc2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkU3RhcnQoZW5jb2RpbmdTdGF0ZSkge1xuICAgICAgICB0aGlzW2VuY29kaW5nU3RhdGUuc3RhdGVdLmFkZFN0YXJ0KGVuY29kaW5nU3RhdGUpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gMTtcbiAgICB9XG5cbiAgICBhZGRDaGVja1N1bSgpIHtcbiAgICAgICAgdGhpcy5jaGVja3N1bSA9IHRoaXMuY2hlY2tTdW0gJSAxMDM7XG4gICAgICAgIHRoaXMuYWRkUGF0dGVybih0aGlzLmNoZWNrc3VtKTtcbiAgICB9XG5cbiAgICBhZGRTdG9wKCkge1xuICAgICAgICB0aGlzLmFkZFBhdHRlcm4odGhpcy5TVE9QKTtcbiAgICB9XG5cbiAgICBzZXRCYXNlVW5pdCgpIHtcbiAgICAgICAgdGhpcy5iYXNlVW5pdCA9IHRoaXMud2lkdGggLyAodGhpcy50b3RhbFVuaXRzICsgdGhpcy5xdWlldFpvbmVMZW5ndGgpO1xuICAgIH1cblxuICAgIGFkZFBhdHRlcm4oY29kZSkge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5jaGFyYWN0ZXJNYXBbY29kZV0udG9TdHJpbmcoKTtcbiAgICAgICAgbGV0IHZhbHVlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludChwYXR0ZXJuLmNoYXJBdChpKSwgMTApO1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgdGhpcy50b3RhbFVuaXRzICs9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tTdW0gKz0gY29kZSAqIHRoaXMucG9zaXRpb24rKztcbiAgICB9XG5cbiAgICBnZXROZXh0U3RhdGUoZW5jb2RpbmdTdGF0ZSwgc3RhdGVzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tzdGF0ZXNbaV1dLmlzKGVuY29kaW5nU3RhdGUudmFsdWUsIGVuY29kaW5nU3RhdGUuaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW52YWxpZENoYXJhY3RlckVycm9yKGVuY29kaW5nU3RhdGUudmFsdWUuY2hhckF0KGVuY29kaW5nU3RhdGUuaW5kZXgpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2RlMTI4YSBleHRlbmRzIENvZGUxMjhCYXNlIHtcbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgc3VwZXIuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBleHRlbmQodGhpcywge1xuICAgICAgICAgICAgbmFtZTogXCJDb2RlIDEyOCBBXCIsXG4gICAgICAgICAgICBzdGF0ZXM6IFtcIkFcIl1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29kZTEyOGIgZXh0ZW5kcyBDb2RlMTI4QmFzZSB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29kZSAxMjggQlwiLFxuICAgICAgICAgICAgc3RhdGVzOiBbXCJCXCJdXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvZGUxMjhjIGV4dGVuZHMgQ29kZTEyOEJhc2Uge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiBcIkNvZGUgMTI4IENcIixcbiAgICAgICAgICAgIHN0YXRlczogW1wiQ1wiXVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2RlMTI4IGV4dGVuZHMgQ29kZTEyOEJhc2Uge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiBcIkNvZGUgMTI4XCIsXG4gICAgICAgICAgICBzdGF0ZXM6IFtcIkNcIiwgXCJCXCIsIFwiQVwiLCBcIkZOQzRcIl1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29kZUdTMTEyOCBleHRlbmRzIENvZGUxMjhCYXNlIHtcbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgc3VwZXIuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBleHRlbmQodGhpcywge1xuICAgICAgICAgICAgbmFtZTogXCJDb2RlIEdTMS0xMjhcIixcbiAgICAgICAgICAgIHN0YXRlczogW1wiRk5DMVwiLCBcIkNcIiwgXCJCXCJdXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3Vic3RyaW5nKHZhbHVlLCBpbmRleCwgY291bnQpIHtcbiAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIGNvdW50KTtcbn1cbiIsImltcG9ydCB7IEVuY29kaW5nIH0gZnJvbSAnLi9lbmNvZGluZyc7XG5cbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5cbmV4cG9ydCBjbGFzcyBNc2lCYXNlIGV4dGVuZHMgRW5jb2Rpbmcge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBjaGFyYWN0ZXJNYXA6IFtcbiAgICAgICAgICAgICAgICBcIjEyMTIxMjEyXCIsXG4gICAgICAgICAgICAgICAgXCIxMjEyMTIyMVwiLFxuICAgICAgICAgICAgICAgIFwiMTIxMjIxMTJcIixcbiAgICAgICAgICAgICAgICBcIjEyMTIyMTIxXCIsXG4gICAgICAgICAgICAgICAgXCIxMjIxMTIxMlwiLFxuICAgICAgICAgICAgICAgIFwiMTIyMTEyMjFcIixcbiAgICAgICAgICAgICAgICBcIjEyMjEyMTEyXCIsXG4gICAgICAgICAgICAgICAgXCIxMjIxMjEyMVwiLFxuICAgICAgICAgICAgICAgIFwiMjExMjEyMTJcIixcbiAgICAgICAgICAgICAgICBcIjIxMTIxMjIxXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBTVEFSVDogXCIyMVwiLFxuICAgICAgICAgICAgU1RPUDogXCIxMjFcIixcbiAgICAgICAgICAgIGNoZWNrU3VtVHlwZTogXCJcIixcbiAgICAgICAgICAgIGNoZWNrU3VtczogY2hlY2tTdW1zXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRWYWx1ZSh2YWx1ZSwgd2lkdGgpIHtcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gW107XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jaGVja1N1bUxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB9XG5cbiAgICBzZXRCYXNlVW5pdCgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRTdG9wTGVuZ3RoID0gNztcblxuICAgICAgICB0aGlzLmJhc2VVbml0ID0gdGhpcy53aWR0aCAvXG4gICAgICAgICAgICAoMTIgKiAodGhpcy52YWx1ZS5sZW5ndGggKyB0aGlzLmNoZWNrU3VtTGVuZ3RoKSArIHRoaXMucXVpZXRab25lTGVuZ3RoICsgc3RhcnRTdG9wTGVuZ3RoKTtcbiAgICB9XG5cbiAgICBhZGREYXRhKCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XG5cbiAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKHRoaXMuU1RBUlQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hhcmFjdGVyKHZhbHVlLmNoYXJBdChpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFkZENoZWNrU3VtKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENoZWNrU3VtKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZFBhdHRlcm4odGhpcy5TVE9QKTtcbiAgICAgICAgdGhpcy5zZXRCYXNlVW5pdCgpO1xuICAgIH1cblxuICAgIGFkZENoYXJhY3RlcihjaGFyYWN0ZXIpIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMuY2hhcmFjdGVyTWFwW2NoYXJhY3Rlcl07XG5cbiAgICAgICAgaWYgKCFwYXR0ZXJuKSB7XG4gICAgICAgICAgICB0aGlzLmludmFsaWRDaGFyYWN0ZXJFcnJvcihjaGFyYWN0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRQYXR0ZXJuKHBhdHRlcm4pO1xuICAgIH1cblxuICAgIGFkZFBhdHRlcm4ocGF0dGVybikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybi5wdXNoKHBhcnNlSW50KHBhdHRlcm4uY2hhckF0KGkpLCAxMCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkQ2hlY2tTdW0oKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrU3VtRnVuY3Rpb24gPSB0aGlzLmNoZWNrU3Vtc1t0aGlzLmNoZWNrU3VtVHlwZV07XG4gICAgICAgIGNvbnN0IGNoZWNrVmFsdWVzID0gY2hlY2tTdW1GdW5jdGlvbi5jYWxsKHRoaXMuY2hlY2tTdW1zLCB0aGlzLnZhbHVlKTtcblxuICAgICAgICB0aGlzLmNoZWNrc3VtID0gY2hlY2tWYWx1ZXMuam9pbihcIlwiKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrU3VtTGVuZ3RoKys7XG4gICAgICAgICAgICB0aGlzLmFkZFBhdHRlcm4odGhpcy5jaGFyYWN0ZXJNYXBbY2hlY2tWYWx1ZXNbaV1dKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1zaU1vZDEwIGV4dGVuZHMgTXNpQmFzZSB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWU6IFwiTVNJIE1vZHVsbzEwXCIsXG4gICAgICAgICAgICBjaGVja1N1bVR5cGU6IFwiTW9kdWxvMTBcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNc2lNb2QxMSBleHRlbmRzIE1zaUJhc2Uge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiBcIk1TSSBNb2R1bG8xMVwiLFxuICAgICAgICAgICAgY2hlY2tTdW1UeXBlOiBcIk1vZHVsbzExXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTXNpTW9kMTAxMCBleHRlbmRzIE1zaUJhc2Uge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiBcIk1TSSBNb2R1bG8xMCBNb2R1bG8xMFwiLFxuICAgICAgICAgICAgY2hlY2tTdW1UeXBlOiBcIk1vZHVsbzEwTW9kdWxvMTBcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNc2lNb2QxMTEwIGV4dGVuZHMgTXNpQmFzZSB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWU6IFwiTVNJIE1vZHVsbzExIE1vZHVsbzEwXCIsXG4gICAgICAgICAgICBjaGVja1N1bVR5cGU6IFwiTW9kdWxvMTFNb2R1bG8xMFwiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY29uc3QgY2hlY2tTdW1zID0ge1xuICAgIE1vZHVsbzEwKHZhbHVlKSB7XG4gICAgICAgIGxldCBjaGVja1ZhbHVlcyA9IFswLCBcIlwiXSxcbiAgICAgICAgICAgIG9kZCA9IHZhbHVlLmxlbmd0aCAlIDIsXG4gICAgICAgICAgICBpZHgsXG4gICAgICAgICAgICBldmVuU3VtLFxuICAgICAgICAgICAgb2RkU3VtO1xuXG4gICAgICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgdmFsdWUubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY2hlY2tWYWx1ZXNbKGlkeCArIG9kZCkgJSAyXSArPSBwYXJzZUludCh2YWx1ZS5jaGFyQXQoaWR4KSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgb2RkU3VtID0gY2hlY2tWYWx1ZXNbMF07XG4gICAgICAgIGV2ZW5TdW0gPSAoY2hlY2tWYWx1ZXNbMV0gKiAyKS50b1N0cmluZygpO1xuXG4gICAgICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgZXZlblN1bS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBvZGRTdW0gKz0gcGFyc2VJbnQoZXZlblN1bS5jaGFyQXQoaWR4KSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsoMTAgLSAob2RkU3VtICUgMTApKSAlIDEwXTtcbiAgICB9LFxuICAgIE1vZHVsbzExKHZhbHVlKSB7XG4gICAgICAgIGxldCB3ZWlnaHRlZFN1bSA9IDAsXG4gICAgICAgICAgICBtb2QgPSAxMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHZhbHVlLmxlbmd0aCxcbiAgICAgICAgICAgIHdlaWdodCxcbiAgICAgICAgICAgIGNoZWNrVmFsdWU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgd2VpZ2h0ID0gKChsZW5ndGggLSBpKSAlIDYgfHwgNikgKyAxO1xuICAgICAgICAgICAgd2VpZ2h0ZWRTdW0gKz0gd2VpZ2h0ICogdmFsdWUuY2hhckF0KGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hlY2tWYWx1ZSA9IChtb2QgLSB3ZWlnaHRlZFN1bSAlIG1vZCkgJSBtb2Q7XG5cbiAgICAgICAgaWYgKGNoZWNrVmFsdWUgIT09IDEwKSB7XG4gICAgICAgICAgICByZXR1cm4gW2NoZWNrVmFsdWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsxLCAwXTtcbiAgICB9LFxuICAgIE1vZHVsbzExTW9kdWxvMTAodmFsdWUpIHtcbiAgICAgICAgbGV0IGNoZWNrVmFsdWVzID0gdGhpcy5Nb2R1bG8xMSh2YWx1ZSksXG4gICAgICAgICAgICBtb2QxMVZhbHVlO1xuICAgICAgICBtb2QxMVZhbHVlID0gdmFsdWUgKyBjaGVja1ZhbHVlc1swXTtcblxuICAgICAgICByZXR1cm4gY2hlY2tWYWx1ZXMuY29uY2F0KHRoaXMuTW9kdWxvMTAobW9kMTFWYWx1ZSkpO1xuICAgIH0sXG4gICAgTW9kdWxvMTBNb2R1bG8xMCh2YWx1ZSkge1xuICAgICAgICBsZXQgY2hlY2tWYWx1ZXMgPSB0aGlzLk1vZHVsbzEwKHZhbHVlKSxcbiAgICAgICAgICAgIG1vZDEwVmFsdWU7XG4gICAgICAgIG1vZDEwVmFsdWUgPSB2YWx1ZSArIGNoZWNrVmFsdWVzWzBdO1xuXG4gICAgICAgIHJldHVybiBjaGVja1ZhbHVlcy5jb25jYXQodGhpcy5Nb2R1bG8xMChtb2QxMFZhbHVlKSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IEVuY29kaW5nIH0gZnJvbSAnLi9lbmNvZGluZyc7XG5cbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5cbmV4cG9ydCBjbGFzcyBFYW4xMyBleHRlbmRzIEVuY29kaW5nIHtcbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgc3VwZXIuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBleHRlbmQodGhpcywge1xuICAgICAgICAgICAgbmFtZTogXCJFQU4gMTNcIixcbiAgICAgICAgICAgIGtleVRhYmxlOiBbXG4gICAgICAgICAgICAgICAgJzAwMDAwMCcsXG4gICAgICAgICAgICAgICAgJzAwMTAxMScsXG4gICAgICAgICAgICAgICAgJzAwMTEwMScsXG4gICAgICAgICAgICAgICAgJzAwMTExMCcsXG4gICAgICAgICAgICAgICAgJzAxMDAxMScsXG4gICAgICAgICAgICAgICAgJzAxMTAwMScsXG4gICAgICAgICAgICAgICAgJzAxMTEwMCcsXG4gICAgICAgICAgICAgICAgJzAxMDEwMScsXG4gICAgICAgICAgICAgICAgJzAxMDExMCcsXG4gICAgICAgICAgICAgICAgJzAxMTAxMCdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBjaGFyYWN0ZXJNYXA6IHtcbiAgICAgICAgICAgICAgICBkaWdpdHM6IFtcbiAgICAgICAgICAgICAgICAgICAgWzMsIDIsIDEsIDFdLFxuICAgICAgICAgICAgICAgICAgICBbMiwgMiwgMiwgMV0sXG4gICAgICAgICAgICAgICAgICAgIFsyLCAxLCAyLCAyXSxcbiAgICAgICAgICAgICAgICAgICAgWzEsIDQsIDEsIDFdLFxuICAgICAgICAgICAgICAgICAgICBbMSwgMSwgMywgMl0sXG4gICAgICAgICAgICAgICAgICAgIFsxLCAyLCAzLCAxXSxcbiAgICAgICAgICAgICAgICAgICAgWzEsIDEsIDEsIDRdLFxuICAgICAgICAgICAgICAgICAgICBbMSwgMywgMSwgMl0sXG4gICAgICAgICAgICAgICAgICAgIFsxLCAyLCAxLCAzXSxcbiAgICAgICAgICAgICAgICAgICAgWzMsIDEsIDEsIDJdXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBzdGFydDogWzEsIDEsIDFdLFxuICAgICAgICAgICAgICAgIG1pZGRsZTogWzEsIDEsIDEsIDEsIDFdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRWYWx1ZSh2YWx1ZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBjb25zdCB2YWx1ZUFzU3RyaW5nID0gU3RyaW5nKHZhbHVlKTtcblxuICAgICAgICBpZiAodmFsdWVBc1N0cmluZy5sZW5ndGggIT09IDEyIHx8IC9cXEQvLnRlc3QodmFsdWVBc1N0cmluZykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlIG9mIHRoZSBcIkVBTjEzXCIgZW5jb2Rpbmcgc2hvdWxkIGJlIDEyIHN5bWJvbHMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGF0dGVybiA9IFtdO1xuICAgICAgICB0aGlzLm9wdGlvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmJhc2VVbml0ID0gd2lkdGggLyAoOTUgKyB0aGlzLnF1aWV0Wm9uZUxlbmd0aCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZUFzU3RyaW5nO1xuICAgICAgICB0aGlzLmNoZWNrc3VtID0gdGhpcy5jYWxjdWxhdGVDaGVja3N1bSgpO1xuICAgICAgICB0aGlzLmxlZnRLZXkgPSB2YWx1ZUFzU3RyaW5nWzBdO1xuICAgICAgICB0aGlzLmxlZnRQYXJ0ID0gdmFsdWVBc1N0cmluZy5zdWJzdHIoMSwgNik7XG4gICAgICAgIHRoaXMucmlnaHRQYXJ0ID0gdmFsdWVBc1N0cmluZy5zdWJzdHIoNykgKyB0aGlzLmNoZWNrc3VtO1xuICAgIH1cblxuICAgIGFkZERhdGEoKSB7XG4gICAgICAgIHRoaXMuYWRkUGllY2VzKHRoaXMuY2hhcmFjdGVyTWFwLnN0YXJ0KTtcbiAgICAgICAgdGhpcy5hZGRTaWRlKHRoaXMubGVmdFBhcnQsIHRoaXMubGVmdEtleSk7XG4gICAgICAgIHRoaXMuYWRkUGllY2VzKHRoaXMuY2hhcmFjdGVyTWFwLm1pZGRsZSk7XG4gICAgICAgIHRoaXMuYWRkU2lkZSh0aGlzLnJpZ2h0UGFydCk7XG4gICAgICAgIHRoaXMuYWRkUGllY2VzKHRoaXMuY2hhcmFjdGVyTWFwLnN0YXJ0KTtcbiAgICB9XG5cbiAgICBhZGRTaWRlKGxlZnRQYXJ0LCBrZXkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZWZ0UGFydC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGtleSAmJiBwYXJzZUludCh0aGlzLmtleVRhYmxlW2tleV0uY2hhckF0KGkpLCAxMCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFBpZWNlcyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmNoYXJhY3Rlck1hcC5kaWdpdHNbbGVmdFBhcnQuY2hhckF0KGkpXSkucmV2ZXJzZSgpLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQaWVjZXModGhpcy5jaGFyYWN0ZXJNYXAuZGlnaXRzW2xlZnRQYXJ0LmNoYXJBdChpKV0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUGllY2VzKGFyclRvQWRkLCBsaW1pdGVkSGVpZ2h0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyVG9BZGQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsaW1pdGVkSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXR0ZXJuLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB5MTogMCxcbiAgICAgICAgICAgICAgICAgICAgeTI6IHRoaXMub3B0aW9ucy5oZWlnaHQgKiAwLjk1LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogYXJyVG9BZGRbaV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXR0ZXJuLnB1c2goYXJyVG9BZGRbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlQ2hlY2tzdW0oKSB7XG4gICAgICAgIGxldCBvZGQgPSAwLFxuICAgICAgICAgICAgZXZlbiA9IDAsXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMudmFsdWUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgJSAyKSB7XG4gICAgICAgICAgICAgICAgZXZlbiArPSBwYXJzZUludCh2YWx1ZS5jaGFyQXQoaSksIDEwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2RkICs9IHBhcnNlSW50KHZhbHVlLmNoYXJBdChpKSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNoZWNrc3VtID0gKDEwIC0gKCgzICogb2RkICsgZXZlbikgJSAxMCkpICUgMTA7XG5cbiAgICAgICAgcmV0dXJuIGNoZWNrc3VtO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVhbjEzIH0gZnJvbSAnLi9lYW4xMyc7XG5cbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5cbmV4cG9ydCBjbGFzcyBFYW44IGV4dGVuZHMgRWFuMTMge1xuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBzdXBlci5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiBcIkVBTiA4XCJcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdFZhbHVlKHZhbHVlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IDcgfHwgL1xcRC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBwcm92aWRlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLm9wdGlvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmNoZWNrc3VtID0gdGhpcy5jYWxjdWxhdGVDaGVja3N1bSh0aGlzLnZhbHVlKTtcbiAgICAgICAgdGhpcy5sZWZ0UGFydCA9IHRoaXMudmFsdWUuc3Vic3RyKDAsIDQpO1xuICAgICAgICB0aGlzLnJpZ2h0UGFydCA9IHRoaXMudmFsdWUuc3Vic3RyKDQpICsgdGhpcy5jaGVja3N1bTtcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gW107XG4gICAgICAgIHRoaXMuYmFzZVVuaXQgPSB3aWR0aCAvICg2NyArIHRoaXMucXVpZXRab25lTGVuZ3RoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb2RlMTEgfSBmcm9tICcuL2NvZGUxMSc7XG5pbXBvcnQgeyBDb2RlMzkgfSBmcm9tICcuL2NvZGUzOSc7XG5pbXBvcnQgeyBDb2RlMzlFeHRlbmRlZCB9IGZyb20gJy4vY29kZTM5LWV4dGVuZGVkJztcbmltcG9ydCB7IENvZGU5MyB9IGZyb20gJy4vY29kZTkzJztcbmltcG9ydCB7IENvZGU5M0V4dGVuZGVkIH0gZnJvbSAnLi9jb2RlOTMtZXh0ZW5kZWQnO1xuaW1wb3J0IHsgUG9zdG5ldCB9IGZyb20gJy4vcG9zdG5ldCc7XG5cbmltcG9ydCB7XG4gICAgQ29kZTEyOCxcbiAgICBDb2RlMTI4YSxcbiAgICBDb2RlMTI4YixcbiAgICBDb2RlMTI4YyxcbiAgICBDb2RlR1MxMTI4XG59IGZyb20gJy4vY29kZTEyOCc7XG5cbmltcG9ydCB7XG4gICAgTXNpTW9kMTAsXG4gICAgTXNpTW9kMTEsXG4gICAgTXNpTW9kMTAxMCxcbiAgICBNc2lNb2QxMTEwXG59IGZyb20gJy4vbXNpJztcblxuaW1wb3J0IHsgRWFuOCB9IGZyb20gJy4vZWFuOCc7XG5pbXBvcnQgeyBFYW4xMyB9IGZyb20gJy4vZWFuMTMnO1xuXG5leHBvcnQgY29uc3QgRW5jb2RpbmdzID0ge1xuICAgIGNvZGUxMTogQ29kZTExLFxuXG4gICAgY29kZTM5OiBDb2RlMzksXG4gICAgY29kZTM5ZXh0ZW5kZWQ6IENvZGUzOUV4dGVuZGVkLFxuXG4gICAgY29kZTkzOiBDb2RlOTMsXG4gICAgY29kZTkzZXh0ZW5kZWQ6IENvZGU5M0V4dGVuZGVkLFxuXG4gICAgY29kZTEyODogQ29kZTEyOCxcbiAgICBjb2RlMTI4YTogQ29kZTEyOGEsXG4gICAgY29kZTEyOGI6IENvZGUxMjhiLFxuICAgIGNvZGUxMjhjOiBDb2RlMTI4YyxcbiAgICBbXCJnczEtMTI4XCJdOiBDb2RlR1MxMTI4LFxuXG4gICAgbXNpbW9kMTA6IE1zaU1vZDEwLFxuICAgIG1zaW1vZDExOiBNc2lNb2QxMSxcbiAgICBtc2ltb2QxMDEwOiBNc2lNb2QxMDEwLFxuICAgIG1zaW1vZDExMTA6IE1zaU1vZDExMTAsXG5cbiAgICBwb3N0bmV0OiBQb3N0bmV0LFxuXG4gICAgZWFuODogRWFuOCxcbiAgICBlYW4xMzogRWFuMTNcbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gc3VyZmFjZVNpemUoZWxlbWVudCwgc3VyZmFjZVR5cGUpIHtcbiAgICBjb25zdCBkaXNwbGF5ID0gZWxlbWVudC5zdHlsZS5kaXNwbGF5O1xuICAgIGlmIChzdXJmYWNlVHlwZSA9PT0gJ2NhbnZhcycpIHtcbiAgICAgICAgLy8gVGhlIENhbnZhcyBkZWZhdWx0IHNpemUgaXMgZGlmZmVyZW50IGZyb20gU1ZHIGZvclxuICAgICAgICAvLyBpbmxpbmUtYmxvY2sgY29udGFpbmVycyBzdWNoIGFzIHRoZSBCYXJjb2RlIGFuZCBRUiBDb2RlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTd2l0Y2ggdG8gZGlzcGxheTogYmxvY2sgdG8gZ2V0IHNhbWUgZGltZW5zaW9ucy5cbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG5cbiAgICBjb25zdCBzaXplID0ge1xuICAgICAgICB3aWR0aDogZWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmNsaWVudEhlaWdodFxuICAgIH07XG5cbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xuXG4gICAgcmV0dXJuIHNpemU7XG59XG4iLCJpbXBvcnQge1xuICAgIGdlb21ldHJ5IGFzIGdlb20sXG4gICAgZHJhd2luZyBhcyBkcmF3XG59IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHtcbiAgICBDbGFzcyxcbiAgICBkZWZpbmVkLFxuICAgIGFkZENsYXNzLFxuICAgIHNldERlZmF1bHRPcHRpb25zLFxuICAgIGRlZXBFeHRlbmQsXG4gICAgZ2V0U3BhY2luZyxcbiAgICBpc09iamVjdCxcbiAgICBkZWZhdWx0RXJyb3JIYW5kbGVyXG59IGZyb20gJy4uL2NvbW1vbic7XG5cbmltcG9ydCB7XG4gICAgQm94LFxuICAgIFRleHRCb3hcbn0gZnJvbSAnLi4vY29yZSc7XG5cbmltcG9ydCB7IEVuY29kaW5ncyB9IGZyb20gJy4vZW5jb2RpbmdzL21haW4nO1xuaW1wb3J0IHsgc3VyZmFjZVNpemUgfSBmcm9tICcuL3N1cmZhY2Utc2l6ZSc7XG5cbmNvbnN0IERFRkFVTFRfQkFSQ09ERV9XSURUSCA9IDMwMDtcbmNvbnN0IERFRkFVTFRfQkFSQ09ERV9IRUlHSFQgPSAxMDA7XG5cbmNsYXNzIEJhcmNvZGUgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucywgZXJyb3JIYW5kbGVyID0gZGVmYXVsdEVycm9ySGFuZGxlcikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMub25FcnJvciA9IGVycm9ySGFuZGxlcjtcblxuICAgICAgICB0aGlzLl9pbml0RWxlbWVudCgpO1xuICAgICAgICB0aGlzLl9pbml0U3VyZmFjZSgpO1xuICAgICAgICB0aGlzLl9zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIGRlZmluZWQob3B0aW9ucy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9kZXN0cm95U3VyZmFjZSgpO1xuICAgIH1cblxuICAgIF9pbml0RWxlbWVudCgpIHtcbiAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCBcImstYmFyY29kZVwiKTtcbiAgICB9XG5cbiAgICBfaW5pdFN1cmZhY2UoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgc3VyZmFjZSB9ID0gdGhpcztcblxuICAgICAgICBpZiAoIXN1cmZhY2UgfHwgc3VyZmFjZS5vcHRpb25zLnR5cGUgIT09IG9wdGlvbnMucmVuZGVyQXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lTdXJmYWNlKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0U3VyZmFjZUVsZW1lbnQoKTtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZSA9IHRoaXMuX2NyZWF0ZVN1cmZhY2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVTdXJmYWNlKCkge1xuICAgICAgICByZXR1cm4gZHJhdy5TdXJmYWNlLmNyZWF0ZSh0aGlzLnN1cmZhY2VFbGVtZW50LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMucmVuZGVyQXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2Rlc3Ryb3lTdXJmYWNlKCkge1xuICAgICAgICBpZiAodGhpcy5zdXJmYWNlKSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lTdXJmYWNlRWxlbWVudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2luaXRTdXJmYWNlRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN1cmZhY2VFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2VFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnN1cmZhY2VFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kZXN0cm95U3VyZmFjZUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN1cmZhY2VFbGVtZW50ICYmIHRoaXMuc3VyZmFjZUVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc3VyZmFjZUVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5faW5pdFN1cmZhY2UoKTtcbiAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICB9XG5cbiAgICByZWRyYXcoKSB7XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5fZ2V0U2l6ZSgpO1xuXG4gICAgICAgIHRoaXMuc3VyZmFjZS5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuc3VyZmFjZS5zZXRTaXplKHtcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLmhlaWdodFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIHRoaXMuc3VyZmFjZS5kcmF3KHRoaXMudmlzdWFsKTtcbiAgICB9XG5cbiAgICBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICB0aGlzLnZpc3VhbCA9IHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIF9yZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9ucy52YWx1ZTtcbiAgICAgICAgY29uc3QgdGV4dE9wdGlvbnMgPSBvcHRpb25zLnRleHQ7XG4gICAgICAgIGNvbnN0IHRleHRNYXJnaW4gPSBnZXRTcGFjaW5nKHRleHRPcHRpb25zLm1hcmdpbik7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9nZXRTaXplKCk7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IG9wdGlvbnMuYm9yZGVyIHx8IHt9O1xuICAgICAgICBjb25zdCBlbmNvZGluZyA9IHRoaXMuZW5jb2Rpbmc7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRCb3ggPSBuZXcgQm94KDAsIDAsIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KS51bnBhZChib3JkZXIud2lkdGgpLnVucGFkKG9wdGlvbnMucGFkZGluZyk7XG4gICAgICAgIGxldCBiYXJIZWlnaHQgPSBjb250ZW50Qm94LmhlaWdodCgpO1xuICAgICAgICBsZXQgZW5jb2RlZFZhbHVlO1xuICAgICAgICBsZXQgdGV4dFRvRGlzcGxheTtcbiAgICAgICAgbGV0IHRleHRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHZpc3VhbCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG5cbiAgICAgICAgdGhpcy5jb250ZW50Qm94ID0gY29udGVudEJveDtcbiAgICAgICAgdmlzdWFsLmFwcGVuZCh0aGlzLl9nZXRCYWNrZ3JvdW5kKHNpemUpKTtcblxuICAgICAgICBpZiAodGV4dE9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGV4dEhlaWdodCA9IGRyYXcudXRpbC5tZWFzdXJlVGV4dCh2YWx1ZSwgeyBmb250OiB0ZXh0T3B0aW9ucy5mb250IH0pLmhlaWdodDtcbiAgICAgICAgICAgIGJhckhlaWdodCAtPSB0ZXh0SGVpZ2h0ICsgdGV4dE1hcmdpbi50b3AgKyB0ZXh0TWFyZ2luLmJvdHRvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlbmNvZGVkVmFsdWUgPSBlbmNvZGluZy5lbmNvZGUodmFsdWUsIGNvbnRlbnRCb3gud2lkdGgoKSwgYmFySGVpZ2h0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gdmlzdWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRleHRPcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRleHRUb0Rpc3BsYXkgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2hlY2tzdW0gJiYgZGVmaW5lZChlbmNvZGluZy5jaGVja3N1bSkpIHtcbiAgICAgICAgICAgICAgICB0ZXh0VG9EaXNwbGF5ICs9IFwiIFwiICsgZW5jb2RpbmcuY2hlY2tzdW07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZpc3VhbC5hcHBlbmQodGhpcy5fZ2V0VGV4dCh0ZXh0VG9EaXNwbGF5KSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJhckhlaWdodCA9IGJhckhlaWdodDtcbiAgICAgICAgdGhpcy5fYmFuZHNHcm91cCA9IHRoaXMuX2dldEJhbmRzKGVuY29kZWRWYWx1ZS5wYXR0ZXJuLCBlbmNvZGVkVmFsdWUuYmFzZVVuaXQpO1xuICAgICAgICB2aXN1YWwuYXBwZW5kKHRoaXMuX2JhbmRzR3JvdXApO1xuXG4gICAgICAgIHJldHVybiB2aXN1YWw7XG4gICAgfVxuXG4gICAgZXhwb3J0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgX2dldFNpemUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gc3VyZmFjZVNpemUoZWxlbWVudCwgdGhpcy5vcHRpb25zLnJlbmRlckFzKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG5ldyBnZW9tLlNpemUoREVGQVVMVF9CQVJDT0RFX1dJRFRILCBERUZBVUxUX0JBUkNPREVfSEVJR0hUKTtcblxuICAgICAgICBpZiAoZWxlbWVudFNpemUud2lkdGggPiAwKSB7XG4gICAgICAgICAgICBzaXplLndpZHRoID0gZWxlbWVudFNpemUud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudFNpemUuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgc2l6ZS5oZWlnaHQgPSBlbGVtZW50U2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndpZHRoKSB7XG4gICAgICAgICAgICBzaXplLndpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cblxuICAgIHZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICghZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wdGlvbnMudmFsdWUgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICB0aGlzLnJlZHJhdygpO1xuICAgIH1cblxuICAgIF9nZXRCYW5kcyhwYXR0ZXJuLCBiYXNlVW5pdCkge1xuICAgICAgICBjb25zdCBjb250ZW50Qm94ID0gdGhpcy5jb250ZW50Qm94O1xuICAgICAgICBsZXQgb2Zmc2V0WCA9IGNvbnRlbnRCb3gueDE7XG4gICAgICAgIGxldCBzdGVwWDtcbiAgICAgICAgbGV0IHBhdHRlcm5JdGVtO1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXR0ZXJuSXRlbSA9IGlzT2JqZWN0KHBhdHRlcm5baV0pID8gcGF0dGVybltpXSA6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcGF0dGVybltpXSxcbiAgICAgICAgICAgICAgICB5MTogMCxcbiAgICAgICAgICAgICAgICB5MjogdGhpcy5iYXJIZWlnaHRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHN0ZXBYID0gcGF0dGVybkl0ZW0ud2lkdGggKiBiYXNlVW5pdDtcblxuICAgICAgICAgICAgaWYgKGkgJSAyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGdlb20uUmVjdC5mcm9tUG9pbnRzKFxuICAgICAgICAgICAgICAgICAgICBuZXcgZ2VvbS5Qb2ludChvZmZzZXRYLCBwYXR0ZXJuSXRlbS55MSArIGNvbnRlbnRCb3gueTEpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgZ2VvbS5Qb2ludChvZmZzZXRYICsgc3RlcFgsIHBhdHRlcm5JdGVtLnkyICsgY29udGVudEJveC55MSlcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tUmVjdChyZWN0LCB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLm9wdGlvbnMuY29sb3JcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBudWxsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBncm91cC5hcHBlbmQocGF0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9mZnNldFggKz0gc3RlcFg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgX2dldEJhY2tncm91bmQoc2l6ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3JkZXIgPSBvcHRpb25zLmJvcmRlciB8fCB7fTtcbiAgICAgICAgY29uc3QgYm94ID0gbmV3IEJveCgwLCAwLCBzaXplLndpZHRoLCBzaXplLmhlaWdodCkudW5wYWQoYm9yZGVyLndpZHRoIC8gMik7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkcmF3LlBhdGguZnJvbVJlY3QoYm94LnRvUmVjdCgpLCB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuYmFja2dyb3VuZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIud2lkdGggPyBib3JkZXIuY29sb3IgOiBcIlwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IGJvcmRlci5kYXNoVHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG5cbiAgICBfZ2V0VGV4dCh2YWx1ZSkge1xuICAgICAgICBjb25zdCB0ZXh0T3B0aW9ucyA9IHRoaXMub3B0aW9ucy50ZXh0O1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5fdGV4dGJveCA9IG5ldyBUZXh0Qm94KHZhbHVlLCB7XG4gICAgICAgICAgICBmb250OiB0ZXh0T3B0aW9ucy5mb250LFxuICAgICAgICAgICAgY29sb3I6IHRleHRPcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB2QWxpZ246IFwiYm90dG9tXCIsXG4gICAgICAgICAgICBtYXJnaW46IHRleHRPcHRpb25zLm1hcmdpblxuICAgICAgICB9KTtcblxuICAgICAgICB0ZXh0LnJlZmxvdyh0aGlzLmNvbnRlbnRCb3gpO1xuICAgICAgICB0ZXh0LnJlbmRlclZpc3VhbCgpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0LnZpc3VhbDtcbiAgICB9XG5cbiAgICBfc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IChvcHRpb25zLnR5cGUgfHwgdGhpcy5vcHRpb25zLnR5cGUpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gXCJ1cGNhXCIpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFwiZWFuMTNcIjtcbiAgICAgICAgICAgIG9wdGlvbnMudmFsdWUgPSAnMCcgKyBvcHRpb25zLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gXCJ1cGNlXCIpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFwiZWFuOFwiO1xuICAgICAgICAgICAgb3B0aW9ucy52YWx1ZSA9ICcwJyArIG9wdGlvbnMudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUVuY29kaW5nc1t0aGlzLnR5cGVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVuY29kaW5nICcke3RoaXMudHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWQuYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVuY29kaW5nID0gbmV3IEVuY29kaW5nc1t0aGlzLnR5cGVdKCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEJhcmNvZGUsIHtcbiAgICBuYW1lOiBcIkJhcmNvZGVcIixcbiAgICByZW5kZXJBczogXCJzdmdcIixcbiAgICB2YWx1ZTogXCJcIixcbiAgICB0eXBlOiBcImNvZGUzOVwiLFxuICAgIGNoZWNrc3VtOiBmYWxzZSxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgY29sb3I6IFwiYmxhY2tcIixcbiAgICBiYWNrZ3JvdW5kOiBcIndoaXRlXCIsXG4gICAgdGV4dDoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBmb250OiBcIjE2cHggQ29uc29sYXMsIE1vbmFjbywgU2FucyBNb25vLCBtb25vc3BhY2UsIHNhbnMtc2VyaWZcIixcbiAgICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgcmlnaHQ6IDBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBkYXNoVHlwZTogXCJzb2xpZFwiLFxuICAgICAgICBjb2xvcjogXCJibGFja1wiXG4gICAgfSxcbiAgICBwYWRkaW5nOiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICByaWdodDogMFxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXJjb2RlO1xuIiwiaW1wb3J0IHsgRW5jb2RpbmdzIH0gZnJvbSAnLi9lbmNvZGluZ3MvbWFpbic7XG5cbmNvbnN0IHZhbGlkYXRlID0gKGVuY29kaW5nLCBzaXplLCBwcmVmaXgpID0+ICh2YWx1ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGVuY29kaW5nLmVuY29kZShcbiAgICAgICAgICAgIHByZWZpeCArIHZhbHVlLFxuICAgICAgICAgICAgc2l6ZS53aWR0aCxcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0XG4gICAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IHRydWVcbiAgICB9O1xufTtcblxuLy8gQSBkZWZhdWx0IHNpemUgZm9yIGVuY29kaW5ncywgc28gdGhlIHZhbGlkYXRvciBjYW4gY2hlY2sgb25seSB0aGUgdmFsdWUgaWYgbm8gc2l6ZSBpcyBwcm92aWRlZC5cbmNvbnN0IGZhbGxiYWNrU2l6ZSA9IHsgd2lkdGg6IDUwMCwgaGVpZ2h0OiAxMDAgfTtcblxuZnVuY3Rpb24gYmFyY29kZVZhbGlkYXRvcih0eXBlLCBzaXplID0gZmFsbGJhY2tTaXplKSB7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUGxlYXNlIHNwZWNpZnkgYmFyY29kZSB0eXBlIHRvIHZhbGlkYXRlLmApO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlZFR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgbGV0IHByZWZpeCA9ICcnO1xuICAgIGlmIChyZXNvbHZlZFR5cGUgPT09ICd1cGNhJykge1xuICAgICAgICByZXNvbHZlZFR5cGUgPSAnZWFuMTMnO1xuICAgICAgICBwcmVmaXggPSAnMCc7XG4gICAgfSBlbHNlIGlmIChyZXNvbHZlZFR5cGUgPT09ICd1cGNlJykge1xuICAgICAgICByZXNvbHZlZFR5cGUgPSAnZWFuOCc7XG4gICAgICAgIHByZWZpeCA9ICcwJztcbiAgICB9XG5cbiAgICBpZiAoIUVuY29kaW5nc1tyZXNvbHZlZFR5cGVdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRW5jb2RpbmcgJyR7dHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWQuYCk7XG4gICAgfVxuXG4gICAgY29uc3QgZW5jb2RpbmcgPSBuZXcgRW5jb2RpbmdzW3Jlc29sdmVkVHlwZV0oKTtcbiAgICByZXR1cm4gdmFsaWRhdGUoZW5jb2RpbmcsIHNpemUsIHByZWZpeCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhcmNvZGVWYWxpZGF0b3I7XG4iLCJleHBvcnQgY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0SW50byhzdHIsIGNodW5rTGVuZ3RoKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBpZHggPSAwO1xuXG4gICAgd2hpbGUgKGlkeCA8IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goc3RyLnN1YnN0cmluZyhpZHgsIGlkeCArIGNodW5rTGVuZ3RoKSk7XG4gICAgICAgIGlkeCArPSBjaHVua0xlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9CaXRzU3RyaW5nKHZhbHVlLCBsZW5ndGgpIHtcbiAgICBsZXQgYml0U3RyaW5nID0gTnVtYmVyKHZhbHVlKS50b1N0cmluZygyKTtcblxuICAgIGlmIChiaXRTdHJpbmcubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgICAgIGJpdFN0cmluZyA9IG5ldyBBcnJheShsZW5ndGggLSBiaXRTdHJpbmcubGVuZ3RoICsgMSkuam9pbigwKSArIGJpdFN0cmluZztcbiAgICB9XG5cbiAgICByZXR1cm4gYml0U3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9EZWNpbWFsKHZhbHVlKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAyKTtcbn1cblxuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgY2xhc3MgRnJlZUNlbGxWaXNpdG9yIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKG1hdHJpeCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgICAgICB0aGlzLnJvdyA9IG1hdHJpeC5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLmNvbHVtbiA9IG1hdHJpeC5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLnN0YXJ0Q29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgICAgIHRoaXMuZGlyID0gLTE7XG4gICAgICAgIHRoaXMuYyA9IDA7XG4gICAgfVxuXG4gICAgbW92ZSgpIHtcbiAgICAgICAgdGhpcy5yb3cgKz0gdGhpcy5kaXIgKiB0aGlzLmM7XG4gICAgICAgIHRoaXMuYyBePSAxO1xuICAgICAgICB0aGlzLmNvbHVtbiA9IHRoaXMuc3RhcnRDb2x1bW4gLSB0aGlzLmM7XG4gICAgfVxuXG4gICAgZ2V0TmV4dENlbGwoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLm1hdHJpeFt0aGlzLnJvd11bdGhpcy5jb2x1bW5dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAwIHx8IHRoaXMucm93ID49IHRoaXMubWF0cml4Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gLXRoaXMuZGlyO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRDb2x1bW4gLT0gdGhpcy5zdGFydENvbHVtbiAhPT0gOCA/IDIgOiAzO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uID0gdGhpcy5zdGFydENvbHVtbjtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdyA9IHRoaXMuZGlyIDwgMCA/IHRoaXMubWF0cml4Lmxlbmd0aCAtIDEgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvdzogdGhpcy5yb3csXG4gICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0TmV4dFJlbWFpbmRlckNlbGwoKSB7XG4gICAgICAgIHRoaXMubW92ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm1hdHJpeFt0aGlzLnJvd11bdGhpcy5jb2x1bW5dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcm93OiB0aGlzLnJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgY2xhc3MgRW5jb2RpbmdSZXN1bHQgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoZGF0YVN0cmluZywgdmVyc2lvbikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuZGF0YVN0cmluZyA9IGRhdGFTdHJpbmc7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgRW5jb2RpbmdSZXN1bHQgfSBmcm9tICcuLi9lbmNvZGluZy1yZXN1bHQnO1xuaW1wb3J0IHtcbiAgICBnZXRNb2RlcyxcbiAgICBnZXRWZXJzaW9uLFxuICAgIGdldERhdGFDb2Rld29yZHNDb3VudCxcbiAgICBnZXREYXRhU3RyaW5nXG59IGZyb20gJy4uL2VuY29kaW5nJztcblxuZXhwb3J0IGNsYXNzIElzb0VuY29kZXIgZXh0ZW5kcyBDbGFzcyB7XG4gICAgZ2V0RW5jb2RpbmdSZXN1bHQoaW5wdXRTdHJpbmcsIGVycm9yQ29ycmVjdGlvbkxldmVsKSB7XG4gICAgICAgIGxldCBtb2RlcyA9IGdldE1vZGVzKGlucHV0U3RyaW5nKSxcbiAgICAgICAgICAgIGRhdGFDb2Rld29yZHNDb3VudCA9IGdldERhdGFDb2Rld29yZHNDb3VudChtb2RlcyksXG4gICAgICAgICAgICB2ZXJzaW9uID0gZ2V0VmVyc2lvbihkYXRhQ29kZXdvcmRzQ291bnQsIGVycm9yQ29ycmVjdGlvbkxldmVsKSxcbiAgICAgICAgICAgIGRhdGFTdHJpbmcgPSBnZXREYXRhU3RyaW5nKG1vZGVzLCB2ZXJzaW9uKTtcblxuICAgICAgICByZXR1cm4gbmV3IEVuY29kaW5nUmVzdWx0KGRhdGFTdHJpbmcsIHZlcnNpb24pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7XG4gICAgdG9CaXRzU3RyaW5nXG59IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIFFSRGF0YU1vZGUgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5pbml0UHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIGluaXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBleHRlbmQodGhpcywge1xuICAgICAgICAgICAgbW9kZUluZGljYXRvcjogXCJcIixcbiAgICAgICAgICAgIGJpdHNJbkNoYXJhY3RlckNvdW50OiBbXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRWZXJzaW9uSW5kZXgodmVyc2lvbikge1xuICAgICAgICBpZiAodmVyc2lvbiA8IDEwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSBlbHNlIGlmICh2ZXJzaW9uID4gMjYpIHtcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgZ2V0Qml0c0NoYXJhY3RlckNvdW50KHZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYml0c0luQ2hhcmFjdGVyQ291bnRbdGhpcy5nZXRWZXJzaW9uSW5kZXgodmVyc2lvbiB8fCA0MCldO1xuICAgIH1cblxuICAgIGdldE1vZGVDb3VudFN0cmluZyhsZW5ndGgsIHZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZUluZGljYXRvciArIHRvQml0c1N0cmluZyhsZW5ndGgsIHRoaXMuZ2V0Qml0c0NoYXJhY3RlckNvdW50KHZlcnNpb24pKTtcbiAgICB9XG5cbiAgICBlbmNvZGUoKSB7IH1cblxuICAgIGdldFN0cmluZ0JpdHNMZW5ndGgoKSB7IH1cblxuICAgIGdldFZhbHVlKCkgeyB9XG59XG4iLCJpbXBvcnQgeyBRUkRhdGFNb2RlIH0gZnJvbSAnLi9xci1kYXRhLW1vZGUnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgICB0b0JpdHNTdHJpbmcsXG4gICAgc3BsaXRJbnRvXG59IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIE51bWVyaWNRUkRhdGFNb2RlIGV4dGVuZHMgUVJEYXRhTW9kZSB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIGJpdHNJbkNoYXJhY3RlckNvdW50OiBbMTAsIDEyLCAxNF0sXG4gICAgICAgICAgICBtb2RlSW5kaWNhdG9yOiBcIjAwMDFcIlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZShjaGFyYWN0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNoYXJhY3RlciwgMTApO1xuICAgIH1cblxuICAgIGVuY29kZShzdHIsIHZlcnNpb24pIHtcbiAgICAgICAgbGV0IG1vZGUgPSB0aGlzLFxuICAgICAgICAgICAgcGFydHMgPSBzcGxpdEludG8oc3RyLCAzKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IG1vZGUuZ2V0TW9kZUNvdW50U3RyaW5nKHN0ci5sZW5ndGgsIHZlcnNpb24pO1xuICAgICAgICBsZXQgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CaXRzU3RyaW5nKHBhcnRzW2ldLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0ICsgdG9CaXRzU3RyaW5nKHBhcnRzW2ldLCAxICsgMyAqIHBhcnRzW2ldLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgZ2V0U3RyaW5nQml0c0xlbmd0aChpbnB1dExlbmd0aCwgdmVyc2lvbikge1xuICAgICAgICBsZXQgbW9kMyA9IGlucHV0TGVuZ3RoICUgMztcbiAgICAgICAgcmV0dXJuIDQgKyB0aGlzLmdldEJpdHNDaGFyYWN0ZXJDb3VudCh2ZXJzaW9uKSArIDEwICogTWF0aC5mbG9vcihpbnB1dExlbmd0aCAvIDMpICsgMyAqIG1vZDMgKyAobW9kMyA9PT0gMCA/IDAgOiAxKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBRUkRhdGFNb2RlIH0gZnJvbSAnLi9xci1kYXRhLW1vZGUnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgICB0b0JpdHNTdHJpbmcsXG4gICAgc3BsaXRJbnRvXG59IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIEFscGhhTnVtZXJpY1FSRGF0YU1vZGUgZXh0ZW5kcyBRUkRhdGFNb2RlIHtcbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgc3VwZXIuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBleHRlbmQodGhpcywge1xuICAgICAgICAgICAgY2hhcmFjdGVyczoge1xuICAgICAgICAgICAgICAgIFwiMFwiOiAwLFxuICAgICAgICAgICAgICAgIFwiMVwiOiAxLFxuICAgICAgICAgICAgICAgIFwiMlwiOiAyLFxuICAgICAgICAgICAgICAgIFwiM1wiOiAzLFxuICAgICAgICAgICAgICAgIFwiNFwiOiA0LFxuICAgICAgICAgICAgICAgIFwiNVwiOiA1LFxuICAgICAgICAgICAgICAgIFwiNlwiOiA2LFxuICAgICAgICAgICAgICAgIFwiN1wiOiA3LFxuICAgICAgICAgICAgICAgIFwiOFwiOiA4LFxuICAgICAgICAgICAgICAgIFwiOVwiOiA5LFxuICAgICAgICAgICAgICAgIFwiQVwiOiAxMCxcbiAgICAgICAgICAgICAgICBcIkJcIjogMTEsXG4gICAgICAgICAgICAgICAgXCJDXCI6IDEyLFxuICAgICAgICAgICAgICAgIFwiRFwiOiAxMyxcbiAgICAgICAgICAgICAgICBcIkVcIjogMTQsXG4gICAgICAgICAgICAgICAgXCJGXCI6IDE1LFxuICAgICAgICAgICAgICAgIFwiR1wiOiAxNixcbiAgICAgICAgICAgICAgICBcIkhcIjogMTcsXG4gICAgICAgICAgICAgICAgXCJJXCI6IDE4LFxuICAgICAgICAgICAgICAgIFwiSlwiOiAxOSxcbiAgICAgICAgICAgICAgICBcIktcIjogMjAsXG4gICAgICAgICAgICAgICAgXCJMXCI6IDIxLFxuICAgICAgICAgICAgICAgIFwiTVwiOiAyMixcbiAgICAgICAgICAgICAgICBcIk5cIjogMjMsXG4gICAgICAgICAgICAgICAgXCJPXCI6IDI0LFxuICAgICAgICAgICAgICAgIFwiUFwiOiAyNSxcbiAgICAgICAgICAgICAgICBcIlFcIjogMjYsXG4gICAgICAgICAgICAgICAgXCJSXCI6IDI3LFxuICAgICAgICAgICAgICAgIFwiU1wiOiAyOCxcbiAgICAgICAgICAgICAgICBcIlRcIjogMjksXG4gICAgICAgICAgICAgICAgXCJVXCI6IDMwLFxuICAgICAgICAgICAgICAgIFwiVlwiOiAzMSxcbiAgICAgICAgICAgICAgICBcIldcIjogMzIsXG4gICAgICAgICAgICAgICAgXCJYXCI6IDMzLFxuICAgICAgICAgICAgICAgIFwiWVwiOiAzNCxcbiAgICAgICAgICAgICAgICBcIlpcIjogMzUsXG4gICAgICAgICAgICAgICAgXCIgXCI6IDM2LFxuICAgICAgICAgICAgICAgIFwiJFwiOiAzNyxcbiAgICAgICAgICAgICAgICBcIiVcIjogMzgsXG4gICAgICAgICAgICAgICAgXCIqXCI6IDM5LFxuICAgICAgICAgICAgICAgIFwiK1wiOiA0MCxcbiAgICAgICAgICAgICAgICBcIi1cIjogNDEsXG4gICAgICAgICAgICAgICAgXCIuXCI6IDQyLFxuICAgICAgICAgICAgICAgIFwiL1wiOiA0MyxcbiAgICAgICAgICAgICAgICBcIjpcIjogNDRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiaXRzSW5DaGFyYWN0ZXJDb3VudDogWzksIDExLCAxM10sXG4gICAgICAgICAgICBtb2RlSW5kaWNhdG9yOiBcIjAwMTBcIlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZShjaGFyYWN0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcmFjdGVyc1tjaGFyYWN0ZXJdO1xuICAgIH1cblxuICAgIGVuY29kZShzdHIsIHZlcnNpb24pIHtcbiAgICAgICAgbGV0XG4gICAgICAgICAgICBwYXJ0cyA9IHNwbGl0SW50byhzdHIsIDIpLFxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5nZXRNb2RlQ291bnRTdHJpbmcoc3RyLmxlbmd0aCwgdmVyc2lvbiksXG4gICAgICAgICAgICB2YWx1ZTtcbiAgICAgICAgbGV0IGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdmFsdWUgPSA0NSAqIHRoaXMuZ2V0VmFsdWUocGFydHNbaV0uY2hhckF0KDApKSArIHRoaXMuZ2V0VmFsdWUocGFydHNbaV0uY2hhckF0KDEpKTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0JpdHNTdHJpbmcodmFsdWUsIDExKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbHVlID0gcGFydHNbaV0ubGVuZ3RoID09PSAyID9cbiAgICAgICAgICAgIDQ1ICogdGhpcy5nZXRWYWx1ZShwYXJ0c1tpXS5jaGFyQXQoMCkpICsgdGhpcy5nZXRWYWx1ZShwYXJ0c1tpXS5jaGFyQXQoMSkpIDpcbiAgICAgICAgICAgIHRoaXMuZ2V0VmFsdWUocGFydHNbaV0uY2hhckF0KDApKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0ICsgdG9CaXRzU3RyaW5nKHZhbHVlLCAxICsgNSAqIHBhcnRzW2ldLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgZ2V0U3RyaW5nQml0c0xlbmd0aChpbnB1dExlbmd0aCwgdmVyc2lvbikge1xuICAgICAgICByZXR1cm4gNCArIHRoaXMuZ2V0Qml0c0NoYXJhY3RlckNvdW50KHZlcnNpb24pICsgMTEgKiBNYXRoLmZsb29yKGlucHV0TGVuZ3RoIC8gMikgKyA2ICogKGlucHV0TGVuZ3RoICUgMik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUVJEYXRhTW9kZSB9IGZyb20gJy4vcXItZGF0YS1tb2RlJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7XG4gICAgdG9CaXRzU3RyaW5nXG59IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIEJ5dGVRUkRhdGFNb2RlIGV4dGVuZHMgUVJEYXRhTW9kZSB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIGJpdHNJbkNoYXJhY3RlckNvdW50OiBbOCwgMTYsIDE2XSxcbiAgICAgICAgICAgIG1vZGVJbmRpY2F0b3I6IFwiMDEwMFwiXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldFZhbHVlKGNoYXJhY3Rlcikge1xuICAgICAgICBsZXQgY29kZSA9IGNoYXJhY3Rlci5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgIGlmIChjb2RlIDw9IDEyNyB8fCAoMTYwIDw9IGNvZGUgJiYgY29kZSA8PSAyNTUpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2hhcmFjdGVyIGluIFFSIENvZGU6IFwiJHtjaGFyYWN0ZXJ9XCIuYCk7XG4gICAgfVxuXG4gICAgZW5jb2RlKHN0ciwgdmVyc2lvbikge1xuICAgICAgICBsZXQgbW9kZSA9IHRoaXMsXG4gICAgICAgICAgICByZXN1bHQgPSBtb2RlLmdldE1vZGVDb3VudFN0cmluZyhzdHIubGVuZ3RoLCB2ZXJzaW9uKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQml0c1N0cmluZyhtb2RlLmdldFZhbHVlKHN0ci5jaGFyQXQoaSkpLCA4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZ2V0U3RyaW5nQml0c0xlbmd0aChpbnB1dExlbmd0aCwgdmVyc2lvbikge1xuICAgICAgICByZXR1cm4gNCArIHRoaXMuZ2V0Qml0c0NoYXJhY3RlckNvdW50KHZlcnNpb24pICsgOCAqIGlucHV0TGVuZ3RoO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE51bWVyaWNRUkRhdGFNb2RlIH0gZnJvbSAnLi9udW1lcmljLWRhdGEtbW9kZSc7XG5pbXBvcnQgeyBBbHBoYU51bWVyaWNRUkRhdGFNb2RlIH0gZnJvbSAnLi9hbHBoYS1udW1lcmljLWRhdGEtbW9kZSc7XG5pbXBvcnQgeyBCeXRlUVJEYXRhTW9kZSB9IGZyb20gJy4vYnl0ZS1kYXRhLW1vZGUnO1xuXG5jb25zdCBOVU1FUklDID0gXCJudW1lcmljXCI7XG5jb25zdCBBTFBIQV9OVU1FUklDID0gXCJhbHBoYW51bWVyaWNcIjtcbmNvbnN0IEJZVEUgPSBcImJ5dGVcIjtcblxuZXhwb3J0IGxldCBEYXRhTW9kZUluc3RhbmNlcyA9IHtcbiAgICBbTlVNRVJJQ106IG5ldyBOdW1lcmljUVJEYXRhTW9kZSgpLFxuICAgIFtBTFBIQV9OVU1FUklDXTogbmV3IEFscGhhTnVtZXJpY1FSRGF0YU1vZGUoKSxcbiAgICBbQllURV06IG5ldyBCeXRlUVJEYXRhTW9kZSgpXG59O1xuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgRW5jb2RpbmdSZXN1bHQgfSBmcm9tICcuLi9lbmNvZGluZy1yZXN1bHQnO1xuaW1wb3J0IHsgRGF0YU1vZGVJbnN0YW5jZXMgfSBmcm9tICcuLi9kYXRhLW1vZGVzL2RhdGEtbW9kZS1pbnN0YW5jZXMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgdG9CaXRzU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0VmVyc2lvbiB9IGZyb20gJy4uL2VuY29kaW5nJztcblxuY29uc3QgQllURSA9IFwiYnl0ZVwiO1xuXG5leHBvcnQgY2xhc3MgVXRmOEVuY29kZXIgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5pbml0UHJvcGVydGllcygpO1xuXG4gICAgICAgIHRoaXMubW9kZSA9IERhdGFNb2RlSW5zdGFuY2VzW3RoaXMuZW5jb2RpbmdNb2RlXTtcbiAgICB9XG5cbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIGVuY29kaW5nTW9kZTogQllURSxcbiAgICAgICAgICAgIHV0ZkJPTTogXCIxMTEwMTExMTEwMTExMDExMTAxMTExMTFcIixcbiAgICAgICAgICAgIGluaXRpYWxNb2RlQ291bnRTdHJpbmdMZW5ndGg6IDIwLFxuICAgICAgICAgICAgcmFuZ2VzOiBbMTI4LCAyMDQ4LCA2NTUzNiwgMjA5NzE1MiwgNjcxMDg4NjRdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEVuY29kaW5nUmVzdWx0KGlucHV0U3RyaW5nLCBlcnJvckNvcnJlY3Rpb25MZXZlbCkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZW5jb2RlKGlucHV0U3RyaW5nKSxcbiAgICAgICAgICAgIGRhdGFDb2Rld29yZHNDb3VudCA9IHRoaXMuZ2V0RGF0YUNvZGV3b3Jkc0NvdW50KGRhdGEpLFxuICAgICAgICAgICAgdmVyc2lvbiA9IGdldFZlcnNpb24oZGF0YUNvZGV3b3Jkc0NvdW50LCBlcnJvckNvcnJlY3Rpb25MZXZlbCksXG4gICAgICAgICAgICBkYXRhU3RyaW5nID0gdGhpcy5tb2RlLmdldE1vZGVDb3VudFN0cmluZyhkYXRhLmxlbmd0aCAvIDgsIHZlcnNpb24pICsgZGF0YTtcblxuICAgICAgICByZXR1cm4gbmV3IEVuY29kaW5nUmVzdWx0KGRhdGFTdHJpbmcsIHZlcnNpb24pO1xuICAgIH1cblxuICAgIGdldERhdGFDb2Rld29yZHNDb3VudChkYXRhKSB7XG4gICAgICAgIGxldCBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgICBkYXRhQ29kZXdvcmRzQ291bnQgPSBNYXRoLmNlaWwoKHRoaXMuaW5pdGlhbE1vZGVDb3VudFN0cmluZ0xlbmd0aCArIGRhdGFMZW5ndGgpIC8gOCk7XG5cbiAgICAgICAgcmV0dXJuIGRhdGFDb2Rld29yZHNDb3VudDtcbiAgICB9XG5cbiAgICBlbmNvZGUoc3RyKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnV0ZkJPTTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMuZW5jb2RlQ2hhcmFjdGVyKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZW5jb2RlQ2hhcmFjdGVyKGNvZGUpIHtcbiAgICAgICAgbGV0IGJ5dGVzQ291bnQgPSB0aGlzLmdldEJ5dGVzQ291bnQoY29kZSksXG4gICAgICAgICAgICBiYyA9IGJ5dGVzQ291bnQgLSAxLFxuICAgICAgICAgICAgcmVzdWx0ID0gXCJcIjtcblxuICAgICAgICBpZiAoYnl0ZXNDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdG9CaXRzU3RyaW5nKGNvZGUsIDgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNpZ25pZmljYW50T25lcyA9IDggLSBieXRlc0NvdW50O1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJjOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0b0JpdHNTdHJpbmcoY29kZSA+PiAoaSAqIDYpICYgNjMgfCAxMjgsIDgpICsgcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgPSAoKGNvZGUgPj4gYmMgKiA2KSB8ICgoMjU1ID4+IHNpZ25pZmljYW50T25lcykgPDwgc2lnbmlmaWNhbnRPbmVzKSkudG9TdHJpbmcoMikgKyByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGdldEJ5dGVzQ291bnQoY29kZSkge1xuICAgICAgICBsZXQgcmFuZ2VzID0gdGhpcy5yYW5nZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjb2RlIDwgcmFuZ2VzW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFZlcnNpb25zQ29kZXdvcmRzSW5mb3JtYXRpb24gPSBbe1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMSwgMTldXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTksXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDdcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMSwgMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDEwXG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEsIDEzXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEzLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAxM1xuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxLCA5XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDksXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDE3XG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMSwgMzRdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMzQsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDEwXG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEsIDI4XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDI4LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAxNlxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxLCAyMl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyMixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjJcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMSwgMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMSwgNTVdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNTUsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDE1XG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEsIDQ0XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDQ0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNlxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyLCAxN11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAzNCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMThcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgMTNdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMjYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDIyXG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMSwgODBdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogODAsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDIwXG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzIsIDMyXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDY0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAxOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyLCAyNF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA0OCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjZcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNCwgOV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAzNixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMTZcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxLCAxMDhdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTA4LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNlxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyLCA0M11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA4NixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjRcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgMTVdLFxuICAgICAgICAgICAgWzIsIDE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDYyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAxOFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyLCAxMV0sXG4gICAgICAgICAgICBbMiwgMTJdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNDYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDIyXG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgNjhdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTM2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAxOFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0LCAyN11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMDgsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDE2XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzQsIDE5XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDc2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0LCAxNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA2MCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyLCA3OF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxNTYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDIwXG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzQsIDMxXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEyNCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMThcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgMTRdLFxuICAgICAgICAgICAgWzQsIDE1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDg4LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAxOFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0LCAxM10sXG4gICAgICAgICAgICBbMSwgMTRdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNjYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI2XG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgOTddXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTk0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyLCAzOF0sXG4gICAgICAgICAgICBbMiwgMzldXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTU0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyMlxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0LCAxOF0sXG4gICAgICAgICAgICBbMiwgMTldXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTEwLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyMlxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0LCAxNF0sXG4gICAgICAgICAgICBbMiwgMTVdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogODYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI2XG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgMTE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDIzMixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMywgMzZdLFxuICAgICAgICAgICAgWzIsIDM3XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDE4MixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjJcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNCwgMTZdLFxuICAgICAgICAgICAgWzQsIDE3XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEzMixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjBcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNCwgMTJdLFxuICAgICAgICAgICAgWzQsIDEzXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEwMCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjRcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyLCA2OF0sXG4gICAgICAgICAgICBbMiwgNjldXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMjc0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAxOFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0LCA0M10sXG4gICAgICAgICAgICBbMSwgNDRdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMjE2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNlxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs2LCAxOV0sXG4gICAgICAgICAgICBbMiwgMjBdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTU0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs2LCAxNV0sXG4gICAgICAgICAgICBbMiwgMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTIyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzQsIDgxXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDMyNCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjBcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMSwgNTBdLFxuICAgICAgICAgICAgWzQsIDUxXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDI1NCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNCwgMjJdLFxuICAgICAgICAgICAgWzQsIDIzXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDE4MCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMywgMTJdLFxuICAgICAgICAgICAgWzgsIDEzXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDE0MCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjRcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyLCA5Ml0sXG4gICAgICAgICAgICBbMiwgOTNdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMzcwLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs2LCAzNl0sXG4gICAgICAgICAgICBbMiwgMzddXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMjkwLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyMlxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0LCAyMF0sXG4gICAgICAgICAgICBbNiwgMjFdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMjA2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNlxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs3LCAxNF0sXG4gICAgICAgICAgICBbNCwgMTVdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTU4LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzQsIDEwN11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA0MjgsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI2XG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzgsIDM3XSxcbiAgICAgICAgICAgIFsxLCAzOF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAzMzQsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDIyXG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzgsIDIwXSxcbiAgICAgICAgICAgIFs0LCAyMV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyNDQsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI0XG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEyLCAxMV0sXG4gICAgICAgICAgICBbNCwgMTJdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTgwLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyMlxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzMsIDExNV0sXG4gICAgICAgICAgICBbMSwgMTE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDQ2MSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNCwgNDBdLFxuICAgICAgICAgICAgWzUsIDQxXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDM2NSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjRcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTEsIDE2XSxcbiAgICAgICAgICAgIFs1LCAxN11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyNjEsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDIwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzExLCAxMl0sXG4gICAgICAgICAgICBbNSwgMTNdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTk3LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzUsIDg3XSxcbiAgICAgICAgICAgIFsxLCA4OF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA1MjMsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDIyXG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzUsIDQxXSxcbiAgICAgICAgICAgIFs1LCA0Ml1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA0MTUsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI0XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzUsIDI0XSxcbiAgICAgICAgICAgIFs3LCAyNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyOTUsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzExLCAxMl0sXG4gICAgICAgICAgICBbNywgMTNdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMjIzLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzUsIDk4XSxcbiAgICAgICAgICAgIFsxLCA5OV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA1ODksXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI0XG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzcsIDQ1XSxcbiAgICAgICAgICAgIFszLCA0Nl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA0NTMsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzE1LCAxOV0sXG4gICAgICAgICAgICBbMiwgMjBdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMzI1LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFszLCAxNV0sXG4gICAgICAgICAgICBbMTMsIDE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDI1MyxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxLCAxMDddLFxuICAgICAgICAgICAgWzUsIDEwOF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA2NDcsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEwLCA0Nl0sXG4gICAgICAgICAgICBbMSwgNDddXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNTA3LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxLCAyMl0sXG4gICAgICAgICAgICBbMTUsIDIzXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDM2NyxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgMTRdLFxuICAgICAgICAgICAgWzE3LCAxNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyODMsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNSwgMTIwXSxcbiAgICAgICAgICAgIFsxLCAxMjFdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNzIxLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs5LCA0M10sXG4gICAgICAgICAgICBbNCwgNDRdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNTYzLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNlxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxNywgMjJdLFxuICAgICAgICAgICAgWzEsIDIzXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDM5NyxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgMTRdLFxuICAgICAgICAgICAgWzE5LCAxNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAzMTMsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMywgMTEzXSxcbiAgICAgICAgICAgIFs0LCAxMTRdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNzk1LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFszLCA0NF0sXG4gICAgICAgICAgICBbMTEsIDQ1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDYyNyxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjZcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTcsIDIxXSxcbiAgICAgICAgICAgIFs0LCAyMl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA0NDUsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI2XG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzksIDEzXSxcbiAgICAgICAgICAgIFsxNiwgMTRdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMzQxLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNlxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzMsIDEwN10sXG4gICAgICAgICAgICBbNSwgMTA4XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDg2MSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMywgNDFdLFxuICAgICAgICAgICAgWzEzLCA0Ml1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA2NjksXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI2XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzE1LCAyNF0sXG4gICAgICAgICAgICBbNSwgMjVdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNDg1LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxNSwgMTVdLFxuICAgICAgICAgICAgWzEwLCAxNl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAzODUsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNCwgMTE2XSxcbiAgICAgICAgICAgIFs0LCAxMTddXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogOTMyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxNywgNDJdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNzE0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyNlxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxNywgMjJdLFxuICAgICAgICAgICAgWzYsIDIzXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDUxMixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTksIDE2XSxcbiAgICAgICAgICAgIFs2LCAxN11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA0MDYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgMTExXSxcbiAgICAgICAgICAgIFs3LCAxMTJdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTAwNixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTcsIDQ2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDc4MixcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNywgMjRdLFxuICAgICAgICAgICAgWzE2LCAyNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA1NjgsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzM0LCAxM11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA0NDIsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI0XG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNCwgMTIxXSxcbiAgICAgICAgICAgIFs1LCAxMjJdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTA5NCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNCwgNDddLFxuICAgICAgICAgICAgWzE0LCA0OF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA4NjAsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzExLCAyNF0sXG4gICAgICAgICAgICBbMTQsIDI1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDYxNCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTYsIDE1XSxcbiAgICAgICAgICAgIFsxNCwgMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNDY0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzYsIDExN10sXG4gICAgICAgICAgICBbNCwgMTE4XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDExNzQsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzYsIDQ1XSxcbiAgICAgICAgICAgIFsxNCwgNDZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogOTE0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxMSwgMjRdLFxuICAgICAgICAgICAgWzE2LCAyNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA2NjQsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzMwLCAxNl0sXG4gICAgICAgICAgICBbMiwgMTddXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNTE0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzgsIDEwNl0sXG4gICAgICAgICAgICBbNCwgMTA3XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEyNzYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI2XG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzgsIDQ3XSxcbiAgICAgICAgICAgIFsxMywgNDhdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTAwMCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNywgMjRdLFxuICAgICAgICAgICAgWzIyLCAyNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA3MTgsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzIyLCAxNV0sXG4gICAgICAgICAgICBbMTMsIDE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDUzOCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxMCwgMTE0XSxcbiAgICAgICAgICAgIFsyLCAxMTVdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTM3MCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTksIDQ2XSxcbiAgICAgICAgICAgIFs0LCA0N11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMDYyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyOCwgMjJdLFxuICAgICAgICAgICAgWzYsIDIzXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDc1NCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMzMsIDE2XSxcbiAgICAgICAgICAgIFs0LCAxN11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA1OTYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbOCwgMTIyXSxcbiAgICAgICAgICAgIFs0LCAxMjNdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTQ2OCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMjIsIDQ1XSxcbiAgICAgICAgICAgIFszLCA0Nl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMTI4LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs4LCAyM10sXG4gICAgICAgICAgICBbMjYsIDI0XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDgwOCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTIsIDE1XSxcbiAgICAgICAgICAgIFsyOCwgMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNjI4LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzMsIDExN10sXG4gICAgICAgICAgICBbMTAsIDExOF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxNTMxLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFszLCA0NV0sXG4gICAgICAgICAgICBbMjMsIDQ2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDExOTMsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzQsIDI0XSxcbiAgICAgICAgICAgIFszMSwgMjVdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogODcxLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxMSwgMTVdLFxuICAgICAgICAgICAgWzMxLCAxNl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA2NjEsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNywgMTE2XSxcbiAgICAgICAgICAgIFs3LCAxMTddXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTYzMSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMjEsIDQ1XSxcbiAgICAgICAgICAgIFs3LCA0Nl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMjY3LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxLCAyM10sXG4gICAgICAgICAgICBbMzcsIDI0XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDkxMSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTksIDE1XSxcbiAgICAgICAgICAgIFsyNiwgMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogNzAxLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzUsIDExNV0sXG4gICAgICAgICAgICBbMTAsIDExNl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxNzM1LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxOSwgNDddLFxuICAgICAgICAgICAgWzEwLCA0OF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMzczLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxNSwgMjRdLFxuICAgICAgICAgICAgWzI1LCAyNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA5ODUsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzIzLCAxNV0sXG4gICAgICAgICAgICBbMjUsIDE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDc0NSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxMywgMTE1XSxcbiAgICAgICAgICAgIFszLCAxMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTg0MyxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgNDZdLFxuICAgICAgICAgICAgWzI5LCA0N11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxNDU1LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0MiwgMjRdLFxuICAgICAgICAgICAgWzEsIDI1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEwMzMsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzIzLCAxNV0sXG4gICAgICAgICAgICBbMjgsIDE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDc5MyxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxNywgMTE1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDE5NTUsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEwLCA0Nl0sXG4gICAgICAgICAgICBbMjMsIDQ3XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDE1NDEsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEwLCAyNF0sXG4gICAgICAgICAgICBbMzUsIDI1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDExMTUsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzE5LCAxNV0sXG4gICAgICAgICAgICBbMzUsIDE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDg0NSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9XG59LCB7XG4gICAgTDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxNywgMTE1XSxcbiAgICAgICAgICAgIFsxLCAxMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMjA3MSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIE06IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTQsIDQ2XSxcbiAgICAgICAgICAgIFsyMSwgNDddXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTYzMSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMjksIDI0XSxcbiAgICAgICAgICAgIFsxOSwgMjVdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTE3MSxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTEsIDE1XSxcbiAgICAgICAgICAgIFs0NiwgMTZdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogOTAxLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEzLCAxMTVdLFxuICAgICAgICAgICAgWzYsIDExNl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyMTkxLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxNCwgNDZdLFxuICAgICAgICAgICAgWzIzLCA0N11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxNzI1LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0NCwgMjRdLFxuICAgICAgICAgICAgWzcsIDI1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEyMzEsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzU5LCAxNl0sXG4gICAgICAgICAgICBbMSwgMTddXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogOTYxLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEyLCAxMjFdLFxuICAgICAgICAgICAgWzcsIDEyMl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyMzA2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxMiwgNDddLFxuICAgICAgICAgICAgWzI2LCA0OF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxODEyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFszOSwgMjRdLFxuICAgICAgICAgICAgWzE0LCAyNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMjg2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyMiwgMTVdLFxuICAgICAgICAgICAgWzQxLCAxNl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiA5ODYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNiwgMTIxXSxcbiAgICAgICAgICAgIFsxNCwgMTIyXVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDI0MzQsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzYsIDQ3XSxcbiAgICAgICAgICAgIFszNCwgNDhdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTkxNCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMjhcbiAgICB9LFxuICAgIFE6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbNDYsIDI0XSxcbiAgICAgICAgICAgIFsxMCwgMjVdXG4gICAgICAgIF0sXG4gICAgICAgIHRvdGFsRGF0YUNvZGV3b3JkczogMTM1NCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHNQZXJCbG9jazogMzBcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMiwgMTVdLFxuICAgICAgICAgICAgWzY0LCAxNl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMDU0LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzE3LCAxMjJdLFxuICAgICAgICAgICAgWzQsIDEyM11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyNTY2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyOSwgNDZdLFxuICAgICAgICAgICAgWzE0LCA0N11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxOTkyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0OSwgMjRdLFxuICAgICAgICAgICAgWzEwLCAyNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxNDI2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsyNCwgMTVdLFxuICAgICAgICAgICAgWzQ2LCAxNl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMDk2LFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzQsIDEyMl0sXG4gICAgICAgICAgICBbMTgsIDEyM11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyNzAyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFsxMywgNDZdLFxuICAgICAgICAgICAgWzMyLCA0N11cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyMTAyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAyOFxuICAgIH0sXG4gICAgUToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0OCwgMjRdLFxuICAgICAgICAgICAgWzE0LCAyNV1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxNTAyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0MiwgMTVdLFxuICAgICAgICAgICAgWzMyLCAxNl1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAxMTQyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH1cbn0sIHtcbiAgICBMOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzIwLCAxMTddLFxuICAgICAgICAgICAgWzQsIDExOF1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxEYXRhQ29kZXdvcmRzOiAyODEyLFxuICAgICAgICBlcnJvckNvZGV3b3Jkc1BlckJsb2NrOiAzMFxuICAgIH0sXG4gICAgTToge1xuICAgICAgICBncm91cHM6IFtcbiAgICAgICAgICAgIFs0MCwgNDddLFxuICAgICAgICAgICAgWzcsIDQ4XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDIyMTYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzQzLCAyNF0sXG4gICAgICAgICAgICBbMjIsIDI1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDE1ODIsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzEwLCAxNV0sXG4gICAgICAgICAgICBbNjcsIDE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEyMjIsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfVxufSwge1xuICAgIEw6IHtcbiAgICAgICAgZ3JvdXBzOiBbXG4gICAgICAgICAgICBbMTksIDExOF0sXG4gICAgICAgICAgICBbNiwgMTE5XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDI5NTYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBNOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzE4LCA0N10sXG4gICAgICAgICAgICBbMzEsIDQ4XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDIzMzQsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDI4XG4gICAgfSxcbiAgICBROiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzM0LCAyNF0sXG4gICAgICAgICAgICBbMzQsIDI1XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDE2NjYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICAgIGdyb3VwczogW1xuICAgICAgICAgICAgWzIwLCAxNV0sXG4gICAgICAgICAgICBbNjEsIDE2XVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbERhdGFDb2Rld29yZHM6IDEyNzYsXG4gICAgICAgIGVycm9yQ29kZXdvcmRzUGVyQmxvY2s6IDMwXG4gICAgfVxufV07XG4iLCJpbXBvcnQge1xuICAgIHRvQml0c1N0cmluZyxcbiAgICB0b0RlY2ltYWxcbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgRnJlZUNlbGxWaXNpdG9yIH0gZnJvbSAnLi9mcmVlLWNlbGwtdmlzaXRvcic7XG5pbXBvcnQgeyBJc29FbmNvZGVyIH0gZnJvbSAnLi9lbmNvZGVycy9pc28tZW5jb2Rlcic7XG5pbXBvcnQgeyBVdGY4RW5jb2RlciB9IGZyb20gJy4vZW5jb2RlcnMvdXRmOC1lbmNvZGVyJztcbmltcG9ydCB7IFZlcnNpb25zQ29kZXdvcmRzSW5mb3JtYXRpb24gfSBmcm9tICcuL3ZlcnNpb24tY29kZXdvcmRzJztcbmltcG9ydCB7IERhdGFNb2RlSW5zdGFuY2VzIH0gZnJvbSAnLi9kYXRhLW1vZGVzL2RhdGEtbW9kZS1pbnN0YW5jZXMnO1xuXG5sZXQgdGVybWluYXRvciA9IFwiMDAwMFwiLFxuICAgIE5VTUVSSUMgPSBcIm51bWVyaWNcIixcbiAgICBBTFBIQV9OVU1FUklDID0gXCJhbHBoYW51bWVyaWNcIixcbiAgICBCWVRFID0gXCJieXRlXCIsXG4gICAgcG93ZXJzT2ZUd28gPSB7IFwiMVwiOiAwIH0sXG4gICAgcG93ZXJzT2ZUd29SZXN1bHQgPSB7IFwiMFwiOiAxIH0sXG4gICAgaXJyZWd1bGFyQWxpZ25tZW50UGF0dGVybnNTdGFydERpc3RhbmNlID0ge1xuICAgICAgICAxNTogMjAsIDE2OiAyMCwgMTg6IDI0LCAxOTogMjQsIDIyOiAyMCxcbiAgICAgICAgMjQ6IDIyLCAyNjogMjQsIDI4OiAyMCwgMzA6IDIwLCAzMTogMjQsXG4gICAgICAgIDMyOiAyOCwgMzM6IDI0LCAzNjogMTgsIDM3OiAyMiwgMzk6IDIwLCA0MDogMjRcbiAgICB9LFxuICAgIGZpbmRlclBhdHRlcm4gPSBbMSwgMCwgMSwgMSwgMV0sXG4gICAgYWxpZ25tZW50UGF0dGVybiA9IFsxLCAwLCAxXSxcbiAgICBlcnJvckNvcnJlY3Rpb25QYXR0ZXJucyA9IHsgTDogXCIwMVwiLCBNOiBcIjAwXCIsIFE6IFwiMTFcIiwgSDogXCIxMFwiIH0sXG4gICAgZm9ybWF0TWFza1BhdHRlcm4gPSBcIjEwMTAxMDAwMDAxMDAxMFwiLFxuICAgIGZvcm1hdEdlbmVyYXRvclBvbHlub21pYWwgPSBcIjEwMTAwMTEwMTExXCIsXG4gICAgdmVyc2lvbkdlbmVyYXRvclBvbHlub21pYWwgPSBcIjExMTExMDAxMDAxMDFcIixcbiAgICBwYWRkaW5nQ29kZXdvcmRzID0gW1wiMTExMDExMDBcIiwgXCIwMDAxMDAwMVwiXSxcbiAgICBmaW5kZXJQYXR0ZXJuVmFsdWUgPSA5MyxcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBhcnJvdy1ib2R5LXN0eWxlICovXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICBtYXNrUGF0dGVybkNvbmRpdGlvbnMgPSBbXG4gICAgICAgIChyb3csIGNvbHVtbikgPT4geyByZXR1cm4gKHJvdyArIGNvbHVtbikgJSAyID09PSAwOyB9LFxuICAgICAgICAocm93LCBjb2x1bW4pID0+IHsgcmV0dXJuIHJvdyAlIDIgPT09IDA7IH0sXG4gICAgICAgIChyb3csIGNvbHVtbikgPT4geyByZXR1cm4gY29sdW1uICUgMyA9PT0gMDsgfSxcbiAgICAgICAgKHJvdywgY29sdW1uKSA9PiB7IHJldHVybiAocm93ICsgY29sdW1uKSAlIDMgPT09IDA7IH0sXG4gICAgICAgIChyb3csIGNvbHVtbikgPT4geyByZXR1cm4gKE1hdGguZmxvb3Iocm93IC8gMikgKyBNYXRoLmZsb29yKGNvbHVtbiAvIDMpKSAlIDIgPT09IDA7IH0sXG4gICAgICAgIChyb3csIGNvbHVtbikgPT4geyByZXR1cm4gKChyb3cgKiBjb2x1bW4pICUgMikgKyAoKHJvdyAqIGNvbHVtbikgJSAzKSA9PT0gMDsgfSxcbiAgICAgICAgKHJvdywgY29sdW1uKSA9PiB7IHJldHVybiAoKChyb3cgKiBjb2x1bW4pICUgMikgKyAoKHJvdyAqIGNvbHVtbikgJSAzKSkgJSAyID09PSAwOyB9LFxuICAgICAgICAocm93LCBjb2x1bW4pID0+IHsgcmV0dXJuICgoKHJvdyArIGNvbHVtbikgJSAyKSArICgocm93ICogY29sdW1uKSAlIDMpKSAlIDIgPT09IDA7IH1cbiAgICBdLFxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICAvKiBlc2xpbnQtZW5hYmxlIGFycm93LWJvZHktc3R5bGUgKi9cbiAgICBudW1iZXJSZWdleCA9IC9eXFxkKy8sXG4gICAgYWxwaGFQYXR0ZXJuID0gXCJBLVowLTkgJCUqKy4vOi1cIixcbiAgICBhbHBoYUV4Y2x1c2l2ZVNldCA9IFwiQS1aICQlKisuLzotXCIsXG4gICAgYWxwaGFSZWdleCA9IG5ldyBSZWdFeHAoXCJeW1wiICsgYWxwaGFFeGNsdXNpdmVTZXQgKyBcIl0rXCIpLFxuICAgIGFscGhhTnVtZXJpY1JlZ2V4ID0gbmV3IFJlZ0V4cChcIl5bXCIgKyBhbHBoYVBhdHRlcm4gKyBcIl0rXCIpLFxuICAgIGJ5dGVSZWdleCA9IG5ldyBSZWdFeHAoXCJeW15cIiArIGFscGhhUGF0dGVybiArIFwiXStcIiksXG4gICAgaW5pdE1pbk51bWVyaWNCZWZvcmVBbHBoYSA9IDgsXG4gICAgaW5pdE1pbk51bWVyaWNCZWZvcmVCeXRlID0gNSxcbiAgICBpbml0TWluQWxwaGFCZWZvcmVCeXRlID0gOCxcbiAgICBtaW5OdW1lcmljQmVmb3JlQWxwaGEgPSAxNyxcbiAgICBtaW5OdW1lcmljQmVmb3JlQnl0ZSA9IDksXG4gICAgbWluQWxwaGFCZWZvcmVCeXRlID0gMTY7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0b3JQb2x5bm9taWFscyA9IFtbMSwgMF0sIFsxLCAyNSwgMF1dO1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsbEZ1bmN0aW9uQ2VsbChtYXRyaWNlcywgYml0LCB4LCB5KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRyaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtYXRyaWNlc1tpXVt4XVt5XSA9IGJpdDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsRGF0YUNlbGwobWF0cmljZXMsIGJpdCwgeCwgeSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFza1BhdHRlcm5Db25kaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hdHJpY2VzW2ldW3hdW3ldID0gbWFza1BhdHRlcm5Db25kaXRpb25zW2ldKHgsIHkpID8gYml0IF4gMSA6IHBhcnNlSW50KGJpdCwgMTApO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxEYXRhKG1hdHJpY2VzLCBibG9ja3MpIHtcbiAgICBsZXQgY2VsbFZpc2l0b3IgPSBuZXcgRnJlZUNlbGxWaXNpdG9yKG1hdHJpY2VzWzBdKSxcbiAgICAgICAgYmxvY2ssXG4gICAgICAgIGNvZGV3b3JkSWR4LFxuICAgICAgICBjZWxsO1xuXG4gICAgZm9yIChsZXQgYmxvY2tJZHggPSAwOyBibG9ja0lkeCA8IGJsb2Nrcy5sZW5ndGg7IGJsb2NrSWR4KyspIHtcbiAgICAgICAgYmxvY2sgPSBibG9ja3NbYmxvY2tJZHhdO1xuICAgICAgICBjb2Rld29yZElkeCA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGJsb2NrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjZWxsID0gY2VsbFZpc2l0b3IuZ2V0TmV4dENlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbERhdGFDZWxsKG1hdHJpY2VzLCBibG9ja1tpXVtjb2Rld29yZElkeF0uY2hhckF0KGopLCBjZWxsLnJvdywgY2VsbC5jb2x1bW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29kZXdvcmRJZHgrKztcblxuICAgICAgICAgICAgd2hpbGUgKGJsb2NrWzBdICYmIGNvZGV3b3JkSWR4ID09PSBibG9ja1swXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBibG9jay5zcGxpY2UoMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3aGlsZSAoKGNlbGwgPSBjZWxsVmlzaXRvci5nZXROZXh0UmVtYWluZGVyQ2VsbCgpKSkge1xuICAgICAgICBmaWxsRGF0YUNlbGwobWF0cmljZXMsIDAsIGNlbGwucm93LCBjZWxsLmNvbHVtbik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFkRGF0YVN0cmluZyhpbml0aWFsRGF0YVN0cmluZywgdG90YWxEYXRhQ29kZXdvcmRzKSB7XG4gICAgbGV0IGRhdGFCaXRzQ291bnQgPSB0b3RhbERhdGFDb2Rld29yZHMgKiA4LFxuICAgICAgICB0ZXJtaW5hdG9ySW5kZXggPSAwLFxuICAgICAgICBwYWRkaW5nQ29kZXdvcmRJbmRleCA9IDA7XG4gICAgbGV0IGRhdGFTdHJpbmcgPSBpbml0aWFsRGF0YVN0cmluZztcblxuICAgIHdoaWxlIChkYXRhU3RyaW5nLmxlbmd0aCA8IGRhdGFCaXRzQ291bnQgJiYgdGVybWluYXRvckluZGV4IDwgdGVybWluYXRvci5sZW5ndGgpIHtcbiAgICAgICAgZGF0YVN0cmluZyArPSB0ZXJtaW5hdG9yLmNoYXJBdCh0ZXJtaW5hdG9ySW5kZXgrKyk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGFTdHJpbmcubGVuZ3RoICUgOCAhPT0gMCkge1xuICAgICAgICBkYXRhU3RyaW5nICs9IG5ldyBBcnJheSg5IC0gZGF0YVN0cmluZy5sZW5ndGggJSA4KS5qb2luKFwiMFwiKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoZGF0YVN0cmluZy5sZW5ndGggPCBkYXRhQml0c0NvdW50KSB7XG4gICAgICAgIGRhdGFTdHJpbmcgKz0gcGFkZGluZ0NvZGV3b3Jkc1twYWRkaW5nQ29kZXdvcmRJbmRleF07XG4gICAgICAgIHBhZGRpbmdDb2Rld29yZEluZGV4IF49IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFTdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVBvd2Vyc09mVHdvKCkge1xuICAgIGxldCByZXN1bHQ7XG4gICAgbGV0IHBvd2VyO1xuXG4gICAgZm9yIChwb3dlciA9IDE7IHBvd2VyIDwgMjU1OyBwb3dlcisrKSB7XG4gICAgICAgIHJlc3VsdCA9IHBvd2Vyc09mVHdvUmVzdWx0W3Bvd2VyIC0gMV0gKiAyO1xuICAgICAgICBpZiAocmVzdWx0ID4gMjU1KSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgXiAyODU7XG4gICAgICAgIH1cblxuICAgICAgICBwb3dlcnNPZlR3b1Jlc3VsdFtwb3dlcl0gPSByZXN1bHQ7XG4gICAgICAgIHBvd2Vyc09mVHdvW3Jlc3VsdF0gPSBwb3dlcjtcbiAgICB9XG5cbiAgICByZXN1bHQgPSAocG93ZXJzT2ZUd29SZXN1bHRbcG93ZXIgLSAxXSAqIDIpIF4gMjg1O1xuICAgIHBvd2Vyc09mVHdvUmVzdWx0W3Bvd2VyXSA9IHJlc3VsdDtcbiAgICBwb3dlcnNPZlR3b1Jlc3VsdFstMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24geG9yUG9seW5vbWlhbHMoeCwgeSkge1xuICAgIGxldCByZXN1bHQgPSBbXSxcbiAgICAgICAgaWR4ID0geC5sZW5ndGggLSAyO1xuXG4gICAgZm9yIChsZXQgaSA9IGlkeDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgcmVzdWx0W2ldID0geFtpXSBeIHlbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5UG9seW5vbWlhbHMoeCwgeSkge1xuICAgIGxldCByZXN1bHQgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbaSArIGpdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaSArIGpdID0gKHhbaV0gKyAoeVtqXSA+PSAwID8geVtqXSA6IDApKSAlIDI1NTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2kgKyBqXSA9IHBvd2Vyc09mVHdvW3Bvd2Vyc09mVHdvUmVzdWx0W3Jlc3VsdFtpICsgal1dIF4gcG93ZXJzT2ZUd29SZXN1bHRbKHhbaV0gKyB5W2pdKSAlIDI1NV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlR2VuZXJhdG9yUG9seW5vbWlhbHMoKSB7XG4gICAgbGV0IG1heEVycm9yQ29ycmVjdGlvbkNvZGVXb3Jkc0NvdW50ID0gNjg7XG5cbiAgICBmb3IgKGxldCBpZHggPSAyOyBpZHggPD0gbWF4RXJyb3JDb3JyZWN0aW9uQ29kZVdvcmRzQ291bnQ7IGlkeCsrKSB7XG4gICAgICAgIGxldCBmaXJzdFBvbHlub21pYWwgPSBnZW5lcmF0b3JQb2x5bm9taWFsc1tpZHggLSAxXSxcbiAgICAgICAgICAgIHNlY29uZFBvbHlub21pYWwgPSBbaWR4LCAwXTtcblxuICAgICAgICBnZW5lcmF0b3JQb2x5bm9taWFsc1tpZHhdID0gbXVsdGlwbHlQb2x5bm9taWFscyhmaXJzdFBvbHlub21pYWwsIHNlY29uZFBvbHlub21pYWwpO1xuICAgIH1cbn1cblxuLy9wb3NzaWJseSBnZW5lcmF0ZSBvbiBkZW1hbmRcbmdlbmVyYXRlUG93ZXJzT2ZUd28oKTtcbmdlbmVyYXRlR2VuZXJhdG9yUG9seW5vbWlhbHMoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5QnlDb25zdGFudChwb2x5bm9taWFsLCBwb3dlcikge1xuICAgIGxldCByZXN1bHQgPSBbXSxcbiAgICAgICAgaWR4ID0gcG9seW5vbWlhbC5sZW5ndGggLSAxO1xuXG4gICAgZG8ge1xuICAgICAgICByZXN1bHRbaWR4XSA9IHBvd2Vyc09mVHdvUmVzdWx0Wyhwb2x5bm9taWFsW2lkeF0gKyBwb3dlcikgJSAyNTVdO1xuICAgICAgICBpZHgtLTtcbiAgICB9XG4gICAgd2hpbGUgKHBvbHlub21pYWxbaWR4XSAhPT0gdW5kZWZpbmVkKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUVycm9yQ29kZXdvcmRzKGRhdGEsIGVycm9yQ29kZXdvcmRzQ291bnQpIHtcbiAgICBsZXQgZ2VuZXJhdG9yID0gZ2VuZXJhdG9yUG9seW5vbWlhbHNbZXJyb3JDb2Rld29yZHNDb3VudCAtIDFdLFxuICAgICAgICByZXN1bHQgPSBuZXcgQXJyYXkoZXJyb3JDb2Rld29yZHNDb3VudCkuY29uY2F0KGRhdGEpLFxuICAgICAgICBnZW5lcmF0b3JQb2x5bm9taWFsID0gbmV3IEFycmF5KHJlc3VsdC5sZW5ndGggLSBnZW5lcmF0b3IubGVuZ3RoKS5jb25jYXQoZ2VuZXJhdG9yKSxcbiAgICAgICAgc3RlcHMgPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgZXJyb3JDb2Rld29yZHMgPSBbXSxcbiAgICAgICAgZGl2aXNvcixcbiAgICAgICAgaWR4O1xuXG4gICAgZm9yIChpZHggPSAwOyBpZHggPCBzdGVwczsgaWR4KyspIHtcbiAgICAgICAgZGl2aXNvciA9IG11bHRpcGx5QnlDb25zdGFudChnZW5lcmF0b3JQb2x5bm9taWFsLCBwb3dlcnNPZlR3b1tyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdXSk7XG4gICAgICAgIGdlbmVyYXRvclBvbHlub21pYWwuc3BsaWNlKDAsIDEpO1xuXG4gICAgICAgIHJlc3VsdCA9IHhvclBvbHlub21pYWxzKGRpdmlzb3IsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgZm9yIChpZHggPSByZXN1bHQubGVuZ3RoIC0gMTsgaWR4ID49IDA7IGlkeC0tKSB7XG4gICAgICAgIGVycm9yQ29kZXdvcmRzW2Vycm9yQ29kZXdvcmRzQ291bnQgLSAxIC0gaWR4XSA9IHRvQml0c1N0cmluZyhyZXN1bHRbaWR4XSwgOCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yQ29kZXdvcmRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvY2tzKGRhdGFTdHJlYW0sIHZlcnNpb25Db2Rld29yZHNJbmZvcm1hdGlvbikge1xuICAgIGxldCBjb2Rld29yZFN0YXJ0ID0gMCxcbiAgICAgICAgZGF0YUJsb2NrcyA9IFtdLFxuICAgICAgICBlcnJvckJsb2NrcyA9IFtdLFxuICAgICAgICBkYXRhQmxvY2ssXG4gICAgICAgIHZlcnNpb25Hcm91cHMgPSB2ZXJzaW9uQ29kZXdvcmRzSW5mb3JtYXRpb24uZ3JvdXBzLFxuICAgICAgICBibG9ja0NvZGV3b3Jkc0NvdW50LFxuICAgICAgICBncm91cEJsb2Nrc0NvdW50LFxuICAgICAgICBtZXNzYWdlUG9seW5vbWlhbCxcbiAgICAgICAgY29kZXdvcmQ7XG5cbiAgICBmb3IgKGxldCBncm91cElkeCA9IDA7IGdyb3VwSWR4IDwgdmVyc2lvbkdyb3Vwcy5sZW5ndGg7IGdyb3VwSWR4KyspIHtcbiAgICAgICAgZ3JvdXBCbG9ja3NDb3VudCA9IHZlcnNpb25Hcm91cHNbZ3JvdXBJZHhdWzBdO1xuXG4gICAgICAgIGZvciAobGV0IGJsb2NrSWR4ID0gMDsgYmxvY2tJZHggPCBncm91cEJsb2Nrc0NvdW50OyBibG9ja0lkeCsrKSB7XG4gICAgICAgICAgICBibG9ja0NvZGV3b3Jkc0NvdW50ID0gdmVyc2lvbkdyb3Vwc1tncm91cElkeF1bMV07XG4gICAgICAgICAgICBkYXRhQmxvY2sgPSBbXTtcbiAgICAgICAgICAgIG1lc3NhZ2VQb2x5bm9taWFsID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGNvZGV3b3JkSWR4ID0gMTsgY29kZXdvcmRJZHggPD0gYmxvY2tDb2Rld29yZHNDb3VudDsgY29kZXdvcmRJZHgrKykge1xuICAgICAgICAgICAgICAgIGNvZGV3b3JkID0gZGF0YVN0cmVhbS5zdWJzdHJpbmcoY29kZXdvcmRTdGFydCwgY29kZXdvcmRTdGFydCArIDgpO1xuICAgICAgICAgICAgICAgIGRhdGFCbG9jay5wdXNoKGNvZGV3b3JkKTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlUG9seW5vbWlhbFtibG9ja0NvZGV3b3Jkc0NvdW50IC0gY29kZXdvcmRJZHhdID0gdG9EZWNpbWFsKGNvZGV3b3JkKTtcbiAgICAgICAgICAgICAgICBjb2Rld29yZFN0YXJ0ICs9IDg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGFCbG9ja3MucHVzaChkYXRhQmxvY2spO1xuICAgICAgICAgICAgZXJyb3JCbG9ja3MucHVzaChnZW5lcmF0ZUVycm9yQ29kZXdvcmRzKG1lc3NhZ2VQb2x5bm9taWFsLFxuICAgICAgICAgICAgICAgIHZlcnNpb25Db2Rld29yZHNJbmZvcm1hdGlvbi5lcnJvckNvZGV3b3Jkc1BlckJsb2NrKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtkYXRhQmxvY2tzLCBlcnJvckJsb2Nrc107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaG9vc2VNb2RlKHN0ciwgbWluTnVtZXJpY0JlZm9yZUFscGhhLCBtaW5OdW1lcmljQmVmb3JlQnl0ZSwgbWluQWxwaGFCZWZvcmVCeXRlLCBwcmV2aW91c01vZGUpIHtcbiAgICBsZXQgbnVtZXJpYyA9IG51bWJlclJlZ2V4LmV4ZWMoc3RyKSxcbiAgICAgICAgbnVtZXJpY01hdGNoID0gbnVtZXJpYyA/IG51bWVyaWNbMF0gOiBcIlwiLFxuICAgICAgICBhbHBoYSA9IGFscGhhUmVnZXguZXhlYyhzdHIpLFxuICAgICAgICBhbHBoYU1hdGNoID0gYWxwaGEgPyBhbHBoYVswXSA6IFwiXCIsXG4gICAgICAgIGFscGhhTnVtZXJpYyA9IGFscGhhTnVtZXJpY1JlZ2V4LmV4ZWMoc3RyKSxcbiAgICAgICAgYWxwaGFOdW1lcmljTWF0Y2ggPSBhbHBoYU51bWVyaWMgPyBhbHBoYU51bWVyaWNbMF0gOiBcIlwiLFxuICAgICAgICBtb2RlLFxuICAgICAgICBtb2RlU3RyaW5nO1xuXG4gICAgaWYgKG51bWVyaWNNYXRjaCAmJlxuICAgICAgICAobnVtZXJpY01hdGNoLmxlbmd0aCA+PSBtaW5OdW1lcmljQmVmb3JlQWxwaGEgfHwgc3RyLmxlbmd0aCA9PT0gbnVtZXJpY01hdGNoLmxlbmd0aCB8fFxuICAgICAgICAobnVtZXJpY01hdGNoLmxlbmd0aCA+PSBtaW5OdW1lcmljQmVmb3JlQnl0ZSAmJiAhYWxwaGFOdW1lcmljUmVnZXgudGVzdChzdHIuY2hhckF0KG51bWVyaWNNYXRjaC5sZW5ndGgpKSkpKSB7XG4gICAgICAgIG1vZGUgPSBOVU1FUklDO1xuICAgICAgICBtb2RlU3RyaW5nID0gbnVtZXJpY01hdGNoO1xuICAgIH0gZWxzZSBpZiAoYWxwaGFOdW1lcmljTWF0Y2ggJiYgKHN0ci5sZW5ndGggPT09IGFscGhhTnVtZXJpY01hdGNoLmxlbmd0aCB8fFxuICAgICAgICBhbHBoYU51bWVyaWNNYXRjaC5sZW5ndGggPj0gbWluQWxwaGFCZWZvcmVCeXRlIHx8IHByZXZpb3VzTW9kZSA9PT0gQUxQSEFfTlVNRVJJQykpIHtcbiAgICAgICAgbW9kZSA9IEFMUEhBX05VTUVSSUM7XG4gICAgICAgIG1vZGVTdHJpbmcgPSBudW1lcmljTWF0Y2ggfHwgYWxwaGFNYXRjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtb2RlID0gQllURTtcblxuICAgICAgICBpZiAoYWxwaGFOdW1lcmljTWF0Y2gpIHtcbiAgICAgICAgICAgIG1vZGVTdHJpbmcgPSBhbHBoYU51bWVyaWNNYXRjaCArIGJ5dGVSZWdleC5leGVjKHN0ci5zdWJzdHJpbmcoYWxwaGFOdW1lcmljTWF0Y2gubGVuZ3RoKSlbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RlU3RyaW5nID0gYnl0ZVJlZ2V4LmV4ZWMoc3RyKVswXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgIG1vZGVTdHJpbmc6IG1vZGVTdHJpbmdcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZXMoaW5wdXRTdHJpbmcpIHtcbiAgICBsZXQgbW9kZXMgPSBbXSxcbiAgICAgICAgcHJldmlvdXNNb2RlLFxuICAgICAgICBpZHggPSAwO1xuICAgIGxldCBzdHIgPSBpbnB1dFN0cmluZztcblxuICAgIG1vZGVzLnB1c2goY2hvb3NlTW9kZShzdHIsIGluaXRNaW5OdW1lcmljQmVmb3JlQWxwaGEsIGluaXRNaW5OdW1lcmljQmVmb3JlQnl0ZSwgaW5pdE1pbkFscGhhQmVmb3JlQnl0ZSwgcHJldmlvdXNNb2RlKSk7XG4gICAgcHJldmlvdXNNb2RlID0gbW9kZXNbMF0ubW9kZTtcbiAgICBzdHIgPSBzdHIuc3Vic3RyKG1vZGVzWzBdLm1vZGVTdHJpbmcubGVuZ3RoKTtcblxuICAgIHdoaWxlIChzdHIubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgbmV4dE1vZGUgPSBjaG9vc2VNb2RlKHN0ciwgbWluTnVtZXJpY0JlZm9yZUFscGhhLCBtaW5OdW1lcmljQmVmb3JlQnl0ZSwgbWluQWxwaGFCZWZvcmVCeXRlLCBwcmV2aW91c01vZGUpO1xuXG4gICAgICAgIGlmIChuZXh0TW9kZS5tb2RlICE9PSBwcmV2aW91c01vZGUpIHtcbiAgICAgICAgICAgIHByZXZpb3VzTW9kZSA9IG5leHRNb2RlLm1vZGU7XG4gICAgICAgICAgICBtb2Rlcy5wdXNoKG5leHRNb2RlKTtcbiAgICAgICAgICAgIGlkeCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kZXNbaWR4XS5tb2RlU3RyaW5nICs9IG5leHRNb2RlLm1vZGVTdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKG5leHRNb2RlLm1vZGVTdHJpbmcubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhQ29kZXdvcmRzQ291bnQobW9kZXMpIHtcbiAgICBsZXQgbGVuZ3RoID0gMCxcbiAgICAgICAgbW9kZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW9kZSA9IERhdGFNb2RlSW5zdGFuY2VzW21vZGVzW2ldLm1vZGVdO1xuICAgICAgICBsZW5ndGggKz0gbW9kZS5nZXRTdHJpbmdCaXRzTGVuZ3RoKG1vZGVzW2ldLm1vZGVTdHJpbmcubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5jZWlsKGxlbmd0aCAvIDgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmVyc2lvbihkYXRhQ29kZXdvcmRzQ291bnQsIGVycm9yQ29ycmVjdGlvbkxldmVsKSB7XG4gICAgbGV0IHggPSAwLFxuICAgICAgICB5ID0gVmVyc2lvbnNDb2Rld29yZHNJbmZvcm1hdGlvbi5sZW5ndGggLSAxLFxuICAgICAgICB2ZXJzaW9uID0gTWF0aC5mbG9vcihWZXJzaW9uc0NvZGV3b3Jkc0luZm9ybWF0aW9uLmxlbmd0aCAvIDIpO1xuXG4gICAgZG8ge1xuICAgICAgICBpZiAoZGF0YUNvZGV3b3Jkc0NvdW50IDwgVmVyc2lvbnNDb2Rld29yZHNJbmZvcm1hdGlvblt2ZXJzaW9uXVtlcnJvckNvcnJlY3Rpb25MZXZlbF0udG90YWxEYXRhQ29kZXdvcmRzKSB7XG4gICAgICAgICAgICB5ID0gdmVyc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSB2ZXJzaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgdmVyc2lvbiA9IHggKyBNYXRoLmZsb29yKCh5IC0geCkgLyAyKTtcbiAgICB9IHdoaWxlICh5IC0geCA+IDEpO1xuXG4gICAgaWYgKGRhdGFDb2Rld29yZHNDb3VudCA8PSBWZXJzaW9uc0NvZGV3b3Jkc0luZm9ybWF0aW9uW3hdW2Vycm9yQ29ycmVjdGlvbkxldmVsXS50b3RhbERhdGFDb2Rld29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHZlcnNpb24gKyAxO1xuICAgIH1cblxuICAgIHJldHVybiB5ICsgMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFTdHJpbmcobW9kZXMsIHZlcnNpb24pIHtcbiAgICBsZXQgZGF0YVN0cmluZyA9IFwiXCIsXG4gICAgICAgIG1vZGU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vZGUgPSBEYXRhTW9kZUluc3RhbmNlc1ttb2Rlc1tpXS5tb2RlXTtcbiAgICAgICAgZGF0YVN0cmluZyArPSBtb2RlLmVuY29kZShtb2Rlc1tpXS5tb2RlU3RyaW5nLCB2ZXJzaW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVN0cmluZztcbn1cblxuLy9maXggY2FzZSBhbGwgemVyb3NcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXQpIHtcbiAgICBsZXQgZm9ybWF0TnVtYmVyID0gdG9EZWNpbWFsKGZvcm1hdCksXG4gICAgICAgIGVuY29kZWRTdHJpbmcsXG4gICAgICAgIHJlc3VsdCA9IFwiXCI7XG5cbiAgICBpZiAoZm9ybWF0TnVtYmVyID09PSAwKSB7XG4gICAgICAgIHJldHVybiBcIjEwMTAxMDAwMDAxMDAxMFwiO1xuICAgIH1cblxuICAgIGVuY29kZWRTdHJpbmcgPSBlbmNvZGVCQ0godG9EZWNpbWFsKGZvcm1hdCksIGZvcm1hdEdlbmVyYXRvclBvbHlub21pYWwsIDE1KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlZFN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQgKz0gZW5jb2RlZFN0cmluZy5jaGFyQXQoaSkgXiBmb3JtYXRNYXNrUGF0dGVybi5jaGFyQXQoaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUJDSCh2YWx1ZSwgZ2VuZXJhdG9yUG9seW5vbWlhbCwgY29kZUxlbmd0aCkge1xuICAgIGxldCBnZW5lcmF0b3JOdW1iZXIgPSB0b0RlY2ltYWwoZ2VuZXJhdG9yUG9seW5vbWlhbCksXG4gICAgICAgIHBvbHlub21pYWxMZW5ndGggPSBnZW5lcmF0b3JQb2x5bm9taWFsLmxlbmd0aCAtIDEsXG4gICAgICAgIHZhbHVlTnVtYmVyID0gdmFsdWUgPDwgcG9seW5vbWlhbExlbmd0aCxcbiAgICAgICAgbGVuZ3RoID0gY29kZUxlbmd0aCAtIHBvbHlub21pYWxMZW5ndGgsXG4gICAgICAgIHZhbHVlU3RyaW5nID0gdG9CaXRzU3RyaW5nKHZhbHVlLCBsZW5ndGgpLFxuICAgICAgICByZXN1bHQgPSBkaXZpZGVQb2x5bm9taWFscyh2YWx1ZU51bWJlciwgZ2VuZXJhdG9yTnVtYmVyKTtcblxuICAgIHJlc3VsdCA9IHZhbHVlU3RyaW5nICsgdG9CaXRzU3RyaW5nKHJlc3VsdCwgcG9seW5vbWlhbExlbmd0aCk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlUG9seW5vbWlhbHMobnVtYmVyWCwgbnVtYmVyWSkge1xuICAgIGxldCB5TGVuZ3RoID0gbnVtYmVyWS50b1N0cmluZygyKS5sZW5ndGgsXG4gICAgICAgIHhMZW5ndGggPSBudW1iZXJYLnRvU3RyaW5nKDIpLmxlbmd0aDtcbiAgICBsZXQgeCA9IG51bWJlclg7XG5cbiAgICBkbyB7XG4gICAgICAgIHggXj0gbnVtYmVyWSA8PCB4TGVuZ3RoIC0geUxlbmd0aDtcbiAgICAgICAgeExlbmd0aCA9IHgudG9TdHJpbmcoMikubGVuZ3RoO1xuICAgIH1cbiAgICB3aGlsZSAoeExlbmd0aCA+PSB5TGVuZ3RoKTtcblxuICAgIHJldHVybiB4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TnVtYmVyQXQoc3RyLCBpZHgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyLmNoYXJBdChpZHgpLCAxMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0TWF0cmljZXModmVyc2lvbikge1xuICAgIGxldCBtYXRyaWNlcyA9IFtdLFxuICAgICAgICBtb2R1bGVzID0gMTcgKyA0ICogdmVyc2lvbjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFza1BhdHRlcm5Db25kaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hdHJpY2VzW2ldID0gbmV3IEFycmF5KG1vZHVsZXMpO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbW9kdWxlczsgaisrKSB7XG4gICAgICAgICAgICBtYXRyaWNlc1tpXVtqXSA9IG5ldyBBcnJheShtb2R1bGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXRyaWNlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZvcm1hdEluZm9ybWF0aW9uKG1hdHJpY2VzLCBmb3JtYXRTdHJpbmcpIHtcbiAgICBsZXQgbWF0cml4ID0gbWF0cmljZXNbMF0sXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGlkeCA9IDAsXG4gICAgICAgIGxlbmd0aCA9IGZvcm1hdFN0cmluZy5sZW5ndGg7XG5cbiAgICBmb3IgKHggPSAwLCB5ID0gODsgeCA8PSA4OyB4KyspIHtcbiAgICAgICAgaWYgKHggIT09IDYpIHtcbiAgICAgICAgICAgIGZpbGxGdW5jdGlvbkNlbGwobWF0cmljZXMsIGdldE51bWJlckF0KGZvcm1hdFN0cmluZywgbGVuZ3RoIC0gMSAtIGlkeCsrKSwgeCwgeSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHggPSA4LCB5ID0gNzsgeSA+PSAwOyB5LS0pIHtcbiAgICAgICAgaWYgKHkgIT09IDYpIHtcbiAgICAgICAgICAgIGZpbGxGdW5jdGlvbkNlbGwobWF0cmljZXMsIGdldE51bWJlckF0KGZvcm1hdFN0cmluZywgbGVuZ3RoIC0gMSAtIGlkeCsrKSwgeCwgeSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZHggPSAwO1xuXG4gICAgZm9yICh5ID0gbWF0cml4Lmxlbmd0aCAtIDEsIHggPSA4OyB5ID49IG1hdHJpeC5sZW5ndGggLSA4OyB5LS0pIHtcbiAgICAgICAgZmlsbEZ1bmN0aW9uQ2VsbChtYXRyaWNlcywgZ2V0TnVtYmVyQXQoZm9ybWF0U3RyaW5nLCBsZW5ndGggLSAxIC0gaWR4KyspLCB4LCB5KTtcbiAgICB9XG5cbiAgICBmaWxsRnVuY3Rpb25DZWxsKG1hdHJpY2VzLCAxLCBtYXRyaXgubGVuZ3RoIC0gOCwgOCk7XG5cbiAgICBmb3IgKHggPSBtYXRyaXgubGVuZ3RoIC0gNywgeSA9IDg7IHggPCBtYXRyaXgubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgZmlsbEZ1bmN0aW9uQ2VsbChtYXRyaWNlcywgZ2V0TnVtYmVyQXQoZm9ybWF0U3RyaW5nLCBsZW5ndGggLSAxIC0gaWR4KyspLCB4LCB5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbikge1xuICAgIHJldHVybiBlbmNvZGVCQ0godmVyc2lvbiwgdmVyc2lvbkdlbmVyYXRvclBvbHlub21pYWwsIDE4KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFZlcnNpb25JbmZvcm1hdGlvbihtYXRyaWNlcywgZGF0YVN0cmluZykge1xuICAgIGxldCBtYXRyaXggPSBtYXRyaWNlc1swXSxcbiAgICAgICAgbW9kdWxlcyA9IG1hdHJpeC5sZW5ndGgsXG4gICAgICAgIHgxID0gMCxcbiAgICAgICAgeTEgPSBtb2R1bGVzIC0gMTEsXG4gICAgICAgIHgyID0gbW9kdWxlcyAtIDExLFxuICAgICAgICB5MiA9IDAsXG4gICAgICAgIHF1b3RpZW50LFxuICAgICAgICBtb2QsXG4gICAgICAgIHZhbHVlO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGF0YVN0cmluZy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHF1b3RpZW50ID0gTWF0aC5mbG9vcihpZHggLyAzKTtcbiAgICAgICAgbW9kID0gaWR4ICUgMztcbiAgICAgICAgdmFsdWUgPSBnZXROdW1iZXJBdChkYXRhU3RyaW5nLCBkYXRhU3RyaW5nLmxlbmd0aCAtIGlkeCAtIDEpO1xuXG4gICAgICAgIGZpbGxGdW5jdGlvbkNlbGwobWF0cmljZXMsIHZhbHVlLCB4MSArIHF1b3RpZW50LCB5MSArIG1vZCk7XG4gICAgICAgIGZpbGxGdW5jdGlvbkNlbGwobWF0cmljZXMsIHZhbHVlLCB4MiArIG1vZCwgeTIgKyBxdW90aWVudCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2VudHJpY1BhdHRlcm4obWF0cmljZXMsIHBhdHRlcm4sIHgsIHkpIHtcbiAgICBsZXQgc2l6ZSA9IHBhdHRlcm4ubGVuZ3RoICsgMixcbiAgICAgICAgbGVuZ3RoID0gcGF0dGVybi5sZW5ndGggKyAxLFxuICAgICAgICB2YWx1ZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IHNpemUgLSBpOyBqKyspIHtcbiAgICAgICAgICAgIHZhbHVlID0gcGF0dGVybltpXTtcblxuICAgICAgICAgICAgZmlsbEZ1bmN0aW9uQ2VsbChtYXRyaWNlcywgdmFsdWUsIHggKyBqLCB5ICsgaSk7XG4gICAgICAgICAgICBmaWxsRnVuY3Rpb25DZWxsKG1hdHJpY2VzLCB2YWx1ZSwgeCArIGksIHkgKyBqKTtcbiAgICAgICAgICAgIGZpbGxGdW5jdGlvbkNlbGwobWF0cmljZXMsIHZhbHVlLCB4ICsgbGVuZ3RoIC0gaiwgeSArIGxlbmd0aCAtIGkpO1xuICAgICAgICAgICAgZmlsbEZ1bmN0aW9uQ2VsbChtYXRyaWNlcywgdmFsdWUsIHggKyBsZW5ndGggLSBpLCB5ICsgbGVuZ3RoIC0gaik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRGaW5kZXJTZXBhcmF0b3IobWF0cmljZXMsIGRpcmVjdGlvbiwgeCwgeSkge1xuICAgIGxldCBuZXh0WCA9IHgsXG4gICAgICAgIG5leHRZID0geSxcbiAgICAgICAgbWF0cml4ID0gbWF0cmljZXNbMF07XG5cbiAgICBkbyB7XG4gICAgICAgIGZpbGxGdW5jdGlvbkNlbGwobWF0cmljZXMsIDAsIG5leHRYLCB5KTtcbiAgICAgICAgZmlsbEZ1bmN0aW9uQ2VsbChtYXRyaWNlcywgMCwgeCwgbmV4dFkpO1xuICAgICAgICBuZXh0WCArPSBkaXJlY3Rpb25bMF07XG4gICAgICAgIG5leHRZICs9IGRpcmVjdGlvblsxXTtcbiAgICB9XG4gICAgd2hpbGUgKG5leHRYID49IDAgJiYgbmV4dFggPCBtYXRyaXgubGVuZ3RoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZpbmRlclBhdHRlcm5zKG1hdHJpY2VzKSB7XG4gICAgbGV0IG1vZHVsZXMgPSBtYXRyaWNlc1swXS5sZW5ndGg7XG5cbiAgICBhZGRDZW50cmljUGF0dGVybihtYXRyaWNlcywgZmluZGVyUGF0dGVybiwgMCwgMCk7XG4gICAgYWRkRmluZGVyU2VwYXJhdG9yKG1hdHJpY2VzLCBbLTEsIC0xXSwgNywgNyk7XG4gICAgYWRkQ2VudHJpY1BhdHRlcm4obWF0cmljZXMsIGZpbmRlclBhdHRlcm4sIG1vZHVsZXMgLSA3LCAwKTtcbiAgICBhZGRGaW5kZXJTZXBhcmF0b3IobWF0cmljZXMsIFsxLCAtMV0sIG1vZHVsZXMgLSA4LCA3KTtcbiAgICBhZGRDZW50cmljUGF0dGVybihtYXRyaWNlcywgZmluZGVyUGF0dGVybiwgMCwgbW9kdWxlcyAtIDcpO1xuICAgIGFkZEZpbmRlclNlcGFyYXRvcihtYXRyaWNlcywgWy0xLCAxXSwgNywgbW9kdWxlcyAtIDgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQWxpZ25tZW50UGF0dGVybnMobWF0cmljZXMsIHZlcnNpb24pIHtcbiAgICBpZiAodmVyc2lvbiA8IDIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBtYXRyaXggPSBtYXRyaWNlc1swXSxcbiAgICAgICAgbW9kdWxlcyA9IG1hdHJpeC5sZW5ndGgsXG4gICAgICAgIHBvaW50c0NvdW50ID0gTWF0aC5mbG9vcih2ZXJzaW9uIC8gNyksXG4gICAgICAgIHBvaW50cyA9IFs2XSxcbiAgICAgICAgc3RhcnREaXN0YW5jZSxcbiAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgIGlkeCA9IDA7XG5cbiAgICBpZiAoKHN0YXJ0RGlzdGFuY2UgPSBpcnJlZ3VsYXJBbGlnbm1lbnRQYXR0ZXJuc1N0YXJ0RGlzdGFuY2VbdmVyc2lvbl0pKSB7XG4gICAgICAgIGRpc3RhbmNlID0gKG1vZHVsZXMgLSAxMyAtIHN0YXJ0RGlzdGFuY2UpIC8gcG9pbnRzQ291bnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnREaXN0YW5jZSA9IGRpc3RhbmNlID0gKG1vZHVsZXMgLSAxMykgLyAocG9pbnRzQ291bnQgKyAxKTtcbiAgICB9XG5cbiAgICBwb2ludHMucHVzaChwb2ludHNbaWR4KytdICsgc3RhcnREaXN0YW5jZSk7XG5cbiAgICB3aGlsZSAoKHBvaW50c1tpZHhdICsgZGlzdGFuY2UpIDwgbW9kdWxlcykge1xuICAgICAgICBwb2ludHMucHVzaChwb2ludHNbaWR4KytdICsgZGlzdGFuY2UpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcG9pbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAobWF0cml4W3BvaW50c1tpXV1bcG9pbnRzW2pdXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2VudHJpY1BhdHRlcm4obWF0cmljZXMsIGFsaWdubWVudFBhdHRlcm4sIHBvaW50c1tpXSAtIDIsIHBvaW50c1tqXSAtIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVGltaW5nRnVuY3Rpb25zKG1hdHJpY2VzKSB7XG4gICAgbGV0IHJvdyA9IDYsXG4gICAgICAgIGNvbHVtbiA9IDYsXG4gICAgICAgIHZhbHVlID0gMSxcbiAgICAgICAgbW9kdWxlcyA9IG1hdHJpY2VzWzBdLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSA4OyBpIDwgbW9kdWxlcyAtIDg7IGkrKykge1xuICAgICAgICBmaWxsRnVuY3Rpb25DZWxsKG1hdHJpY2VzLCB2YWx1ZSwgcm93LCBpKTtcbiAgICAgICAgZmlsbEZ1bmN0aW9uQ2VsbChtYXRyaWNlcywgdmFsdWUsIGksIGNvbHVtbik7XG4gICAgICAgIHZhbHVlIF49IDE7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NvcmVNYXNrTWF0cml4ZXMobWF0cmljZXMpIHtcbiAgICBsZXQgc2NvcmVzID0gW10sXG4gICAgICAgIHByZXZpb3VzQml0cyA9IFtdLFxuICAgICAgICBkYXJrTW9kdWxlcyA9IFtdLFxuICAgICAgICBwYXR0ZXJucyA9IFtdLFxuICAgICAgICBhZGphY2VudFNhbWVCaXRzID0gW10sXG4gICAgICAgIG1hdHJpeCxcbiAgICAgICAgaSxcbiAgICAgICAgcm93ID0gMCxcbiAgICAgICAgY29sdW1uID0gMSxcbiAgICAgICAgbW9kdWxlc0xlbmd0aCA9IG1hdHJpY2VzWzBdLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBtYXRyaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzY29yZXNbaV0gPSAwO1xuICAgICAgICBkYXJrTW9kdWxlc1tpXSA9IDA7XG4gICAgICAgIGFkamFjZW50U2FtZUJpdHNbaV0gPSBbMCwgMF07XG4gICAgICAgIHBhdHRlcm5zW2ldID0gWzAsIDBdO1xuICAgICAgICBwcmV2aW91c0JpdHNbaV0gPSBbXTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgbW9kdWxlc0xlbmd0aDsgcm93SW5kZXgrKykge1xuICAgICAgICBmb3IgKGxldCBjb2x1bW5JbmRleCA9IDA7IGNvbHVtbkluZGV4IDwgbW9kdWxlc0xlbmd0aDsgY29sdW1uSW5kZXgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgbWF0cml4SW5kZXggPSAwOyBtYXRyaXhJbmRleCA8IG1hdHJpY2VzLmxlbmd0aDsgbWF0cml4SW5kZXgrKykge1xuICAgICAgICAgICAgICAgIG1hdHJpeCA9IG1hdHJpY2VzW21hdHJpeEluZGV4XTtcbiAgICAgICAgICAgICAgICBkYXJrTW9kdWxlc1ttYXRyaXhJbmRleF0gKz0gcGFyc2VJbnQobWF0cml4W3Jvd0luZGV4XVtjb2x1bW5JbmRleF0sIDEwKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0JpdHNbbWF0cml4SW5kZXhdW3Jvd10gPT09IG1hdHJpeFtyb3dJbmRleF1bY29sdW1uSW5kZXhdICYmXG4gICAgICAgICAgICAgICAgICAgIHJvd0luZGV4ICsgMSA8IG1vZHVsZXNMZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uSW5kZXggLSAxID49IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4W3Jvd0luZGV4ICsgMV1bY29sdW1uSW5kZXhdID09PSBwcmV2aW91c0JpdHNbbWF0cml4SW5kZXhdW3Jvd10gJiZcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4W3Jvd0luZGV4ICsgMV1bY29sdW1uSW5kZXggLSAxXSA9PT0gcHJldmlvdXNCaXRzW21hdHJpeEluZGV4XVtyb3ddKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3Jlc1ttYXRyaXhJbmRleF0gKz0gMztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29yZUZpbmRlclBhdHRlcm5PY2N1cmFuY2UobWF0cml4SW5kZXgsIHBhdHRlcm5zLCBzY29yZXMsIHJvdywgbWF0cml4W3Jvd0luZGV4XVtjb2x1bW5JbmRleF0pO1xuICAgICAgICAgICAgICAgIHNjb3JlRmluZGVyUGF0dGVybk9jY3VyYW5jZShtYXRyaXhJbmRleCwgcGF0dGVybnMsIHNjb3JlcywgY29sdW1uLCBtYXRyaXhbY29sdW1uSW5kZXhdW3Jvd0luZGV4XSk7XG4gICAgICAgICAgICAgICAgc2NvcmVBZGphY2VudFNhbWVCaXRzKG1hdHJpeEluZGV4LCBzY29yZXMsIHByZXZpb3VzQml0cywgbWF0cml4W3Jvd0luZGV4XVtjb2x1bW5JbmRleF0sIGFkamFjZW50U2FtZUJpdHMsIHJvdyk7XG4gICAgICAgICAgICAgICAgc2NvcmVBZGphY2VudFNhbWVCaXRzKG1hdHJpeEluZGV4LCBzY29yZXMsIHByZXZpb3VzQml0cywgbWF0cml4W2NvbHVtbkluZGV4XVtyb3dJbmRleF0sIGFkamFjZW50U2FtZUJpdHMsIGNvbHVtbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgdG90YWwgPSBtb2R1bGVzTGVuZ3RoICogbW9kdWxlc0xlbmd0aCxcbiAgICAgICAgbWluSWR4LFxuICAgICAgICBtaW4gPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNjb3Jlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzY29yZXNbaV0gKz0gY2FsY3VsYXRlRGFya01vZHVsZXNSYXRpb1Njb3JlKGRhcmtNb2R1bGVzW2ldLCB0b3RhbCk7XG5cbiAgICAgICAgaWYgKHNjb3Jlc1tpXSA8IG1pbikge1xuICAgICAgICAgICAgbWluID0gc2NvcmVzW2ldO1xuICAgICAgICAgICAgbWluSWR4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtaW5JZHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY29yZUZpbmRlclBhdHRlcm5PY2N1cmFuY2UoaWR4LCBwYXR0ZXJucywgc2NvcmVzLCByb3dDb2x1bW4sIGJpdCkge1xuICAgIHBhdHRlcm5zW2lkeF1bcm93Q29sdW1uXSA9ICgocGF0dGVybnNbaWR4XVtyb3dDb2x1bW5dIDw8IDEpIF4gYml0KSAlIDEyODtcblxuICAgIGlmIChwYXR0ZXJuc1tpZHhdW3Jvd0NvbHVtbl0gPT09IGZpbmRlclBhdHRlcm5WYWx1ZSkge1xuICAgICAgICBzY29yZXNbaWR4XSArPSA0MDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY29yZUFkamFjZW50U2FtZUJpdHMoaWR4LCBzY29yZXMsIHByZXZpb3VzQml0cywgYml0LCBhZGphY2VudEJpdHMsIHJvd0NvbHVtbikge1xuICAgIGlmIChwcmV2aW91c0JpdHNbaWR4XVtyb3dDb2x1bW5dID09PSBiaXQpIHtcbiAgICAgICAgYWRqYWNlbnRCaXRzW2lkeF1bcm93Q29sdW1uXSsrO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByZXZpb3VzQml0c1tpZHhdW3Jvd0NvbHVtbl0gPSBiaXQ7XG5cbiAgICAgICAgaWYgKGFkamFjZW50Qml0c1tpZHhdW3Jvd0NvbHVtbl0gPj0gNSkge1xuICAgICAgICAgICAgc2NvcmVzW2lkeF0gKz0gMyArIGFkamFjZW50Qml0c1tpZHhdW3Jvd0NvbHVtbl0gLSA1O1xuICAgICAgICB9XG5cbiAgICAgICAgYWRqYWNlbnRCaXRzW2lkeF1bcm93Q29sdW1uXSA9IDE7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRGFya01vZHVsZXNSYXRpb1Njb3JlKGRhcmtNb2R1bGVzLCB0b3RhbCkge1xuICAgIGxldCBwZXJjZW50ID0gTWF0aC5mbG9vcigoZGFya01vZHVsZXMgLyB0b3RhbCkgKiAxMDApLFxuICAgICAgICBtb2Q1ID0gcGVyY2VudCAlIDUsXG4gICAgICAgIHByZXZpb3VzID0gTWF0aC5hYnMocGVyY2VudCAtIG1vZDUgLSA1MCksXG4gICAgICAgIG5leHQgPSBNYXRoLmFicyhwZXJjZW50ICsgNSAtIG1vZDUgLSA1MCksXG4gICAgICAgIHNjb3JlID0gMTAgKiBNYXRoLm1pbihwcmV2aW91cyAvIDUsIG5leHQgLyA1KTtcblxuICAgIHJldHVybiBzY29yZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVFSQ29kZURhdGFFbmNvZGVyKGVuY29kaW5nKSB7XG4gICAgaWYgKGVuY29kaW5nICYmIGVuY29kaW5nLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcInV0Zl84XCIpID49IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVdGY4RW5jb2RlcigpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgSXNvRW5jb2RlcigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlRGF0YShpbnB1dFN0cmluZywgZXJyb3JDb3JyZWN0aW9uTGV2ZWwsIGVuY29kaW5nKSB7XG4gICAgbGV0IGVuY29kZXIgPSBjcmVhdGVRUkNvZGVEYXRhRW5jb2RlcihlbmNvZGluZyksXG4gICAgICAgIGVuY29kaW5nUmVzdWx0ID0gZW5jb2Rlci5nZXRFbmNvZGluZ1Jlc3VsdChpbnB1dFN0cmluZywgZXJyb3JDb3JyZWN0aW9uTGV2ZWwpLFxuICAgICAgICB2ZXJzaW9uID0gZW5jb2RpbmdSZXN1bHQudmVyc2lvbixcbiAgICAgICAgdmVyc2lvbkluZm9ybWF0aW9uID0gVmVyc2lvbnNDb2Rld29yZHNJbmZvcm1hdGlvblt2ZXJzaW9uIC0gMV1bZXJyb3JDb3JyZWN0aW9uTGV2ZWxdLFxuICAgICAgICBkYXRhU3RyaW5nID0gcGFkRGF0YVN0cmluZyhlbmNvZGluZ1Jlc3VsdC5kYXRhU3RyaW5nLCB2ZXJzaW9uSW5mb3JtYXRpb24udG90YWxEYXRhQ29kZXdvcmRzKSxcbiAgICAgICAgYmxvY2tzID0gZ2V0QmxvY2tzKGRhdGFTdHJpbmcsIHZlcnNpb25JbmZvcm1hdGlvbiksXG4gICAgICAgIG1hdHJpY2VzID0gaW5pdE1hdHJpY2VzKHZlcnNpb24pO1xuXG4gICAgYWRkRmluZGVyUGF0dGVybnMobWF0cmljZXMpO1xuICAgIGFkZEFsaWdubWVudFBhdHRlcm5zKG1hdHJpY2VzLCB2ZXJzaW9uKTtcbiAgICBhZGRUaW1pbmdGdW5jdGlvbnMobWF0cmljZXMpO1xuXG4gICAgaWYgKHZlcnNpb24gPj0gNykge1xuICAgICAgICBhZGRWZXJzaW9uSW5mb3JtYXRpb24obWF0cmljZXMsIHRvQml0c1N0cmluZygwLCAxOCkpO1xuICAgIH1cblxuICAgIGFkZEZvcm1hdEluZm9ybWF0aW9uKG1hdHJpY2VzLCB0b0JpdHNTdHJpbmcoMCwgMTUpKTtcbiAgICBmaWxsRGF0YShtYXRyaWNlcywgYmxvY2tzKTtcblxuICAgIGxldCBtaW5JZHggPSBzY29yZU1hc2tNYXRyaXhlcyhtYXRyaWNlcyksXG4gICAgICAgIG9wdGltYWxNYXRyaXggPSBtYXRyaWNlc1ttaW5JZHhdO1xuXG4gICAgaWYgKHZlcnNpb24gPj0gNykge1xuICAgICAgICBhZGRWZXJzaW9uSW5mb3JtYXRpb24oW29wdGltYWxNYXRyaXhdLCBlbmNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbikpO1xuICAgIH1cblxuICAgIGxldCBmb3JtYXRTdHJpbmcgPSBlcnJvckNvcnJlY3Rpb25QYXR0ZXJuc1tlcnJvckNvcnJlY3Rpb25MZXZlbF0gKyB0b0JpdHNTdHJpbmcobWluSWR4LCAzKTtcbiAgICBhZGRGb3JtYXRJbmZvcm1hdGlvbihbb3B0aW1hbE1hdHJpeF0sIGVuY29kZUZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdFN0cmluZykpO1xuXG4gICAgcmV0dXJuIG9wdGltYWxNYXRyaXg7XG59XG4iLCJpbXBvcnQge1xuICAgIGdlb21ldHJ5IGFzIGdlb20sXG4gICAgZHJhd2luZyBhcyBkcmF3XG59IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHtcbiAgICBDbGFzcyxcbiAgICBhZGRDbGFzcyxcbiAgICBzZXREZWZhdWx0T3B0aW9ucyxcbiAgICBkZWVwRXh0ZW5kLFxuICAgIGRlZmF1bHRFcnJvckhhbmRsZXJcbn0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyBlbmNvZGVEYXRhIH0gZnJvbSAnLi9lbmNvZGluZ3MvZW5jb2RpbmcnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi91dGlscyc7XG5cbmltcG9ydCB7IHN1cmZhY2VTaXplIH0gZnJvbSAnLi4vYmFyY29kZS9zdXJmYWNlLXNpemUnO1xuXG5jb25zdCByb3VuZCA9IE1hdGgucm91bmQ7XG5jb25zdCBjcm9zc1BhdHRlcm4gPSBbWzAsIDFdLCBbMSwgMV0sIFsxLCAyXSwgWzIsIDJdLCBbMiwgMV0sIFszLCAxXSwgWzMsIDBdLCBbMiwgMF0sIFsyLCAtMV0sIFsxLCAtMV0sIFsxLCAwXV07XG5jb25zdCBzcXVhcmVQYXR0ZXJuID0gW1swLCAxXSwgWzEsIDFdLCBbMSwgMF1dO1xuXG5jb25zdCBRUkNvZGVEZWZhdWx0cyA9IHtcbiAgICBERUZBVUxUX1NJWkU6IDIwMCxcbiAgICBRVUlFVF9aT05FX0xFTkdUSDogNCxcbiAgICBERUZBVUxUX0VSUk9SX0NPUlJFQ1RJT05fTEVWRUw6IFwiTFwiLFxuICAgIERFRkFVTFRfQkFDS0dST1VORDogXCIjZmZmXCIsXG4gICAgREVGQVVMVF9EQVJLX01PRFVMRV9DT0xPUjogXCIjMDAwXCIsXG4gICAgTUlOX0JBU0VfVU5JVF9TSVpFOiAxLFxuICAgIERFRkFVTFRfTE9HT19TSVpFOiA3XG59O1xuXG5jbGFzcyBRUkNvZGUgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucywgZXJyb3JIYW5kbGVyID0gZGVmYXVsdEVycm9ySGFuZGxlcikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgdGhpcy5vbkVycm9yID0gZXJyb3JIYW5kbGVyO1xuXG4gICAgICAgIHRoaXMuX2luaXRFbGVtZW50KCk7XG4gICAgICAgIHRoaXMuX2luaXRTdXJmYWNlKCk7XG5cbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lTdXJmYWNlKCk7XG4gICAgfVxuXG4gICAgX2luaXRFbGVtZW50KCkge1xuICAgICAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnQsIFwiay1xcmNvZGVcIik7XG4gICAgfVxuXG4gICAgX2luaXRTdXJmYWNlKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHN1cmZhY2UgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFzdXJmYWNlIHx8IHN1cmZhY2Uub3B0aW9ucy50eXBlICE9PSBvcHRpb25zLnJlbmRlckFzKSB7XG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95U3VyZmFjZSgpO1xuICAgICAgICAgICAgdGhpcy5faW5pdFN1cmZhY2VFbGVtZW50KCk7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UgPSB0aGlzLl9jcmVhdGVTdXJmYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlU3VyZmFjZSgpIHtcbiAgICAgICAgcmV0dXJuIGRyYXcuU3VyZmFjZS5jcmVhdGUodGhpcy5zdXJmYWNlRWxlbWVudCwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnJlbmRlckFzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9kZXN0cm95U3VyZmFjZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VyZmFjZSkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95U3VyZmFjZUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbml0U3VyZmFjZUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdXJmYWNlRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnN1cmZhY2VFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kZXN0cm95U3VyZmFjZUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN1cmZhY2VFbGVtZW50ICYmIHRoaXMuc3VyZmFjZUVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc3VyZmFjZUVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWRyYXcoKSB7XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5fZ2V0U2l6ZSgpO1xuXG4gICAgICAgIHRoaXMuc3VyZmFjZS5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuc3VyZmFjZS5zZXRTaXplKHtcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgdGhpcy5zdXJmYWNlLmRyYXcodGhpcy52aXN1YWwpO1xuICAgIH1cblxuICAgIGdldFNpemUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRXaWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRIZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuXG4gICAgICAgIGlmIChlbGVtZW50V2lkdGggPiAwKSB7XG4gICAgICAgICAgICBzaXplLndpZHRoID0gZWxlbWVudFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsZW1lbnRIZWlnaHQpIHtcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0ID0gZWxlbWVudEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICB0aGlzLnZpc3VhbCA9IHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIGV4cG9ydFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIF9yZW5kZXIoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX3ZhbHVlLFxuICAgICAgICAgICAgYmFzZVVuaXQsXG4gICAgICAgICAgICBib3JkZXIgPSB0aGlzLm9wdGlvbnMuYm9yZGVyIHx8IHt9LFxuICAgICAgICAgICAgcGFkZGluZyA9IHRoaXMub3B0aW9ucy5wYWRkaW5nIHx8IDAsXG4gICAgICAgICAgICBib3JkZXJXaWR0aCA9IGJvcmRlci53aWR0aCB8fCAwLFxuICAgICAgICAgICAgcXVpZXRab25lU2l6ZSxcbiAgICAgICAgICAgIG1hdHJpeCxcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBkYXRhU2l6ZSxcbiAgICAgICAgICAgIGNvbnRlbnRTaXplO1xuXG4gICAgICAgIGJvcmRlci53aWR0aCA9IGJvcmRlcldpZHRoO1xuXG4gICAgICAgIGxldCB2aXN1YWwgPSBuZXcgZHJhdy5Hcm91cCgpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBlbmNvZGVEYXRhKHZhbHVlLCB0aGlzLm9wdGlvbnMuZXJyb3JDb3JyZWN0aW9uLCB0aGlzLm9wdGlvbnMuZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIHNpemUgPSB0aGlzLl9nZXRTaXplKCk7XG4gICAgICAgICAgICAgICAgY29udGVudFNpemUgPSBzaXplIC0gMiAqIChib3JkZXJXaWR0aCArIHBhZGRpbmcpO1xuICAgICAgICAgICAgICAgIGJhc2VVbml0ID0gdGhpcy5fY2FsY3VsYXRlQmFzZVVuaXQoY29udGVudFNpemUsIG1hdHJpeC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGRhdGFTaXplID0gbWF0cml4Lmxlbmd0aCAqIGJhc2VVbml0O1xuICAgICAgICAgICAgICAgIHF1aWV0Wm9uZVNpemUgPSBib3JkZXJXaWR0aCArIHBhZGRpbmcgKyAoY29udGVudFNpemUgLSBkYXRhU2l6ZSkgLyAyO1xuXG4gICAgICAgICAgICAgICAgdmlzdWFsLmFwcGVuZCh0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKHNpemUsIGJvcmRlcikpO1xuICAgICAgICAgICAgICAgIHZpc3VhbC5hcHBlbmQodGhpcy5fcmVuZGVyTWF0cml4KG1hdHJpeCwgYmFzZVVuaXQsIHF1aWV0Wm9uZVNpemUpKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9oYXNDdXN0b21Mb2dvKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzdWFsLmFwcGVuZCh0aGlzLl9yZW5kZXJMb2dvKHNpemUsIGJhc2VVbml0KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9pc1N3aXNzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzdWFsLmFwcGVuZCh0aGlzLl9yZW5kZXJTd2lzc0NvZGUoc2l6ZSwgYmFzZVVuaXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZpc3VhbDtcbiAgICB9XG5cbiAgICBfcmVuZGVyTG9nbyhxclNpemUsIGJhc2VVbml0KSB7XG4gICAgICAgIGxldCBpbWFnZTtcbiAgICAgICAgbGV0IGltYWdlUmVjdDtcbiAgICAgICAgbGV0IGNlbnRlciA9IHJvdW5kKHFyU2l6ZSAvIDIpO1xuICAgICAgICBsZXQgbG9nb1NpemUgPSB0aGlzLl9nZXRMb2dvU2l6ZShiYXNlVW5pdCAqIFFSQ29kZURlZmF1bHRzLkRFRkFVTFRfTE9HT19TSVpFKTtcbiAgICAgICAgbGV0IGxvZ29VcmwgPSB0aGlzLm9wdGlvbnMub3ZlcmxheS5pbWFnZVVybDtcbiAgICAgICAgbGV0IHBvc2l0aW9uID0ge1xuICAgICAgICAgICAgeDogY2VudGVyIC0gbG9nb1NpemUud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogY2VudGVyIC0gbG9nb1NpemUuaGVpZ2h0IC8gMlxuICAgICAgICB9O1xuXG4gICAgICAgIGltYWdlUmVjdCA9IG5ldyBnZW9tLlJlY3QoXG4gICAgICAgICAgICBuZXcgZ2VvbS5Qb2ludChwb3NpdGlvbi54LCBwb3NpdGlvbi55KSxcbiAgICAgICAgICAgIG5ldyBnZW9tLlNpemUobG9nb1NpemUud2lkdGgsIGxvZ29TaXplLmhlaWdodClcbiAgICAgICAgKTtcblxuICAgICAgICBpbWFnZSA9IG5ldyBkcmF3LkltYWdlKGxvZ29VcmwsIGltYWdlUmVjdCk7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIF9yZW5kZXJTd2lzc0NvZGUocXJTaXplLCBiYXNlVW5pdCkge1xuICAgICAgICBsZXQgbG9nb1NpemUgPSB0aGlzLl9nZXRMb2dvU2l6ZShiYXNlVW5pdCAqIFFSQ29kZURlZmF1bHRzLkRFRkFVTFRfTE9HT19TSVpFKTtcbiAgICAgICAgbG9nb1NpemUgPSBNYXRoLm1heChsb2dvU2l6ZS53aWR0aCwgbG9nb1NpemUuaGVpZ2h0KTtcbiAgICAgICAgbGV0IGNyb3NzU2l6ZSA9IGxvZ29TaXplIC8gNDtcbiAgICAgICAgbGV0IGNyb3NzT2Zmc2V0ID0gY3Jvc3NTaXplIC8gMjtcbiAgICAgICAgbGV0IGNlbnRlciA9IHFyU2l6ZSAvIDI7XG4gICAgICAgIGxldCBzdGFydCA9IHt9O1xuICAgICAgICBsZXQgdmlzdWFsID0gbmV3IGRyYXcuR3JvdXAoKTtcblxuICAgICAgICBzdGFydC54ID0gc3RhcnQueSA9IE1hdGguY2VpbChjZW50ZXIgLSBiYXNlVW5pdCAtIGxvZ29TaXplIC8gMik7XG4gICAgICAgIHZpc3VhbC5hcHBlbmQodGhpcy5fcmVuZGVyU2hhcGUoc3RhcnQsIE1hdGguY2VpbChsb2dvU2l6ZSArIGJhc2VVbml0ICogMiksIHNxdWFyZVBhdHRlcm4sIFwiI2ZmZlwiKSk7XG5cbiAgICAgICAgc3RhcnQueCA9IHN0YXJ0LnkgPSBjZW50ZXIgLSBsb2dvU2l6ZSAvIDI7XG4gICAgICAgIHZpc3VhbC5hcHBlbmQodGhpcy5fcmVuZGVyU2hhcGUoc3RhcnQsIGxvZ29TaXplLCBzcXVhcmVQYXR0ZXJuLCB0aGlzLm9wdGlvbnMuY29sb3IpKTtcblxuICAgICAgICBzdGFydC54ID0gY2VudGVyICsgY3Jvc3NPZmZzZXQgLSBsb2dvU2l6ZSAvIDI7XG4gICAgICAgIHN0YXJ0LnkgPSBjZW50ZXIgKyBjcm9zc09mZnNldCArIGNyb3NzU2l6ZSAtIGxvZ29TaXplIC8gMjtcbiAgICAgICAgdmlzdWFsLmFwcGVuZCh0aGlzLl9yZW5kZXJTaGFwZShzdGFydCwgY3Jvc3NTaXplLCBjcm9zc1BhdHRlcm4sIFwiI2ZmZlwiKSk7XG5cbiAgICAgICAgcmV0dXJuIHZpc3VhbDtcbiAgICB9XG5cbiAgICBfcmVuZGVyU2hhcGUoc3RhcnQsIHN0ZXAsIHBhdHRlcm4sIGNvbG9yKSB7XG4gICAgICAgIGxldCBwYXRoID0gbmV3IGRyYXcuTXVsdGlQYXRoKHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGF0aC5tb3ZlVG8oc3RhcnQueCwgc3RhcnQueSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXRoLmxpbmVUbyhzdGFydC54ICsgc3RlcCAqIHBhdHRlcm5baV1bMF0sIHN0YXJ0LnkgKyBzdGVwICogcGF0dGVybltpXVsxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXRoLmNsb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuXG4gICAgX2dldFNpemUoKSB7XG4gICAgICAgIGxldCBzaXplO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2l6ZSkge1xuICAgICAgICAgICAgc2l6ZSA9IHBhcnNlSW50KHRoaXMub3B0aW9ucy5zaXplLCAxMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFNpemUgPSBzdXJmYWNlU2l6ZShlbGVtZW50LCB0aGlzLm9wdGlvbnMucmVuZGVyQXMpO1xuICAgICAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4oZWxlbWVudFNpemUud2lkdGgsIGVsZW1lbnRTaXplLmhlaWdodCk7XG5cbiAgICAgICAgICAgIGlmIChtaW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IG1pbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IFFSQ29kZURlZmF1bHRzLkRFRkFVTFRfU0laRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cblxuICAgIF9jYWxjdWxhdGVCYXNlVW5pdChzaXplLCBtYXRyaXhTaXplKSB7XG4gICAgICAgIGxldCBiYXNlVW5pdCA9IE1hdGguZmxvb3Ioc2l6ZSAvIG1hdHJpeFNpemUpO1xuXG4gICAgICAgIGlmIChiYXNlVW5pdCA8IFFSQ29kZURlZmF1bHRzLk1JTl9CQVNFX1VOSVRfU0laRSkge1xuICAgICAgICAgICAgY29uc3QgbWluU2l6ZSA9IE1hdGguY2VpbChtYXRyaXhTaXplICogUVJDb2RlRGVmYXVsdHMuTUlOX0JBU0VfVU5JVF9TSVpFKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgYEluc3VmZmljaWVudCBzaXplIGZvciBRUiBDb2RlOiB0aGUgY3VycmVudCBzaXplIGlzICR7c2l6ZX1weCBhbmQgdGhlIG1pbmltdW0gc2l6ZSBpcyAke21pblNpemV9cHguYFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYmFzZVVuaXQgKiBtYXRyaXhTaXplID49IHNpemUgJiZcbiAgICAgICAgICAgIGJhc2VVbml0IC0gMSA+PSBRUkNvZGVEZWZhdWx0cy5NSU5fQkFTRV9VTklUX1NJWkUpIHtcbiAgICAgICAgICAgIGJhc2VVbml0LS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVVuaXQ7XG4gICAgfVxuXG4gICAgX3JlbmRlck1hdHJpeChtYXRyaXgsIGJhc2VVbml0LCBxdWlldFpvbmVTaXplKSB7XG4gICAgICAgIGxldCBwYXRoID0gbmV3IGRyYXcuTXVsdGlQYXRoKHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLmNvbG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IG1hdHJpeC5sZW5ndGg7IHJvdysrKSB7XG4gICAgICAgICAgICBsZXQgeSA9IHF1aWV0Wm9uZVNpemUgKyByb3cgKiBiYXNlVW5pdDtcbiAgICAgICAgICAgIGxldCBjb2x1bW4gPSAwO1xuXG4gICAgICAgICAgICB3aGlsZSAoY29sdW1uIDwgbWF0cml4Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChtYXRyaXhbcm93XVtjb2x1bW5dID09PSAwICYmIGNvbHVtbiA8IG1hdHJpeC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uKys7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbiA8IG1hdHJpeC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChtYXRyaXhbcm93XVtjb2x1bW5dID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4rKztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCB4MSA9IHJvdW5kKHF1aWV0Wm9uZVNpemUgKyB4ICogYmFzZVVuaXQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgeTEgPSByb3VuZCh5KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHgyID0gcm91bmQocXVpZXRab25lU2l6ZSArIGNvbHVtbiAqIGJhc2VVbml0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkyID0gcm91bmQoeSArIGJhc2VVbml0KTtcblxuICAgICAgICAgICAgICAgICAgICBwYXRoLm1vdmVUbyh4MSwgeTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAubGluZVRvKHgxLCB5MilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lVG8oeDIsIHkyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmxpbmVUbyh4MiwgeTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG5cbiAgICBfcmVuZGVyQmFja2dyb3VuZChzaXplLCBib3JkZXIpIHtcbiAgICAgICAgY29uc3QgYm94ID0gbmV3IEJveCgwLCAwLCBzaXplLCBzaXplKS51bnBhZChib3JkZXIud2lkdGggLyAyKTtcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IGRyYXcuUGF0aC5mcm9tUmVjdChib3gudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLmJhY2tncm91bmRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyLmNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGJhY2tncm91bmQ7XG4gICAgfVxuXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGxldCBuZXdPcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHRoaXMub3B0aW9ucywgbmV3T3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBTdHJpbmcodGhpcy5vcHRpb25zLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2luaXRTdXJmYWNlKCk7XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfVxuXG4gICAgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gU3RyaW5nKHZhbHVlKTtcblxuICAgICAgICB0aGlzLnJlZHJhdygpO1xuICAgIH1cblxuICAgIF9oYXNDdXN0b21Mb2dvKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLm9wdGlvbnMub3ZlcmxheS5pbWFnZVVybCk7XG4gICAgfVxuXG4gICAgX2lzU3dpc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMub3ZlcmxheS50eXBlID09PSBcInN3aXNzXCI7XG4gICAgfVxuXG4gICAgX2dldExvZ29TaXplKGRlZmF1dExvZ29TaXplKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMub3B0aW9ucy5vdmVybGF5LndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5vcHRpb25zLm92ZXJsYXkuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghd2lkdGggJiYgIWhlaWdodCkge1xuICAgICAgICAgICAgd2lkdGggPSBoZWlnaHQgPSBkZWZhdXRMb2dvU2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmICh3aWR0aCAmJiAhaGVpZ2h0KSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB3aWR0aDtcbiAgICAgICAgfSBlbHNlIGlmICghd2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgICAgICB3aWR0aCA9IGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUVJDb2RlLCB7XG4gICAgbmFtZTogXCJRUkNvZGVcIixcbiAgICByZW5kZXJBczogXCJzdmdcIixcbiAgICBlbmNvZGluZzogXCJJU09fODg1OV8xXCIsXG4gICAgdmFsdWU6IFwiXCIsXG4gICAgZXJyb3JDb3JyZWN0aW9uOiBRUkNvZGVEZWZhdWx0cy5ERUZBVUxUX0VSUk9SX0NPUlJFQ1RJT05fTEVWRUwsXG4gICAgYmFja2dyb3VuZDogUVJDb2RlRGVmYXVsdHMuREVGQVVMVF9CQUNLR1JPVU5ELFxuICAgIGNvbG9yOiBRUkNvZGVEZWZhdWx0cy5ERUZBVUxUX0RBUktfTU9EVUxFX0NPTE9SLFxuICAgIHNpemU6IFwiXCIsXG4gICAgcGFkZGluZzogMCxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgY29sb3I6IFwiXCIsXG4gICAgICAgIHdpZHRoOiAwXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIHR5cGU6IFwiaW1hZ2VcIixcbiAgICAgICAgaW1hZ2VVcmw6IFwiXCIsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDBcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUVJDb2RlO1xuIiwiaW1wb3J0IHsgZW5jb2RlRGF0YSB9IGZyb20gJy4vZW5jb2RpbmdzL2VuY29kaW5nJztcblxuY29uc3QgSVNPID0gJ0lTT184ODU5XzEnO1xuXG5mdW5jdGlvbiBxcmNvZGVWYWxpZGF0b3IoZW5jb2RpbmcgPSBJU08pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGVuY29kZURhdGEodmFsdWUsICdMJywgZW5jb2RpbmcpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsaWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBxcmNvZGVWYWxpZGF0b3I7XG4iLCIvLyBDb29yZGluYXRlIHJlZmVyZW5jZSBzeXN0ZW1cbi8vIFdvcmxkIEdlb2RldGljIFN5c3RlbSBvZiAxOTg0XG5jb25zdCBXR1M4NCA9IHtcbiAgICBhOiA2Mzc4MTM3LCAgICAgICAgICAgICAgICAgLy8gU2VtaS1tYWpvciByYWRpdXNcbiAgICBiOiA2MzU2NzUyLjMxNDI0NTE3OSwgICAgICAgLy8gU2VtaS1taW5vciByYWRpdXNcbiAgICBmOiAwLjAwMzM1MjgxMDY2NDc0NzQ4MDUsICAgLy8gRmxhdHRlbmluZ1xuICAgIGU6IDAuMDgxODE5MTkwODQyNjIxNDkgICAgICAvLyBFY2NlbnRyaWNpdHlcbn07XG5cbi8vIEdlb2dyYXBoaWMgY29vcmRpbmF0ZSBzeXN0ZW1zIHVzZSBhIHNwaGVyb2lkIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbnMgb24gdGhlIGVhcnRoLlxuLy8gQSBkYXR1bSBkZWZpbmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgc3BoZXJvaWQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiB0aGUgZWFydGhcbi8vIGl0IHByb3ZpZGVzIGEgZnJhbWUgb2YgcmVmZXJlbmNlIGZvciBtZWFzdXJpbmcgbG9jYXRpb25zIG9uIHRoZSBzdXJmYWNlIG9mIHRoZSBlYXJ0aFxuLy8gYW5kIGRlZmluZXMgdGhlIG9yaWdpbiBhbmQgb3JpZW50YXRpb24gb2YgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBsaW5lcy5cbmV4cG9ydCBjb25zdCBkYXR1bXMgPSB7XG4gICAgV0dTODRcbn07XG4iLCJpbXBvcnQge1xuICAgIENsYXNzLFxuICAgIGRlZXBFeHRlbmQsXG4gICAgZGVnLFxuICAgIHJhZCxcbiAgICByb3VuZCxcbiAgICBkZWZpbmVkXG59IGZyb20gJy4uL2NvbW1vbic7XG5cbmltcG9ydCB7XG4gICAgZGF0dW1zXG59IGZyb20gJy4vZGF0dW1zJztcblxuZnVuY3Rpb24gdG9TcXVhcmUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgKiB2YWx1ZTtcbn1cblxuXG5sZXQgbWF0aCA9IE1hdGgsXG4gICAgYWJzID0gbWF0aC5hYnMsXG4gICAgYXRhbiA9IG1hdGguYXRhbixcbiAgICBhdGFuMiA9IG1hdGguYXRhbjIsXG4gICAgY29zID0gbWF0aC5jb3MsXG4gICAgc2luID0gbWF0aC5zaW4sXG4gICAgdGFuID0gbWF0aC50YW47XG5cbmV4cG9ydCBjbGFzcyBMb2NhdGlvbiBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihsYXQsIGxuZykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5sYXQgPSBsYXRbMF07XG4gICAgICAgICAgICB0aGlzLmxuZyA9IGxhdFsxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGF0ID0gbGF0O1xuICAgICAgICAgICAgdGhpcy5sbmcgPSBsbmc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgZGVlcEV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBESVNUQU5DRV9JVEVSQVRJT05TOiAxMDAsXG4gICAgICAgICAgICBESVNUQU5DRV9DT05WRVJHRU5DRTogMWUtMTIsXG4gICAgICAgICAgICBESVNUQU5DRV9QUkVDSVNJT046IDIsXG4gICAgICAgICAgICBGT1JNQVQ6ICd7MDpONn17MTpONn0nXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB0aGlzLmxhdCxcbiAgICAgICAgICAgIHRoaXMubG5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZXF1YWxzKGxvYykge1xuICAgICAgICByZXR1cm4gbG9jICYmIGxvYy5sYXQgPT09IHRoaXMubGF0ICYmIGxvYy5sbmcgPT09IHRoaXMubG5nO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IExvY2F0aW9uKHRoaXMubGF0LCB0aGlzLmxuZyk7XG4gICAgfVxuXG4gICAgcm91bmQocHJlY2lzaW9uKSB7XG4gICAgICAgIHRoaXMubG5nID0gcm91bmQodGhpcy5sbmcsIHByZWNpc2lvbik7XG4gICAgICAgIHRoaXMubGF0ID0gcm91bmQodGhpcy5sYXQsIHByZWNpc2lvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHdyYXAoKSB7XG4gICAgICAgIHRoaXMubG5nID0gdGhpcy5sbmcgJSAxODA7XG4gICAgICAgIHRoaXMubGF0ID0gdGhpcy5sYXQgJSA5MDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGlzdGFuY2VUbyhkZXN0LCBkYXR1bSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmVhdENpcmNsZVRvKGRlc3QsIGRhdHVtKS5kaXN0YW5jZTtcbiAgICB9XG5cbiAgICBkZXN0aW5hdGlvbihkaXN0YW5jZSwgaW5pdGlhbEJlYXJpbmcsIGluaXRpYWxEYXR1bSkge1xuICAgICAgICBsZXQgYmVhcmluZyA9IHJhZChpbml0aWFsQmVhcmluZyk7XG4gICAgICAgIGxldCBkYXR1bSA9IGluaXRpYWxEYXR1bSB8fCBkYXR1bXMuV0dTODQ7XG4gICAgICAgIGxldCBmcm9tTGF0ID0gcmFkKHRoaXMubGF0KTtcbiAgICAgICAgbGV0IGZyb21MbmcgPSByYWQodGhpcy5sbmcpO1xuICAgICAgICBsZXQgZFRvUiA9IGRpc3RhbmNlIC8gZGF0dW0uYTtcbiAgICAgICAgbGV0IGxhdCA9IG1hdGguYXNpbihzaW4oZnJvbUxhdCkgKiBjb3MoZFRvUikgKyBjb3MoZnJvbUxhdCkgKiBzaW4oZFRvUikgKiBjb3MoYmVhcmluZykpO1xuICAgICAgICBsZXQgbG5nID0gZnJvbUxuZyArIGF0YW4yKHNpbihiZWFyaW5nKSAqIHNpbihkVG9SKSAqIGNvcyhmcm9tTGF0KSwgY29zKGRUb1IpIC0gc2luKGZyb21MYXQpICogc2luKGxhdCkpO1xuXG4gICAgICAgIHJldHVybiBuZXcgTG9jYXRpb24oZGVnKGxhdCksIGRlZyhsbmcpKTtcbiAgICB9XG5cbiAgICBncmVhdENpcmNsZVRvKGluaXRpYWxEZXN0LCBpbml0aWFsRGF0dW0pIHtcbiAgICAgICAgbGV0IGRlc3QgPSBMb2NhdGlvbi5jcmVhdGUoZGVzdCk7XG4gICAgICAgIGxldCBkYXR1bSA9IGluaXRpYWxEYXR1bSB8fCBkYXR1bXMuV0dTODQ7XG5cbiAgICAgICAgaWYgKCFkZXN0IHx8IHRoaXMuY2xvbmUoKS5yb3VuZCg4KS5lcXVhbHMoZGVzdC5jbG9uZSgpLnJvdW5kKDgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgICAgICAgICAgICBhemltdXRoRnJvbTogMCxcbiAgICAgICAgICAgICAgICBhemltdXRoVG86IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WaW5jZW50eSdzX2Zvcm11bGFlI05vdGF0aW9uXG4gICAgICAgIC8vIG8gPT0gc2lnbWFcbiAgICAgICAgLy8gQSA9PSBhbHBoYVxuXG4gICAgICAgIGxldCBhID0gZGF0dW0uYTtcbiAgICAgICAgbGV0IGIgPSBkYXR1bS5iO1xuICAgICAgICBsZXQgZiA9IGRhdHVtLmY7XG4gICAgICAgIGxldCBMID0gcmFkKGRlc3QubG5nIC0gdGhpcy5sbmcpO1xuICAgICAgICBsZXQgVTEgPSBhdGFuKCgxIC0gZikgKiB0YW4ocmFkKHRoaXMubGF0KSkpO1xuICAgICAgICBsZXQgc2luVTEgPSBzaW4oVTEpO1xuICAgICAgICBsZXQgY29zVTEgPSBjb3MoVTEpO1xuICAgICAgICBsZXQgVTIgPSBhdGFuKCgxIC0gZikgKiB0YW4ocmFkKGRlc3QubGF0KSkpO1xuICAgICAgICBsZXQgc2luVTIgPSBzaW4oVTIpO1xuICAgICAgICBsZXQgY29zVTIgPSBjb3MoVTIpO1xuICAgICAgICBsZXQgbGFtYmRhID0gTDtcbiAgICAgICAgbGV0IHByZXZMYW1iZGE7XG4gICAgICAgIGxldCBpID0gdGhpcy5ESVNUQU5DRV9JVEVSQVRJT05TO1xuICAgICAgICBsZXQgY29udmVyZ2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBzaW5MYW1iZGE7XG4gICAgICAgIGxldCBjb3NMYW1iZGE7XG4gICAgICAgIGxldCBzaW5vO1xuICAgICAgICBsZXQgY29zQTI7XG4gICAgICAgIGxldCBjb3NvO1xuICAgICAgICBsZXQgY29zMm9tO1xuICAgICAgICBsZXQgc2lnbWE7XG5cbiAgICAgICAgd2hpbGUgKCFjb252ZXJnZWQgJiYgaS0tID4gMCkge1xuICAgICAgICAgICAgc2luTGFtYmRhID0gc2luKGxhbWJkYSk7XG4gICAgICAgICAgICBjb3NMYW1iZGEgPSBjb3MobGFtYmRhKTtcbiAgICAgICAgICAgIHNpbm8gPSBtYXRoLnNxcnQodG9TcXVhcmUoY29zVTIgKiBzaW5MYW1iZGEpICsgdG9TcXVhcmUoY29zVTEgKiBzaW5VMiAtIHNpblUxICogY29zVTIgKiBjb3NMYW1iZGEpKTtcbiAgICAgICAgICAgIGNvc28gPSBzaW5VMSAqIHNpblUyICsgY29zVTEgKiBjb3NVMiAqIGNvc0xhbWJkYTtcbiAgICAgICAgICAgIHNpZ21hID0gYXRhbjIoc2lubywgY29zbyk7XG5cbiAgICAgICAgICAgIGxldCBzaW5BID0gY29zVTEgKiBjb3NVMiAqIHNpbkxhbWJkYSAvIHNpbm87XG4gICAgICAgICAgICBjb3NBMiA9IDEgLSB0b1NxdWFyZShzaW5BKTtcbiAgICAgICAgICAgIGNvczJvbSA9IDA7XG5cbiAgICAgICAgICAgIGlmIChjb3NBMiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvczJvbSA9IGNvc28gLSAyICogc2luVTEgKiBzaW5VMiAvIGNvc0EyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcmV2TGFtYmRhID0gbGFtYmRhO1xuICAgICAgICAgICAgbGV0IEMgPSBmIC8gMTYgKiBjb3NBMiAqICg0ICsgZiAqICg0IC0gMyAqIGNvc0EyKSk7XG4gICAgICAgICAgICBsYW1iZGEgPSBMICsgKDEgLSBDKSAqIGYgKiBzaW5BICogKHNpZ21hICsgQyAqIHNpbm8gKiAoY29zMm9tICsgQyAqIGNvc28gKiAoLTEgKyAyICogdG9TcXVhcmUoY29zMm9tKSkpKTtcbiAgICAgICAgICAgIGNvbnZlcmdlZCA9IGFicyhsYW1iZGEgLSBwcmV2TGFtYmRhKSA8PSB0aGlzLkRJU1RBTkNFX0NPTlZFUkdFTkNFO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHUyID0gY29zQTIgKiAodG9TcXVhcmUoYSkgLSB0b1NxdWFyZShiKSkgLyB0b1NxdWFyZShiKTtcbiAgICAgICAgbGV0IEEgPSAxICsgdTIgLyAxNjM4NCAqICg0MDk2ICsgdTIgKiAoLTc2OCArIHUyICogKDMyMCAtIDE3NSAqIHUyKSkpO1xuICAgICAgICBsZXQgQiA9IHUyIC8gMTAyNCAqICgyNTYgKyB1MiAqICgtMTI4ICsgdTIgKiAoNzQgLSA0NyAqIHUyKSkpO1xuICAgICAgICBsZXQgZGVsdGFvID0gQiAqIHNpbm8gKiAoY29zMm9tICsgQiAvIDQgKiAoY29zbyAqICgtMSArIDIgKiB0b1NxdWFyZShjb3Myb20pKSAtIEIgLyA2ICogY29zMm9tICogKC0zICsgNCAqIHRvU3F1YXJlKHNpbm8pKSAqICgtMyArIDQgKiB0b1NxdWFyZShjb3Myb20pKSkpO1xuXG4gICAgICAgIGxldCBhemltdXRoRnJvbSA9IGF0YW4yKGNvc1UyICogc2luTGFtYmRhLCBjb3NVMSAqIHNpblUyIC0gc2luVTEgKiBjb3NVMiAqIGNvc0xhbWJkYSk7XG4gICAgICAgIGxldCBhemltdXRoVG8gPSBhdGFuMihjb3NVMSAqIHNpbkxhbWJkYSwgLXNpblUxICogY29zVTIgKyBjb3NVMSAqIHNpblUyICogY29zTGFtYmRhKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzdGFuY2U6IHJvdW5kKGIgKiBBICogKHNpZ21hIC0gZGVsdGFvKSwgdGhpcy5ESVNUQU5DRV9QUkVDSVNJT04pLFxuICAgICAgICAgICAgYXppbXV0aEZyb206IGRlZyhhemltdXRoRnJvbSksXG4gICAgICAgICAgICBhemltdXRoVG86IGRlZyhhemltdXRoVG8pXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSUUgPCA5IGRvZXNuJ3QgYWxsb3cgdG8gb3ZlcnJpZGUgdG9TdHJpbmcgb24gZGVmaW5pdGlvblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAvLyByZXR1cm4ga2VuZG8uZm9ybWF0KHRoaXMuRk9STUFULCB0aGlzLmxhdCwgdGhpcy5sbmcpO1xuICAgICAgICByZXR1cm4gU3RyaW5nKHRoaXMubGF0KSArIFwiLFwiICsgU3RyaW5nKHRoaXMubG5nKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUxuZ0xhdChsbmdBbmRMYXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihsbmdBbmRMYXRbMV0sIGxuZ0FuZExhdFswXSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21MYXRMbmcobG5nQW5kTGF0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9jYXRpb24obG5nQW5kTGF0WzBdLCBsbmdBbmRMYXRbMV0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUoYSwgYikge1xuICAgICAgICBpZiAoZGVmaW5lZChhKSkge1xuICAgICAgICAgICAgaWYgKGEgaW5zdGFuY2VvZiBMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLmNsb25lKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgYS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9jYXRpb24uZnJvbUxhdExuZyhhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihhLCBiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgZ2VvbWV0cnkgYXMgZ1xufSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7XG4gICAgQ2xhc3MsXG4gICAgc2V0RGVmYXVsdE9wdGlvbnMsXG4gICAgbGltaXRWYWx1ZSxcbiAgICByYWQsXG4gICAgZGVnLFxuICAgIGRlZXBFeHRlbmRcbn0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IHtcbiAgICBMb2NhdGlvblxufSBmcm9tICcuL2xvY2F0aW9uJztcblxuaW1wb3J0IHtcbiAgICBkYXR1bXNcbn0gZnJvbSAnLi9kYXR1bXMnO1xuXG5cbmxldCBtYXRoID0gTWF0aCxcbiAgICBhdGFuID0gbWF0aC5hdGFuLFxuICAgIGV4cCA9IG1hdGguZXhwLFxuICAgIHBvdyA9IG1hdGgucG93LFxuICAgIHNpbiA9IG1hdGguc2luLFxuICAgIGxvZyA9IG1hdGgubG9nLFxuICAgIHRhbiA9IG1hdGgudGFuLFxuICAgIFBvaW50ID0gZy5Qb2ludDtcblxubGV0IFBJID0gbWF0aC5QSSxcbiAgICBQSV9ESVZfMiA9IFBJIC8gMixcbiAgICBQSV9ESVZfNCA9IFBJIC8gNCxcbiAgICBERUdfVE9fUkFEID0gUEkgLyAxODA7XG5cbmxldCBXR1M4NCA9IGRhdHVtcy5XR1M4NDtcblxuLy8gV0dTIDg0IC8gV29ybGQgTWVyY2F0b3JcbmV4cG9ydCBjbGFzcyBNZXJjYXRvciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdFByb3BlcnRpZXMoKTtcbiAgICAgICAgdGhpcy5faW5pdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgX2luaXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpbml0UHJvcGVydGllcygpIHtcbiAgICAgICAgLy8gc3VwZXIuaW5pdFByb3BlcnRpZXMoKTtcblxuICAgICAgICBkZWVwRXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIE1BWF9MTkc6IDE4MCxcbiAgICAgICAgICAgIE1BWF9MQVQ6IDg1LjA4NDA1OTA1MDEsXG4gICAgICAgICAgICBJTlZFUlNFX0lURVJBVElPTlM6IDE1LFxuICAgICAgICAgICAgSU5WRVJTRV9DT05WRVJHRU5DRTogMWUtMTJcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yd2FyZChsb2MsIGNsYW1wKSB7XG4gICAgICAgIGxldCBwcm9qID0gdGhpcyxcbiAgICAgICAgICAgIG9wdGlvbnMgPSBwcm9qLm9wdGlvbnMsXG4gICAgICAgICAgICBkYXR1bSA9IG9wdGlvbnMuZGF0dW0sXG4gICAgICAgICAgICByID0gZGF0dW0uYSxcbiAgICAgICAgICAgIGxuZzAgPSBvcHRpb25zLmNlbnRyYWxNZXJpZGlhbixcbiAgICAgICAgICAgIGxhdCA9IGxpbWl0VmFsdWUobG9jLmxhdCwgLXByb2ouTUFYX0xBVCwgcHJvai5NQVhfTEFUKSxcbiAgICAgICAgICAgIGxuZyA9IGNsYW1wID8gbGltaXRWYWx1ZShsb2MubG5nLCAtcHJvai5NQVhfTE5HLCBwcm9qLk1BWF9MTkcpIDogbG9jLmxuZyxcbiAgICAgICAgICAgIHggPSByYWQobG5nIC0gbG5nMCkgKiByLFxuICAgICAgICAgICAgeSA9IHByb2ouX3Byb2plY3RMYXQobGF0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LCB5KTtcbiAgICB9XG4gICAgX3Byb2plY3RMYXQobGF0KSB7XG4gICAgICAgIGxldCBkYXR1bSA9IHRoaXMub3B0aW9ucy5kYXR1bSxcbiAgICAgICAgICAgIGVjYyA9IGRhdHVtLmUsXG4gICAgICAgICAgICByID0gZGF0dW0uYSxcbiAgICAgICAgICAgIHkgPSByYWQobGF0KSxcbiAgICAgICAgICAgIHRzID0gdGFuKFBJX0RJVl80ICsgeSAvIDIpLFxuICAgICAgICAgICAgY29uID0gZWNjICogc2luKHkpLFxuICAgICAgICAgICAgcCA9IHBvdygoMSAtIGNvbikgLyAoMSArIGNvbiksIGVjYyAvIDIpO1xuXG4gICAgICAgIC8vIFNlZTogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NZXJjYXRvcl9wcm9qZWN0aW9uI0dlbmVyYWxpemF0aW9uX3RvX3RoZV9lbGxpcHNvaWRcbiAgICAgICAgcmV0dXJuIHIgKiBsb2codHMgKiBwKTtcbiAgICB9XG4gICAgaW52ZXJzZShwb2ludCwgY2xhbXApIHtcbiAgICAgICAgbGV0IHByb2ogPSB0aGlzLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHByb2oub3B0aW9ucyxcbiAgICAgICAgICAgIGRhdHVtID0gb3B0aW9ucy5kYXR1bSxcbiAgICAgICAgICAgIHIgPSBkYXR1bS5hLFxuICAgICAgICAgICAgbG5nMCA9IG9wdGlvbnMuY2VudHJhbE1lcmlkaWFuLFxuICAgICAgICAgICAgbG5nID0gcG9pbnQueCAvIChERUdfVE9fUkFEICogcikgKyBsbmcwLFxuICAgICAgICAgICAgbGF0ID0gbGltaXRWYWx1ZShwcm9qLl9pbnZlcnNlWShwb2ludC55KSwgLXByb2ouTUFYX0xBVCwgcHJvai5NQVhfTEFUKTtcbiAgICAgICAgaWYgKGNsYW1wKSB7XG4gICAgICAgICAgICBsbmcgPSBsaW1pdFZhbHVlKGxuZywgLXByb2ouTUFYX0xORywgcHJvai5NQVhfTE5HKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExvY2F0aW9uKGxhdCwgbG5nKTtcbiAgICB9XG4gICAgX2ludmVyc2VZKHkpIHtcbiAgICAgICAgbGV0IHByb2ogPSB0aGlzLFxuICAgICAgICAgICAgZGF0dW0gPSBwcm9qLm9wdGlvbnMuZGF0dW0sXG4gICAgICAgICAgICByID0gZGF0dW0uYSxcbiAgICAgICAgICAgIGVjYyA9IGRhdHVtLmUsXG4gICAgICAgICAgICBlY2NoID0gZWNjIC8gMixcbiAgICAgICAgICAgIHRzID0gZXhwKC15IC8gciksXG4gICAgICAgICAgICBwaGkgPSBQSV9ESVZfMiAtIDIgKiBhdGFuKHRzKSxcbiAgICAgICAgICAgIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPD0gcHJvai5JTlZFUlNFX0lURVJBVElPTlM7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNvbiA9IGVjYyAqIHNpbihwaGkpLFxuICAgICAgICAgICAgICAgIHAgPSBwb3coKDEgLSBjb24pIC8gKDEgKyBjb24pLCBlY2NoKSxcbiAgICAgICAgICAgICAgICBkcGhpID0gUElfRElWXzIgLSAyICogYXRhbih0cyAqIHApIC0gcGhpO1xuICAgICAgICAgICAgcGhpICs9IGRwaGk7XG4gICAgICAgICAgICBpZiAobWF0aC5hYnMoZHBoaSkgPD0gcHJvai5JTlZFUlNFX0NPTlZFUkdFTkNFKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZyhwaGkpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTWVyY2F0b3IsIHtcbiAgICBjZW50cmFsTWVyaWRpYW46IDAsXG4gICAgZGF0dW06IFdHUzg0XG59KTtcblxuXG4vLyBXR1MgODQgLyBQc2V1ZG8tTWVyY2F0b3Jcbi8vIFVzZWQgYnkgR29vZ2xlIE1hcHMsIEJpbmcsIE9TTSwgZXRjLlxuLy8gU3BoZXJpY2FsIHByb2plY3Rpb24gb2YgZWxsaXBzb2lkYWwgY29vcmRpbmF0ZXMuXG5leHBvcnQgY2xhc3MgU3BoZXJpY2FsTWVyY2F0b3IgZXh0ZW5kcyBNZXJjYXRvciB7XG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHN1cGVyLmluaXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAgICAgZGVlcEV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICBNQVhfTEFUOiA4NS4wNTExMjg3Nzk4XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9wcm9qZWN0TGF0KGxhdCkge1xuICAgICAgICBsZXQgciA9IHRoaXMub3B0aW9ucy5kYXR1bS5hLFxuICAgICAgICAgICAgeSA9IHJhZChsYXQpLFxuICAgICAgICAgICAgdHMgPSB0YW4oUElfRElWXzQgKyB5IC8gMik7XG4gICAgICAgIHJldHVybiByICogbG9nKHRzKTtcbiAgICB9XG5cbiAgICBfaW52ZXJzZVkoeSkge1xuICAgICAgICBsZXQgciA9IHRoaXMub3B0aW9ucy5kYXR1bS5hLFxuICAgICAgICAgICAgdHMgPSBleHAoLXkgLyByKTtcbiAgICAgICAgcmV0dXJuIGRlZyhQSV9ESVZfMiAtIDIgKiBhdGFuKHRzKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXF1aXJlY3Rhbmd1bGFyIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGZvcndhcmQobG9jKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQobG9jLmxuZywgbG9jLmxhdCk7XG4gICAgfVxuICAgIGludmVyc2UocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihwb2ludC55LCBwb2ludC54KTtcbiAgICB9XG59XG5cbi8vIFRoaXMgaXMgdGhlIHByb2plY3RlZCBjb29yZGluYXRlIHN5c3RlbSB1c2VkIGZvciByZW5kZXJpbmcgbWFwcyBpbiBHb29nbGUgTWFwcywgT3BlblN0cmVldE1hcCwgZXRjXG4vLyBVbml0OiBtZXRyZVxuLy8gR2VvZGV0aWMgQ1JTOiBXR1MgODRcbi8vIFNjb3BlOiBDZXJ0YWluIFdlYiBtYXBwaW5nIGFuZCB2aXN1YWxpc2F0aW9uIGFwcGxpY2F0aW9ucy4gSXQgaXMgbm90IGEgcmVjb2duaXNlZCBnZW9kZXRpYyBzeXN0ZW06IGZvciB0aGF0IHNlZSBlbGxpcHNvaWRhbCBNZXJjYXRvciBDUlMgY29kZSAzMzk1IChXR1MgODQgLyBXb3JsZCBNZXJjYXRvcikuXG4vLyBSZW1hcmtzOiBVc2VzIHNwaGVyaWNhbCBkZXZlbG9wbWVudCBvZiBlbGxpcHNvaWRhbCBjb29yZGluYXRlcy4gUmVsYXRpdmUgdG8gV0dTIDg0IC8gV29ybGQgTWVyY2F0b3IgKENSUyBjb2RlIDMzOTUpIGVycm9ycyBvZiAwLjcgcGVyY2VudCBpbiBzY2FsZSBhbmQgZGlmZmVyZW5jZXMgaW4gbm9ydGhpbmcgb2YgdXAgdG8gNDNrbSBpbiB0aGUgbWFwIChlcXVpdmFsZW50IHRvIDIxa20gb24gdGhlIGdyb3VuZCkgbWF5IGFyaXNlLlxuLy8gQXJlYSBvZiB1c2U6IFdvcmxkIGJldHdlZW4gODUuMDbCsFMgYW5kIDg1LjA2wrBOLlxuLy8gQ29vcmRpbmF0ZSBzeXN0ZW06IENhcnRlc2lhbiAyRCBDUy4gQXhlczogZWFzdGluZywgbm9ydGhpbmcgKFgsWSkuIE9yaWVudGF0aW9uczogZWFzdCwgbm9ydGguIFVvTTogbS5cbi8vIGh0dHBzOi8vZXBzZy5pby8zODU3XG5leHBvcnQgY2xhc3MgRVBTRzM4NTcgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGxldCBjcnMgPSB0aGlzLFxuICAgICAgICAgICAgcHJvaiA9IGNycy5fcHJvaiA9IG5ldyBTcGhlcmljYWxNZXJjYXRvcigpO1xuICAgICAgICBsZXQgYyA9IHRoaXMuYyA9IDIgKiBQSSAqIHByb2oub3B0aW9ucy5kYXR1bS5hO1xuXG4gICAgICAgIC8vIHRyYW5zZnJvbSBtYXRyaXhcbiAgICAgICAgLy8gU2NhbGUgY2lyY3VtZmVyZW5jZSB0byAxLCBtaXJyb3IgWSBhbmQgc2hpZnQgb3JpZ2luIHRvIHRvcCBsZWZ0XG4gICAgICAgIHRoaXMuX3RtID0gZy50cmFuc2Zvcm0oKS50cmFuc2xhdGUoMC41LCAwLjUpLnNjYWxlKDEgLyBjLCAtMSAvIGMpO1xuXG4gICAgICAgIC8vIEludmVyc2UgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAgICB0aGlzLl9pdG0gPSBnLnRyYW5zZm9ybSgpLnNjYWxlKGMsIC1jKS50cmFuc2xhdGUoLTAuNSwgLTAuNSk7XG4gICAgfVxuXG4gICAgLy8gTG9jYXRpb24gPC0+IFBvaW50IChzY3JlZW4gY29vcmRpbmF0ZXMgZm9yIGEgZ2l2ZW4gc2NhbGUpXG4gICAgdG9Qb2ludChsb2MsIHNjYWxlLCBjbGFtcCkge1xuICAgICAgICBsZXQgcG9pbnQgPSB0aGlzLl9wcm9qLmZvcndhcmQobG9jLCBjbGFtcCk7XG4gICAgICAgIHJldHVybiBwb2ludC50cmFuc2Zvcm0odGhpcy5fdG0pLnNjYWxlKHNjYWxlIHx8IDEpO1xuICAgIH1cbiAgICB0b0xvY2F0aW9uKHBvaW50LCBzY2FsZSwgY2xhbXApIHtcbiAgICAgICAgbGV0IG5ld1BvaW50ID0gcG9pbnQuY2xvbmUoKS5zY2FsZSgxIC8gKHNjYWxlIHx8IDEpKS50cmFuc2Zvcm0odGhpcy5faXRtKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2ouaW52ZXJzZShuZXdQb2ludCwgY2xhbXApO1xuICAgIH1cbn1cblxuLy8gVW5pdDogbWV0cmVcbi8vIEdlb2RldGljIENSUzogV0dTIDg0XG4vLyBTY29wZTogVmVyeSBzbWFsbCBzY2FsZSBtYXBwaW5nLlxuLy8gUmVtYXJrczogRXVyby1jZW50cmljIHZpZXcgb2Ygd29ybGQgZXhjbHVkaW5nIHBvbGFyIGFyZWFzLlxuLy8gQXJlYSBvZiB1c2U6IFdvcmxkIGJldHdlZW4gODDCsFMgYW5kIDg0wrBOLlxuLy8gQ29vcmRpbmF0ZSBzeXN0ZW06IENhcnRlc2lhbiAyRCBDUy4gQXhlczogZWFzdGluZywgbm9ydGhpbmcgKEUsTikuIE9yaWVudGF0aW9uczogZWFzdCwgbm9ydGguIFVvTTogbS5cbi8vIGh0dHBzOi8vZXBzZy5pby8zMzk1XG5leHBvcnQgY2xhc3MgRVBTRzMzOTUgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3Byb2ogPSBuZXcgTWVyY2F0b3IoKTtcbiAgICB9XG4gICAgdG9Qb2ludChsb2MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2ouZm9yd2FyZChsb2MpO1xuICAgIH1cbiAgICB0b0xvY2F0aW9uKHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9qLmludmVyc2UocG9pbnQpO1xuICAgIH1cbn1cblxuLy8gVW5pdDogZGVncmVlXG4vLyBHZW9kZXRpYyBDUlM6IFdHUyA4NFxuLy8gU2NvcGU6IEhvcml6b250YWwgY29tcG9uZW50IG9mIDNEIHN5c3RlbS4gVXNlZCBieSB0aGUgR1BTIHNhdGVsbGl0ZSBuYXZpZ2F0aW9uIHN5c3RlbSBhbmQgZm9yIE5BVE8gbWlsaXRhcnkgZ2VvZGV0aWMgc3VydmV5aW5nLlxuLy8gQXJlYSBvZiB1c2U6IFdvcmxkLlxuLy8gQ29vcmRpbmF0ZSBzeXN0ZW06IEVsbGlwc29pZGFsIDJEIENTLiBBeGVzOiBsYXRpdHVkZSwgbG9uZ2l0dWRlLiBPcmllbnRhdGlvbnM6IG5vcnRoLCBlYXN0LiBVb006IGRlZ3JlZVxuLy8gaHR0cHM6Ly9lcHNnLmlvLzQzMjZcbmV4cG9ydCBjbGFzcyBFUFNHNDMyNiBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fcHJvaiA9IG5ldyBFcXVpcmVjdGFuZ3VsYXIoKTtcbiAgICB9XG4gICAgdG9Qb2ludChsb2MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2ouZm9yd2FyZChsb2MpO1xuICAgIH1cbiAgICB0b0xvY2F0aW9uKHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9qLmludmVyc2UocG9pbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgaXNGdW5jdGlvbixcbiAgICBpc0FycmF5XG59IGZyb20gJy4uL2NvbW1vbic7XG5cbi8qIGVzbGludC1kaXNhYmxlIGFycm93LWJvZHktc3R5bGUgKi9cblxuY29uc3QgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydCBjb25zdCBleHRlbmQgPSBPYmplY3QuYXNzaWduO1xuXG5leHBvcnQgbGV0IGNvbnZlcnRUb0h0bWwgPSAoaHRtbCkgPT4ge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIGRpdi5maXJzdENoaWxkO1xufTtcblxuZXhwb3J0IGxldCBhcHBlbmRIdG1sID0gKGh0bWwsIGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIC8vIHVzZSBjaGlsZE5vZGVzIGluc3RlYWQgb2YgY2hpbGRyZW5cbiAgICAvLyB0byBjb3ZlciB0ZXh0IG5vZGVzIGFzIHdlbGxcbiAgICB3aGlsZSAoZGl2LmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGRpdi5jaGlsZE5vZGVzWzBdKTtcbiAgICB9XG59O1xuXG5leHBvcnQgbGV0IHJlbW92ZUNoaWxkcmVuID0gKGVsZW1lbnQpID0+IHtcbiAgICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG59O1xuXG5leHBvcnQgbGV0IHByZXBlbmQgPSAoZWxlbWVudCwgb3JpZ2luRWxlbWVudCkgPT4ge1xuICAgIG9yaWdpbkVsZW1lbnQuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIG9yaWdpbkVsZW1lbnQuZmlyc3RDaGlsZCk7XG59O1xuXG5leHBvcnQgbGV0IHdyYXBJbm5lciA9IChwYXJlbnQsIHdyYXBwZXIpID0+IHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG5cbiAgICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQgIT09IHdyYXBwZXIpIHtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxufTtcblxuZXhwb3J0IGxldCB0b0h5cGhlbnMgPSAoc3RyKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gc3RyLnJlcGxhY2UoLyhbYS16XVtBLVpdKS9nLCBmdW5jdGlvbihnKSB7XG4gICAgICAgIHJldHVybiBnLmNoYXJBdCgwKSArICctJyArIGcuY2hhckF0KDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGxldCB0b1BpeGVscyA9ICh2YWx1ZSkgPT4ge1xuICAgIGxldCByZXN1bHQ7XG5cbiAgICBpZiAodmFsdWUgJiYgU3RyaW5nKHZhbHVlKS5lbmRzV2l0aChcInB4XCIpKSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IFN0cmluZyh2YWx1ZSkgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IGRldGVjdE9TID0gKHVhKSA9PiB7XG4gICAgbGV0IG9zID0gZmFsc2UsIG1pbm9yVmVyc2lvbiwgbWF0Y2ggPSBbXSxcbiAgICAgICAgLy8gbm90QW5kcm9pZFBob25lID0gIS9tb2JpbGUgc2FmYXJpL2kudGVzdCh1YSksXG4gICAgICAgIGFnZW50UnhzID0ge1xuICAgICAgICAgICAgd3A6IC8oV2luZG93cyBQaG9uZSg/OiBPUyk/KVxccyhcXGQrKVxcLihcXGQrKFxcLlxcZCspPykvLFxuICAgICAgICAgICAgZmlyZTogLyhTaWxrKVxcLyhcXGQrKVxcLihcXGQrKFxcLlxcZCspPykvLFxuICAgICAgICAgICAgYW5kcm9pZDogLyhBbmRyb2lkfEFuZHJvaWQuKig/Ok9wZXJhfEZpcmVmb3gpLio/XFwvKVxccyooXFxkKylcXC4/KFxcZCsoXFwuXFxkKyk/KT8vLFxuICAgICAgICAgICAgaXBob25lOiAvKGlQaG9uZXxpUG9kKS4qT1NcXHMrKFxcZCspW1xcLl9dKFtcXGRcXC5fXSspLyxcbiAgICAgICAgICAgIGlwYWQ6IC8oaVBhZCkuKk9TXFxzKyhcXGQrKVtcXC5fXShbXFxkX10rKS8sXG4gICAgICAgICAgICBtZWVnbzogLyhNZWVHbykuK05va2lhQnJvd3NlclxcLyhcXGQrKVxcLihbXFxkXFwuX10rKS8sXG4gICAgICAgICAgICB3ZWJvczogLyh3ZWJPUylcXC8oXFxkKylcXC4oXFxkKyhcXC5cXGQrKT8pLyxcbiAgICAgICAgICAgIGJsYWNrYmVycnk6IC8oQmxhY2tCZXJyeXxCQjEwKS4qP1ZlcnNpb25cXC8oXFxkKylcXC4oXFxkKyhcXC5cXGQrKT8pLyxcbiAgICAgICAgICAgIHBsYXlib29rOiAvKFBsYXlCb29rKS4qP1RhYmxldFxccypPU1xccyooXFxkKylcXC4oXFxkKyhcXC5cXGQrKT8pLyxcbiAgICAgICAgICAgIHdpbmRvd3M6IC8oTVNJRSlcXHMrKFxcZCspXFwuKFxcZCsoXFwuXFxkKyk/KS8sXG4gICAgICAgICAgICB0aXplbjogLyh0aXplbikuKj9WZXJzaW9uXFwvKFxcZCspXFwuKFxcZCsoXFwuXFxkKyk/KS9pLFxuICAgICAgICAgICAgc2FpbGZpc2g6IC8oc2FpbGZpc2gpLipydjooXFxkKylcXC4oXFxkKyhcXC5cXGQrKT8pLipmaXJlZm94L2ksXG4gICAgICAgICAgICBmZm9zOiAvKE1vYmlsZSkuKnJ2OihcXGQrKVxcLihcXGQrKFxcLlxcZCspPykuKkZpcmVmb3gvXG4gICAgICAgIH0sXG4gICAgICAgIG9zUnhzID0ge1xuICAgICAgICAgICAgaW9zOiAvXmkocGhvbmV8cGFkfHBvZCkkL2ksXG4gICAgICAgICAgICBhbmRyb2lkOiAvXmFuZHJvaWR8ZmlyZSQvaSxcbiAgICAgICAgICAgIGJsYWNrYmVycnk6IC9eYmxhY2tiZXJyeXxwbGF5Ym9vay9pLFxuICAgICAgICAgICAgd2luZG93czogL3dpbmRvd3MvLFxuICAgICAgICAgICAgd3A6IC93cC8sXG4gICAgICAgICAgICBmbGF0OiAvc2FpbGZpc2h8ZmZvc3x0aXplbi9pLFxuICAgICAgICAgICAgbWVlZ286IC9tZWVnby9cbiAgICAgICAgfSxcbiAgICAgICAgZm9ybUZhY3RvclJ4cyA9IHtcbiAgICAgICAgICAgIHRhYmxldDogL3BsYXlib29rfGlwYWR8ZmlyZS9pXG4gICAgICAgIH0sXG4gICAgICAgIGJyb3dzZXJSeHMgPSB7XG4gICAgICAgICAgICBvbWluaTogL09wZXJhXFxzTWluaS9pLFxuICAgICAgICAgICAgb21vYmlsZTogL09wZXJhXFxzTW9iaS9pLFxuICAgICAgICAgICAgZmlyZWZveDogL0ZpcmVmb3h8RmVubmVjL2ksXG4gICAgICAgICAgICBtb2JpbGVzYWZhcmk6IC92ZXJzaW9uXFwvLipzYWZhcmkvaSxcbiAgICAgICAgICAgIGllOiAvTVNJRXxXaW5kb3dzXFxzUGhvbmUvaSxcbiAgICAgICAgICAgIGNocm9tZTogL2Nocm9tZXxjcmlvcy9pLFxuICAgICAgICAgICAgd2Via2l0OiAvd2Via2l0L2lcbiAgICAgICAgfTtcblxuICAgIGZvciAobGV0IGFnZW50IGluIGFnZW50UnhzKSB7XG4gICAgICAgIGlmIChhZ2VudFJ4cy5oYXNPd25Qcm9wZXJ0eShhZ2VudCkpIHtcbiAgICAgICAgICAgIG1hdGNoID0gdWEubWF0Y2goYWdlbnRSeHNbYWdlbnRdKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIGlmIChhZ2VudCA9PT0gXCJ3aW5kb3dzXCIgJiYgXCJwbHVnaW5zXCIgaW4gbmF2aWdhdG9yKSB7IHJldHVybiBmYWxzZTsgfSAvLyBCcmVhayBpZiBub3QgTWV0cm8vTW9iaWxlIFdpbmRvd3NcblxuICAgICAgICAgICAgICAgIG9zID0ge307XG4gICAgICAgICAgICAgICAgb3MuZGV2aWNlID0gYWdlbnQ7XG4gICAgICAgICAgICAgICAgb3MudGFibGV0ID0gdGVzdFJlZ2V4KGFnZW50LCBmb3JtRmFjdG9yUnhzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgb3MuYnJvd3NlciA9IHRlc3RSZWdleCh1YSwgYnJvd3NlclJ4cywgXCJkZWZhdWx0XCIpO1xuICAgICAgICAgICAgICAgIG9zLm5hbWUgPSB0ZXN0UmVnZXgoYWdlbnQsIG9zUnhzKTtcbiAgICAgICAgICAgICAgICBvc1tvcy5uYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3MubWFqb3JWZXJzaW9uID0gbWF0Y2hbMl07XG4gICAgICAgICAgICAgICAgb3MubWlub3JWZXJzaW9uID0gKG1hdGNoWzNdIHx8IFwiMFwiKS5yZXBsYWNlKFwiX1wiLCBcIi5cIik7XG4gICAgICAgICAgICAgICAgbWlub3JWZXJzaW9uID0gb3MubWlub3JWZXJzaW9uLnJlcGxhY2UoXCIuXCIsIFwiXCIpLnN1YnN0cigwLCAyKTtcbiAgICAgICAgICAgICAgICBvcy5mbGF0VmVyc2lvbiA9IG9zLm1ham9yVmVyc2lvbiArIG1pbm9yVmVyc2lvbiArIChuZXcgQXJyYXkoMyAtIChtaW5vclZlcnNpb24ubGVuZ3RoIDwgMyA/IG1pbm9yVmVyc2lvbi5sZW5ndGggOiAyKSkuam9pbihcIjBcIikpO1xuXG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcztcbn07XG5cbmZ1bmN0aW9uIHRlc3RSZWdleChhZ2VudCwgcmVnZXhlcywgZGZsdCkge1xuICAgIGZvciAobGV0IHJlZ2V4IGluIHJlZ2V4ZXMpIHtcbiAgICAgICAgaWYgKHJlZ2V4ZXMuaGFzT3duUHJvcGVydHkocmVnZXgpICYmIHJlZ2V4ZXNbcmVnZXhdLnRlc3QoYWdlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRmbHQgIT09IHVuZGVmaW5lZCA/IGRmbHQgOiBhZ2VudDtcbn1cblxuZXhwb3J0IGxldCBoYXNOYXRpdmVTY3JvbGxpbmcgPSAodXNlckFnZW50KSA9PiB7XG4gICAgY29uc3Qgb3MgPSBkZXRlY3RPUyh1c2VyQWdlbnQpO1xuICAgIHJldHVybiBvcy5pb3MgfHwgb3MuYW5kcm9pZDtcbn07XG5cbmNvbnN0IGRldGVjdEJyb3dzZXIgPSAodXNlckFnZW50KSA9PiB7XG4gICAgbGV0IGJyb3dzZXIgPSBmYWxzZSxcbiAgICAgICAgbWF0Y2ggPSBbXSxcbiAgICAgICAgYnJvd3NlclJ4cyA9IHtcbiAgICAgICAgICAgIGVkZ2U6IC8oZWRnZSlbIFxcL10oW1xcdy5dKykvaSxcbiAgICAgICAgICAgIHdlYmtpdDogLyhjaHJvbWV8Y3Jpb3MpWyBcXC9dKFtcXHcuXSspL2ksXG4gICAgICAgICAgICBzYWZhcmk6IC8od2Via2l0KVsgXFwvXShbXFx3Ll0rKS9pLFxuICAgICAgICAgICAgb3BlcmE6IC8ob3BlcmEpKD86Lip2ZXJzaW9ufClbIFxcL10oW1xcdy5dKykvaSxcbiAgICAgICAgICAgIG1zaWU6IC8obXNpZVxcc3x0cmlkZW50Lio/IHJ2OikoW1xcdy5dKykvaSxcbiAgICAgICAgICAgIG1vemlsbGE6IC8obW96aWxsYSkoPzouKj8gcnY6KFtcXHcuXSspfCkvaVxuICAgICAgICB9O1xuXG4gICAgZm9yIChsZXQgYWdlbnQgaW4gYnJvd3NlclJ4cykge1xuICAgICAgICBpZiAoYnJvd3NlclJ4cy5oYXNPd25Qcm9wZXJ0eShhZ2VudCkpIHtcbiAgICAgICAgICAgIG1hdGNoID0gdXNlckFnZW50Lm1hdGNoKGJyb3dzZXJSeHNbYWdlbnRdKTtcblxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgYnJvd3NlciA9IHt9O1xuICAgICAgICAgICAgICAgIGJyb3dzZXJbYWdlbnRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicm93c2VyW21hdGNoWzFdLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpWzBdLnNwbGl0KFwiL1wiKVswXV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyb3dzZXIudmVyc2lvbiA9IHBhcnNlSW50KGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCBtYXRjaFsyXSwgMTApO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnJvd3Nlcjtcbn07XG5cbmV4cG9ydCBsZXQgZ2V0RXZlbnRNYXAgPSAoKSA9PiB7XG4gICAgbGV0IGV2ZW50TWFwID0ge1xuICAgICAgICBkb3duOiBcInRvdWNoc3RhcnQgbW91c2Vkb3duXCIsXG4gICAgICAgIG1vdmU6IFwibW91c2Vtb3ZlIHRvdWNobW92ZVwiLFxuICAgICAgICB1cDogXCJtb3VzZXVwIHRvdWNoZW5kIHRvdWNoY2FuY2VsXCIsXG4gICAgICAgIGNhbmNlbDogXCJtb3VzZWxlYXZlIHRvdWNoY2FuY2VsXCJcbiAgICB9O1xuXG4gICAgY29uc3Qgc3VwcG9ydCA9IGdldFN1cHBvcnRlZEZlYXR1cmVzKCk7XG5cbiAgICBpZiAoc3VwcG9ydC50b3VjaCAmJiAoc3VwcG9ydC5tb2JpbGVPUy5pb3MgfHwgc3VwcG9ydC5tb2JpbGVPUy5hbmRyb2lkKSkge1xuICAgICAgICBldmVudE1hcCA9IHtcbiAgICAgICAgICAgIGRvd246IFwidG91Y2hzdGFydFwiLFxuICAgICAgICAgICAgbW92ZTogXCJ0b3VjaG1vdmVcIixcbiAgICAgICAgICAgIHVwOiBcInRvdWNoZW5kIHRvdWNoY2FuY2VsXCIsXG4gICAgICAgICAgICBjYW5jZWw6IFwidG91Y2hjYW5jZWxcIlxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5wb2ludGVycykge1xuICAgICAgICBldmVudE1hcCA9IHtcbiAgICAgICAgICAgIGRvd246IFwicG9pbnRlcmRvd25cIixcbiAgICAgICAgICAgIG1vdmU6IFwicG9pbnRlcm1vdmVcIixcbiAgICAgICAgICAgIHVwOiBcInBvaW50ZXJ1cFwiLFxuICAgICAgICAgICAgY2FuY2VsOiBcInBvaW50ZXJjYW5jZWwgcG9pbnRlcmxlYXZlXCJcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQubXNQb2ludGVycykge1xuICAgICAgICBldmVudE1hcCA9IHtcbiAgICAgICAgICAgIGRvd246IFwiTVNQb2ludGVyRG93blwiLFxuICAgICAgICAgICAgbW92ZTogXCJNU1BvaW50ZXJNb3ZlXCIsXG4gICAgICAgICAgICB1cDogXCJNU1BvaW50ZXJVcFwiLFxuICAgICAgICAgICAgY2FuY2VsOiBcIk1TUG9pbnRlckNhbmNlbCBNU1BvaW50ZXJMZWF2ZVwiXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50TWFwO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFN1cHBvcnRlZEZlYXR1cmVzID0gKCkgPT4ge1xuICAgIGNvbnN0IG9zID0gZGV0ZWN0T1MobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgY29uc3QgYnJvd3NlciA9IGRldGVjdEJyb3dzZXIobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICBsZXQgY2hyb21lID0gYnJvd3Nlci5jaHJvbWUsXG4gICAgICAgIG1vYmlsZUNocm9tZSA9IGJyb3dzZXIuY3Jpb3MsXG4gICAgICAgIG1vemlsbGEgPSBicm93c2VyLm1vemlsbGEsXG4gICAgICAgIHNhZmFyaSA9IGJyb3dzZXIuc2FmYXJpO1xuXG4gICAgY29uc3Qgc3VwcG9ydCA9IHt9O1xuXG4gICAgc3VwcG9ydC5tb2JpbGVPUyA9IG9zO1xuICAgIHN1cHBvcnQudG91Y2ggPSBcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdztcbiAgICBzdXBwb3J0LnBvaW50ZXJzID0gIWNocm9tZSAmJiAhbW9iaWxlQ2hyb21lICYmICFtb3ppbGxhICYmICFzYWZhcmkgJiYgd2luZG93LlBvaW50ZXJFdmVudDtcbiAgICBzdXBwb3J0Lm1zUG9pbnRlcnMgPSAhY2hyb21lICYmIHdpbmRvdy5NU1BvaW50ZXJFdmVudDtcbiAgICBzdXBwb3J0Lm1vdXNlQW5kVG91Y2hQcmVzZW50ID0gc3VwcG9ydC50b3VjaCAmJiAhKHN1cHBvcnQubW9iaWxlT1MuaW9zIHx8IHN1cHBvcnQubW9iaWxlT1MuYW5kcm9pZCk7XG4gICAgc3VwcG9ydC5ldmVudENhcHR1cmUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcjtcblxuICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcblxuICAgIGxldCB0cmFuc2l0aW9ucyA9IHN1cHBvcnQudHJhbnNpdGlvbnMgPSBmYWxzZSxcbiAgICAgICAgdHJhbnNmb3JtcyA9IHN1cHBvcnQudHJhbnNmb3JtcyA9IGZhbHNlO1xuXG4gICAgY29uc3QgU1RSSU5HID0gXCJzdHJpbmdcIjtcblxuICAgIFtcIk1velwiLCBcIndlYmtpdFwiLCBcIk9cIiwgXCJtc1wiXS5mb3JFYWNoKGZ1bmN0aW9uKHByZWZpeCkge1xuICAgICAgICBsZXQgaGFzVHJhbnNpdGlvbnMgPSB0eXBlb2YgdGFibGUuc3R5bGVbcHJlZml4ICsgXCJUcmFuc2l0aW9uXCJdID09PSBTVFJJTkc7XG5cbiAgICAgICAgaWYgKGhhc1RyYW5zaXRpb25zIHx8IHR5cGVvZiB0YWJsZS5zdHlsZVtwcmVmaXggKyBcIlRyYW5zZm9ybVwiXSA9PT0gU1RSSU5HKSB7XG4gICAgICAgICAgICBsZXQgbG93UHJlZml4ID0gcHJlZml4LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIHRyYW5zZm9ybXMgPSB7XG4gICAgICAgICAgICAgICAgY3NzOiAobG93UHJlZml4ICE9PSBcIm1zXCIpID8gXCItXCIgKyBsb3dQcmVmaXggKyBcIi1cIiA6IFwiXCIsXG4gICAgICAgICAgICAgICAgcHJlZml4OiBwcmVmaXgsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IChsb3dQcmVmaXggPT09IFwib1wiIHx8IGxvd1ByZWZpeCA9PT0gXCJ3ZWJraXRcIikgPyBsb3dQcmVmaXggOiBcIlwiXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoaGFzVHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9ucyA9IHRyYW5zZm9ybXM7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbnMuZXZlbnQgPSB0cmFuc2l0aW9ucy5ldmVudCA/IHRyYW5zaXRpb25zLmV2ZW50ICsgXCJUcmFuc2l0aW9uRW5kXCIgOiBcInRyYW5zaXRpb25lbmRcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0YWJsZSA9IG51bGw7XG5cbiAgICBzdXBwb3J0LnRyYW5zZm9ybXMgPSB0cmFuc2Zvcm1zO1xuICAgIHN1cHBvcnQudHJhbnNpdGlvbnMgPSB0cmFuc2l0aW9ucztcblxuICAgIHN1cHBvcnQuZGVsYXllZENsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIG9ubHkgdGhlIG1vYmlsZSBkZXZpY2VzIHdpdGggdG91Y2ggZXZlbnRzIGRvIHRoaXMuXG4gICAgICAgIGlmIChzdXBwb3J0LnRvdWNoKSB7XG4gICAgICAgICAgICAvLyBBbGwgaU9TIGRldmljZXMgc28gZmFyIChieSB0aGUgdGltZSBJIGFtIHdyaXRpbmcgdGhpcywgaU9TIDkuMC4yIGlzIHRoZSBsYXRlc3QpLFxuICAgICAgICAgICAgLy8gZGVsYXkgdGhlaXIgY2xpY2sgZXZlbnRzLlxuICAgICAgICAgICAgaWYgKHN1cHBvcnQubW9iaWxlT1MuaW9zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdXBwb3J0Lm1vYmlsZU9TLmFuZHJvaWQpIHtcblxuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydC5icm93c2VyLmNocm9tZSkgeyAvLyBvbGRlciB3ZWJraXRzIGFuZCB3ZWJ2aWV3cyBkZWxheSB0aGUgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZnJvbSBoZXJlIG9uLCB3ZSBkZWFsIHdpdGggQ2hyb21lIG9uIEFuZHJvaWQuXG4gICAgICAgICAgICAgICAgaWYgKHN1cHBvcnQuYnJvd3Nlci52ZXJzaW9uIDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENocm9tZSAzMisgZG9lcyBjb25kaXRpb25hbCBmYXN0IGNsaWNrcyBpZiB0aGUgdmlldyBwb3J0IGlzIG5vdCB1c2VyIHNjYWxhYmxlLlxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWV0YVtuYW1lPXZpZXdwb3J0XVwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50QXR0ciA9IG1ldGEgPyBtZXRhLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIikgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiAhY29udGVudEF0dHIubWF0Y2goL3VzZXItc2NhbGFibGU9bm8vaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBzdXBwb3J0O1xufTtcblxuZXhwb3J0IGNvbnN0IG93bnNFbGVtZW50ID0gKHBhcmVudCwgZWxlbWVudCkgPT4ge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IG5vZGUgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbnRhaW5zID0gKHBhcmVudCwgZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBwYXJlbnQgPT09IGVsZW1lbnQgfHwgb3duc0VsZW1lbnQocGFyZW50LCBlbGVtZW50KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm94eSA9IChtZXRob2QsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gbWV0aG9kLmJpbmQoY29udGV4dCk7XG59O1xuXG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YodmFsdWUpID09PSBcInN0cmluZ1wiO1xufVxuXG5leHBvcnQgY29uc3Qgb24gPSAoZWxlbWVudCwgZXZlbnRzLCBmaWx0ZXIsIGhhbmRsZXIsIHVzZUNhcHR1cmUpID0+IHtcbiAgICBhZGRFdmVudExpc3RlbmVycyhlbGVtZW50LCBldmVudHMsIGZpbHRlciwgaGFuZGxlciwgdXNlQ2FwdHVyZSk7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkRXZlbnRMaXN0ZW5lcnMgPSAoZWxlbWVudCwgZXZlbnRzLCBmaWx0ZXIsIGhhbmRsZXIsIHVzZUNhcHR1cmUpID0+IHtcbiAgICBjb25zdCBldmVudE5hbWVzID0gaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogKGV2ZW50cyB8fCBcIlwiKS5zcGxpdChcIiBcIik7XG5cbiAgICBldmVudE5hbWVzLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWxlbWVudCwgZXZlbnROYW1lLCBmaWx0ZXIsIGhhbmRsZXIsIHVzZUNhcHR1cmUpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZEV2ZW50TGlzdGVuZXIgPSAoZWxlbWVudCwgZXZlbnQsIGZpbHRlciwgaGFuZGxlciwgdXNlQ2FwdHVyZSkgPT4ge1xuICAgIGxldCBldmVudEhhbmRsZXIgPSBoYW5kbGVyO1xuICAgIGxldCBldmVudEZpbHRlcjtcblxuICAgIGlmIChmaWx0ZXIgJiYgaXNGdW5jdGlvbihmaWx0ZXIpICYmICFoYW5kbGVyKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlciA9IGZpbHRlcjtcbiAgICB9IGVsc2UgaWYgKGZpbHRlciAmJiBpc1N0cmluZyhmaWx0ZXIpICYmIGlzRnVuY3Rpb24oZXZlbnRIYW5kbGVyKSkge1xuICAgICAgICBldmVudEZpbHRlciA9IGZpbHRlcjtcbiAgICB9XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY29uc3QgY2xvc2VzdE1hdGNoaW5nVGFyZ2V0ID0gZS50YXJnZXQgPyBlLnRhcmdldC5jbG9zZXN0KGV2ZW50RmlsdGVyKSA6IG51bGw7XG5cbiAgICAgICAgaWYgKCFldmVudEZpbHRlciB8fFxuICAgICAgICAgICAgKGV2ZW50RmlsdGVyICYmIGUudGFyZ2V0ICYmIGNsb3Nlc3RNYXRjaGluZ1RhcmdldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYXJnZXQgPSBldmVudEZpbHRlciA/IGNsb3Nlc3RNYXRjaGluZ1RhcmdldCA6IGUuY3VycmVudFRhcmdldDtcblxuICAgICAgICAgICAgLy8gcmVhc3NpZ24gdGhlIHByb3BlcnR5IGFzIGl0IGlzIGEgZ2V0dGVycyBvbmx5XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShlLCBcImN1cnJlbnRUYXJnZXRcIiwgeyB2YWx1ZTogY3VycmVudFRhcmdldCB9KTtcbiAgICAgICAgICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHRvcC1sZXZlbCB0YXJnZXRcbiAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KGUsIFwiZGVsZWdhdGVUYXJnZXRcIiwgeyB2YWx1ZTogZWxlbWVudCB9KTtcblxuICAgICAgICAgICAgZXZlbnRIYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgfSwgQm9vbGVhbih1c2VDYXB0dXJlKSk7XG59O1xuXG5leHBvcnQgY29uc3Qgb2ZmID0gKGVsZW1lbnQsIGV2ZW50cywgZmlsdGVyLCBoYW5kbGVyLCB1c2VDYXB0dXJlKSA9PiB7XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZWxlbWVudCwgZXZlbnRzLCBmaWx0ZXIsIGhhbmRsZXIsIHVzZUNhcHR1cmUpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZUV2ZW50TGlzdGVuZXJzID0gKGVsZW1lbnQsIGV2ZW50cywgaGFuZGxlciwgdXNlQ2FwdHVyZSkgPT4ge1xuICAgIGNvbnN0IGV2ZW50TmFtZXMgPSBpc0FycmF5KGV2ZW50cykgPyBldmVudHMgOiAoZXZlbnRzIHx8IFwiXCIpLnNwbGl0KFwiIFwiKTtcblxuICAgIGV2ZW50TmFtZXMuZm9yRWFjaChmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIsIHVzZUNhcHR1cmUpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIsIHVzZUNhcHR1cmUpID0+IHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIEJvb2xlYW4odXNlQ2FwdHVyZSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFwcGx5RXZlbnRNYXAgPSAoZXZlbnRzKSA9PiB7XG4gICAgY29uc3QgZXZlbnRNYXAgPSBnZXRFdmVudE1hcChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBmdW5jdGlvbiBxdWVyeUV2ZW50TWFwKGUpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50TWFwW2VdIHx8IGU7XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnRSZWdFeCA9IC8oW14gXSspL2c7XG4gICAgY29uc3QgYXBwbGllZEV2ZW50cyA9IGV2ZW50cy5yZXBsYWNlKGV2ZW50UmVnRXgsIHF1ZXJ5RXZlbnRNYXApO1xuXG4gICAgcmV0dXJuIGFwcGxpZWRFdmVudHM7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0RGVmYXVsdEV2ZW50cyA9ICh0eXBlLCBldmVudHMpID0+IHtcbiAgICBjb25zdCBwcm90byA9IHR5cGUucHJvdG90eXBlO1xuXG4gICAgaWYgKHByb3RvLmV2ZW50cykge1xuICAgICAgICBldmVudHMuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAocHJvdG8uZXZlbnRzLmluZGV4T2YoZXZlbnQpIDwgMCkge1xuICAgICAgICAgICAgICAgIHByb3RvLmV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvdG8uZXZlbnRzID0gZXZlbnRzO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCB3aGVlbERlbHRhWSA9IChqUXVlcnlFdmVudCkgPT4ge1xuICAgIGNvbnN0IGUgPSBqUXVlcnlFdmVudC5vcmlnaW5hbEV2ZW50IHx8IGpRdWVyeUV2ZW50O1xuICAgIGNvbnN0IGRlbHRhWSA9IGUud2hlZWxEZWx0YVk7XG4gICAgbGV0IGRlbHRhO1xuXG4gICAgaWYgKGUud2hlZWxEZWx0YSkgeyAvLyBXZWJraXQgYW5kIElFXG4gICAgICAgIGlmIChkZWx0YVkgPT09IHVuZGVmaW5lZCB8fCBkZWx0YVkpIHsgLy8gSUUgZG9lcyBub3QgaGF2ZSBkZWx0YVksIHRodXMgYWx3YXlzIHNjcm9sbCAoaG9yaXpvbnRhbCBzY3JvbGxpbmcgaXMgdHJlYXRlZCBhcyB2ZXJ0aWNhbClcbiAgICAgICAgICAgIGRlbHRhID0gZS53aGVlbERlbHRhO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChlLmRldGFpbCAmJiBlLmF4aXMgPT09IGUuVkVSVElDQUxfQVhJUykgeyAvLyBGaXJlZm94IGFuZCBPcGVyYVxuICAgICAgICBkZWx0YSA9ICgtZS5kZXRhaWwpICogMTA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbHRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGd1aWQgPSAoKSA9PiB7XG4gICAgbGV0IGlkID0gXCJcIjtcbiAgICBsZXQgaTtcbiAgICBsZXQgcmFuZG9tO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgcmFuZG9tID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcblxuICAgICAgICBpZiAoaSA9PT0gOCB8fCBpID09PSAxMiB8fCBpID09PSAxNiB8fCBpID09PSAyMCkge1xuICAgICAgICAgICAgaWQgKz0gXCItXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZCArPSAoaSA9PT0gMTIgPyA0IDogKGkgPT09IDE2ID8gKHJhbmRvbSAmIDMgfCA4KSA6IHJhbmRvbSkpLnRvU3RyaW5nKDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgIH1cblxuICAgIHJldHVybiBpZDtcbn07XG5cbmV4cG9ydCBjb25zdCBub3cgPSAoKSA9PiB7XG4gICAgcmV0dXJuIE51bWJlcihuZXcgRGF0ZSgpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBub29wID0gKCkgPT4ge307XG5cbi8qIGVzbGludC1lbmFibGUgYXJyb3ctYm9keS1zdHlsZSAqL1xuIiwiaW1wb3J0IHtcbiAgICBDbGFzc1xufSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBTVFJJTkcgPSBcInN0cmluZ1wiO1xuY29uc3QgRlVOQ1RJT04gPSBcImZ1bmN0aW9uXCI7XG5cbmxldCBwcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xufTtcblxubGV0IGlzRGVmYXVsdFByZXZlbnRlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkID09PSB0cnVlO1xufTtcblxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGUgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfVxuXG4gICAgYmluZChldmVudCwgaGFuZGxlcnMsIG9uZSkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBpZHgsXG4gICAgICAgICAgICBldmVudE5hbWVzID0gdHlwZW9mIGV2ZW50ID09PSBTVFJJTkcgPyBbZXZlbnRdIDogZXZlbnQgfHwgW10sXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICBvcmlnaW5hbCxcbiAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICBoYW5kbGVyc0lzRnVuY3Rpb24gPSB0eXBlb2YgaGFuZGxlcnMgPT09IEZVTkNUSU9OLFxuICAgICAgICAgICAgZXZlbnRzO1xuXG4gICAgICAgIGlmIChoYW5kbGVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGlkeCBpbiBldmVudCkge1xuICAgICAgICAgICAgICAgIHRoYXQuYmluZChpZHgsIGV2ZW50W2lkeF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuICAgICAgICBmb3IgKGlkeCA9IDAsIGxlbmd0aCA9IGV2ZW50TmFtZXMubGVuZ3RoOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gZXZlbnROYW1lc1tpZHhdO1xuXG4gICAgICAgICAgICBoYW5kbGVyID0gaGFuZGxlcnNJc0Z1bmN0aW9uID8gaGFuZGxlcnMgOiBoYW5kbGVyc1tldmVudE5hbWVdO1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGlmIChvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWwgPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnVuYmluZChldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWwuYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLm9yaWdpbmFsID0gb3JpZ2luYWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gdGhhdC5fZXZlbnRzW2V2ZW50TmFtZV0gPSB0aGF0Ll9ldmVudHNbZXZlbnROYW1lXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG4gICAgICAgIHJldHVybiB0aGF0O1xuICAgIH1cblxuICAgIG9uZShldmVudE5hbWVzLCBoYW5kbGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKGV2ZW50TmFtZXMsIGhhbmRsZXJzLCB0cnVlKTtcbiAgICB9XG5cbiAgICBmaXJzdChldmVudE5hbWUsIGhhbmRsZXJzKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIGlkeCxcbiAgICAgICAgICAgIGV2ZW50TmFtZXMgPSB0eXBlb2YgZXZlbnROYW1lID09PSBTVFJJTkcgPyBbZXZlbnROYW1lXSA6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICBoYW5kbGVyc0lzRnVuY3Rpb24gPSB0eXBlb2YgaGFuZGxlcnMgPT09IEZVTkNUSU9OLFxuICAgICAgICAgICAgZXZlbnRzO1xuXG4gICAgICAgIGZvciAoaWR4ID0gMCwgbGVuZ3RoID0gZXZlbnROYW1lcy5sZW5ndGg7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBldmVudE5hbWVzW2lkeF07XG5cbiAgICAgICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyc0lzRnVuY3Rpb24gPyBoYW5kbGVycyA6IGhhbmRsZXJzW2V2ZW50TmFtZV07XG5cbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gdGhhdC5fZXZlbnRzW2V2ZW50TmFtZV0gPSB0aGF0Ll9ldmVudHNbZXZlbnROYW1lXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBldmVudHMudW5zaGlmdChoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGF0O1xuICAgIH1cblxuICAgIHRyaWdnZXIoZXZlbnROYW1lLCBldmVudEFyZ3MpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgZXZlbnRzID0gdGhhdC5fZXZlbnRzW2V2ZW50TmFtZV0sXG4gICAgICAgICAgICBpZHgsXG4gICAgICAgICAgICBsZW5ndGg7XG5cbiAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgbGV0IGUgPSBldmVudEFyZ3MgfHwge307XG5cbiAgICAgICAgICAgIGUuc2VuZGVyID0gdGhhdDtcblxuICAgICAgICAgICAgZS5fZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQ7XG5cbiAgICAgICAgICAgIGUuaXNEZWZhdWx0UHJldmVudGVkID0gaXNEZWZhdWx0UHJldmVudGVkO1xuXG4gICAgICAgICAgICBldmVudHMgPSBldmVudHMuc2xpY2UoKTtcblxuICAgICAgICAgICAgZm9yIChpZHggPSAwLCBsZW5ndGggPSBldmVudHMubGVuZ3RoOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzW2lkeF0uY2FsbCh0aGF0LCBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGUuX2RlZmF1bHRQcmV2ZW50ZWQgPT09IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdW5iaW5kKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBldmVudHMgPSB0aGF0Ll9ldmVudHNbZXZlbnROYW1lXSxcbiAgICAgICAgICAgIGlkeDtcblxuICAgICAgICBpZiAoZXZlbnROYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoYXQuX2V2ZW50cyA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGlkeCA9IGV2ZW50cy5sZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tpZHhdID09PSBoYW5kbGVyIHx8IGV2ZW50c1tpZHhdLm9yaWdpbmFsID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoYXQuX2V2ZW50c1tldmVudE5hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhhdDtcbiAgICB9XG5cbiAgICBfc2V0RXZlbnRzKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gKHRoaXMuZXZlbnRzIHx8IFtdKS5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHggKyspIHtcbiAgICAgICAgICAgIGxldCBlID0gdGhpcy5ldmVudHNbaWR4XTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9uc1tlXSAmJiBvcHRpb25zW2VdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmJpbmQoZSwgdGhpcy5vcHRpb25zW2VdKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzW2VdKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iaW5kKHRoaXMuZXZlbnRzLCBvcHRpb25zKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIGFkZENsYXNzLFxuICAgIGRlZmluZWQsXG4gICAgdmFsdWVPckRlZmF1bHQsXG4gICAgZGVlcEV4dGVuZCxcbiAgICBzZXREZWZhdWx0T3B0aW9uc1xufSBmcm9tICcuLi9jb21tb24nO1xuXG5pbXBvcnQgVGVtcGxhdGVTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3RlbXBsYXRlLXNlcnZpY2UnO1xuXG5pbXBvcnQge1xuICAgIGFwcGVuZEh0bWwsXG4gICAgcmVtb3ZlQ2hpbGRyZW5cbn0gZnJvbSAnLi91dGlscyc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL3Njcm9sbGVyL29ic2VydmFibGUnO1xuXG5sZXQgdGVtcGxhdGUgPSBUZW1wbGF0ZVNlcnZpY2UuY29tcGlsZTtcblxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0aW9uIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMuX2luaXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG5cbiAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCAnay13aWRnZXQgay1hdHRyaWJ1dGlvbicpO1xuICAgIH1cblxuICAgIF9pbml0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZmlsdGVyKGV4dGVudCwgem9vbSkge1xuICAgICAgICB0aGlzLl9leHRlbnQgPSBleHRlbnQ7XG4gICAgICAgIHRoaXMuX3pvb20gPSB6b29tO1xuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBhZGQoaXRlbSkge1xuICAgICAgICBsZXQgbmV3SXRlbSA9IGl0ZW07XG5cbiAgICAgICAgaWYgKGRlZmluZWQoaXRlbSkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBuZXdJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKG5ld0l0ZW0pO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmUodGV4dCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG5cbiAgICAgICAgICAgIGlmIChpdGVtLnRleHQgIT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXRlbXMgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHJlbW92ZUNoaWxkcmVuKHRoaXMuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgX3JlbmRlcigpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgaXRlbVRlbXBsYXRlID0gdGVtcGxhdGUodGhpcy5vcHRpb25zLml0ZW1UZW1wbGF0ZSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICAgICAgICBsZXQgdGV4dCA9IHRoaXMuX2l0ZW1UZXh0KGl0ZW0pO1xuXG4gICAgICAgICAgICBpZiAodGV4dCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtVGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZW1vdmVDaGlsZHJlbih0aGlzLmVsZW1lbnQpO1xuXG4gICAgICAgICAgICBjb25zdCBodG1sID0gcmVzdWx0LmpvaW4odGhpcy5vcHRpb25zLnNlcGFyYXRvcik7XG4gICAgICAgICAgICBhcHBlbmRIdG1sKGh0bWwsIHRoaXMuZWxlbWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGVFbGVtZW50KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIHNob3dFbGVtZW50KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgfVxuXG4gICAgX2l0ZW1UZXh0KGl0ZW0pIHtcbiAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgbGV0IGluWm9vbUxldmVsID0gdGhpcy5faW5ab29tTGV2ZWwoaXRlbS5taW5ab29tLCBpdGVtLm1heFpvb20pO1xuICAgICAgICBsZXQgaW5BcmVhID0gdGhpcy5faW5BcmVhKGl0ZW0uZXh0ZW50KTtcblxuICAgICAgICBpZiAoaW5ab29tTGV2ZWwgJiYgaW5BcmVhKSB7XG4gICAgICAgICAgICB0ZXh0ICs9IGl0ZW0udGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIF9pblpvb21MZXZlbChtaW4sIG1heCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgbGV0IG5ld01pbiA9IHZhbHVlT3JEZWZhdWx0KG1pbiwgLU51bWJlci5NQVhfVkFMVUUpO1xuICAgICAgICBsZXQgbmV3TWF4ID0gdmFsdWVPckRlZmF1bHQobWF4LCBOdW1iZXIuTUFYX1ZBTFVFKTtcblxuICAgICAgICByZXN1bHQgPSB0aGlzLl96b29tID4gbmV3TWluICYmIHRoaXMuX3pvb20gPCBuZXdNYXg7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX2luQXJlYShhcmVhKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChhcmVhKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhcmVhLmNvbnRhaW5zKHRoaXMuX2V4dGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQXR0cmlidXRpb24sIHtcbiAgICBuYW1lOiAnQXR0cmlidXRpb24nLFxuICAgIHNlcGFyYXRvcjogJyZuYnNwO3wmbmJzcDsnLFxuICAgIGl0ZW1UZW1wbGF0ZTogJyM9IHRleHQgIydcbn0pO1xuXG4iLCJpbXBvcnQge1xuICAgIGRlZXBFeHRlbmQsXG4gICAgYWRkQ2xhc3MsXG4gICAga2V5cyxcbiAgICBzZXREZWZhdWx0T3B0aW9uc1xufSBmcm9tICcuLi9jb21tb24nO1xuXG5pbXBvcnQge1xuICAgIE9ic2VydmFibGVcbn0gZnJvbSAnLi9zY3JvbGxlci9vYnNlcnZhYmxlJztcblxuaW1wb3J0IHtcbiAgICBwcm94eSxcbiAgICBvbixcbiAgICBvZmYsXG4gICAgc2V0RGVmYXVsdEV2ZW50cyxcbiAgICBjb252ZXJ0VG9IdG1sXG59IGZyb20gJy4vdXRpbHMnO1xuXG5jb25zdCBQQU4gPSBcInBhblwiO1xuXG5jb25zdCBkaXJlY3Rpb25zTWFwID0ge1xuICAgIHVwOiB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJrLW5hdmlnYXRvci1uXCIsXG4gICAgICAgIGljb25DbGFzczogXCJrLWktYXJyb3ctblwiXG4gICAgfSxcbiAgICBkb3duOiB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJrLW5hdmlnYXRvci1zXCIsXG4gICAgICAgIGljb25DbGFzczogXCJrLWktYXJyb3ctc1wiXG4gICAgfSxcbiAgICByaWdodDoge1xuICAgICAgICBjbGFzc05hbWU6IFwiay1uYXZpZ2F0b3ItZVwiLFxuICAgICAgICBpY29uQ2xhc3M6IFwiay1pLWFycm93LWVcIlxuICAgIH0sXG4gICAgbGVmdDoge1xuICAgICAgICBjbGFzc05hbWU6IFwiay1uYXZpZ2F0b3Itd1wiLFxuICAgICAgICBpY29uQ2xhc3M6IFwiay1pLWFycm93LXdcIlxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbihkaXJlY3Rpb24pIHtcbiAgICBjb25zdCBodG1sID1cbiAgICAgICAgJzxidXR0b24gY2xhc3M9XCJrLWJ1dHRvbiBrLWJ1dHRvbi1zcXVhcmUgay1yb3VuZGVkLWZ1bGwgay1idXR0b24tZmxhdCBrLWJ1dHRvbi1mbGF0LWJhc2Ugay1pY29uLWJ1dHRvbiAnICtcbiAgICAgICAgICAgIGRpcmVjdGlvbnNNYXBbZGlyZWN0aW9uXS5jbGFzc05hbWUgK1xuICAgICAgICAgICAgJ1wiIGFyaWEtbGFiZWw9XCJtb3ZlICcgKyBkaXJlY3Rpb24gKyAnXCI+JyArXG4gICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJrLWljb24gJyArIGRpcmVjdGlvbnNNYXBbZGlyZWN0aW9uXS5pY29uQ2xhc3MgKyAnXCIgLz4nICtcbiAgICAgICAgJzwvYnV0dG9uPic7XG5cbiAgICByZXR1cm4gY29udmVydFRvSHRtbChodG1sKTtcbn1cblxuZXhwb3J0IGNsYXNzIE5hdmlnYXRvciBleHRlbmRzIE9ic2VydmFibGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9pbml0T3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBuYXZpZ2F0ZVVwQnV0dG9uID0gY3JlYXRlQnV0dG9uKFwidXBcIik7XG4gICAgICAgIGNvbnN0IG5hdmlnYXRlUmlnaHRsQnV0dG9uID0gY3JlYXRlQnV0dG9uKFwicmlnaHRcIik7XG4gICAgICAgIGNvbnN0IG5hdmlnYXRlRG93bkJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbihcImRvd25cIik7XG4gICAgICAgIGNvbnN0IG5hdmlnYXRlTGVmdEJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbihcImxlZnRcIik7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKG5hdmlnYXRlVXBCdXR0b24pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQobmF2aWdhdGVSaWdodGxCdXR0b24pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQobmF2aWdhdGVEb3duQnV0dG9uKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKG5hdmlnYXRlTGVmdEJ1dHRvbik7XG5cbiAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCAnay13aWRnZXQgay1uYXZpZ2F0b3InKTtcblxuICAgICAgICBvbih0aGlzLmVsZW1lbnQsIFwiY2xpY2tcIiwgXCIuay1idXR0b25cIiwgcHJveHkodGhpcy5fY2xpY2ssIHRoaXMpKTtcblxuICAgICAgICBsZXQgcGFyZW50RWxlbWVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLmNsb3Nlc3QoXCJbZGF0YS1yb2xlXVwiKTtcblxuICAgICAgICB0aGlzLl9rZXlyb290ID0gcGFyZW50RWxlbWVudCA/IHBhcmVudEVsZW1lbnQgOiB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3RhYmluZGV4KHRoaXMuX2tleXJvb3QpO1xuXG4gICAgICAgIHRoaXMuX2tleWRvd25IYW5kbGVyID0gcHJveHkodGhpcy5fa2V5ZG93biwgdGhpcyk7XG4gICAgICAgIG9uKHRoaXMuX2tleXJvb3QsIFwia2V5ZG93blwiLCB0aGlzLl9rZXlkb3duSGFuZGxlcik7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgLy8gb3JpZ2luYXRlcyBmcm9tIHRoZSBrZW5kby5qcXVlcnkgdmVyc2lvblxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIG9mZih0aGlzLl9rZXlyb290LCBcImtleWRvd25cIiwgdGhpcy5fa2V5ZG93bkhhbmRsZXIpO1xuICAgIH1cblxuICAgIF90YWJpbmRleCh0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IHRhcmdldCB8fCB0aGlzLndyYXBwZXIgfHwgdGhpcy5lbGVtZW50O1xuXG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgVEFCSU5ERVggPSBcInRhYmluZGV4XCIsXG4gICAgICAgICAgICB0YWJpbmRleCA9IHRhcmdldEVsZW1lbnQuZ2V0QXR0cmlidXRlKFRBQklOREVYKSB8fCBlbGVtZW50LmdldEF0dHJpYnV0ZShUQUJJTkRFWCk7XG5cbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoVEFCSU5ERVgpO1xuXG4gICAgICAgIHRhcmdldEVsZW1lbnQuc2V0QXR0cmlidXRlKFRBQklOREVYLCAhaXNOYU4odGFiaW5kZXgpID8gdGFiaW5kZXggOiAwKTtcbiAgICB9XG5cbiAgICBfaW5pdE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIF9wYW4oeCwgeSkge1xuICAgICAgICBsZXQgcGFuU3RlcCA9IHRoaXMub3B0aW9ucy5wYW5TdGVwO1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcihQQU4sIHtcbiAgICAgICAgICAgIHg6IHggKiBwYW5TdGVwLFxuICAgICAgICAgICAgeTogeSAqIHBhblN0ZXBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NsaWNrKGUpIHtcbiAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICBsZXQgeSA9IDA7XG4gICAgICAgIGxldCBidXR0b24gPSBlLmN1cnJlbnRUYXJnZXQ7XG5cbiAgICAgICAgaWYgKGJ1dHRvbi5tYXRjaGVzKCcuay1uYXZpZ2F0b3ItbicpKSB7XG4gICAgICAgICAgICB5ID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b24ubWF0Y2hlcygnLmstbmF2aWdhdG9yLXMnKSkge1xuICAgICAgICAgICAgeSA9IC0xO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbi5tYXRjaGVzKCcuay1uYXZpZ2F0b3ItZScpKSB7XG4gICAgICAgICAgICB4ID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b24ubWF0Y2hlcygnLmstbmF2aWdhdG9yLXcnKSkge1xuICAgICAgICAgICAgeCA9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcGFuKHgsIHkpO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgICBfa2V5ZG93bihlKSB7XG4gICAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgICAgICAgY2FzZSBrZXlzLlVQOlxuICAgICAgICAgICAgICAgIHRoaXMuX3BhbigwLCAxKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGtleXMuRE9XTjpcbiAgICAgICAgICAgICAgICB0aGlzLl9wYW4oMCwgLTEpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Uga2V5cy5SSUdIVDpcbiAgICAgICAgICAgICAgICB0aGlzLl9wYW4oMSwgMCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBrZXlzLkxFRlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFuKC0xLCAwKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG59XG5cbnNldERlZmF1bHRPcHRpb25zKE5hdmlnYXRvciwge1xuICAgIG5hbWU6ICdOYXZpZ2F0b3InLFxuICAgIHBhblN0ZXA6IDFcbn0pO1xuXG5cbnNldERlZmF1bHRFdmVudHMoTmF2aWdhdG9yLCBbXG4gICAgUEFOXG5dKTtcbiIsImltcG9ydCB7XG4gICAgZGVlcEV4dGVuZCxcbiAgICBhZGRDbGFzcyxcbiAgICBrZXlzLFxuICAgIGhhc0NsYXNzZXMsXG4gICAgc2V0RGVmYXVsdE9wdGlvbnNcbn0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IHtcbiAgICBPYnNlcnZhYmxlXG59IGZyb20gJy4vc2Nyb2xsZXIvb2JzZXJ2YWJsZSc7XG5cbmltcG9ydCB7XG4gICAgb24sXG4gICAgb2ZmLFxuICAgIHNldERlZmF1bHRFdmVudHMsXG4gICAgY29udmVydFRvSHRtbFxufSBmcm9tICcuL3V0aWxzJztcblxuZnVuY3Rpb24gY3JlYXRlQnV0dG9uKGRpcmVjdGlvbiwgaWNvbkNsYXNzKSB7XG4gICAgY29uc3QgaHRtbCA9XG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwiay1idXR0b24gay1idXR0b24tbWQgay1yb3VuZGVkLW1kIGstYnV0dG9uLXNvbGlkIGstYnV0dG9uLXNvbGlkLWJhc2Ugay1pY29uLWJ1dHRvbiBrLXpvb20tJyArIGRpcmVjdGlvbiArXG4gICAgICAgICAgICAnXCIgdGl0bGU9XCJ6b29tLScgKyBkaXJlY3Rpb24gK1xuICAgICAgICAgICAgJ1wiIGFyaWEtbGFiZWw9XCJ6b29tLScgKyBkaXJlY3Rpb24gKyAnXCI+JyArXG4gICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJrLWljb24gJyArIGljb25DbGFzcyArICdcIj4nICsgJzwvc3Bhbj4nICtcbiAgICAgICAgJzwvYnV0dG9uPic7XG5cbiAgICByZXR1cm4gY29udmVydFRvSHRtbChodG1sKTtcbn1cblxubGV0IFBMVVMgPSAxODc7XG5sZXQgTUlOVVMgPSAxODk7XG5sZXQgRkZfUExVUyA9IDYxO1xubGV0IEZGX01JTlVTID0gMTczO1xuY29uc3QgQ0hBTkdFID0gXCJjaGFuZ2VcIjtcblxuZXhwb3J0IGNsYXNzIFpvb21Db250cm9sIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9pbml0T3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICBjb25zdCB6b29tSW5CdXR0b24gPSBjcmVhdGVCdXR0b24oJ2luJywgJ2staS1wbHVzJyk7XG4gICAgICAgIGNvbnN0IHpvb21PdXRCdXR0b24gPSBjcmVhdGVCdXR0b24oJ291dCcsICdrLWktbWludXMnKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoem9vbUluQnV0dG9uKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHpvb21PdXRCdXR0b24pO1xuXG4gICAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudCwgJ2std2lkZ2V0IGstem9vbS1jb250cm9sIGstYnV0dG9uLWdyb3VwIGstZ3JvdXAtaG9yaXpvbnRhbCcpO1xuXG4gICAgICAgIHRoaXMuX2NsaWNrSGFuZGxlciA9IHRoaXMuX2NsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIG9uKHRoaXMuZWxlbWVudCwgXCJjbGlja1wiLCBcIi5rLWJ1dHRvblwiLCB0aGlzLl9jbGlja0hhbmRsZXIpO1xuXG4gICAgICAgIGxldCBwYXJlbnRFbGVtZW50ID0gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUuY2xvc2VzdChcIltkYXRhLXJvbGVdXCIpO1xuXG4gICAgICAgIHRoaXMuX2tleXJvb3QgPSBwYXJlbnRFbGVtZW50ID8gcGFyZW50RWxlbWVudCA6IHRoaXMuZWxlbWVudDtcblxuICAgICAgICB0aGlzLl90YWJpbmRleCh0aGlzLl9rZXlyb290KTtcblxuICAgICAgICB0aGlzLl9rZXlkb3duSGFuZGxlciA9IHRoaXMuX2tleWRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgb24odGhpcy5fa2V5cm9vdCwgXCJrZXlkb3duXCIsIHRoaXMuX2tleWRvd25IYW5kbGVyKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICBvZmYodGhpcy5lbGVtZW50LCBcImNsaWNrXCIsIHRoaXMuX2NsaWNrSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fa2V5cm9vdCkge1xuICAgICAgICAgICAgb2ZmKHRoaXMuX2tleXJvb3QsICdrZXlkb3duJywgdGhpcy5fa2V5ZG93bkhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3RhYmluZGV4KHRhcmdldCkge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gdGFyZ2V0IHx8IHRoaXMud3JhcHBlciB8fCB0aGlzLmVsZW1lbnQ7XG5cbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICBUQUJJTkRFWCA9IFwidGFiaW5kZXhcIixcbiAgICAgICAgICAgIHRhYmluZGV4ID0gdGFyZ2V0RWxlbWVudC5nZXRBdHRyaWJ1dGUoVEFCSU5ERVgpIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFRBQklOREVYKTtcblxuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShUQUJJTkRFWCk7XG5cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5zZXRBdHRyaWJ1dGUoVEFCSU5ERVgsICFpc05hTih0YWJpbmRleCkgPyB0YWJpbmRleCA6IDApO1xuICAgIH1cblxuICAgIF9pbml0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgX2NoYW5nZShkaXJlY3Rpb24pIHtcbiAgICAgICAgbGV0IHpvb21TdGVwID0gdGhpcy5vcHRpb25zLnpvb21TdGVwO1xuICAgICAgICB0aGlzLnRyaWdnZXIoQ0hBTkdFLCB7IGRlbHRhOiBkaXJlY3Rpb24gKiB6b29tU3RlcCB9KTtcbiAgICB9XG5cbiAgICBfY2xpY2soZSkge1xuICAgICAgICBsZXQgYnV0dG9uID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBsZXQgZGlyZWN0aW9uID0gMTtcblxuICAgICAgICBpZiAoaGFzQ2xhc3NlcyhidXR0b24sICdrLXpvb20tb3V0JykpIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2hhbmdlKGRpcmVjdGlvbik7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgICBfa2V5ZG93bihlKSB7XG4gICAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgICAgICAgY2FzZSBrZXlzLk5VTVBBRF9QTFVTOlxuICAgICAgICAgICAgY2FzZSBQTFVTOlxuICAgICAgICAgICAgY2FzZSBGRl9QTFVTOlxuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZSgxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Uga2V5cy5OVU1QQURfTUlOVVM6XG4gICAgICAgICAgICBjYXNlIE1JTlVTOlxuICAgICAgICAgICAgY2FzZSBGRl9NSU5VUzpcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2UoLTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhab29tQ29udHJvbCwge1xuICAgIG5hbWU6ICdab29tQ29udHJvbCcsXG4gICAgem9vbVN0ZXA6IDFcbn0pO1xuXG5zZXREZWZhdWx0RXZlbnRzKFpvb21Db250cm9sLCBbXG4gICAgQ0hBTkdFXG5dKTtcbiIsImltcG9ydCB7XG4gICAgQ2xhc3MsXG4gICAgdmFsdWVPckRlZmF1bHRcbn0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICcuL2xvY2F0aW9uJztcblxubGV0IG1hdGggPSBNYXRoLFxuICAgIG1heCA9IG1hdGgubWF4LFxuICAgIG1pbiA9IG1hdGgubWluO1xuXG5leHBvcnQgY2xhc3MgRXh0ZW50IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxOdywgaW5pdGlhbFNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGxldCBudyA9IExvY2F0aW9uLmNyZWF0ZShpbml0aWFsTncpO1xuICAgICAgICBsZXQgc2UgPSBMb2NhdGlvbi5jcmVhdGUoaW5pdGlhbFNlKTtcblxuICAgICAgICBpZiAobncubG5nICsgMTgwID4gc2UubG5nICsgMTgwICYmIG53LmxhdCArIDkwIDwgc2UubGF0ICsgOTApIHtcbiAgICAgICAgICAgIHRoaXMuc2UgPSBudztcbiAgICAgICAgICAgIHRoaXMubncgPSBzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2UgPSBzZTtcbiAgICAgICAgICAgIHRoaXMubncgPSBudztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRhaW5zKGxvYykge1xuICAgICAgICBsZXQgbncgPSB0aGlzLm53LCBzZSA9IHRoaXMuc2UsIGxuZyA9IHZhbHVlT3JEZWZhdWx0KGxvYy5sbmcsIGxvY1sxXSksIGxhdCA9IHZhbHVlT3JEZWZhdWx0KGxvYy5sYXQsIGxvY1swXSk7XG5cbiAgICAgICAgcmV0dXJuIGxvYyAmJlxuICAgICAgICAgICAgbG5nICsgMTgwID49IG53LmxuZyArIDE4MCAmJiBsbmcgKyAxODAgPD0gc2UubG5nICsgMTgwICYmXG4gICAgICAgICAgICBsYXQgKyA5MCA+PSBzZS5sYXQgKyA5MCAmJiBsYXQgKyA5MCA8PSBudy5sYXQgKyA5MDtcbiAgICB9XG5cbiAgICBjZW50ZXIoKSB7XG4gICAgICAgIGxldCBudyA9IHRoaXMubnc7XG4gICAgICAgIGxldCBzZSA9IHRoaXMuc2U7XG4gICAgICAgIGxldCBsbmcgPSBudy5sbmcgKyAoc2UubG5nIC0gbncubG5nKSAvIDI7XG4gICAgICAgIGxldCBsYXQgPSBudy5sYXQgKyAoc2UubGF0IC0gbncubGF0KSAvIDI7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihsYXQsIGxuZyk7XG4gICAgfVxuXG4gICAgY29udGFpbnNBbnkobG9jcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5jb250YWlucyhsb2NzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaW5jbHVkZShsb2MpIHtcbiAgICAgICAgbGV0IG53ID0gdGhpcy5udywgc2UgPSB0aGlzLnNlLCBsbmcgPSB2YWx1ZU9yRGVmYXVsdChsb2MubG5nLCBsb2NbMV0pLCBsYXQgPSB2YWx1ZU9yRGVmYXVsdChsb2MubGF0LCBsb2NbMF0pO1xuXG4gICAgICAgIG53LmxuZyA9IG1pbihudy5sbmcsIGxuZyk7XG4gICAgICAgIG53LmxhdCA9IG1heChudy5sYXQsIGxhdCk7XG4gICAgICAgIHNlLmxuZyA9IG1heChzZS5sbmcsIGxuZyk7XG4gICAgICAgIHNlLmxhdCA9IG1pbihzZS5sYXQsIGxhdCk7XG4gICAgfVxuXG4gICAgaW5jbHVkZUFsbChsb2NzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pbmNsdWRlKGxvY3NbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZWRnZXMoKSB7XG4gICAgICAgIGxldCBudyA9IHRoaXMubncsIHNlID0gdGhpcy5zZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbnc6IHRoaXMubncsXG4gICAgICAgICAgICBuZTogbmV3IExvY2F0aW9uKG53LmxhdCwgc2UubG5nKSxcbiAgICAgICAgICAgIHNlOiB0aGlzLnNlLFxuICAgICAgICAgICAgc3c6IG5ldyBMb2NhdGlvbihzZS5sYXQsIG53LmxuZylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b0FycmF5KCkge1xuICAgICAgICBsZXQgbncgPSB0aGlzLm53LCBzZSA9IHRoaXMuc2U7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG53LFxuICAgICAgICAgICAgbmV3IExvY2F0aW9uKG53LmxhdCwgc2UubG5nKSxcbiAgICAgICAgICAgIHNlLFxuICAgICAgICAgICAgbmV3IExvY2F0aW9uKHNlLmxhdCwgbncubG5nKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIG92ZXJsYXBzKGV4dGVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluc0FueShleHRlbnQudG9BcnJheSgpKSB8fFxuICAgICAgICAgICAgZXh0ZW50LmNvbnRhaW5zQW55KHRoaXMudG9BcnJheSgpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKGEsIGIpIHtcbiAgICAgICAgaWYgKGEgaW5zdGFuY2VvZiBFeHRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9IGVsc2UgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFeHRlbnQoYSwgYik7XG4gICAgICAgIH0gZWxzZSBpZiAoYSAmJiBhLmxlbmd0aCA9PT0gNCAmJiAhYikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFeHRlbnQoW1xuICAgICAgICAgICAgICAgIGFbMF0sXG4gICAgICAgICAgICAgICAgYVsxXVxuICAgICAgICAgICAgXSwgW1xuICAgICAgICAgICAgICAgIGFbMl0sXG4gICAgICAgICAgICAgICAgYVszXVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IFdvcmxkKCkge1xuICAgICAgICByZXR1cm4gbmV3IEV4dGVudChbIDkwLCAtMTgwIF0sIFsgLTkwLCAxODAgXSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBDbGFzcyxcbiAgICBhZGRDbGFzcyxcbiAgICBkZWVwRXh0ZW5kLFxuICAgIGRlZmluZWRcbn0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuaW1wb3J0IHtcbiAgICBFeHRlbnRcbn0gZnJvbSAnLi8uLi9leHRlbnQnO1xuXG5pbXBvcnQge1xuICAgIGdldFN1cHBvcnRlZEZlYXR1cmVzXG59IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIExheWVyIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKG1hcCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc3VwcG9ydCA9IGdldFN1cHBvcnRlZEZlYXR1cmVzKCk7XG5cbiAgICAgICAgdGhpcy5faW5pdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgXCJrLWxheWVyXCIpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnpJbmRleCA9IHRoaXMub3B0aW9ucy56SW5kZXg7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IHRoaXMub3B0aW9ucy5vcGFjaXR5O1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgbWFwLnNjcm9sbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcblxuICAgICAgICB0aGlzLl9iZWZvcmVSZXNldCA9IHRoaXMuX2JlZm9yZVJlc2V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3Jlc2V0ID0gdGhpcy5fcmVzZXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVzaXplID0gdGhpcy5fcmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3BhbkVuZCA9IHRoaXMuX3BhbkVuZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2YXRlKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9uKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIF9pbml0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZSgpO1xuICAgICAgICB0aGlzLl9hcHBseUV4dGVudCh0cnVlKTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgIHRoaXMuX3NldFZpc2liaWxpdHkoZmFsc2UpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl9iZWZvcmVSZXNldCgpO1xuICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgIH1cblxuICAgIF9yZXNldCgpIHtcbiAgICAgICAgdGhpcy5fYXBwbHlFeHRlbnQoKTtcbiAgICB9XG5cbiAgICBfYmVmb3JlUmVzZXQoKSB7XG5cbiAgICB9XG5cbiAgICBfcmVzaXplKCkge1xuXG4gICAgfVxuXG4gICAgX3BhbkVuZCgpIHtcbiAgICAgICAgdGhpcy5fYXBwbHlFeHRlbnQoKTtcbiAgICB9XG5cbiAgICBfYXBwbHlFeHRlbnQoKSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgem9vbSA9IHRoaXMubWFwLnpvb20oKTtcbiAgICAgICAgbGV0IG1hdGNoTWluWm9vbSA9ICFkZWZpbmVkKG9wdGlvbnMubWluWm9vbSkgfHwgem9vbSA+PSBvcHRpb25zLm1pblpvb207XG4gICAgICAgIGxldCBtYXRjaE1heFpvb20gPSAhZGVmaW5lZChvcHRpb25zLm1heFpvb20pIHx8IHpvb20gPD0gb3B0aW9ucy5tYXhab29tO1xuICAgICAgICBsZXQgZXh0ZW50ID0gRXh0ZW50LmNyZWF0ZShvcHRpb25zLmV4dGVudCk7XG4gICAgICAgIGxldCBpbnNpZGUgPSAhZXh0ZW50IHx8IGV4dGVudC5vdmVybGFwcyh0aGlzLm1hcC5leHRlbnQoKSk7XG5cbiAgICAgICAgdGhpcy5fc2V0VmlzaWJpbGl0eShtYXRjaE1pblpvb20gJiYgbWF0Y2hNYXhab29tICYmIGluc2lkZSk7XG4gICAgfVxuXG4gICAgX3NldFZpc2liaWxpdHkodmlzaWJsZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IHZpc2libGUgPyAnJyA6ICdub25lJztcbiAgICB9XG5cbiAgICBfYWN0aXZhdGUoKSB7XG4gICAgICAgIGxldCBtYXAgPSB0aGlzLm1hcDtcblxuICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG5cbiAgICAgICAgbWFwLmJpbmQoJ2JlZm9yZVJlc2V0JywgdGhpcy5fYmVmb3JlUmVzZXQpO1xuICAgICAgICBtYXAuYmluZCgncmVzZXQnLCB0aGlzLl9yZXNldCk7XG4gICAgICAgIG1hcC5iaW5kKCdyZXNpemUnLCB0aGlzLl9yZXNpemUpO1xuICAgICAgICBtYXAuYmluZCgncGFuRW5kJywgdGhpcy5fcGFuRW5kKTtcbiAgICB9XG5cbiAgICBfZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgbGV0IG1hcCA9IHRoaXMubWFwO1xuXG4gICAgICAgIG1hcC51bmJpbmQoJ2JlZm9yZVJlc2V0JywgdGhpcy5fYmVmb3JlUmVzZXQpO1xuICAgICAgICBtYXAudW5iaW5kKCdyZXNldCcsIHRoaXMuX3Jlc2V0KTtcbiAgICAgICAgbWFwLnVuYmluZCgncmVzaXplJywgdGhpcy5fcmVzaXplKTtcbiAgICAgICAgbWFwLnVuYmluZCgncGFuRW5kJywgdGhpcy5fcGFuRW5kKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQXR0cmlidXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0aW9uID0gdGhpcy5tYXAuYXR0cmlidXRpb247XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0aW9uKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbi5hZGQodGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZWFkRGF0YSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMub3B0aW9ucy5kYXRhIHx8IFtdO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBfaGFzRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEgJiYgdGhpcy5fZGF0YS5sZW5ndGggPiAwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgZ2VvbWV0cnkgYXMgZyxcbiAgICB0aHJvdHRsZVxufSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7XG4gICAgQ2xhc3MsXG4gICAgYWRkQ2xhc3MsXG4gICAgZGVlcEV4dGVuZCxcbiAgICByb3VuZCxcbiAgICBsaW1pdFZhbHVlLFxuICAgIGhhc2hLZXksXG4gICAgc2V0RGVmYXVsdE9wdGlvbnNcbn0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuaW1wb3J0IHsgcmVtb3ZlQ2hpbGRyZW4gfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IExheWVyIH0gZnJvbSAnLi9sYXllcic7XG5cbmltcG9ydCBUZW1wbGF0ZVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvdGVtcGxhdGUtc2VydmljZSc7XG5cbmxldCBtYXRoID0gTWF0aCxcbiAgICB0ZW1wbGF0ZSA9IFRlbXBsYXRlU2VydmljZS5jb21waWxlLFxuICAgIFBvaW50ID0gZy5Qb2ludDtcblxuZnVuY3Rpb24gcm91bmRQb2ludChwb2ludCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQocm91bmQocG9pbnQueCksIHJvdW5kKHBvaW50LnkpKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2l6ZShzaXplKSB7XG4gICAgbGV0IG5ld1NpemUgPSBzaXplO1xuXG4gICAgaWYgKHR5cGVvZihzaXplKSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBuZXdTaXplICs9IFwicHhcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3U2l6ZTtcbn1cblxuZXhwb3J0IGNsYXNzIFRpbGVMYXllciBleHRlbmRzIExheWVyIHtcbiAgICBjb25zdHJ1Y3RvcihtYXAsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIobWFwLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5zdWJkb21haW5zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnN1YmRvbWFpbnMgPSB0aGlzLm9wdGlvbnMuc3ViZG9tYWlucy5zcGxpdCgnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmlld1R5cGUgPSB0aGlzLl92aWV3VHlwZSgpO1xuICAgICAgICB0aGlzLl92aWV3ID0gbmV3IHZpZXdUeXBlKHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX3ZpZXcuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl92aWV3ID0gbnVsbDtcbiAgICB9XG5cbiAgICBfYmVmb3JlUmVzZXQoKSB7XG4gICAgICAgIGxldCBtYXAgPSB0aGlzLm1hcDtcbiAgICAgICAgbGV0IG9yaWdpbiA9IG1hcC5sb2NhdGlvblRvTGF5ZXIobWFwLmV4dGVudCgpLm53KS5yb3VuZCgpO1xuICAgICAgICB0aGlzLl92aWV3LnZpZXdPcmlnaW4ob3JpZ2luKTtcbiAgICB9XG5cbiAgICBfcmVzZXQoKSB7XG4gICAgICAgIHN1cGVyLl9yZXNldCgpO1xuICAgICAgICB0aGlzLl91cGRhdGVWaWV3KCk7XG4gICAgICAgIHRoaXMuX3ZpZXcucmVzZXQoKTtcbiAgICB9XG5cbiAgICBfdmlld1R5cGUoKSB7XG4gICAgICAgIHJldHVybiBUaWxlVmlldztcbiAgICB9XG5cbiAgICBfYWN0aXZhdGUoKSB7XG4gICAgICAgIHN1cGVyLl9hY3RpdmF0ZSgpO1xuXG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0Lm1vYmlsZU9TKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3Bhbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhbiA9IHRocm90dGxlKHRoaXMuX3JlbmRlci5iaW5kKHRoaXMpLCAxMDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm1hcC5iaW5kKCdwYW4nLCB0aGlzLl9wYW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2RlYWN0aXZhdGUoKSB7XG4gICAgICAgIHN1cGVyLl9kZWFjdGl2YXRlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Bhbikge1xuICAgICAgICAgICAgdGhpcy5tYXAudW5iaW5kKCdwYW4nLCB0aGlzLl9wYW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVZpZXcoKSB7XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlldyxcbiAgICAgICAgICAgIG1hcCA9IHRoaXMubWFwLFxuICAgICAgICAgICAgZXh0ZW50ID0gbWFwLmV4dGVudCgpLFxuICAgICAgICAgICAgZXh0ZW50VG9Qb2ludCA9IHtcbiAgICAgICAgICAgICAgICBudzogbWFwLmxvY2F0aW9uVG9MYXllcihleHRlbnQubncpLnJvdW5kKCksXG4gICAgICAgICAgICAgICAgc2U6IG1hcC5sb2NhdGlvblRvTGF5ZXIoZXh0ZW50LnNlKS5yb3VuZCgpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIHZpZXcuY2VudGVyKG1hcC5sb2NhdGlvblRvTGF5ZXIobWFwLmNlbnRlcigpKSk7XG4gICAgICAgIHZpZXcuZXh0ZW50KGV4dGVudFRvUG9pbnQpO1xuICAgICAgICB2aWV3Lnpvb20obWFwLnpvb20oKSk7XG4gICAgfVxuXG4gICAgX3Jlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgX3BhbkVuZChlKSB7XG4gICAgICAgIHN1cGVyLl9wYW5FbmQoZSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIF9yZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVZpZXcoKTtcbiAgICAgICAgdGhpcy5fdmlldy5yZW5kZXIoKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFRpbGVMYXllciwge1xuICAgIHRpbGVTaXplOiAyNTYsXG4gICAgc3ViZG9tYWluczogWydhJywgJ2InLCAnYyddLFxuICAgIHVybFRlbXBsYXRlOiAnJyxcbiAgICB6SW5kZXg6IDFcbn0pO1xuXG5leHBvcnQgY2xhc3MgVGlsZVZpZXcgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9pbml0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5wb29sID0gbmV3IFRpbGVQb29sKCk7XG4gICAgfVxuXG4gICAgX2luaXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBjZW50ZXIoY2VudGVyKSB7XG4gICAgICAgIHRoaXMuX2NlbnRlciA9IGNlbnRlcjtcbiAgICB9XG5cbiAgICBleHRlbnQoZXh0ZW50KSB7XG4gICAgICAgIHRoaXMuX2V4dGVudCA9IGV4dGVudDtcbiAgICB9XG5cbiAgICB2aWV3T3JpZ2luKG9yaWdpbikge1xuICAgICAgICB0aGlzLl92aWV3T3JpZ2luID0gb3JpZ2luO1xuICAgIH1cblxuICAgIHpvb20oem9vbSkge1xuICAgICAgICB0aGlzLl96b29tID0gem9vbTtcbiAgICB9XG5cbiAgICBwb2ludFRvVGlsZUluZGV4KHBvaW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQobWF0aC5mbG9vcihwb2ludC54IC8gdGhpcy5vcHRpb25zLnRpbGVTaXplKSwgbWF0aC5mbG9vcihwb2ludC55IC8gdGhpcy5vcHRpb25zLnRpbGVTaXplKSk7XG4gICAgfVxuXG4gICAgdGlsZUNvdW50KCkge1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuc2l6ZSgpLFxuICAgICAgICAgICAgZmlyc3RUaWxlSW5kZXggPSB0aGlzLnBvaW50VG9UaWxlSW5kZXgodGhpcy5fZXh0ZW50Lm53KSxcbiAgICAgICAgICAgIG53ID0gdGhpcy5fZXh0ZW50Lm53LFxuICAgICAgICAgICAgcG9pbnQgPSB0aGlzLmluZGV4VG9Qb2ludChmaXJzdFRpbGVJbmRleCkudHJhbnNsYXRlKC1udy54LCAtbncueSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IG1hdGguY2VpbCgobWF0aC5hYnMocG9pbnQueCkgKyBzaXplLndpZHRoKSAvIHRoaXMub3B0aW9ucy50aWxlU2l6ZSksXG4gICAgICAgICAgICB5OiBtYXRoLmNlaWwoKG1hdGguYWJzKHBvaW50LnkpICsgc2l6ZS5oZWlnaHQpIC8gdGhpcy5vcHRpb25zLnRpbGVTaXplKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNpemUoKSB7XG4gICAgICAgIGxldCBudyA9IHRoaXMuX2V4dGVudC5udyxcbiAgICAgICAgICAgIHNlID0gdGhpcy5fZXh0ZW50LnNlLFxuICAgICAgICAgICAgZGlmZiA9IHNlLmNsb25lKCkudHJhbnNsYXRlKC1udy54LCAtbncueSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBkaWZmLngsXG4gICAgICAgICAgICBoZWlnaHQ6IGRpZmYueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGluZGV4VG9Qb2ludChpbmRleCkge1xuICAgICAgICBsZXQgeCA9IGluZGV4LngsXG4gICAgICAgICAgICB5ID0gaW5kZXgueTtcblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHggKiB0aGlzLm9wdGlvbnMudGlsZVNpemUsIHkgKiB0aGlzLm9wdGlvbnMudGlsZVNpemUpO1xuICAgIH1cblxuICAgIHN1YmRvbWFpblRleHQoKSB7XG4gICAgICAgIGxldCBzdWJkb21haW5zID0gdGhpcy5vcHRpb25zLnN1YmRvbWFpbnM7XG4gICAgICAgIHJldHVybiBzdWJkb21haW5zW3RoaXMuc3ViZG9tYWluSW5kZXgrKyAlIHN1YmRvbWFpbnMubGVuZ3RoXTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICByZW1vdmVDaGlsZHJlbih0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLnBvb2wuZW1wdHkoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5wb29sLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3ViZG9tYWluSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLnRpbGVDb3VudCgpLFxuICAgICAgICAgICAgZmlyc3RUaWxlSW5kZXggPSB0aGlzLnBvaW50VG9UaWxlSW5kZXgodGhpcy5fZXh0ZW50Lm53KSxcbiAgICAgICAgICAgIHRpbGUsIHgsIHk7XG5cbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IHNpemUueDsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKHkgPSAwOyB5IDwgc2l6ZS55OyB5KyspIHtcbiAgICAgICAgICAgICAgICB0aWxlID0gdGhpcy5jcmVhdGVUaWxlKHtcbiAgICAgICAgICAgICAgICAgICAgeDogZmlyc3RUaWxlSW5kZXgueCArIHgsXG4gICAgICAgICAgICAgICAgICAgIHk6IGZpcnN0VGlsZUluZGV4LnkgKyB5XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRpbGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aWxlLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVUaWxlKGN1cnJlbnRJbmRleCkge1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMudGlsZU9wdGlvbnMoY3VycmVudEluZGV4KTtcbiAgICAgICAgbGV0IHRpbGUgPSB0aGlzLnBvb2wuZ2V0KHRoaXMuX2NlbnRlciwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKCF0aWxlLmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZCh0aWxlLmVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgfVxuXG4gICAgdGlsZU9wdGlvbnMoY3VycmVudEluZGV4KSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMud3JhcEluZGV4KGN1cnJlbnRJbmRleCksXG4gICAgICAgICAgICBwb2ludCA9IHRoaXMuaW5kZXhUb1BvaW50KGN1cnJlbnRJbmRleCksXG4gICAgICAgICAgICBvcmlnaW4gPSB0aGlzLl92aWV3T3JpZ2luLFxuICAgICAgICAgICAgb2Zmc2V0ID0gcG9pbnQuY2xvbmUoKS50cmFuc2xhdGUoLW9yaWdpbi54LCAtb3JpZ2luLnkpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBjdXJyZW50SW5kZXg6IGN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgIG9mZnNldDogcm91bmRQb2ludChvZmZzZXQpLFxuICAgICAgICAgICAgem9vbTogdGhpcy5fem9vbSxcbiAgICAgICAgICAgIHNpemU6IHRoaXMub3B0aW9ucy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHN1YmRvbWFpbjogdGhpcy5zdWJkb21haW5UZXh0KCksXG4gICAgICAgICAgICB1cmxUZW1wbGF0ZTogdGhpcy5vcHRpb25zLnVybFRlbXBsYXRlLFxuICAgICAgICAgICAgZXJyb3JVcmxUZW1wbGF0ZTogdGhpcy5vcHRpb25zLmVycm9yVXJsVGVtcGxhdGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB3cmFwSW5kZXgoaW5kZXgpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5ID0gbWF0aC5wb3coMiwgdGhpcy5fem9vbSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRoaXMud3JhcFZhbHVlKGluZGV4LngsIGJvdW5kYXJ5KSxcbiAgICAgICAgICAgIHk6IGxpbWl0VmFsdWUoaW5kZXgueSwgMCwgYm91bmRhcnkgLSAxKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHdyYXBWYWx1ZSh2YWx1ZSwgYm91bmRhcnkpIHtcbiAgICAgICAgbGV0IHJlbWFpbmRlciA9IG1hdGguYWJzKHZhbHVlKSAlIGJvdW5kYXJ5O1xuICAgICAgICBsZXQgd3JhcHBlZFZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHZhbHVlID49IDApIHtcbiAgICAgICAgICAgIHdyYXBwZWRWYWx1ZSA9IHJlbWFpbmRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZWRWYWx1ZSA9IGJvdW5kYXJ5IC0gKHJlbWFpbmRlciA9PT0gMCA/IGJvdW5kYXJ5IDogcmVtYWluZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3cmFwcGVkVmFsdWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW1hZ2VUaWxlIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faW5pdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudCgpO1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gZWxlbWVudCA/IGVsZW1lbnQucGFyZW50Tm9kZSA6IG51bGw7XG5cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbml0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgYWRkQ2xhc3MoZWwsIFwiay1sYXllclwiKTtcbiAgICAgICAgZWwuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGVsLnN0eWxlLndpZHRoID0gdGhpcy5vcHRpb25zLnNpemU7XG4gICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHRoaXMub3B0aW9ucy5zaXplO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuXG4gICAgICAgIC8vIHRvZG9cbiAgICAgICAgLy8gYWRkIG9uIGVycm9yIGhhbmRsZXJcblxuICAgICAgICAvLyB0aGlzLmVsZW1lbnQgPVxuICAgICAgICAvLyAkKCc8aW1nIHN0eWxlPVxcJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgZGlzcGxheTogYmxvY2s7XFwnIGFsdD1cXCdcXCcgLz4nKVxuICAgICAgICAvLyAuY3NzKHtcbiAgICAgICAgLy8gICAgIHdpZHRoOiB0aGlzLm9wdGlvbnMuc2l6ZSxcbiAgICAgICAgLy8gICAgIGhlaWdodDogdGhpcy5vcHRpb25zLnNpemVcbiAgICAgICAgLy8gfSlcbiAgICAgICAgLy8gLm9uKCdlcnJvcicsIHByb3h5KGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLmVycm9yVXJsKCkpIHtcbiAgICAgICAgLy8gICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuZXJyb3JVcmwoKSk7XG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIGUudGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0sIHRoaXMpKTtcbiAgICB9XG5cbiAgICBzaG93KCkge1xuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSByZW5kZXJTaXplKHRoaXMub3B0aW9ucy5vZmZzZXQueSk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IHJlbmRlclNpemUodGhpcy5vcHRpb25zLm9mZnNldC54KTtcblxuICAgICAgICBsZXQgdXJsID0gdGhpcy51cmwoKTtcblxuICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB1cmwoKSB7XG4gICAgICAgIGxldCB1cmxSZXN1bHQgPSB0ZW1wbGF0ZSh0aGlzLm9wdGlvbnMudXJsVGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4gdXJsUmVzdWx0KHRoaXMudXJsT3B0aW9ucygpKTtcbiAgICB9XG5cbiAgICBlcnJvclVybCgpIHtcbiAgICAgICAgbGV0IHVybFJlc3VsdCA9IHRlbXBsYXRlKHRoaXMub3B0aW9ucy5lcnJvclVybFRlbXBsYXRlKTtcbiAgICAgICAgcmV0dXJuIHVybFJlc3VsdCh0aGlzLnVybE9wdGlvbnMoKSk7XG4gICAgfVxuXG4gICAgdXJsT3B0aW9ucygpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHpvb206IG9wdGlvbnMuem9vbSxcbiAgICAgICAgICAgIHN1YmRvbWFpbjogb3B0aW9ucy5zdWJkb21haW4sXG4gICAgICAgICAgICB6OiBvcHRpb25zLnpvb20sXG4gICAgICAgICAgICB4OiBvcHRpb25zLmluZGV4LngsXG4gICAgICAgICAgICB5OiBvcHRpb25zLmluZGV4LnksXG4gICAgICAgICAgICBzOiBvcHRpb25zLnN1YmRvbWFpbixcbiAgICAgICAgICAgIHF1YWRrZXk6IG9wdGlvbnMucXVhZGtleSxcbiAgICAgICAgICAgIHE6IG9wdGlvbnMucXVhZGtleSxcbiAgICAgICAgICAgIGN1bHR1cmU6IG9wdGlvbnMuY3VsdHVyZSxcbiAgICAgICAgICAgIGM6IG9wdGlvbnMuY3VsdHVyZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoSW1hZ2VUaWxlLCB7XG4gICAgdXJsVGVtcGxhdGU6ICcnLFxuICAgIGVycm9yVXJsVGVtcGxhdGU6ICcnXG59KTtcblxuZXhwb3J0IGNsYXNzIFRpbGVQb29sIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgIH1cblxuICAgIGdldChjZW50ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubWF4U2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlKGNlbnRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGVtcHR5KCkge1xuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLl9pdGVtcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLl9pdGVtcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtc1tpXS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgICAgIGxldCB0aWxlO1xuICAgICAgICBsZXQgaWQgPSBoYXNoS2V5KG9wdGlvbnMucG9pbnQudG9TdHJpbmcoKSArIG9wdGlvbnMub2Zmc2V0LnRvU3RyaW5nKCkgKyBvcHRpb25zLnpvb20gKyBvcHRpb25zLnVybFRlbXBsYXRlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlbXNbaV0uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgdGlsZSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgIHRpbGUuc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZSA9IG5ldyBJbWFnZVRpbGUoaWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5faXRlbXMucHVzaCh0aWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH1cblxuICAgIF9yZW1vdmUoY2VudGVyKSB7XG4gICAgICAgIGxldCBpdGVtcyA9IHRoaXMuX2l0ZW1zO1xuICAgICAgICBsZXQgbWF4RGlzdCA9IC0xO1xuICAgICAgICBsZXQgaW5kZXggPSAtMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGlzdCA9IGl0ZW1zW2ldLm9wdGlvbnMucG9pbnQuZGlzdGFuY2VUbyhjZW50ZXIpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdCA+IG1heERpc3QgJiYgIWl0ZW1zW2ldLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgbWF4RGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBpdGVtc1tpbmRleF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoVGlsZVBvb2wsIHtcbiAgICBtYXhTaXplOiAxMDBcbn0pO1xuIiwiaW1wb3J0IHtcbiAgICBDbGFzcyxcbiAgICBlbGVtZW50T2Zmc2V0XG59IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmltcG9ydCB7XG4gICAgT2JzZXJ2YWJsZVxufSBmcm9tICcuL29ic2VydmFibGUnO1xuXG5pbXBvcnQge1xuICAgIGdldEV2ZW50TWFwLFxuICAgIHByb3h5LFxuICAgIGdldFN1cHBvcnRlZEZlYXR1cmVzXG59IGZyb20gJy4uL3V0aWxzJztcblxuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcblxuY29uc3QgQ0hBTkdFID0gJ2NoYW5nZSc7XG5cbmV4cG9ydCBjbGFzcyBUYXBDYXB0dXJlIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBkb21FbGVtZW50ID0gZWxlbWVudFswXSB8fCBlbGVtZW50O1xuXG4gICAgICAgIHRoYXQuY2FwdHVyZSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50TWFwID0gZ2V0RXZlbnRNYXAobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICAgICAgaWYgKGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZXZlbnRNYXAuZG93bi5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHByb3h5KHRoYXQuX3ByZXNzLCB0aGF0KSwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50TWFwLnVwLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgcHJveHkodGhhdC5fcmVsZWFzZSwgdGhhdCksIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBldmVudE1hcC5kb3duLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuYXR0YWNoRXZlbnQoZXZlbnQsIHByb3h5KHRoYXQuX3ByZXNzLCB0aGF0KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50TWFwLnVwLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuYXR0YWNoRXZlbnQoZXZlbnQsIHByb3h5KHRoYXQuX3JlbGVhc2UsIHRoYXQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC5iaW5kKFtcbiAgICAgICAgICAgICdwcmVzcycsXG4gICAgICAgICAgICAncmVsZWFzZSdcbiAgICAgICAgXSwgb3B0aW9ucyB8fCB7fSk7XG4gICAgfVxuXG4gICAgY2FwdHVyZU5leHQoKSB7XG4gICAgICAgIHRoaXMuY2FwdHVyZSA9IHRydWU7XG4gICAgfVxuXG4gICAgY2FuY2VsQ2FwdHVyZSgpIHtcbiAgICAgICAgdGhpcy5jYXB0dXJlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX3ByZXNzKGUpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoYXQudHJpZ2dlcigncHJlc3MnKTtcblxuICAgICAgICBpZiAodGhhdC5jYXB0dXJlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVsZWFzZShlKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGF0LnRyaWdnZXIoJ3JlbGVhc2UnKTtcblxuICAgICAgICBpZiAodGhhdC5jYXB0dXJlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGF0LmNhbmNlbENhcHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhbmVEaW1lbnNpb24gZXh0ZW5kcyBPYnNlcnZhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhhdC5mb3JjZWRFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGV4dGVuZCh0aGF0LCBvcHRpb25zKTtcbiAgICAgICAgdGhhdC5zY2FsZSA9IDE7XG5cbiAgICAgICAgaWYgKHRoYXQuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgdGhhdC5tZWFzdXJlID0gJ29mZnNldFdpZHRoJztcbiAgICAgICAgICAgIHRoYXQuc2Nyb2xsU2l6ZSA9ICdzY3JvbGxXaWR0aCc7XG4gICAgICAgICAgICB0aGF0LmF4aXMgPSAneCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGF0Lm1lYXN1cmUgPSAnb2Zmc2V0SGVpZ2h0JztcbiAgICAgICAgICAgIHRoYXQuc2Nyb2xsU2l6ZSA9ICdzY3JvbGxIZWlnaHQnO1xuICAgICAgICAgICAgdGhhdC5heGlzID0gJ3knO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFrZVZpcnR1YWwoKSB7XG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICB2aXJ0dWFsOiB0cnVlLFxuICAgICAgICAgICAgZm9yY2VkRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIF92aXJ0dWFsTWluOiAwLFxuICAgICAgICAgICAgX3ZpcnR1YWxNYXg6IDBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmlydHVhbFNpemUobWluLCBtYXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZpcnR1YWxNaW4gIT09IG1pbiB8fCB0aGlzLl92aXJ0dWFsTWF4ICE9PSBtYXgpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpcnR1YWxNaW4gPSBtaW47XG4gICAgICAgICAgICB0aGlzLl92aXJ0dWFsTWF4ID0gbWF4O1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG91dE9mQm91bmRzKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gb2Zmc2V0ID4gdGhpcy5tYXggfHwgb2Zmc2V0IDwgdGhpcy5taW47XG4gICAgfVxuXG4gICAgZm9yY2VFbmFibGVkKCkge1xuICAgICAgICB0aGlzLmZvcmNlZEVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lclt0aGlzLm1lYXN1cmVdO1xuICAgIH1cblxuICAgIGdldFRvdGFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50W3RoaXMuc2Nyb2xsU2l6ZV07XG4gICAgfVxuXG4gICAgcmVzY2FsZShzY2FsZSkge1xuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGU7XG4gICAgfVxuXG4gICAgdXBkYXRlKHNpbGVudCkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICB0b3RhbCA9IHRoYXQudmlydHVhbCA/IHRoYXQuX3ZpcnR1YWxNYXggOiB0aGF0LmdldFRvdGFsKCksXG4gICAgICAgICAgICBzY2FsZWRUb3RhbCA9IHRvdGFsICogdGhhdC5zY2FsZSxcbiAgICAgICAgICAgIHNpemUgPSB0aGF0LmdldFNpemUoKTtcblxuICAgICAgICBpZiAodG90YWwgPT09IDAgJiYgIXRoYXQuZm9yY2VkRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC5tYXggPSB0aGF0LnZpcnR1YWwgPyAtdGhhdC5fdmlydHVhbE1pbiA6IDA7XG4gICAgICAgIHRoYXQuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoYXQudG90YWwgPSBzY2FsZWRUb3RhbDtcbiAgICAgICAgdGhhdC5taW4gPSBNYXRoLm1pbih0aGF0Lm1heCwgc2l6ZSAtIHNjYWxlZFRvdGFsKTtcbiAgICAgICAgdGhhdC5taW5TY2FsZSA9IHNpemUgLyB0b3RhbDtcbiAgICAgICAgdGhhdC5jZW50ZXJPZmZzZXQgPSAoc2NhbGVkVG90YWwgLSBzaXplKSAvIDI7XG4gICAgICAgIHRoYXQuZW5hYmxlZCA9IHRoYXQuZm9yY2VkRW5hYmxlZCB8fCBzY2FsZWRUb3RhbCA+IHNpemU7XG5cbiAgICAgICAgaWYgKCFzaWxlbnQpIHtcbiAgICAgICAgICAgIHRoYXQudHJpZ2dlcihDSEFOR0UsIHRoYXQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFuZURpbWVuc2lvbnMgZXh0ZW5kcyBPYnNlcnZhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGF0LnggPSBuZXcgUGFuZURpbWVuc2lvbihleHRlbmQoe1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogdHJ1ZVxuICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgdGhhdC55ID0gbmV3IFBhbmVEaW1lbnNpb24oZXh0ZW5kKHtcbiAgICAgICAgICAgIGhvcml6b250YWw6IGZhbHNlXG4gICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICB0aGF0LmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICB0aGF0LmZvcmNlZE1pblNjYWxlID0gb3B0aW9ucy5taW5TY2FsZTtcbiAgICAgICAgdGhhdC5tYXhTY2FsZSA9IG9wdGlvbnMubWF4U2NhbGUgfHwgMTAwO1xuICAgICAgICB0aGF0LmJpbmQoQ0hBTkdFLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXNjYWxlKG5ld1NjYWxlKSB7XG4gICAgICAgIHRoaXMueC5yZXNjYWxlKG5ld1NjYWxlKTtcbiAgICAgICAgdGhpcy55LnJlc2NhbGUobmV3U2NhbGUpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBjZW50ZXJDb29yZGluYXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IE1hdGgubWluKDAsIC10aGlzLnguY2VudGVyT2Zmc2V0KSxcbiAgICAgICAgICAgIHk6IE1hdGgubWluKDAsIC10aGlzLnkuY2VudGVyT2Zmc2V0KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhhdC54LnVwZGF0ZSgpO1xuICAgICAgICB0aGF0LnkudXBkYXRlKCk7XG4gICAgICAgIHRoYXQuZW5hYmxlZCA9IHRoYXQueC5lbmFibGVkIHx8IHRoYXQueS5lbmFibGVkO1xuICAgICAgICB0aGF0Lm1pblNjYWxlID0gdGhhdC5mb3JjZWRNaW5TY2FsZSB8fCBNYXRoLm1pbih0aGF0LngubWluU2NhbGUsIHRoYXQueS5taW5TY2FsZSk7XG4gICAgICAgIHRoYXQuZml0U2NhbGUgPSBNYXRoLm1heCh0aGF0LngubWluU2NhbGUsIHRoYXQueS5taW5TY2FsZSk7XG4gICAgICAgIHRoYXQudHJpZ2dlcihDSEFOR0UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhbmVBeGlzIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBleHRlbmQodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgb3V0T2ZCb3VuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbi5vdXRPZkJvdW5kcyh0aGlzLm1vdmFibGVbdGhpcy5heGlzXSk7XG4gICAgfVxuXG4gICAgZHJhZ01vdmUoZGVsdGEpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgZGltZW5zaW9uID0gdGhhdC5kaW1lbnNpb24sXG4gICAgICAgICAgICBheGlzID0gdGhhdC5heGlzLFxuICAgICAgICAgICAgbW92YWJsZSA9IHRoYXQubW92YWJsZSxcbiAgICAgICAgICAgIHBvc2l0aW9uID0gbW92YWJsZVtheGlzXSArIGRlbHRhO1xuXG4gICAgICAgIGlmICghZGltZW5zaW9uLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkcmFnRGVsdGEgPSBkZWx0YTtcblxuICAgICAgICBpZiAocG9zaXRpb24gPCBkaW1lbnNpb24ubWluICYmIGRlbHRhIDwgMCB8fCBwb3NpdGlvbiA+IGRpbWVuc2lvbi5tYXggJiYgZGVsdGEgPiAwKSB7XG4gICAgICAgICAgICBkcmFnRGVsdGEgKj0gdGhhdC5yZXNpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92YWJsZS50cmFuc2xhdGVBeGlzKGF4aXMsIGRyYWdEZWx0YSk7XG4gICAgICAgIHRoYXQudHJpZ2dlcihDSEFOR0UsIHRoYXQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhbmUgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIHgsIHksXG4gICAgICAgICAgICByZXNpc3RhbmNlLFxuICAgICAgICAgICAgbW92YWJsZTtcblxuICAgICAgICBleHRlbmQodGhhdCwge1xuICAgICAgICAgICAgZWxhc3RpYzogdHJ1ZVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICByZXNpc3RhbmNlID0gdGhhdC5lbGFzdGljID8gMC41IDogMDtcbiAgICAgICAgbW92YWJsZSA9IHRoYXQubW92YWJsZTtcblxuICAgICAgICB0aGF0LnggPSB4ID0gbmV3IFBhbmVBeGlzKHtcbiAgICAgICAgICAgIGF4aXM6ICd4JyxcbiAgICAgICAgICAgIGRpbWVuc2lvbjogdGhhdC5kaW1lbnNpb25zLngsXG4gICAgICAgICAgICByZXNpc3RhbmNlOiByZXNpc3RhbmNlLFxuICAgICAgICAgICAgbW92YWJsZTogbW92YWJsZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGF0LnkgPSB5ID0gbmV3IFBhbmVBeGlzKHtcbiAgICAgICAgICAgIGF4aXM6ICd5JyxcbiAgICAgICAgICAgIGRpbWVuc2lvbjogdGhhdC5kaW1lbnNpb25zLnksXG4gICAgICAgICAgICByZXNpc3RhbmNlOiByZXNpc3RhbmNlLFxuICAgICAgICAgICAgbW92YWJsZTogbW92YWJsZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGF0LnVzZXJFdmVudHMuYmluZChbXG4gICAgICAgICAgICAncHJlc3MnLFxuICAgICAgICAgICAgJ21vdmUnLFxuICAgICAgICAgICAgJ2VuZCcsXG4gICAgICAgICAgICAnZ2VzdHVyZXN0YXJ0JyxcbiAgICAgICAgICAgICdnZXN0dXJlY2hhbmdlJ1xuICAgICAgICBdLCB7XG4gICAgICAgICAgICBnZXN0dXJlc3RhcnQoZSkge1xuICAgICAgICAgICAgICAgIHRoYXQuZ2VzdHVyZSA9IGU7XG5cbiAgICAgICAgICAgICAgICB0aGF0Lm9mZnNldCA9IGVsZW1lbnRPZmZzZXQodGhhdC5kaW1lbnNpb25zLmNvbnRhaW5lcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlc3MoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3RBbmNob3IgPSBlLmV2ZW50LnRhcmdldC5jbG9zZXN0KCdhJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VzdEFuY2hvciAmJiBjbG9zZXN0QW5jaG9yLm1hdGNoZXMoJ1tkYXRhLW5hdmlnYXRlLW9uLXByZXNzPXRydWVdJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5zZW5kZXIuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdlc3R1cmVjaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgIGxldCBwcmV2aW91c0dlc3R1cmUgPSB0aGF0Lmdlc3R1cmUsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ2VudGVyID0gcHJldmlvdXNHZXN0dXJlLmNlbnRlcixcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyID0gZS5jZW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlRGVsdGEgPSBlLmRpc3RhbmNlIC8gcHJldmlvdXNHZXN0dXJlLmRpc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICBtaW5TY2FsZSA9IHRoYXQuZGltZW5zaW9ucy5taW5TY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgbWF4U2NhbGUgPSB0aGF0LmRpbWVuc2lvbnMubWF4U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzO1xuICAgICAgICAgICAgICAgIGlmIChtb3ZhYmxlLnNjYWxlIDw9IG1pblNjYWxlICYmIHNjYWxlRGVsdGEgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlRGVsdGEgKz0gKDEgLSBzY2FsZURlbHRhKSAqIDAuODtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobW92YWJsZS5zY2FsZSAqIHNjYWxlRGVsdGEgPj0gbWF4U2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVEZWx0YSA9IG1heFNjYWxlIC8gbW92YWJsZS5zY2FsZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0WCA9IG1vdmFibGUueCArIHRoYXQub2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFkgPSBtb3ZhYmxlLnkgKyB0aGF0Lm9mZnNldC50b3A7XG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IChvZmZzZXRYIC0gcHJldmlvdXNDZW50ZXIueCkgKiBzY2FsZURlbHRhICsgY2VudGVyLnggLSBvZmZzZXRYLFxuICAgICAgICAgICAgICAgICAgICB5OiAob2Zmc2V0WSAtIHByZXZpb3VzQ2VudGVyLnkpICogc2NhbGVEZWx0YSArIGNlbnRlci55IC0gb2Zmc2V0WVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBtb3ZhYmxlLnNjYWxlV2l0aChzY2FsZURlbHRhKTtcblxuICAgICAgICAgICAgICAgIHguZHJhZ01vdmUoY29vcmRpbmF0ZXMueCk7XG4gICAgICAgICAgICAgICAgeS5kcmFnTW92ZShjb29yZGluYXRlcy55KTtcblxuICAgICAgICAgICAgICAgIHRoYXQuZGltZW5zaW9ucy5yZXNjYWxlKG1vdmFibGUuc2NhbGUpO1xuICAgICAgICAgICAgICAgIHRoYXQuZ2VzdHVyZSA9IGU7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW92ZShlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuZXZlbnQudGFyZ2V0LnRhZ05hbWUubWF0Y2goL3RleHRhcmVhfGlucHV0L2kpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoeC5kaW1lbnNpb24uZW5hYmxlZCB8fCB5LmRpbWVuc2lvbi5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHguZHJhZ01vdmUoZS54LmRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgeS5kcmFnTW92ZShlLnkuZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS50b3VjaC5za2lwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmxldCB0cmFuc2xhdGUgPSBmdW5jdGlvbih4LCB5LCBzY2FsZSkge1xuICAgIHJldHVybiAndHJhbnNsYXRlM2QoJyArIHggKyAncHgsJyArIHkgKyAncHgsMCkgc2NhbGUoJyArIHNjYWxlICsgJyknO1xufTtcblxuZXhwb3J0IGNsYXNzIE1vdmFibGUgZXh0ZW5kcyBPYnNlcnZhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoYXQuc3VwcG9ydCA9IGdldFN1cHBvcnRlZEZlYXR1cmVzKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtU3R5bGUgPSB0aGlzLnN1cHBvcnQudHJhbnNpdGlvbnMucHJlZml4ICsgJ1RyYW5zZm9ybSc7XG4gICAgICAgIHRoYXQuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoYXQuZWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW4gPSAnbGVmdCB0b3AnO1xuICAgICAgICB0aGF0LnggPSAwO1xuICAgICAgICB0aGF0LnkgPSAwO1xuICAgICAgICB0aGF0LnNjYWxlID0gMTtcblxuICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IHRyYW5zbGF0ZSh0aGF0LngsIHRoYXQueSwgdGhhdC5zY2FsZSk7XG4gICAgICAgIHRoYXQuZWxlbWVudC5zdHlsZVt0aGlzLnRyYW5zZm9ybVN0eWxlXSA9IGNvb3JkaW5hdGVzO1xuXG4gICAgICAgIHRoYXQuX3NhdmVDb29yZGluYXRlcyhjb29yZGluYXRlcyk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlQXhpcyhheGlzLCBieSkge1xuICAgICAgICB0aGlzW2F4aXNdICs9IGJ5O1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBzY2FsZVRvKHNjYWxlKSB7XG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgc2NhbGVXaXRoKHNjYWxlRGVsdGEpIHtcbiAgICAgICAgdGhpcy5zY2FsZSAqPSBzY2FsZURlbHRhO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdGhpcy54ICs9IGNvb3JkaW5hdGVzLng7XG4gICAgICAgIHRoaXMueSArPSBjb29yZGluYXRlcy55O1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBtb3ZlQXhpcyhheGlzLCB2YWx1ZSkge1xuICAgICAgICB0aGlzW2F4aXNdID0gdmFsdWU7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cblxuICAgIG1vdmVUbyhjb29yZGluYXRlcykge1xuICAgICAgICBleHRlbmQodGhpcywgY29vcmRpbmF0ZXMpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICByZWZyZXNoKCkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICB4ID0gdGhhdC54LFxuICAgICAgICAgICAgeSA9IHRoYXQueSxcbiAgICAgICAgICAgIG5ld0Nvb3JkaW5hdGVzO1xuXG4gICAgICAgIGlmICh0aGF0LnJvdW5kKSB7XG4gICAgICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcbiAgICAgICAgICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3Q29vcmRpbmF0ZXMgPSB0cmFuc2xhdGUoeCwgeSwgdGhhdC5zY2FsZSk7XG5cbiAgICAgICAgaWYgKG5ld0Nvb3JkaW5hdGVzICE9PSB0aGF0LmNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB0aGF0LmVsZW1lbnQuc3R5bGVbdGhpcy50cmFuc2Zvcm1TdHlsZV0gPSBuZXdDb29yZGluYXRlcztcblxuICAgICAgICAgICAgdGhhdC5fc2F2ZUNvb3JkaW5hdGVzKG5ld0Nvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoYXQudHJpZ2dlcihDSEFOR0UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NhdmVDb29yZGluYXRlcyhjb29yZGluYXRlcykge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBnZW9tZXRyeSBhcyBnLFxuICAgIGRyYXdpbmcgYXMgZFxufSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7XG4gICAgQ2xhc3MsXG4gICAgZGVmaW5lZCxcbiAgICBsYXN0LFxuICAgIHNldERlZmF1bHRPcHRpb25zXG59IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmltcG9ydCB7XG4gICAgcHJveHlcbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQge1xuICAgIExheWVyXG59IGZyb20gJy4vbGF5ZXInO1xuXG5pbXBvcnQge1xuICAgIE1vdmFibGVcbn0gZnJvbSAnLi4vc2Nyb2xsZXIvZHJhZ2dhYmxlJztcblxuaW1wb3J0IHtcbiAgICBMb2NhdGlvblxufSBmcm9tICcuLi9sb2NhdGlvbic7XG5cbmNvbnN0IEdyb3VwID0gZC5Hcm91cDtcblxuZXhwb3J0IGNsYXNzIFNoYXBlTGF5ZXIgZXh0ZW5kcyBMYXllciB7XG4gICAgY29uc3RydWN0b3IobWFwLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1hcCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fcGFuID0gcHJveHkodGhpcy5fcGFuLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnN1cmZhY2UgPSBkLlN1cmZhY2UuY3JlYXRlKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgd2lkdGg6IG1hcC5zY3JvbGxFbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBtYXAuc2Nyb2xsRWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5faW5pdFJvb3QoKTtcbiAgICAgICAgdGhpcy5tb3ZhYmxlID0gbmV3IE1vdmFibGUodGhpcy5zdXJmYWNlLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9tYXJrZXJzID0gW107XG5cbiAgICAgICAgdGhpcy5fY2xpY2sgPSB0aGlzLl9oYW5kbGVyKCdzaGFwZUNsaWNrJyk7XG4gICAgICAgIHRoaXMuc3VyZmFjZS5iaW5kKCdjbGljaycsIHRoaXMuX2NsaWNrKTtcbiAgICAgICAgdGhpcy5fbW91c2VlbnRlciA9IHRoaXMuX2hhbmRsZXIoJ3NoYXBlTW91c2VFbnRlcicpO1xuICAgICAgICB0aGlzLnN1cmZhY2UuYmluZCgnbW91c2VlbnRlcicsIHRoaXMuX21vdXNlZW50ZXIpO1xuICAgICAgICB0aGlzLl9tb3VzZWxlYXZlID0gdGhpcy5faGFuZGxlcignc2hhcGVNb3VzZUxlYXZlJyk7XG4gICAgICAgIHRoaXMuc3VyZmFjZS5iaW5kKCdtb3VzZWxlYXZlJywgdGhpcy5fbW91c2VsZWF2ZSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuc3VyZmFjZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgX3Jlc2V0KCkge1xuICAgICAgICBzdXBlci5fcmVzZXQoKTtcblxuICAgICAgICB0aGlzLl90cmFuc2xhdGVTdXJmYWNlKCk7XG5cbiAgICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX3JlYWREYXRhKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc0RhdGEoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZCh0aGlzLl9kYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbml0Um9vdCgpIHtcbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBHcm91cCgpO1xuICAgICAgICB0aGlzLnN1cmZhY2UuZHJhdyh0aGlzLl9yb290KTtcbiAgICB9XG5cbiAgICBfYmVmb3JlUmVzZXQoKSB7XG4gICAgICAgIHRoaXMuc3VyZmFjZS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9pbml0Um9vdCgpO1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIHRoaXMuc3VyZmFjZS5zaXplKHRoaXMubWFwLnNpemUoKSk7XG4gICAgfVxuXG4gICAgX3JlYWREYXRhKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gc3VwZXIuX3JlYWREYXRhKCk7XG5cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5mZWF0dXJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmdlb21ldHJpZXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBfbG9hZChkYXRhKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl9jbGVhck1hcmtlcnMoKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlcikge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyID0gbmV3IEdlb0pzb25Mb2FkZXIodGhpcy5tYXAsIHRoaXMub3B0aW9ucy5zdHlsZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29udGFpbmVyID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSB0aGlzLl9sb2FkZXIucGFyc2UoZGF0YVtpXSk7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQoc2hhcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcm9vdC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9yb290LmFwcGVuZChjb250YWluZXIpO1xuICAgIH1cblxuICAgIHNoYXBlQ3JlYXRlZChzaGFwZSkge1xuICAgICAgICBsZXQgY2FuY2VsbGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdGhlIEdlb0pTT04gbG9hZGVyIGJ1aWxkcyBcIlBvaW50XCIgdHlwZSBhcyBhIGNpcmNsZVxuICAgICAgICAvLyB1c2UgdGhlIGNpcmNsZSBzaGFwZSB0eXBlIGFzIGFuZCBpbmRpY2F0b3IgZm9yIHJlbmRlcmluZyBhIG1hcmtlclxuICAgICAgICAvLyBrZWVwIHRoZSBiZWhhdmlvciB1bmRlciBhIHNldHRpbmcgYXMgdGhpcyBpcyBzdXBwb3J0ZWQgYnkga2VuZG8galF1ZXJ5IE1hcFxuICAgICAgICAvLyBidXQgd2Ugb3B0ZWQgb3V0IG9mIHRoaXMgaW4gYmxhem9yXG4gICAgICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIGQuQ2lyY2xlICYmIHRoaXMubWFwLm9wdGlvbnMucmVuZGVyUG9pbnRzQXNNYXJrZXJzKSB7XG4gICAgICAgICAgICBjYW5jZWxsZWQgPSBkZWZpbmVkKHRoaXMuX2NyZWF0ZU1hcmtlcihzaGFwZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGxldCBhcmdzID0ge1xuICAgICAgICAgICAgICAgIGxheWVyOiB0aGlzLFxuICAgICAgICAgICAgICAgIHNoYXBlOiBzaGFwZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY2FuY2VsbGVkID0gdGhpcy5tYXAudHJpZ2dlcignc2hhcGVDcmVhdGVkJywgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FuY2VsbGVkO1xuICAgIH1cblxuICAgIGZlYXR1cmVDcmVhdGVkKGUpIHtcbiAgICAgICAgZS5sYXllciA9IHRoaXM7XG4gICAgICAgIHRoaXMubWFwLnRyaWdnZXIoJ3NoYXBlRmVhdHVyZUNyZWF0ZWQnLCBlKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlTWFya2VyKHNoYXBlKSB7XG4gICAgICAgIGxldCBtYXJrZXIgPSB0aGlzLm1hcC5tYXJrZXJzLmJpbmQoe1xuICAgICAgICAgICAgbG9jYXRpb246IHNoYXBlLmxvY2F0aW9uXG4gICAgICAgIH0sIHNoYXBlLmRhdGFJdGVtKTtcblxuICAgICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgfVxuXG4gICAgX2NsZWFyTWFya2VycygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5tYXJrZXJzLnJlbW92ZSh0aGlzLl9tYXJrZXJzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hcmtlcnMgPSBbXTtcbiAgICB9XG5cbiAgICBfcGFuKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Bhbm5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3Bhbm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnN1c3BlbmRUcmFja2luZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3BhbkVuZChlKSB7XG4gICAgICAgIHN1cGVyLl9wYW5FbmQoZSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbGF0ZVN1cmZhY2UoKTtcbiAgICAgICAgdGhpcy5zdXJmYWNlLnJlc3VtZVRyYWNraW5nKCk7XG4gICAgICAgIHRoaXMuX3Bhbm5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBfdHJhbnNsYXRlU3VyZmFjZSgpIHtcbiAgICAgICAgbGV0IG1hcCA9IHRoaXMubWFwO1xuICAgICAgICBsZXQgbncgPSBtYXAubG9jYXRpb25Ub1ZpZXcobWFwLmV4dGVudCgpLm53KTtcblxuICAgICAgICBpZiAodGhpcy5zdXJmYWNlLnRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnRyYW5zbGF0ZShudyk7XG4gICAgICAgICAgICB0aGlzLm1vdmFibGUubW92ZVRvKHtcbiAgICAgICAgICAgICAgICB4OiBudy54LFxuICAgICAgICAgICAgICAgIHk6IG53LnlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgbGV0IGxheWVyID0gdGhpcztcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGxldCBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXllcjogbGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgIGxheWVySW5kZXg6IChsYXllci5tYXAubGF5ZXJzIHx8IFtdKS5pbmRleE9mKGxheWVyKSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGU6IGUuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVJbmRleDogKGxheWVyLl9kYXRhIHx8IFtdKS5pbmRleE9mKGUuZWxlbWVudC5kYXRhSXRlbSksXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUub3JpZ2luYWxFdmVudFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsYXllci5tYXAudHJpZ2dlcihldmVudCwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2FjdGl2YXRlKCkge1xuICAgICAgICBzdXBlci5fYWN0aXZhdGUoKTtcbiAgICAgICAgdGhpcy5fcGFuSGFuZGxlciA9IHByb3h5KHRoaXMuX3BhbiwgdGhpcyk7XG4gICAgICAgIHRoaXMubWFwLmJpbmQoJ3BhbicsIHRoaXMucGFuSGFuZGxlcik7XG4gICAgfVxuXG4gICAgX2RlYWN0aXZhdGUoKSB7XG4gICAgICAgIHN1cGVyLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgIHRoaXMubWFwLnVuYmluZCgncGFuJywgdGhpcy5fcGFuSGFuZGxlcik7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTaGFwZUxheWVyLCB7XG4gICAgYXV0b0JpbmQ6IHRydWUsXG4gICAgekluZGV4OiAxMDBcbn0pO1xuXG5jbGFzcyBHZW9Kc29uTG9hZGVyIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0b3IsIGRlZmF1bHRTdHlsZSwgb2JzZXJ2ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLnN0eWxlID0gZGVmYXVsdFN0eWxlO1xuICAgIH1cblxuICAgIHBhcnNlKGl0ZW0pIHtcbiAgICAgICAgbGV0IHJvb3QgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgbGV0IHVud3JhcCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ0ZlYXR1cmUnKSB7XG4gICAgICAgICAgICB1bndyYXAgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRHZW9tZXRyeVRvKHJvb3QsIGl0ZW0uZ2VvbWV0cnksIGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5fZmVhdHVyZUNyZWF0ZWQocm9vdCwgaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkR2VvbWV0cnlUbyhyb290LCBpdGVtLCBpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1bndyYXAgJiYgcm9vdC5jaGlsZHJlbi5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByb290ID0gcm9vdC5jaGlsZHJlblswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cblxuICAgIF9zaGFwZUNyZWF0ZWQoc2hhcGUpIHtcbiAgICAgICAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVyICYmIHRoaXMub2JzZXJ2ZXIuc2hhcGVDcmVhdGVkKSB7XG4gICAgICAgICAgICBjYW5jZWxsZWQgPSB0aGlzLm9ic2VydmVyLnNoYXBlQ3JlYXRlZChzaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FuY2VsbGVkO1xuICAgIH1cblxuICAgIF9mZWF0dXJlQ3JlYXRlZChncm91cCwgZGF0YUl0ZW0pIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5vYnNlcnZlci5mZWF0dXJlQ3JlYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5mZWF0dXJlQ3JlYXRlZCh7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLFxuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBkYXRhSXRlbSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBkYXRhSXRlbS5wcm9wZXJ0aWVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICAgIF9sb2FkR2VvbWV0cnlUbyhjb250YWluZXIsIGdlb21ldHJ5LCBkYXRhSXRlbSkge1xuICAgICAgICBsZXQgY29vcmRzID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgcGF0aDtcblxuICAgICAgICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgICAgICAgICAgIHBhdGggPSB0aGlzLl9sb2FkUG9seWdvbihjb250YWluZXIsIFtjb29yZHNdLCBkYXRhSXRlbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0TGluZUZpbGwocGF0aCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHRoaXMuX2xvYWRQb2x5Z29uKGNvbnRhaW5lciwgW2Nvb3Jkc1tpXV0sIGRhdGFJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0TGluZUZpbGwocGF0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUG9seWdvbic6XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFBvbHlnb24oY29udGFpbmVyLCBjb29yZHMsIGRhdGFJdGVtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkUG9seWdvbihjb250YWluZXIsIGNvb3Jkc1tpXSwgZGF0YUl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BvaW50JzpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkUG9pbnQoY29udGFpbmVyLCBjb29yZHMsIGRhdGFJdGVtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ011bHRpUG9pbnQnOlxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFBvaW50KGNvbnRhaW5lciwgY29vcmRzW2ldLCBkYXRhSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cblxuICAgIF9zZXRMaW5lRmlsbChwYXRoKSB7XG4gICAgICAgIGxldCBzZWdtZW50cyA9IHBhdGguc2VnbWVudHM7XG5cbiAgICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA8IDQgfHwgIXNlZ21lbnRzWzBdLmFuY2hvcigpLmVxdWFscyhsYXN0KHNlZ21lbnRzKS5hbmNob3IoKSkpIHtcbiAgICAgICAgICAgIHBhdGgub3B0aW9ucy5maWxsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb2FkU2hhcGUoY29udGFpbmVyLCBzaGFwZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3NoYXBlQ3JlYXRlZChzaGFwZSkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQoc2hhcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgIH1cblxuICAgIF9sb2FkUG9seWdvbihjb250YWluZXIsIHJpbmdzLCBkYXRhSXRlbSkge1xuICAgICAgICBsZXQgc2hhcGUgPSB0aGlzLl9idWlsZFBvbHlnb24ocmluZ3MpO1xuICAgICAgICBzaGFwZS5kYXRhSXRlbSA9IGRhdGFJdGVtO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZFNoYXBlKGNvbnRhaW5lciwgc2hhcGUpO1xuICAgIH1cblxuICAgIF9idWlsZFBvbHlnb24ocmluZ3MpIHtcbiAgICAgICAgbGV0IHR5cGUgPSByaW5ncy5sZW5ndGggPiAxID8gZC5NdWx0aVBhdGggOiBkLlBhdGg7XG4gICAgICAgIGxldCBwYXRoID0gbmV3IHR5cGUodGhpcy5zdHlsZSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByaW5nc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IHRoaXMubG9jYXRvci5sb2NhdGlvblRvVmlldyhMb2NhdGlvbi5mcm9tTG5nTGF0KHJpbmdzW2ldW2pdKSk7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5tb3ZlVG8ocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuXG4gICAgX2xvYWRQb2ludChjb250YWluZXIsIGNvb3JkcywgZGF0YUl0ZW0pIHtcbiAgICAgICAgbGV0IGxvY2F0aW9uID0gTG9jYXRpb24uZnJvbUxuZ0xhdChjb29yZHMpO1xuICAgICAgICBsZXQgcG9pbnQgPSB0aGlzLmxvY2F0b3IubG9jYXRpb25Ub1ZpZXcobG9jYXRpb24pO1xuICAgICAgICBsZXQgY2lyY2xlID0gbmV3IGcuQ2lyY2xlKHBvaW50LCAxMCk7XG4gICAgICAgIGxldCBzaGFwZSA9IG5ldyBkLkNpcmNsZShjaXJjbGUsIHRoaXMuc3R5bGUpO1xuXG4gICAgICAgIHNoYXBlLmRhdGFJdGVtID0gZGF0YUl0ZW07XG4gICAgICAgIHNoYXBlLmxvY2F0aW9uID0gbG9jYXRpb247XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRTaGFwZShjb250YWluZXIsIHNoYXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIGdlb21ldHJ5IGFzIGcsXG4gICAgZHJhd2luZyBhcyBkXG59IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHtcbiAgICBDbGFzcyxcbiAgICBkZWZpbmVkLFxuICAgIGlzRnVuY3Rpb24sXG4gICAgZ2V0dGVyLFxuICAgIHNldERlZmF1bHRPcHRpb25zXG59IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmltcG9ydCB7XG4gICAgU2hhcGVMYXllclxufSBmcm9tICcuL3NoYXBlJztcblxuaW1wb3J0IHtcbiAgICBMb2NhdGlvblxufSBmcm9tICcuLi9sb2NhdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBCdWJibGVMYXllciBleHRlbmRzIFNoYXBlTGF5ZXIge1xuICAgIF9yZWFkRGF0YSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMub3B0aW9ucy5kYXRhIHx8IFtdO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBfbG9hZChkYXRhKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnN1cmZhY2UuY2xlYXIoKTtcblxuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgZ2V0VmFsdWUgPSBnZXR0ZXIob3B0aW9ucy52YWx1ZUZpZWxkKTtcblxuICAgICAgICBsZXQgbmV3RGF0YSA9IGRhdGEuc2xpY2UoMCk7XG4gICAgICAgIG5ld0RhdGEuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWUoYikgLSBnZXRWYWx1ZShhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHNjYWxlVHlwZSA9IHRoaXMuX3NjYWxlVHlwZSgpO1xuICAgICAgICBsZXQgc2NhbGU7XG4gICAgICAgIGxldCBnZXRMb2NhdGlvbiA9IGdldHRlcih0aGlzLm9wdGlvbnMubG9jYXRpb25GaWVsZCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSBuZXdEYXRhW2ldO1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gZ2V0TG9jYXRpb24oZGF0YUl0ZW0pO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0VmFsdWUoZGF0YUl0ZW0pO1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChsb2NhdGlvbikgJiYgZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gbmV3IHNjYWxlVHlwZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgXSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5taW5TaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5tYXhTaXplXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gTG9jYXRpb24uY3JlYXRlKGxvY2F0aW9uKTtcblxuICAgICAgICAgICAgICAgIGxldCBjZW50ZXIgPSB0aGlzLm1hcC5sb2NhdGlvblRvVmlldyhsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgbGV0IHNpemUgPSBzY2FsZS5tYXAodmFsdWUpO1xuICAgICAgICAgICAgICAgIGxldCBzeW1ib2wgPSB0aGlzLl9jcmVhdGVTeW1ib2woe1xuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IG9wdGlvbnMuc3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBkYXRhSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzeW1ib2wuZGF0YUl0ZW0gPSBkYXRhSXRlbTtcbiAgICAgICAgICAgICAgICBzeW1ib2wubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBzeW1ib2wudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdTeW1ib2woc3ltYm9sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zY2FsZVR5cGUoKSB7XG4gICAgICAgIGxldCBzY2FsZSA9IHRoaXMub3B0aW9ucy5zY2FsZTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihzY2FsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTY2FsZXNbc2NhbGVdO1xuICAgIH1cblxuICAgIF9jcmVhdGVTeW1ib2woYXJncykge1xuICAgICAgICBsZXQgc3ltYm9sID0gdGhpcy5vcHRpb25zLnN5bWJvbDtcblxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oc3ltYm9sKSkge1xuICAgICAgICAgICAgc3ltYm9sID0gU3ltYm9sc1tzeW1ib2xdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN5bWJvbChhcmdzKTtcbiAgICB9XG5cbiAgICBfZHJhd1N5bWJvbChzaGFwZSkge1xuICAgICAgICBsZXQgYXJncyA9IHtcbiAgICAgICAgICAgIGxheWVyOiB0aGlzLFxuICAgICAgICAgICAgc2hhcGU6IHNoYXBlXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGNhbmNlbGxlZCA9IHRoaXMubWFwLnRyaWdnZXIoJ3NoYXBlQ3JlYXRlZCcsIGFyZ3MpO1xuXG4gICAgICAgIGlmICghY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UuZHJhdyhzaGFwZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEJ1YmJsZUxheWVyLCB7XG4gICAgLy8gYXV0b0JpbmQ6IHRydWUsXG4gICAgbG9jYXRpb25GaWVsZDogJ2xvY2F0aW9uJyxcbiAgICB2YWx1ZUZpZWxkOiAndmFsdWUnLFxuICAgIG1pblNpemU6IDAsXG4gICAgbWF4U2l6ZTogMTAwLFxuICAgIHNjYWxlOiAnc3FydCcsXG4gICAgc3ltYm9sOiAnY2lyY2xlJyxcbiAgICAvLyBlbnN1cmUgYnViYmxlIGxheWVycyBhcmUgZGlzcGxheWVkIG92ZXIgdGlsZSBhbmQgc2hhcGUgbGF5ZXJzXG4gICAgekluZGV4OiAyMDBcbn0pO1xuXG5jbGFzcyBTcXJ0U2NhbGUgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoZG9tYWluLCByYW5nZSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2RvbWFpbiA9IGRvbWFpbjtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSByYW5nZTtcblxuICAgICAgICBsZXQgZG9tYWluUmFuZ2UgPSBNYXRoLnNxcnQoZG9tYWluWzFdKSAtIE1hdGguc3FydChkb21haW5bMF0pO1xuICAgICAgICBsZXQgb3V0cHV0UmFuZ2UgPSByYW5nZVsxXSAtIHJhbmdlWzBdO1xuXG4gICAgICAgIHRoaXMuX3JhdGlvID0gb3V0cHV0UmFuZ2UgLyBkb21haW5SYW5nZTtcbiAgICB9XG5cbiAgICBtYXAodmFsdWUpIHtcbiAgICAgICAgbGV0IHJlbCA9IChNYXRoLnNxcnQodmFsdWUpIC0gTWF0aC5zcXJ0KHRoaXMuX2RvbWFpblswXSkpICogdGhpcy5fcmF0aW87XG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZVswXSArIHJlbDtcbiAgICB9XG59XG5cbmxldCBTY2FsZXMgPSB7XG4gICAgc3FydDogU3FydFNjYWxlXG59O1xuXG5sZXQgU3ltYm9scyA9IHtcbiAgICBjaXJjbGU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgbGV0IGdlbyA9IG5ldyBnLkNpcmNsZShhcmdzLmNlbnRlciwgYXJncy5zaXplIC8gMik7XG4gICAgICAgIHJldHVybiBuZXcgZC5DaXJjbGUoZ2VvLCBhcmdzLnN0eWxlKTtcbiAgICB9LFxuXG4gICAgc3F1YXJlOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIGxldCBwYXRoID0gbmV3IGQuUGF0aChhcmdzLnN0eWxlKTtcbiAgICAgICAgbGV0IGhhbGZTaXplID0gYXJncy5zaXplIC8gMjtcbiAgICAgICAgbGV0IGNlbnRlciA9IGFyZ3MuY2VudGVyO1xuICAgICAgICBwYXRoLm1vdmVUbyhjZW50ZXIueCAtIGhhbGZTaXplLCBjZW50ZXIueSAtIGhhbGZTaXplKS5saW5lVG8oY2VudGVyLnggKyBoYWxmU2l6ZSwgY2VudGVyLnkgLSBoYWxmU2l6ZSkubGluZVRvKGNlbnRlci54ICsgaGFsZlNpemUsIGNlbnRlci55ICsgaGFsZlNpemUpLmxpbmVUbyhjZW50ZXIueCAtIGhhbGZTaXplLCBjZW50ZXIueSArIGhhbGZTaXplKS5jbG9zZSgpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtcbiAgICBDbGFzcyxcbiAgICBhZGRDbGFzcyxcbiAgICBpc0FycmF5LFxuICAgIGdldHRlcixcbiAgICBkZWVwRXh0ZW5kLFxuICAgIHNldERlZmF1bHRPcHRpb25zXG59IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmltcG9ydCB7IExheWVyIH0gZnJvbSAnLi9sYXllcic7XG5pbXBvcnQgeyBMb2NhdGlvbiB9IGZyb20gJy4uL2xvY2F0aW9uJztcblxuaW1wb3J0IHtcbiAgICBwcm94eSxcbiAgICBvbixcbiAgICBvZmYsXG4gICAgdG9IeXBoZW5zLFxuICAgIHRvUGl4ZWxzXG59IGZyb20gJy4uL3V0aWxzJztcblxuY29uc3QgQ0xJQ0sgPSBcImNsaWNrXCI7XG5jb25zdCBNT1VTRV9FTlRFUiA9IFwibW91c2VlbnRlclwiO1xuY29uc3QgTU9VU0VfTEVBVkUgPSBcIm1vdXNlbGVhdmVcIjtcblxuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IE1BUktFUl9DTEFTUyA9IFwiLmstbWFya2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXJrZXJMYXllciBleHRlbmRzIExheWVyIHtcbiAgICBjb25zdHJ1Y3RvcihtYXAsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIobWFwLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9tYXJrZXJDbGlja0hhbmRsZXIgPSBwcm94eSh0aGlzLl9tYXJrZXJDbGljaywgdGhpcyk7XG4gICAgICAgIG9uKHRoaXMuZWxlbWVudCwgQ0xJQ0ssIE1BUktFUl9DTEFTUywgdGhpcy5fbWFya2VyQ2xpY2tIYW5kbGVyKTtcblxuICAgICAgICB0aGlzLml0ZW1zID0gW107XG5cbiAgICAgICAgdGhpcy5fbG9hZCh0aGlzLl9yZWFkRGF0YSgpKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIG9mZih0aGlzLmVsZW1lbnQsIENMSUNLLCB0aGlzLl9tYXJrZXJDbGlja0hhbmRsZXIpO1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgYWRkKGFyZ3MpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE9uZShhcmdzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRPbmUoYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmUobWFya2VyKSB7XG4gICAgICAgIG1hcmtlci5kZXN0cm95KCk7XG4gICAgICAgIGxldCBpbmRleCA9ICh0aGlzLml0ZW1zIHx8IFtdKS5pbmRleE9mKG1hcmtlcik7XG5cbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIH1cblxuICAgIHVwZGF0ZShtYXJrZXIpIHtcbiAgICAgICAgbGV0IGxvY2F0aW9uID0gbWFya2VyLmxvY2F0aW9uKCk7XG5cbiAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICBtYXJrZXIuc2hvd0F0KHRoaXMubWFwLmxvY2F0aW9uVG9WaWV3KGxvY2F0aW9uKSk7XG5cbiAgICAgICAgICAgIGxldCBhcmdzID0ge1xuICAgICAgICAgICAgICAgIG1hcmtlcjogbWFya2VyLFxuICAgICAgICAgICAgICAgIGxheWVyOiB0aGlzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLm1hcC50cmlnZ2VyKCdtYXJrZXJBY3RpdmF0ZScsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Jlc2V0KCkge1xuICAgICAgICBzdXBlci5fcmVzZXQoKTtcblxuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLml0ZW1zO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGl0ZW1zW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmQob3B0aW9ucywgZGF0YUl0ZW0pIHtcbiAgICAgICAgbGV0IG1hcmtlciA9IE1hcmtlci5jcmVhdGUob3B0aW9ucywgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgbWFya2VyLmRhdGFJdGVtID0gZGF0YUl0ZW07XG5cbiAgICAgICAgbGV0IGFyZ3MgPSB7XG4gICAgICAgICAgICBtYXJrZXI6IG1hcmtlcixcbiAgICAgICAgICAgIGxheWVyOiB0aGlzXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGNhbmNlbGxlZCA9IHRoaXMubWFwLnRyaWdnZXIoJ21hcmtlckNyZWF0ZWQnLCBhcmdzKTtcblxuICAgICAgICBpZiAoIWNhbmNlbGxlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGQobWFya2VyKTtcbiAgICAgICAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYWRkT25lKGFyZykge1xuICAgICAgICBsZXQgbWFya2VyID0gTWFya2VyLmNyZWF0ZShhcmcsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIG1hcmtlci5hZGRUbyh0aGlzKTtcbiAgICAgICAgcmV0dXJuIG1hcmtlcjtcbiAgICB9XG5cbiAgICBfcmVhZERhdGEoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm9wdGlvbnMuZGF0YSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgX2xvYWQoZGF0YSkge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIGxldCBnZXRMb2NhdGlvbiA9IGdldHRlcih0aGlzLm9wdGlvbnMubG9jYXRpb25GaWVsZCk7XG4gICAgICAgIGxldCBnZXRUaXRsZSA9IGdldHRlcih0aGlzLm9wdGlvbnMudGl0bGVGaWVsZCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSBkYXRhW2ldO1xuXG4gICAgICAgICAgICB0aGlzLmJpbmQoe1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBnZXRMb2NhdGlvbihkYXRhSXRlbSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IGdldFRpdGxlKGRhdGFJdGVtKVxuICAgICAgICAgICAgfSwgZGF0YUl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21hcmtlckNsaWNrKGUpIHtcbiAgICAgICAgY29uc3QgbGF5ZXJzID0gdGhpcy5tYXAubGF5ZXJzIHx8IFtdO1xuICAgICAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldC5fa2VuZG9Ob2RlO1xuXG4gICAgICAgIGxldCBhcmdzID0ge1xuICAgICAgICAgICAgLy8gbWFya2VyOiAkKGUudGFyZ2V0KS5kYXRhKCdrZW5kb01hcmtlcicpLFxuICAgICAgICAgICAgLy8gbWFya2VyOiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtlbmRvTWFya2VyXCIpLFxuICAgICAgICAgICAgbGF5ZXI6IHRoaXMsXG4gICAgICAgICAgICBsYXllckluZGV4OiBsYXllcnMuaW5kZXhPZih0aGlzKSxcbiAgICAgICAgICAgIG1hcmtlcjogbWFya2VyLFxuICAgICAgICAgICAgbWFya2VySW5kZXg6ICh0aGlzLml0ZW1zIHx8IFtdKS5pbmRleE9mKG1hcmtlciksXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5tYXAudHJpZ2dlcignbWFya2VyQ2xpY2snLCBhcmdzKTtcbiAgICB9XG5cbiAgICBfbWFya2VyTW91c2VFbnRlcihlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLl9jcmVhdGVNYXJrZXJFdmVudEFyZ3MoZSk7XG4gICAgICAgIHRoaXMubWFwLnRyaWdnZXIoXCJtYXJrZXJNb3VzZUVudGVyXCIsIGFyZ3MpO1xuICAgIH1cblxuICAgIF9tYXJrZXJNb3VzZUxlYXZlKGUpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuX2NyZWF0ZU1hcmtlckV2ZW50QXJncyhlKTtcbiAgICAgICAgdGhpcy5tYXAudHJpZ2dlcihcIm1hcmtlck1vdXNlTGVhdmVcIiwgYXJncyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZU1hcmtlckV2ZW50QXJncyhlKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlciA9IGUubWFya2VyO1xuXG4gICAgICAgIGxldCBhcmdzID0gZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBsYXllcjogdGhpcyxcbiAgICAgICAgICAgIGxheWVySW5kZXg6IHRoaXMubWFwLmxheWVycy5pbmRleE9mKHRoaXMpLFxuICAgICAgICAgICAgbWFya2VyOiBtYXJrZXIsXG4gICAgICAgICAgICBtYXJrZXJJbmRleDogKHRoaXMuaXRlbXMgfHwgW10pLmluZGV4T2YobWFya2VyKVxuICAgICAgICB9LCBlKTtcblxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKE1hcmtlckxheWVyLCB7XG4gICAgekluZGV4OiAxMDAwLFxuICAgIGF1dG9CaW5kOiB0cnVlLFxuICAgIGxvY2F0aW9uRmllbGQ6ICdsb2NhdGlvbicsXG4gICAgdGl0bGVGaWVsZDogJ3RpdGxlJ1xufSk7XG5cbmV4cG9ydCBjbGFzcyBNYXJrZXIgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICB9XG5cbiAgICBhZGRUbyhwYXJlbnQpIHtcbiAgICAgICAgdGhpcy5sYXllciA9IHBhcmVudC5tYXJrZXJzIHx8IHBhcmVudDtcbiAgICAgICAgdGhpcy5sYXllci5pdGVtcy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLmxheWVyLnVwZGF0ZSh0aGlzKTtcbiAgICB9XG5cbiAgICBsb2NhdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5sb2NhdGlvbiA9IExvY2F0aW9uLmNyZWF0ZSh2YWx1ZSkudG9BcnJheSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIudXBkYXRlKHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMb2NhdGlvbi5jcmVhdGUodGhpcy5vcHRpb25zLmxvY2F0aW9uKTtcbiAgICB9XG5cbiAgICBzaG93QXQocG9pbnQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IHRvUGl4ZWxzKE1hdGgucm91bmQocG9pbnQueCkpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gdG9QaXhlbHMoTWF0aC5yb3VuZChwb2ludC55KSk7XG5cbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcCAmJiB0aGlzLnRvb2x0aXAucG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcC5wb3B1cC5fcG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kRXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbW91c2VFbnRlckhhbmRsZXIgPSBwcm94eSh0aGlzLl9tb3VzZUVudGVyLCB0aGlzKTtcbiAgICAgICAgb24odGhpcy5lbGVtZW50LCBNT1VTRV9FTlRFUiwgTUFSS0VSX0NMQVNTLCB0aGlzLl9tb3VzZUVudGVySGFuZGxlcik7XG4gICAgICAgIHRoaXMuX21vdXNlTGVhdmVIYW5kbGVyID0gcHJveHkodGhpcy5fbW91c2VMZWF2ZSwgdGhpcyk7XG4gICAgICAgIG9uKHRoaXMuZWxlbWVudCwgTU9VU0VfTEVBVkUsIE1BUktFUl9DTEFTUywgdGhpcy5fbW91c2VMZWF2ZUhhbmRsZXIpO1xuICAgIH1cblxuICAgIHVuYmluZEV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9mZih0aGlzLmVsZW1lbnQsIE1PVVNFX0VOVEVSLCB0aGlzLl9tb3VzZUVudGVySGFuZGxlcik7XG4gICAgICAgIG9mZih0aGlzLmVsZW1lbnQsIE1PVVNFX0xFQVZFLCB0aGlzLl9tb3VzZUxlYXZlSGFuZGxlcik7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBsZXQgbGF5ZXIgPSB0aGlzLmxheWVyO1xuXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgJ2stbWFya2VyIGstaWNvbiBrLWktbWFya2VyLScgKyB0b0h5cGhlbnMob3B0aW9ucy5zaGFwZSB8fCAncGluJykpO1xuXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIG9wdGlvbnMudGl0bGUpO1xuXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZXR0KGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlbGVtZW50Ll9rZW5kb05vZGUgPSB0aGlzO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS56SW5kZXggPSBvcHRpb25zLnpJbmRleDtcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKGxheWVyKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJUb29sdGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2VFbnRlcihlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLl9jcmVhdGVFdmVudEFyZ3MoZSk7XG4gICAgICAgIHRoaXMubGF5ZXIuX21hcmtlck1vdXNlRW50ZXIoYXJncyk7XG4gICAgfVxuXG4gICAgX21vdXNlTGVhdmUoZSkge1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5fY3JlYXRlRXZlbnRBcmdzKGUpO1xuICAgICAgICB0aGlzLmxheWVyLl9tYXJrZXJNb3VzZUxlYXZlKGFyZ3MpO1xuICAgIH1cblxuICAgIF9jcmVhdGVFdmVudEFyZ3MoZSkge1xuICAgICAgICBsZXQgYXJncyA9IHtcbiAgICAgICAgICAgIG1hcmtlcjogdGhpcyxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG5cbiAgICByZW5kZXJUb29sdGlwKCkge1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUoYXJnLCBkZWZhdWx0cykge1xuICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgTWFya2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNYXJrZXIoZGVlcEV4dGVuZCh7fSwgZGVmYXVsdHMsIGFyZykpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgQ2xhc3Ncbn0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuaW1wb3J0IHtcbiAgICBwcm94eSxcbiAgICBub3dcbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG5jb25zdCBleHRlbmQgPSBPYmplY3QuYXNzaWduO1xuXG5mdW5jdGlvbiBhbmltYXRpb25GcmFtZShjYWxsYmFjaykge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spO1xufVxuXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhhdC5fdGlja1Byb3h5ID0gcHJveHkodGhhdC5fdGljaywgdGhhdCk7XG4gICAgICAgIHRoYXQuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aWNrKCkgeyB9XG4gICAgZG9uZSgpIHsgfVxuICAgIG9uRW5kKCkgeyB9XG4gICAgb25DYW5jZWwoKSB7IH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZG9uZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2tQcm94eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9uRW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbkNhbmNlbCgpO1xuICAgIH1cblxuICAgIF90aWNrKCkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCF0aGF0Ll9zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0LnRpY2soKTtcblxuICAgICAgICBpZiAoIXRoYXQuZG9uZSgpKSB7XG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZSh0aGF0Ll90aWNrUHJveHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhhdC5fc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhhdC5vbkVuZCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJhbnNpdGlvbiBleHRlbmRzIEFuaW1hdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBleHRlbmQodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZVBhc3NlZCgpID49IHRoaXMuZHVyYXRpb247XG4gICAgfVxuXG4gICAgdGltZVBhc3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZHVyYXRpb24sIG5vdygpIC0gdGhpcy5zdGFydERhdGUpO1xuICAgIH1cblxuICAgIG1vdmVUbyhvcHRpb25zKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIG1vdmFibGUgPSB0aGF0Lm1vdmFibGU7XG5cbiAgICAgICAgdGhhdC5pbml0aWFsID0gbW92YWJsZVt0aGF0LmF4aXNdO1xuICAgICAgICB0aGF0LmRlbHRhID0gb3B0aW9ucy5sb2NhdGlvbiAtIHRoYXQuaW5pdGlhbDtcbiAgICAgICAgdGhhdC5kdXJhdGlvbiA9IHR5cGVvZiBvcHRpb25zLmR1cmF0aW9uID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuZHVyYXRpb24gOiAzMDA7XG4gICAgICAgIHRoYXQudGljayA9IHRoYXQuX2Vhc2VQcm94eShvcHRpb25zLmVhc2UpO1xuICAgICAgICB0aGF0LnN0YXJ0RGF0ZSA9IG5vdygpO1xuICAgICAgICB0aGF0LnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgX2Vhc2VQcm94eShlYXNlKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGF0Lm1vdmFibGUubW92ZUF4aXModGhhdC5heGlzLCBlYXNlKHRoYXQudGltZVBhc3NlZCgpLCB0aGF0LmluaXRpYWwsIHRoYXQuZGVsdGEsIHRoYXQuZHVyYXRpb24pKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZWFzZU91dEV4cG8odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gdCA9PT0gZCA/IGIgKyBjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIGQpICsgMSkgKyBiO1xuICAgIH1cblxuICAgIC8vIHN0YXRpYyBlYXNlT3V0QmFjayh0LCBiLCBjLCBkKSB7XG4gICAgLy8gICAgIGxldCBzID0gMS43MDE1ODtcbiAgICAvLyAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICAgIC8vIH1cbn1cbiIsImltcG9ydCB7XG4gICAgQ2xhc3MsXG4gICAgZ3JlcFxufSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5pbXBvcnQge1xuICAgIHByb3h5LFxuICAgIG5vb3AsXG4gICAgYXBwbHlFdmVudE1hcCxcbiAgICBnZXRFdmVudE1hcCxcbiAgICBvbixcbiAgICBvZmYsXG4gICAgbm93LFxuICAgIGdldFN1cHBvcnRlZEZlYXR1cmVzXG59IGZyb20gJy4uL3V0aWxzJztcblxuaW1wb3J0IHtcbiAgICBPYnNlcnZhYmxlXG59IGZyb20gJy4vb2JzZXJ2YWJsZSc7XG5cbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5cbmNvbnN0IHByZXZlbnREZWZhdWx0ID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG5sZXRcbiAgICBERUZBVUxUX01JTl9IT0xEID0gODAwLFxuICAgIENMSUNLX0RFTEFZID0gMzAwLFxuICAgIC8vIERFRkFVTFRfVEhSRVNIT0xEID0gc3VwcG9ydC5icm93c2VyLm1zaWUgPyA1IDogMCxcbiAgICBERUZBVUxUX1RIUkVTSE9MRCA9IDAsXG4gICAgUFJFU1MgPSAncHJlc3MnLFxuICAgIEhPTEQgPSAnaG9sZCcsXG4gICAgU0VMRUNUID0gJ3NlbGVjdCcsXG4gICAgU1RBUlQgPSAnc3RhcnQnLFxuICAgIE1PVkUgPSAnbW92ZScsXG4gICAgRU5EID0gJ2VuZCcsXG4gICAgQ0FOQ0VMID0gJ2NhbmNlbCcsXG4gICAgVEFQID0gJ3RhcCcsXG4gICAgRE9VQkxFVEFQID0gJ2RvdWJsZVRhcCcsXG4gICAgUkVMRUFTRSA9ICdyZWxlYXNlJyxcbiAgICBHRVNUVVJFU1RBUlQgPSAnZ2VzdHVyZXN0YXJ0JyxcbiAgICBHRVNUVVJFQ0hBTkdFID0gJ2dlc3R1cmVjaGFuZ2UnLFxuICAgIEdFU1RVUkVFTkQgPSAnZ2VzdHVyZWVuZCcsXG4gICAgR0VTVFVSRVRBUCA9ICdnZXN0dXJldGFwJztcblxubGV0IFRIUkVTSE9MRCA9IHtcbiAgICAnYXBpJzogMCxcbiAgICAndG91Y2gnOiAwLFxuICAgICdtb3VzZSc6IDksXG4gICAgJ3BvaW50ZXInOiA5XG59O1xuXG5mdW5jdGlvbiB0b3VjaERlbHRhKHRvdWNoMSwgdG91Y2gyKSB7XG4gICAgbGV0IHgxID0gdG91Y2gxLngubG9jYXRpb24sXG4gICAgICAgIHkxID0gdG91Y2gxLnkubG9jYXRpb24sXG4gICAgICAgIHgyID0gdG91Y2gyLngubG9jYXRpb24sXG4gICAgICAgIHkyID0gdG91Y2gyLnkubG9jYXRpb24sXG4gICAgICAgIGR4ID0geDEgLSB4MixcbiAgICAgICAgZHkgPSB5MSAtIHkyO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICB4OiAoeDEgKyB4MikgLyAyLFxuICAgICAgICAgICAgeTogKHkxICsgeTIpIC8gMlxuICAgICAgICB9LFxuICAgICAgICBkaXN0YW5jZTogTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoZXMoZSkge1xuICAgIGNvbnN0IHN1cHBvcnQgPSBnZXRTdXBwb3J0ZWRGZWF0dXJlcygpO1xuICAgIGxldCB0b3VjaGVzID0gW10sXG4gICAgICAgIG9yaWdpbmFsRXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZSxcbiAgICAgICAgY3VycmVudFRhcmdldCA9IGUuY3VycmVudFRhcmdldCxcbiAgICAgICAgaWR4ID0gMCxcbiAgICAgICAgbGVuZ3RoLCBjaGFuZ2VkVG91Y2hlcywgdG91Y2g7XG5cbiAgICBpZiAoZS5hcGkpIHtcbiAgICAgICAgdG91Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiAyLFxuICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICAgICAgY3VycmVudFRhcmdldDogZS50YXJnZXQsXG4gICAgICAgICAgICBsb2NhdGlvbjogZSxcbiAgICAgICAgICAgIHR5cGU6ICdhcGknXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoZS50eXBlLm1hdGNoKC90b3VjaC8pKSB7XG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gb3JpZ2luYWxFdmVudCA/IG9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMgOiBbXTtcblxuICAgICAgICBmb3IgKGxlbmd0aCA9IGNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgdG91Y2ggPSBjaGFuZ2VkVG91Y2hlc1tpZHhdO1xuICAgICAgICAgICAgdG91Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogdG91Y2gsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0b3VjaC50YXJnZXQsXG4gICAgICAgICAgICAgICAgY3VycmVudFRhcmdldDogY3VycmVudFRhcmdldCxcbiAgICAgICAgICAgICAgICBpZDogdG91Y2guaWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICB0eXBlOiAndG91Y2gnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5wb2ludGVycyB8fCBzdXBwb3J0Lm1zUG9pbnRlcnMpIHtcbiAgICAgICAgdG91Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiBvcmlnaW5hbEV2ZW50LFxuICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICAgICAgY3VycmVudFRhcmdldDogY3VycmVudFRhcmdldCxcbiAgICAgICAgICAgIGlkOiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJJZCxcbiAgICAgICAgICAgIHR5cGU6ICdwb2ludGVyJ1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0b3VjaGVzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICBldmVudDogZSxcbiAgICAgICAgICAgIHRhcmdldDogZS50YXJnZXQsXG4gICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBjdXJyZW50VGFyZ2V0LFxuICAgICAgICAgICAgbG9jYXRpb246IGUsXG4gICAgICAgICAgICB0eXBlOiAnbW91c2UnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0b3VjaGVzO1xufVxuZXhwb3J0IGNsYXNzIFRvdWNoQXhpcyBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihheGlzLCBsb2NhdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhhdC5zdXBwb3J0ID0gZ2V0U3VwcG9ydGVkRmVhdHVyZXMoKTtcbiAgICAgICAgdGhhdC5pbnZhbGlkWmVyb0V2ZW50cyA9IHRoaXMuc3VwcG9ydC5tb2JpbGVPUyAmJiB0aGlzLnN1cHBvcnQubW9iaWxlT1MuYW5kcm9pZDtcbiAgICAgICAgdGhhdC5heGlzID0gYXhpcztcbiAgICAgICAgdGhhdC5fdXBkYXRlTG9jYXRpb25EYXRhKGxvY2F0aW9uKTtcbiAgICAgICAgdGhhdC5zdGFydExvY2F0aW9uID0gdGhhdC5sb2NhdGlvbjtcbiAgICAgICAgdGhhdC52ZWxvY2l0eSA9IHRoYXQuZGVsdGEgPSAwO1xuICAgICAgICB0aGF0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgIH1cblxuICAgIG1vdmUobG9jYXRpb24pIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgb2Zmc2V0ID0gbG9jYXRpb25bJ3BhZ2UnICsgdGhhdC5heGlzXSxcbiAgICAgICAgICAgIHRpbWVTdGFtcCA9IG5vdygpLFxuICAgICAgICAgICAgdGltZURlbHRhID0gdGltZVN0YW1wIC0gdGhhdC50aW1lU3RhbXAgfHwgMTtcblxuICAgICAgICBpZiAoIW9mZnNldCAmJiB0aGlzLmludmFsaWRaZXJvRXZlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0LmRlbHRhID0gb2Zmc2V0IC0gdGhhdC5sb2NhdGlvbjtcbiAgICAgICAgdGhhdC5fdXBkYXRlTG9jYXRpb25EYXRhKGxvY2F0aW9uKTtcbiAgICAgICAgdGhhdC5pbml0aWFsRGVsdGEgPSBvZmZzZXQgLSB0aGF0LnN0YXJ0TG9jYXRpb247XG4gICAgICAgIHRoYXQudmVsb2NpdHkgPSB0aGF0LmRlbHRhIC8gdGltZURlbHRhO1xuICAgICAgICB0aGF0LnRpbWVTdGFtcCA9IHRpbWVTdGFtcDtcbiAgICB9XG5cbiAgICBfdXBkYXRlTG9jYXRpb25EYXRhKGxvY2F0aW9uKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIGF4aXMgPSB0aGF0LmF4aXM7XG5cbiAgICAgICAgdGhhdC5sb2NhdGlvbiA9IGxvY2F0aW9uWydwYWdlJyArIGF4aXNdO1xuICAgICAgICB0aGF0LmNsaWVudCA9IGxvY2F0aW9uWydjbGllbnQnICsgYXhpc107XG4gICAgICAgIHRoYXQuc2NyZWVuID0gbG9jYXRpb25bJ3NjcmVlbicgKyBheGlzXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb3VjaCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih1c2VyRXZlbnRzLCB0YXJnZXQsIHRvdWNoSW5mbykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICB4OiBuZXcgVG91Y2hBeGlzKCdYJywgdG91Y2hJbmZvLmxvY2F0aW9uKSxcbiAgICAgICAgICAgIHk6IG5ldyBUb3VjaEF4aXMoJ1knLCB0b3VjaEluZm8ubG9jYXRpb24pLFxuICAgICAgICAgICAgdHlwZTogdG91Y2hJbmZvLnR5cGUsXG4gICAgICAgICAgICB1c2VDbGlja0FzVGFwOiB1c2VyRXZlbnRzLnVzZUNsaWNrQXNUYXAsXG4gICAgICAgICAgICB0aHJlc2hvbGQ6IHVzZXJFdmVudHMudGhyZXNob2xkIHx8IFRIUkVTSE9MRFt0b3VjaEluZm8udHlwZV0sXG4gICAgICAgICAgICB1c2VyRXZlbnRzOiB1c2VyRXZlbnRzLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiB0b3VjaEluZm8uY3VycmVudFRhcmdldCxcbiAgICAgICAgICAgIGluaXRpYWxUb3VjaDogdG91Y2hJbmZvLnRhcmdldCxcbiAgICAgICAgICAgIGlkOiB0b3VjaEluZm8uaWQsXG4gICAgICAgICAgICBwcmVzc0V2ZW50OiB0b3VjaEluZm8sXG4gICAgICAgICAgICBfY2xpY2tzOiB1c2VyRXZlbnRzLl9jbGlja3MsXG4gICAgICAgICAgICBzdXBwb3J0RG91YmxlVGFwOiB1c2VyRXZlbnRzLnN1cHBvcnREb3VibGVUYXAsXG4gICAgICAgICAgICBfbW92ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgX2ZpbmlzaGVkOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcmVzcygpIHtcbiAgICAgICAgLy8gdGhpcy5faG9sZFRpbWVvdXQgPSBzZXRUaW1lb3V0KCQucHJveHkodGhpcywgJ19ob2xkJyksIHRoaXMudXNlckV2ZW50cy5taW5Ib2xkKTtcbiAgICAgICAgdGhpcy5faG9sZFRpbWVvdXQgPSBzZXRUaW1lb3V0KHByb3h5KHRoaXMuX2hvbGQsIHRoaXMpLCB0aGlzLnVzZXJFdmVudHMubWluSG9sZCk7XG4gICAgICAgIHRoaXMuX3RyaWdnZXIoUFJFU1MsIHRoaXMucHJlc3NFdmVudCk7XG4gICAgfVxuXG4gICAgX3RhcCh0b3VjaEluZm8pIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoYXQudXNlckV2ZW50cy5fY2xpY2tzKys7XG5cbiAgICAgICAgaWYgKHRoYXQudXNlckV2ZW50cy5fY2xpY2tzID09PSAxKSB7XG4gICAgICAgICAgICB0aGF0Ll9jbGlja1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGF0LnVzZXJFdmVudHMuX2NsaWNrcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Ll90cmlnZ2VyKFRBUCwgdG91Y2hJbmZvKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Ll90cmlnZ2VyKERPVUJMRVRBUCwgdG91Y2hJbmZvKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGF0LnVzZXJFdmVudHMuX2NsaWNrcyA9IDA7XG4gICAgICAgICAgICB9LCBDTElDS19ERUxBWSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaG9sZCgpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlcihIT0xELCB0aGlzLnByZXNzRXZlbnQpO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIGNvbnNpc3RlbnQtcmV0dXJuICovXG4gICAgbW92ZSh0b3VjaEluZm8pIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgICBsZXQgcHJldmVudE1vdmUgPSB0b3VjaEluZm8udHlwZSAhPT0gJ2FwaScgJiYgdGhhdC51c2VyRXZlbnRzLl9zaG91bGROb3RNb3ZlO1xuXG4gICAgICAgIGlmICh0aGF0Ll9maW5pc2hlZCB8fCBwcmV2ZW50TW92ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC54Lm1vdmUodG91Y2hJbmZvLmxvY2F0aW9uKTtcbiAgICAgICAgdGhhdC55Lm1vdmUodG91Y2hJbmZvLmxvY2F0aW9uKTtcblxuICAgICAgICBpZiAoIXRoYXQuX21vdmVkKSB7XG4gICAgICAgICAgICBpZiAodGhhdC5fd2l0aGluSWdub3JlVGhyZXNob2xkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghVXNlckV2ZW50cy5jdXJyZW50IHx8IFVzZXJFdmVudHMuY3VycmVudCA9PT0gdGhhdC51c2VyRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fc3RhcnQodG91Y2hJbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGF0Ll9maW5pc2hlZCkge1xuICAgICAgICAgICAgdGhhdC5fdHJpZ2dlcihNT1ZFLCB0b3VjaEluZm8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cblxuICAgIGVuZCh0b3VjaEluZm8pIHtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gbm93KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RyaWdnZXIoUkVMRUFTRSwgdG91Y2hJbmZvKTtcblxuICAgICAgICBpZiAodGhpcy5fbW92ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoRU5ELCB0b3VjaEluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnVzZUNsaWNrQXNUYXApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdXBwb3J0RG91YmxlVGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcCh0b3VjaEluZm8pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoVEFQLCB0b3VjaEluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCk7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGxldCB1c2VyRXZlbnRzID0gdGhpcy51c2VyRXZlbnRzLFxuICAgICAgICAgICAgYWN0aXZlVG91Y2hlcyA9IHVzZXJFdmVudHMudG91Y2hlcyB8fCBbXTtcblxuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucHJlc3NFdmVudCA9IG51bGw7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTtcbiAgICAgICAgLy8gYWN0aXZlVG91Y2hlcy5zcGxpY2UoJC5pbkFycmF5KHRoaXMsIGFjdGl2ZVRvdWNoZXMpLCAxKTtcbiAgICAgICAgY29uc3QgYWN0aXZlVG91Y2hJbmRleCA9IGFjdGl2ZVRvdWNoZXMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgYWN0aXZlVG91Y2hlcy5zcGxpY2UoYWN0aXZlVG91Y2hJbmRleCwgMSk7XG4gICAgfVxuXG4gICAgc2tpcCgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgY2FuY2VsKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBpc01vdmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW92ZWQ7XG4gICAgfVxuXG4gICAgX3N0YXJ0KHRvdWNoSW5mbykge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG5vdygpO1xuICAgICAgICB0aGlzLl9tb3ZlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RyaWdnZXIoU1RBUlQsIHRvdWNoSW5mbyk7XG4gICAgfVxuXG4gICAgX3RyaWdnZXIobmFtZSwgdG91Y2hJbmZvKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIGpRdWVyeUV2ZW50ID0gdG91Y2hJbmZvLmV2ZW50LFxuICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0b3VjaDogdGhhdCxcbiAgICAgICAgICAgICAgICB4OiB0aGF0LngsXG4gICAgICAgICAgICAgICAgeTogdGhhdC55LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhhdC50YXJnZXQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGpRdWVyeUV2ZW50XG4gICAgICAgICAgICB9O1xuICAgICAgICBpZiAodGhhdC51c2VyRXZlbnRzLm5vdGlmeShuYW1lLCBkYXRhKSkge1xuICAgICAgICAgICAgalF1ZXJ5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF93aXRoaW5JZ25vcmVUaHJlc2hvbGQoKSB7XG4gICAgICAgIGxldCB4RGVsdGEgPSB0aGlzLnguaW5pdGlhbERlbHRhLFxuICAgICAgICAgICAgeURlbHRhID0gdGhpcy55LmluaXRpYWxEZWx0YTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4RGVsdGEgKiB4RGVsdGEgKyB5RGVsdGEgKiB5RGVsdGEpIDw9IHRoaXMudGhyZXNob2xkO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gd2l0aEVhY2hVcEV2ZW50KGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZXZlbnRNYXAgPSBnZXRFdmVudE1hcChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBsZXQgZG93bkV2ZW50cyA9IGV2ZW50TWFwLnVwLnNwbGl0KCcgJyksXG4gICAgICAgIGlkeCA9IDAsXG4gICAgICAgIGxlbmd0aCA9IGRvd25FdmVudHMubGVuZ3RoO1xuXG4gICAgZm9yICg7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY2FsbGJhY2soZG93bkV2ZW50c1tpZHhdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VyRXZlbnRzIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgICAgIGxldCBmaWx0ZXI7XG5cbiAgICAgICAgY29uc3Qgc3VwcG9ydCA9IGdldFN1cHBvcnRlZEZlYXR1cmVzKCk7XG4gICAgICAgIHRoaXMuc3VwcG9ydCA9IHN1cHBvcnQ7XG5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICBmaWx0ZXIgPSB0aGF0LmZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICB0aGF0LnRocmVzaG9sZCA9IG9wdGlvbnMudGhyZXNob2xkIHx8IERFRkFVTFRfVEhSRVNIT0xEO1xuICAgICAgICB0aGF0Lm1pbkhvbGQgPSBvcHRpb25zLm1pbkhvbGQgfHwgREVGQVVMVF9NSU5fSE9MRDtcbiAgICAgICAgdGhhdC50b3VjaGVzID0gW107XG4gICAgICAgIHRoYXQuX21heFRvdWNoZXMgPSBvcHRpb25zLm11bHRpVG91Y2ggPyAyIDogMTtcbiAgICAgICAgdGhhdC5hbGxvd1NlbGVjdGlvbiA9IG9wdGlvbnMuYWxsb3dTZWxlY3Rpb247XG4gICAgICAgIHRoYXQuY2FwdHVyZVVwSWZNb3ZlZCA9IG9wdGlvbnMuY2FwdHVyZVVwSWZNb3ZlZDtcbiAgICAgICAgdGhhdC51c2VDbGlja0FzVGFwID0gIW9wdGlvbnMuZmFzdFRhcCAmJiAhc3VwcG9ydC5kZWxheWVkQ2xpY2soKTtcbiAgICAgICAgdGhhdC5fY2xpY2tzID0gMDtcbiAgICAgICAgdGhhdC5zdXBwb3J0RG91YmxlVGFwID0gb3B0aW9ucy5zdXBwb3J0RG91YmxlVGFwO1xuXG4gICAgICAgIGNvbnN0IGVuYWJsZUdsb2JhbFN1cmZhY2UgPSAhc3VwcG9ydC50b3VjaCB8fCBzdXBwb3J0Lm1vdXNlQW5kVG91Y2hQcmVzZW50O1xuXG4gICAgICAgIGV4dGVuZCh0aGF0LCB7XG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgc3VyZmFjZTogb3B0aW9ucy5nbG9iYWwgJiYgZW5hYmxlR2xvYmFsU3VyZmFjZSA/XG4gICAgICAgICAgICAgICAgZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zdXJmYWNlIHx8IGVsZW1lbnQsXG4gICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IG9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uLFxuICAgICAgICAgICAgcHJlc3NlZDogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fc3VyZmFjZU1vdmVIYW5kbGVyID0gcHJveHkodGhpcy5fbW92ZSwgdGhpcyk7XG4gICAgICAgIG9uKHRoYXQuc3VyZmFjZSwgYXBwbHlFdmVudE1hcCgnbW92ZScpLCB0aGlzLl9zdXJmYWNlTW92ZUhhbmRsZXIpO1xuXG4gICAgICAgIHRoaXMuX3N1cmZhY2VFbmRIYW5kbGVyID0gcHJveHkodGhpcy5fZW5kLCB0aGlzKTtcbiAgICAgICAgb24odGhhdC5zdXJmYWNlLCBhcHBseUV2ZW50TWFwKCd1cCBjYW5jZWwnKSwgdGhpcy5fc3VyZmFjZUVuZEhhbmRsZXIpO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnRTdGFydEhhbmRsZXIgPSBwcm94eSh0aGlzLl9zdGFydCwgdGhpcyk7XG4gICAgICAgIG9uKGVsZW1lbnQsIGFwcGx5RXZlbnRNYXAoJ2Rvd24nKSwgZmlsdGVyLCB0aGlzLl9lbGVtZW50U3RhcnRIYW5kbGVyKTtcblxuICAgICAgICBpZiAodGhhdC51c2VDbGlja0FzVGFwKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50Q2xpY2tIYW5kbGVyID0gcHJveHkodGhpcy5fY2xpY2ssIHRoaXMpO1xuICAgICAgICAgICAgb24oZWxlbWVudCwgYXBwbHlFdmVudE1hcCgnY2xpY2snKSwgZmlsdGVyLCB0aGlzLl9lbGVtZW50Q2xpY2tIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdXBwb3J0LnBvaW50ZXJzIHx8IHN1cHBvcnQubXNQb2ludGVycykge1xuICAgICAgICAgICAgaWYgKHN1cHBvcnQuYnJvd3Nlci52ZXJzaW9uIDwgMTEpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGVmYXVsdEFjdGlvbiA9ICdwaW5jaC16b29tIGRvdWJsZS10YXAtem9vbSc7XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnRvdWNoQWN0aW9uICYmIG9wdGlvbnMudG91Y2hBY3Rpb24gIT09ICdub25lJyA/XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0QWN0aW9uICsgJyAnICsgb3B0aW9ucy50b3VjaEFjdGlvbiA6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0QWN0aW9uO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gb3B0aW9ucy50b3VjaEFjdGlvbiB8fCAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucHJldmVudERyYWdFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudERyYWdTdGFydEhhbmRsZXIgPSBwcmV2ZW50RGVmYXVsdDtcbiAgICAgICAgICAgIG9uKGVsZW1lbnQsIGFwcGx5RXZlbnRNYXAoJ2RyYWdzdGFydCcpLCB0aGlzLl9lbGVtZW50RHJhZ1N0YXJ0SGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbGVtZW50Lm9uKGtlbmRvLmFwcGx5RXZlbnRNYXAoJ21vdXNlZG93bicpLCBmaWx0ZXIsIHtcbiAgICAgICAgLy8gICAgIHJvb3Q6IGVsZW1lbnRcbiAgICAgICAgLy8gfSAnX3NlbGVjdCcpO1xuXG4gICAgICAgIC8vIHRvZG86IHVzZSByb290XG4gICAgICAgIHRoaXMuX2VsZW1lbnRTZWxlY3RIYW5kbGVyID0gcHJveHkodGhpcy5fc2VsZWN0LCB0aGlzKTtcbiAgICAgICAgb24oZWxlbWVudCwgYXBwbHlFdmVudE1hcCgnbW91c2Vkb3duJyksIGZpbHRlciwgdGhpcy5fZWxlbWVudFNlbGVjdEhhbmRsZXIpO1xuXG4gICAgICAgIGlmICh0aGF0LmNhcHR1cmVVcElmTW92ZWQgJiYgc3VwcG9ydC5ldmVudENhcHR1cmUpIHtcbiAgICAgICAgICAgIGxldCBzdXJmYWNlRWxlbWVudCA9IHRoYXQuc3VyZmFjZSxcbiAgICAgICAgICAgICAgICBwcmV2ZW50SWZNb3ZpbmdQcm94eSA9IHByb3h5KHRoYXQucHJldmVudElmTW92aW5nLCB0aGF0KTtcblxuICAgICAgICAgICAgd2l0aEVhY2hVcEV2ZW50KGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHN1cmZhY2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBwcmV2ZW50SWZNb3ZpbmdQcm94eSwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoYXQuYmluZChbXG4gICAgICAgICAgICBQUkVTUyxcbiAgICAgICAgICAgIEhPTEQsXG4gICAgICAgICAgICBUQVAsXG4gICAgICAgICAgICBET1VCTEVUQVAsXG4gICAgICAgICAgICBTVEFSVCxcbiAgICAgICAgICAgIE1PVkUsXG4gICAgICAgICAgICBFTkQsXG4gICAgICAgICAgICBSRUxFQVNFLFxuICAgICAgICAgICAgQ0FOQ0VMLFxuICAgICAgICAgICAgR0VTVFVSRVNUQVJULFxuICAgICAgICAgICAgR0VTVFVSRUNIQU5HRSxcbiAgICAgICAgICAgIEdFU1RVUkVFTkQsXG4gICAgICAgICAgICBHRVNUVVJFVEFQLFxuICAgICAgICAgICAgU0VMRUNUXG4gICAgICAgIF0sIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHByZXZlbnRJZk1vdmluZyhlKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc01vdmVkKCkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblxuICAgICAgICBpZiAodGhhdC5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0Ll9kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGF0LmNhcHR1cmVVcElmTW92ZWQgJiYgdGhpcy5zdXBwb3J0LmV2ZW50Q2FwdHVyZSkge1xuICAgICAgICAgICAgbGV0IHN1cmZhY2VFbGVtZW50ID0gdGhhdC5zdXJmYWNlO1xuICAgICAgICAgICAgd2l0aEVhY2hVcEV2ZW50KGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHN1cmZhY2VFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGF0LnByZXZlbnRJZk1vdmluZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9mZih0aGF0LnN1cmZhY2UsIGFwcGx5RXZlbnRNYXAoJ21vdmUnKSwgdGhpcy5fc3VyZmFjZU1vdmVIYW5kbGVyKTtcbiAgICAgICAgb2ZmKHRoYXQuc3VyZmFjZSwgYXBwbHlFdmVudE1hcCgndXAgY2FuY2VsJyksIHRoaXMuX3N1cmZhY2VFbmRIYW5kbGVyKTtcblxuICAgICAgICBvZmYoZWxlbWVudCwgYXBwbHlFdmVudE1hcCgnZG93bicpLCB0aGlzLl9lbGVtZW50U3RhcnRIYW5kbGVyKTtcblxuICAgICAgICBpZiAodGhhdC51c2VDbGlja0FzVGFwKSB7XG4gICAgICAgICAgICBvZmYoZWxlbWVudCwgYXBwbHlFdmVudE1hcCgnY2xpY2snKSwgdGhpcy5fZWxlbWVudENsaWNrSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5wcmV2ZW50RHJhZ0V2ZW50KSB7XG4gICAgICAgICAgICBvZmYoZWxlbWVudCwgYXBwbHlFdmVudE1hcCgnZHJhZ3N0YXJ0JyksIHRoaXMuX2VsZW1lbnREcmFnU3RhcnRIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9mZihlbGVtZW50LCBhcHBseUV2ZW50TWFwKCdtb3VzZWRvd24nKSwgdGhpcy5fZWxlbWVudFNlbGVjdEhhbmRsZXIpO1xuXG4gICAgICAgIHRoYXQuX2Rpc3Bvc2VBbGwoKTtcbiAgICAgICAgdGhhdC51bmJpbmQoKTtcblxuICAgICAgICBkZWxldGUgdGhhdC5zdXJmYWNlO1xuICAgICAgICBkZWxldGUgdGhhdC5lbGVtZW50O1xuICAgICAgICBkZWxldGUgdGhhdC5jdXJyZW50VGFyZ2V0O1xuICAgIH1cblxuICAgIGNhcHR1cmUoKSB7XG4gICAgICAgIFVzZXJFdmVudHMuY3VycmVudCA9IHRoaXM7XG4gICAgfVxuXG4gICAgY2FuY2VsKCkge1xuICAgICAgICB0aGlzLl9kaXNwb3NlQWxsKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlcihDQU5DRUwpO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICAgIG5vdGlmeShldmVudCwgZGF0YSkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICB0b3VjaGVzID0gdGhhdC50b3VjaGVzO1xuICAgICAgICBsZXQgZXZlbnROYW1lID0gZXZlbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzTXVsdGlUb3VjaCgpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgTU9WRTpcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gR0VTVFVSRUNIQU5HRTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IEdFU1RVUkVFTkQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVEFQOlxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBHRVNUVVJFVEFQO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXh0ZW5kKGRhdGEsIHtcbiAgICAgICAgICAgICAgICB0b3VjaGVzOiB0b3VjaGVzXG4gICAgICAgICAgICB9LCB0b3VjaERlbHRhKHRvdWNoZXNbMF0sIHRvdWNoZXNbMV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoZXZlbnROYW1lLCBleHRlbmQoZGF0YSwge1xuICAgICAgICAgICAgdHlwZTogZXZlbnROYW1lXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cblxuICAgIHByZXNzKHgsIHksIHRhcmdldCkge1xuICAgICAgICB0aGlzLl9hcGlDYWxsKCdfc3RhcnQnLCB4LCB5LCB0YXJnZXQpO1xuICAgIH1cblxuICAgIG1vdmUoeCwgeSkge1xuICAgICAgICB0aGlzLl9hcGlDYWxsKCdfbW92ZScsIHgsIHkpO1xuICAgIH1cblxuICAgIGVuZCh4LCB5KSB7XG4gICAgICAgIHRoaXMuX2FwaUNhbGwoJ19lbmQnLCB4LCB5KTtcbiAgICB9XG5cbiAgICBfaXNNdWx0aVRvdWNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b3VjaGVzLmxlbmd0aCA+IDE7XG4gICAgfVxuXG4gICAgX21heFRvdWNoZXNSZWFjaGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b3VjaGVzLmxlbmd0aCA+PSB0aGlzLl9tYXhUb3VjaGVzO1xuICAgIH1cblxuICAgIF9kaXNwb3NlQWxsKCkge1xuICAgICAgICBsZXQgdG91Y2hlcyA9IHRoaXMudG91Y2hlcztcbiAgICAgICAgd2hpbGUgKHRvdWNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdG91Y2hlcy5wb3AoKS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaXNNb3ZlZCgpIHtcbiAgICAgICAgcmV0dXJuIGdyZXAodGhpcy50b3VjaGVzLCBmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICAgICAgcmV0dXJuIHRvdWNoLmlzTW92ZWQoKTtcbiAgICAgICAgfSkubGVuZ3RoO1xuICAgIH1cblxuICAgIF9zZWxlY3QoZSkge1xuICAgICAgICBpZiAoIXRoaXMuYWxsb3dTZWxlY3Rpb24gfHwgdGhpcy50cmlnZ2VyKFNFTEVDVCwgeyBldmVudDogZSB9KSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0KGUpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgaWR4ID0gMCxcbiAgICAgICAgICAgIGZpbHRlciA9IHRoYXQuZmlsdGVyLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdG91Y2hlcyA9IGdldFRvdWNoZXMoZSksXG4gICAgICAgICAgICBsZW5ndGggPSB0b3VjaGVzLmxlbmd0aCxcbiAgICAgICAgICAgIHRvdWNoLFxuICAgICAgICAgICAgd2hpY2ggPSBlLndoaWNoO1xuXG4gICAgICAgIGlmICh3aGljaCAmJiB3aGljaCA+IDEgfHwgdGhhdC5fbWF4VG91Y2hlc1JlYWNoZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgVXNlckV2ZW50cy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhhdC5jdXJyZW50VGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICAgIGlmICh0aGF0LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAodGhhdC5fbWF4VG91Y2hlc1JlYWNoZWQoKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b3VjaCA9IHRvdWNoZXNbaWR4XTtcblxuICAgICAgICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IHRvdWNoLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IHRoYXQuZWxlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRvdWNoID0gbmV3IFRvdWNoKHRoYXQsIHRhcmdldCwgdG91Y2gpO1xuICAgICAgICAgICAgdGhhdC50b3VjaGVzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgdG91Y2gucHJlc3MoKTtcblxuICAgICAgICAgICAgaWYgKHRoYXQuX2lzTXVsdGlUb3VjaCgpKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5ub3RpZnkoJ2dlc3R1cmVzdGFydCcsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3ZlKGUpIHtcbiAgICAgICAgdGhpcy5fZWFjaFRvdWNoKCdtb3ZlJywgZSk7XG4gICAgfVxuXG4gICAgX2VuZChlKSB7XG4gICAgICAgIHRoaXMuX2VhY2hUb3VjaCgnZW5kJywgZSk7XG4gICAgfVxuXG4gICAgX2NsaWNrKGUpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICB0b3VjaDoge1xuICAgICAgICAgICAgICAgIGluaXRpYWxUb3VjaDogZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBlLmN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgICAgICAgZW5kVGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogZS5wYWdlWCxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50OiBlLmNsaWVudFhcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGUucGFnZVksXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudDogZS5jbGllbnRZXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHg6IGUucGFnZVgsXG4gICAgICAgICAgICB5OiBlLnBhZ2VZLFxuICAgICAgICAgICAgdGFyZ2V0OiBlLmN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgICBldmVudDogZSxcbiAgICAgICAgICAgIHR5cGU6ICd0YXAnXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMudHJpZ2dlcigndGFwJywgZGF0YSkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lYWNoVG91Y2gobWV0aG9kTmFtZSwgZSkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBkaWN0ID0ge30sXG4gICAgICAgICAgICB0b3VjaGVzID0gZ2V0VG91Y2hlcyhlKSxcbiAgICAgICAgICAgIGFjdGl2ZVRvdWNoZXMgPSB0aGF0LnRvdWNoZXMsXG4gICAgICAgICAgICBpZHgsXG4gICAgICAgICAgICB0b3VjaCxcbiAgICAgICAgICAgIHRvdWNoSW5mbyxcbiAgICAgICAgICAgIG1hdGNoaW5nVG91Y2g7XG5cbiAgICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBhY3RpdmVUb3VjaGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHRvdWNoID0gYWN0aXZlVG91Y2hlc1tpZHhdO1xuICAgICAgICAgICAgZGljdFt0b3VjaC5pZF0gPSB0b3VjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgdG91Y2hlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICB0b3VjaEluZm8gPSB0b3VjaGVzW2lkeF07XG4gICAgICAgICAgICBtYXRjaGluZ1RvdWNoID0gZGljdFt0b3VjaEluZm8uaWRdO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdUb3VjaCkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nVG91Y2hbbWV0aG9kTmFtZV0odG91Y2hJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hcGlDYWxsKHR5cGUsIHgsIHksIHRhcmdldCkge1xuICAgICAgICB0aGlzW3R5cGVdKHtcbiAgICAgICAgICAgIGFwaTogdHJ1ZSxcbiAgICAgICAgICAgIHBhZ2VYOiB4LFxuICAgICAgICAgICAgcGFnZVk6IHksXG4gICAgICAgICAgICBjbGllbnRYOiB4LFxuICAgICAgICAgICAgY2xpZW50WTogeSxcbiAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0IHx8IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogbm9vcCxcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBub29wXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0VGhyZXNob2xkKHZhbHVlKSB7XG4gICAgICAgIERFRkFVTFRfVEhSRVNIT0xEID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIG1pbkhvbGQodmFsdWUpIHtcbiAgICAgICAgREVGQVVMVF9NSU5fSE9MRCA9IHZhbHVlO1xuICAgIH1cbn1cbiIsIi8vIHRvZG86IGV4dHJhY3QgdG8gYSBzZXBhcmF0ZSBwbGFjZVxuXG5pbXBvcnQge1xuICAgIENsYXNzLFxuICAgIGRlZXBFeHRlbmQsXG4gICAgYWRkQ2xhc3MsXG4gICAgaXNGdW5jdGlvbixcbiAgICBzZXREZWZhdWx0T3B0aW9uc1xufSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5pbXBvcnQge1xuICAgIGNvbnZlcnRUb0h0bWwsXG4gICAgcHJlcGVuZCxcbiAgICB3cmFwSW5uZXIsXG4gICAgY29udGFpbnMsXG4gICAgaGFzTmF0aXZlU2Nyb2xsaW5nLFxuICAgIG9uLFxuICAgIG9mZixcbiAgICBwcm94eSxcbiAgICB3aGVlbERlbHRhWSxcbiAgICBzZXREZWZhdWx0RXZlbnRzXG59IGZyb20gJy4uL3V0aWxzJztcblxuaW1wb3J0IHtcbiAgICBUcmFuc2l0aW9uLFxuICAgIEFuaW1hdGlvblxufSBmcm9tICcuL2Z4JztcblxuaW1wb3J0IHtcbiAgICBQYW5lLFxuICAgIFBhbmVEaW1lbnNpb25zLFxuICAgIE1vdmFibGUsXG4gICAgVGFwQ2FwdHVyZVxufSBmcm9tICcuL2RyYWdnYWJsZSc7XG5cbmltcG9ydCB7XG4gICAgVXNlckV2ZW50c1xufSBmcm9tICcuL3VzZXItZXZlbnRzJztcblxuaW1wb3J0IHtcbiAgICBPYnNlcnZhYmxlXG59IGZyb20gJy4vb2JzZXJ2YWJsZSc7XG5cbmxldFxuICAgIGV4dGVuZCA9IE9iamVjdC5hc3NpZ24sXG4gICAgYWJzID0gTWF0aC5hYnMsXG4gICAgU05BUEJBQ0tfRFVSQVRJT04gPSA1MDAsXG4gICAgU0NST0xMQkFSX09QQUNJVFkgPSAwLjcsXG4gICAgRlJJQ1RJT04gPSAwLjk2LFxuICAgIFZFTE9DSVRZX01VTFRJUExJRVIgPSAxMCxcbiAgICBNQVhfVkVMT0NJVFkgPSA1NSxcbiAgICBPVVRfT0ZfQk9VTkRTX0ZSSUNUSU9OID0gMC41LFxuICAgIEFOSU1BVEVEX1NDUk9MTEVSX1BSRUNJU0lPTiA9IDUsXG4gICAgLy8gU0NST0xMRVJfUkVMRUFTRV9DTEFTUyA9ICdrbS1zY3JvbGxlci1yZWxlYXNlJyxcbiAgICAvLyBTQ1JPTExFUl9SRUZSRVNIX0NMQVNTID0gJ2ttLXNjcm9sbGVyLXJlZnJlc2gnLFxuICAgIFBVTEwgPSAncHVsbCcsXG4gICAgQ0hBTkdFID0gJ2NoYW5nZScsXG4gICAgUkVTSVpFID0gJ3Jlc2l6ZScsXG4gICAgU0NST0xMID0gJ3Njcm9sbCcsXG4gICAgTU9VU0VfV0hFRUxfSUQgPSAyO1xuXG5jbGFzcyBab29tU25hcEJhY2sgZXh0ZW5kcyBBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgZXh0ZW5kKHRoYXQsIG9wdGlvbnMpO1xuICAgICAgICB0aGF0LnVzZXJFdmVudHMuYmluZCgnZ2VzdHVyZWVuZCcsIHRoYXQuc3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoYXQudGFwQ2FwdHVyZS5iaW5kKCdwcmVzcycsIHRoYXQuY2FuY2VsLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdmFibGUuc2NhbGUgPCB0aGlzLmRpbWVuc2lvbnMubWluU2NhbGU7XG4gICAgfVxuXG4gICAgZG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucy5taW5TY2FsZSAtIHRoaXMubW92YWJsZS5zY2FsZSA8IDAuMDE7XG4gICAgfVxuXG4gICAgdGljaygpIHtcbiAgICAgICAgbGV0IG1vdmFibGUgPSB0aGlzLm1vdmFibGU7XG4gICAgICAgIG1vdmFibGUuc2NhbGVXaXRoKDEuMSk7XG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy5yZXNjYWxlKG1vdmFibGUuc2NhbGUpO1xuICAgIH1cblxuICAgIG9uRW5kKCkge1xuICAgICAgICBsZXQgbW92YWJsZSA9IHRoaXMubW92YWJsZTtcbiAgICAgICAgbW92YWJsZS5zY2FsZVRvKHRoaXMuZGltZW5zaW9ucy5taW5TY2FsZSk7XG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy5yZXNjYWxlKG1vdmFibGUuc2NhbGUpO1xuICAgIH1cbn1cblxuY2xhc3MgRHJhZ0luZXJ0aWEgZXh0ZW5kcyBBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIGV4dGVuZCh0aGF0LCBvcHRpb25zLCB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBuZXcgVHJhbnNpdGlvbih7XG4gICAgICAgICAgICAgICAgYXhpczogb3B0aW9ucy5heGlzLFxuICAgICAgICAgICAgICAgIG1vdmFibGU6IG9wdGlvbnMubW92YWJsZSxcbiAgICAgICAgICAgICAgICBvbkVuZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fZW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhhdC50YXBDYXB0dXJlLmJpbmQoJ3ByZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGF0LmNhbmNlbCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGF0LnVzZXJFdmVudHMuYmluZCgnZW5kJywgcHJveHkodGhhdC5zdGFydCwgdGhhdCkpO1xuICAgICAgICB0aGF0LnVzZXJFdmVudHMuYmluZCgnZ2VzdHVyZWVuZCcsIHByb3h5KHRoYXQuc3RhcnQsIHRoYXQpKTtcbiAgICAgICAgdGhhdC51c2VyRXZlbnRzLmJpbmQoJ3RhcCcsIHByb3h5KHRoYXQub25FbmQsIHRoYXQpKTtcbiAgICB9XG5cbiAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uLmNhbmNlbCgpO1xuICAgIH1cblxuICAgIGZyZWV6ZShsb2NhdGlvbikge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgICAgIHRoYXQuY2FuY2VsKCk7XG4gICAgICAgIHRoYXQuX21vdmVUbyhsb2NhdGlvbik7XG4gICAgfVxuXG4gICAgb25FbmQoKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgaWYgKHRoYXQucGFuZUF4aXMub3V0T2ZCb3VuZHMoKSkge1xuICAgICAgICAgICAgdGhhdC5fc25hcEJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoYXQuX2VuZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIGFicyh0aGlzLnZlbG9jaXR5KSA8IDE7XG4gICAgfVxuXG4gICAgc3RhcnQoZSkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICB2ZWxvY2l0eTtcbiAgICAgICAgaWYgKCF0aGF0LmRpbWVuc2lvbi5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoYXQucGFuZUF4aXMub3V0T2ZCb3VuZHMoKSkge1xuICAgICAgICAgICAgaWYgKHRoYXQudHJhbnNpdGlvbi5fc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoYXQudHJhbnNpdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICB0aGF0LnZlbG9jaXR5ID0gTWF0aC5taW4oZS50b3VjaFt0aGF0LmF4aXNdLnZlbG9jaXR5ICogdGhhdC52ZWxvY2l0eU11bHRpcGxpZXIsIE1BWF9WRUxPQ0lUWSk7XG4gICAgICAgICAgICAgICAgc3VwZXIuc3RhcnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fc25hcEJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gZS50b3VjaC5pZCA9PT0gTU9VU0VfV0hFRUxfSUQgPyAwIDogZS50b3VjaFt0aGF0LmF4aXNdLnZlbG9jaXR5O1xuICAgICAgICAgICAgdGhhdC52ZWxvY2l0eSA9IE1hdGgubWF4KE1hdGgubWluKHZlbG9jaXR5ICogdGhhdC52ZWxvY2l0eU11bHRpcGxpZXIsIE1BWF9WRUxPQ0lUWSksIC1NQVhfVkVMT0NJVFkpO1xuICAgICAgICAgICAgdGhhdC50YXBDYXB0dXJlLmNhcHR1cmVOZXh0KCk7XG4gICAgICAgICAgICBzdXBlci5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGljaygpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgZGltZW5zaW9uID0gdGhhdC5kaW1lbnNpb24sXG4gICAgICAgICAgICBmcmljdGlvbiA9IHRoYXQucGFuZUF4aXMub3V0T2ZCb3VuZHMoKSA/IE9VVF9PRl9CT1VORFNfRlJJQ1RJT04gOiB0aGF0LmZyaWN0aW9uLFxuICAgICAgICAgICAgZGVsdGEgPSB0aGF0LnZlbG9jaXR5ICo9IGZyaWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb24gPSB0aGF0Lm1vdmFibGVbdGhhdC5heGlzXSArIGRlbHRhO1xuXG4gICAgICAgIGlmICghdGhhdC5lbGFzdGljICYmIGRpbWVuc2lvbi5vdXRPZkJvdW5kcyhsb2NhdGlvbikpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gTWF0aC5tYXgoTWF0aC5taW4obG9jYXRpb24sIGRpbWVuc2lvbi5tYXgpLCBkaW1lbnNpb24ubWluKTtcbiAgICAgICAgICAgIHRoYXQudmVsb2NpdHkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC5tb3ZhYmxlLm1vdmVBeGlzKHRoYXQuYXhpcywgbG9jYXRpb24pO1xuICAgIH1cblxuICAgIF9lbmQoKSB7XG4gICAgICAgIHRoaXMudGFwQ2FwdHVyZS5jYW5jZWxDYXB0dXJlKCk7XG4gICAgICAgIHRoaXMuZW5kKCk7XG4gICAgfVxuXG4gICAgX3NuYXBCYWNrKCkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBkaW1lbnNpb24gPSB0aGF0LmRpbWVuc2lvbixcbiAgICAgICAgICAgIHNuYXBCYWNrID0gdGhhdC5tb3ZhYmxlW3RoYXQuYXhpc10gPiBkaW1lbnNpb24ubWF4ID8gZGltZW5zaW9uLm1heCA6IGRpbWVuc2lvbi5taW47XG5cbiAgICAgICAgdGhhdC5fbW92ZVRvKHNuYXBCYWNrKTtcbiAgICB9XG5cbiAgICBfbW92ZVRvKGxvY2F0aW9uKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbi5tb3ZlVG8oe1xuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgZHVyYXRpb246IFNOQVBCQUNLX0RVUkFUSU9OLFxuICAgICAgICAgICAgZWFzZTogVHJhbnNpdGlvbi5lYXNlT3V0RXhwb1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNsYXNzIEFuaW1hdGVkU2Nyb2xsZXIgZXh0ZW5kcyBBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgICAgICBleHRlbmQodGhhdCwgb3B0aW9ucywge1xuICAgICAgICAgICAgb3JpZ2luOiB7fSxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uOiB7fSxcbiAgICAgICAgICAgIG9mZnNldDoge31cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGljaygpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdGhpcy5tb3ZlVG8odGhpcy5vcmlnaW4pO1xuICAgIH1cblxuICAgIGRvbmUoKSB7XG4gICAgICAgIHJldHVybiBhYnModGhpcy5vZmZzZXQueSkgPCBBTklNQVRFRF9TQ1JPTExFUl9QUkVDSVNJT04gJiYgYWJzKHRoaXMub2Zmc2V0LngpIDwgQU5JTUFURURfU0NST0xMRVJfUFJFQ0lTSU9OO1xuICAgIH1cblxuICAgIG9uRW5kKCkge1xuICAgICAgICB0aGlzLm1vdmVUbyh0aGlzLmRlc3RpbmF0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2suY2FsbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q29vcmRpbmF0ZXMoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSB7fTtcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBmcm9tO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gdG87XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICBzZXRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2sgJiYgaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuICAgIF91cGRhdGVDb29yZGluYXRlcygpIHtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSB7XG4gICAgICAgICAgICB4OiAodGhpcy5kZXN0aW5hdGlvbi54IC0gdGhpcy5vcmlnaW4ueCkgLyA0LFxuICAgICAgICAgICAgeTogKHRoaXMuZGVzdGluYXRpb24ueSAtIHRoaXMub3JpZ2luLnkpIC8gNFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9yaWdpbiA9IHtcbiAgICAgICAgICAgIHk6IHRoaXMub3JpZ2luLnkgKyB0aGlzLm9mZnNldC55LFxuICAgICAgICAgICAgeDogdGhpcy5vcmlnaW4ueCArIHRoaXMub2Zmc2V0LnhcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIFNjcm9sbEJhciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIGhvcml6b250YWwgPSBvcHRpb25zLmF4aXMgPT09ICd4JztcblxuICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IChob3Jpem9udGFsID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb252ZXJ0VG9IdG1sKCc8ZGl2IGNsYXNzPVwia20tdG91Y2gtc2Nyb2xsYmFyIGttLScgKyBvcmllbnRhdGlvbiArICctc2Nyb2xsYmFyXCIgLz4nKTtcblxuICAgICAgICBleHRlbmQodGhhdCwgb3B0aW9ucywge1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgIGVsZW1lbnRTaXplOiAwLFxuICAgICAgICAgICAgbW92YWJsZTogbmV3IE1vdmFibGUoZWxlbWVudCksXG4gICAgICAgICAgICBzY3JvbGxNb3ZhYmxlOiBvcHRpb25zLm1vdmFibGUsXG4gICAgICAgICAgICBhbHdheXNWaXNpYmxlOiBvcHRpb25zLmFsd2F5c1Zpc2libGUsXG4gICAgICAgICAgICBzaXplOiBob3Jpem9udGFsID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoYXQuc2Nyb2xsTW92YWJsZS5iaW5kKENIQU5HRSwgdGhhdC5yZWZyZXNoLmJpbmQodGhhdCkpO1xuXG4gICAgICAgIHRoYXQuY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFsd2F5c1Zpc2libGUpIHtcbiAgICAgICAgICAgIHRoYXQuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgYXhpcyA9IHRoYXQuYXhpcyxcbiAgICAgICAgICAgIGRpbWVuc2lvbiA9IHRoYXQuZGltZW5zaW9uLFxuICAgICAgICAgICAgcGFuZVNpemUgPSBkaW1lbnNpb24uc2l6ZSxcbiAgICAgICAgICAgIHNjcm9sbE1vdmFibGUgPSB0aGF0LnNjcm9sbE1vdmFibGUsXG4gICAgICAgICAgICBzaXplUmF0aW8gPSBwYW5lU2l6ZSAvIGRpbWVuc2lvbi50b3RhbCxcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5yb3VuZCgtc2Nyb2xsTW92YWJsZVtheGlzXSAqIHNpemVSYXRpbyksXG4gICAgICAgICAgICBzaXplID0gTWF0aC5yb3VuZChwYW5lU2l6ZSAqIHNpemVSYXRpbyk7XG4gICAgICAgIGlmIChzaXplUmF0aW8gPj0gMSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24gKyBzaXplID4gcGFuZVNpemUpIHtcbiAgICAgICAgICAgIHNpemUgPSBwYW5lU2l6ZSAtIHBvc2l0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uIDwgMCkge1xuICAgICAgICAgICAgc2l6ZSArPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhhdC5lbGVtZW50U2l6ZSAhPT0gc2l6ZSkge1xuICAgICAgICAgICAgdGhhdC5lbGVtZW50LnN0eWxlW3RoYXQuc2l6ZV0gPSBzaXplICsgJ3B4JztcbiAgICAgICAgICAgIHRoYXQuZWxlbWVudFNpemUgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoYXQubW92YWJsZS5tb3ZlQXhpcyhheGlzLCBwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBTQ1JPTExCQVJfT1BBQ0lUWTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWx3YXlzVmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnQgY2xhc3MgU2Nyb2xsZXIgZXh0ZW5kcyBDbGFzcyB7XG5leHBvcnQgY2xhc3MgU2Nyb2xsZXIgZXh0ZW5kcyBPYnNlcnZhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLl9pbml0T3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBoYXNTY3JvbGxpbmcgPSBoYXNOYXRpdmVTY3JvbGxpbmcobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIHRoYXQuX25hdGl2ZSA9IHRoYXQub3B0aW9ucy51c2VOYXRpdmUgJiYgaGFzU2Nyb2xsaW5nO1xuICAgICAgICBjb25zdCBzY3JvbGxIZWFkZXIgPSBjb252ZXJ0VG9IdG1sKCc8ZGl2IGNsYXNzPVwia20tc2Nyb2xsLWhlYWRlclwiLz4nKTtcblxuICAgICAgICBpZiAodGhhdC5fbmF0aXZlKSB7XG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCAna20tbmF0aXZlLXNjcm9sbGVyJyk7XG4gICAgICAgICAgICBwcmVwZW5kKHNjcm9sbEhlYWRlciwgZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGV4dGVuZCh0aGF0LCB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsRWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICBmaXhlZENvbnRhaW5lcjogZWxlbWVudC5jaGlsZHJlblswXVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCAna20tc2Nyb2xsLXdyYXBwZXInKTtcblxuICAgICAgICBjb25zdCBzY3JvbGxDb250YWluZXIgPSBjb252ZXJ0VG9IdG1sKCc8ZGl2IGNsYXNzPVwia20tc2Nyb2xsLWNvbnRhaW5lclwiLz4nKTtcbiAgICAgICAgd3JhcElubmVyKGVsZW1lbnQsIHNjcm9sbENvbnRhaW5lcik7XG4gICAgICAgIHByZXBlbmQoc2Nyb2xsSGVhZGVyLCBlbGVtZW50KTtcblxuICAgICAgICBsZXQgaW5uZXIgPSBlbGVtZW50LmNoaWxkcmVuWzFdLFxuICAgICAgICAgICAgdGFwQ2FwdHVyZSA9IG5ldyBUYXBDYXB0dXJlKGVsZW1lbnQpLFxuICAgICAgICAgICAgbW92YWJsZSA9IG5ldyBNb3ZhYmxlKGlubmVyKSxcblxuICAgICAgICAgICAgZGltZW5zaW9ucyA9IG5ldyBQYW5lRGltZW5zaW9ucyh7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogaW5uZXIsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGZvcmNlZEVuYWJsZWQ6IHRoYXQub3B0aW9ucy56b29tXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGF2b2lkU2Nyb2xsaW5nID0gdGhpcy5vcHRpb25zLmF2b2lkU2Nyb2xsaW5nLFxuXG4gICAgICAgICAgICB1c2VyRXZlbnRzID0gbmV3IFVzZXJFdmVudHMoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIHRvdWNoQWN0aW9uOiAncGFuLXknLFxuICAgICAgICAgICAgICAgIGZhc3RUYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxsb3dTZWxlY3Rpb246IHRydWUsXG4gICAgICAgICAgICAgICAgcHJldmVudERyYWdFdmVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYXB0dXJlVXBJZk1vdmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG11bHRpVG91Y2g6IHRoYXQub3B0aW9ucy56b29tLFxuICAgICAgICAgICAgICAgIHN1cHBvcnREb3VibGVUYXA6IHRoYXQub3B0aW9ucy5zdXBwb3J0RG91YmxlVGFwLFxuICAgICAgICAgICAgICAgIHN0YXJ0KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2ZWxvY2l0eVggPSBhYnMoZS54LnZlbG9jaXR5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5WSA9IGFicyhlLnkudmVsb2NpdHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbFN3aXBlID0gdmVsb2NpdHlYICogMiA+PSB2ZWxvY2l0eVksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hdGVkRnJvbUZpeGVkQ29udGFpbmVyID0gY29udGFpbnModGhhdC5maXhlZENvbnRhaW5lciwgZS5ldmVudC50YXJnZXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxTd2lwZSA9IHZlbG9jaXR5WSAqIDIgPj0gdmVsb2NpdHlYO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9yaWdpbmF0ZWRGcm9tRml4ZWRDb250YWluZXIgJiYgIWF2b2lkU2Nyb2xsaW5nKGUpICYmIHRoYXQuZW5hYmxlZCAmJiAoZGltZW5zaW9ucy54LmVuYWJsZWQgJiYgaG9yaXpvbnRhbFN3aXBlIHx8IGRpbWVuc2lvbnMueS5lbmFibGVkICYmIHZlcnRpY2FsU3dpcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyRXZlbnRzLmNhcHR1cmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJFdmVudHMuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgcGFuZSA9IG5ldyBQYW5lKHtcbiAgICAgICAgICAgICAgICBtb3ZhYmxlOiBtb3ZhYmxlLFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgdXNlckV2ZW50czogdXNlckV2ZW50cyxcbiAgICAgICAgICAgICAgICBlbGFzdGljOiB0aGF0Lm9wdGlvbnMuZWxhc3RpY1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHpvb21TbmFwQmFjayA9IG5ldyBab29tU25hcEJhY2soe1xuICAgICAgICAgICAgICAgIG1vdmFibGU6IG1vdmFibGUsXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICB1c2VyRXZlbnRzOiB1c2VyRXZlbnRzLFxuICAgICAgICAgICAgICAgIHRhcENhcHR1cmU6IHRhcENhcHR1cmVcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBhbmltYXRlZFNjcm9sbGVyID0gbmV3IEFuaW1hdGVkU2Nyb2xsZXIoe1xuICAgICAgICAgICAgICAgIG1vdmVUbyhjb29yZGluYXRlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnNjcm9sbFRvKGNvb3JkaW5hdGVzLngsIGNvb3JkaW5hdGVzLnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIG1vdmFibGUuYmluZChDSEFOR0UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5zY3JvbGxUb3AgPSAtbW92YWJsZS55O1xuICAgICAgICAgICAgdGhhdC5zY3JvbGxMZWZ0ID0gLW1vdmFibGUueDtcbiAgICAgICAgICAgIHRoYXQudHJpZ2dlcihTQ1JPTEwsIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHRoYXQuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgIHNjcm9sbExlZnQ6IHRoYXQuc2Nyb2xsTGVmdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGF0Lm9wdGlvbnMubW91c2V3aGVlbFNjcm9sbGluZykge1xuICAgICAgICAgICAgdGhpcy5fd2hlZWxTY3JvbGxIYW5kbGVyID0gdGhpcy5fd2hlZWxTY3JvbGwuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIG9uKGVsZW1lbnQsICdET01Nb3VzZVNjcm9sbCBtb3VzZXdoZWVsJywgdGhpcy5fd2hlZWxTY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4dGVuZCh0aGF0LCB7XG4gICAgICAgICAgICBtb3ZhYmxlOiBtb3ZhYmxlLFxuICAgICAgICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucyxcbiAgICAgICAgICAgIHpvb21TbmFwQmFjazogem9vbVNuYXBCYWNrLFxuICAgICAgICAgICAgYW5pbWF0ZWRTY3JvbGxlcjogYW5pbWF0ZWRTY3JvbGxlcixcbiAgICAgICAgICAgIHVzZXJFdmVudHM6IHVzZXJFdmVudHMsXG4gICAgICAgICAgICBwYW5lOiBwYW5lLFxuICAgICAgICAgICAgdGFwQ2FwdHVyZTogdGFwQ2FwdHVyZSxcbiAgICAgICAgICAgIHB1bGxlZDogZmFsc2UsXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgc2Nyb2xsRWxlbWVudDogaW5uZXIsXG4gICAgICAgICAgICBzY3JvbGxUb3A6IDAsXG4gICAgICAgICAgICBzY3JvbGxMZWZ0OiAwLFxuICAgICAgICAgICAgZml4ZWRDb250YWluZXI6IGVsZW1lbnQuY2hpbGRyZW5bMF1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhhdC5faW5pdEF4aXMoJ3gnKTtcbiAgICAgICAgdGhhdC5faW5pdEF4aXMoJ3knKTtcblxuICAgICAgICB0aGF0Ll93aGVlbEVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5fd2hlZWwgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoYXQudXNlckV2ZW50cy5lbmQoMCwgdGhhdC5fd2hlZWxZKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkaW1lbnNpb25zLnJlZnJlc2goKTtcblxuICAgICAgICBpZiAodGhhdC5vcHRpb25zLnB1bGxUb1JlZnJlc2gpIHtcbiAgICAgICAgICAgIHRoYXQuX2luaXRQdWxsVG9SZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIF93aGVlbFNjcm9sbChlKSB7XG4gICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3doZWVsKSB7XG4gICAgICAgICAgICB0aGlzLl93aGVlbCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl93aGVlbFkgPSAwO1xuICAgICAgICAgICAgdGhpcy51c2VyRXZlbnRzLnByZXNzKDAsIHRoaXMuX3doZWVsWSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fd2hlZWxUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5fd2hlZWxUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl93aGVlbEVuZCwgNTApO1xuICAgICAgICBsZXQgZGVsdGEgPSB3aGVlbERlbHRhWShlKTtcblxuICAgICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX3doZWVsWSArPSBkZWx0YTtcbiAgICAgICAgICAgIHRoaXMudXNlckV2ZW50cy5tb3ZlKDAsIHRoaXMuX3doZWVsWSk7XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgbWFrZVZpcnR1YWwoKSB7XG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy55Lm1ha2VWaXJ0dWFsKCk7XG4gICAgfVxuXG4gICAgdmlydHVhbFNpemUobWluLCBtYXgpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnkudmlydHVhbFNpemUobWluLCBtYXgpO1xuICAgIH1cblxuICAgIGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucy55LnNpemU7XG4gICAgfVxuXG4gICAgc2Nyb2xsSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGxFbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICB9XG5cbiAgICBzY3JvbGxXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsRWxlbWVudC5zY3JvbGxXaWR0aDtcbiAgICB9XG5cbiAgICBfcmVzaXplKCkge1xuICAgICAgICBpZiAoIXRoaXMuX25hdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50UmVzaXplZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9pbml0T3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5wdWxsVG9SZWZyZXNoKSB7XG4gICAgICAgICAgICB0aGF0Ll9pbml0UHVsbFRvUmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9uYXRpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmFibGUubW92ZVRvKHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fc2NhbGUoMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZW50UmVzaXplZCgpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnJlZnJlc2goKTtcbiAgICAgICAgaWYgKHRoaXMucGFuZS54Lm91dE9mQm91bmRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMubW92YWJsZS5tb3ZlQXhpcygneCcsIHRoaXMuZGltZW5zaW9ucy54Lm1pbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFuZS55Lm91dE9mQm91bmRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMubW92YWJsZS5tb3ZlQXhpcygneScsIHRoaXMuZGltZW5zaW9ucy55Lm1pbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB6b29tT3V0KCkge1xuICAgICAgICBsZXQgZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucztcbiAgICAgICAgZGltZW5zaW9ucy5yZWZyZXNoKCk7XG4gICAgICAgIHRoaXMuX3NjYWxlKGRpbWVuc2lvbnMuZml0U2NhbGUpO1xuICAgICAgICB0aGlzLm1vdmFibGUubW92ZVRvKGRpbWVuc2lvbnMuY2VudGVyQ29vcmRpbmF0ZXMoKSk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHNjcm9sbFRvKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMuX25hdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxFbGVtZW50LnNjcm9sbExlZnQoYWJzKHgpKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoYWJzKHkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB0aGlzLm1vdmFibGUubW92ZVRvKHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5pbWF0ZWRTY3JvbGxUbyh4LCB5LCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgZnJvbSwgdG87XG4gICAgICAgIGlmICh0aGlzLl9uYXRpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG8oeCwgeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMubW92YWJsZS54LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMubW92YWJsZS55XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdG8gPSB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiB5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlZFNjcm9sbGVyLnNldENvb3JkaW5hdGVzKGZyb20sIHRvKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWRTY3JvbGxlci5zZXRDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVkU2Nyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGtlcHQgZm9yIEFQSSBjb21wYXRpYmlsaXR5LCBub3QgdXNlZFxuICAgIHB1bGxIYW5kbGVkKCkge1xuICAgICAgICAvLyBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgLy8gcmVtb3ZlQ2xhc3ModGhhdC5yZWZyZXNoSGludCwgU0NST0xMRVJfUkVGUkVTSF9DTEFTUyk7XG4gICAgICAgIC8vIHRoYXQuaGludENvbnRhaW5lci5pbm5lckhUTUwgPSB0aGF0LnB1bGxUZW1wbGF0ZSh7fSkpO1xuXG4gICAgICAgIC8vIHRoYXQueWluZXJ0aWEub25FbmQoKTtcbiAgICAgICAgLy8gdGhhdC54aW5lcnRpYS5vbkVuZCgpO1xuICAgICAgICAvLyB0aGF0LnVzZXJFdmVudHMuY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblxuICAgICAgICBvZmYoZWxlbWVudCwgJ0RPTU1vdXNlU2Nyb2xsIG1vdXNld2hlZWwnLCB0aGlzLl93aGVlbFNjcm9sbEhhbmRsZXIpO1xuXG4gICAgICAgIGlmICh0aGlzLnVzZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMudXNlckV2ZW50cy5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2NhbGUoc2NhbGUpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnJlc2NhbGUoc2NhbGUpO1xuICAgICAgICB0aGlzLm1vdmFibGUuc2NhbGVUbyhzY2FsZSk7XG4gICAgfVxuXG4gICAgX2luaXRQdWxsVG9SZWZyZXNoKCkge1xuICAgIH1cblxuICAgIC8vIGtlcHQgZm9yIEFQSSBjb21wYXRpYmlsaXR5LCBub3QgdXNlZFxuICAgIF9kcmFnRW5kKCkge1xuICAgICAgICAvLyBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgLy8gaWYgKCF0aGF0LnB1bGxlZCkge1xuICAgICAgICAvLyAgICAgcmV0dXJuO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gdGhhdC5wdWxsZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyByZW1vdmVDbGFzcyh0aGF0LnJlZnJlc2hIaW50LCBTQ1JPTExFUl9SRUxFQVNFX0NMQVNTKTtcbiAgICAgICAgLy8gYWRkQ2xhc3ModGhhdC5yZWZyZXNoSGludCwgU0NST0xMRVJfUkVGUkVTSF9DTEFTUyk7XG5cbiAgICAgICAgLy8gdGhhdC5oaW50Q29udGFpbmVyLmlubmVySFRNTCA9IHRoYXQucmVmcmVzaFRlbXBsYXRlKHt9KTtcblxuICAgICAgICAvLyB0aGF0LnlpbmVydGlhLmZyZWV6ZSh0aGF0Lm9wdGlvbnMucHVsbE9mZnNldCAvIDIpO1xuICAgICAgICAvLyB0aGF0LnRyaWdnZXIoJ3B1bGwnKTtcbiAgICB9XG5cbiAgICAvLyBrZXB0IGZvciBBUEkgY29tcGF0aWJpbGl0eSwgbm90IHVzZWRcbiAgICBfcGFuZUNoYW5nZSgpIHtcbiAgICAgICAgLy8gbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgICAvLyBpZiAodGhhdC5tb3ZhYmxlLnkgLyBPVVRfT0ZfQk9VTkRTX0ZSSUNUSU9OID4gdGhhdC5vcHRpb25zLnB1bGxPZmZzZXQpIHtcbiAgICAgICAgLy8gICAgIGlmICghdGhhdC5wdWxsZWQpIHtcbiAgICAgICAgLy8gICAgICAgICB0aGF0LnB1bGxlZCA9IHRydWU7XG4gICAgICAgIC8vICAgICAgICAgdGhhdC5yZWZyZXNoSGludC5yZW1vdmVDbGFzcyhTQ1JPTExFUl9SRUZSRVNIX0NMQVNTKS5hZGRDbGFzcyhTQ1JPTExFUl9SRUxFQVNFX0NMQVNTKTtcbiAgICAgICAgLy8gICAgICAgICB0aGF0LmhpbnRDb250YWluZXIuaHRtbCh0aGF0LnJlbGVhc2VUZW1wbGF0ZSh7fSkpO1xuICAgICAgICAvLyAgICAgICAgIHRoYXQuaGludENvbnRhaW5lci5odG1sKHRoYXQucmVsZWFzZVRlbXBsYXRlKHt9KSk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0gZWxzZSBpZiAodGhhdC5wdWxsZWQpIHtcbiAgICAgICAgLy8gICAgIHRoYXQucHVsbGVkID0gZmFsc2U7XG4gICAgICAgIC8vICAgICB0aGF0LnJlZnJlc2hIaW50LnJlbW92ZUNsYXNzKFNDUk9MTEVSX1JFTEVBU0VfQ0xBU1MpO1xuICAgICAgICAvLyAgICAgdGhhdC5oaW50Q29udGFpbmVyLmh0bWwodGhhdC5wdWxsVGVtcGxhdGUoe30pKTtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIF9pbml0QXhpcyhheGlzKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIG1vdmFibGUgPSB0aGF0Lm1vdmFibGUsXG4gICAgICAgICAgICBkaW1lbnNpb24gPSB0aGF0LmRpbWVuc2lvbnNbYXhpc10sXG4gICAgICAgICAgICB0YXBDYXB0dXJlID0gdGhhdC50YXBDYXB0dXJlLFxuICAgICAgICAgICAgcGFuZUF4aXMgPSB0aGF0LnBhbmVbYXhpc10sXG4gICAgICAgICAgICBzY3JvbGxCYXIgPSBuZXcgU2Nyb2xsQmFyKHtcbiAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxuICAgICAgICAgICAgICAgIG1vdmFibGU6IG1vdmFibGUsXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uOiBkaW1lbnNpb24sXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGF0LmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgYWx3YXlzVmlzaWJsZTogdGhhdC5vcHRpb25zLnZpc2libGVTY3JvbGxIaW50c1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgZGltZW5zaW9uLmJpbmQoQ0hBTkdFLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjcm9sbEJhci5yZWZyZXNoKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBhbmVBeGlzLmJpbmQoQ0hBTkdFLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjcm9sbEJhci5zaG93KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoYXRbYXhpcyArICdpbmVydGlhJ10gPSBuZXcgRHJhZ0luZXJ0aWEoe1xuICAgICAgICAgICAgYXhpczogYXhpcyxcbiAgICAgICAgICAgIHBhbmVBeGlzOiBwYW5lQXhpcyxcbiAgICAgICAgICAgIG1vdmFibGU6IG1vdmFibGUsXG4gICAgICAgICAgICB0YXBDYXB0dXJlOiB0YXBDYXB0dXJlLFxuICAgICAgICAgICAgdXNlckV2ZW50czogdGhhdC51c2VyRXZlbnRzLFxuICAgICAgICAgICAgZGltZW5zaW9uOiBkaW1lbnNpb24sXG4gICAgICAgICAgICBlbGFzdGljOiB0aGF0Lm9wdGlvbnMuZWxhc3RpYyxcbiAgICAgICAgICAgIGZyaWN0aW9uOiB0aGF0Lm9wdGlvbnMuZnJpY3Rpb24gfHwgRlJJQ1RJT04sXG4gICAgICAgICAgICB2ZWxvY2l0eU11bHRpcGxpZXI6IHRoYXQub3B0aW9ucy52ZWxvY2l0eU11bHRpcGxpZXIgfHwgVkVMT0NJVFlfTVVMVElQTElFUixcbiAgICAgICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxCYXIuaGlkZSgpO1xuICAgICAgICAgICAgICAgIHRoYXQudHJpZ2dlcignc2Nyb2xsRW5kJywge1xuICAgICAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHRoYXQuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0OiB0aGF0LnNjcm9sbExlZnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTY3JvbGxlciwge1xuICAgIG5hbWU6ICdTY3JvbGxlcicsXG4gICAgem9vbTogZmFsc2UsXG4gICAgcHVsbE9mZnNldDogMTQwLFxuICAgIHZpc2libGVTY3JvbGxIaW50czogZmFsc2UsXG4gICAgZWxhc3RpYzogdHJ1ZSxcbiAgICB1c2VOYXRpdmU6IGZhbHNlLFxuICAgIG1vdXNld2hlZWxTY3JvbGxpbmc6IHRydWUsXG4gICAgYXZvaWRTY3JvbGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIHB1bGxUb1JlZnJlc2g6IGZhbHNlLFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIHB1bGxUZW1wbGF0ZTogJ1B1bGwgdG8gcmVmcmVzaCcsXG4gICAgICAgIHJlbGVhc2VUZW1wbGF0ZTogJ1JlbGVhc2UgdG8gcmVmcmVzaCcsXG4gICAgICAgIHJlZnJlc2hUZW1wbGF0ZTogJ1JlZnJlc2hpbmcnXG4gICAgfVxufSk7XG5cbnNldERlZmF1bHRFdmVudHMoU2Nyb2xsZXIsIFtcbiAgICBQVUxMLFxuICAgIFNDUk9MTCxcbiAgICBSRVNJWkVcbl0pO1xuXG4iLCJjbGFzcyBNYXBTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWRnZXQsIGNvbnRleHQgPSB7fSkge1xuICAgICAgICB0aGlzLnNlbmRlciA9IGNvbnRleHQuc2VuZGVyIHx8IHdpZGdldDtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMucnRsID0gQm9vbGVhbihjb250ZXh0LnJ0bCk7XG4gICAgfVxuXG4gICAgbm90aWZ5KG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC50cmlnZ2VyKG5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYXBTZXJ2aWNlO1xuIiwiaW1wb3J0IHtcbiAgICBnZW9tZXRyeSBhcyBnXG59IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHtcbiAgICBhZGRDbGFzcyxcbiAgICBzZXREZWZhdWx0T3B0aW9ucyxcbiAgICB2YWx1ZU9yRGVmYXVsdCxcbiAgICBkZWZpbmVkLFxuICAgIG1vdXNld2hlZWxEZWx0YSxcbiAgICBsaW1pdFZhbHVlLFxuICAgIGRlZXBFeHRlbmQsXG4gICAgZWxlbWVudE9mZnNldCxcbiAgICBpc0FycmF5XG59IGZyb20gJy4uL2NvbW1vbic7XG5cbmltcG9ydCB7XG4gICAgRVBTRzM4NTdcbn0gZnJvbSAnLi9jcnMnO1xuXG5pbXBvcnQge1xuICAgIEF0dHJpYnV0aW9uXG59IGZyb20gJy4vYXR0cmlidXRpb24nO1xuXG5pbXBvcnQge1xuICAgIE5hdmlnYXRvclxufSBmcm9tICcuL25hdmlnYXRvcic7XG5cbmltcG9ydCB7XG4gICAgWm9vbUNvbnRyb2xcbn0gZnJvbSAnLi96b29tJztcblxuaW1wb3J0IHtcbiAgICBMb2NhdGlvblxufSBmcm9tICcuL2xvY2F0aW9uJztcblxuaW1wb3J0IHtcbiAgICBFeHRlbnRcbn0gZnJvbSAnLi9leHRlbnQnO1xuXG5pbXBvcnQge1xuICAgIFRpbGVMYXllclxufSBmcm9tICcuL2xheWVycy90aWxlJztcblxuaW1wb3J0IHtcbiAgICBCdWJibGVMYXllclxufSBmcm9tICcuL2xheWVycy9idWJibGUnO1xuXG5pbXBvcnQge1xuICAgIFNoYXBlTGF5ZXJcbn0gZnJvbSAnLi9sYXllcnMvc2hhcGUnO1xuXG5pbXBvcnQge1xuICAgIE1hcmtlckxheWVyXG59IGZyb20gJy4vbGF5ZXJzL21hcmtlcic7XG5cbmltcG9ydCB7XG4gICAgcmVtb3ZlQ2hpbGRyZW4sXG4gICAgc2V0RGVmYXVsdEV2ZW50cyxcbiAgICB0b0h5cGhlbnMsXG4gICAgcHJveHksXG4gICAgbm93LFxuICAgIG9uLFxuICAgIG9mZixcbiAgICBnZXRTdXBwb3J0ZWRGZWF0dXJlcyxcbiAgICBjb252ZXJ0VG9IdG1sXG59IGZyb20gJy4vdXRpbHMnO1xuXG5pbXBvcnQge1xuICAgIFNjcm9sbGVyXG59IGZyb20gJy4vc2Nyb2xsZXIvc2Nyb2xsZXInO1xuXG5pbXBvcnQge1xuICAgIE9ic2VydmFibGVcbn0gZnJvbSAnLi9zY3JvbGxlci9vYnNlcnZhYmxlJztcblxuaW1wb3J0IE1hcFNlcnZpY2UgZnJvbSAnLi8uLi9zZXJ2aWNlcy9tYXAtc2VydmljZSc7XG5cbmxldCBtYXRoID0gTWF0aCxcbiAgICBtaW4gPSBtYXRoLm1pbixcbiAgICBwb3cgPSBtYXRoLnBvdyxcbiAgICBQb2ludCA9IGcuUG9pbnQsXG4gICAgTUFSS0VSID0gXCJtYXJrZXJcIixcbiAgICBMT0NBVElPTiA9IFwibG9jYXRpb25cIixcbiAgICBGUklDVElPTiA9IDAuOSxcbiAgICBGUklDVElPTl9NT0JJTEUgPSAwLjkzLFxuICAgIE1PVVNFV0hFRUwgPSAnRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCcsXG4gICAgVkVMT0NJVFlfTVVMVElQTElFUiA9IDUsXG4gICAgREVGQVVMVF9aT09NX1JBVEUgPSAxO1xuXG5jb25zdCBsYXllcnNNYXAgPSB7XG4gICAgYnViYmxlOiBCdWJibGVMYXllcixcbiAgICBzaGFwZTogU2hhcGVMYXllcixcbiAgICB0aWxlOiBUaWxlTGF5ZXIsXG4gICAgW01BUktFUl06IE1hcmtlckxheWVyXG59O1xuXG5mdW5jdGlvbiByZW5kZXJQb3MocG9zKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuXG4gICAgaWYgKHBvcykge1xuICAgICAgICBsZXQgcGFydHMgPSB0b0h5cGhlbnMocG9zKS5zcGxpdChcIi1cIik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goXCJrLXBvcy1cIiArIHBhcnRzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQuam9pbihcIiBcIik7XG59XG5cbmNsYXNzIE1hcCBleHRlbmRzIE9ic2VydmFibGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSwgdGhlbWVPcHRpb25zID0ge30sIGNvbnRleHQgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuXG5cbiAgICAgICAgdGhpcy5faW5pdChlbGVtZW50LCBvcHRpb25zLCB0aGVtZU9wdGlvbnMsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm5hdmlnYXRvcikge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0b3IuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy56b29tQ29udHJvbCkge1xuICAgICAgICAgICAgdGhpcy56b29tQ29udHJvbC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNBcnJheSh0aGlzLm1hcmtlcnMpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaChtYXJrZXJMYXllciA9PiB7XG4gICAgICAgICAgICAgICAgbWFya2VyTGF5ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtlcnMuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5sYXllcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgb2ZmKHRoaXMuZWxlbWVudCwgTU9VU0VXSEVFTCwgdGhpcy5fbW91c2V3aGVlbEhhbmRsZXIpO1xuXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBfaW5pdChlbGVtZW50LCBvcHRpb25zID0ge30sIHRoZW1lT3B0aW9ucyA9IHt9LCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgdGhpcy5zdXBwb3J0ID0gZ2V0U3VwcG9ydGVkRmVhdHVyZXMoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgICAgICB0aGlzLmluaXRPYnNlcnZlcihjb250ZXh0KTtcbiAgICAgICAgdGhpcy5pbml0U2VydmljZXMoY29udGV4dCk7XG5cbiAgICAgICAgdGhpcy5faW5pdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50cyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jcnMgPSBuZXcgRVBTRzM4NTcoKTtcblxuICAgICAgICB0aGlzLl9pbml0RWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICB0aGlzLl92aWV3T3JpZ2luID0gdGhpcy5fZ2V0T3JpZ2luKCk7XG5cbiAgICAgICAgdGhpcy5faW5pdFNjcm9sbGVyKCk7XG4gICAgICAgIHRoaXMuX2luaXRNYXJrZXJzKCk7XG4gICAgICAgIHRoaXMuX2luaXRDb250cm9scygpO1xuICAgICAgICB0aGlzLl9pbml0TGF5ZXJzKCk7XG4gICAgICAgIHRoaXMuX3Jlc2V0KCk7XG5cbiAgICAgICAgdGhpcy5fbW91c2V3aGVlbEhhbmRsZXIgPSB0aGlzLl9tb3VzZXdoZWVsLmJpbmQodGhpcyk7XG4gICAgICAgIG9uKHRoaXMuZWxlbWVudCwgTU9VU0VXSEVFTCwgdGhpcy5fbW91c2V3aGVlbEhhbmRsZXIpO1xuICAgIH1cblxuICAgIF9pbml0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgX2luaXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBcImstbWFwXCIpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtcm9sZVwiLCBcIm1hcFwiKTtcbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgZGl2ID0gY29udmVydFRvSHRtbChcIjxkaXYgLz5cIik7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChkaXYpO1xuICAgIH1cblxuICAgIGluaXRTZXJ2aWNlcyhjb250ZXh0ID0ge30pIHtcbiAgICAgICAgdGhpcy53aWRnZXRTZXJ2aWNlID0gbmV3IE1hcFNlcnZpY2UodGhpcywgY29udGV4dCk7XG4gICAgfVxuXG4gICAgaW5pdE9ic2VydmVyKGNvbnRleHQgPSB7fSkge1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICAgICAgICB0aGlzLmFkZE9ic2VydmVyKGNvbnRleHQub2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgIGFkZE9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVPYnNlcnZlcihvYnNlcnZlcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMub2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVxdWlyZXNIYW5kbGVycyhldmVudE5hbWVzKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG9ic2VydmVycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJzW2lkeF0ucmVxdWlyZXNIYW5kbGVycyhldmVudE5hbWVzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJpZ2dlcihuYW1lLCBhcmdzID0ge30pIHtcbiAgICAgICAgYXJncy5zZW5kZXIgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICBsZXQgaXNEZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlcnNbaWR4XS50cmlnZ2VyKG5hbWUsIGFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgaXNEZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNEZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICBzdXBlci50cmlnZ2VyKG5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlzRGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfbm90aWZ5T2JzZXJ2ZXIobmFtZSwgYXJncyA9IHt9KSB7XG4gICAgICAgIGFyZ3Muc2VuZGVyID0gdGhpcztcblxuICAgICAgICBjb25zdCBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgbGV0IGlzRGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG9ic2VydmVycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJzW2lkeF0udHJpZ2dlcihuYW1lLCBhcmdzKSkge1xuICAgICAgICAgICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNEZWZhdWx0UHJldmVudGVkO1xuICAgIH1cblxuICAgIHpvb20obGV2ZWwpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGRlZmluZWQobGV2ZWwpKSB7XG4gICAgICAgICAgICBjb25zdCB6b29tTGV2ZWwgPSBtYXRoLnJvdW5kKGxpbWl0VmFsdWUobGV2ZWwsIG9wdGlvbnMubWluWm9vbSwgb3B0aW9ucy5tYXhab29tKSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnpvb20gIT09IHpvb21MZXZlbCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuem9vbSA9IHpvb21MZXZlbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG9wdGlvbnMuem9vbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgY2VudGVyKGNlbnRlcikge1xuICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jZW50ZXIgPSBMb2NhdGlvbi5jcmVhdGUoY2VudGVyKS50b0FycmF5KCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IExvY2F0aW9uLmNyZWF0ZSh0aGlzLm9wdGlvbnMuY2VudGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZXh0ZW50KGV4dGVudCkge1xuICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgIGlmIChleHRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEV4dGVudChleHRlbnQpO1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2dldEV4dGVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICByZW1vdmVDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgdGhpcy5faW5pdChlbGVtZW50LCBvcHRpb25zLCB7fSwgdGhpcy5jb250ZXh0KTtcblxuICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgIH1cblxuICAgIGxvY2F0aW9uVG9MYXllcihsb2NhdGlvbiwgem9vbSkge1xuICAgICAgICBsZXQgY2xhbXAgPSAhdGhpcy5vcHRpb25zLndyYXBhcm91bmQ7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uT2JqZWN0ID0gTG9jYXRpb24uY3JlYXRlKGxvY2F0aW9uKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jcnMudG9Qb2ludChsb2NhdGlvbk9iamVjdCwgdGhpcy5fbGF5ZXJTaXplKHpvb20pLCBjbGFtcCk7XG4gICAgfVxuXG4gICAgbGF5ZXJUb0xvY2F0aW9uKHBvaW50LCB6b29tKSB7XG4gICAgICAgIGxldCBjbGFtcCA9ICF0aGlzLm9wdGlvbnMud3JhcGFyb3VuZDtcbiAgICAgICAgY29uc3QgcG9pbnRPYmplY3QgPSBQb2ludC5jcmVhdGUocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNycy50b0xvY2F0aW9uKHBvaW50T2JqZWN0LCB0aGlzLl9sYXllclNpemUoem9vbSksIGNsYW1wKTtcbiAgICB9XG5cbiAgICBsb2NhdGlvblRvVmlldyhsb2NhdGlvbikge1xuICAgICAgICBjb25zdCBsb2NhdGlvbk9iamVjdCA9IExvY2F0aW9uLmNyZWF0ZShsb2NhdGlvbik7XG4gICAgICAgIGxldCBvcmlnaW4gPSB0aGlzLmxvY2F0aW9uVG9MYXllcih0aGlzLl92aWV3T3JpZ2luKTtcbiAgICAgICAgbGV0IHBvaW50ID0gdGhpcy5sb2NhdGlvblRvTGF5ZXIobG9jYXRpb25PYmplY3QpO1xuXG4gICAgICAgIHJldHVybiBwb2ludC50cmFuc2xhdGVXaXRoKG9yaWdpbi5zY2FsZSgtMSkpO1xuICAgIH1cblxuICAgIHZpZXdUb0xvY2F0aW9uKHBvaW50LCB6b29tKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMubG9jYXRpb25Ub0xheWVyKHRoaXMuX2dldE9yaWdpbigpLCB6b29tKTtcbiAgICAgICAgY29uc3QgcG9pbnRPYmplY3QgPSBQb2ludC5jcmVhdGUocG9pbnQpO1xuICAgICAgICBjb25zdCBwb2ludFJlc3VsdCA9IHBvaW50T2JqZWN0LmNsb25lKCkudHJhbnNsYXRlV2l0aChvcmlnaW4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyVG9Mb2NhdGlvbihwb2ludFJlc3VsdCwgem9vbSk7XG4gICAgfVxuXG4gICAgZXZlbnRPZmZzZXQoZSkge1xuICAgICAgICBsZXQgeDtcbiAgICAgICAgbGV0IHk7XG4gICAgICAgIGxldCBvZmZzZXQgPSBlbGVtZW50T2Zmc2V0KHRoaXMuZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKChlLnggJiYgZS54W0xPQ0FUSU9OXSkgfHwgKGUueSAmJiBlLnlbTE9DQVRJT05dKSkge1xuICAgICAgICAgICAgeCA9IGUueFtMT0NBVElPTl0gLSBvZmZzZXQubGVmdDtcbiAgICAgICAgICAgIHkgPSBlLnlbTE9DQVRJT05dIC0gb2Zmc2V0LnRvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IGUub3JpZ2luYWxFdmVudCB8fCBlO1xuICAgICAgICAgICAgeCA9IHZhbHVlT3JEZWZhdWx0KGV2ZW50LnBhZ2VYLCBldmVudC5jbGllbnRYKSAtIG9mZnNldC5sZWZ0O1xuICAgICAgICAgICAgeSA9IHZhbHVlT3JEZWZhdWx0KGV2ZW50LnBhZ2VZLCBldmVudC5jbGllbnRZKSAtIG9mZnNldC50b3A7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBnLlBvaW50KHgsIHkpO1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBldmVudFRvVmlldyhlKSB7XG4gICAgICAgIGxldCBjdXJzb3IgPSB0aGlzLmV2ZW50T2Zmc2V0KGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvblRvVmlldyh0aGlzLnZpZXdUb0xvY2F0aW9uKGN1cnNvcikpO1xuICAgIH1cblxuICAgIGV2ZW50VG9MYXllcihlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uVG9MYXllcih0aGlzLmV2ZW50VG9Mb2NhdGlvbihlKSk7XG4gICAgfVxuXG4gICAgZXZlbnRUb0xvY2F0aW9uKGUpIHtcbiAgICAgICAgbGV0IGN1cnNvciA9IHRoaXMuZXZlbnRPZmZzZXQoZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdUb0xvY2F0aW9uKGN1cnNvcik7XG4gICAgfVxuXG4gICAgdmlld1NpemUoKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBsZXQgc2NhbGUgPSB0aGlzLl9sYXllclNpemUoKTtcbiAgICAgICAgbGV0IHdpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aDtcblxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy53cmFwYXJvdW5kKSB7XG4gICAgICAgICAgICB3aWR0aCA9IG1pbihzY2FsZSwgd2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogbWluKHNjYWxlLCBlbGVtZW50LmNsaWVudEhlaWdodClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBleHBvcnRWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfc2V0T3JpZ2luKG9yaWdpbiwgem9vbSkge1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMudmlld1NpemUoKSxcbiAgICAgICAgICAgIHRvcExlZnQ7XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luTG9jYXRpb24gPSB0aGlzLl9vcmlnaW4gPSBMb2NhdGlvbi5jcmVhdGUob3JpZ2luKTtcbiAgICAgICAgdG9wTGVmdCA9IHRoaXMubG9jYXRpb25Ub0xheWVyKG9yaWdpbkxvY2F0aW9uLCB6b29tKTtcbiAgICAgICAgdG9wTGVmdC54ICs9IHNpemUud2lkdGggLyAyO1xuICAgICAgICB0b3BMZWZ0LnkgKz0gc2l6ZS5oZWlnaHQgLyAyO1xuICAgICAgICB0aGlzLm9wdGlvbnMuY2VudGVyID0gdGhpcy5sYXllclRvTG9jYXRpb24odG9wTGVmdCwgem9vbSkudG9BcnJheSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9nZXRPcmlnaW4oaW52YWxpZGF0ZSkge1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMudmlld1NpemUoKSxcbiAgICAgICAgICAgIHRvcExlZnQ7XG5cbiAgICAgICAgaWYgKGludmFsaWRhdGUgfHwgIXRoaXMuX29yaWdpbikge1xuICAgICAgICAgICAgdG9wTGVmdCA9IHRoaXMubG9jYXRpb25Ub0xheWVyKHRoaXMuY2VudGVyKCkpO1xuICAgICAgICAgICAgdG9wTGVmdC54IC09IHNpemUud2lkdGggLyAyO1xuICAgICAgICAgICAgdG9wTGVmdC55IC09IHNpemUuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbiA9IHRoaXMubGF5ZXJUb0xvY2F0aW9uKHRvcExlZnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX29yaWdpbjtcbiAgICB9XG5cbiAgICBfc2V0RXh0ZW50KG5ld0V4dGVudCkge1xuICAgICAgICBsZXQgcmF3ID0gRXh0ZW50LmNyZWF0ZShuZXdFeHRlbnQpO1xuICAgICAgICBsZXQgc2UgPSByYXcuc2UuY2xvbmUoKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndyYXBhcm91bmQgJiYgc2UubG5nIDwgMCAmJiBuZXdFeHRlbnQubncubG5nID4gMCkge1xuICAgICAgICAgICAgc2UubG5nID0gMTgwICsgKDE4MCArIHNlLmxuZyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleHRlbnQgPSBuZXcgRXh0ZW50KHJhdy5udywgc2UpO1xuICAgICAgICB0aGlzLmNlbnRlcihleHRlbnQuY2VudGVyKCkpO1xuICAgICAgICBsZXQgd2lkdGggPSB0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSB0aGlzLmVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICBsZXQgem9vbTtcblxuICAgICAgICBmb3IgKHpvb20gPSB0aGlzLm9wdGlvbnMubWF4Wm9vbTsgem9vbSA+PSB0aGlzLm9wdGlvbnMubWluWm9vbTsgem9vbS0tKSB7XG4gICAgICAgICAgICBsZXQgdG9wTGVmdCA9IHRoaXMubG9jYXRpb25Ub0xheWVyKGV4dGVudC5udywgem9vbSk7XG4gICAgICAgICAgICBsZXQgYm90dG9tUmlnaHQgPSB0aGlzLmxvY2F0aW9uVG9MYXllcihleHRlbnQuc2UsIHpvb20pO1xuICAgICAgICAgICAgbGV0IGxheWVyV2lkdGggPSBtYXRoLmFicyhib3R0b21SaWdodC54IC0gdG9wTGVmdC54KTtcbiAgICAgICAgICAgIGxldCBsYXllckhlaWdodCA9IG1hdGguYWJzKGJvdHRvbVJpZ2h0LnkgLSB0b3BMZWZ0LnkpO1xuXG4gICAgICAgICAgICBpZiAobGF5ZXJXaWR0aCA8PSB3aWR0aCAmJiBsYXllckhlaWdodCA8PSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuem9vbSh6b29tKTtcbiAgICB9XG5cbiAgICBfZ2V0RXh0ZW50KCkge1xuICAgICAgICBsZXQgbncgPSB0aGlzLl9nZXRPcmlnaW4oKTtcbiAgICAgICAgbGV0IGJvdHRvbVJpZ2h0ID0gdGhpcy5sb2NhdGlvblRvTGF5ZXIobncpO1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMudmlld1NpemUoKTtcblxuICAgICAgICBib3R0b21SaWdodC54ICs9IHNpemUud2lkdGg7XG4gICAgICAgIGJvdHRvbVJpZ2h0LnkgKz0gc2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IHNlID0gdGhpcy5sYXllclRvTG9jYXRpb24oYm90dG9tUmlnaHQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgRXh0ZW50KG53LCBzZSk7XG4gICAgfVxuXG4gICAgX3pvb21Bcm91bmQocGl2b3QsIGxldmVsKSB7XG4gICAgICAgIHRoaXMuX3NldE9yaWdpbih0aGlzLmxheWVyVG9Mb2NhdGlvbihwaXZvdCwgbGV2ZWwpLCBsZXZlbCk7XG4gICAgICAgIHRoaXMuem9vbShsZXZlbCk7XG4gICAgfVxuXG4gICAgX2luaXRDb250cm9scygpIHtcbiAgICAgICAgbGV0IGNvbnRyb2xzID0gdGhpcy5vcHRpb25zLmNvbnRyb2xzO1xuICAgICAgICBpZiAoY29udHJvbHMuYXR0cmlidXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUF0dHJpYnV0aW9uKGNvbnRyb2xzLmF0dHJpYnV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0Lm1vYmlsZU9TKSB7XG4gICAgICAgICAgICBpZiAoY29udHJvbHMubmF2aWdhdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlTmF2aWdhdG9yKGNvbnRyb2xzLm5hdmlnYXRvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb250cm9scy56b29tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlWm9vbUNvbnRyb2woY29udHJvbHMuem9vbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlQ29udHJvbEVsZW1lbnQob3B0aW9ucywgZGVmYXVsdFBvc2l0aW9uKSB7XG4gICAgICAgIGxldCBwb3MgPSBvcHRpb25zLnBvc2l0aW9uIHx8IGRlZmF1bHRQb3NpdGlvbjtcbiAgICAgICAgbGV0IHBvc1NlbGVjdG9yID0gJy4nICsgcmVuZGVyUG9zKHBvcykucmVwbGFjZSgnICcsICcuJyk7XG4gICAgICAgIGxldCB3cmFwID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5rLW1hcC1jb250cm9scycgKyBwb3NTZWxlY3RvcikgfHwgW107XG5cbiAgICAgICAgaWYgKHdyYXAubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGFkZENsYXNzKGRpdiwgJ2stbWFwLWNvbnRyb2xzICcgKyByZW5kZXJQb3MocG9zKSk7XG4gICAgICAgICAgICB3cmFwID0gZGl2O1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHdyYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgd3JhcC5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUF0dHJpYnV0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLl9jcmVhdGVDb250cm9sRWxlbWVudChvcHRpb25zLCAnYm90dG9tUmlnaHQnKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGlvbiA9IG5ldyBBdHRyaWJ1dGlvbihlbGVtZW50LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlTmF2aWdhdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLl9jcmVhdGVDb250cm9sRWxlbWVudChvcHRpb25zLCAndG9wTGVmdCcpO1xuICAgICAgICBsZXQgbmF2aWdhdG9yID0gdGhpcy5uYXZpZ2F0b3IgPSBuZXcgTmF2aWdhdG9yKGVsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX25hdmlnYXRvclBhbiA9IHRoaXMuX25hdmlnYXRvclBhbi5iaW5kKHRoaXMpO1xuICAgICAgICBuYXZpZ2F0b3IuYmluZCgncGFuJywgdGhpcy5fbmF2aWdhdG9yUGFuKTtcblxuICAgICAgICB0aGlzLl9uYXZpZ2F0b3JDZW50ZXIgPSB0aGlzLl9uYXZpZ2F0b3JDZW50ZXIuYmluZCh0aGlzKTtcbiAgICAgICAgbmF2aWdhdG9yLmJpbmQoJ2NlbnRlcicsIHRoaXMuX25hdmlnYXRvckNlbnRlcik7XG4gICAgfVxuXG4gICAgX25hdmlnYXRvclBhbihlKSB7XG4gICAgICAgIGxldCBzY3JvbGxlciA9IHRoaXMuc2Nyb2xsZXI7XG4gICAgICAgIGxldCB4ID0gc2Nyb2xsZXIuc2Nyb2xsTGVmdCArIGUueDtcbiAgICAgICAgbGV0IHkgPSBzY3JvbGxlci5zY3JvbGxUb3AgLSBlLnk7XG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLl92aXJ0dWFsU2l6ZTtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5lbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5lbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgICAvLyBUT0RPOiBNb3ZlIGxpbWl0cyB0byBzY3JvbGxlclxuICAgICAgICB4ID0gbGltaXRWYWx1ZSh4LCBib3VuZHMueC5taW4sIGJvdW5kcy54Lm1heCAtIHdpZHRoKTtcbiAgICAgICAgeSA9IGxpbWl0VmFsdWUoeSwgYm91bmRzLnkubWluLCBib3VuZHMueS5tYXggLSBoZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIub25lKCdzY3JvbGwnLCBwcm94eSh0aGlzLl9zY3JvbGxFbmQsIHRoaXMpKTtcblxuICAgICAgICB0aGlzLnNjcm9sbGVyLnNjcm9sbFRvKC14LCAteSk7XG4gICAgfVxuXG4gICAgX25hdmlnYXRvckNlbnRlcigpIHtcbiAgICAgICAgdGhpcy5jZW50ZXIodGhpcy5vcHRpb25zLmNlbnRlcik7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVpvb21Db250cm9sKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLl9jcmVhdGVDb250cm9sRWxlbWVudChvcHRpb25zLCAndG9wTGVmdCcpO1xuICAgICAgICBsZXQgem9vbUNvbnRyb2wgPSB0aGlzLnpvb21Db250cm9sID0gbmV3IFpvb21Db250cm9sKGVsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX3pvb21Db250cm9sQ2hhbmdlID0gdGhpcy5fem9vbUNvbnRyb2xDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgem9vbUNvbnRyb2wuYmluZCgnY2hhbmdlJywgdGhpcy5fem9vbUNvbnRyb2xDaGFuZ2UpO1xuICAgIH1cblxuICAgIF96b29tQ29udHJvbENoYW5nZShlKSB7XG4gICAgICAgIGlmICghdGhpcy50cmlnZ2VyKCd6b29tU3RhcnQnLCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSkpIHtcbiAgICAgICAgICAgIHRoaXMuem9vbSh0aGlzLnpvb20oKSArIGUuZGVsdGEpO1xuXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3pvb21FbmQnLCB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdFNjcm9sbGVyKCkge1xuICAgICAgICBsZXQgZnJpY3Rpb24gPSB0aGlzLnN1cHBvcnQubW9iaWxlT1MgPyBGUklDVElPTl9NT0JJTEUgOiBGUklDVElPTjtcbiAgICAgICAgbGV0IHpvb21hYmxlID0gdGhpcy5vcHRpb25zLnpvb21hYmxlICE9PSBmYWxzZTtcbiAgICAgICAgbGV0IHNjcm9sbGVyID0gdGhpcy5zY3JvbGxlciA9IG5ldyBTY3JvbGxlcih0aGlzLmVsZW1lbnQuY2hpbGRyZW5bMF0sIHtcbiAgICAgICAgICAgIGZyaWN0aW9uOiBmcmljdGlvbixcbiAgICAgICAgICAgIHZlbG9jaXR5TXVsdGlwbGllcjogVkVMT0NJVFlfTVVMVElQTElFUixcbiAgICAgICAgICAgIHpvb206IHpvb21hYmxlLFxuICAgICAgICAgICAgbW91c2V3aGVlbFNjcm9sbGluZzogZmFsc2UsXG4gICAgICAgICAgICBzdXBwb3J0RG91YmxlVGFwOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjcm9sbGVyLmJpbmQoJ3Njcm9sbCcsIHByb3h5KHRoaXMuX3Njcm9sbCwgdGhpcykpO1xuICAgICAgICBzY3JvbGxlci5iaW5kKCdzY3JvbGxFbmQnLCBwcm94eSh0aGlzLl9zY3JvbGxFbmQsIHRoaXMpKTtcblxuICAgICAgICBzY3JvbGxlci51c2VyRXZlbnRzLmJpbmQoJ2dlc3R1cmVzdGFydCcsIHByb3h5KHRoaXMuX3NjYWxlU3RhcnQsIHRoaXMpKTtcbiAgICAgICAgc2Nyb2xsZXIudXNlckV2ZW50cy5iaW5kKCdnZXN0dXJlZW5kJywgcHJveHkodGhpcy5fc2NhbGUsIHRoaXMpKTtcbiAgICAgICAgc2Nyb2xsZXIudXNlckV2ZW50cy5iaW5kKCdkb3VibGVUYXAnLCBwcm94eSh0aGlzLl9kb3VibGVUYXAsIHRoaXMpKTtcbiAgICAgICAgc2Nyb2xsZXIudXNlckV2ZW50cy5iaW5kKCd0YXAnLCBwcm94eSh0aGlzLl90YXAsIHRoaXMpKTtcblxuICAgICAgICB0aGlzLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxlci5zY3JvbGxFbGVtZW50O1xuICAgIH1cblxuICAgIF9pbml0TGF5ZXJzKCkge1xuICAgICAgICBsZXQgZGVmcyA9IHRoaXMub3B0aW9ucy5sYXllcnMsXG4gICAgICAgICAgICBsYXllcnMgPSB0aGlzLmxheWVycyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBkZWZzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2NyZWF0ZUxheWVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgbGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZUxheWVyKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHR5cGUgPSBvcHRpb25zLnR5cGUgfHwgJ3NoYXBlJztcbiAgICAgICAgbGV0IGxheWVyRGVmYXVsdHMgPSB0aGlzLm9wdGlvbnMubGF5ZXJEZWZhdWx0c1t0eXBlXTtcbiAgICAgICAgbGV0IGxheWVyT3B0aW9ucyA9IHR5cGUgPT09IE1BUktFUiA/XG4gICAgICAgICAgICBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMubWFya2VyRGVmYXVsdHMsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgIGRlZXBFeHRlbmQoe30sIGxheWVyRGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGxldCBsYXllckNvbnN0cnVjdG9yID0gbGF5ZXJzTWFwW3R5cGVdO1xuICAgICAgICBsZXQgbGF5ZXIgPSBuZXcgbGF5ZXJDb25zdHJ1Y3Rvcih0aGlzLCBsYXllck9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0eXBlID09PSBNQVJLRVIpIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VycyA9IGxheWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxheWVyO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIGFycm93LWJvZHktc3R5bGUgKi9cbiAgICBfaW5pdE1hcmtlcnMoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlckxheWVycyA9ICh0aGlzLm9wdGlvbnMubGF5ZXJzIHx8IFtdKS5maWx0ZXIoeCA9PiB7XG4gICAgICAgICAgICByZXR1cm4geCAmJiB4LnR5cGUgPT09IE1BUktFUjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG1hcmtlckxheWVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyByZW5kZXIgdGhlIG1hcmtlcnMgZnJvbSBvcHRpb25zLmxheWVyc1xuICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBvcHRpb25zLm1hcmtlcnNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFya2VycyA9IG5ldyBNYXJrZXJMYXllcih0aGlzLCB0aGlzLm9wdGlvbnMubWFya2VyRGVmYXVsdHMpO1xuICAgICAgICB0aGlzLm1hcmtlcnMuYWRkKHRoaXMub3B0aW9ucy5tYXJrZXJzKTtcbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBhcnJvdy1ib2R5LXN0eWxlICovXG5cbiAgICBfc2Nyb2xsKGUpIHtcbiAgICAgICAgbGV0IG9yaWdpbiA9IHRoaXMubG9jYXRpb25Ub0xheWVyKHRoaXMuX3ZpZXdPcmlnaW4pLnJvdW5kKCk7XG4gICAgICAgIGxldCBtb3ZhYmxlID0gZS5zZW5kZXIubW92YWJsZTtcbiAgICAgICAgbGV0IG9mZnNldCA9IG5ldyBnLlBvaW50KG1vdmFibGUueCwgbW92YWJsZS55KS5zY2FsZSgtMSkuc2NhbGUoMSAvIG1vdmFibGUuc2NhbGUpO1xuXG4gICAgICAgIG9yaWdpbi54ICs9IG9mZnNldC54O1xuICAgICAgICBvcmlnaW4ueSArPSBvZmZzZXQueTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsT2Zmc2V0ID0gb2Zmc2V0O1xuXG4gICAgICAgIHRoaXMuX3NldE9yaWdpbih0aGlzLmxheWVyVG9Mb2NhdGlvbihvcmlnaW4pKTtcblxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3BhbicsIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICBvcmlnaW46IHRoaXMuX2dldE9yaWdpbigpLFxuICAgICAgICAgICAgY2VudGVyOiB0aGlzLmNlbnRlcigpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zY3JvbGxFbmQoZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3Njcm9sbE9mZnNldCB8fCAhdGhpcy5fcGFuQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2Nyb2xsT2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFuRW5kVGltZXN0YW1wID0gbm93KCk7XG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdwYW5FbmQnLCB7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgb3JpZ2luOiB0aGlzLl9nZXRPcmlnaW4oKSxcbiAgICAgICAgICAgIGNlbnRlcjogdGhpcy5jZW50ZXIoKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfcGFuQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiBub3coKSAtICh0aGlzLl9wYW5FbmRUaW1lc3RhbXAgfHwgMCkgPiA1MDtcbiAgICB9XG5cbiAgICBfc2NhbGVTdGFydChlKSB7XG4gICAgICAgIGlmICh0aGlzLnRyaWdnZXIoJ3pvb21TdGFydCcsIHsgb3JpZ2luYWxFdmVudDogZSB9KSkge1xuICAgICAgICAgICAgbGV0IHRvdWNoID0gZS50b3VjaGVzWzFdO1xuXG4gICAgICAgICAgICBpZiAodG91Y2gpIHtcbiAgICAgICAgICAgICAgICB0b3VjaC5jYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zY2FsZShlKSB7XG4gICAgICAgIGxldCBzY2FsZSA9IHRoaXMuc2Nyb2xsZXIubW92YWJsZS5zY2FsZTtcbiAgICAgICAgbGV0IHpvb20gPSB0aGlzLl9zY2FsZVRvWm9vbShzY2FsZSk7XG4gICAgICAgIGxldCBnZXN0dXJlQ2VudGVyID0gbmV3IGcuUG9pbnQoZS5jZW50ZXIueCwgZS5jZW50ZXIueSk7XG4gICAgICAgIGxldCBjZW50ZXJMb2NhdGlvbiA9IHRoaXMudmlld1RvTG9jYXRpb24oZ2VzdHVyZUNlbnRlciwgem9vbSk7XG4gICAgICAgIGxldCBjZW50ZXJQb2ludCA9IHRoaXMubG9jYXRpb25Ub0xheWVyKGNlbnRlckxvY2F0aW9uLCB6b29tKTtcbiAgICAgICAgbGV0IG9yaWdpblBvaW50ID0gY2VudGVyUG9pbnQudHJhbnNsYXRlKC1nZXN0dXJlQ2VudGVyLngsIC1nZXN0dXJlQ2VudGVyLnkpO1xuXG4gICAgICAgIHRoaXMuX3pvb21Bcm91bmQob3JpZ2luUG9pbnQsIHpvb20pO1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcignem9vbUVuZCcsIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3NjYWxlVG9ab29tKHNjYWxlRGVsdGEpIHtcbiAgICAgICAgbGV0IHNjYWxlID0gdGhpcy5fbGF5ZXJTaXplKCkgKiBzY2FsZURlbHRhO1xuICAgICAgICBsZXQgdGlsZXMgPSBzY2FsZSAvIHRoaXMub3B0aW9ucy5taW5TaXplO1xuICAgICAgICBsZXQgem9vbSA9IG1hdGgubG9nKHRpbGVzKSAvIG1hdGgubG9nKDIpO1xuXG4gICAgICAgIHJldHVybiBtYXRoLnJvdW5kKHpvb20pO1xuICAgIH1cblxuICAgIF9yZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRpb24uZmlsdGVyKHRoaXMuY2VudGVyKCksIHRoaXMuem9vbSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZpZXdPcmlnaW4gPSB0aGlzLl9nZXRPcmlnaW4odHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRTY3JvbGxlcigpO1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcignYmVmb3JlUmVzZXQnKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZXNldCcpO1xuICAgIH1cblxuICAgIF9yZXNldFNjcm9sbGVyKCkge1xuICAgICAgICBsZXQgc2Nyb2xsZXIgPSB0aGlzLnNjcm9sbGVyO1xuICAgICAgICBsZXQgeCA9IHNjcm9sbGVyLmRpbWVuc2lvbnMueDtcbiAgICAgICAgbGV0IHkgPSBzY3JvbGxlci5kaW1lbnNpb25zLnk7XG4gICAgICAgIGxldCBzY2FsZSA9IHRoaXMuX2xheWVyU2l6ZSgpO1xuICAgICAgICBsZXQgbncgPSB0aGlzLmV4dGVudCgpLm53O1xuICAgICAgICBsZXQgdG9wTGVmdCA9IHRoaXMubG9jYXRpb25Ub0xheWVyKG53KS5yb3VuZCgpO1xuXG4gICAgICAgIHNjcm9sbGVyLm1vdmFibGUucm91bmQgPSB0cnVlO1xuICAgICAgICBzY3JvbGxlci5yZXNldCgpO1xuICAgICAgICBzY3JvbGxlci51c2VyRXZlbnRzLmNhbmNlbCgpO1xuXG4gICAgICAgIGxldCB6b29tID0gdGhpcy56b29tKCk7XG5cbiAgICAgICAgc2Nyb2xsZXIuZGltZW5zaW9ucy5mb3JjZWRNaW5TY2FsZSA9IHBvdygyLCB0aGlzLm9wdGlvbnMubWluWm9vbSAtIHpvb20pO1xuICAgICAgICBzY3JvbGxlci5kaW1lbnNpb25zLm1heFNjYWxlID0gcG93KDIsIHRoaXMub3B0aW9ucy5tYXhab29tIC0gem9vbSk7XG5cbiAgICAgICAgbGV0IHhCb3VuZHMgPSB7XG4gICAgICAgICAgICBtaW46IC10b3BMZWZ0LngsXG4gICAgICAgICAgICBtYXg6IHNjYWxlIC0gdG9wTGVmdC54XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHlCb3VuZHMgPSB7XG4gICAgICAgICAgICBtaW46IC10b3BMZWZ0LnksXG4gICAgICAgICAgICBtYXg6IHNjYWxlIC0gdG9wTGVmdC55XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53cmFwYXJvdW5kKSB7XG4gICAgICAgICAgICB4Qm91bmRzLm1heCA9IDIwICogc2NhbGU7XG4gICAgICAgICAgICB4Qm91bmRzLm1pbiA9IC14Qm91bmRzLm1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFubmFibGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBsZXQgdmlld1NpemUgPSB0aGlzLnZpZXdTaXplKCk7XG4gICAgICAgICAgICB4Qm91bmRzLm1pbiA9IHlCb3VuZHMubWluID0gMDtcbiAgICAgICAgICAgIHhCb3VuZHMubWF4ID0gdmlld1NpemUud2lkdGg7XG4gICAgICAgICAgICB5Qm91bmRzLm1heCA9IHZpZXdTaXplLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHgubWFrZVZpcnR1YWwoKTtcbiAgICAgICAgeS5tYWtlVmlydHVhbCgpO1xuXG4gICAgICAgIHgudmlydHVhbFNpemUoeEJvdW5kcy5taW4sIHhCb3VuZHMubWF4KTtcbiAgICAgICAgeS52aXJ0dWFsU2l6ZSh5Qm91bmRzLm1pbiwgeUJvdW5kcy5tYXgpO1xuXG4gICAgICAgIHRoaXMuX3ZpcnR1YWxTaXplID0ge1xuICAgICAgICAgICAgeDogeEJvdW5kcyxcbiAgICAgICAgICAgIHk6IHlCb3VuZHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBrZXB0IGZvciBBUEkgY29tcGF0aWJpbGl0eSwgbm90IHVzZWRcbiAgICBfcmVuZGVyTGF5ZXJzKCkge1xuICAgIH1cblxuICAgIF9sYXllclNpemUoem9vbSkge1xuICAgICAgICBjb25zdCBuZXdab29tID0gdmFsdWVPckRlZmF1bHQoem9vbSwgdGhpcy5vcHRpb25zLnpvb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLm1pblNpemUgKiBwb3coMiwgbmV3Wm9vbSk7XG4gICAgfVxuXG4gICAgX3RhcChlKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGFuQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnNvciA9IHRoaXMuZXZlbnRPZmZzZXQoZSk7XG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjbGljaycsIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICBsb2NhdGlvbjogdGhpcy52aWV3VG9Mb2NhdGlvbihjdXJzb3IpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9kb3VibGVUYXAoZSkge1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAob3B0aW9ucy56b29tYWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy50cmlnZ2VyKCd6b29tU3RhcnQnLCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9ab29tID0gdGhpcy56b29tKCkgKyBERUZBVUxUX1pPT01fUkFURTtcbiAgICAgICAgICAgICAgICBsZXQgY3Vyc29yID0gdGhpcy5ldmVudE9mZnNldChlKTtcbiAgICAgICAgICAgICAgICBsZXQgbG9jYXRpb24gPSB0aGlzLnZpZXdUb0xvY2F0aW9uKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgbGV0IHBvc3Rab29tID0gdGhpcy5sb2NhdGlvblRvTGF5ZXIobG9jYXRpb24sIHRvWm9vbSk7XG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbiA9IHBvc3Rab29tLnRyYW5zbGF0ZSgtY3Vyc29yLngsIC1jdXJzb3IueSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl96b29tQXJvdW5kKG9yaWdpbiwgdG9ab29tKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcignem9vbUVuZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21vdXNld2hlZWwoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBkZWx0YSA9IG1vdXNld2hlZWxEZWx0YShlKSA+IDAgPyAtMSA6IDE7XG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgZnJvbVpvb20gPSB0aGlzLnpvb20oKTtcbiAgICAgICAgbGV0IHRvWm9vbSA9IGxpbWl0VmFsdWUoZnJvbVpvb20gKyBkZWx0YSwgb3B0aW9ucy5taW5ab29tLCBvcHRpb25zLm1heFpvb20pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnpvb21hYmxlICE9PSBmYWxzZSAmJiB0b1pvb20gIT09IGZyb21ab29tKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJpZ2dlcignem9vbVN0YXJ0JywgeyBvcmlnaW5hbEV2ZW50OiBlIH0pKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnNvciA9IHRoaXMuZXZlbnRPZmZzZXQoZSk7XG4gICAgICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gdGhpcy52aWV3VG9Mb2NhdGlvbihjdXJzb3IpO1xuICAgICAgICAgICAgICAgIGxldCBwb3N0Wm9vbSA9IHRoaXMubG9jYXRpb25Ub0xheWVyKGxvY2F0aW9uLCB0b1pvb20pO1xuICAgICAgICAgICAgICAgIGxldCBvcmlnaW4gPSBwb3N0Wm9vbS50cmFuc2xhdGUoLWN1cnNvci54LCAtY3Vyc29yLnkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fem9vbUFyb3VuZChvcmlnaW4sIHRvWm9vbSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3pvb21FbmQnLCB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTWFwLCB7XG4gICAgbmFtZTogJ01hcCcsXG4gICAgY29udHJvbHM6IHtcbiAgICAgICAgYXR0cmlidXRpb246IHRydWUsXG4gICAgICAgIG5hdmlnYXRvcjoge1xuICAgICAgICAgICAgcGFuU3RlcDogMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHpvb206IHRydWVcbiAgICB9LFxuICAgIGxheWVyczogW10sXG4gICAgbGF5ZXJEZWZhdWx0czoge1xuICAgICAgICBzaGFwZToge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNhYWEnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMC41XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBidWJibGU6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNhYWEnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMC41XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtYXJrZXI6IHtcbiAgICAgICAgICAgIHNoYXBlOiAncGluVGFyZ2V0JyxcbiAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2VudGVyOiBbXG4gICAgICAgIDAsXG4gICAgICAgIDBcbiAgICBdLFxuICAgIHpvb206IDMsXG4gICAgbWluU2l6ZTogMjU2LFxuICAgIG1pblpvb206IDEsXG4gICAgbWF4Wm9vbTogMTksXG4gICAgbWFya2VyczogW10sXG4gICAgbWFya2VyRGVmYXVsdHM6IHtcbiAgICAgICAgc2hhcGU6ICdwaW5UYXJnZXQnLFxuICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCdcbiAgICAgICAgfVxuICAgIH0sXG4gICAgd3JhcGFyb3VuZDogdHJ1ZSxcbiAgICAvLyBJZiBzZXQgdG8gdHJ1ZSwgR2VvSlNPTiBsYXllciBcIlBvaW50XCIgZmVhdHVyZXMgd2lsbCBiZSByZW5kZXJlZCBhcyBtYXJrZXJzLlxuICAgIC8vIE90aGVyd2lzZSwgdGhlIHBvaW50cyB3aWxsIGJlIHJlbmRlcmVkIGFzIGNpcmNsZXMuXG4gICAgLy8gRGVmYXVsdHMgdG8gYHRydWVgIGZvciBLVUkvalF1ZXJ5LCBgZmFsc2VgIGV2ZXJ5d2hlcmUgZWxzZS5cbiAgICByZW5kZXJQb2ludHNBc01hcmtlcnM6IGZhbHNlXG59KTtcblxuc2V0RGVmYXVsdEV2ZW50cyhNYXAsIFtcbiAgICAnYmVmb3JlUmVzZXQnLFxuICAgICdjbGljaycsXG4gICAgJ21hcmtlckFjdGl2YXRlJyxcbiAgICAnbWFya2VyQ2xpY2snLFxuICAgICdtYXJrZXJDcmVhdGVkJyxcblxuICAgIC8vIEV2ZW50cyBmb3IgaW1wbGVtZW50aW5nIGN1c3RvbSB0b29sdGlwcy5cbiAgICAnbWFya2VyTW91c2VFbnRlcicsXG4gICAgJ21hcmtlck1vdXNlTGVhdmUnLFxuXG4gICAgJ3BhbicsXG4gICAgJ3BhbkVuZCcsXG4gICAgJ3Jlc2V0JyxcbiAgICAnc2hhcGVDbGljaycsXG4gICAgJ3NoYXBlQ3JlYXRlZCcsXG4gICAgJ3NoYXBlRmVhdHVyZUNyZWF0ZWQnLFxuICAgICdzaGFwZU1vdXNlRW50ZXInLFxuICAgICdzaGFwZU1vdXNlTGVhdmUnLFxuICAgICd6b29tRW5kJyxcbiAgICAnem9vbVN0YXJ0J1xuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hcDtcbiIsImNvbnN0IEJBUl9HQVAgPSAxLjU7XG5jb25zdCBCQVJfU1BBQ0lORyA9IDAuNDtcbmNvbnN0IEJMQUNLID0gJyMwMDAnO1xuY29uc3QgU0FOUyA9ICdBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJztcbmNvbnN0IFNBTlMxMSA9IFwiMTFweCBcIiArIFNBTlM7XG5jb25zdCBTQU5TMTIgPSAnMTJweCAnICsgU0FOUztcbmNvbnN0IFNBTlMxNiA9ICcxNnB4ICcgKyBTQU5TO1xuY29uc3QgVFJBTlNQQVJFTlQgPSAndHJhbnNwYXJlbnQnO1xuY29uc3QgV0hJVEUgPSAnI2ZmZic7XG5cbmNvbnN0IG5vdGVzID0gKCkgPT4gKHtcbiAgICBpY29uOiB7XG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDFcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgICAgZm9udDogU0FOUzEyLFxuICAgICAgICBwYWRkaW5nOiAzXG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIGxlbmd0aDogMTAsXG4gICAgICAgIHdpZHRoOiAyXG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuY29uc3QgYXhpc0RlZmF1bHRzID0gKCkgPT4gKHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZm9udDogU0FOUzEyXG4gICAgfSxcbiAgICBub3Rlczogbm90ZXMoKSxcbiAgICB0aXRsZToge1xuICAgICAgICBmb250OiBTQU5TMTYsXG4gICAgICAgIG1hcmdpbjogNVxuICAgIH1cbn0pO1xuXG5jb25zdCBhcmVhU2VyaWVzID0gKCkgPT4gKHtcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgYm9yZGVyOiB7fVxuICAgICAgICB9XG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHdpZHRoOiAwXG4gICAgfSxcbiAgICBtYXJrZXJzOiB7XG4gICAgICAgIHNpemU6IDYsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICBvcGFjaXR5OiAwLjRcbn0pO1xuXG5jb25zdCByYW5nZUFyZWFTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICBib3JkZXI6IHt9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIG1hcmtlcnM6IHtcbiAgICAgICAgc2l6ZTogNixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9LFxuICAgIG9wYWNpdHk6IDAuNFxufSk7XG5cbmNvbnN0IGJhclNlcmllcyA9ICgpID0+ICh7XG4gICAgZ2FwOiBCQVJfR0FQLFxuICAgIHNwYWNpbmc6IEJBUl9TUEFDSU5HXG59KTtcblxuY29uc3QgYm94UGxvdFNlcmllcyA9ICgpID0+ICh7XG4gICAgb3V0bGllcnNGaWVsZDogXCJcIixcbiAgICBtZWFuRmllbGQ6IFwiXCIsXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIF9icmlnaHRuZXNzOiAwLjgsXG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBkb3duQ29sb3I6IFdISVRFLFxuICAgIGdhcDogMSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfSxcbiAgICAgICAgd2hpc2tlcnM6IHtcbiAgICAgICAgICAgIHdpZHRoOiAzXG4gICAgICAgIH0sXG4gICAgICAgIG1lYW46IHtcbiAgICAgICAgICAgIHdpZHRoOiAyXG4gICAgICAgIH0sXG4gICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWVhbjoge1xuICAgICAgICB3aWR0aDogMlxuICAgIH0sXG4gICAgbWVkaWFuOiB7XG4gICAgICAgIHdpZHRoOiAyXG4gICAgfSxcbiAgICBzcGFjaW5nOiAwLjMsXG4gICAgd2hpc2tlcnM6IHtcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9XG59KTtcblxuY29uc3QgYnViYmxlU2VyaWVzID0gKCkgPT4gKHtcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBUUkFOU1BBUkVOVFxuICAgIH0sXG4gICAgb3BhY2l0eTogMC42XG59KTtcblxuY29uc3QgYnVsbGV0U2VyaWVzID0gKCkgPT4gKHtcbiAgICBnYXA6IEJBUl9HQVAsXG4gICAgc3BhY2luZzogQkFSX1NQQUNJTkcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICAgIGNvbG9yOiBcIiNmZjAwMDBcIlxuICAgIH1cbn0pO1xuXG5jb25zdCBjYW5kbGVzdGlja1NlcmllcyA9ICgpID0+ICh7XG4gICAgYm9yZGVyOiB7XG4gICAgICAgIF9icmlnaHRuZXNzOiAwLjgsXG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBkb3duQ29sb3I6IFdISVRFLFxuICAgIGdhcDogMSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfSxcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBzcGFjaW5nOiAwLjNcbn0pO1xuXG5jb25zdCBjb2x1bW5TZXJpZXMgPSAoKSA9PiAoe1xuICAgIGdhcDogQkFSX0dBUCxcbiAgICBzcGFjaW5nOiBCQVJfU1BBQ0lOR1xufSk7XG5cbmNvbnN0IGRvbnV0U2VyaWVzID0gKCkgPT4gKHtcbiAgICBtYXJnaW46IDFcbn0pO1xuXG5jb25zdCBsaW5lU2VyaWVzID0gKCkgPT4gKHtcbiAgICB3aWR0aDogMlxufSk7XG5cbmNvbnN0IG9obGNTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGdhcDogMSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHdpZHRoOiAzXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIHNwYWNpbmc6IDAuM1xufSk7XG5cbmNvbnN0IHJhZGFyQXJlYVNlcmllcyA9ICgpID0+ICh7XG4gICAgbGluZToge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB3aWR0aDogMFxuICAgIH0sXG4gICAgbWFya2Vyczoge1xuICAgICAgICBzaXplOiA2LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgb3BhY2l0eTogMC41XG59KTtcblxuY29uc3QgcmFkYXJMaW5lU2VyaWVzID0gKCkgPT4gKHtcbiAgICBtYXJrZXJzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICB3aWR0aDogMlxufSk7XG5cbmNvbnN0IHJhbmdlQmFyU2VyaWVzID0gKCkgPT4gKHtcbiAgICBnYXA6IEJBUl9HQVAsXG4gICAgc3BhY2luZzogQkFSX1NQQUNJTkdcbn0pO1xuXG5jb25zdCByYW5nZUNvbHVtblNlcmllcyA9ICgpID0+ICh7XG4gICAgZ2FwOiBCQVJfR0FQLFxuICAgIHNwYWNpbmc6IEJBUl9TUEFDSU5HXG59KTtcblxuY29uc3Qgc2NhdHRlckxpbmVTZXJpZXMgPSAoKSA9PiAoe1xuICAgIHdpZHRoOiAxXG59KTtcblxuY29uc3Qgd2F0ZXJmYWxsU2VyaWVzID0gKCkgPT4gKHtcbiAgICBnYXA6IDAuNSxcbiAgICBsaW5lOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIHNwYWNpbmc6IEJBUl9TUEFDSU5HXG59KTtcblxuY29uc3QgcGllU2VyaWVzID0gKCkgPT4gKHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJycsXG4gICAgICAgIGNvbG9yOiAnJyxcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgdG9wOiA1LFxuICAgICAgICAgICAgYm90dG9tOiA1LFxuICAgICAgICAgICAgbGVmdDogNyxcbiAgICAgICAgICAgIHJpZ2h0OiA3XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuY29uc3QgZnVubmVsU2VyaWVzID0gKCkgPT4gKHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJycsXG4gICAgICAgIGNvbG9yOiAnJyxcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgdG9wOiA1LFxuICAgICAgICAgICAgYm90dG9tOiA1LFxuICAgICAgICAgICAgbGVmdDogNyxcbiAgICAgICAgICAgIHJpZ2h0OiA3XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuY29uc3QgaGVhdG1hcFNlcmllcyA9ICgpID0+ICh7XG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGNvbG9yOiAnJyxcbiAgICAgICAgYmFja2dyb3VuZDogVFJBTlNQQVJFTlQsXG4gICAgICAgIHZpc2libGU6IHRydWVcbiAgICB9LFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAwXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuY29uc3Qgc2VyaWVzRGVmYXVsdHMgPSAob3B0aW9ucykgPT4gKHtcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIGxhYmVsczoge1xuICAgICAgICBmb250OiBTQU5TMTFcbiAgICB9LFxuICAgIG92ZXJsYXk6IG9wdGlvbnMuZ3JhZGllbnRzID8ge30gOiB7XG4gICAgICAgIGdyYWRpZW50OiBcIm5vbmVcIlxuICAgIH0sXG4gICAgYXJlYTogYXJlYVNlcmllcygpLFxuICAgIHJhbmdlQXJlYTogcmFuZ2VBcmVhU2VyaWVzKCksXG4gICAgdmVydGljYWxSYW5nZUFyZWE6IHJhbmdlQXJlYVNlcmllcygpLFxuICAgIGJhcjogYmFyU2VyaWVzKCksXG4gICAgYm94UGxvdDogYm94UGxvdFNlcmllcygpLFxuICAgIGJ1YmJsZTogYnViYmxlU2VyaWVzKCksXG4gICAgYnVsbGV0OiBidWxsZXRTZXJpZXMoKSxcbiAgICBjYW5kbGVzdGljazogY2FuZGxlc3RpY2tTZXJpZXMoKSxcbiAgICBjb2x1bW46IGNvbHVtblNlcmllcygpLFxuICAgIGhlYXRtYXA6IGhlYXRtYXBTZXJpZXMoKSxcbiAgICBwaWU6IHBpZVNlcmllcygpLFxuICAgIGRvbnV0OiBkb251dFNlcmllcygpLFxuICAgIGZ1bm5lbDogZnVubmVsU2VyaWVzKCksXG4gICAgaG9yaXpvbnRhbFdhdGVyZmFsbDogd2F0ZXJmYWxsU2VyaWVzKCksXG4gICAgbGluZTogbGluZVNlcmllcygpLFxuICAgIG5vdGVzOiBub3RlcygpLFxuICAgIG9obGM6IG9obGNTZXJpZXMoKSxcbiAgICByYWRhckFyZWE6IHJhZGFyQXJlYVNlcmllcygpLFxuICAgIHJhZGFyTGluZTogcmFkYXJMaW5lU2VyaWVzKCksXG4gICAgcG9sYXJBcmVhOiByYWRhckFyZWFTZXJpZXMoKSxcbiAgICBwb2xhckxpbmU6IHJhZGFyTGluZVNlcmllcygpLFxuICAgIHJhbmdlQmFyOiByYW5nZUJhclNlcmllcygpLFxuICAgIHJhbmdlQ29sdW1uOiByYW5nZUNvbHVtblNlcmllcygpLFxuICAgIHNjYXR0ZXJMaW5lOiBzY2F0dGVyTGluZVNlcmllcygpLFxuICAgIHZlcnRpY2FsQXJlYTogYXJlYVNlcmllcygpLFxuICAgIHZlcnRpY2FsQm94UGxvdDogYm94UGxvdFNlcmllcygpLFxuICAgIHZlcnRpY2FsQnVsbGV0OiBidWxsZXRTZXJpZXMoKSxcbiAgICB2ZXJ0aWNhbExpbmU6IGxpbmVTZXJpZXMoKSxcbiAgICB3YXRlcmZhbGw6IHdhdGVyZmFsbFNlcmllcygpXG59KTtcblxuY29uc3QgdGl0bGUgPSAoKSA9PiAoe1xuICAgIGZvbnQ6IFNBTlMxNlxufSk7XG5cbmNvbnN0IGxlZ2VuZCA9ICgpID0+ICh7XG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGZvbnQ6IFNBTlMxMlxuICAgIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgYmFzZVRoZW1lID0gKG9wdGlvbnMgPSB7fSkgPT4gKHtcbiAgICBheGlzRGVmYXVsdHM6IGF4aXNEZWZhdWx0cygpLFxuICAgIGNhdGVnb3J5QXhpczoge1xuICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcbiAgICBuYXZpZ2F0b3I6IHtcbiAgICAgICAgcGFuZToge1xuICAgICAgICAgICAgaGVpZ2h0OiA5MCxcbiAgICAgICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgICAgICAgIHRvcDogMTBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWVzRGVmYXVsdHM6IHNlcmllc0RlZmF1bHRzKG9wdGlvbnMpLFxuICAgIHRpdGxlOiB0aXRsZSgpLFxuICAgIGxlZ2VuZDogbGVnZW5kKClcbn0pO1xuXG4iXSwibmFtZXMiOlsiY29uc3QiLCJsZXQiLCJkcmF3aW5nIiwiT0JKRUNUIiwiYXJndW1lbnRzIiwiZmllbGQiLCJ0aGlzIiwibWFwIiwic3VwcG9ydCIsImFwcGVuZCIsImJpbmRFdmVudHMiLCJlbGVtZW50U2l6ZSIsInVuYmluZEV2ZW50cyIsImxvZ1RvQ29uc29sZSIsImdlb21ldHJ5IiwiQ29sb3IiLCJzdXBlciIsIkNsYXNzIiwiZ2VvbSIsImRyYXciLCJjdXJyZW50IiwicHJvdG90eXBlQWNjZXNzb3JzIiwiaWR4IiwibGFzdCIsInBvc2l0aW9uIiwiaSIsIm92ZXJsYXBzIiwiTUlOX1ZBTFVFX1JBTkdFIiwiYXBwbHlEZWZhdWx0cyIsImF1dG9BeGlzTWF4IiwiYXV0b0F4aXNNaW4iLCJOdW1lcmljQXhpcyIsIkxvZ2FyaXRobWljQXhpcyIsInRhbmdlbnQiLCJjb250cm9sUG9pbnRzIiwiYnJvd3NlciIsImNhdGVnb3JpZXNDb3VudCIsInNlcmllc0l4IiwibGVuZ3RoIiwiYXhpcyIsImxpbmVCb3giLCJzZXJpZXNNaXNzaW5nVmFsdWVzIiwiaGFzVmFsdWUiLCJnZXR0ZXIiLCJwYW5lIiwicGFuZUlkIiwidmlzaWJsZSIsImFuY2hvciIsImFuY2hvckNyb3NzaW5ncyIsImN1cnJlbnRBeGlzIiwiY3VycmVudFBhbmUiLCJBVVRPIiwiZWxlbWVudE9mZnNldCIsImF4aXNQYW5lIiwidXBkYXRlQXhpc09wdGlvbnMiLCJjdXJyZW50U2VyaWVzIiwicGFyc2VDb2xvciIsInRocm90dGxlIiwicmFuZ2VzIiwiU2hhcmVkVG9vbHRpcCIsIkNoYXJ0U2hhcmVkVG9vbHRpcCIsImhpZGUiLCJzaG93IiwiY3JlYXRlRGl2IiwiWk9PTV9BQ0NFTEVSQVRJT04iLCJjbG9uZSIsImR1cmF0aW9uIiwiREVGQVVMVF9IRUlHSFQiLCJERUZBVUxUX1dJRFRIIiwiSU5TSURFIiwiTElORUFSIiwiT1VUU0lERSIsInBhZCIsIlBhdGgiLCJUZXh0IiwiZ2VvIiwidW5wYWQiLCJHcm91cCIsIlBvaW50IiwicmVuZGVyVGlja3MiLCJleHRlbmQiLCJudW1iZXJSZWdleCIsInZhbGlkYXRlIiwiZ2V0RGF0YUNvZGV3b3Jkc0NvdW50IiwiTlVNRVJJQyIsIkFMUEhBX05VTUVSSUMiLCJCWVRFIiwicm91bmQiLCJXR1M4NCIsIm1hdGgiLCJhdGFuIiwic2luIiwidGFuIiwicG93IiwibG9nIiwiZyIsImNvbnRhaW5zIiwiaXNTdHJpbmciLCJTVFJJTkciLCJwcmV2ZW50RGVmYXVsdCIsImV2ZW50TmFtZSIsIk5hdmlnYXRvciIsImNyZWF0ZUJ1dHRvbiIsIm1pbiIsInRlbXBsYXRlIiwiQ0hBTkdFIiwiUGFuZSIsInRyYW5zbGF0ZSIsImQiLCJTRUxFQ1QiLCJTVEFSVCIsIkVORCIsImFicyIsIkZSSUNUSU9OIiwiVkVMT0NJVFlfTVVMVElQTElFUiIsIk1PVVNFV0hFRUwiLCJkaXYiLCJCTEFDSyIsIldISVRFIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBT0EsSUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLEFBQU9BLElBQU0sZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7QUFDakQsQUFBT0EsSUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDO0FBQzVCLEFBQU9BLElBQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQztBQUMvQixBQUFPQSxJQUFNLE1BQU0sR0FBRyxRQUFRLENBQUM7QUFDL0IsQUFBT0EsSUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDO0FBQy9CLEFBQU9BLElBQU0sZUFBZSxHQUFHLENBQUMsQ0FBQztBQUNqQyxBQUFPQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUM7QUFDN0IsQUFBT0EsSUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDO0FBQzNCLEFBQU9BLElBQU0sWUFBWSxHQUFHLGlCQUFpQixDQUFDO0FBQzlDLEFBQU9BLElBQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQztBQUNsQyxBQUFPQSxJQUFNLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztBQUNwQyxBQUFPQSxJQUFNLGFBQWEsR0FBRyxHQUFHLENBQUM7QUFDakMsQUFBT0EsSUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLEFBQU9BLElBQU0sWUFBWSxHQUFHLFNBQVMsQ0FBQztBQUN0QyxBQUFPQSxJQUFNLE1BQU0sR0FBRyxRQUFRLENBQUM7QUFDL0IsQUFBT0EsSUFBTSxnQkFBZ0IsR0FBRyxHQUFHLENBQUM7QUFDcEMsQUFBT0EsSUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDO0FBQy9CLEFBQU9BLElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQztBQUMzQixBQUFPQSxJQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO0FBQzFDLEFB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QUFRLEVBQUU7UUFDYkMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3pCQSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDM0IsT0FBc0IsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQTNCLElBQUEsRUFBRTtRQUFLLElBQUEsRUFBRSxTQUFkOztRQUVORCxJQUFNLEVBQUUsR0FBRyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQy9DQSxJQUFNLEVBQUUsR0FBRyxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ25EQSxJQUFNLEVBQUUsR0FBRyxXQUFXLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3hEQSxJQUFNLEVBQUUsR0FBRyxXQUFXLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDOztRQUVwRCxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUUsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFD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QUFNLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9CQSxJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9CQSxJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9CQSxJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9CQSxJQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7SUFhakIsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQy9CLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMvQixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDL0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDOzs7SUFHL0IsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRTtRQUN0RCxLQUFLLENBQUMsQ0FB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QUVELEFBQWUsU0FBUyxTQUFTLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFO0lBQ3BFRCxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0JBLElBQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQ0MsSUFBSSxLQUFLLENBQUM7O0lBRVYsSUFBSSxRQUFRLEtBQUssTUFBTSxFQUFFO1FBQ3JCLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxTQUFTLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ2xHLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0tBQzdJLE1BQU0sSUFBSSxRQUFRLEtBQUssS0FBSyxFQUFFO1FBQzNCLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsU0FBUyxDQUFDLFdBQVcsRUFBRSxHQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDM0gsTUFBTSxJQUFJLFFBQVEsS0FBSyxJQUFJLElBQUksUUFBUSxLQUFLLEtBQUssRUFBRTtRQUNoRCxLQUFLLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FD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LEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtnQkFDM0MsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFO2dCQUMzQyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQzVDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDNUMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUM1QyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFO2FBQ2xDO1NBQ0osQ0FBQyxDQUFDO0tBQ04sQ0FBQTs7SUFFRCxpQkFBQSxTQUFTLHVCQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQzVCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztLQUMzQixDQUFBOztJQUVELGlCQUFBLGFBQWEsNkJBQUc7OztRQUNaaEYsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBQzNDQSxJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQy9CQSxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM3REMsSUFBSSxRQUFRLENBQUM7UUFDYkEsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQzs7UUFFMUIsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsRUFBRTtZQUN6QixNQUFNLElBQUksS0FBSyxDQUFDLENBQUEsaUVBQWdFLElBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQSxrQ0FBOEIsR0FBRSxTQUFTLFFBQUksQ0FBQyxDQUFDLENBQUM7U0FDaEo7O1FBRUQsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7O1FBRW5DLE9BQU8sUUFBUSxHQUFHLFdBQVcsSUFBSSxLQUFLLEdBQUcsUUFBUSxFQUFFO1lBQy9DLEtBQUssR0FBRyxVQUFVLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0MsUUFBUSxHQUFHSyxNQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3RDOztRQUVELElBQUksUUFBUSxHQUFHLFdBQVcsRUFBRTtZQUN4QkwsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDO1lBQ3BFLE1BQU0sSUFBSSxLQUFLLENBQUMsQ0FBQSwrREFBOEQsSUFBRSxJQUFJLENBQUMsS0FBSyxDQUFBLDBDQUFxQyxJQUFFLElBQUksQ0FBQyxLQUFLLENBQUEsV0FBTSxHQUFFLFFBQVEsUUFBSSxDQUFDLENBQUMsQ0FBQztTQUNySzs7UUFFRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwRixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7S0FDOUcsQ0FBQTs7SUFFRCxpQkFBQSxXQUFXLHlCQUFDLEtBQUssRUFBRTtRQUNmLE9BQU8sSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ2hELENBQUE7O0lBRUQsaUJBQUEsWUFBWSwwQkFBQyxLQUFLLEVBQUU7UUFDaEJELElBQU0sZUFBZSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxPQUFPLElBQUksQ0FBQyxlQUFlLEdBQUcsZUFBZSxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNqSCxDQUFBOztJQUVELGlCQUFBLFFBQVEsd0JBQUc7UUFDUCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztLQUMxQixDQUFBOztJQUVELGlCQUFBLE9BQU8scUJBQUMsU0FBUyxFQUFFO1FBQ2YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0tBQzFCLENBQUE7O0lBRUQsaUJBQUEsT0FBTyx1QkFBRztRQUNOLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDcEQsQ0FBQTs7SUFFRCxpQkFBQSxVQUFVLHdCQUFDLE9BQU8sRUFBRTs7O1FBQ2hCLEtBQUtDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNyQ0ssTUFBSSxDQUFDLGFBQWEsSUFBSUEsTUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakU7S0FDSixDQUFBOztJQUVELGlCQUFBLGVBQWUsK0JBQUc7UUFDZCxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztLQUM3RCxDQUFBOzs7RUF2SXVCLFVBd0kzQixHQUFBOztBQUVELGlCQUFpQixDQUFDLE1BQU0sRUFBRTtJQUN0QixXQUFXLEVBQUUsS0FBSztDQUNyQixDQUFDLENBQUM7O0FDckxJTixJQUFNLGtCQUFrQixHQUFHO0lBQzlCLFlBQVksdUJBQUEsQ0FBQyxTQUFTLEVBQUU7UUFDcEIsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQzlCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1NBQzlDLE1BQU0sSUFBSSxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRTtZQUN0QyxJQUFJLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDekMsTUFBTTtZQUNILElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzdDO0tBQ0o7O0lBRUQsV0FBVyxzQkFBQSxDQUFDLElBQUksRUFBRTs7O1FBQ2RDLElBQUksUUFBUSxDQUFDOztRQUViLEtBQUtBLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuRCxRQUFRLEdBQUdLLE1BQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUNBLE1BQUksRUFBRSxJQUFJLENBQUMsQ0FBQzs7WUFFckQsSUFBSSxRQUFRLEVBQUU7Z0JBQ1YsS0FBS0wsSUFBSSxZQUFZLEdBQUcsQ0FBQyxFQUFFLFlBQVksR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxFQUFFO29CQUN2RUQsSUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO29CQUN2Q00sTUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztpQkFDekI7O2dCQUVEQSxNQUFJLENBQUMsVUFBVSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2dCQUN2QyxPQUFPO2FBQ1Y7U0FDSjtLQUNKOztJQUVELGdCQUFnQixFQUFFO1FBQ2QsU0FBUyxJQUFJLEVBQUU7WUFDWCxJQUFJLEVBQUUsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsRUFBRTtnQkFDM0IsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzFHO1NBQ0o7UUFDRCxTQUFTLElBQUksRUFBRTtZQUNYLElBQUksRUFBRSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksRUFBRSxFQUFFO2dCQUMxQixPQUFPLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDMUc7U0FDSjtRQUNELFNBQVMsSUFBSSxFQUFFO1lBQ1gsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLEVBQUU7Z0JBQ3pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMxRztTQUNKO1FBQ0QsU0FBUyxJQUFJLEVBQUU7OztZQUNYTCxJQUFJLE1BQU0sQ0FBQztZQUNYQSxJQUFJLGFBQWEsQ0FBQzs7WUFFbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDL0IsYUFBYSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO2dCQUNsRSxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2hILE1BQU07Z0JBQ0gsTUFBTSxHQUFHLEVBQUUsQ0FBQzs7Z0JBRVosS0FBS0EsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUMxRCxNQUFNLENBQUMsSUFBSSxDQUFDSyxNQUFJLENBQUMsWUFBWSxDQUFDQSxNQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDeEQsTUFBTSxDQUFDLElBQUksQ0FBQ0EsTUFBSSxDQUFDLFlBQVksQ0FBQ0EsTUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDbkU7YUFDSjs7WUFFRCxPQUFPLE1BQU0sQ0FBQztTQUNqQjtLQUNKO0lBQ0QsaUJBQWlCLEVBQUU7UUFDZixHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUM7UUFDVixJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUM7UUFDWCxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUM7UUFDWCxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7S0FDOUI7SUFDRCxxQkFBcUIsRUFBRTtRQUNuQixJQUFJLEVBQUUsRUFBRTtRQUNSLElBQUksRUFBRSxFQUFFO1FBQ1IsSUFBSSxFQUFFLEVBQUU7UUFDUixJQUFJLEVBQUUsRUFBRTtLQUNYO0lBQ0QsWUFBWSxFQUFFO1FBQ1YsR0FBRyxFQUFFLEtBQUs7UUFDVixHQUFHLEVBQUUsS0FBSztRQUNWLEdBQUcsRUFBRSxLQUFLO1FBQ1YsR0FBRyxFQUFFLEtBQUs7S0FDYjtJQUNELGVBQWUsRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQztDQUM1RCxDQUFDOztBQUVGLEFBQU8sSUFBTSxjQUFjLEdBQWU7SUFBQzs7Ozs7Ozs7SUFBQSx5QkFDdkMsY0FBYyw4QkFBRztRQUNiVSxtQkFBSyxDQUFDLGNBQWMsS0FBQSxDQUFDLElBQUEsQ0FBQyxDQUFDOztRQUV2QixVQUFVLENBQUMsSUFBSSxFQUFFLGtCQUFrQixFQUFFO1lBQ2pDLElBQUksRUFBRSxrQkFBa0I7WUFDeEIsWUFBWSxFQUFFO2dCQUNWLE1BQU0sRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDL0MsTUFBTSxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUMvQyxNQUFNLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQy9DLE1BQU0sRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTthQUNsRDtTQUNKLENBQUMsQ0FBQztLQUNOLENBQUE7OztFQWIrQixNQWNuQyxHQUFBOztBQ3BHRGhCLElBQU1nRixRQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQzs7QUFFN0IsQUFBTyxJQUFNLE1BQU0sR0FBbUI7SUFBQzs7Ozs7Ozs7SUFBQSxpQkFDbkMsY0FBYyw4QkFBRztRQUNiaEUsdUJBQUssQ0FBQyxjQUFjLEtBQUEsQ0FBQyxJQUFBLENBQUMsQ0FBQzs7UUFFdkJnRSxRQUFNLENBQUMsSUFBSSxFQUFFO1lBQ1QsSUFBSSxFQUFFLFNBQVM7WUFDZixjQUFjLEVBQUUsRUFBRTtZQUNsQixjQUFjLEVBQUUsRUFBRTtZQUNsQixXQUFXLEVBQUUsRUFBRTtZQUNmLFlBQVksRUFBRTtnQkFDVixHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7Z0JBQ3hDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtnQkFDeEMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFO2dCQUN4QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7Z0JBQ3hDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtnQkFDeEMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFO2dCQUN4QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7Z0JBQ3hDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtnQkFDeEMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFO2dCQUN4QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7Z0JBQ3hDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQ3pDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQ3pDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQ3pDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQ3pDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQ3pDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQ3pDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQ3pDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7Z0JBQ3pDLEdBQUcsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtnQkFDekMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUs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RUFBRSxNQUFNO2dCQUM5RSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO2dCQUM5RSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO2dCQUM5RSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO2dCQUM5RSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO2dCQUM5RSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO2dCQUM5RSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO2dCQUM5RSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO2dCQUM5RSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPO2FBQzFEO1lBQ0QsSUFBSSxFQUFFLEdBQUc7U0FDWixDQUFDLENBQUM7S0FDTixDQUFBOztJQUVELHNCQUFBLFdBQVcsMkJBQUc7OztRQUNWLEtBQUsvRSxJQUFJLENBQUMsR0FBRyxD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QU0sR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDO2FBQzdDOztZQUVELFVBQVUsR0FBRyxNQUFNLENBQUM7WUFDcEJBLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNuRCxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RyxTQUFTLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUMsSUFBSUssTUFBSSxDQUFDLG9CQUFvQixDQUFDO1NBQ3JFOztRQUVETCxJQUFJLEVBQUUsR0FBRyxLQUFLLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNEQSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RUEsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxH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O0lBQ3RCLG1CQUFtQixFQUFFLGVBQWUsRUFBRTtJQUN0QyxJQUFJLEVBQUUsVUFBVSxFQUFFO0lBQ2xCLEtBQUssRUFBRSxLQUFLLEVBQUU7SUFDZCxJQUFJLEVBQUUsVUFBVSxFQUFFO0lBQ2xCLFNBQVMsRUFBRSxlQUFlLEVBQUU7SUFDNUIsU0FBUyxFQUFFLGVBQWUsRUFBRTtJQUM1QixTQUFTLEVBQUUsZUFBZSxFQUFFO0lBQzVCLFNBQVMsRUFBRSxlQUFlLEVBQUU7SUFDNUIsUUFBUSxFQUFFLGNBQWMsRUFBRTtJQUMxQixXQUFXLEVBQUUsaUJBQWlCLEVBQUU7SUFDaEMsV0FBVyxFQUFFLGlCQUFpQixFQUFFO0lBQ2hDLFlBQVksRUFBRSxVQUFVLEVBQUU7SUFDMUIsZUFBZSxFQUFFLGFBQWEsRUFBRTtJQUNoQyxjQUFjLEVBQUUsWUFBWSxFQUFFO0lBQzlCLFlBQVksRUFBRSxVQUFVLEVBQUU7SUFDMUIsU0FBUyxFQUFFLGVBQWUsRUFBRTtDQUMvQixDQUFDLEdBQUEsQ0FBQzs7QUFFSEEsSUFBTSxLQUFLLEdBQUcsWUFBRyxTQUFHLENBQUM7SUFDakIsSUFBSSxFQUFFLE1BQU07Q0FDZixDQUFDLEdBQUEsQ0FBQzs7QUFFSEEsSUFBTSxNQUFNLEdBQUcsWUFBRyxTQUFHLENBQUM7SUFDbEIsTUFBTSxFQUFFO1FBQ0osSUFBSSxFQUFFLE1BQU07S0FDZjtDQUNKLENBQUMsR0FBQSxDQUFDOztBQUVILEFBQU9BLElBQU0sU0FBUyxHQUFHLFVBQUMsT0FBWSxFQUFFO3FDQUFQLEdBQUcsRUFBRTs7V0FBSyxDQUFDO0lBQ3hDLFlBQVksRUFBRSxZQUFZLEVBQUU7SUFDNUIsWUFBWSxFQUFFO1FBQ1YsY0FBYyxFQUFFO1lBQ1osT0FBTyxFQUFFLElBQUk7U0FDaEI7S0FDSjtJQUNELFNBQVMsRUFBRTtRQUNQLElBQUksRUFBRTtZQUNGLE1BQU0sRUFBRSxFQUFFO1lBQ1YsTUFBTSxFQUFFO2dCQUNKLEdBQUcsRUFBRSxFQUFFO2FBQ1Y7U0FDSjtLQUNKO0lBQ0QsY0FBYyxFQUFFLGNBQWMsQ0FBQyxPQUFPLENBQUM7SUFDdkMsS0FBSyxFQUFFLEtBQUssRUFBRTtJQUNkLE1BQU0sRUFBRSxNQUFNLEVBQUU7Q0FDbkIsQ0FBQztDQUFBLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyJ9