{"ast":null,"code":"import { Class, addClass, deepExtend, defined } from '../../common';\nimport { Extent } from './../extent';\nimport { getSupportedFeatures } from '../utils';\nexport var Layer = function (Class) {\n  function Layer(map, options) {\n    Class.call(this);\n    this.support = getSupportedFeatures();\n\n    this._initOptions(options);\n\n    this.map = map;\n    var element = document.createElement(\"div\");\n    addClass(element, \"k-layer\");\n    element.style.zIndex = this.options.zIndex;\n    element.style.opacity = this.options.opacity;\n    this.element = element;\n    map.scrollElement.appendChild(this.element);\n    this._beforeReset = this._beforeReset.bind(this);\n    this._reset = this._reset.bind(this);\n    this._resize = this._resize.bind(this);\n    this._panEnd = this._panEnd.bind(this);\n\n    this._activate();\n\n    this._updateAttribution();\n  }\n\n  if (Class) Layer.__proto__ = Class;\n  Layer.prototype = Object.create(Class && Class.prototype);\n  Layer.prototype.constructor = Layer;\n\n  Layer.prototype.destroy = function destroy() {\n    this._deactivate();\n  };\n\n  Layer.prototype._initOptions = function _initOptions(options) {\n    this.options = deepExtend({}, this.options, options);\n  };\n\n  Layer.prototype.show = function show() {\n    this.reset();\n\n    this._activate();\n\n    this._applyExtent(true);\n  };\n\n  Layer.prototype.hide = function hide() {\n    this._deactivate();\n\n    this._setVisibility(false);\n  };\n\n  Layer.prototype.reset = function reset() {\n    this._beforeReset();\n\n    this._reset();\n  };\n\n  Layer.prototype._reset = function _reset() {\n    this._applyExtent();\n  };\n\n  Layer.prototype._beforeReset = function _beforeReset() {};\n\n  Layer.prototype._resize = function _resize() {};\n\n  Layer.prototype._panEnd = function _panEnd() {\n    this._applyExtent();\n  };\n\n  Layer.prototype._applyExtent = function _applyExtent() {\n    var options = this.options;\n    var zoom = this.map.zoom();\n    var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n    var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n    var extent = Extent.create(options.extent);\n    var inside = !extent || extent.overlaps(this.map.extent());\n\n    this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n  };\n\n  Layer.prototype._setVisibility = function _setVisibility(visible) {\n    this.element.style.display = visible ? '' : 'none';\n  };\n\n  Layer.prototype._activate = function _activate() {\n    var map = this.map;\n\n    this._deactivate();\n\n    map.bind('beforeReset', this._beforeReset);\n    map.bind('reset', this._reset);\n    map.bind('resize', this._resize);\n    map.bind('panEnd', this._panEnd);\n  };\n\n  Layer.prototype._deactivate = function _deactivate() {\n    var map = this.map;\n    map.unbind('beforeReset', this._beforeReset);\n    map.unbind('reset', this._reset);\n    map.unbind('resize', this._resize);\n    map.unbind('panEnd', this._panEnd);\n  };\n\n  Layer.prototype._updateAttribution = function _updateAttribution() {\n    var attribution = this.map.attribution;\n\n    if (attribution) {\n      attribution.add(this.options.attribution);\n    }\n  };\n\n  Layer.prototype._readData = function _readData() {\n    var data = this.options.data || [];\n    return data;\n  };\n\n  Layer.prototype._hasData = function _hasData() {\n    return this._data && this._data.length > 0;\n  };\n\n  return Layer;\n}(Class);","map":{"version":3,"sources":["/home/meryem/repos/Movie_Trend_Visualizer/client/node_modules/@progress/kendo-charts/dist/es/map/layers/layer.js"],"names":["Class","addClass","deepExtend","defined","Extent","getSupportedFeatures","Layer","map","options","call","support","_initOptions","element","document","createElement","style","zIndex","opacity","scrollElement","appendChild","_beforeReset","bind","_reset","_resize","_panEnd","_activate","_updateAttribution","__proto__","prototype","Object","create","constructor","destroy","_deactivate","show","reset","_applyExtent","hide","_setVisibility","zoom","matchMinZoom","minZoom","matchMaxZoom","maxZoom","extent","inside","overlaps","visible","display","unbind","attribution","add","_readData","data","_hasData","_data","length"],"mappings":"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","sourcesContent":["import {\n    Class,\n    addClass,\n    deepExtend,\n    defined\n} from '../../common';\n\nimport {\n    Extent\n} from './../extent';\n\nimport {\n    getSupportedFeatures\n} from '../utils';\n\nexport var Layer = (function (Class) {\n    function Layer(map, options) {\n        Class.call(this);\n\n        this.support = getSupportedFeatures();\n\n        this._initOptions(options);\n        this.map = map;\n\n        var element = document.createElement(\"div\");\n        addClass(element, \"k-layer\");\n        element.style.zIndex = this.options.zIndex;\n        element.style.opacity = this.options.opacity;\n\n        this.element = element;\n\n        map.scrollElement.appendChild(this.element);\n\n        this._beforeReset = this._beforeReset.bind(this);\n        this._reset = this._reset.bind(this);\n        this._resize = this._resize.bind(this);\n        this._panEnd = this._panEnd.bind(this);\n\n        this._activate();\n        this._updateAttribution();\n    }\n\n    if ( Class ) Layer.__proto__ = Class;\n    Layer.prototype = Object.create( Class && Class.prototype );\n    Layer.prototype.constructor = Layer;\n\n    Layer.prototype.destroy = function destroy () {\n        this._deactivate();\n    };\n\n    Layer.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Layer.prototype.show = function show () {\n        this.reset();\n        this._activate();\n        this._applyExtent(true);\n    };\n\n    Layer.prototype.hide = function hide () {\n        this._deactivate();\n        this._setVisibility(false);\n    };\n\n    Layer.prototype.reset = function reset () {\n        this._beforeReset();\n        this._reset();\n    };\n\n    Layer.prototype._reset = function _reset () {\n        this._applyExtent();\n    };\n\n    Layer.prototype._beforeReset = function _beforeReset () {\n\n    };\n\n    Layer.prototype._resize = function _resize () {\n\n    };\n\n    Layer.prototype._panEnd = function _panEnd () {\n        this._applyExtent();\n    };\n\n    Layer.prototype._applyExtent = function _applyExtent () {\n        var options = this.options;\n        var zoom = this.map.zoom();\n        var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n        var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n        var extent = Extent.create(options.extent);\n        var inside = !extent || extent.overlaps(this.map.extent());\n\n        this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n    };\n\n    Layer.prototype._setVisibility = function _setVisibility (visible) {\n        this.element.style.display = visible ? '' : 'none';\n    };\n\n    Layer.prototype._activate = function _activate () {\n        var map = this.map;\n\n        this._deactivate();\n\n        map.bind('beforeReset', this._beforeReset);\n        map.bind('reset', this._reset);\n        map.bind('resize', this._resize);\n        map.bind('panEnd', this._panEnd);\n    };\n\n    Layer.prototype._deactivate = function _deactivate () {\n        var map = this.map;\n\n        map.unbind('beforeReset', this._beforeReset);\n        map.unbind('reset', this._reset);\n        map.unbind('resize', this._resize);\n        map.unbind('panEnd', this._panEnd);\n    };\n\n    Layer.prototype._updateAttribution = function _updateAttribution () {\n        var attribution = this.map.attribution;\n\n        if (attribution) {\n            attribution.add(this.options.attribution);\n        }\n    };\n\n    Layer.prototype._readData = function _readData () {\n        var data = this.options.data || [];\n        return data;\n    };\n\n    Layer.prototype._hasData = function _hasData () {\n        return this._data && this._data.length > 0;\n    };\n\n    return Layer;\n}(Class));\n"]},"metadata":{},"sourceType":"module"}